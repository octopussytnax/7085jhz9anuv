{"version":3,"sources":["../../../../vendor/assets/javascripts/d3.v2.js","../../../../vendor/assets/javascripts/jquery.tipsy.js","../../../../vendor/assets/javascripts/moment.js","../../../../vendor/assets/javascripts/markdown.js","../../../../vendor/assets/javascripts/backbone-model-file-upload.js","../../../../vendor/assets/javascripts/datepicker.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.effects.core.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.effects.ui.blind.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.effects.ui.highlight.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.autocomplete.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.core.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.draggable.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.droppable.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.mouse.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.position.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.resizable.min.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.slider.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.sortable.js","../../../../vendor/assets/javascripts/jquery-ui/jquery.ui.widget.js","../../../../vendor/assets/javascripts/dropzone.js","../../../../vendor/assets/javascripts/dragster.js","../../../../lib/assets/javascripts/cartodb/old_common/video_player.js","../../../../lib/assets/javascripts/cartodb/old_common/dropdown_menu.js","../../../../lib/assets/javascripts/cartodb/old_common/error_stats.js","../../../../lib/assets/javascripts/cartodb/old_common/localStorage.js","../../../../lib/assets/javascripts/cartodb/old_common/tipsy_tooltip.js","../../../../lib/assets/javascripts/cartodb/old_common/utils.js","../../../../lib/assets/javascripts/cartodb/old_common/metrics.js","../../../../lib/assets/javascripts/cartodb/old_common/tabs.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/url.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/dashboard_vis_url.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/dashboard_datasets_url.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/dashboard_url.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/dataset_url.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/map_url.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/organization_url.js","../../../../lib/assets/javascripts/cartodb/old_common/urls/user_url.js"],"names":["d3_class","ctor","properties","key","Object","defineProperty","prototype","value","enumerable","e","d3_arrayCopy","pseudoarray","i","n","length","array","push","d3_arraySlice","Array","slice","call","d3_Map","d3_identity","d","d3_this","this","d3_true","d3_functor","v","d3_rebind","target","source","method","apply","arguments","d3_number","x","isNaN","d3_zipLength","d3_splitter","d3_collapse","s","replace","d3_range_integerScale","k","d3_dispatch","d3_dispatch_event","dispatch","event","l","z","listeners","on","listenerByName","name","listener","get","indexOf","concat","remove","set","d3_format_precision","p","Math","floor","log","pow","LN10","d3_format_typeDefault","d3_format_group","lastIndexOf","f","substring","t","reverse","join","d3_formatPrefix","abs","scale","symbol","d3_ease_clamp","d3_ease_reverse","d3_ease_reflect","d3_ease_identity","d3_ease_poly","d3_ease_sin","cos","PI","d3_ease_exp","d3_ease_circle","sqrt","d3_ease_elastic","a","asin","sin","d3_ease_back","d3_ease_bounce","d3_eventCancel","d3","stopPropagation","preventDefault","d3_eventSource","sourceEvent","d3_eventDispatch","of","thiz","argumentz","e1","e0","type","d3_interpolateByName","interpolateTransform","interpolate","d3_uninterpolateNumber","b","d3_uninterpolateClamp","max","min","d3_rgb","r","g","d3_Rgb","d3_rgb_hex","toString","d3_rgb_parse","format","rgb","hsl","m1","m2","exec","split","parseFloat","d3_rgb_parseNumber","d3_rgb_names","charAt","parseInt","d3_rgb_hsl","h","d3_hsl","c","round","d3_Hsl","d3_hsl_rgb","vv","d3_selection","groups","d3_arraySubclass","d3_selectionPrototype","d3_selection_selector","selector","d3_select","d3_selection_selectorAll","d3_selectAll","d3_selection_classed","classedAdd","classList","add","className","cb","baseVal","cv","re","lastIndex","test","classedRemove","classedFunction","RegExp","requote","node","contains","each","d3_selection_dataNode","data","__data__","d3_selection_filter","d3_selectMatches","d3_selection_sortComparator","comparator","ascending","d3_selection_each","callback","j","m","group","d3_selection_enter","selection","d3_selection_enterPrototype","d3_transition","id","time","d3_transitionPrototype","tweens","ease","d3_transitionEase","tween","d3_transition_each","timer","elapsed","start","lock","active","stop","forEach","tweened","tick","delay","duration","d3_transitionId","end","count","__transition__","d3_transitionNull","d3_transitionRemove","d3_transitionTween","transitionFunction","transitionString","d3_transitionDelay","d3_transitionDuration","d3_timer_step","now","Date","t1","d3_timer_queue","then","flush","next","d3_timer_flush","isFinite","clearTimeout","d3_timer_timeout","setTimeout","d3_timer_interval","d3_timer_frame","t0","Infinity","d3_transform","r0","r1","kx","d3_transformNormalize","kz","d3_transformDot","ky","d3_transformCombine","rotate","atan2","d3_transformDegrees","translate","skew","d3_mousePoint","container","svg","ownerSVGElement","createSVGPoint","point","d3_mouse_bug44083","window","scrollX","scrollY","select","document","body","append","style","ctm","getScreenCTM","pageX","y","pageY","clientX","clientY","matrixTransform","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","d3_scaleExtent","domain","d3_scaleRange","rangeExtent","range","d3_scale_nice","nice","dx","i0","i1","x0","x1","ceil","d3_scale_niceDefault","d3_scale_linear","clamp","rescale","linear","d3_scale_polylinear","d3_scale_bilinear","uninterpolate","output","input","invert","map","Number","rangeRound","interpolateRound","ticks","d3_scale_linearTicks","tickFormat","d3_scale_linearTickFormat","d3_scale_linearNice","copy","d3_scale_linearRebind","rebind","d3_scale_linearTickRange","extent","span","step","err","u","bisect","d3_scale_log","d3_scale_logn","d3_scale_logp","every","d3_scale_logFormat","d3_scale_pow","exponent","powp","d3_scale_powPow","powb","d3_scale_ordinal","ranger","index","steps","rangeBand","xi","has","rangePoints","padding","rangeBands","rangeRoundBands","error","d3_scale_quantile","q","thresholds","quantile","NaN","filter","sort","quantiles","d3_scale_quantize","d3_scale_identity","identity","d3_svg_arcInnerRadius","innerRadius","d3_svg_arcOuterRadius","outerRadius","d3_svg_arcStartAngle","startAngle","d3_svg_arcEndAngle","endAngle","d3_svg_line","projection","line","segment","segments","interpolator","points","tension","fx","fy","defined","d3_svg_lineX","d3_svg_lineY","d3_svg_lineInterpolatorDefault","d3_svg_lineLinear","_","d3_svg_lineInterpolators","path","d3_svg_lineStepBefore","d3_svg_lineStepAfter","d3_svg_lineCardinalOpen","d3_svg_lineHermite","d3_svg_lineCardinalTangents","d3_svg_lineCardinalClosed","d3_svg_lineCardinal","closed","tangents","quad","p0","pi","lp","p1","p2","d3_svg_lineBasis","y0","px","py","d3_svg_lineBasisBezier","shift","d3_svg_lineBasisOpen","d3_svg_lineDot4","d3_svg_lineBasisBezier3","d3_svg_lineBasisClosed","d3_svg_lineBundle","dy","d3_svg_lineBasisBezier1","d3_svg_lineBasisBezier2","d3_svg_lineSlope","d3_svg_lineFiniteDifferences","d3_svg_lineMonotoneTangents","d3_svg_lineMonotone","d3_svg_lineRadial","d3_svg_arcOffset","d3_svg_area","area","points1","L","points0","fx0","fy0","fx1","fy1","y1","d3_svg_chordSource","d3_svg_chordTarget","d3_svg_chordRadius","radius","d3_svg_diagonalProjection","d3_svg_diagonalRadialProjection","d3_svg_symbolSize","d3_svg_symbolType","d3_svg_symbolCircle","size","d3_svg_axisX","attr","d3_svg_axisY","d3_svg_axisSubdivide","subticks","d3_behavior_zoomDelta","d3_behavior_zoomDiv","parentNode","delta","scrollTop","dispatchEvent","wheelDelta","detail","d3_layout_bundlePath","link","lca","d3_layout_bundleLeastCommonAncestor","parent","splice","d3_layout_bundleAncestors","ancestors","aNodes","bNodes","aNode","pop","bNode","sharedNode","d3_layout_forceDragOver","fixed","d3_layout_forceDragOut","d3_layout_forceDragNode","d3_layout_forceDragEnd","d3_layout_forceDragForce","d3_layout_forceDrag","resume","d3_layout_forceAccumulate","alpha","charges","cx","cy","charge","leaf","nodes","random","pointCharge","d3_layout_forceLinkDistance","d3_layout_forceLinkStrength","d3_layout_stackX","d3_layout_stackY","d3_layout_stackOut","d3_layout_stackOrderDefault","d3_layout_stackOffsetZero","d3_layout_stackMaxIndex","d3_layout_stackReduceSum","reduce","d3_layout_stackSum","d3_layout_histogramBinSturges","values","d3_layout_histogramBinFixed","LN2","d3_layout_histogramRange","d3_layout_hierarchyRebind","object","hierarchy","links","d3_layout_hierarchyLinks","d3_layout_hierarchyInline","d3_layout_hierarchyChildren","children","d3_layout_hierarchyValue","d3_layout_hierarchySort","merge","child","d3_layout_packSort","d3_layout_packInsert","_pack_next","_pack_prev","d3_layout_packSplice","d3_layout_packIntersects","dr","d3_layout_packCircle","bound","xMin","xMax","yMin","yMax","d3_layout_packLink","d3_layout_packPlace","isect","s1","s2","cr","d3_layout_packUnlink","d3_layout_packTree","d3_layout_packTransform","db","da","dc","theta","acos","d3_layout_clusterY","d3_layout_clusterX","d3_layout_clusterLeft","d3_layout_clusterRight","d3_layout_treeSeparation","d3_layout_treeLeft","_tree","thread","d3_layout_treeRight","d3_layout_treeSearch","compare","d3_layout_treeRightmost","d3_layout_treeLeftmost","d3_layout_treeDeepest","depth","d3_layout_treeVisitAfter","visit","previousSibling","previousChild","d3_layout_treeShift","change","prelim","mod","d3_layout_treeMove","ancestor","number","d3_layout_treeAncestor","vim","d3_layout_treemapPadNull","d3_layout_treemapPad","d3_csv_formatRow","row","d3_csv_formatValue","text","d3_geo_type","types","defaultValue","hasOwnProperty","d3_path_circle","d3_geo_bounds","o","d3_geo_boundsTypes","d3_geo_boundsFeature","geometry","d3_geo_boundsFeatureCollection","features","d3_geo_boundsGeometryCollection","geometries","d3_geo_boundsLineString","coordinates","d3_geo_boundsMultiLineString","d3_geo_boundsMultiPolygon","d3_geo_boundsPoint","d3_geo_boundsPolygon","d3_geo_greatArcSource","d3_geo_greatArcTarget","d3_geo_greatArcInterpolator","B","A","kx0","kx1","ky0","ky1","sy0","sy1","d3_geo_radians","cy0","cy1","distance","cx0","sx0","cx1","sx1","d3_geo_greatArcInterpolate","d3_geom_contourStart","grid","d3_geom_hullCCW","i2","i3","d3_geom_polygonInside","d3_geom_polygonIntersect","x2","x3","x4","y2","y3","y4","x13","x21","x43","y13","y21","y43","ua","d3_voronoi_tessellate","vertices","Sites","list","bottomSite","EdgeList","leftEnd","rightEnd","init","createHalfEdge","unshift","edge","side","vertex","insert","lb","he","leftBound","Geom","rightOf","del","right","leftRegion","region","rightRegion","d3_voronoi_opposite","newEdge","ep","adx","ady","intersect","el1","el2","e2","el","xint","yint","e1r","e2r","rightOfSite","topsite","dyp","dxp","fast","above","dxs","yl","t2","t3","endPoint","site","EventQueue","offset","ystar","ls","empty","nextEvent","elem","extractMin","newIntStar","lbnd","rbnd","llbnd","rrbnd","bisector","bot","temp","pm","newSite","d3_geom_quadtreeNode","d3_geom_quadtreeVisit","sx","sy","d3_geom_quadtreePoint","d3_time_utc","UTC","d3_time_parse","date","template","string","charCodeAt","d3_time_parsers","d3_time_parseWeekdayAbbrev","d3_time_weekdayAbbrevRe","d3_time_parseWeekday","d3_time_weekdayRe","d3_time_parseMonthAbbrev","d3_time_monthAbbrevLookup","toLowerCase","d3_time_parseMonth","d3_time_monthRe","d3_time_monthLookup","d3_time_parseLocaleFull","d3_time_formats","d3_time_parseLocaleDate","d3_time_parseLocaleTime","X","d3_time_parseFullYear","d3_time_numberRe","d3_time_parseYear","d3_time_century","getFullYear","d3_time_parseMonthNumber","d3_time_parseDay","d3_time_parseHour24","H","d3_time_parseMinutes","M","d3_time_parseSeconds","S","d3_time_parseMilliseconds","d3_time_parseAmPm","d3_time_amPmLookup","d3_time_zone","getTimezoneOffset","zs","zh","zm","d3_time_zfill2","d3_time_formatIsoNative","toISOString","d3_time_interval","local","d0","d1","d3_time","dt","times","range_utc","utc","d3_time_interval_utc","d3_time_scale","methods","d3_time_scaleDate","d3_time_scaleExtent","d3_time_scaleSteps","year","d3_time_scaleFormat","formats","d3_time_scaleSetYear","setFullYear","d3_time_scaleGetYear","d3_time_scaleUTCSetYear","setUTCFullYear","d3_time_scaleUTCGetYear","getUTCFullYear","createElement","setProperty","d3_style_prototype","CSSStyleDeclaration","d3_style_setProperty","priority","version","d3_array","documentElement","childNodes","nodeType","__proto__","property","d3_map_prefix","keys","entries","d3_map_prefixCode","functor","descending","mean","undefined","median","normal","deviation","sum","transpose","matrix","zip","zips","lo","hi","mid","d3_bisector","bisectLeft","bisectRight","first","last","nest","rollup","sortValues","keyValue","valuesByKey","sortKey","sortKeys","order","permute","indexes","permutes","arrays","Error","d3_requote_re","xhr","url","mime","req","XMLHttpRequest","overrideMimeType","open","setRequestHeader","onreadystatechange","readyState","status","response","send","ready","responseText","json","JSON","parse","html","createRange","selectNode","createContextualFragment","xml","responseXML","d3_nsPrefix","xhtml","xlink","xmlns","ns","prefix","qualify","space","specifier","match","d3_format_re","fill","sign","zfill","width","comma","precision","suffix","integer","d3_format_types","negative","formatPrefix","toPrecision","toExponential","toFixed","d3_formatPrefixes","d3_ease_quad","d3_ease_cubic","d3_ease_default","d3_ease","poly","cubic","exp","circle","elastic","back","bounce","d3_ease_mode","in","out","in-out","out-in","interpolators","interpolateNumber","interpolateString","s0","d3_interpolate_number","transform","ta","tb","ra","rb","wa","wb","ka","kb","interpolateRgb","ar","ag","ab","br","bg","bb","interpolateHsl","h0","l0","h1","l1","interpolateArray","na","nb","n0","interpolateObject","brighter","darker","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","querySelector","querySelectorAll","d3_selectRoot","d3_selectMatcher","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","Sizzle","uniqueSort","d3_selectionRoot","subgroup","subnode","subgroups","selectAll","attrNull","removeAttribute","attrNullNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","classed","names","styleNull","removeProperty","styleConstant","styleFunction","getComputedStyle","getPropertyValue","propertyNull","propertyConstant","propertyFunction","textContent","innerHTML","appendChild","createElementNS","namespaceURI","appendNS","before","insertBefore","insertNS","removeChild","bind","groupData","nodeData","n1","updateNodes","enterNodes","exitNodes","nodeByKeyValue","keyValues","update","enter","exit","datum","nextSibling","capture","removeEventListener","$","addEventListener","transition","d3_transitionNextId","upgroup","d3_transitionDefaultDelay","d3_transitionDefaultDuration","d3_transitionDefaultEase","subnodes","attrTween","nameNS","attrTweenNS","styleTween","found","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","consolidate","mouse","navigator","userAgent","touches","touch","identifier","ordinal","category10","d3_category10","category20","d3_category20","category20b","d3_category20b","category20c","d3_category20c","quantize","arc","a0","a1","df","c0","c1","d3_svg_arcMax","centroid","step-before","step-after","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone","radial","angle","chord","equals","curve","self","diagonal","p3","projection_","d3_svg_symbols","cross","diamond","ry","d3_svg_symbolTan30","rx","square","triangle-down","d3_svg_symbolSqrt3","triangle-up","symbolTypes","axis","tickTransform","tickValues","tickArguments_","tickFormat_","String","tickSubdivide","subtick","subtickEnter","subtickExit","subtickUpdate","tickEnter","tickExit","tickUpdate","pathUpdate","scale1","scale0","__chart__","lineEnter","lineUpdate","textEnter","textUpdate","orient","tickMinorSize","tickMajorSize","tickPadding","tickEndSize","tickSize","brush","fg","tz","resizes","brushstart","d3_svg_brushCursor","redrawX","redrawY","redraw","changedTouches","keydown","keyCode","dragging","center","origin","keyup","brushmove","moved","altKey","resizingX","move1","resizingY","event_","mode","position","extentDomain","brushend","w","eventTarget","resizing","ex","ey","d3_svg_brushResizes","clear","nw","ne","se","sw","behavior","drag","mousedown","dragmove","dragend","origin_","click","zoom","mousewheel","mousemove","dblclick","touchstart","touchmove","location","scaleTo","scaleExtent","translateTo","mouseup","focus","translate0","shiftKey","touchtime","d3_behavior_zoomInfinity","layout","paths","relayout","groupSums","groupIndex","subgroupIndex","chords","sortGroups","sortSubgroups","di","dj","subindex","sortChords","resort","force","repulse","dn","dragstart","distances","strengths","friction","linkDistance","linkStrength","gravity","weight","geom","quadtree","dimension","neighbors","neighbor","partition","pie","d3_layout_pieSortByValue","arcs","stack","series","orders","offsets","d3_layout_stackOrders","d3_layout_stackOffsets","inside-out","sums","bottom","tops","bottoms","default","silhouette","wiggle","s3","o0","expand","zero","histogram","bin","bins","valuer","binner","frequency","recurse","childs","revalue","root","pack","cluster","previousNode","separation","tree","firstWalk","firstChild","apportion","midpoint","secondWalk","vip","vop","vom","sip","sop","sim","som","deep","treemap","squarify","score","pad","remaining","best","worst","stickify","rmax","rmin","ratio","stickies","sticky","padFunction","padConstant","csv","header","parseRows","token","EOF","eol","EOL","rows","geo","azimuthal","cc","atan","sc","albers","lng0","C","reload","phi1","parallels","phi2","lat0","p0y","albersUsa","lon","lat","alaska","hawaii","puertoRico","lower48","dz","bonne","E","parallel","equirectangular","mercator","pointRadius","pointCircle","pathType","result","buffer","project","polygonArea","polygonCentroid","polygon","FeatureCollection","Feature","Point","MultiPoint","LineString","MultiLineString","subcoordinates","Polygon","MultiPolygon","subsubcoordinates","GeometryCollection","areaType","centroidType","bounds","feature","visible","radians","clip","clipped","resample","resamples","resampled","degrees","greatArc","clipType","create","greatCircle","contour","pdx","pdy","d3_geom_contourDx","d3_geom_contourDy","hull","sp","len","plen","subject","voronoi","polygons","v1","v2","delaunay","edges","triangles","insertChild","getDate","getUTCDate","getDay","getUTCDay","getHours","getUTCHours","getMilliseconds","getUTCMilliseconds","getMinutes","getUTCMinutes","getMonth","getUTCMonth","getSeconds","getUTCSeconds","getTime","valueOf","setDate","d3_time_prototype","setUTCDate","setDay","setUTCDay","setHours","setUTCHours","setMilliseconds","setUTCMilliseconds","setMinutes","setUTCMinutes","setMonth","setUTCMonth","setSeconds","setUTCSeconds","setTime","d3_time_zfill3","d3_time_zfill4","d3_time_sfill2","d3_time_weekdays","d3_time_months","I","dayOfYear","U","sundayOfYear","W","mondayOfYear","Y","Z","%","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","january","february","march","april","june","july","august","september","october","november","december","am","d3_time_formatIso","iso","second","seconds","minute","minutes","hour","timezone","hours","day","days","interval","week","sunday","weeks","weekOfYear","month","months","years","d3_time_scaleLocalMethods","d3_time_scaleLocalFormats","d3_time_scaleLinear","d3_time_scaleLocalFormat","d3_time_scaleUTCMethods","d3_time_scaleUTCFormats","d3_time_scaleUTCFormat","maybeCall","thing","ctx","isElementInDOM","ele","Tipsy","element","options","$element","enabled","fixTitle","MOVE_OFFSET","show","title","getTitle","$tip","tip","find","css","visibility","display","prependTo","addClass","tp","pos","extend","height","actualWidth","offsetWidth","actualHeight","offsetHeight","mo","opacity","fade","animate","hide","$e","removeAttr","fallback","validate","enable","disable","toggleEnabled","fn","tipsy","elementOptions","hoverState","delayIn","leave","delayOut","defaults","live","trigger","binder","eventIn","eventOut","revalidate","pointee","metadata","autoNS","autoWE","scrollLeft","autoBounds","margin","prefer","dir","ew","boundTop","boundLeft","$this","jQuery","global","factory","exports","module","define","amd","moment","utils_hooks__hooks","hookCallback","setHookCallback","defaultParsingFlags","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","isArray","isDate","arr","res","hasOwnProp","create_utc__createUTC","locale","strict","createLocalOrUTC","valid__isValid","_isValid","_d","_pf","_strict","bigHour","valid__createInvalid","flags","copyConfig","to","from","prop","val","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","momentProperties","Moment","config","updateInProgress","updateOffset","isMoment","obj","toInt","argumentForCoercion","coercedNumber","compareArrays","array1","array2","dontConvert","lengthDiff","diffs","Locale","normalizeLocale","chooseLocale","loadLocale","oldLocale","locales","globalLocale","_abbr","require","locale_locales__getSetGlobalLocale","locale_locales__getLocale","defineLocale","abbr","addUnitAlias","unit","shorthand","lowerCase","aliases","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","makeGetSet","keepTime","get_set__set","get_set__get","mom","getSet","zeroFill","targetLength","forceSign","addFormatToken","padded","func","formatTokenFunctions","localeData","removeFormattingTokens","makeFormatFunction","formattingTokens","Function","formatMoment","isValid","expandFormat","formatFunctions","invalidDate","replaceLongDateFormatTokens","longDateFormat","localFormattingTokens","addRegexToken","regex","strictRegex","regexes","isStrict","getParseRegexForToken","unescapeFormat","matched","p4","addParseToken","tokens","addWeekParseToken","_w","addTimeToArrayFromToken","_a","daysInMonth","localeMonths","_months","localeMonthsShort","_monthsShort","localeMonthsParse","monthName","_monthsParse","_longMonthsParse","_shortMonthsParse","monthsShort","dayOfMonth","monthsParse","getSetMonth","getDaysInMonth","checkOverflow","MONTH","DATE","YEAR","HOUR","MINUTE","SECOND","MILLISECOND","_overflowDayOfYear","warn","msg","suppressDeprecationWarnings","console","deprecate","firstTime","deprecateSimple","deprecations","configFromISO","from_string__isoRegex","isoDates","isoTimes","matchOffset","configFromStringAndFormat","configFromString","aspNetJsonRegex","createFromInputFallback","createDate","ms","createUTCDate","daysInYear","isLeapYear","getIsLeapYear","firstDayOfWeek","firstDayOfWeekOfYear","adjustedMoment","daysToDayOfWeek","local__createLocal","localeWeek","_week","dow","doy","localeFirstDayOfWeek","localeFirstDayOfYear","getSetWeek","getSetISOWeek","dayOfYearFromWeeks","weekday","daysToAdd","getSetDayOfYear","clone","startOf","currentDateArray","_useUTC","configFromArray","currentDate","yearToUse","dayOfYearFromWeekInfo","_dayOfYear","_nextDay","weekYear","GG","gg","ISO_8601","parsedInput","skipped","stringLength","totalParsedInputLength","substr","meridiemFixWrap","_meridiem","meridiem","isPm","meridiemHour","isPM","configFromStringAndArray","tempConfig","bestMoment","scoreToBeat","currentScore","configFromObject","millisecond","createFromConfig","preparse","configFromInput","isUTC","pickBy","moments","args","Duration","quarters","quarter","milliseconds","_milliseconds","_days","_data","_bubble","isDuration","separator","utcOffset","offsetFromString","matches","chunk","parts","chunkOffset","cloneWithOffset","model","diff","getDateOffset","getSetOffset","keepLocalTime","localAdjust","_changeInProgress","add_subtract__addSubtract","create__createDuration","getSetZone","setOffsetToUTC","setOffsetToLocal","subtract","setOffsetToParsedOffset","hasAlignedHourOffset","isDaylightSavingTime","isDaylightSavingTimeShifted","other","toArray","isLocal","isUtcOffset","isUtc","ret","diffRes","aspNetRegex","create__isoRegex","parseIso","momentsDifference","inp","positiveMomentsDifference","base","isAfter","isBefore","createAdder","direction","period","dur","tmp","isAdding","moment_calendar__calendar","sod","calendar","inputMs","endOf","isBetween","isSame","absFloor","asFloat","that","zoneDelta","monthDiff","anchor2","adjust","wholeMonthDiff","anchor","moment_format__toISOString","toDate","inputString","defaultFormat","postformat","withoutSuffix","humanize","fromNow","newLocaleData","isoWeekday","to_type__valueOf","unix","moment_valid__isValid","parsingFlags","invalidAt","addWeekYearFormatToken","getter","weeksInYear","getSetWeekYear","getSetISOWeekYear","getISOWeeksInYear","getWeeksInYear","weekInfo","getSetQuarter","parseWeekday","weekdaysParse","localeWeekdays","_weekdays","localeWeekdaysShort","_weekdaysShort","localeWeekdaysMin","_weekdaysMin","localeWeekdaysParse","weekdayName","_weekdaysParse","weekdays","weekdaysShort","weekdaysMin","getSetDayOfWeek","getSetLocaleDayOfWeek","getSetISODayOfWeek","lowercase","matchMeridiem","_meridiemParse","localeIsPM","localeMeridiem","isLower","millisecond__milliseconds","getZoneAbbr","getZoneName","moment__createUnix","moment__createInZone","parseZone","locale_calendar__calendar","_calendar","_longDateFormat","toUpperCase","_invalidDate","_ordinal","preParsePostFormat","relative__relativeTime","isFuture","_relativeTime","pastFuture","locale_set__set","_ordinalParseLenient","_ordinalParse","lists__get","field","setter","lists__listMonths","lists__listMonthsShort","lists__listWeekdays","lists__listWeekdaysShort","lists__listWeekdaysMin","duration_abs__abs","mathAbs","duration_add_subtract__addSubtract","duration_add_subtract__add","duration_add_subtract__subtract","bubble","daysToYears","yearsToDays","as","duration_as__valueOf","makeAs","alias","duration_get__get","makeGetter","substituteTimeAgo","relativeTime","duration_humanize__relativeTime","posNegDuration","duration_humanize__getSetRelativeTimeThreshold","threshold","limit","withSuffix","iso_string__toISOString","iso_string__abs","D","total","asSeconds","match1","match2","match3","match4","match6","match1to2","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchTimestamp","matchWord","defaultLocaleMonths","defaultLocaleMonthsShort","parseTwoDigitYear","getSetYear","defaultLocaleWeek","prototypeMin","prototypeMax","add_subtract__add","add_subtract__subtract","lang","isoWeekYear","getSetDayOfMonth","invalidWeekday","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","_isPm","defaultLocaleMeridiemParse","getSetHour","getSetMinute","getSetSecond","getSetMillisecond","momentPrototype__proto","toJSON","isoWeek","isoWeeks","isoWeeksInYear","isDST","isDSTShifted","zoneAbbr","zoneName","dates","zone","momentPrototype","defaultCalendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","defaultLongDateFormat","LTS","LT","LL","LLL","LLLL","defaultInvalidDate","defaultOrdinal","defaultOrdinalParse","defaultRelativeTime","future","past","mm","hh","dd","MM","yy","prototype__proto","firstDayOfYear","ordinalParse","langData","asMilliseconds","asMinutes","asHours","asDays","asWeeks","asMonths","asYears","duration_get__milliseconds","duration_prototype__proto","toIsoString","invalid","relativeTimeThreshold","_moment","expose","mk_block_toSource","uneval","trailing","lineNumber","mk_block_inspect","util","inspect","count_lines","str","strong_em","tag","md","CloseTag","len_after","state_slot","other_slot","orig_match","state","processInline","consumed","split_meta_hash","meta_string","meta","in_quotes","letter","extract_attr","jsonml","escapeHTML","render_tree","attributes","content","tag_attrs","convert_tree_to_html","references","preprocessTreeNode","attrs","level","code","src","href","ref","original","merge_text_nodes","Markdown","dialect","dialects","Gruber","em_state","strong_state","debug_indent","toTree","toHTML","toHTMLTree","renderJsonML","refs","mk_block","block","trail","toSource","split_blocks","startLine","blocks","line_no","processBlock","cbs","ord","__order__","__call__","debug","inline","custom_root","old_tree","print","loop_re_over_block","atxHeader","setextHeader","block_search","horizRule","lists","regex_for_depth","indent_re","any_list","expand_tab","li","loose","nl","add_to","what","is_str","get_contained_blocks","paragraphify","last_li","sublist","bullet_list","is_list_re","make_list","indent","lines","li_accumulate","line_re","wanted_depth","contained","next_block","hr","blockquote","prev","abutting","processedBlock","isEmpty","referenceDefn","para","__oneElement__","patterns_or_re","previous_nodes","__patterns__","patterns","]","}","__escape__","\\","![","alt","[","orig","DialectHelpers","inline_until_char","open_parens","<","`","  \n","buildBlockOrder","buildInlinePatterns","pattern","want","subclassDialect","Block","Inline","Maruku","processMetaHash","document_meta","pairs","block_meta","hash","definition_list","tight","terms","defns","table","_split_on_unescaped","ch","leading_pipe","no_leading_pipe","html_attrs","align","trim","html_row","thisp","markdown","Backbone","_superClass","Model","BackboneModelFileUpload","fileAttribute","save","wait","_validate","mergedAttrs","formData","File","FileList","Blob","formAttrs","fileAttr","_flatten","FormData","file","processData","contentType","ajaxSettings","upload","_progressHandler","flatObject","lengthComputable","percentComplete","loaded","DatePicker","views","moths","tpl","wrapper","head","flat","starts","lastSel","view","calendars","eventName","onRender","onChange","onShow","onBeforeShow","onHide","daysShort","daysMin","weekMin","indic","indic2","tblCal","cal","currentCal","cnt","current","addMonths","eq","formatDate","tmpl","addDays","getWeekNumber","classname","fromUser","selected","inArray","disabled","parseDate","constructor","against","ir","getDayOfYear","part","sec","getDayName","getMonthName","extendDate","tempDate","fullName","getMaxDays","addYears","tmpDate","getFirstDay","dms","extraHeight","divs","extraWidth","tbl","ev","is","blur","hasClass","parentEl","tblEl","tblIndex","changed","fillIt","nr","dat","prepareDate","getViewport","compatMode","pageXOffset","pageYOffset","innerWidth","clientWidth","innerHeight","clientHeight","isChildOf","compareDocumentPosition","prEl","calEl","viewPort","curCSS","unbind","day1","day2","day3","day4","day5","day6","day7","appendTo","showPicker","hidePicker","shiftTo","formated","fixLayout","DatePickerHide","DatePickerShow","DatePickerSetDate","DatePickerGetDate","DatePickerClear","DatePickerLayout","cache","getElementById","effects","getRGB","color","colors","getColor","nodeName","getElementStyles","camelCase","defaultView","currentStyle","newStyle","all","filterStyles","styles","isFunction","shorthandStyles","styleDifference","oldStyle","_normalizeArguments","effect","speed","speeds","off","_default","complete","colorInit","transparent","classAnimationActions","border","borderBottom","borderColor","borderLeft","borderRight","borderTop","borderWidth","animateClass","easing","originalStyleAttr","originalStyle","action","cssText","_addClass","classNames","_removeClass","removeClass","_toggleClass","toggleClass","toggle","switchClass","restore","setMode","getBaseline","createWrapper","props","outerWidth","outerHeight","float","fontSize","background","wrap","zIndex","removeWrapper","replaceWith","setTransition","factor","cssUnit","args2","effectMethod","_show","_hide","__toggle","jswing","swing","def","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","blind","queue","animation","dequeue","highlight","backgroundColor","backgroundImage","support","requestIndex","widget","autoFocus","minLength","my","at","collision","pending","_create","suppressKeyPress","doc","ownerDocument","isMultiLine","role","aria-autocomplete","aria-haspopup","propAttr","ui","PAGE_UP","_move","PAGE_DOWN","UP","_keyEvent","DOWN","ENTER","NUMPAD_ENTER","menu","TAB","ESCAPE","term","close","searching","selectedItem","search","previous","closing","_change","_initSource","menuElement","closest","one","item","_trigger","originalEvent","activeElement","bgiframe","beforeunloadHandler","destroy","Widget","_setOption","abort","request","autocomplete","ajax","dataType","success","_search","_response","__response","_normalize","_suggest","deactivate","items","label","ul","_renderMenu","refresh","_resizeMenu","Event","_renderItem","keyEvent","escapeRegex","matcher","grep","aria-activedescendant","mouseenter","activate","mouseleave","hasScroll","scroll","elementHeight","move","prevAll","nextAll","nextPage","previousPage","focusable","isTabIndexNotNaN","img","mapName","parents","andSelf","expr","filters","hidden","ALT","BACKSPACE","CAPS_LOCK","COMMA","COMMAND","COMMAND_LEFT","COMMAND_RIGHT","CONTROL","DELETE","END","HOME","INSERT","LEFT","MENU","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PERIOD","RIGHT","SHIFT","SPACE","WINDOWS","_focus","scrollParent","browser","msie","disableSelection","selectstart","enableSelection","jquery","createPseudo","dataName","tabbable","tabIndex","isTabIndexNaN","div","minHeight","plugin","option","proto","plugins","instance","isOverAxis","reference","isOver","widgetEventPrefix","addClasses","connectToSortable","containment","cursor","cursorAt","handle","helper","iframeFix","refreshPositions","revert","revertDuration","scope","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","_mouseInit","removeData","_mouseDestroy","_mouseCapture","_getHandle","_mouseStart","_createHelper","_cacheHelperProportions","ddmanager","_cacheMargins","cssPosition","positionAbs","margins","_getParentOffset","relative","_getRelativeOffset","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","_mouseDrag","dragStart","noPropagation","_convertPositionTo","_uiHash","_mouseUp","_mouseStop","dropped","drop","elementInDom","dragStop","cancel","helperProportions","offsetParent","po","tagName","scrollHeight","ce","over","scrollWidth","relative_container","scrollIsRootNode","safari","co","cancelHelperRemoval","draggable","inst","uiSortable","sortables","sortable","shouldRevert","_helper","currentItem","_intersectsWith","containerCache","fromOutside","placeholder","_cursor","_opacity","overflowOffset","scrolled","snapElements","$t","$o","ts","bs","rs","snapping","snapItem","release","makeArray","_zIndex","accept","activeClass","greedy","hoverClass","tolerance","isover","isout","proportions","droppables","_activate","_deactivate","_over","_out","_drop","custom","childrenIntersection","not","droppable","toleranceMode","absolute","draggableLeft","clickOffset","draggableTop","droppablesLoop","greedyChild","intersects","parentInstance","mouseHandled","widgetName","_mouseDown","stopImmediatePropagation","started","_mouseMoveDelegate","_mouseUpDelegate","_mouseStarted","_mouseDownEvent","btnIsLeft","which","elIsCancel","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseMove","documentMode","button","horizontalPositions","verticalPositions","_position","targetWidth","targetHeight","basePosition","targetElem","collisionPosition","elemWidth","elemHeight","marginLeft","marginTop","collisionWidth","collisionHeight","fractions","using","fit","win","flip","myOffset","atOffset","setOffset","curElem","curOffset","curTop","curLeft","testElement","testElementParent","testElementStyle","offsetTotal","getElementsByTagName","alsoResize","animateDuration","animateEasing","aspectRatio","autoHide","ghost","handles","maxHeight","maxWidth","minWidth","_aspectRatio","originalElement","_proportionallyResizeElements","elementIsWrapper","marginRight","marginBottom","originalResizeStyle","_proportionallyResize","_renderAxis","_handles","mouseover","_destroy","insertAfter","documentScroll","_renderProxy","originalSize","sizeDiff","originalMousePosition","_propagate","_updateVirtualBoundaries","_updateRatio","_respectSize","_updateCache","_vBoundaries","borderDif","elementOffset","ie6","resize","containerElement","containerOffset","containerPosition","parentData","containerSize","numPages","orientation","existingHandles","handleCount","_keySliding","_mouseSliding","_animateOff","_handleIndex","_detectOrientation","_valueMin","hover","allowed","curVal","newVal","_start","_valueMax","_trimAlignValue","_slide","_stop","_refreshValue","normValue","closestHandle","mouseOverHandle","elementSize","_normValueFromMouse","thisDistance","_clickOffset","pixelTotal","pixelMouse","percentMouse","valueTotal","valueMouse","uiHash","otherVal","newValues","newValue","_value","vals","_values","valsLength","valModStep","alignValue","valPercent","lastValPercent","valueMin","valueMax","oRange","_set","slider","connectWith","dropOnEmpty","forcePlaceholderSize","forceHelperSize","floating","overrideHandle","reverting","_refreshItems","validHandle","_removeCurrentsFromItems","noActivation","currentContainer","domPosition","_createPlaceholder","_storedCursor","_storedOpacity","_storedZIndex","_preserveHelperProportions","containers","lastPositionAbs","itemElement","intersection","_intersectsWithPointer","_intersectsWithSides","_rearrange","_contactContainers","cur","_storedCSS","_noFinalSort","after","prepend","serialize","_getItemsAsjQuery","connected","attribute","expression","dyClick","dxClick","isOverElement","forcePointerForContainers","isOverElementHeight","isOverElementWidth","verticalDirection","_getDragVerticalDirection","horizontalDirection","_getDragHorizontalDirection","isOverBottomHalf","isOverRightHalf","_connectWith","queries","targetData","_queries","queriesLength","toleranceElement","refreshContainers","innermostContainer","innermostIndex","dist","itemWithLeastDistance","hardRefresh","counter","delayedTriggers","sender","cleanData","_cleanData","elems","triggerHandler","_remove","keepData","namespace","_createWidget","basePrototype","widgetBaseClass","bridge","isMethodCall","returnValue","methodValue","_init","_getCreateOptions","_setOptions","isDefaultPrevented","Dropzone","Emitter","camelize","contentLoaded","detectVerticalSquash","drawImageIOSFix","noop","without","__slice","__hasProp","__extends","__super__","_callbacks","emit","callbacks","_len","removeListener","removeAllListeners","_super","_ref","defaultOptions","previewTemplate","clickableElements","files","dropzone","instances","optionsForElement","forceFallback","isBrowserSupported","acceptedFiles","acceptedMimeTypes","getExistingFallback","previewsContainer","getElement","clickable","getElements","resolveOption","events","withCredentials","parallelUploads","uploadMultiple","maxFilesize","paramName","createImageThumbnails","maxThumbnailFilesize","thumbnailWidth","thumbnailHeight","filesizeBase","maxFiles","params","ignoreHiddenFiles","autoProcessQueue","autoQueue","addRemoveLinks","dictDefaultMessage","dictFallbackMessage","dictFallbackText","dictFileTooBig","dictInvalidFileType","dictResponseError","dictCancelUpload","dictCancelUploadConfirmation","dictRemoveFile","dictRemoveFileConfirmation","dictMaxFilesExceeded","done","messageElement","getFallbackForm","info","srcRatio","trgRatio","srcX","srcY","srcWidth","srcHeight","optWidth","optHeight","trgHeight","trgWidth","dragenter","dragover","dragleave","paste","reset","addedfile","removeFileEvent","removeLink","_j","_k","_len1","_len2","_ref1","_ref2","_results","previewElement","filesize","_removeLink","_this","UPLOADING","confirm","removeFile","removedfile","_updateMaxFilesReachedClass","thumbnail","dataUrl","thumbnailElement","message","errormultiple","processing","processingmultiple","uploadprogress","progress","bytesSent","totaluploadprogress","sending","sendingmultiple","successmultiple","canceled","canceledmultiple","completemultiple","maxfilesexceeded","maxfilesreached","queuecomplete","objects","getAcceptedFiles","accepted","getRejectedFiles","getFilesWithStatus","getQueuedFiles","QUEUED","getUploadingFiles","getActiveFiles","setupHiddenFileInput","hiddenFileInput","addFile","URL","webkitURL","updateTotalUploadProgress","efct","dataTransfer","effectAllowed","_error","dropEffect","clickableElement","evt","elementInside","removeAllFiles","activeFiles","totalBytes","totalBytesSent","totalUploadProgress","_getParamName","existingFallback","fields","fieldsString","form","getFallback","elements","setupEventListeners","elementListeners","_results1","removeEventListeners","cancelUpload","cutoff","selectedSize","selectedUnit","webkitGetAsEntry","_addFilesFromItems","handleFiles","clipboardData","entry","isFile","getAsFile","isDirectory","_addFilesFromDirectory","kind","directory","dirReader","entriesReader","createReader","fullPath","readEntries","isValidFile","ADDED","_enqueueThumbnail","_errorProcessing","enqueueFile","enqueueFiles","processQueue","_thumbnailQueue","_processingThumbnail","_processThumbnailQueue","createThumbnail","cancelIfNecessary","fileReader","FileReader","onload","createThumbnailFromUrl","readAsDataURL","imageUrl","canvas","resizeInfo","_ref3","getContext","trgX","trgY","toDataURL","onerror","processingLength","queuedFiles","processFiles","processFile","uploadFiles","_getFilesWithXhr","groupedFile","groupedFiles","CANCELED","uploadFile","handleError","headerName","headerValue","headers","inputName","inputType","progressObj","updateProgress","_len3","_m","_ref4","_ref5","allFilesFinished","getResponseHeader","_finished","onprogress","Accept","Cache-Control","X-Requested-With","hasAttribute","checked","SUCCESS","ERROR","forElement","autoDiscover","discover","checkElements","dropzones","blacklistedBrowsers","capableBrowser","rejectedItem","els","question","rejected","baseMimeType","mimeType","validType","ACCEPTED","PROCESSING","ih","iw","naturalWidth","naturalHeight","drawImage","getImageData","sh","dw","dh","vertSquashRatio","poll","pre","rem","doScroll","createEventObject","frameElement","_autoDiscoverFunction","Dragster","__bind","me","supportsEventConstructors","CustomEvent","bubbles","cancelable","removeListeners","cdb","admin","VideoModel","core","minimized","maximized","initialize","_initLocalStorage","videoData","_onChangeProperty","_onChangeMinimized","localStorage","video_id","_storeVideoID","_saveVideoData","currentVideo","clearStoredData","VideoPlayer","View","click .js-toggle","click .js-close","bindAll","templates","getTemplate","_initModel","render","clearSubViews","hasVideoData","$el","_onStopDragging","_onInitDraggable","video","_loadScript","getScript","_initVideoBinds","player","$f","addEvent","_seekToStoredPosition","dontHide","_removeVideoBinds","removeEvent","elHeight","elWidth","windowWidth","windowHeight","_mouseEnter","fadeIn","_mouseLeave","fadeOut","api","opts","killEvent","_onCloseAnimationFinished","_toggle","setHorizontalPosition","elLeft","setVerticalPosition","DropdownMenu","common","Dropdown","dfd","Deferred","delegateEvents","vertical_position","speedIn","resolve","promise","openAt","horizontal_position","isOpen","when","speedOut","ErrorStats","people","enable_logs","user_data","_setService","localStorageWrapper","getItem","searchTerm","wholeArray","setItem","stringify","removeItem","TipsyTooltip","_tipsyOpenedManually","_initTipsy","showTipsy","hideTipsy","_destroyTipsy","clean","Utils","stripHTML","tags","$0","$1","removeHTMLEvents","truncate","isURL","urlregex","encodeURLParams","urlParts","encodeURIComponent","readablizeBytes","bytes","isBlank","formatNumber","rgbToHex","componentToHex","hex","hexToRGB","genRandomPass","getRandomNum","rndNum","checkPunc","num","pass","randomLength","numI","fromCharCode","sanitizeString","readizableNumber","getFileExtension","getGetOrdinal","capitalize","isValidEmail","safeTableNameQuoting","table_name","Metrics","bindEvents","god","_setTrack","hubspot_token","_hsq","email","event_id","hubspot_ids","published_visualization","visited_dashboard","connect_dataset","create_map","export_table","export_map","select_wms","color_basemap","pattern_basemap","geocoding","visual_merge","common_data","cartocss_manually","wizard","query","logged_in","visited_dashboard_first_time","applied_pecan","open_pecan_list","Tabs","desactivate","getTab","disableAll","removeDisabled","_click","linkToPanel","panel","Url","base_url","urlToPath","byBaseUrl","pathname","_joinArgumentsWithSlashes","chain","flatten","compact","DashboardVisUrl","lockedItems","sharedItems","likedItems","DashboardDatasetsUrl","dataLibrary","DashboardUrl","datasets","maps","deepInsights","DatasetUrl","edit","public","MapUrl","OrganizationUrl","user","UserUrl","isUndefined","is_org_admin","organization","accountSettings","publicProfile","apiKeys","logout","dashboard"],"mappings":"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KymE,WAAaA,GAGtCkI,EAAYI,KAAKpvE,KAAKK,KAAM+mE,EAAOnlB,IAM5C6tB,SAAU,SAAUtmB,GAClB,GAAI/3C,KACJ,KAAK,GAAIjS,KAAKgqD,GACZ,GAAKA,EAAI9mC,eAAeljB,GACxB,GAAqB,gBAAVgqD,GAAIhqD,GAAgB,CAC7B,GAAI8wE,GAAajwE,KAAKyvE,SAAStmB,EAAIhqD,GACnC,KAAK,GAAIwB,KAAKsvE,GACPA,EAAW5tD,eAAe1hB,KAC/ByQ,EAAOjS,EAAI,IAAMwB,GAAKsvE,EAAWtvE,QAGnCyQ,GAAOjS,GAAKgqD,EAAIhqD,EAGpB,OAAOiS,IAKT4+D,iBAAkB,SAAUzuE,GAC1B,GAAIA,EAAM2uE,iBAAkB,CAC1B,GAAIC,GAAkB5uE,EAAM6uE,OAAS7uE,EAAM09D,KAC3Cj/D,MAAKykD,QAAS,WAAY0rB,MAMhCzB,GAASE,MAAQC,IC3InB,SAAWnpC,GACV,GAAI2qC,GAAa,WAChB,GACCC,IACCzvB,MAAO,sBACP0vB,MAAO,uBACPlwB,KAAM,sBAEPmwB,GACCC,QAAS,2ZACTC,MACC,OACA,0CACC,UACC,OACC,2EACA,6EACA,2EACD,QACA,6BACC,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACD,QACD,WACD,iBAEDx8C,MAAQ,+CACRmsB,MACC,iCACC,OACC,kFACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,kFACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,kFACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,kFACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,kFACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,kFACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACD,YAEDO,QACC,iCACC,OACC,iEACA,iEACA,iEACA,iEACD,QACA,OACC,iEACA,iEACA,iEACA,iEACD,QACA,OAC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","file":"dashboard_deps.js","sourcesContent":["(function(){if (!Date.now) Date.now = function() {\n  return +new Date;\n};\ntry {\n  document.createElement(\"div\").style.setProperty(\"opacity\", 0, \"\");\n} catch (error) {\n  var d3_style_prototype = CSSStyleDeclaration.prototype,\n      d3_style_setProperty = d3_style_prototype.setProperty;\n  d3_style_prototype.setProperty = function(name, value, priority) {\n    d3_style_setProperty.call(this, name, value + \"\", priority);\n  };\n}\nd3 = {version: \"2.9.6\"}; // semver\nfunction d3_class(ctor, properties) {\n  try {\n    for (var key in properties) {\n      Object.defineProperty(ctor.prototype, key, {\n        value: properties[key],\n        enumerable: false\n      });\n    }\n  } catch (e) {\n    ctor.prototype = properties;\n  }\n}\nvar d3_array = d3_arraySlice; // conversion for NodeLists\n\nfunction d3_arrayCopy(pseudoarray) {\n  var i = -1, n = pseudoarray.length, array = [];\n  while (++i < n) array.push(pseudoarray[i]);\n  return array;\n}\n\nfunction d3_arraySlice(pseudoarray) {\n  return Array.prototype.slice.call(pseudoarray);\n}\n\ntry {\n  d3_array(document.documentElement.childNodes)[0].nodeType;\n} catch(e) {\n  d3_array = d3_arrayCopy;\n}\n\nvar d3_arraySubclass = [].__proto__?\n\n// Until ECMAScript supports array subclassing, prototype injection works well.\nfunction(array, prototype) {\n  array.__proto__ = prototype;\n}:\n\n// And if your browser doesn't support __proto__, we'll use direct extension.\nfunction(array, prototype) {\n  for (var property in prototype) array[property] = prototype[property];\n};\nd3.map = function(object) {\n  var map = new d3_Map;\n  for (var key in object) map.set(key, object[key]);\n  return map;\n};\n\nfunction d3_Map() {}\n\nd3_class(d3_Map, {\n  has: function(key) {\n    return d3_map_prefix + key in this;\n  },\n  get: function(key) {\n    return this[d3_map_prefix + key];\n  },\n  set: function(key, value) {\n    return this[d3_map_prefix + key] = value;\n  },\n  remove: function(key) {\n    key = d3_map_prefix + key;\n    return key in this && delete this[key];\n  },\n  keys: function() {\n    var keys = [];\n    this.forEach(function(key) { keys.push(key); });\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    this.forEach(function(key, value) { values.push(value); });\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    this.forEach(function(key, value) { entries.push({key: key, value: value}); });\n    return entries;\n  },\n  forEach: function(f) {\n    for (var key in this) {\n      if (key.charCodeAt(0) === d3_map_prefixCode) {\n        f.call(this, key.substring(1), this[key]);\n      }\n    }\n  }\n});\n\nvar d3_map_prefix = \"\\0\", // prevent collision with built-ins\n    d3_map_prefixCode = d3_map_prefix.charCodeAt(0);\nfunction d3_identity(d) {\n  return d;\n}\nfunction d3_this() {\n  return this;\n}\nfunction d3_true() {\n  return true;\n}\nfunction d3_functor(v) {\n  return typeof v === \"function\" ? v : function() { return v; };\n}\n\nd3.functor = d3_functor;\n// Copies a variable number of methods from source to target.\nd3.rebind = function(target, source) {\n  var i = 1, n = arguments.length, method;\n  while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);\n  return target;\n};\n\n// Method is assumed to be a standard D3 getter-setter:\n// If passed with no arguments, gets the value.\n// If passed with arguments, sets the value and returns the target.\nfunction d3_rebind(target, source, method) {\n  return function() {\n    var value = method.apply(source, arguments);\n    return arguments.length ? target : value;\n  };\n}\nd3.ascending = function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n};\nd3.descending = function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n};\nd3.mean = function(array, f) {\n  var n = array.length,\n      a,\n      m = 0,\n      i = -1,\n      j = 0;\n  if (arguments.length === 1) {\n    while (++i < n) if (d3_number(a = array[i])) m += (a - m) / ++j;\n  } else {\n    while (++i < n) if (d3_number(a = f.call(array, array[i], i))) m += (a - m) / ++j;\n  }\n  return j ? m : undefined;\n};\nd3.median = function(array, f) {\n  if (arguments.length > 1) array = array.map(f);\n  array = array.filter(d3_number);\n  return array.length ? d3.quantile(array.sort(d3.ascending), .5) : undefined;\n};\nd3.min = function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n  if (arguments.length === 1) {\n    while (++i < n && ((a = array[i]) == null || a != a)) a = undefined;\n    while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n  } else {\n    while (++i < n && ((a = f.call(array, array[i], i)) == null || a != a)) a = undefined;\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;\n  }\n  return a;\n};\nd3.max = function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n  if (arguments.length === 1) {\n    while (++i < n && ((a = array[i]) == null || a != a)) a = undefined;\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  } else {\n    while (++i < n && ((a = f.call(array, array[i], i)) == null || a != a)) a = undefined;\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;\n  }\n  return a;\n};\nd3.extent = function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b,\n      c;\n  if (arguments.length === 1) {\n    while (++i < n && ((a = c = array[i]) == null || a != a)) a = c = undefined;\n    while (++i < n) if ((b = array[i]) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  } else {\n    while (++i < n && ((a = c = f.call(array, array[i], i)) == null || a != a)) a = undefined;\n    while (++i < n) if ((b = f.call(array, array[i], i)) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  }\n  return [a, c];\n};\nd3.random = {\n  normal: function(mean, deviation) {\n    if (arguments.length < 2) deviation = 1;\n    if (arguments.length < 1) mean = 0;\n    return function() {\n      var x, y, r;\n      do {\n        x = Math.random() * 2 - 1;\n        y = Math.random() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n      return mean + deviation * x * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n};\nfunction d3_number(x) {\n  return x != null && !isNaN(x);\n}\nd3.sum = function(array, f) {\n  var s = 0,\n      n = array.length,\n      a,\n      i = -1;\n\n  if (arguments.length === 1) {\n    while (++i < n) if (!isNaN(a = +array[i])) s += a;\n  } else {\n    while (++i < n) if (!isNaN(a = +f.call(array, array[i], i))) s += a;\n  }\n\n  return s;\n};\n// R-7 per <http://en.wikipedia.org/wiki/Quantile>\nd3.quantile = function(values, p) {\n  var H = (values.length - 1) * p + 1,\n      h = Math.floor(H),\n      v = values[h - 1],\n      e = H - h;\n  return e ? v + e * (values[h] - v) : v;\n};\nd3.transpose = function(matrix) {\n  return d3.zip.apply(d3, matrix);\n};\nd3.zip = function() {\n  if (!(n = arguments.length)) return [];\n  for (var i = -1, m = d3.min(arguments, d3_zipLength), zips = new Array(m); ++i < m;) {\n    for (var j = -1, n, zip = zips[i] = new Array(n); ++j < n;) {\n      zip[j] = arguments[j][i];\n    }\n  }\n  return zips;\n};\n\nfunction d3_zipLength(d) {\n  return d.length;\n}\nd3.bisector = function(f) {\n  return {\n    left: function(a, x, lo, hi) {\n      if (arguments.length < 3) lo = 0;\n      if (arguments.length < 4) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >> 1;\n        if (f.call(a, a[mid], mid) < x) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (arguments.length < 3) lo = 0;\n      if (arguments.length < 4) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >> 1;\n        if (x < f.call(a, a[mid], mid)) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n};\n\nvar d3_bisector = d3.bisector(function(d) { return d; });\nd3.bisectLeft = d3_bisector.left;\nd3.bisect = d3.bisectRight = d3_bisector.right;\nd3.first = function(array, f) {\n  var i = 0,\n      n = array.length,\n      a = array[0],\n      b;\n  if (arguments.length === 1) f = d3.ascending;\n  while (++i < n) {\n    if (f.call(array, a, b = array[i]) > 0) {\n      a = b;\n    }\n  }\n  return a;\n};\nd3.last = function(array, f) {\n  var i = 0,\n      n = array.length,\n      a = array[0],\n      b;\n  if (arguments.length === 1) f = d3.ascending;\n  while (++i < n) {\n    if (f.call(array, a, b = array[i]) <= 0) {\n      a = b;\n    }\n  }\n  return a;\n};\nd3.nest = function() {\n  var nest = {},\n      keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup;\n\n  function map(array, depth) {\n    if (depth >= keys.length) return rollup\n        ? rollup.call(nest, array) : (sortValues\n        ? array.sort(sortValues)\n        : array);\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        object,\n        valuesByKey = new d3_Map,\n        values,\n        o = {};\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(object = array[i]))) {\n        values.push(object);\n      } else {\n        valuesByKey.set(keyValue, [object]);\n      }\n    }\n\n    valuesByKey.forEach(function(keyValue) {\n      o[keyValue] = map(valuesByKey.get(keyValue), depth);\n    });\n\n    return o;\n  }\n\n  function entries(map, depth) {\n    if (depth >= keys.length) return map;\n\n    var a = [],\n        sortKey = sortKeys[depth++],\n        key;\n\n    for (key in map) {\n      a.push({key: key, values: entries(map[key], depth)});\n    }\n\n    if (sortKey) a.sort(function(a, b) {\n      return sortKey(a.key, b.key);\n    });\n\n    return a;\n  }\n\n  nest.map = function(array) {\n    return map(array, 0);\n  };\n\n  nest.entries = function(array) {\n    return entries(map(array, 0), 0);\n  };\n\n  nest.key = function(d) {\n    keys.push(d);\n    return nest;\n  };\n\n  // Specifies the order for the most-recently specified key.\n  // Note: only applies to entries. Map keys are unordered!\n  nest.sortKeys = function(order) {\n    sortKeys[keys.length - 1] = order;\n    return nest;\n  };\n\n  // Specifies the order for leaf values.\n  // Applies to both maps and entries array.\n  nest.sortValues = function(order) {\n    sortValues = order;\n    return nest;\n  };\n\n  nest.rollup = function(f) {\n    rollup = f;\n    return nest;\n  };\n\n  return nest;\n};\nd3.keys = function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n};\nd3.values = function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n};\nd3.entries = function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n};\nd3.permute = function(array, indexes) {\n  var permutes = [],\n      i = -1,\n      n = indexes.length;\n  while (++i < n) permutes[i] = array[indexes[i]];\n  return permutes;\n};\nd3.merge = function(arrays) {\n  return Array.prototype.concat.apply([], arrays);\n};\nd3.split = function(array, f) {\n  var arrays = [],\n      values = [],\n      value,\n      i = -1,\n      n = array.length;\n  if (arguments.length < 2) f = d3_splitter;\n  while (++i < n) {\n    if (f.call(values, value = array[i], i)) {\n      values = [];\n    } else {\n      if (!values.length) arrays.push(values);\n      values.push(value);\n    }\n  }\n  return arrays;\n};\n\nfunction d3_splitter(d) {\n  return d == null;\n}\nfunction d3_collapse(s) {\n  return s.replace(/^\\s+|\\s+$/g, \"\").replace(/\\s+/g, \" \");\n}\nd3.range = function(start, stop, step) {\n  if (arguments.length < 3) {\n    step = 1;\n    if (arguments.length < 2) {\n      stop = start;\n      start = 0;\n    }\n  }\n  if ((stop - start) / step === Infinity) throw new Error(\"infinite range\");\n  var range = [],\n       k = d3_range_integerScale(Math.abs(step)),\n       i = -1,\n       j;\n  start *= k, stop *= k, step *= k;\n  if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k);\n  else while ((j = start + step * ++i) < stop) range.push(j / k);\n  return range;\n};\n\nfunction d3_range_integerScale(x) {\n  var k = 1;\n  while (x * k % 1) k *= 10;\n  return k;\n}\nd3.requote = function(s) {\n  return s.replace(d3_requote_re, \"\\\\$&\");\n};\n\nvar d3_requote_re = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\nd3.round = function(x, n) {\n  return n\n      ? Math.round(x * (n = Math.pow(10, n))) / n\n      : Math.round(x);\n};\nd3.xhr = function(url, mime, callback) {\n  var req = new XMLHttpRequest;\n  if (arguments.length < 3) callback = mime, mime = null;\n  else if (mime && req.overrideMimeType) req.overrideMimeType(mime);\n  req.open(\"GET\", url, true);\n  if (mime) req.setRequestHeader(\"Accept\", mime);\n  req.onreadystatechange = function() {\n    if (req.readyState === 4) {\n      var s = req.status;\n      callback(!s && req.response || s >= 200 && s < 300 || s === 304 ? req : null);\n    }\n  };\n  req.send(null);\n};\nd3.text = function(url, mime, callback) {\n  function ready(req) {\n    callback(req && req.responseText);\n  }\n  if (arguments.length < 3) {\n    callback = mime;\n    mime = null;\n  }\n  d3.xhr(url, mime, ready);\n};\nd3.json = function(url, callback) {\n  d3.text(url, \"application/json\", function(text) {\n    callback(text ? JSON.parse(text) : null);\n  });\n};\nd3.html = function(url, callback) {\n  d3.text(url, \"text/html\", function(text) {\n    if (text != null) { // Treat empty string as valid HTML.\n      var range = document.createRange();\n      range.selectNode(document.body);\n      text = range.createContextualFragment(text);\n    }\n    callback(text);\n  });\n};\nd3.xml = function(url, mime, callback) {\n  function ready(req) {\n    callback(req && req.responseXML);\n  }\n  if (arguments.length < 3) {\n    callback = mime;\n    mime = null;\n  }\n  d3.xhr(url, mime, ready);\n};\nvar d3_nsPrefix = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: \"http://www.w3.org/1999/xhtml\",\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nd3.ns = {\n  prefix: d3_nsPrefix,\n  qualify: function(name) {\n    var i = name.indexOf(\":\"),\n        prefix = name;\n    if (i >= 0) {\n      prefix = name.substring(0, i);\n      name = name.substring(i + 1);\n    }\n    return d3_nsPrefix.hasOwnProperty(prefix)\n        ? {space: d3_nsPrefix[prefix], local: name}\n        : name;\n  }\n};\nd3.dispatch = function() {\n  var dispatch = new d3_dispatch,\n      i = -1,\n      n = arguments.length;\n  while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n  return dispatch;\n};\n\nfunction d3_dispatch() {}\n\nd3_dispatch.prototype.on = function(type, listener) {\n  var i = type.indexOf(\".\"),\n      name = \"\";\n\n  // Extract optional namespace, e.g., \"click.foo\"\n  if (i > 0) {\n    name = type.substring(i + 1);\n    type = type.substring(0, i);\n  }\n\n  return arguments.length < 2\n      ? this[type].on(name)\n      : this[type].on(name, listener);\n};\n\nfunction d3_dispatch_event(dispatch) {\n  var listeners = [],\n      listenerByName = new d3_Map;\n\n  function event() {\n    var z = listeners, // defensive reference\n        i = -1,\n        n = z.length,\n        l;\n    while (++i < n) if (l = z[i].on) l.apply(this, arguments);\n    return dispatch;\n  }\n\n  event.on = function(name, listener) {\n    var l = listenerByName.get(name),\n        i;\n\n    // return the current listener, if any\n    if (arguments.length < 2) return l && l.on;\n\n    // remove the old listener, if any (with copy-on-write)\n    if (l) {\n      l.on = null;\n      listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1));\n      listenerByName.remove(name);\n    }\n\n    // add the new listener, if any\n    if (listener) listeners.push(listenerByName.set(name, {on: listener}));\n\n    return dispatch;\n  };\n\n  return event;\n}\n// TODO align\nd3.format = function(specifier) {\n  var match = d3_format_re.exec(specifier),\n      fill = match[1] || \" \",\n      sign = match[3] || \"\",\n      zfill = match[5],\n      width = +match[6],\n      comma = match[7],\n      precision = match[8],\n      type = match[9],\n      scale = 1,\n      suffix = \"\",\n      integer = false;\n\n  if (precision) precision = +precision.substring(1);\n\n  if (zfill) {\n    fill = \"0\"; // TODO align = \"=\";\n    if (comma) width -= Math.floor((width - 1) / 4);\n  }\n\n  switch (type) {\n    case \"n\": comma = true; type = \"g\"; break;\n    case \"%\": scale = 100; suffix = \"%\"; type = \"f\"; break;\n    case \"p\": scale = 100; suffix = \"%\"; type = \"r\"; break;\n    case \"d\": integer = true; precision = 0; break;\n    case \"s\": scale = -1; type = \"r\"; break;\n  }\n\n  // If no precision is specified for r, fallback to general notation.\n  if (type == \"r\" && !precision) type = \"g\";\n\n  type = d3_format_types.get(type) || d3_format_typeDefault;\n\n  return function(value) {\n\n    // Return the empty string for floats formatted as ints.\n    if (integer && (value % 1)) return \"\";\n\n    // Convert negative to positive, and record the sign prefix.\n    var negative = (value < 0) && (value = -value) ? \"\\u2212\" : sign;\n\n    // Apply the scale, computing it from the value's exponent for si format.\n    if (scale < 0) {\n      var prefix = d3.formatPrefix(value, precision);\n      value = prefix.scale(value);\n      suffix = prefix.symbol;\n    } else {\n      value *= scale;\n    }\n\n    // Convert to the desired precision.\n    value = type(value, precision);\n\n    // If the fill character is 0, the sign and group is applied after the fill.\n    if (zfill) {\n      var length = value.length + negative.length;\n      if (length < width) value = new Array(width - length + 1).join(fill) + value;\n      if (comma) value = d3_format_group(value);\n      value = negative + value;\n    }\n\n    // Otherwise (e.g., space-filling), the sign and group is applied before.\n    else {\n      if (comma) value = d3_format_group(value);\n      value = negative + value;\n      var length = value.length;\n      if (length < width) value = new Array(width - length + 1).join(fill) + value;\n    }\n\n    return value + suffix;\n  };\n};\n\n// [[fill]align][sign][#][0][width][,][.precision][type]\nvar d3_format_re = /(?:([^{])?([<>=^]))?([+\\- ])?(#)?(0)?([0-9]+)?(,)?(\\.[0-9]+)?([a-zA-Z%])?/;\n\nvar d3_format_types = d3.map({\n  g: function(x, p) { return x.toPrecision(p); },\n  e: function(x, p) { return x.toExponential(p); },\n  f: function(x, p) { return x.toFixed(p); },\n  r: function(x, p) { return d3.round(x, p = d3_format_precision(x, p)).toFixed(Math.max(0, Math.min(20, p))); }\n});\n\nfunction d3_format_precision(x, p) {\n  return p - (x ? 1 + Math.floor(Math.log(x + Math.pow(10, 1 + Math.floor(Math.log(x) / Math.LN10) - p)) / Math.LN10) : 1);\n}\n\nfunction d3_format_typeDefault(x) {\n  return x + \"\";\n}\n\n// Apply comma grouping for thousands.\nfunction d3_format_group(value) {\n  var i = value.lastIndexOf(\".\"),\n      f = i >= 0 ? value.substring(i) : (i = value.length, \"\"),\n      t = [];\n  while (i > 0) t.push(value.substring(i -= 3, i + 3));\n  return t.reverse().join(\",\") + f;\n}\nvar d3_formatPrefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"Î¼\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"].map(d3_formatPrefix);\n\nd3.formatPrefix = function(value, precision) {\n  var i = 0;\n  if (value) {\n    if (value < 0) value *= -1;\n    if (precision) value = d3.round(value, d3_format_precision(value, precision));\n    i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n    i = Math.max(-24, Math.min(24, Math.floor((i <= 0 ? i + 1 : i - 1) / 3) * 3));\n  }\n  return d3_formatPrefixes[8 + i / 3];\n};\n\nfunction d3_formatPrefix(d, i) {\n  var k = Math.pow(10, Math.abs(8 - i) * 3);\n  return {\n    scale: i > 8 ? function(d) { return d / k; } : function(d) { return d * k; },\n    symbol: d\n  };\n}\n/*\n * TERMS OF USE - EASING EQUATIONS\n *\n * Open source under the BSD License.\n *\n * Copyright 2001 Robert Penner\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * - Redistributions of source code must retain the above copyright notice, this\n *   list of conditions and the following disclaimer.\n *\n * - Redistributions in binary form must reproduce the above copyright notice,\n *   this list of conditions and the following disclaimer in the documentation\n *   and/or other materials provided with the distribution.\n *\n * - Neither the name of the author nor the names of contributors may be used to\n *   endorse or promote products derived from this software without specific\n *   prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar d3_ease_quad = d3_ease_poly(2),\n    d3_ease_cubic = d3_ease_poly(3),\n    d3_ease_default = function() { return d3_ease_identity; };\n\nvar d3_ease = d3.map({\n  linear: d3_ease_default,\n  poly: d3_ease_poly,\n  quad: function() { return d3_ease_quad; },\n  cubic: function() { return d3_ease_cubic; },\n  sin: function() { return d3_ease_sin; },\n  exp: function() { return d3_ease_exp; },\n  circle: function() { return d3_ease_circle; },\n  elastic: d3_ease_elastic,\n  back: d3_ease_back,\n  bounce: function() { return d3_ease_bounce; }\n});\n\nvar d3_ease_mode = d3.map({\n  \"in\": d3_ease_identity,\n  \"out\": d3_ease_reverse,\n  \"in-out\": d3_ease_reflect,\n  \"out-in\": function(f) { return d3_ease_reflect(d3_ease_reverse(f)); }\n});\n\nd3.ease = function(name) {\n  var i = name.indexOf(\"-\"),\n      t = i >= 0 ? name.substring(0, i) : name,\n      m = i >= 0 ? name.substring(i + 1) : \"in\";\n  t = d3_ease.get(t) || d3_ease_default;\n  m = d3_ease_mode.get(m) || d3_ease_identity;\n  return d3_ease_clamp(m(t.apply(null, Array.prototype.slice.call(arguments, 1))));\n};\n\nfunction d3_ease_clamp(f) {\n  return function(t) {\n    return t <= 0 ? 0 : t >= 1 ? 1 : f(t);\n  };\n}\n\nfunction d3_ease_reverse(f) {\n  return function(t) {\n    return 1 - f(1 - t);\n  };\n}\n\nfunction d3_ease_reflect(f) {\n  return function(t) {\n    return .5 * (t < .5 ? f(2 * t) : (2 - f(2 - 2 * t)));\n  };\n}\n\nfunction d3_ease_identity(t) {\n  return t;\n}\n\nfunction d3_ease_poly(e) {\n  return function(t) {\n    return Math.pow(t, e);\n  };\n}\n\nfunction d3_ease_sin(t) {\n  return 1 - Math.cos(t * Math.PI / 2);\n}\n\nfunction d3_ease_exp(t) {\n  return Math.pow(2, 10 * (t - 1));\n}\n\nfunction d3_ease_circle(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nfunction d3_ease_elastic(a, p) {\n  var s;\n  if (arguments.length < 2) p = 0.45;\n  if (arguments.length < 1) { a = 1; s = p / 4; }\n  else s = p / (2 * Math.PI) * Math.asin(1 / a);\n  return function(t) {\n    return 1 + a * Math.pow(2, 10 * -t) * Math.sin((t - s) * 2 * Math.PI / p);\n  };\n}\n\nfunction d3_ease_back(s) {\n  if (!s) s = 1.70158;\n  return function(t) {\n    return t * t * ((s + 1) * t - s);\n  };\n}\n\nfunction d3_ease_bounce(t) {\n  return t < 1 / 2.75 ? 7.5625 * t * t\n      : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75\n      : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375\n      : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n}\nd3.event = null;\n\nfunction d3_eventCancel() {\n  d3.event.stopPropagation();\n  d3.event.preventDefault();\n}\n\nfunction d3_eventSource() {\n  var e = d3.event, s;\n  while (s = e.sourceEvent) e = s;\n  return e;\n}\n\n// Like d3.dispatch, but for custom events abstracting native UI events. These\n// events have a target component (such as a brush), a target element (such as\n// the svg:g element containing the brush) and the standard arguments `d` (the\n// target element's data) and `i` (the selection index of the target element).\nfunction d3_eventDispatch(target) {\n  var dispatch = new d3_dispatch,\n      i = 0,\n      n = arguments.length;\n\n  while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n\n  // Creates a dispatch context for the specified `thiz` (typically, the target\n  // DOM element that received the source event) and `argumentz` (typically, the\n  // data `d` and index `i` of the target element). The returned function can be\n  // used to dispatch an event to any registered listeners; the function takes a\n  // single argument as input, being the event to dispatch. The event must have\n  // a \"type\" attribute which corresponds to a type registered in the\n  // constructor. This context will automatically populate the \"sourceEvent\" and\n  // \"target\" attributes of the event, as well as setting the `d3.event` global\n  // for the duration of the notification.\n  dispatch.of = function(thiz, argumentz) {\n    return function(e1) {\n      try {\n        var e0 =\n        e1.sourceEvent = d3.event;\n        e1.target = target;\n        d3.event = e1;\n        dispatch[e1.type].apply(thiz, argumentz);\n      } finally {\n        d3.event = e0;\n      }\n    };\n  };\n\n  return dispatch;\n}\nd3.interpolate = function(a, b) {\n  var i = d3.interpolators.length, f;\n  while (--i >= 0 && !(f = d3.interpolators[i](a, b)));\n  return f;\n};\n\nd3.interpolateNumber = function(a, b) {\n  b -= a;\n  return function(t) { return a + b * t; };\n};\n\nd3.interpolateRound = function(a, b) {\n  b -= a;\n  return function(t) { return Math.round(a + b * t); };\n};\n\nd3.interpolateString = function(a, b) {\n  var m, // current match\n      i, // current index\n      j, // current index (for coallescing)\n      s0 = 0, // start index of current string prefix\n      s1 = 0, // end index of current string prefix\n      s = [], // string constants and placeholders\n      q = [], // number interpolators\n      n, // q.length\n      o;\n\n  // Reset our regular expression!\n  d3_interpolate_number.lastIndex = 0;\n\n  // Find all numbers in b.\n  for (i = 0; m = d3_interpolate_number.exec(b); ++i) {\n    if (m.index) s.push(b.substring(s0, s1 = m.index));\n    q.push({i: s.length, x: m[0]});\n    s.push(null);\n    s0 = d3_interpolate_number.lastIndex;\n  }\n  if (s0 < b.length) s.push(b.substring(s0));\n\n  // Find all numbers in a.\n  for (i = 0, n = q.length; (m = d3_interpolate_number.exec(a)) && i < n; ++i) {\n    o = q[i];\n    if (o.x == m[0]) { // The numbers match, so coallesce.\n      if (o.i) {\n        if (s[o.i + 1] == null) { // This match is followed by another number.\n          s[o.i - 1] += o.x;\n          s.splice(o.i, 1);\n          for (j = i + 1; j < n; ++j) q[j].i--;\n        } else { // This match is followed by a string, so coallesce twice.\n          s[o.i - 1] += o.x + s[o.i + 1];\n          s.splice(o.i, 2);\n          for (j = i + 1; j < n; ++j) q[j].i -= 2;\n        }\n      } else {\n          if (s[o.i + 1] == null) { // This match is followed by another number.\n          s[o.i] = o.x;\n        } else { // This match is followed by a string, so coallesce twice.\n          s[o.i] = o.x + s[o.i + 1];\n          s.splice(o.i + 1, 1);\n          for (j = i + 1; j < n; ++j) q[j].i--;\n        }\n      }\n      q.splice(i, 1);\n      n--;\n      i--;\n    } else {\n      o.x = d3.interpolateNumber(parseFloat(m[0]), parseFloat(o.x));\n    }\n  }\n\n  // Remove any numbers in b not found in a.\n  while (i < n) {\n    o = q.pop();\n    if (s[o.i + 1] == null) { // This match is followed by another number.\n      s[o.i] = o.x;\n    } else { // This match is followed by a string, so coallesce twice.\n      s[o.i] = o.x + s[o.i + 1];\n      s.splice(o.i + 1, 1);\n    }\n    n--;\n  }\n\n  // Special optimization for only a single match.\n  if (s.length === 1) {\n    return s[0] == null ? q[0].x : function() { return b; };\n  }\n\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return function(t) {\n    for (i = 0; i < n; ++i) s[(o = q[i]).i] = o.x(t);\n    return s.join(\"\");\n  };\n};\n\nd3.interpolateTransform = function(a, b) {\n  var s = [], // string constants and placeholders\n      q = [], // number interpolators\n      n,\n      A = d3.transform(a),\n      B = d3.transform(b),\n      ta = A.translate,\n      tb = B.translate,\n      ra = A.rotate,\n      rb = B.rotate,\n      wa = A.skew,\n      wb = B.skew,\n      ka = A.scale,\n      kb = B.scale;\n\n  if (ta[0] != tb[0] || ta[1] != tb[1]) {\n    s.push(\"translate(\", null, \",\", null, \")\");\n    q.push({i: 1, x: d3.interpolateNumber(ta[0], tb[0])}, {i: 3, x: d3.interpolateNumber(ta[1], tb[1])});\n  } else if (tb[0] || tb[1]) {\n    s.push(\"translate(\" + tb + \")\");\n  } else {\n    s.push(\"\");\n  }\n\n  if (ra != rb) {\n    if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360; // shortest path\n    q.push({i: s.push(s.pop() + \"rotate(\", null, \")\") - 2, x: d3.interpolateNumber(ra, rb)});\n  } else if (rb) {\n    s.push(s.pop() + \"rotate(\" + rb + \")\");\n  }\n\n  if (wa != wb) {\n    q.push({i: s.push(s.pop() + \"skewX(\", null, \")\") - 2, x: d3.interpolateNumber(wa, wb)});\n  } else if (wb) {\n    s.push(s.pop() + \"skewX(\" + wb + \")\");\n  }\n\n  if (ka[0] != kb[0] || ka[1] != kb[1]) {\n    n = s.push(s.pop() + \"scale(\", null, \",\", null, \")\");\n    q.push({i: n - 4, x: d3.interpolateNumber(ka[0], kb[0])}, {i: n - 2, x: d3.interpolateNumber(ka[1], kb[1])});\n  } else if (kb[0] != 1 || kb[1] != 1) {\n    s.push(s.pop() + \"scale(\" + kb + \")\");\n  }\n\n  n = q.length;\n  return function(t) {\n    var i = -1, o;\n    while (++i < n) s[(o = q[i]).i] = o.x(t);\n    return s.join(\"\");\n  };\n};\n\nd3.interpolateRgb = function(a, b) {\n  a = d3.rgb(a);\n  b = d3.rgb(b);\n  var ar = a.r,\n      ag = a.g,\n      ab = a.b,\n      br = b.r - ar,\n      bg = b.g - ag,\n      bb = b.b - ab;\n  return function(t) {\n    return \"#\"\n        + d3_rgb_hex(Math.round(ar + br * t))\n        + d3_rgb_hex(Math.round(ag + bg * t))\n        + d3_rgb_hex(Math.round(ab + bb * t));\n  };\n};\n\n// interpolates HSL space, but outputs RGB string (for compatibility)\nd3.interpolateHsl = function(a, b) {\n  a = d3.hsl(a);\n  b = d3.hsl(b);\n  var h0 = a.h,\n      s0 = a.s,\n      l0 = a.l,\n      h1 = b.h - h0,\n      s1 = b.s - s0,\n      l1 = b.l - l0;\n  if (h1 > 180) h1 -= 360; else if (h1 < -180) h1 += 360; // shortest path\n  return function(t) {\n    return d3_hsl_rgb(h0 + h1 * t, s0 + s1 * t, l0 + l1 * t).toString();\n  };\n};\n\nd3.interpolateArray = function(a, b) {\n  var x = [],\n      c = [],\n      na = a.length,\n      nb = b.length,\n      n0 = Math.min(a.length, b.length),\n      i;\n  for (i = 0; i < n0; ++i) x.push(d3.interpolate(a[i], b[i]));\n  for (; i < na; ++i) c[i] = a[i];\n  for (; i < nb; ++i) c[i] = b[i];\n  return function(t) {\n    for (i = 0; i < n0; ++i) c[i] = x[i](t);\n    return c;\n  };\n};\n\nd3.interpolateObject = function(a, b) {\n  var i = {},\n      c = {},\n      k;\n  for (k in a) {\n    if (k in b) {\n      i[k] = d3_interpolateByName(k)(a[k], b[k]);\n    } else {\n      c[k] = a[k];\n    }\n  }\n  for (k in b) {\n    if (!(k in a)) {\n      c[k] = b[k];\n    }\n  }\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar d3_interpolate_number = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\n\nfunction d3_interpolateByName(n) {\n  return n == \"transform\"\n      ? d3.interpolateTransform\n      : d3.interpolate;\n}\n\nd3.interpolators = [\n  d3.interpolateObject,\n  function(a, b) { return (b instanceof Array) && d3.interpolateArray(a, b); },\n  function(a, b) { return (typeof a === \"string\" || typeof b === \"string\") && d3.interpolateString(a + \"\", b + \"\"); },\n  function(a, b) { return (typeof b === \"string\" ? d3_rgb_names.has(b) || /^(#|rgb\\(|hsl\\()/.test(b) : b instanceof d3_Rgb || b instanceof d3_Hsl) && d3.interpolateRgb(a, b); },\n  function(a, b) { return !isNaN(a = +a) && !isNaN(b = +b) && d3.interpolateNumber(a, b); }\n];\nfunction d3_uninterpolateNumber(a, b) {\n  b = b - (a = +a) ? 1 / (b - a) : 0;\n  return function(x) { return (x - a) * b; };\n}\n\nfunction d3_uninterpolateClamp(a, b) {\n  b = b - (a = +a) ? 1 / (b - a) : 0;\n  return function(x) { return Math.max(0, Math.min(1, (x - a) * b)); };\n}\nd3.rgb = function(r, g, b) {\n  return arguments.length === 1\n      ? (r instanceof d3_Rgb ? d3_rgb(r.r, r.g, r.b)\n      : d3_rgb_parse(\"\" + r, d3_rgb, d3_hsl_rgb))\n      : d3_rgb(~~r, ~~g, ~~b);\n};\n\nfunction d3_rgb(r, g, b) {\n  return new d3_Rgb(r, g, b);\n}\n\nfunction d3_Rgb(r, g, b) {\n  this.r = r;\n  this.g = g;\n  this.b = b;\n}\n\nd3_Rgb.prototype.brighter = function(k) {\n  k = Math.pow(0.7, arguments.length ? k : 1);\n  var r = this.r,\n      g = this.g,\n      b = this.b,\n      i = 30;\n  if (!r && !g && !b) return d3_rgb(i, i, i);\n  if (r && r < i) r = i;\n  if (g && g < i) g = i;\n  if (b && b < i) b = i;\n  return d3_rgb(\n      Math.min(255, Math.floor(r / k)),\n      Math.min(255, Math.floor(g / k)),\n      Math.min(255, Math.floor(b / k)));\n};\n\nd3_Rgb.prototype.darker = function(k) {\n  k = Math.pow(0.7, arguments.length ? k : 1);\n  return d3_rgb(\n      Math.floor(k * this.r),\n      Math.floor(k * this.g),\n      Math.floor(k * this.b));\n};\n\nd3_Rgb.prototype.hsl = function() {\n  return d3_rgb_hsl(this.r, this.g, this.b);\n};\n\nd3_Rgb.prototype.toString = function() {\n  return \"#\" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b);\n};\n\nfunction d3_rgb_hex(v) {\n  return v < 0x10\n      ? \"0\" + Math.max(0, v).toString(16)\n      : Math.min(255, v).toString(16);\n}\n\nfunction d3_rgb_parse(format, rgb, hsl) {\n  var r = 0, // red channel; int in [0, 255]\n      g = 0, // green channel; int in [0, 255]\n      b = 0, // blue channel; int in [0, 255]\n      m1, // CSS color specification match\n      m2, // CSS color specification type (e.g., rgb)\n      name;\n\n  /* Handle hsl, rgb. */\n  m1 = /([a-z]+)\\((.*)\\)/i.exec(format);\n  if (m1) {\n    m2 = m1[2].split(\",\");\n    switch (m1[1]) {\n      case \"hsl\": {\n        return hsl(\n          parseFloat(m2[0]), // degrees\n          parseFloat(m2[1]) / 100, // percentage\n          parseFloat(m2[2]) / 100 // percentage\n        );\n      }\n      case \"rgb\": {\n        return rgb(\n          d3_rgb_parseNumber(m2[0]),\n          d3_rgb_parseNumber(m2[1]),\n          d3_rgb_parseNumber(m2[2])\n        );\n      }\n    }\n  }\n\n  /* Named colors. */\n  if (name = d3_rgb_names.get(format)) return rgb(name.r, name.g, name.b);\n\n  /* Hexadecimal colors: #rgb and #rrggbb. */\n  if (format != null && format.charAt(0) === \"#\") {\n    if (format.length === 4) {\n      r = format.charAt(1); r += r;\n      g = format.charAt(2); g += g;\n      b = format.charAt(3); b += b;\n    } else if (format.length === 7) {\n      r = format.substring(1, 3);\n      g = format.substring(3, 5);\n      b = format.substring(5, 7);\n    }\n    r = parseInt(r, 16);\n    g = parseInt(g, 16);\n    b = parseInt(b, 16);\n  }\n\n  return rgb(r, g, b);\n}\n\nfunction d3_rgb_hsl(r, g, b) {\n  var min = Math.min(r /= 255, g /= 255, b /= 255),\n      max = Math.max(r, g, b),\n      d = max - min,\n      h,\n      s,\n      l = (max + min) / 2;\n  if (d) {\n    s = l < .5 ? d / (max + min) : d / (2 - max - min);\n    if (r == max) h = (g - b) / d + (g < b ? 6 : 0);\n    else if (g == max) h = (b - r) / d + 2;\n    else h = (r - g) / d + 4;\n    h *= 60;\n  } else {\n    s = h = 0;\n  }\n  return d3_hsl(h, s, l);\n}\n\nfunction d3_rgb_parseNumber(c) { // either integer or percentage\n  var f = parseFloat(c);\n  return c.charAt(c.length - 1) === \"%\" ? Math.round(f * 2.55) : f;\n}\n\nvar d3_rgb_names = d3.map({\n  aliceblue: \"#f0f8ff\",\n  antiquewhite: \"#faebd7\",\n  aqua: \"#00ffff\",\n  aquamarine: \"#7fffd4\",\n  azure: \"#f0ffff\",\n  beige: \"#f5f5dc\",\n  bisque: \"#ffe4c4\",\n  black: \"#000000\",\n  blanchedalmond: \"#ffebcd\",\n  blue: \"#0000ff\",\n  blueviolet: \"#8a2be2\",\n  brown: \"#a52a2a\",\n  burlywood: \"#deb887\",\n  cadetblue: \"#5f9ea0\",\n  chartreuse: \"#7fff00\",\n  chocolate: \"#d2691e\",\n  coral: \"#ff7f50\",\n  cornflowerblue: \"#6495ed\",\n  cornsilk: \"#fff8dc\",\n  crimson: \"#dc143c\",\n  cyan: \"#00ffff\",\n  darkblue: \"#00008b\",\n  darkcyan: \"#008b8b\",\n  darkgoldenrod: \"#b8860b\",\n  darkgray: \"#a9a9a9\",\n  darkgreen: \"#006400\",\n  darkgrey: \"#a9a9a9\",\n  darkkhaki: \"#bdb76b\",\n  darkmagenta: \"#8b008b\",\n  darkolivegreen: \"#556b2f\",\n  darkorange: \"#ff8c00\",\n  darkorchid: \"#9932cc\",\n  darkred: \"#8b0000\",\n  darksalmon: \"#e9967a\",\n  darkseagreen: \"#8fbc8f\",\n  darkslateblue: \"#483d8b\",\n  darkslategray: \"#2f4f4f\",\n  darkslategrey: \"#2f4f4f\",\n  darkturquoise: \"#00ced1\",\n  darkviolet: \"#9400d3\",\n  deeppink: \"#ff1493\",\n  deepskyblue: \"#00bfff\",\n  dimgray: \"#696969\",\n  dimgrey: \"#696969\",\n  dodgerblue: \"#1e90ff\",\n  firebrick: \"#b22222\",\n  floralwhite: \"#fffaf0\",\n  forestgreen: \"#228b22\",\n  fuchsia: \"#ff00ff\",\n  gainsboro: \"#dcdcdc\",\n  ghostwhite: \"#f8f8ff\",\n  gold: \"#ffd700\",\n  goldenrod: \"#daa520\",\n  gray: \"#808080\",\n  green: \"#008000\",\n  greenyellow: \"#adff2f\",\n  grey: \"#808080\",\n  honeydew: \"#f0fff0\",\n  hotpink: \"#ff69b4\",\n  indianred: \"#cd5c5c\",\n  indigo: \"#4b0082\",\n  ivory: \"#fffff0\",\n  khaki: \"#f0e68c\",\n  lavender: \"#e6e6fa\",\n  lavenderblush: \"#fff0f5\",\n  lawngreen: \"#7cfc00\",\n  lemonchiffon: \"#fffacd\",\n  lightblue: \"#add8e6\",\n  lightcoral: \"#f08080\",\n  lightcyan: \"#e0ffff\",\n  lightgoldenrodyellow: \"#fafad2\",\n  lightgray: \"#d3d3d3\",\n  lightgreen: \"#90ee90\",\n  lightgrey: \"#d3d3d3\",\n  lightpink: \"#ffb6c1\",\n  lightsalmon: \"#ffa07a\",\n  lightseagreen: \"#20b2aa\",\n  lightskyblue: \"#87cefa\",\n  lightslategray: \"#778899\",\n  lightslategrey: \"#778899\",\n  lightsteelblue: \"#b0c4de\",\n  lightyellow: \"#ffffe0\",\n  lime: \"#00ff00\",\n  limegreen: \"#32cd32\",\n  linen: \"#faf0e6\",\n  magenta: \"#ff00ff\",\n  maroon: \"#800000\",\n  mediumaquamarine: \"#66cdaa\",\n  mediumblue: \"#0000cd\",\n  mediumorchid: \"#ba55d3\",\n  mediumpurple: \"#9370db\",\n  mediumseagreen: \"#3cb371\",\n  mediumslateblue: \"#7b68ee\",\n  mediumspringgreen: \"#00fa9a\",\n  mediumturquoise: \"#48d1cc\",\n  mediumvioletred: \"#c71585\",\n  midnightblue: \"#191970\",\n  mintcream: \"#f5fffa\",\n  mistyrose: \"#ffe4e1\",\n  moccasin: \"#ffe4b5\",\n  navajowhite: \"#ffdead\",\n  navy: \"#000080\",\n  oldlace: \"#fdf5e6\",\n  olive: \"#808000\",\n  olivedrab: \"#6b8e23\",\n  orange: \"#ffa500\",\n  orangered: \"#ff4500\",\n  orchid: \"#da70d6\",\n  palegoldenrod: \"#eee8aa\",\n  palegreen: \"#98fb98\",\n  paleturquoise: \"#afeeee\",\n  palevioletred: \"#db7093\",\n  papayawhip: \"#ffefd5\",\n  peachpuff: \"#ffdab9\",\n  peru: \"#cd853f\",\n  pink: \"#ffc0cb\",\n  plum: \"#dda0dd\",\n  powderblue: \"#b0e0e6\",\n  purple: \"#800080\",\n  red: \"#ff0000\",\n  rosybrown: \"#bc8f8f\",\n  royalblue: \"#4169e1\",\n  saddlebrown: \"#8b4513\",\n  salmon: \"#fa8072\",\n  sandybrown: \"#f4a460\",\n  seagreen: \"#2e8b57\",\n  seashell: \"#fff5ee\",\n  sienna: \"#a0522d\",\n  silver: \"#c0c0c0\",\n  skyblue: \"#87ceeb\",\n  slateblue: \"#6a5acd\",\n  slategray: \"#708090\",\n  slategrey: \"#708090\",\n  snow: \"#fffafa\",\n  springgreen: \"#00ff7f\",\n  steelblue: \"#4682b4\",\n  tan: \"#d2b48c\",\n  teal: \"#008080\",\n  thistle: \"#d8bfd8\",\n  tomato: \"#ff6347\",\n  turquoise: \"#40e0d0\",\n  violet: \"#ee82ee\",\n  wheat: \"#f5deb3\",\n  white: \"#ffffff\",\n  whitesmoke: \"#f5f5f5\",\n  yellow: \"#ffff00\",\n  yellowgreen: \"#9acd32\"\n});\n\nd3_rgb_names.forEach(function(key, value) {\n  d3_rgb_names.set(key, d3_rgb_parse(value, d3_rgb, d3_hsl_rgb));\n});\nd3.hsl = function(h, s, l) {\n  return arguments.length === 1\n      ? (h instanceof d3_Hsl ? d3_hsl(h.h, h.s, h.l)\n      : d3_rgb_parse(\"\" + h, d3_rgb_hsl, d3_hsl))\n      : d3_hsl(+h, +s, +l);\n};\n\nfunction d3_hsl(h, s, l) {\n  return new d3_Hsl(h, s, l);\n}\n\nfunction d3_Hsl(h, s, l) {\n  this.h = h;\n  this.s = s;\n  this.l = l;\n}\n\nd3_Hsl.prototype.brighter = function(k) {\n  k = Math.pow(0.7, arguments.length ? k : 1);\n  return d3_hsl(this.h, this.s, this.l / k);\n};\n\nd3_Hsl.prototype.darker = function(k) {\n  k = Math.pow(0.7, arguments.length ? k : 1);\n  return d3_hsl(this.h, this.s, k * this.l);\n};\n\nd3_Hsl.prototype.rgb = function() {\n  return d3_hsl_rgb(this.h, this.s, this.l);\n};\n\nd3_Hsl.prototype.toString = function() {\n  return this.rgb().toString();\n};\n\nfunction d3_hsl_rgb(h, s, l) {\n  var m1,\n      m2;\n\n  /* Some simple corrections for h, s and l. */\n  h = h % 360; if (h < 0) h += 360;\n  s = s < 0 ? 0 : s > 1 ? 1 : s;\n  l = l < 0 ? 0 : l > 1 ? 1 : l;\n\n  /* From FvD 13.37, CSS Color Module Level 3 */\n  m2 = l <= .5 ? l * (1 + s) : l + s - l * s;\n  m1 = 2 * l - m2;\n\n  function v(h) {\n    if (h > 360) h -= 360;\n    else if (h < 0) h += 360;\n    if (h < 60) return m1 + (m2 - m1) * h / 60;\n    if (h < 180) return m2;\n    if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60;\n    return m1;\n  }\n\n  function vv(h) {\n    return Math.round(v(h) * 255);\n  }\n\n  return d3_rgb(vv(h + 120), vv(h), vv(h - 120));\n}\nfunction d3_selection(groups) {\n  d3_arraySubclass(groups, d3_selectionPrototype);\n  return groups;\n}\n\nvar d3_select = function(s, n) { return n.querySelector(s); },\n    d3_selectAll = function(s, n) { return n.querySelectorAll(s); },\n    d3_selectRoot = document.documentElement,\n    d3_selectMatcher = d3_selectRoot.matchesSelector || d3_selectRoot.webkitMatchesSelector || d3_selectRoot.mozMatchesSelector || d3_selectRoot.msMatchesSelector || d3_selectRoot.oMatchesSelector,\n    d3_selectMatches = function(n, s) { return d3_selectMatcher.call(n, s); };\n\n// Prefer Sizzle, if available.\nif (typeof Sizzle === \"function\") {\n  d3_select = function(s, n) { return Sizzle(s, n)[0] || null; };\n  d3_selectAll = function(s, n) { return Sizzle.uniqueSort(Sizzle(s, n)); };\n  d3_selectMatches = Sizzle.matchesSelector;\n}\n\nvar d3_selectionPrototype = [];\n\nd3.selection = function() {\n  return d3_selectionRoot;\n};\n\nd3.selection.prototype = d3_selectionPrototype;\nd3_selectionPrototype.select = function(selector) {\n  var subgroups = [],\n      subgroup,\n      subnode,\n      group,\n      node;\n\n  if (typeof selector !== \"function\") selector = d3_selection_selector(selector);\n\n  for (var j = -1, m = this.length; ++j < m;) {\n    subgroups.push(subgroup = []);\n    subgroup.parentNode = (group = this[j]).parentNode;\n    for (var i = -1, n = group.length; ++i < n;) {\n      if (node = group[i]) {\n        subgroup.push(subnode = selector.call(node, node.__data__, i));\n        if (subnode && \"__data__\" in node) subnode.__data__ = node.__data__;\n      } else {\n        subgroup.push(null);\n      }\n    }\n  }\n\n  return d3_selection(subgroups);\n};\n\nfunction d3_selection_selector(selector) {\n  return function() {\n    return d3_select(selector, this);\n  };\n}\nd3_selectionPrototype.selectAll = function(selector) {\n  var subgroups = [],\n      subgroup,\n      node;\n\n  if (typeof selector !== \"function\") selector = d3_selection_selectorAll(selector);\n\n  for (var j = -1, m = this.length; ++j < m;) {\n    for (var group = this[j], i = -1, n = group.length; ++i < n;) {\n      if (node = group[i]) {\n        subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i)));\n        subgroup.parentNode = node;\n      }\n    }\n  }\n\n  return d3_selection(subgroups);\n};\n\nfunction d3_selection_selectorAll(selector) {\n  return function() {\n    return d3_selectAll(selector, this);\n  };\n}\nd3_selectionPrototype.attr = function(name, value) {\n  name = d3.ns.qualify(name);\n\n  // If no value is specified, return the first value.\n  if (arguments.length < 2) {\n    var node = this.node();\n    return name.local\n        ? node.getAttributeNS(name.space, name.local)\n        : node.getAttribute(name);\n  }\n\n  function attrNull() {\n    this.removeAttribute(name);\n  }\n\n  function attrNullNS() {\n    this.removeAttributeNS(name.space, name.local);\n  }\n\n  function attrConstant() {\n    this.setAttribute(name, value);\n  }\n\n  function attrConstantNS() {\n    this.setAttributeNS(name.space, name.local, value);\n  }\n\n  function attrFunction() {\n    var x = value.apply(this, arguments);\n    if (x == null) this.removeAttribute(name);\n    else this.setAttribute(name, x);\n  }\n\n  function attrFunctionNS() {\n    var x = value.apply(this, arguments);\n    if (x == null) this.removeAttributeNS(name.space, name.local);\n    else this.setAttributeNS(name.space, name.local, x);\n  }\n\n  return this.each(value == null\n      ? (name.local ? attrNullNS : attrNull) : (typeof value === \"function\"\n      ? (name.local ? attrFunctionNS : attrFunction)\n      : (name.local ? attrConstantNS : attrConstant)));\n};\nd3_selectionPrototype.classed = function(name, value) {\n  var names = d3_collapse(name).split(\" \"),\n      n = names.length,\n      i = -1;\n  if (arguments.length > 1) {\n    while (++i < n) d3_selection_classed.call(this, names[i], value);\n    return this;\n  } else {\n    while (++i < n) if (!d3_selection_classed.call(this, names[i])) return false;\n    return true;\n  }\n};\n\nfunction d3_selection_classed(name, value) {\n  var re = new RegExp(\"(^|\\\\s+)\" + d3.requote(name) + \"(\\\\s+|$)\", \"g\");\n\n  // If no value is specified, return the first value.\n  if (arguments.length < 2) {\n    var node = this.node();\n    if (c = node.classList) return c.contains(name);\n    var c = node.className;\n    re.lastIndex = 0;\n    return re.test(c.baseVal != null ? c.baseVal : c);\n  }\n\n  function classedAdd() {\n    if (c = this.classList) return c.add(name);\n    var c = this.className,\n        cb = c.baseVal != null,\n        cv = cb ? c.baseVal : c;\n    re.lastIndex = 0;\n    if (!re.test(cv)) {\n      cv = d3_collapse(cv + \" \" + name);\n      if (cb) c.baseVal = cv;\n      else this.className = cv;\n    }\n  }\n\n  function classedRemove() {\n    if (c = this.classList) return c.remove(name);\n    var c = this.className,\n        cb = c.baseVal != null,\n        cv = cb ? c.baseVal : c;\n    cv = d3_collapse(cv.replace(re, \" \"));\n    if (cb) c.baseVal = cv;\n    else this.className = cv;\n  }\n\n  function classedFunction() {\n    (value.apply(this, arguments)\n        ? classedAdd\n        : classedRemove).call(this);\n  }\n\n  return this.each(typeof value === \"function\"\n      ? classedFunction : value\n      ? classedAdd\n      : classedRemove);\n}\nd3_selectionPrototype.style = function(name, value, priority) {\n  if (arguments.length < 3) priority = \"\";\n\n  // If no value is specified, return the first value.\n  if (arguments.length < 2) return window\n      .getComputedStyle(this.node(), null)\n      .getPropertyValue(name);\n\n  function styleNull() {\n    this.style.removeProperty(name);\n  }\n\n  function styleConstant() {\n    this.style.setProperty(name, value, priority);\n  }\n\n  function styleFunction() {\n    var x = value.apply(this, arguments);\n    if (x == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, x, priority);\n  }\n\n  return this.each(value == null\n      ? styleNull : (typeof value === \"function\"\n      ? styleFunction : styleConstant));\n};\nd3_selectionPrototype.property = function(name, value) {\n\n  // If no value is specified, return the first value.\n  if (arguments.length < 2) return this.node()[name];\n\n  function propertyNull() {\n    delete this[name];\n  }\n\n  function propertyConstant() {\n    this[name] = value;\n  }\n\n  function propertyFunction() {\n    var x = value.apply(this, arguments);\n    if (x == null) delete this[name];\n    else this[name] = x;\n  }\n\n  return this.each(value == null\n      ? propertyNull : (typeof value === \"function\"\n      ? propertyFunction : propertyConstant));\n};\nd3_selectionPrototype.text = function(value) {\n  return arguments.length < 1\n      ? this.node().textContent : this.each(typeof value === \"function\"\n      ? function() { var v = value.apply(this, arguments); this.textContent = v == null ? \"\" : v; } : value == null\n      ? function() { this.textContent = \"\"; }\n      : function() { this.textContent = value; });\n};\nd3_selectionPrototype.html = function(value) {\n  return arguments.length < 1\n      ? this.node().innerHTML : this.each(typeof value === \"function\"\n      ? function() { var v = value.apply(this, arguments); this.innerHTML = v == null ? \"\" : v; } : value == null\n      ? function() { this.innerHTML = \"\"; }\n      : function() { this.innerHTML = value; });\n};\n// TODO append(node)?\n// TODO append(function)?\nd3_selectionPrototype.append = function(name) {\n  name = d3.ns.qualify(name);\n\n  function append() {\n    return this.appendChild(document.createElementNS(this.namespaceURI, name));\n  }\n\n  function appendNS() {\n    return this.appendChild(document.createElementNS(name.space, name.local));\n  }\n\n  return this.select(name.local ? appendNS : append);\n};\n// TODO insert(node, function)?\n// TODO insert(function, string)?\n// TODO insert(function, function)?\nd3_selectionPrototype.insert = function(name, before) {\n  name = d3.ns.qualify(name);\n\n  function insert() {\n    return this.insertBefore(\n        document.createElementNS(this.namespaceURI, name),\n        d3_select(before, this));\n  }\n\n  function insertNS() {\n    return this.insertBefore(\n        document.createElementNS(name.space, name.local),\n        d3_select(before, this));\n  }\n\n  return this.select(name.local ? insertNS : insert);\n};\n// TODO remove(selector)?\n// TODO remove(node)?\n// TODO remove(function)?\nd3_selectionPrototype.remove = function() {\n  return this.each(function() {\n    var parent = this.parentNode;\n    if (parent) parent.removeChild(this);\n  });\n};\nd3_selectionPrototype.data = function(value, key) {\n  var i = -1,\n      n = this.length,\n      group,\n      node;\n\n  // If no value is specified, return the first value.\n  if (!arguments.length) {\n    value = new Array(n = (group = this[0]).length);\n    while (++i < n) {\n      if (node = group[i]) {\n        value[i] = node.__data__;\n      }\n    }\n    return value;\n  }\n\n  function bind(group, groupData) {\n    var i,\n        n = group.length,\n        m = groupData.length,\n        n0 = Math.min(n, m),\n        n1 = Math.max(n, m),\n        updateNodes = [],\n        enterNodes = [],\n        exitNodes = [],\n        node,\n        nodeData;\n\n    if (key) {\n      var nodeByKeyValue = new d3_Map,\n          keyValues = [],\n          keyValue,\n          j = groupData.length;\n\n      for (i = -1; ++i < n;) {\n        keyValue = key.call(node = group[i], node.__data__, i);\n        if (nodeByKeyValue.has(keyValue)) {\n          exitNodes[j++] = node; // duplicate key\n        } else {\n          nodeByKeyValue.set(keyValue, node);\n        }\n        keyValues.push(keyValue);\n      }\n\n      for (i = -1; ++i < m;) {\n        keyValue = key.call(groupData, nodeData = groupData[i], i)\n        if (nodeByKeyValue.has(keyValue)) {\n          updateNodes[i] = node = nodeByKeyValue.get(keyValue);\n          node.__data__ = nodeData;\n          enterNodes[i] = exitNodes[i] = null;\n        } else {\n          enterNodes[i] = d3_selection_dataNode(nodeData);\n          updateNodes[i] = exitNodes[i] = null;\n        }\n        nodeByKeyValue.remove(keyValue);\n      }\n\n      for (i = -1; ++i < n;) {\n        if (nodeByKeyValue.has(keyValues[i])) {\n          exitNodes[i] = group[i];\n        }\n      }\n    } else {\n      for (i = -1; ++i < n0;) {\n        node = group[i];\n        nodeData = groupData[i];\n        if (node) {\n          node.__data__ = nodeData;\n          updateNodes[i] = node;\n          enterNodes[i] = exitNodes[i] = null;\n        } else {\n          enterNodes[i] = d3_selection_dataNode(nodeData);\n          updateNodes[i] = exitNodes[i] = null;\n        }\n      }\n      for (; i < m; ++i) {\n        enterNodes[i] = d3_selection_dataNode(groupData[i]);\n        updateNodes[i] = exitNodes[i] = null;\n      }\n      for (; i < n1; ++i) {\n        exitNodes[i] = group[i];\n        enterNodes[i] = updateNodes[i] = null;\n      }\n    }\n\n    enterNodes.update\n        = updateNodes;\n\n    enterNodes.parentNode\n        = updateNodes.parentNode\n        = exitNodes.parentNode\n        = group.parentNode;\n\n    enter.push(enterNodes);\n    update.push(updateNodes);\n    exit.push(exitNodes);\n  }\n\n  var enter = d3_selection_enter([]),\n      update = d3_selection([]),\n      exit = d3_selection([]);\n\n  if (typeof value === \"function\") {\n    while (++i < n) {\n      bind(group = this[i], value.call(group, group.parentNode.__data__, i));\n    }\n  } else {\n    while (++i < n) {\n      bind(group = this[i], value);\n    }\n  }\n\n  update.enter = function() { return enter; };\n  update.exit = function() { return exit; };\n  return update;\n};\n\nfunction d3_selection_dataNode(data) {\n  return {__data__: data};\n}\nd3_selectionPrototype.datum =\nd3_selectionPrototype.map = function(value) {\n  return arguments.length < 1\n      ? this.property(\"__data__\")\n      : this.property(\"__data__\", value);\n};\nd3_selectionPrototype.filter = function(filter) {\n  var subgroups = [],\n      subgroup,\n      group,\n      node;\n\n  if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n\n  for (var j = 0, m = this.length; j < m; j++) {\n    subgroups.push(subgroup = []);\n    subgroup.parentNode = (group = this[j]).parentNode;\n    for (var i = 0, n = group.length; i < n; i++) {\n      if ((node = group[i]) && filter.call(node, node.__data__, i)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return d3_selection(subgroups);\n};\n\nfunction d3_selection_filter(selector) {\n  return function() {\n    return d3_selectMatches(this, selector);\n  };\n}\nd3_selectionPrototype.order = function() {\n  for (var j = -1, m = this.length; ++j < m;) {\n    for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n};\nd3_selectionPrototype.sort = function(comparator) {\n  comparator = d3_selection_sortComparator.apply(this, arguments);\n  for (var j = -1, m = this.length; ++j < m;) this[j].sort(comparator);\n  return this.order();\n};\n\nfunction d3_selection_sortComparator(comparator) {\n  if (!arguments.length) comparator = d3.ascending;\n  return function(a, b) {\n    return comparator(a && a.__data__, b && b.__data__);\n  };\n}\n// type can be namespaced, e.g., \"click.foo\"\n// listener can be null for removal\nd3_selectionPrototype.on = function(type, listener, capture) {\n  if (arguments.length < 3) capture = false;\n\n  // parse the type specifier\n  var name = \"__on\" + type, i = type.indexOf(\".\");\n  if (i > 0) type = type.substring(0, i);\n\n  // if called with only one argument, return the current listener\n  if (arguments.length < 2) return (i = this.node()[name]) && i._;\n\n  // remove the old event listener, and add the new event listener\n  return this.each(function(d, i) {\n    var node = this,\n        o = node[name];\n\n    // remove the old listener, if any (using the previously-set capture)\n    if (o) {\n      node.removeEventListener(type, o, o.$);\n      delete node[name];\n    }\n\n    // add the new listener, if any (remembering the capture flag)\n    if (listener) {\n      node.addEventListener(type, node[name] = l, l.$ = capture);\n      l._ = listener; // stash the unwrapped listener for get\n    }\n\n    // wrapped event listener that preserves i\n    function l(e) {\n      var o = d3.event; // Events can be reentrant (e.g., focus).\n      d3.event = e;\n      try {\n        listener.call(node, node.__data__, i);\n      } finally {\n        d3.event = o;\n      }\n    }\n  });\n};\nd3_selectionPrototype.each = function(callback) {\n  return d3_selection_each(this, function(node, i, j) {\n    callback.call(node, node.__data__, i, j);\n  });\n};\n\nfunction d3_selection_each(groups, callback) {\n  for (var j = 0, m = groups.length; j < m; j++) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) {\n      if (node = group[i]) callback(node, i, j);\n    }\n  }\n  return groups;\n}\n//\n// Note: assigning to the arguments array simultaneously changes the value of\n// the corresponding argument!\n//\n// TODO The `this` argument probably shouldn't be the first argument to the\n// callback, anyway, since it's redundant. However, that will require a major\n// version bump due to backwards compatibility, so I'm not changing it right\n// away.\n//\nd3_selectionPrototype.call = function(callback) {\n  callback.apply(this, (arguments[0] = this, arguments));\n  return this;\n};\nd3_selectionPrototype.empty = function() {\n  return !this.node();\n};\nd3_selectionPrototype.node = function(callback) {\n  for (var j = 0, m = this.length; j < m; j++) {\n    for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n  return null;\n};\nd3_selectionPrototype.transition = function() {\n  var subgroups = [],\n      subgroup,\n      node;\n\n  for (var j = -1, m = this.length; ++j < m;) {\n    subgroups.push(subgroup = []);\n    for (var group = this[j], i = -1, n = group.length; ++i < n;) {\n      subgroup.push((node = group[i]) ? {node: node, delay: d3_transitionDelay, duration: d3_transitionDuration} : null);\n    }\n  }\n\n  return d3_transition(subgroups, d3_transitionId || ++d3_transitionNextId, Date.now());\n};\nvar d3_selectionRoot = d3_selection([[document]]);\n\nd3_selectionRoot[0].parentNode = d3_selectRoot;\n\n// TODO fast singleton implementation!\n// TODO select(function)\nd3.select = function(selector) {\n  return typeof selector === \"string\"\n      ? d3_selectionRoot.select(selector)\n      : d3_selection([[selector]]); // assume node\n};\n\n// TODO selectAll(function)\nd3.selectAll = function(selector) {\n  return typeof selector === \"string\"\n      ? d3_selectionRoot.selectAll(selector)\n      : d3_selection([d3_array(selector)]); // assume node[]\n};\nfunction d3_selection_enter(selection) {\n  d3_arraySubclass(selection, d3_selection_enterPrototype);\n  return selection;\n}\n\nvar d3_selection_enterPrototype = [];\n\nd3.selection.enter = d3_selection_enter;\nd3.selection.enter.prototype = d3_selection_enterPrototype;\n\nd3_selection_enterPrototype.append = d3_selectionPrototype.append;\nd3_selection_enterPrototype.insert = d3_selectionPrototype.insert;\nd3_selection_enterPrototype.empty = d3_selectionPrototype.empty;\nd3_selection_enterPrototype.node = d3_selectionPrototype.node;\nd3_selection_enterPrototype.select = function(selector) {\n  var subgroups = [],\n      subgroup,\n      subnode,\n      upgroup,\n      group,\n      node;\n\n  for (var j = -1, m = this.length; ++j < m;) {\n    upgroup = (group = this[j]).update;\n    subgroups.push(subgroup = []);\n    subgroup.parentNode = group.parentNode;\n    for (var i = -1, n = group.length; ++i < n;) {\n      if (node = group[i]) {\n        subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i));\n        subnode.__data__ = node.__data__;\n      } else {\n        subgroup.push(null);\n      }\n    }\n  }\n\n  return d3_selection(subgroups);\n};\nfunction d3_transition(groups, id, time) {\n  d3_arraySubclass(groups, d3_transitionPrototype);\n\n  var tweens = new d3_Map,\n      event = d3.dispatch(\"start\", \"end\"),\n      ease = d3_transitionEase;\n\n  groups.id = id;\n\n  groups.time = time;\n\n  groups.tween = function(name, tween) {\n    if (arguments.length < 2) return tweens.get(name);\n    if (tween == null) tweens.remove(name);\n    else tweens.set(name, tween);\n    return groups;\n  };\n\n  groups.ease = function(value) {\n    if (!arguments.length) return ease;\n    ease = typeof value === \"function\" ? value : d3.ease.apply(d3, arguments);\n    return groups;\n  };\n\n  groups.each = function(type, listener) {\n    if (arguments.length < 2) return d3_transition_each.call(groups, type);\n    event.on(type, listener);\n    return groups;\n  };\n\n  d3.timer(function(elapsed) {\n    return d3_selection_each(groups, function(node, i, j) {\n      var tweened = [],\n          delay = node.delay,\n          duration = node.duration,\n          lock = (node = node.node).__transition__ || (node.__transition__ = {active: 0, count: 0}),\n          d = node.__data__;\n\n      ++lock.count;\n\n      delay <= elapsed ? start(elapsed) : d3.timer(start, delay, time);\n\n      function start(elapsed) {\n        if (lock.active > id) return stop();\n        lock.active = id;\n\n        tweens.forEach(function(key, value) {\n          if (value = value.call(node, d, i)) {\n            tweened.push(value);\n          }\n        });\n\n        event.start.call(node, d, i);\n        if (!tick(elapsed)) d3.timer(tick, 0, time);\n        return 1;\n      }\n\n      function tick(elapsed) {\n        if (lock.active !== id) return stop();\n\n        var t = (elapsed - delay) / duration,\n            e = ease(t),\n            n = tweened.length;\n\n        while (n > 0) {\n          tweened[--n].call(node, e);\n        }\n\n        if (t >= 1) {\n          stop();\n          d3_transitionId = id;\n          event.end.call(node, d, i);\n          d3_transitionId = 0;\n          return 1;\n        }\n      }\n\n      function stop() {\n        if (!--lock.count) delete node.__transition__;\n        return 1;\n      }\n    });\n  }, 0, time);\n\n  return groups;\n}\n\nvar d3_transitionRemove = {};\n\nfunction d3_transitionNull(d, i, a) {\n  return a != \"\" && d3_transitionRemove;\n}\n\nfunction d3_transitionTween(name, b) {\n  var interpolate = d3_interpolateByName(name);\n\n  function transitionFunction(d, i, a) {\n    var v = b.call(this, d, i);\n    return v == null\n        ? a != \"\" && d3_transitionRemove\n        : a != v && interpolate(a, v);\n  }\n\n  function transitionString(d, i, a) {\n    return a != b && interpolate(a, b);\n  }\n\n  return typeof b === \"function\" ? transitionFunction\n      : b == null ? d3_transitionNull\n      : (b += \"\", transitionString);\n}\n\nvar d3_transitionPrototype = [],\n    d3_transitionNextId = 0,\n    d3_transitionId = 0,\n    d3_transitionDefaultDelay = 0,\n    d3_transitionDefaultDuration = 250,\n    d3_transitionDefaultEase = d3.ease(\"cubic-in-out\"),\n    d3_transitionDelay = d3_transitionDefaultDelay,\n    d3_transitionDuration = d3_transitionDefaultDuration,\n    d3_transitionEase = d3_transitionDefaultEase;\n\nd3_transitionPrototype.call = d3_selectionPrototype.call;\n\nd3.transition = function(selection) {\n  return arguments.length\n      ? (d3_transitionId ? selection.transition() : selection)\n      : d3_selectionRoot.transition();\n};\n\nd3.transition.prototype = d3_transitionPrototype;\nd3_transitionPrototype.select = function(selector) {\n  var subgroups = [],\n      subgroup,\n      subnode,\n      node;\n\n  if (typeof selector !== \"function\") selector = d3_selection_selector(selector);\n\n  for (var j = -1, m = this.length; ++j < m;) {\n    subgroups.push(subgroup = []);\n    for (var group = this[j], i = -1, n = group.length; ++i < n;) {\n      if ((node = group[i]) && (subnode = selector.call(node.node, node.node.__data__, i))) {\n        if (\"__data__\" in node.node) subnode.__data__ = node.node.__data__;\n        subgroup.push({node: subnode, delay: node.delay, duration: node.duration});\n      } else {\n        subgroup.push(null);\n      }\n    }\n  }\n\n  return d3_transition(subgroups, this.id, this.time).ease(this.ease());\n};\nd3_transitionPrototype.selectAll = function(selector) {\n  var subgroups = [],\n      subgroup,\n      subnodes,\n      node;\n\n  if (typeof selector !== \"function\") selector = d3_selection_selectorAll(selector);\n\n  for (var j = -1, m = this.length; ++j < m;) {\n    for (var group = this[j], i = -1, n = group.length; ++i < n;) {\n      if (node = group[i]) {\n        subnodes = selector.call(node.node, node.node.__data__, i);\n        subgroups.push(subgroup = []);\n        for (var k = -1, o = subnodes.length; ++k < o;) {\n          subgroup.push({node: subnodes[k], delay: node.delay, duration: node.duration});\n        }\n      }\n    }\n  }\n\n  return d3_transition(subgroups, this.id, this.time).ease(this.ease());\n};\nd3_transitionPrototype.attr = function(name, value) {\n  return this.attrTween(name, d3_transitionTween(name, value));\n};\n\nd3_transitionPrototype.attrTween = function(nameNS, tween) {\n  var name = d3.ns.qualify(nameNS);\n\n  function attrTween(d, i) {\n    var f = tween.call(this, d, i, this.getAttribute(name));\n    return f === d3_transitionRemove\n        ? (this.removeAttribute(name), null)\n        : f && function(t) { this.setAttribute(name, f(t)); };\n  }\n\n  function attrTweenNS(d, i) {\n    var f = tween.call(this, d, i, this.getAttributeNS(name.space, name.local));\n    return f === d3_transitionRemove\n        ? (this.removeAttributeNS(name.space, name.local), null)\n        : f && function(t) { this.setAttributeNS(name.space, name.local, f(t)); };\n  }\n\n  return this.tween(\"attr.\" + nameNS, name.local ? attrTweenNS : attrTween);\n};\nd3_transitionPrototype.style = function(name, value, priority) {\n  if (arguments.length < 3) priority = \"\";\n  return this.styleTween(name, d3_transitionTween(name, value), priority);\n};\n\nd3_transitionPrototype.styleTween = function(name, tween, priority) {\n  if (arguments.length < 3) priority = \"\";\n  return this.tween(\"style.\" + name, function(d, i) {\n    var f = tween.call(this, d, i, window.getComputedStyle(this, null).getPropertyValue(name));\n    return f === d3_transitionRemove\n        ? (this.style.removeProperty(name), null)\n        : f && function(t) { this.style.setProperty(name, f(t), priority); };\n  });\n};\nd3_transitionPrototype.text = function(value) {\n  return this.tween(\"text\", function(d, i) {\n    this.textContent = typeof value === \"function\"\n        ? value.call(this, d, i)\n        : value;\n  });\n};\nd3_transitionPrototype.remove = function() {\n  return this.each(\"end.transition\", function() {\n    var p;\n    if (!this.__transition__ && (p = this.parentNode)) p.removeChild(this);\n  });\n};\nd3_transitionPrototype.delay = function(value) {\n  return d3_selection_each(this, typeof value === \"function\"\n      ? function(node, i, j) { node.delay = value.call(node = node.node, node.__data__, i, j) | 0; }\n      : (value = value | 0, function(node) { node.delay = value; }));\n};\nd3_transitionPrototype.duration = function(value) {\n  return d3_selection_each(this, typeof value === \"function\"\n      ? function(node, i, j) { node.duration = Math.max(1, value.call(node = node.node, node.__data__, i, j) | 0); }\n      : (value = Math.max(1, value | 0), function(node) { node.duration = value; }));\n};\nfunction d3_transition_each(callback) {\n  var id = d3_transitionId,\n      ease = d3_transitionEase,\n      delay = d3_transitionDelay,\n      duration = d3_transitionDuration;\n\n  d3_transitionId = this.id;\n  d3_transitionEase = this.ease();\n  d3_selection_each(this, function(node, i, j) {\n    d3_transitionDelay = node.delay;\n    d3_transitionDuration = node.duration;\n    callback.call(node = node.node, node.__data__, i, j);\n  });\n\n  d3_transitionId = id;\n  d3_transitionEase = ease;\n  d3_transitionDelay = delay;\n  d3_transitionDuration = duration;\n  return this;\n}\nd3_transitionPrototype.transition = function() {\n  return this.select(d3_this);\n};\nvar d3_timer_queue = null,\n    d3_timer_interval, // is an interval (or frame) active?\n    d3_timer_timeout; // is a timeout active?\n\n// The timer will continue to fire until callback returns true.\nd3.timer = function(callback, delay, then) {\n  var found = false,\n      t0,\n      t1 = d3_timer_queue;\n\n  if (arguments.length < 3) {\n    if (arguments.length < 2) delay = 0;\n    else if (!isFinite(delay)) return;\n    then = Date.now();\n  }\n\n  // See if the callback's already in the queue.\n  while (t1) {\n    if (t1.callback === callback) {\n      t1.then = then;\n      t1.delay = delay;\n      found = true;\n      break;\n    }\n    t0 = t1;\n    t1 = t1.next;\n  }\n\n  // Otherwise, add the callback to the queue.\n  if (!found) d3_timer_queue = {\n    callback: callback,\n    then: then,\n    delay: delay,\n    next: d3_timer_queue\n  };\n\n  // Start animatin'!\n  if (!d3_timer_interval) {\n    d3_timer_timeout = clearTimeout(d3_timer_timeout);\n    d3_timer_interval = 1;\n    d3_timer_frame(d3_timer_step);\n  }\n}\n\nfunction d3_timer_step() {\n  var elapsed,\n      now = Date.now(),\n      t1 = d3_timer_queue;\n\n  while (t1) {\n    elapsed = now - t1.then;\n    if (elapsed >= t1.delay) t1.flush = t1.callback(elapsed);\n    t1 = t1.next;\n  }\n\n  var delay = d3_timer_flush() - now;\n  if (delay > 24) {\n    if (isFinite(delay)) {\n      clearTimeout(d3_timer_timeout);\n      d3_timer_timeout = setTimeout(d3_timer_step, delay);\n    }\n    d3_timer_interval = 0;\n  } else {\n    d3_timer_interval = 1;\n    d3_timer_frame(d3_timer_step);\n  }\n}\n\nd3.timer.flush = function() {\n  var elapsed,\n      now = Date.now(),\n      t1 = d3_timer_queue;\n\n  while (t1) {\n    elapsed = now - t1.then;\n    if (!t1.delay) t1.flush = t1.callback(elapsed);\n    t1 = t1.next;\n  }\n\n  d3_timer_flush();\n};\n\n// Flush after callbacks, to avoid concurrent queue modification.\nfunction d3_timer_flush() {\n  var t0 = null,\n      t1 = d3_timer_queue,\n      then = Infinity;\n  while (t1) {\n    if (t1.flush) {\n      t1 = t0 ? t0.next = t1.next : d3_timer_queue = t1.next;\n    } else {\n      then = Math.min(then, t1.then + t1.delay);\n      t1 = (t0 = t1).next;\n    }\n  }\n  return then;\n}\n\nvar d3_timer_frame = window.requestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.oRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || function(callback) { setTimeout(callback, 17); };\nd3.transform = function(string) {\n  var g = document.createElementNS(d3.ns.prefix.svg, \"g\"),\n      identity = {a: 1, b: 0, c: 0, d: 1, e: 0, f: 0};\n  return (d3.transform = function(string) {\n    g.setAttribute(\"transform\", string);\n    var t = g.transform.baseVal.consolidate();\n    return new d3_transform(t ? t.matrix : identity);\n  })(string);\n};\n\n// Compute x-scale and normalize the first row.\n// Compute shear and make second row orthogonal to first.\n// Compute y-scale and normalize the second row.\n// Finally, compute the rotation.\nfunction d3_transform(m) {\n  var r0 = [m.a, m.b],\n      r1 = [m.c, m.d],\n      kx = d3_transformNormalize(r0),\n      kz = d3_transformDot(r0, r1),\n      ky = d3_transformNormalize(d3_transformCombine(r1, r0, -kz)) || 0;\n  if (r0[0] * r1[1] < r1[0] * r0[1]) {\n    r0[0] *= -1;\n    r0[1] *= -1;\n    kx *= -1;\n    kz *= -1;\n  }\n  this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * d3_transformDegrees;\n  this.translate = [m.e, m.f];\n  this.scale = [kx, ky];\n  this.skew = ky ? Math.atan2(kz, ky) * d3_transformDegrees : 0;\n};\n\nd3_transform.prototype.toString = function() {\n  return \"translate(\" + this.translate\n      + \")rotate(\" + this.rotate\n      + \")skewX(\" + this.skew\n      + \")scale(\" + this.scale\n      + \")\";\n};\n\nfunction d3_transformDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n\nfunction d3_transformNormalize(a) {\n  var k = Math.sqrt(d3_transformDot(a, a));\n  if (k) {\n    a[0] /= k;\n    a[1] /= k;\n  }\n  return k;\n}\n\nfunction d3_transformCombine(a, b, k) {\n  a[0] += k * b[0];\n  a[1] += k * b[1];\n  return a;\n}\n\nvar d3_transformDegrees = 180 / Math.PI;\nd3.mouse = function(container) {\n  return d3_mousePoint(container, d3_eventSource());\n};\n\n// https://bugs.webkit.org/show_bug.cgi?id=44083\nvar d3_mouse_bug44083 = /WebKit/.test(navigator.userAgent) ? -1 : 0;\n\nfunction d3_mousePoint(container, e) {\n  var svg = container.ownerSVGElement || container;\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    if ((d3_mouse_bug44083 < 0) && (window.scrollX || window.scrollY)) {\n      svg = d3.select(document.body)\n        .append(\"svg\")\n          .style(\"position\", \"absolute\")\n          .style(\"top\", 0)\n          .style(\"left\", 0);\n      var ctm = svg[0][0].getScreenCTM();\n      d3_mouse_bug44083 = !(ctm.f || ctm.e);\n      svg.remove();\n    }\n    if (d3_mouse_bug44083) {\n      point.x = e.pageX;\n      point.y = e.pageY;\n    } else {\n      point.x = e.clientX;\n      point.y = e.clientY;\n    }\n    point = point.matrixTransform(container.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n  var rect = container.getBoundingClientRect();\n  return [e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop];\n};\nd3.touches = function(container, touches) {\n  if (arguments.length < 2) touches = d3_eventSource().touches;\n  return touches ? d3_array(touches).map(function(touch) {\n    var point = d3_mousePoint(container, touch);\n    point.identifier = touch.identifier;\n    return point;\n  }) : [];\n};\nfunction d3_noop() {}\nd3.scale = {};\n\nfunction d3_scaleExtent(domain) {\n  var start = domain[0], stop = domain[domain.length - 1];\n  return start < stop ? [start, stop] : [stop, start];\n}\n\nfunction d3_scaleRange(scale) {\n  return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n}\nfunction d3_scale_nice(domain, nice) {\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      dx;\n\n  if (x1 < x0) {\n    dx = i0; i0 = i1; i1 = dx;\n    dx = x0; x0 = x1; x1 = dx;\n  }\n\n  if (dx = x1 - x0) {\n    nice = nice(dx);\n    domain[i0] = nice.floor(x0);\n    domain[i1] = nice.ceil(x1);\n  }\n\n  return domain;\n}\n\nfunction d3_scale_niceDefault() {\n  return Math;\n}\nd3.scale.linear = function() {\n  return d3_scale_linear([0, 1], [0, 1], d3.interpolate, false);\n};\n\nfunction d3_scale_linear(domain, range, interpolate, clamp) {\n  var output,\n      input;\n\n  function rescale() {\n    var linear = Math.min(domain.length, range.length) > 2 ? d3_scale_polylinear : d3_scale_bilinear,\n        uninterpolate = clamp ? d3_uninterpolateClamp : d3_uninterpolateNumber;\n    output = linear(domain, range, uninterpolate, interpolate);\n    input = linear(range, domain, uninterpolate, d3.interpolate);\n    return scale;\n  }\n\n  function scale(x) {\n    return output(x);\n  }\n\n  // Note: requires range is coercible to number!\n  scale.invert = function(y) {\n    return input(y);\n  };\n\n  scale.domain = function(x) {\n    if (!arguments.length) return domain;\n    domain = x.map(Number);\n    return rescale();\n  };\n\n  scale.range = function(x) {\n    if (!arguments.length) return range;\n    range = x;\n    return rescale();\n  };\n\n  scale.rangeRound = function(x) {\n    return scale.range(x).interpolate(d3.interpolateRound);\n  };\n\n  scale.clamp = function(x) {\n    if (!arguments.length) return clamp;\n    clamp = x;\n    return rescale();\n  };\n\n  scale.interpolate = function(x) {\n    if (!arguments.length) return interpolate;\n    interpolate = x;\n    return rescale();\n  };\n\n  scale.ticks = function(m) {\n    return d3_scale_linearTicks(domain, m);\n  };\n\n  scale.tickFormat = function(m) {\n    return d3_scale_linearTickFormat(domain, m);\n  };\n\n  scale.nice = function() {\n    d3_scale_nice(domain, d3_scale_linearNice);\n    return rescale();\n  };\n\n  scale.copy = function() {\n    return d3_scale_linear(domain, range, interpolate, clamp);\n  };\n\n  return rescale();\n}\n\nfunction d3_scale_linearRebind(scale, linear) {\n  return d3.rebind(scale, linear, \"range\", \"rangeRound\", \"interpolate\", \"clamp\");\n}\n\nfunction d3_scale_linearNice(dx) {\n  dx = Math.pow(10, Math.round(Math.log(dx) / Math.LN10) - 1);\n  return {\n    floor: function(x) { return Math.floor(x / dx) * dx; },\n    ceil: function(x) { return Math.ceil(x / dx) * dx; }\n  };\n}\n\nfunction d3_scale_linearTickRange(domain, m) {\n  var extent = d3_scaleExtent(domain),\n      span = extent[1] - extent[0],\n      step = Math.pow(10, Math.floor(Math.log(span / m) / Math.LN10)),\n      err = m / span * step;\n\n  // Filter ticks to get closer to the desired count.\n  if (err <= .15) step *= 10;\n  else if (err <= .35) step *= 5;\n  else if (err <= .75) step *= 2;\n\n  // Round start and stop values to step interval.\n  extent[0] = Math.ceil(extent[0] / step) * step;\n  extent[1] = Math.floor(extent[1] / step) * step + step * .5; // inclusive\n  extent[2] = step;\n  return extent;\n}\n\nfunction d3_scale_linearTicks(domain, m) {\n  return d3.range.apply(d3, d3_scale_linearTickRange(domain, m));\n}\n\nfunction d3_scale_linearTickFormat(domain, m) {\n  return d3.format(\",.\" + Math.max(0, -Math.floor(Math.log(d3_scale_linearTickRange(domain, m)[2]) / Math.LN10 + .01)) + \"f\");\n}\nfunction d3_scale_bilinear(domain, range, uninterpolate, interpolate) {\n  var u = uninterpolate(domain[0], domain[1]),\n      i = interpolate(range[0], range[1]);\n  return function(x) {\n    return i(u(x));\n  };\n}\nfunction d3_scale_polylinear(domain, range, uninterpolate, interpolate) {\n  var u = [],\n      i = [],\n      j = 0,\n      k = Math.min(domain.length, range.length) - 1;\n\n  // Handle descending domains.\n  if (domain[k] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++j <= k) {\n    u.push(uninterpolate(domain[j - 1], domain[j]));\n    i.push(interpolate(range[j - 1], range[j]));\n  }\n\n  return function(x) {\n    var j = d3.bisect(domain, x, 1, k) - 1;\n    return i[j](u[j](x));\n  };\n}\nd3.scale.log = function() {\n  return d3_scale_log(d3.scale.linear(), d3_scale_logp);\n};\n\nfunction d3_scale_log(linear, log) {\n  var pow = log.pow;\n\n  function scale(x) {\n    return linear(log(x));\n  }\n\n  scale.invert = function(x) {\n    return pow(linear.invert(x));\n  };\n\n  scale.domain = function(x) {\n    if (!arguments.length) return linear.domain().map(pow);\n    log = x[0] < 0 ? d3_scale_logn : d3_scale_logp;\n    pow = log.pow;\n    linear.domain(x.map(log));\n    return scale;\n  };\n\n  scale.nice = function() {\n    linear.domain(d3_scale_nice(linear.domain(), d3_scale_niceDefault));\n    return scale;\n  };\n\n  scale.ticks = function() {\n    var extent = d3_scaleExtent(linear.domain()),\n        ticks = [];\n    if (extent.every(isFinite)) {\n      var i = Math.floor(extent[0]),\n          j = Math.ceil(extent[1]),\n          u = pow(extent[0]),\n          v = pow(extent[1]);\n      if (log === d3_scale_logn) {\n        ticks.push(pow(i));\n        for (; i++ < j;) for (var k = 9; k > 0; k--) ticks.push(pow(i) * k);\n      } else {\n        for (; i < j; i++) for (var k = 1; k < 10; k++) ticks.push(pow(i) * k);\n        ticks.push(pow(i));\n      }\n      for (i = 0; ticks[i] < u; i++) {} // strip small values\n      for (j = ticks.length; ticks[j - 1] > v; j--) {} // strip big values\n      ticks = ticks.slice(i, j);\n    }\n    return ticks;\n  };\n\n  scale.tickFormat = function(n, format) {\n    if (arguments.length < 2) format = d3_scale_logFormat;\n    if (arguments.length < 1) return format;\n    var k = Math.max(.1, n / scale.ticks().length),\n        f = log === d3_scale_logn ? (e = -1e-12, Math.floor) : (e = 1e-12, Math.ceil),\n        e;\n    return function(d) {\n      return d / pow(f(log(d) + e)) <= k ? format(d) : \"\";\n    };\n  };\n\n  scale.copy = function() {\n    return d3_scale_log(linear.copy(), log);\n  };\n\n  return d3_scale_linearRebind(scale, linear);\n}\n\nvar d3_scale_logFormat = d3.format(\".0e\");\n\nfunction d3_scale_logp(x) {\n  return Math.log(x < 0 ? 0 : x) / Math.LN10;\n}\n\nfunction d3_scale_logn(x) {\n  return -Math.log(x > 0 ? 0 : -x) / Math.LN10;\n}\n\nd3_scale_logp.pow = function(x) {\n  return Math.pow(10, x);\n};\n\nd3_scale_logn.pow = function(x) {\n  return -Math.pow(10, -x);\n};\nd3.scale.pow = function() {\n  return d3_scale_pow(d3.scale.linear(), 1);\n};\n\nfunction d3_scale_pow(linear, exponent) {\n  var powp = d3_scale_powPow(exponent),\n      powb = d3_scale_powPow(1 / exponent);\n\n  function scale(x) {\n    return linear(powp(x));\n  }\n\n  scale.invert = function(x) {\n    return powb(linear.invert(x));\n  };\n\n  scale.domain = function(x) {\n    if (!arguments.length) return linear.domain().map(powb);\n    linear.domain(x.map(powp));\n    return scale;\n  };\n\n  scale.ticks = function(m) {\n    return d3_scale_linearTicks(scale.domain(), m);\n  };\n\n  scale.tickFormat = function(m) {\n    return d3_scale_linearTickFormat(scale.domain(), m);\n  };\n\n  scale.nice = function() {\n    return scale.domain(d3_scale_nice(scale.domain(), d3_scale_linearNice));\n  };\n\n  scale.exponent = function(x) {\n    if (!arguments.length) return exponent;\n    var domain = scale.domain();\n    powp = d3_scale_powPow(exponent = x);\n    powb = d3_scale_powPow(1 / exponent);\n    return scale.domain(domain);\n  };\n\n  scale.copy = function() {\n    return d3_scale_pow(linear.copy(), exponent);\n  };\n\n  return d3_scale_linearRebind(scale, linear);\n}\n\nfunction d3_scale_powPow(e) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, e) : Math.pow(x, e);\n  };\n}\nd3.scale.sqrt = function() {\n  return d3.scale.pow().exponent(.5);\n};\nd3.scale.ordinal = function() {\n  return d3_scale_ordinal([], {t: \"range\", x: []});\n};\n\nfunction d3_scale_ordinal(domain, ranger) {\n  var index,\n      range,\n      rangeBand;\n\n  function scale(x) {\n    return range[((index.get(x) || index.set(x, domain.push(x))) - 1) % range.length];\n  }\n\n  function steps(start, step) {\n    return d3.range(domain.length).map(function(i) { return start + step * i; });\n  }\n\n  scale.domain = function(x) {\n    if (!arguments.length) return domain;\n    domain = [];\n    index = new d3_Map;\n    var i = -1, n = x.length, xi;\n    while (++i < n) if (!index.has(xi = x[i])) index.set(xi, domain.push(xi));\n    return scale[ranger.t](ranger.x, ranger.p);\n  };\n\n  scale.range = function(x) {\n    if (!arguments.length) return range;\n    range = x;\n    rangeBand = 0;\n    ranger = {t: \"range\", x: x};\n    return scale;\n  };\n\n  scale.rangePoints = function(x, padding) {\n    if (arguments.length < 2) padding = 0;\n    var start = x[0],\n        stop = x[1],\n        step = (stop - start) / (domain.length - 1 + padding);\n    range = steps(domain.length < 2 ? (start + stop) / 2 : start + step * padding / 2, step);\n    rangeBand = 0;\n    ranger = {t: \"rangePoints\", x: x, p: padding};\n    return scale;\n  };\n\n  scale.rangeBands = function(x, padding) {\n    if (arguments.length < 2) padding = 0;\n    var reverse = x[1] < x[0],\n        start = x[reverse - 0],\n        stop = x[1 - reverse],\n        step = (stop - start) / (domain.length + padding);\n    range = steps(start + step * padding, step);\n    if (reverse) range.reverse();\n    rangeBand = step * (1 - padding);\n    ranger = {t: \"rangeBands\", x: x, p: padding};\n    return scale;\n  };\n\n  scale.rangeRoundBands = function(x, padding) {\n    if (arguments.length < 2) padding = 0;\n    var reverse = x[1] < x[0],\n        start = x[reverse - 0],\n        stop = x[1 - reverse],\n        step = Math.floor((stop - start) / (domain.length + padding)),\n        error = stop - start - (domain.length - padding) * step;\n    range = steps(start + Math.round(error / 2), step);\n    if (reverse) range.reverse();\n    rangeBand = Math.round(step * (1 - padding));\n    ranger = {t: \"rangeRoundBands\", x: x, p: padding};\n    return scale;\n  };\n\n  scale.rangeBand = function() {\n    return rangeBand;\n  };\n\n  scale.rangeExtent = function() {\n    return d3_scaleExtent(ranger.x);\n  };\n\n  scale.copy = function() {\n    return d3_scale_ordinal(domain, ranger);\n  };\n\n  return scale.domain(domain);\n}\n/*\n * This product includes color specifications and designs developed by Cynthia\n * Brewer (http://colorbrewer.org/). See lib/colorbrewer for more information.\n */\n\nd3.scale.category10 = function() {\n  return d3.scale.ordinal().range(d3_category10);\n};\n\nd3.scale.category20 = function() {\n  return d3.scale.ordinal().range(d3_category20);\n};\n\nd3.scale.category20b = function() {\n  return d3.scale.ordinal().range(d3_category20b);\n};\n\nd3.scale.category20c = function() {\n  return d3.scale.ordinal().range(d3_category20c);\n};\n\nvar d3_category10 = [\n  \"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\",\n  \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\"\n];\n\nvar d3_category20 = [\n  \"#1f77b4\", \"#aec7e8\",\n  \"#ff7f0e\", \"#ffbb78\",\n  \"#2ca02c\", \"#98df8a\",\n  \"#d62728\", \"#ff9896\",\n  \"#9467bd\", \"#c5b0d5\",\n  \"#8c564b\", \"#c49c94\",\n  \"#e377c2\", \"#f7b6d2\",\n  \"#7f7f7f\", \"#c7c7c7\",\n  \"#bcbd22\", \"#dbdb8d\",\n  \"#17becf\", \"#9edae5\"\n];\n\nvar d3_category20b = [\n  \"#393b79\", \"#5254a3\", \"#6b6ecf\", \"#9c9ede\",\n  \"#637939\", \"#8ca252\", \"#b5cf6b\", \"#cedb9c\",\n  \"#8c6d31\", \"#bd9e39\", \"#e7ba52\", \"#e7cb94\",\n  \"#843c39\", \"#ad494a\", \"#d6616b\", \"#e7969c\",\n  \"#7b4173\", \"#a55194\", \"#ce6dbd\", \"#de9ed6\"\n];\n\nvar d3_category20c = [\n  \"#3182bd\", \"#6baed6\", \"#9ecae1\", \"#c6dbef\",\n  \"#e6550d\", \"#fd8d3c\", \"#fdae6b\", \"#fdd0a2\",\n  \"#31a354\", \"#74c476\", \"#a1d99b\", \"#c7e9c0\",\n  \"#756bb1\", \"#9e9ac8\", \"#bcbddc\", \"#dadaeb\",\n  \"#636363\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\"\n];\nd3.scale.quantile = function() {\n  return d3_scale_quantile([], []);\n};\n\nfunction d3_scale_quantile(domain, range) {\n  var thresholds;\n\n  function rescale() {\n    var k = 0,\n        n = domain.length,\n        q = range.length;\n    thresholds = [];\n    while (++k < q) thresholds[k - 1] = d3.quantile(domain, k / q);\n    return scale;\n  }\n\n  function scale(x) {\n    if (isNaN(x = +x)) return NaN;\n    return range[d3.bisect(thresholds, x)];\n  }\n\n  scale.domain = function(x) {\n    if (!arguments.length) return domain;\n    domain = x.filter(function(d) { return !isNaN(d); }).sort(d3.ascending);\n    return rescale();\n  };\n\n  scale.range = function(x) {\n    if (!arguments.length) return range;\n    range = x;\n    return rescale();\n  };\n\n  scale.quantiles = function() {\n    return thresholds;\n  };\n\n  scale.copy = function() {\n    return d3_scale_quantile(domain, range); // copy on write!\n  };\n\n  return rescale();\n}\nd3.scale.quantize = function() {\n  return d3_scale_quantize(0, 1, [0, 1]);\n};\n\nfunction d3_scale_quantize(x0, x1, range) {\n  var kx, i;\n\n  function scale(x) {\n    return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];\n  }\n\n  function rescale() {\n    kx = range.length / (x1 - x0);\n    i = range.length - 1;\n    return scale;\n  }\n\n  scale.domain = function(x) {\n    if (!arguments.length) return [x0, x1];\n    x0 = +x[0];\n    x1 = +x[x.length - 1];\n    return rescale();\n  };\n\n  scale.range = function(x) {\n    if (!arguments.length) return range;\n    range = x;\n    return rescale();\n  };\n\n  scale.copy = function() {\n    return d3_scale_quantize(x0, x1, range); // copy on write\n  };\n\n  return rescale();\n}\nd3.scale.identity = function() {\n  return d3_scale_identity([0, 1]);\n};\n\nfunction d3_scale_identity(domain) {\n\n  function identity(x) { return +x; }\n\n  identity.invert = identity;\n\n  identity.domain = identity.range = function(x) {\n    if (!arguments.length) return domain;\n    domain = x.map(identity);\n    return identity;\n  };\n\n  identity.ticks = function(m) {\n    return d3_scale_linearTicks(domain, m);\n  };\n\n  identity.tickFormat = function(m) {\n    return d3_scale_linearTickFormat(domain, m);\n  };\n\n  identity.copy = function() {\n    return d3_scale_identity(domain);\n  };\n\n  return identity;\n}\nd3.svg = {};\nd3.svg.arc = function() {\n  var innerRadius = d3_svg_arcInnerRadius,\n      outerRadius = d3_svg_arcOuterRadius,\n      startAngle = d3_svg_arcStartAngle,\n      endAngle = d3_svg_arcEndAngle;\n\n  function arc() {\n    var r0 = innerRadius.apply(this, arguments),\n        r1 = outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) + d3_svg_arcOffset,\n        a1 = endAngle.apply(this, arguments) + d3_svg_arcOffset,\n        da = (a1 < a0 && (da = a0, a0 = a1, a1 = da), a1 - a0),\n        df = da < Math.PI ? \"0\" : \"1\",\n        c0 = Math.cos(a0),\n        s0 = Math.sin(a0),\n        c1 = Math.cos(a1),\n        s1 = Math.sin(a1);\n    return da >= d3_svg_arcMax\n      ? (r0\n      ? \"M0,\" + r1\n      + \"A\" + r1 + \",\" + r1 + \" 0 1,1 0,\" + (-r1)\n      + \"A\" + r1 + \",\" + r1 + \" 0 1,1 0,\" + r1\n      + \"M0,\" + r0\n      + \"A\" + r0 + \",\" + r0 + \" 0 1,0 0,\" + (-r0)\n      + \"A\" + r0 + \",\" + r0 + \" 0 1,0 0,\" + r0\n      + \"Z\"\n      : \"M0,\" + r1\n      + \"A\" + r1 + \",\" + r1 + \" 0 1,1 0,\" + (-r1)\n      + \"A\" + r1 + \",\" + r1 + \" 0 1,1 0,\" + r1\n      + \"Z\")\n      : (r0\n      ? \"M\" + r1 * c0 + \",\" + r1 * s0\n      + \"A\" + r1 + \",\" + r1 + \" 0 \" + df + \",1 \" + r1 * c1 + \",\" + r1 * s1\n      + \"L\" + r0 * c1 + \",\" + r0 * s1\n      + \"A\" + r0 + \",\" + r0 + \" 0 \" + df + \",0 \" + r0 * c0 + \",\" + r0 * s0\n      + \"Z\"\n      : \"M\" + r1 * c0 + \",\" + r1 * s0\n      + \"A\" + r1 + \",\" + r1 + \" 0 \" + df + \",1 \" + r1 * c1 + \",\" + r1 * s1\n      + \"L0,0\"\n      + \"Z\");\n  }\n\n  arc.innerRadius = function(v) {\n    if (!arguments.length) return innerRadius;\n    innerRadius = d3_functor(v);\n    return arc;\n  };\n\n  arc.outerRadius = function(v) {\n    if (!arguments.length) return outerRadius;\n    outerRadius = d3_functor(v);\n    return arc;\n  };\n\n  arc.startAngle = function(v) {\n    if (!arguments.length) return startAngle;\n    startAngle = d3_functor(v);\n    return arc;\n  };\n\n  arc.endAngle = function(v) {\n    if (!arguments.length) return endAngle;\n    endAngle = d3_functor(v);\n    return arc;\n  };\n\n  arc.centroid = function() {\n    var r = (innerRadius.apply(this, arguments)\n        + outerRadius.apply(this, arguments)) / 2,\n        a = (startAngle.apply(this, arguments)\n        + endAngle.apply(this, arguments)) / 2 + d3_svg_arcOffset;\n    return [Math.cos(a) * r, Math.sin(a) * r];\n  };\n\n  return arc;\n};\n\nvar d3_svg_arcOffset = -Math.PI / 2,\n    d3_svg_arcMax = 2 * Math.PI - 1e-6;\n\nfunction d3_svg_arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction d3_svg_arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction d3_svg_arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction d3_svg_arcEndAngle(d) {\n  return d.endAngle;\n}\nfunction d3_svg_line(projection) {\n  var x = d3_svg_lineX,\n      y = d3_svg_lineY,\n      defined = d3_true,\n      interpolate = d3_svg_lineInterpolatorDefault,\n      interpolator = d3_svg_lineLinear,\n      tension = .7;\n\n  function line(data) {\n    var segments = [],\n        points = [],\n        i = -1,\n        n = data.length,\n        d,\n        fx = d3_functor(x),\n        fy = d3_functor(y);\n\n    function segment() {\n      segments.push(\"M\", interpolator(projection(points), tension));\n    }\n\n    while (++i < n) {\n      if (defined.call(this, d = data[i], i)) {\n        points.push([+fx.call(this, d, i), +fy.call(this, d, i)]);\n      } else if (points.length) {\n        segment();\n        points = [];\n      }\n    }\n\n    if (points.length) segment();\n\n    return segments.length ? segments.join(\"\") : null;\n  }\n\n  line.x = function(_) {\n    if (!arguments.length) return x;\n    x = _;\n    return line;\n  };\n\n  line.y = function(_) {\n    if (!arguments.length) return y;\n    y = _;\n    return line;\n  };\n\n  line.defined  = function(_) {\n    if (!arguments.length) return defined;\n    defined = _;\n    return line;\n  };\n\n  line.interpolate = function(_) {\n    if (!arguments.length) return interpolate;\n    if (!d3_svg_lineInterpolators.has(_ += \"\")) _ = d3_svg_lineInterpolatorDefault;\n    interpolator = d3_svg_lineInterpolators.get(interpolate = _);\n    return line;\n  };\n\n  line.tension = function(_) {\n    if (!arguments.length) return tension;\n    tension = _;\n    return line;\n  };\n\n  return line;\n}\n\nd3.svg.line = function() {\n  return d3_svg_line(d3_identity);\n};\n\n// The default `x` property, which references d[0].\nfunction d3_svg_lineX(d) {\n  return d[0];\n}\n\n// The default `y` property, which references d[1].\nfunction d3_svg_lineY(d) {\n  return d[1];\n}\n\nvar d3_svg_lineInterpolatorDefault = \"linear\";\n\n// The various interpolators supported by the `line` class.\nvar d3_svg_lineInterpolators = d3.map({\n  \"linear\": d3_svg_lineLinear,\n  \"step-before\": d3_svg_lineStepBefore,\n  \"step-after\": d3_svg_lineStepAfter,\n  \"basis\": d3_svg_lineBasis,\n  \"basis-open\": d3_svg_lineBasisOpen,\n  \"basis-closed\": d3_svg_lineBasisClosed,\n  \"bundle\": d3_svg_lineBundle,\n  \"cardinal\": d3_svg_lineCardinal,\n  \"cardinal-open\": d3_svg_lineCardinalOpen,\n  \"cardinal-closed\": d3_svg_lineCardinalClosed,\n  \"monotone\": d3_svg_lineMonotone\n});\n\n// Linear interpolation; generates \"L\" commands.\nfunction d3_svg_lineLinear(points) {\n  var i = 0,\n      n = points.length,\n      p = points[0],\n      path = [p[0], \",\", p[1]];\n  while (++i < n) path.push(\"L\", (p = points[i])[0], \",\", p[1]);\n  return path.join(\"\");\n}\n\n// Step interpolation; generates \"H\" and \"V\" commands.\nfunction d3_svg_lineStepBefore(points) {\n  var i = 0,\n      n = points.length,\n      p = points[0],\n      path = [p[0], \",\", p[1]];\n  while (++i < n) path.push(\"V\", (p = points[i])[1], \"H\", p[0]);\n  return path.join(\"\");\n}\n\n// Step interpolation; generates \"H\" and \"V\" commands.\nfunction d3_svg_lineStepAfter(points) {\n  var i = 0,\n      n = points.length,\n      p = points[0],\n      path = [p[0], \",\", p[1]];\n  while (++i < n) path.push(\"H\", (p = points[i])[0], \"V\", p[1]);\n  return path.join(\"\");\n}\n\n// Open cardinal spline interpolation; generates \"C\" commands.\nfunction d3_svg_lineCardinalOpen(points, tension) {\n  return points.length < 4\n      ? d3_svg_lineLinear(points)\n      : points[1] + d3_svg_lineHermite(points.slice(1, points.length - 1),\n        d3_svg_lineCardinalTangents(points, tension));\n}\n\n// Closed cardinal spline interpolation; generates \"C\" commands.\nfunction d3_svg_lineCardinalClosed(points, tension) {\n  return points.length < 3\n      ? d3_svg_lineLinear(points)\n      : points[0] + d3_svg_lineHermite((points.push(points[0]), points),\n        d3_svg_lineCardinalTangents([points[points.length - 2]]\n        .concat(points, [points[1]]), tension));\n}\n\n// Cardinal spline interpolation; generates \"C\" commands.\nfunction d3_svg_lineCardinal(points, tension, closed) {\n  return points.length < 3\n      ? d3_svg_lineLinear(points)\n      : points[0] + d3_svg_lineHermite(points,\n        d3_svg_lineCardinalTangents(points, tension));\n}\n\n// Hermite spline construction; generates \"C\" commands.\nfunction d3_svg_lineHermite(points, tangents) {\n  if (tangents.length < 1\n      || (points.length != tangents.length\n      && points.length != tangents.length + 2)) {\n    return d3_svg_lineLinear(points);\n  }\n\n  var quad = points.length != tangents.length,\n      path = \"\",\n      p0 = points[0],\n      p = points[1],\n      t0 = tangents[0],\n      t = t0,\n      pi = 1;\n\n  if (quad) {\n    path += \"Q\" + (p[0] - t0[0] * 2 / 3) + \",\" + (p[1] - t0[1] * 2 / 3)\n        + \",\" + p[0] + \",\" + p[1];\n    p0 = points[1];\n    pi = 2;\n  }\n\n  if (tangents.length > 1) {\n    t = tangents[1];\n    p = points[pi];\n    pi++;\n    path += \"C\" + (p0[0] + t0[0]) + \",\" + (p0[1] + t0[1])\n        + \",\" + (p[0] - t[0]) + \",\" + (p[1] - t[1])\n        + \",\" + p[0] + \",\" + p[1];\n    for (var i = 2; i < tangents.length; i++, pi++) {\n      p = points[pi];\n      t = tangents[i];\n      path += \"S\" + (p[0] - t[0]) + \",\" + (p[1] - t[1])\n          + \",\" + p[0] + \",\" + p[1];\n    }\n  }\n\n  if (quad) {\n    var lp = points[pi];\n    path += \"Q\" + (p[0] + t[0] * 2 / 3) + \",\" + (p[1] + t[1] * 2 / 3)\n        + \",\" + lp[0] + \",\" + lp[1];\n  }\n\n  return path;\n}\n\n// Generates tangents for a cardinal spline.\nfunction d3_svg_lineCardinalTangents(points, tension) {\n  var tangents = [],\n      a = (1 - tension) / 2,\n      p0,\n      p1 = points[0],\n      p2 = points[1],\n      i = 1,\n      n = points.length;\n  while (++i < n) {\n    p0 = p1;\n    p1 = p2;\n    p2 = points[i];\n    tangents.push([a * (p2[0] - p0[0]), a * (p2[1] - p0[1])]);\n  }\n  return tangents;\n}\n\n// B-spline interpolation; generates \"C\" commands.\nfunction d3_svg_lineBasis(points) {\n  if (points.length < 3) return d3_svg_lineLinear(points);\n  var i = 1,\n      n = points.length,\n      pi = points[0],\n      x0 = pi[0],\n      y0 = pi[1],\n      px = [x0, x0, x0, (pi = points[1])[0]],\n      py = [y0, y0, y0, pi[1]],\n      path = [x0, \",\", y0];\n  d3_svg_lineBasisBezier(path, px, py);\n  while (++i < n) {\n    pi = points[i];\n    px.shift(); px.push(pi[0]);\n    py.shift(); py.push(pi[1]);\n    d3_svg_lineBasisBezier(path, px, py);\n  }\n  i = -1;\n  while (++i < 2) {\n    px.shift(); px.push(pi[0]);\n    py.shift(); py.push(pi[1]);\n    d3_svg_lineBasisBezier(path, px, py);\n  }\n  return path.join(\"\");\n}\n\n// Open B-spline interpolation; generates \"C\" commands.\nfunction d3_svg_lineBasisOpen(points) {\n  if (points.length < 4) return d3_svg_lineLinear(points);\n  var path = [],\n      i = -1,\n      n = points.length,\n      pi,\n      px = [0],\n      py = [0];\n  while (++i < 3) {\n    pi = points[i];\n    px.push(pi[0]);\n    py.push(pi[1]);\n  }\n  path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3, px)\n    + \",\" + d3_svg_lineDot4(d3_svg_lineBasisBezier3, py));\n  --i; while (++i < n) {\n    pi = points[i];\n    px.shift(); px.push(pi[0]);\n    py.shift(); py.push(pi[1]);\n    d3_svg_lineBasisBezier(path, px, py);\n  }\n  return path.join(\"\");\n}\n\n// Closed B-spline interpolation; generates \"C\" commands.\nfunction d3_svg_lineBasisClosed(points) {\n  var path,\n      i = -1,\n      n = points.length,\n      m = n + 4,\n      pi,\n      px = [],\n      py = [];\n  while (++i < 4) {\n    pi = points[i % n];\n    px.push(pi[0]);\n    py.push(pi[1]);\n  }\n  path = [\n    d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\",\n    d3_svg_lineDot4(d3_svg_lineBasisBezier3, py)\n  ];\n  --i; while (++i < m) {\n    pi = points[i % n];\n    px.shift(); px.push(pi[0]);\n    py.shift(); py.push(pi[1]);\n    d3_svg_lineBasisBezier(path, px, py);\n  }\n  return path.join(\"\");\n}\n\nfunction d3_svg_lineBundle(points, tension) {\n  var n = points.length - 1;\n  if (n) {\n    var x0 = points[0][0],\n        y0 = points[0][1],\n        dx = points[n][0] - x0,\n        dy = points[n][1] - y0,\n        i = -1,\n        p,\n        t;\n    while (++i <= n) {\n      p = points[i];\n      t = i / n;\n      p[0] = tension * p[0] + (1 - tension) * (x0 + t * dx);\n      p[1] = tension * p[1] + (1 - tension) * (y0 + t * dy);\n    }\n  }\n  return d3_svg_lineBasis(points);\n}\n\n// Returns the dot product of the given four-element vectors.\nfunction d3_svg_lineDot4(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n// Matrix to transform basis (b-spline) control points to bezier\n// control points. Derived from FvD 11.2.8.\nvar d3_svg_lineBasisBezier1 = [0, 2/3, 1/3, 0],\n    d3_svg_lineBasisBezier2 = [0, 1/3, 2/3, 0],\n    d3_svg_lineBasisBezier3 = [0, 1/6, 2/3, 1/6];\n\n// Pushes a \"C\" BÃ©zier curve onto the specified path array, given the\n// two specified four-element arrays which define the control points.\nfunction d3_svg_lineBasisBezier(path, x, y) {\n  path.push(\n      \"C\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x),\n      \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y),\n      \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x),\n      \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y),\n      \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x),\n      \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));\n}\n\n// Computes the slope from points p0 to p1.\nfunction d3_svg_lineSlope(p0, p1) {\n  return (p1[1] - p0[1]) / (p1[0] - p0[0]);\n}\n\n// Compute three-point differences for the given points.\n// http://en.wikipedia.org/wiki/Cubic_Hermite_spline#Finite_difference\nfunction d3_svg_lineFiniteDifferences(points) {\n  var i = 0,\n      j = points.length - 1,\n      m = [],\n      p0 = points[0],\n      p1 = points[1],\n      d = m[0] = d3_svg_lineSlope(p0, p1);\n  while (++i < j) {\n    m[i] = d + (d = d3_svg_lineSlope(p0 = p1, p1 = points[i + 1]));\n  }\n  m[i] = d;\n  return m;\n}\n\n// Interpolates the given points using Fritsch-Carlson Monotone cubic Hermite\n// interpolation. Returns an array of tangent vectors. For details, see\n// http://en.wikipedia.org/wiki/Monotone_cubic_interpolation\nfunction d3_svg_lineMonotoneTangents(points) {\n  var tangents = [],\n      d,\n      a,\n      b,\n      s,\n      m = d3_svg_lineFiniteDifferences(points),\n      i = -1,\n      j = points.length - 1;\n\n  // The first two steps are done by computing finite-differences:\n  // 1. Compute the slopes of the secant lines between successive points.\n  // 2. Initialize the tangents at every point as the average of the secants.\n\n  // Then, for each segmentâ€¦\n  while (++i < j) {\n    d = d3_svg_lineSlope(points[i], points[i + 1]);\n\n    // 3. If two successive yk = y{k + 1} are equal (i.e., d is zero), then set\n    // mk = m{k + 1} = 0 as the spline connecting these points must be flat to\n    // preserve monotonicity. Ignore step 4 and 5 for those k.\n\n    if (Math.abs(d) < 1e-6) {\n      m[i] = m[i + 1] = 0;\n    } else {\n      // 4. Let ak = mk / dk and bk = m{k + 1} / dk.\n      a = m[i] / d;\n      b = m[i + 1] / d;\n\n      // 5. Prevent overshoot and ensure monotonicity by restricting the\n      // magnitude of vector <ak, bk> to a circle of radius 3.\n      s = a * a + b * b;\n      if (s > 9) {\n        s = d * 3 / Math.sqrt(s);\n        m[i] = s * a;\n        m[i + 1] = s * b;\n      }\n    }\n  }\n\n  // Compute the normalized tangent vector from the slopes. Note that if x is\n  // not monotonic, it's possible that the slope will be infinite, so we protect\n  // against NaN by setting the coordinate to zero.\n  i = -1; while (++i <= j) {\n    s = (points[Math.min(j, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));\n    tangents.push([s || 0, m[i] * s || 0]);\n  }\n\n  return tangents;\n}\n\nfunction d3_svg_lineMonotone(points) {\n  return points.length < 3\n      ? d3_svg_lineLinear(points)\n      : points[0] + d3_svg_lineHermite(points, d3_svg_lineMonotoneTangents(points));\n}\nd3.svg.line.radial = function() {\n  var line = d3_svg_line(d3_svg_lineRadial);\n  line.radius = line.x, delete line.x;\n  line.angle = line.y, delete line.y;\n  return line;\n};\n\nfunction d3_svg_lineRadial(points) {\n  var point,\n      i = -1,\n      n = points.length,\n      r,\n      a;\n  while (++i < n) {\n    point = points[i];\n    r = point[0];\n    a = point[1] + d3_svg_arcOffset;\n    point[0] = r * Math.cos(a);\n    point[1] = r * Math.sin(a);\n  }\n  return points;\n}\nfunction d3_svg_area(projection) {\n  var x0 = d3_svg_lineX,\n      x1 = d3_svg_lineX,\n      y0 = 0,\n      y1 = d3_svg_lineY,\n      defined = d3_true,\n      interpolate = d3_svg_lineInterpolatorDefault,\n      i0 = d3_svg_lineLinear,\n      i1 = d3_svg_lineLinear,\n      L = \"L\",\n      tension = .7;\n\n  function area(data) {\n    var segments = [],\n        points0 = [],\n        points1 = [],\n        i = -1,\n        n = data.length,\n        d,\n        fx0 = d3_functor(x0),\n        fy0 = d3_functor(y0),\n        fx1 = x0 === x1 ? function() { return x; } : d3_functor(x1),\n        fy1 = y0 === y1 ? function() { return y; } : d3_functor(y1),\n        x,\n        y;\n\n    function segment() {\n      segments.push(\"M\", i0(projection(points1), tension),\n          L, i1(projection(points0.reverse()), tension),\n          \"Z\");\n    }\n\n    while (++i < n) {\n      if (defined.call(this, d = data[i], i)) {\n        points0.push([x = +fx0.call(this, d, i), y = +fy0.call(this, d, i)]);\n        points1.push([+fx1.call(this, d, i), +fy1.call(this, d, i)]);\n      } else if (points0.length) {\n        segment();\n        points0 = [];\n        points1 = [];\n      }\n    }\n\n    if (points0.length) segment();\n\n    return segments.length ? segments.join(\"\") : null;\n  }\n\n  area.x = function(_) {\n    if (!arguments.length) return x1;\n    x0 = x1 = _;\n    return area;\n  };\n\n  area.x0 = function(_) {\n    if (!arguments.length) return x0;\n    x0 = _;\n    return area;\n  };\n\n  area.x1 = function(_) {\n    if (!arguments.length) return x1;\n    x1 = _;\n    return area;\n  };\n\n  area.y = function(_) {\n    if (!arguments.length) return y1;\n    y0 = y1 = _;\n    return area;\n  };\n\n  area.y0 = function(_) {\n    if (!arguments.length) return y0;\n    y0 = _;\n    return area;\n  };\n\n  area.y1 = function(_) {\n    if (!arguments.length) return y1;\n    y1 = _;\n    return area;\n  };\n\n  area.defined  = function(_) {\n    if (!arguments.length) return defined;\n    defined = _;\n    return area;\n  };\n\n  area.interpolate = function(_) {\n    if (!arguments.length) return interpolate;\n    if (!d3_svg_lineInterpolators.has(_ += \"\")) _ = d3_svg_lineInterpolatorDefault;\n    i0 = d3_svg_lineInterpolators.get(interpolate = _);\n    i1 = i0.reverse || i0;\n    L = /-closed$/.test(_) ? \"M\" : \"L\";\n    return area;\n  };\n\n  area.tension = function(_) {\n    if (!arguments.length) return tension;\n    tension = _;\n    return area;\n  };\n\n  return area;\n}\n\nd3_svg_lineStepBefore.reverse = d3_svg_lineStepAfter;\nd3_svg_lineStepAfter.reverse = d3_svg_lineStepBefore;\n\nd3.svg.area = function() {\n  return d3_svg_area(Object);\n};\nd3.svg.area.radial = function() {\n  var area = d3_svg_area(d3_svg_lineRadial);\n  area.radius = area.x, delete area.x;\n  area.innerRadius = area.x0, delete area.x0;\n  area.outerRadius = area.x1, delete area.x1;\n  area.angle = area.y, delete area.y;\n  area.startAngle = area.y0, delete area.y0;\n  area.endAngle = area.y1, delete area.y1;\n  return area;\n};\nd3.svg.chord = function() {\n  var source = d3_svg_chordSource,\n      target = d3_svg_chordTarget,\n      radius = d3_svg_chordRadius,\n      startAngle = d3_svg_arcStartAngle,\n      endAngle = d3_svg_arcEndAngle;\n\n  // TODO Allow control point to be customized.\n\n  function chord(d, i) {\n    var s = subgroup(this, source, d, i),\n        t = subgroup(this, target, d, i);\n    return \"M\" + s.p0\n      + arc(s.r, s.p1, s.a1 - s.a0) + (equals(s, t)\n      ? curve(s.r, s.p1, s.r, s.p0)\n      : curve(s.r, s.p1, t.r, t.p0)\n      + arc(t.r, t.p1, t.a1 - t.a0)\n      + curve(t.r, t.p1, s.r, s.p0))\n      + \"Z\";\n  }\n\n  function subgroup(self, f, d, i) {\n    var subgroup = f.call(self, d, i),\n        r = radius.call(self, subgroup, i),\n        a0 = startAngle.call(self, subgroup, i) + d3_svg_arcOffset,\n        a1 = endAngle.call(self, subgroup, i) + d3_svg_arcOffset;\n    return {\n      r: r,\n      a0: a0,\n      a1: a1,\n      p0: [r * Math.cos(a0), r * Math.sin(a0)],\n      p1: [r * Math.cos(a1), r * Math.sin(a1)]\n    };\n  }\n\n  function equals(a, b) {\n    return a.a0 == b.a0 && a.a1 == b.a1;\n  }\n\n  function arc(r, p, a) {\n    return \"A\" + r + \",\" + r + \" 0 \" + +(a > Math.PI) + \",1 \" + p;\n  }\n\n  function curve(r0, p0, r1, p1) {\n    return \"Q 0,0 \" + p1;\n  }\n\n  chord.radius = function(v) {\n    if (!arguments.length) return radius;\n    radius = d3_functor(v);\n    return chord;\n  };\n\n  chord.source = function(v) {\n    if (!arguments.length) return source;\n    source = d3_functor(v);\n    return chord;\n  };\n\n  chord.target = function(v) {\n    if (!arguments.length) return target;\n    target = d3_functor(v);\n    return chord;\n  };\n\n  chord.startAngle = function(v) {\n    if (!arguments.length) return startAngle;\n    startAngle = d3_functor(v);\n    return chord;\n  };\n\n  chord.endAngle = function(v) {\n    if (!arguments.length) return endAngle;\n    endAngle = d3_functor(v);\n    return chord;\n  };\n\n  return chord;\n};\n\nfunction d3_svg_chordSource(d) {\n  return d.source;\n}\n\nfunction d3_svg_chordTarget(d) {\n  return d.target;\n}\n\nfunction d3_svg_chordRadius(d) {\n  return d.radius;\n}\n\nfunction d3_svg_chordStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction d3_svg_chordEndAngle(d) {\n  return d.endAngle;\n}\nd3.svg.diagonal = function() {\n  var source = d3_svg_chordSource,\n      target = d3_svg_chordTarget,\n      projection = d3_svg_diagonalProjection;\n\n  function diagonal(d, i) {\n    var p0 = source.call(this, d, i),\n        p3 = target.call(this, d, i),\n        m = (p0.y + p3.y) / 2,\n        p = [p0, {x: p0.x, y: m}, {x: p3.x, y: m}, p3];\n    p = p.map(projection);\n    return \"M\" + p[0] + \"C\" + p[1] + \" \" + p[2] + \" \" + p[3];\n  }\n\n  diagonal.source = function(x) {\n    if (!arguments.length) return source;\n    source = d3_functor(x);\n    return diagonal;\n  };\n\n  diagonal.target = function(x) {\n    if (!arguments.length) return target;\n    target = d3_functor(x);\n    return diagonal;\n  };\n\n  diagonal.projection = function(x) {\n    if (!arguments.length) return projection;\n    projection = x;\n    return diagonal;\n  };\n\n  return diagonal;\n};\n\nfunction d3_svg_diagonalProjection(d) {\n  return [d.x, d.y];\n}\nd3.svg.diagonal.radial = function() {\n  var diagonal = d3.svg.diagonal(),\n      projection = d3_svg_diagonalProjection,\n      projection_ = diagonal.projection;\n\n  diagonal.projection = function(x) {\n    return arguments.length\n        ? projection_(d3_svg_diagonalRadialProjection(projection = x))\n        : projection;\n  };\n\n  return diagonal;\n};\n\nfunction d3_svg_diagonalRadialProjection(projection) {\n  return function() {\n    var d = projection.apply(this, arguments),\n        r = d[0],\n        a = d[1] + d3_svg_arcOffset;\n    return [r * Math.cos(a), r * Math.sin(a)];\n  };\n}\nd3.svg.mouse = d3.mouse;\nd3.svg.touches = d3.touches;\nd3.svg.symbol = function() {\n  var type = d3_svg_symbolType,\n      size = d3_svg_symbolSize;\n\n  function symbol(d, i) {\n    return (d3_svg_symbols.get(type.call(this, d, i))\n        || d3_svg_symbolCircle)\n        (size.call(this, d, i));\n  }\n\n  symbol.type = function(x) {\n    if (!arguments.length) return type;\n    type = d3_functor(x);\n    return symbol;\n  };\n\n  // size of symbol in square pixels\n  symbol.size = function(x) {\n    if (!arguments.length) return size;\n    size = d3_functor(x);\n    return symbol;\n  };\n\n  return symbol;\n};\n\nfunction d3_svg_symbolSize() {\n  return 64;\n}\n\nfunction d3_svg_symbolType() {\n  return \"circle\";\n}\n\nfunction d3_svg_symbolCircle(size) {\n  var r = Math.sqrt(size / Math.PI);\n  return \"M0,\" + r\n      + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + (-r)\n      + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + r\n      + \"Z\";\n}\n\n// TODO cross-diagonal?\nvar d3_svg_symbols = d3.map({\n  \"circle\": d3_svg_symbolCircle,\n  \"cross\": function(size) {\n    var r = Math.sqrt(size / 5) / 2;\n    return \"M\" + -3 * r + \",\" + -r\n        + \"H\" + -r\n        + \"V\" + -3 * r\n        + \"H\" + r\n        + \"V\" + -r\n        + \"H\" + 3 * r\n        + \"V\" + r\n        + \"H\" + r\n        + \"V\" + 3 * r\n        + \"H\" + -r\n        + \"V\" + r\n        + \"H\" + -3 * r\n        + \"Z\";\n  },\n  \"diamond\": function(size) {\n    var ry = Math.sqrt(size / (2 * d3_svg_symbolTan30)),\n        rx = ry * d3_svg_symbolTan30;\n    return \"M0,\" + -ry\n        + \"L\" + rx + \",0\"\n        + \" 0,\" + ry\n        + \" \" + -rx + \",0\"\n        + \"Z\";\n  },\n  \"square\": function(size) {\n    var r = Math.sqrt(size) / 2;\n    return \"M\" + -r + \",\" + -r\n        + \"L\" + r + \",\" + -r\n        + \" \" + r + \",\" + r\n        + \" \" + -r + \",\" + r\n        + \"Z\";\n  },\n  \"triangle-down\": function(size) {\n    var rx = Math.sqrt(size / d3_svg_symbolSqrt3),\n        ry = rx * d3_svg_symbolSqrt3 / 2;\n    return \"M0,\" + ry\n        + \"L\" + rx +\",\" + -ry\n        + \" \" + -rx + \",\" + -ry\n        + \"Z\";\n  },\n  \"triangle-up\": function(size) {\n    var rx = Math.sqrt(size / d3_svg_symbolSqrt3),\n        ry = rx * d3_svg_symbolSqrt3 / 2;\n    return \"M0,\" + -ry\n        + \"L\" + rx +\",\" + ry\n        + \" \" + -rx + \",\" + ry\n        + \"Z\";\n  }\n});\n\nd3.svg.symbolTypes = d3_svg_symbols.keys();\n\nvar d3_svg_symbolSqrt3 = Math.sqrt(3),\n    d3_svg_symbolTan30 = Math.tan(30 * Math.PI / 180);\nd3.svg.axis = function() {\n  var scale = d3.scale.linear(),\n      orient = \"bottom\",\n      tickMajorSize = 6,\n      tickMinorSize = 6,\n      tickEndSize = 6,\n      tickPadding = 3,\n      tickArguments_ = [10],\n      tickValues = null,\n      tickFormat_,\n      tickSubdivide = 0;\n\n  function axis(g) {\n    g.each(function() {\n      var g = d3.select(this);\n\n      // Ticks, or domain values for ordinal scales.\n      var ticks = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments_) : scale.domain()) : tickValues,\n          tickFormat = tickFormat_ == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments_) : String) : tickFormat_;\n\n      // Minor ticks.\n      var subticks = d3_svg_axisSubdivide(scale, ticks, tickSubdivide),\n          subtick = g.selectAll(\".minor\").data(subticks, String),\n          subtickEnter = subtick.enter().insert(\"line\", \"g\").attr(\"class\", \"tick minor\").style(\"opacity\", 1e-6),\n          subtickExit = d3.transition(subtick.exit()).style(\"opacity\", 1e-6).remove(),\n          subtickUpdate = d3.transition(subtick).style(\"opacity\", 1);\n\n      // Major ticks.\n      var tick = g.selectAll(\"g\").data(ticks, String),\n          tickEnter = tick.enter().insert(\"g\", \"path\").style(\"opacity\", 1e-6),\n          tickExit = d3.transition(tick.exit()).style(\"opacity\", 1e-6).remove(),\n          tickUpdate = d3.transition(tick).style(\"opacity\", 1),\n          tickTransform;\n\n      // Domain.\n      var range = d3_scaleRange(scale),\n          path = g.selectAll(\".domain\").data([0]),\n          pathEnter = path.enter().append(\"path\").attr(\"class\", \"domain\"),\n          pathUpdate = d3.transition(path);\n\n      // Stash a snapshot of the new scale, and retrieve the old snapshot.\n      var scale1 = scale.copy(),\n          scale0 = this.__chart__ || scale1;\n      this.__chart__ = scale1;\n\n      tickEnter.append(\"line\").attr(\"class\", \"tick\");\n      tickEnter.append(\"text\");\n\n      var lineEnter = tickEnter.select(\"line\"),\n          lineUpdate = tickUpdate.select(\"line\"),\n          text = tick.select(\"text\").text(tickFormat),\n          textEnter = tickEnter.select(\"text\"),\n          textUpdate = tickUpdate.select(\"text\");\n\n      switch (orient) {\n        case \"bottom\": {\n          tickTransform = d3_svg_axisX;\n          subtickEnter.attr(\"y2\", tickMinorSize);\n          subtickUpdate.attr(\"x2\", 0).attr(\"y2\", tickMinorSize);\n          lineEnter.attr(\"y2\", tickMajorSize);\n          textEnter.attr(\"y\", Math.max(tickMajorSize, 0) + tickPadding);\n          lineUpdate.attr(\"x2\", 0).attr(\"y2\", tickMajorSize);\n          textUpdate.attr(\"x\", 0).attr(\"y\", Math.max(tickMajorSize, 0) + tickPadding);\n          text.attr(\"dy\", \".71em\").attr(\"text-anchor\", \"middle\");\n          pathUpdate.attr(\"d\", \"M\" + range[0] + \",\" + tickEndSize + \"V0H\" + range[1] + \"V\" + tickEndSize);\n          break;\n        }\n        case \"top\": {\n          tickTransform = d3_svg_axisX;\n          subtickEnter.attr(\"y2\", -tickMinorSize);\n          subtickUpdate.attr(\"x2\", 0).attr(\"y2\", -tickMinorSize);\n          lineEnter.attr(\"y2\", -tickMajorSize);\n          textEnter.attr(\"y\", -(Math.max(tickMajorSize, 0) + tickPadding));\n          lineUpdate.attr(\"x2\", 0).attr(\"y2\", -tickMajorSize);\n          textUpdate.attr(\"x\", 0).attr(\"y\", -(Math.max(tickMajorSize, 0) + tickPadding));\n          text.attr(\"dy\", \"0em\").attr(\"text-anchor\", \"middle\");\n          pathUpdate.attr(\"d\", \"M\" + range[0] + \",\" + -tickEndSize + \"V0H\" + range[1] + \"V\" + -tickEndSize);\n          break;\n        }\n        case \"left\": {\n          tickTransform = d3_svg_axisY;\n          subtickEnter.attr(\"x2\", -tickMinorSize);\n          subtickUpdate.attr(\"x2\", -tickMinorSize).attr(\"y2\", 0);\n          lineEnter.attr(\"x2\", -tickMajorSize);\n          textEnter.attr(\"x\", -(Math.max(tickMajorSize, 0) + tickPadding));\n          lineUpdate.attr(\"x2\", -tickMajorSize).attr(\"y2\", 0);\n          textUpdate.attr(\"x\", -(Math.max(tickMajorSize, 0) + tickPadding)).attr(\"y\", 0);\n          text.attr(\"dy\", \".32em\").attr(\"text-anchor\", \"end\");\n          pathUpdate.attr(\"d\", \"M\" + -tickEndSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + -tickEndSize);\n          break;\n        }\n        case \"right\": {\n          tickTransform = d3_svg_axisY;\n          subtickEnter.attr(\"x2\", tickMinorSize);\n          subtickUpdate.attr(\"x2\", tickMinorSize).attr(\"y2\", 0);\n          lineEnter.attr(\"x2\", tickMajorSize);\n          textEnter.attr(\"x\", Math.max(tickMajorSize, 0) + tickPadding);\n          lineUpdate.attr(\"x2\", tickMajorSize).attr(\"y2\", 0);\n          textUpdate.attr(\"x\", Math.max(tickMajorSize, 0) + tickPadding).attr(\"y\", 0);\n          text.attr(\"dy\", \".32em\").attr(\"text-anchor\", \"start\");\n          pathUpdate.attr(\"d\", \"M\" + tickEndSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + tickEndSize);\n          break;\n        }\n      }\n\n      // For quantitative scales:\n      // - enter new ticks from the old scale\n      // - exit old ticks to the new scale\n      if (scale.ticks) {\n        tickEnter.call(tickTransform, scale0);\n        tickUpdate.call(tickTransform, scale1);\n        tickExit.call(tickTransform, scale1);\n        subtickEnter.call(tickTransform, scale0);\n        subtickUpdate.call(tickTransform, scale1);\n        subtickExit.call(tickTransform, scale1);\n      }\n\n      // For ordinal scales:\n      // - any entering ticks are undefined in the old scale\n      // - any exiting ticks are undefined in the new scale\n      // Therefore, we only need to transition updating ticks.\n      else {\n        var dx = scale1.rangeBand() / 2, x = function(d) { return scale1(d) + dx; };\n        tickEnter.call(tickTransform, x);\n        tickUpdate.call(tickTransform, x);\n      }\n    });\n  }\n\n  axis.scale = function(x) {\n    if (!arguments.length) return scale;\n    scale = x;\n    return axis;\n  };\n\n  axis.orient = function(x) {\n    if (!arguments.length) return orient;\n    orient = x;\n    return axis;\n  };\n\n  axis.ticks = function() {\n    if (!arguments.length) return tickArguments_;\n    tickArguments_ = arguments;\n    return axis;\n  };\n\n  axis.tickValues = function(x) {\n    if (!arguments.length) return tickValues;\n    tickValues = x;\n    return axis;\n  };\n\n  axis.tickFormat = function(x) {\n    if (!arguments.length) return tickFormat_;\n    tickFormat_ = x;\n    return axis;\n  };\n\n  axis.tickSize = function(x, y, z) {\n    if (!arguments.length) return tickMajorSize;\n    var n = arguments.length - 1;\n    tickMajorSize = +x;\n    tickMinorSize = n > 1 ? +y : tickMajorSize;\n    tickEndSize = n > 0 ? +arguments[n] : tickMajorSize;\n    return axis;\n  };\n\n  axis.tickPadding = function(x) {\n    if (!arguments.length) return tickPadding;\n    tickPadding = +x;\n    return axis;\n  };\n\n  axis.tickSubdivide = function(x) {\n    if (!arguments.length) return tickSubdivide;\n    tickSubdivide = +x;\n    return axis;\n  };\n\n  return axis;\n};\n\nfunction d3_svg_axisX(selection, x) {\n  selection.attr(\"transform\", function(d) { return \"translate(\" + x(d) + \",0)\"; });\n}\n\nfunction d3_svg_axisY(selection, y) {\n  selection.attr(\"transform\", function(d) { return \"translate(0,\" + y(d) + \")\"; });\n}\n\nfunction d3_svg_axisSubdivide(scale, ticks, m) {\n  subticks = [];\n  if (m && ticks.length > 1) {\n    var extent = d3_scaleExtent(scale.domain()),\n        subticks,\n        i = -1,\n        n = ticks.length,\n        d = (ticks[1] - ticks[0]) / ++m,\n        j,\n        v;\n    while (++i < n) {\n      for (j = m; --j > 0;) {\n        if ((v = +ticks[i] - j * d) >= extent[0]) {\n          subticks.push(v);\n        }\n      }\n    }\n    for (--i, j = 0; ++j < m && (v = +ticks[i] + j * d) < extent[1];) {\n      subticks.push(v);\n    }\n  }\n  return subticks;\n}\nd3.svg.brush = function() {\n  var event = d3_eventDispatch(brush, \"brushstart\", \"brush\", \"brushend\"),\n      x = null, // x-scale, optional\n      y = null, // y-scale, optional\n      resizes = d3_svg_brushResizes[0],\n      extent = [[0, 0], [0, 0]], // [x0, y0], [x1, y1], in pixels (integers)\n      extentDomain; // the extent in data space, lazily created\n\n  function brush(g) {\n    g.each(function() {\n      var g = d3.select(this),\n          bg = g.selectAll(\".background\").data([0]),\n          fg = g.selectAll(\".extent\").data([0]),\n          tz = g.selectAll(\".resize\").data(resizes, String),\n          e;\n\n      // Prepare the brush container for events.\n      g\n          .style(\"pointer-events\", \"all\")\n          .on(\"mousedown.brush\", brushstart)\n          .on(\"touchstart.brush\", brushstart);\n\n      // An invisible, mouseable area for starting a new brush.\n      bg.enter().append(\"rect\")\n          .attr(\"class\", \"background\")\n          .style(\"visibility\", \"hidden\")\n          .style(\"cursor\", \"crosshair\");\n\n      // The visible brush extent; style this as you like!\n      fg.enter().append(\"rect\")\n          .attr(\"class\", \"extent\")\n          .style(\"cursor\", \"move\");\n\n      // More invisible rects for resizing the extent.\n      tz.enter().append(\"g\")\n          .attr(\"class\", function(d) { return \"resize \" + d; })\n          .style(\"cursor\", function(d) { return d3_svg_brushCursor[d]; })\n        .append(\"rect\")\n          .attr(\"x\", function(d) { return /[ew]$/.test(d) ? -3 : null; })\n          .attr(\"y\", function(d) { return /^[ns]/.test(d) ? -3 : null; })\n          .attr(\"width\", 6)\n          .attr(\"height\", 6)\n          .style(\"visibility\", \"hidden\");\n\n      // Show or hide the resizers.\n      tz.style(\"display\", brush.empty() ? \"none\" : null);\n\n      // Remove any superfluous resizers.\n      tz.exit().remove();\n\n      // Initialize the background to fill the defined range.\n      // If the range isn't defined, you can post-process.\n      if (x) {\n        e = d3_scaleRange(x);\n        bg.attr(\"x\", e[0]).attr(\"width\", e[1] - e[0]);\n        redrawX(g);\n      }\n      if (y) {\n        e = d3_scaleRange(y);\n        bg.attr(\"y\", e[0]).attr(\"height\", e[1] - e[0]);\n        redrawY(g);\n      }\n      redraw(g);\n    });\n  }\n\n  function redraw(g) {\n    g.selectAll(\".resize\").attr(\"transform\", function(d) {\n      return \"translate(\" + extent[+/e$/.test(d)][0] + \",\" + extent[+/^s/.test(d)][1] + \")\";\n    });\n  }\n\n  function redrawX(g) {\n    g.select(\".extent\").attr(\"x\", extent[0][0]);\n    g.selectAll(\".extent,.n>rect,.s>rect\").attr(\"width\", extent[1][0] - extent[0][0]);\n  }\n\n  function redrawY(g) {\n    g.select(\".extent\").attr(\"y\", extent[0][1]);\n    g.selectAll(\".extent,.e>rect,.w>rect\").attr(\"height\", extent[1][1] - extent[0][1]);\n  }\n\n  function brushstart() {\n    var target = this,\n        eventTarget = d3.select(d3.event.target),\n        event_ = event.of(target, arguments),\n        g = d3.select(target),\n        resizing = eventTarget.datum(),\n        resizingX = !/^(n|s)$/.test(resizing) && x,\n        resizingY = !/^(e|w)$/.test(resizing) && y,\n        dragging = eventTarget.classed(\"extent\"),\n        center,\n        origin = mouse(),\n        offset;\n\n    var w = d3.select(window)\n        .on(\"mousemove.brush\", brushmove)\n        .on(\"mouseup.brush\", brushend)\n        .on(\"touchmove.brush\", brushmove)\n        .on(\"touchend.brush\", brushend)\n        .on(\"keydown.brush\", keydown)\n        .on(\"keyup.brush\", keyup);\n\n    // If the extent was clicked on, drag rather than brush;\n    // store the point between the mouse and extent origin instead.\n    if (dragging) {\n      origin[0] = extent[0][0] - origin[0];\n      origin[1] = extent[0][1] - origin[1];\n    }\n\n    // If a resizer was clicked on, record which side is to be resized.\n    // Also, set the origin to the opposite side.\n    else if (resizing) {\n      var ex = +/w$/.test(resizing),\n          ey = +/^n/.test(resizing);\n      offset = [extent[1 - ex][0] - origin[0], extent[1 - ey][1] - origin[1]];\n      origin[0] = extent[ex][0];\n      origin[1] = extent[ey][1];\n    }\n\n    // If the ALT key is down when starting a brush, the center is at the mouse.\n    else if (d3.event.altKey) center = origin.slice();\n\n    // Propagate the active cursor to the body for the drag duration.\n    g.style(\"pointer-events\", \"none\").selectAll(\".resize\").style(\"display\", null);\n    d3.select(\"body\").style(\"cursor\", eventTarget.style(\"cursor\"));\n\n    // Notify listeners.\n    event_({type: \"brushstart\"});\n    brushmove();\n    d3_eventCancel();\n\n    function mouse() {\n      var touches = d3.event.changedTouches;\n      return touches ? d3.touches(target, touches)[0] : d3.mouse(target);\n    }\n\n    function keydown() {\n      if (d3.event.keyCode == 32) {\n        if (!dragging) {\n          center = null;\n          origin[0] -= extent[1][0];\n          origin[1] -= extent[1][1];\n          dragging = 2;\n        }\n        d3_eventCancel();\n      }\n    }\n\n    function keyup() {\n      if (d3.event.keyCode == 32 && dragging == 2) {\n        origin[0] += extent[1][0];\n        origin[1] += extent[1][1];\n        dragging = 0;\n        d3_eventCancel();\n      }\n    }\n\n    function brushmove() {\n      var point = mouse(),\n          moved = false;\n\n      // Preserve the offset for thick resizers.\n      if (offset) {\n        point[0] += offset[0];\n        point[1] += offset[1];\n      }\n\n      if (!dragging) {\n\n        // If needed, determine the center from the current extent.\n        if (d3.event.altKey) {\n          if (!center) center = [(extent[0][0] + extent[1][0]) / 2, (extent[0][1] + extent[1][1]) / 2];\n\n          // Update the origin, for when the ALT key is released.\n          origin[0] = extent[+(point[0] < center[0])][0];\n          origin[1] = extent[+(point[1] < center[1])][1];\n        }\n\n        // When the ALT key is released, we clear the center.\n        else center = null;\n      }\n\n      // Update the brush extent for each dimension.\n      if (resizingX && move1(point, x, 0)) {\n        redrawX(g);\n        moved = true;\n      }\n      if (resizingY && move1(point, y, 1)) {\n        redrawY(g);\n        moved = true;\n      }\n\n      // Final redraw and notify listeners.\n      if (moved) {\n        redraw(g);\n        event_({type: \"brush\", mode: dragging ? \"move\" : \"resize\"});\n      }\n    }\n\n    function move1(point, scale, i) {\n      var range = d3_scaleRange(scale),\n          r0 = range[0],\n          r1 = range[1],\n          position = origin[i],\n          size = extent[1][i] - extent[0][i],\n          min,\n          max;\n\n      // When dragging, reduce the range by the extent size and position.\n      if (dragging) {\n        r0 -= position;\n        r1 -= size + position;\n      }\n\n      // Clamp the point so that the extent fits within the range extent.\n      min = Math.max(r0, Math.min(r1, point[i]));\n\n      // Compute the new extent bounds.\n      if (dragging) {\n        max = (min += position) + size;\n      } else {\n\n        // If the ALT key is pressed, then preserve the center of the extent.\n        if (center) position = Math.max(r0, Math.min(r1, 2 * center[i] - min));\n\n        // Compute the min and max of the position and point.\n        if (position < min) {\n          max = min;\n          min = position;\n        } else {\n          max = position;\n        }\n      }\n\n      // Update the stored bounds.\n      if (extent[0][i] !== min || extent[1][i] !== max) {\n        extentDomain = null;\n        extent[0][i] = min;\n        extent[1][i] = max;\n        return true;\n      }\n    }\n\n    function brushend() {\n      brushmove();\n\n      // reset the cursor styles\n      g.style(\"pointer-events\", \"all\").selectAll(\".resize\").style(\"display\", brush.empty() ? \"none\" : null);\n      d3.select(\"body\").style(\"cursor\", null);\n\n      w .on(\"mousemove.brush\", null)\n        .on(\"mouseup.brush\", null)\n        .on(\"touchmove.brush\", null)\n        .on(\"touchend.brush\", null)\n        .on(\"keydown.brush\", null)\n        .on(\"keyup.brush\", null);\n\n      event_({type: \"brushend\"});\n      d3_eventCancel();\n    }\n  }\n\n  brush.x = function(z) {\n    if (!arguments.length) return x;\n    x = z;\n    resizes = d3_svg_brushResizes[!x << 1 | !y]; // fore!\n    return brush;\n  };\n\n  brush.y = function(z) {\n    if (!arguments.length) return y;\n    y = z;\n    resizes = d3_svg_brushResizes[!x << 1 | !y]; // fore!\n    return brush;\n  };\n\n  brush.extent = function(z) {\n    var x0, x1, y0, y1, t;\n\n    // Invert the pixel extent to data-space.\n    if (!arguments.length) {\n      z = extentDomain || extent;\n      if (x) {\n        x0 = z[0][0], x1 = z[1][0];\n        if (!extentDomain) {\n          x0 = extent[0][0], x1 = extent[1][0];\n          if (x.invert) x0 = x.invert(x0), x1 = x.invert(x1);\n          if (x1 < x0) t = x0, x0 = x1, x1 = t;\n        }\n      }\n      if (y) {\n        y0 = z[0][1], y1 = z[1][1];\n        if (!extentDomain) {\n          y0 = extent[0][1], y1 = extent[1][1];\n          if (y.invert) y0 = y.invert(y0), y1 = y.invert(y1);\n          if (y1 < y0) t = y0, y0 = y1, y1 = t;\n        }\n      }\n      return x && y ? [[x0, y0], [x1, y1]] : x ? [x0, x1] : y && [y0, y1];\n    }\n\n    // Scale the data-space extent to pixels.\n    extentDomain = [[0, 0], [0, 0]];\n    if (x) {\n      x0 = z[0], x1 = z[1];\n      if (y) x0 = x0[0], x1 = x1[0];\n      extentDomain[0][0] = x0, extentDomain[1][0] = x1;\n      if (x.invert) x0 = x(x0), x1 = x(x1);\n      if (x1 < x0) t = x0, x0 = x1, x1 = t;\n      extent[0][0] = x0 | 0, extent[1][0] = x1 | 0;\n    }\n    if (y) {\n      y0 = z[0], y1 = z[1];\n      if (x) y0 = y0[1], y1 = y1[1];\n      extentDomain[0][1] = y0, extentDomain[1][1] = y1;\n      if (y.invert) y0 = y(y0), y1 = y(y1);\n      if (y1 < y0) t = y0, y0 = y1, y1 = t;\n      extent[0][1] = y0 | 0, extent[1][1] = y1 | 0;\n    }\n\n    return brush;\n  };\n\n  brush.clear = function() {\n    extentDomain = null;\n    extent[0][0] =\n    extent[0][1] =\n    extent[1][0] =\n    extent[1][1] = 0;\n    return brush;\n  };\n\n  brush.empty = function() {\n    return (x && extent[0][0] === extent[1][0])\n        || (y && extent[0][1] === extent[1][1]);\n  };\n\n  return d3.rebind(brush, event, \"on\");\n};\n\nvar d3_svg_brushCursor = {\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar d3_svg_brushResizes = [\n  [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"],\n  [\"e\", \"w\"],\n  [\"n\", \"s\"],\n  []\n];\nd3.behavior = {};\n// TODO Track touch points by identifier.\n\nd3.behavior.drag = function() {\n  var event = d3_eventDispatch(drag, \"drag\", \"dragstart\", \"dragend\"),\n      origin = null;\n\n  function drag() {\n    this.on(\"mousedown.drag\", mousedown)\n        .on(\"touchstart.drag\", mousedown);\n  }\n\n  function mousedown() {\n    var target = this,\n        event_ = event.of(target, arguments),\n        eventTarget = d3.event.target,\n        offset,\n        origin_ = point(),\n        moved = 0;\n\n    var w = d3.select(window)\n        .on(\"mousemove.drag\", dragmove)\n        .on(\"touchmove.drag\", dragmove)\n        .on(\"mouseup.drag\", dragend, true)\n        .on(\"touchend.drag\", dragend, true);\n\n    if (origin) {\n      offset = origin.apply(target, arguments);\n      offset = [offset.x - origin_[0], offset.y - origin_[1]];\n    } else {\n      offset = [0, 0];\n    }\n\n    d3_eventCancel();\n    event_({type: \"dragstart\"});\n\n    function point() {\n      var p = target.parentNode,\n          t = d3.event.changedTouches;\n      return t ? d3.touches(p, t)[0] : d3.mouse(p);\n    }\n\n    function dragmove() {\n      if (!target.parentNode) return dragend(); // target removed from DOM\n\n      var p = point(),\n          dx = p[0] - origin_[0],\n          dy = p[1] - origin_[1];\n\n      moved |= dx | dy;\n      origin_ = p;\n      d3_eventCancel();\n\n      event_({type: \"drag\", x: p[0] + offset[0], y: p[1] + offset[1], dx: dx, dy: dy});\n    }\n\n    function dragend() {\n      event_({type: \"dragend\"});\n\n      // if moved, prevent the mouseup (and possibly click) from propagating\n      if (moved) {\n        d3_eventCancel();\n        if (d3.event.target === eventTarget) w.on(\"click.drag\", click, true);\n      }\n\n      w .on(\"mousemove.drag\", null)\n        .on(\"touchmove.drag\", null)\n        .on(\"mouseup.drag\", null)\n        .on(\"touchend.drag\", null);\n    }\n\n    // prevent the subsequent click from propagating (e.g., for anchors)\n    function click() {\n      d3_eventCancel();\n      w.on(\"click.drag\", null);\n    }\n  }\n\n  drag.origin = function(x) {\n    if (!arguments.length) return origin;\n    origin = x;\n    return drag;\n  };\n\n  return d3.rebind(drag, event, \"on\");\n};\nd3.behavior.zoom = function() {\n  var translate = [0, 0],\n      translate0, // translate when we started zooming (to avoid drift)\n      scale = 1,\n      scale0, // scale when we started touching\n      scaleExtent = d3_behavior_zoomInfinity,\n      event = d3_eventDispatch(zoom, \"zoom\"),\n      x0,\n      x1,\n      y0,\n      y1,\n      touchtime; // time of last touchstart (to detect double-tap)\n\n  function zoom() {\n    this\n        .on(\"mousedown.zoom\", mousedown)\n        .on(\"mousewheel.zoom\", mousewheel)\n        .on(\"mousemove.zoom\", mousemove)\n        .on(\"DOMMouseScroll.zoom\", mousewheel)\n        .on(\"dblclick.zoom\", dblclick)\n        .on(\"touchstart.zoom\", touchstart)\n        .on(\"touchmove.zoom\", touchmove)\n        .on(\"touchend.zoom\", touchstart);\n  }\n\n  zoom.translate = function(x) {\n    if (!arguments.length) return translate;\n    translate = x.map(Number);\n    return zoom;\n  };\n\n  zoom.scale = function(x) {\n    if (!arguments.length) return scale;\n    scale = +x;\n    return zoom;\n  };\n\n  zoom.scaleExtent = function(x) {\n    if (!arguments.length) return scaleExtent;\n    scaleExtent = x == null ? d3_behavior_zoomInfinity : x.map(Number);\n    return zoom;\n  };\n\n  zoom.x = function(z) {\n    if (!arguments.length) return x1;\n    x1 = z;\n    x0 = z.copy();\n    return zoom;\n  };\n\n  zoom.y = function(z) {\n    if (!arguments.length) return y1;\n    y1 = z;\n    y0 = z.copy();\n    return zoom;\n  };\n\n  function location(p) {\n    return [(p[0] - translate[0]) / scale, (p[1] - translate[1]) / scale];\n  }\n\n  function point(l) {\n    return [l[0] * scale + translate[0], l[1] * scale + translate[1]];\n  }\n\n  function scaleTo(s) {\n    scale = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s));\n  }\n\n  function translateTo(p, l) {\n    l = point(l);\n    translate[0] += p[0] - l[0];\n    translate[1] += p[1] - l[1];\n  }\n\n  function dispatch(event) {\n    if (x1) x1.domain(x0.range().map(function(x) { return (x - translate[0]) / scale; }).map(x0.invert));\n    if (y1) y1.domain(y0.range().map(function(y) { return (y - translate[1]) / scale; }).map(y0.invert));\n    d3.event.preventDefault();\n    event({type: \"zoom\", scale: scale, translate: translate});\n  }\n\n  function mousedown() {\n    var target = this,\n        event_ = event.of(target, arguments),\n        eventTarget = d3.event.target,\n        moved = 0,\n        w = d3.select(window).on(\"mousemove.zoom\", mousemove).on(\"mouseup.zoom\", mouseup),\n        l = location(d3.mouse(target));\n\n    window.focus();\n    d3_eventCancel();\n\n    function mousemove() {\n      moved = 1;\n      translateTo(d3.mouse(target), l);\n      dispatch(event_);\n    }\n\n    function mouseup() {\n      if (moved) d3_eventCancel();\n      w.on(\"mousemove.zoom\", null).on(\"mouseup.zoom\", null);\n      if (moved && d3.event.target === eventTarget) w.on(\"click.zoom\", click, true);\n    }\n\n    function click() {\n      d3_eventCancel();\n      w.on(\"click.zoom\", null);\n    }\n  }\n\n  function mousewheel() {\n    if (!translate0) translate0 = location(d3.mouse(this));\n    scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * scale);\n    translateTo(d3.mouse(this), translate0);\n    dispatch(event.of(this, arguments));\n  }\n\n  function mousemove() {\n    translate0 = null;\n  }\n\n  function dblclick() {\n    var p = d3.mouse(this), l = location(p);\n    scaleTo(d3.event.shiftKey ? scale / 2 : scale * 2);\n    translateTo(p, l);\n    dispatch(event.of(this, arguments));\n  }\n\n  function touchstart() {\n    var touches = d3.touches(this),\n        now = Date.now();\n\n    scale0 = scale;\n    translate0 = {};\n    touches.forEach(function(t) { translate0[t.identifier] = location(t); });\n    d3_eventCancel();\n\n    if ((touches.length === 1) && (now - touchtime < 500)) { // dbltap\n      var p = touches[0], l = location(touches[0]);\n      scaleTo(scale * 2);\n      translateTo(p, l);\n      dispatch(event.of(this, arguments));\n    }\n    touchtime = now;\n  }\n\n  function touchmove() {\n    var touches = d3.touches(this),\n        p0 = touches[0],\n        l0 = translate0[p0.identifier];\n    if (p1 = touches[1]) {\n      var p1, l1 = translate0[p1.identifier];\n      p0 = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l0 = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n      scaleTo(d3.event.scale * scale0);\n    }\n    translateTo(p0, l0);\n    dispatch(event.of(this, arguments));\n  }\n\n  return d3.rebind(zoom, event, \"on\");\n};\n\nvar d3_behavior_zoomDiv, // for interpreting mousewheel events\n    d3_behavior_zoomInfinity = [0, Infinity]; // default scale extent\n\nfunction d3_behavior_zoomDelta() {\n\n  // mousewheel events are totally broken!\n  // https://bugs.webkit.org/show_bug.cgi?id=40441\n  // not only that, but Chrome and Safari differ in re. to acceleration!\n  if (!d3_behavior_zoomDiv) {\n    d3_behavior_zoomDiv = d3.select(\"body\").append(\"div\")\n        .style(\"visibility\", \"hidden\")\n        .style(\"top\", 0)\n        .style(\"height\", 0)\n        .style(\"width\", 0)\n        .style(\"overflow-y\", \"scroll\")\n      .append(\"div\")\n        .style(\"height\", \"2000px\")\n      .node().parentNode;\n  }\n\n  var e = d3.event, delta;\n  try {\n    d3_behavior_zoomDiv.scrollTop = 1000;\n    d3_behavior_zoomDiv.dispatchEvent(e);\n    delta = 1000 - d3_behavior_zoomDiv.scrollTop;\n  } catch (error) {\n    delta = e.wheelDelta || (-e.detail * 5);\n  }\n\n  return delta;\n}\nd3.layout = {};\n// Implements hierarchical edge bundling using Holten's algorithm. For each\n// input link, a path is computed that travels through the tree, up the parent\n// hierarchy to the least common ancestor, and then back down to the destination\n// node. Each path is simply an array of nodes.\nd3.layout.bundle = function() {\n  return function(links) {\n    var paths = [],\n        i = -1,\n        n = links.length;\n    while (++i < n) paths.push(d3_layout_bundlePath(links[i]));\n    return paths;\n  };\n};\n\nfunction d3_layout_bundlePath(link) {\n  var start = link.source,\n      end = link.target,\n      lca = d3_layout_bundleLeastCommonAncestor(start, end),\n      points = [start];\n  while (start !== lca) {\n    start = start.parent;\n    points.push(start);\n  }\n  var k = points.length;\n  while (end !== lca) {\n    points.splice(k, 0, end);\n    end = end.parent;\n  }\n  return points;\n}\n\nfunction d3_layout_bundleAncestors(node) {\n  var ancestors = [],\n      parent = node.parent;\n  while (parent != null) {\n    ancestors.push(node);\n    node = parent;\n    parent = parent.parent;\n  }\n  ancestors.push(node);\n  return ancestors;\n}\n\nfunction d3_layout_bundleLeastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = d3_layout_bundleAncestors(a),\n      bNodes = d3_layout_bundleAncestors(b),\n      aNode = aNodes.pop(),\n      bNode = bNodes.pop(),\n      sharedNode = null;\n  while (aNode === bNode) {\n    sharedNode = aNode;\n    aNode = aNodes.pop();\n    bNode = bNodes.pop();\n  }\n  return sharedNode;\n}\nd3.layout.chord = function() {\n  var chord = {},\n      chords,\n      groups,\n      matrix,\n      n,\n      padding = 0,\n      sortGroups,\n      sortSubgroups,\n      sortChords;\n\n  function relayout() {\n    var subgroups = {},\n        groupSums = [],\n        groupIndex = d3.range(n),\n        subgroupIndex = [],\n        k,\n        x,\n        x0,\n        i,\n        j;\n\n    chords = [];\n    groups = [];\n\n    // Compute the sum.\n    k = 0, i = -1; while (++i < n) {\n      x = 0, j = -1; while (++j < n) {\n        x += matrix[i][j];\n      }\n      groupSums.push(x);\n      subgroupIndex.push(d3.range(n));\n      k += x;\n    }\n\n    // Sort groupsâ€¦\n    if (sortGroups) {\n      groupIndex.sort(function(a, b) {\n        return sortGroups(groupSums[a], groupSums[b]);\n      });\n    }\n\n    // Sort subgroupsâ€¦\n    if (sortSubgroups) {\n      subgroupIndex.forEach(function(d, i) {\n        d.sort(function(a, b) {\n          return sortSubgroups(matrix[i][a], matrix[i][b]);\n        });\n      });\n    }\n\n    // Convert the sum to scaling factor for [0, 2pi].\n    // TODO Allow start and end angle to be specified.\n    // TODO Allow padding to be specified as percentage?\n    k = (2 * Math.PI - padding * n) / k;\n\n    // Compute the start and end angle for each group and subgroup.\n    // Note: Opera has a bug reordering object literal properties!\n    x = 0, i = -1; while (++i < n) {\n      x0 = x, j = -1; while (++j < n) {\n        var di = groupIndex[i],\n            dj = subgroupIndex[di][j],\n            v = matrix[di][dj],\n            a0 = x,\n            a1 = x += v * k;\n        subgroups[di + \"-\" + dj] = {\n          index: di,\n          subindex: dj,\n          startAngle: a0,\n          endAngle: a1,\n          value: v\n        };\n      }\n      groups[di] = {\n        index: di,\n        startAngle: x0,\n        endAngle: x,\n        value: (x - x0) / k\n      };\n      x += padding;\n    }\n\n    // Generate chords for each (non-empty) subgroup-subgroup link.\n    i = -1; while (++i < n) {\n      j = i - 1; while (++j < n) {\n        var source = subgroups[i + \"-\" + j],\n            target = subgroups[j + \"-\" + i];\n        if (source.value || target.value) {\n          chords.push(source.value < target.value\n              ? {source: target, target: source}\n              : {source: source, target: target});\n        }\n      }\n    }\n\n    if (sortChords) resort();\n  }\n\n  function resort() {\n    chords.sort(function(a, b) {\n      return sortChords(\n          (a.source.value + a.target.value) / 2,\n          (b.source.value + b.target.value) / 2);\n    });\n  }\n\n  chord.matrix = function(x) {\n    if (!arguments.length) return matrix;\n    n = (matrix = x) && matrix.length;\n    chords = groups = null;\n    return chord;\n  };\n\n  chord.padding = function(x) {\n    if (!arguments.length) return padding;\n    padding = x;\n    chords = groups = null;\n    return chord;\n  };\n\n  chord.sortGroups = function(x) {\n    if (!arguments.length) return sortGroups;\n    sortGroups = x;\n    chords = groups = null;\n    return chord;\n  };\n\n  chord.sortSubgroups = function(x) {\n    if (!arguments.length) return sortSubgroups;\n    sortSubgroups = x;\n    chords = null;\n    return chord;\n  };\n\n  chord.sortChords = function(x) {\n    if (!arguments.length) return sortChords;\n    sortChords = x;\n    if (chords) resort();\n    return chord;\n  };\n\n  chord.chords = function() {\n    if (!chords) relayout();\n    return chords;\n  };\n\n  chord.groups = function() {\n    if (!groups) relayout();\n    return groups;\n  };\n\n  return chord;\n};\n// A rudimentary force layout using Gauss-Seidel.\nd3.layout.force = function() {\n  var force = {},\n      event = d3.dispatch(\"start\", \"tick\", \"end\"),\n      size = [1, 1],\n      drag,\n      alpha,\n      friction = .9,\n      linkDistance = d3_layout_forceLinkDistance,\n      linkStrength = d3_layout_forceLinkStrength,\n      charge = -30,\n      gravity = .1,\n      theta = .8,\n      interval,\n      nodes = [],\n      links = [],\n      distances,\n      strengths,\n      charges;\n\n  function repulse(node) {\n    return function(quad, x1, y1, x2, y2) {\n      if (quad.point !== node) {\n        var dx = quad.cx - node.x,\n            dy = quad.cy - node.y,\n            dn = 1 / Math.sqrt(dx * dx + dy * dy);\n\n        /* Barnes-Hut criterion. */\n        if ((x2 - x1) * dn < theta) {\n          var k = quad.charge * dn * dn;\n          node.px -= dx * k;\n          node.py -= dy * k;\n          return true;\n        }\n\n        if (quad.point && isFinite(dn)) {\n          var k = quad.pointCharge * dn * dn;\n          node.px -= dx * k;\n          node.py -= dy * k;\n        }\n      }\n      return !quad.charge;\n    };\n  }\n\n  force.tick = function() {\n    // simulated annealing, basically\n    if ((alpha *= .99) < .005) {\n      event.end({type: \"end\", alpha: alpha = 0});\n      return true;\n    }\n\n    var n = nodes.length,\n        m = links.length,\n        q,\n        i, // current index\n        o, // current object\n        s, // current source\n        t, // current target\n        l, // current distance\n        k, // current force\n        x, // x-distance\n        y; // y-distance\n\n    // gauss-seidel relaxation for links\n    for (i = 0; i < m; ++i) {\n      o = links[i];\n      s = o.source;\n      t = o.target;\n      x = t.x - s.x;\n      y = t.y - s.y;\n      if (l = (x * x + y * y)) {\n        l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;\n        x *= l;\n        y *= l;\n        t.x -= x * (k = s.weight / (t.weight + s.weight));\n        t.y -= y * k;\n        s.x += x * (k = 1 - k);\n        s.y += y * k;\n      }\n    }\n\n    // apply gravity forces\n    if (k = alpha * gravity) {\n      x = size[0] / 2;\n      y = size[1] / 2;\n      i = -1; if (k) while (++i < n) {\n        o = nodes[i];\n        o.x += (x - o.x) * k;\n        o.y += (y - o.y) * k;\n      }\n    }\n\n    // compute quadtree center of mass and apply charge forces\n    if (charge) {\n      d3_layout_forceAccumulate(q = d3.geom.quadtree(nodes), alpha, charges);\n      i = -1; while (++i < n) {\n        if (!(o = nodes[i]).fixed) {\n          q.visit(repulse(o));\n        }\n      }\n    }\n\n    // position verlet integration\n    i = -1; while (++i < n) {\n      o = nodes[i];\n      if (o.fixed) {\n        o.x = o.px;\n        o.y = o.py;\n      } else {\n        o.x -= (o.px - (o.px = o.x)) * friction;\n        o.y -= (o.py - (o.py = o.y)) * friction;\n      }\n    }\n\n    event.tick({type: \"tick\", alpha: alpha});\n  };\n\n  force.nodes = function(x) {\n    if (!arguments.length) return nodes;\n    nodes = x;\n    return force;\n  };\n\n  force.links = function(x) {\n    if (!arguments.length) return links;\n    links = x;\n    return force;\n  };\n\n  force.size = function(x) {\n    if (!arguments.length) return size;\n    size = x;\n    return force;\n  };\n\n  force.linkDistance = function(x) {\n    if (!arguments.length) return linkDistance;\n    linkDistance = d3_functor(x);\n    return force;\n  };\n\n  // For backwards-compatibility.\n  force.distance = force.linkDistance;\n\n  force.linkStrength = function(x) {\n    if (!arguments.length) return linkStrength;\n    linkStrength = d3_functor(x);\n    return force;\n  };\n\n  force.friction = function(x) {\n    if (!arguments.length) return friction;\n    friction = x;\n    return force;\n  };\n\n  force.charge = function(x) {\n    if (!arguments.length) return charge;\n    charge = typeof x === \"function\" ? x : +x;\n    return force;\n  };\n\n  force.gravity = function(x) {\n    if (!arguments.length) return gravity;\n    gravity = x;\n    return force;\n  };\n\n  force.theta = function(x) {\n    if (!arguments.length) return theta;\n    theta = x;\n    return force;\n  };\n\n  force.alpha = function(x) {\n    if (!arguments.length) return alpha;\n\n    if (alpha) { // if we're already running\n      if (x > 0) alpha = x; // we might keep it hot\n      else alpha = 0; // or, next tick will dispatch \"end\"\n    } else if (x > 0) { // otherwise, fire it up!\n      event.start({type: \"start\", alpha: alpha = x});\n      d3.timer(force.tick);\n    }\n\n    return force;\n  };\n\n  force.start = function() {\n    var i,\n        j,\n        n = nodes.length,\n        m = links.length,\n        w = size[0],\n        h = size[1],\n        neighbors,\n        o;\n\n    for (i = 0; i < n; ++i) {\n      (o = nodes[i]).index = i;\n      o.weight = 0;\n    }\n\n    distances = [];\n    strengths = [];\n    for (i = 0; i < m; ++i) {\n      o = links[i];\n      if (typeof o.source == \"number\") o.source = nodes[o.source];\n      if (typeof o.target == \"number\") o.target = nodes[o.target];\n      distances[i] = linkDistance.call(this, o, i);\n      strengths[i] = linkStrength.call(this, o, i);\n      ++o.source.weight;\n      ++o.target.weight;\n    }\n\n    for (i = 0; i < n; ++i) {\n      o = nodes[i];\n      if (isNaN(o.x)) o.x = position(\"x\", w);\n      if (isNaN(o.y)) o.y = position(\"y\", h);\n      if (isNaN(o.px)) o.px = o.x;\n      if (isNaN(o.py)) o.py = o.y;\n    }\n\n    charges = [];\n    if (typeof charge === \"function\") {\n      for (i = 0; i < n; ++i) {\n        charges[i] = +charge.call(this, nodes[i], i);\n      }\n    } else {\n      for (i = 0; i < n; ++i) {\n        charges[i] = charge;\n      }\n    }\n\n    // initialize node position based on first neighbor\n    function position(dimension, size) {\n      var neighbors = neighbor(i),\n          j = -1,\n          m = neighbors.length,\n          x;\n      while (++j < m) if (!isNaN(x = neighbors[j][dimension])) return x;\n      return Math.random() * size;\n    }\n\n    // initialize neighbors lazily\n    function neighbor() {\n      if (!neighbors) {\n        neighbors = [];\n        for (j = 0; j < n; ++j) {\n          neighbors[j] = [];\n        }\n        for (j = 0; j < m; ++j) {\n          var o = links[j];\n          neighbors[o.source.index].push(o.target);\n          neighbors[o.target.index].push(o.source);\n        }\n      }\n      return neighbors[i];\n    }\n\n    return force.resume();\n  };\n\n  force.resume = function() {\n    return force.alpha(.1);\n  };\n\n  force.stop = function() {\n    return force.alpha(0);\n  };\n\n  // use `node.call(force.drag)` to make nodes draggable\n  force.drag = function() {\n    if (!drag) drag = d3.behavior.drag()\n        .origin(d3_identity)\n        .on(\"dragstart\", dragstart)\n        .on(\"drag\", d3_layout_forceDrag)\n        .on(\"dragend\", d3_layout_forceDragEnd);\n\n    this.on(\"mouseover.force\", d3_layout_forceDragOver)\n        .on(\"mouseout.force\", d3_layout_forceDragOut)\n        .call(drag);\n  };\n\n  function dragstart(d) {\n    d3_layout_forceDragOver(d3_layout_forceDragNode = d);\n    d3_layout_forceDragForce = force;\n  }\n\n  return d3.rebind(force, event, \"on\");\n};\n\nvar d3_layout_forceDragForce,\n    d3_layout_forceDragNode;\n\nfunction d3_layout_forceDragOver(d) {\n  d.fixed |= 2;\n}\n\nfunction d3_layout_forceDragOut(d) {\n  if (d !== d3_layout_forceDragNode) d.fixed &= 1;\n}\n\nfunction d3_layout_forceDragEnd() {\n  d3_layout_forceDragNode.fixed &= 1;\n  d3_layout_forceDragForce = d3_layout_forceDragNode = null;\n}\n\nfunction d3_layout_forceDrag() {\n  d3_layout_forceDragNode.px = d3.event.x;\n  d3_layout_forceDragNode.py = d3.event.y;\n  d3_layout_forceDragForce.resume(); // restart annealing\n}\n\nfunction d3_layout_forceAccumulate(quad, alpha, charges) {\n  var cx = 0,\n      cy = 0;\n  quad.charge = 0;\n  if (!quad.leaf) {\n    var nodes = quad.nodes,\n        n = nodes.length,\n        i = -1,\n        c;\n    while (++i < n) {\n      c = nodes[i];\n      if (c == null) continue;\n      d3_layout_forceAccumulate(c, alpha, charges);\n      quad.charge += c.charge;\n      cx += c.charge * c.cx;\n      cy += c.charge * c.cy;\n    }\n  }\n  if (quad.point) {\n    // jitter internal nodes that are coincident\n    if (!quad.leaf) {\n      quad.point.x += Math.random() - .5;\n      quad.point.y += Math.random() - .5;\n    }\n    var k = alpha * charges[quad.point.index];\n    quad.charge += quad.pointCharge = k;\n    cx += k * quad.point.x;\n    cy += k * quad.point.y;\n  }\n  quad.cx = cx / quad.charge;\n  quad.cy = cy / quad.charge;\n}\n\nfunction d3_layout_forceLinkDistance(link) {\n  return 20;\n}\n\nfunction d3_layout_forceLinkStrength(link) {\n  return 1;\n}\nd3.layout.partition = function() {\n  var hierarchy = d3.layout.hierarchy(),\n      size = [1, 1]; // width, height\n\n  function position(node, x, dx, dy) {\n    var children = node.children;\n    node.x = x;\n    node.y = node.depth * dy;\n    node.dx = dx;\n    node.dy = dy;\n    if (children && (n = children.length)) {\n      var i = -1,\n          n,\n          c,\n          d;\n      dx = node.value ? dx / node.value : 0;\n      while (++i < n) {\n        position(c = children[i], x, d = c.value * dx, dy);\n        x += d;\n      }\n    }\n  }\n\n  function depth(node) {\n    var children = node.children,\n        d = 0;\n    if (children && (n = children.length)) {\n      var i = -1,\n          n;\n      while (++i < n) d = Math.max(d, depth(children[i]));\n    }\n    return 1 + d;\n  }\n\n  function partition(d, i) {\n    var nodes = hierarchy.call(this, d, i);\n    position(nodes[0], 0, size[0], size[1] / depth(nodes[0]));\n    return nodes;\n  }\n\n  partition.size = function(x) {\n    if (!arguments.length) return size;\n    size = x;\n    return partition;\n  };\n\n  return d3_layout_hierarchyRebind(partition, hierarchy);\n};\nd3.layout.pie = function() {\n  var value = Number,\n      sort = d3_layout_pieSortByValue,\n      startAngle = 0,\n      endAngle = 2 * Math.PI;\n\n  function pie(data, i) {\n\n    // Compute the numeric values for each data element.\n    var values = data.map(function(d, i) { return +value.call(pie, d, i); });\n\n    // Compute the start angle.\n    var a = +(typeof startAngle === \"function\"\n        ? startAngle.apply(this, arguments)\n        : startAngle);\n\n    // Compute the angular scale factor: from value to radians.\n    var k = ((typeof endAngle === \"function\"\n        ? endAngle.apply(this, arguments)\n        : endAngle) - startAngle)\n        / d3.sum(values);\n\n    // Optionally sort the data.\n    var index = d3.range(data.length);\n    if (sort != null) index.sort(sort === d3_layout_pieSortByValue\n        ? function(i, j) { return values[j] - values[i]; }\n        : function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs!\n    // They are stored in the original data's order.\n    var arcs = [];\n    index.forEach(function(i) {\n      var d;\n      arcs[i] = {\n        data: data[i],\n        value: d = values[i],\n        startAngle: a,\n        endAngle: a += d * k\n      };\n    });\n    return arcs;\n  }\n\n  /**\n   * Specifies the value function *x*, which returns a nonnegative numeric value\n   * for each datum. The default value function is `Number`. The value function\n   * is passed two arguments: the current datum and the current index.\n   */\n  pie.value = function(x) {\n    if (!arguments.length) return value;\n    value = x;\n    return pie;\n  };\n\n  /**\n   * Specifies a sort comparison operator *x*. The comparator is passed two data\n   * elements from the data array, a and b; it returns a negative value if a is\n   * less than b, a positive value if a is greater than b, and zero if a equals\n   * b.\n   */\n  pie.sort = function(x) {\n    if (!arguments.length) return sort;\n    sort = x;\n    return pie;\n  };\n\n  /**\n   * Specifies the overall start angle of the pie chart. Defaults to 0. The\n   * start angle can be specified either as a constant or as a function; in the\n   * case of a function, it is evaluated once per array (as opposed to per\n   * element).\n   */\n  pie.startAngle = function(x) {\n    if (!arguments.length) return startAngle;\n    startAngle = x;\n    return pie;\n  };\n\n  /**\n   * Specifies the overall end angle of the pie chart. Defaults to 2Ï€. The\n   * end angle can be specified either as a constant or as a function; in the\n   * case of a function, it is evaluated once per array (as opposed to per\n   * element).\n   */\n  pie.endAngle = function(x) {\n    if (!arguments.length) return endAngle;\n    endAngle = x;\n    return pie;\n  };\n\n  return pie;\n};\n\nvar d3_layout_pieSortByValue = {};\n// data is two-dimensional array of x,y; we populate y0\nd3.layout.stack = function() {\n  var values = d3_identity,\n      order = d3_layout_stackOrderDefault,\n      offset = d3_layout_stackOffsetZero,\n      out = d3_layout_stackOut,\n      x = d3_layout_stackX,\n      y = d3_layout_stackY;\n\n  function stack(data, index) {\n\n    // Convert series to canonical two-dimensional representation.\n    var series = data.map(function(d, i) {\n      return values.call(stack, d, i);\n    });\n\n    // Convert each series to canonical [[x,y]] representation.\n    var points = series.map(function(d, i) {\n      return d.map(function(v, i) {\n        return [x.call(stack, v, i), y.call(stack, v, i)];\n      });\n    });\n\n    // Compute the order of series, and permute them.\n    var orders = order.call(stack, points, index);\n    series = d3.permute(series, orders);\n    points = d3.permute(points, orders);\n\n    // Compute the baselineâ€¦\n    var offsets = offset.call(stack, points, index);\n\n    // And propagate it to other series.\n    var n = series.length,\n        m = series[0].length,\n        i,\n        j,\n        o;\n    for (j = 0; j < m; ++j) {\n      out.call(stack, series[0][j], o = offsets[j], points[0][j][1]);\n      for (i = 1; i < n; ++i) {\n        out.call(stack, series[i][j], o += points[i - 1][j][1], points[i][j][1]);\n      }\n    }\n\n    return data;\n  }\n\n  stack.values = function(x) {\n    if (!arguments.length) return values;\n    values = x;\n    return stack;\n  };\n\n  stack.order = function(x) {\n    if (!arguments.length) return order;\n    order = typeof x === \"function\" ? x : d3_layout_stackOrders.get(x) || d3_layout_stackOrderDefault;\n    return stack;\n  };\n\n  stack.offset = function(x) {\n    if (!arguments.length) return offset;\n    offset = typeof x === \"function\" ? x : d3_layout_stackOffsets.get(x) || d3_layout_stackOffsetZero;\n    return stack;\n  };\n\n  stack.x = function(z) {\n    if (!arguments.length) return x;\n    x = z;\n    return stack;\n  };\n\n  stack.y = function(z) {\n    if (!arguments.length) return y;\n    y = z;\n    return stack;\n  };\n\n  stack.out = function(z) {\n    if (!arguments.length) return out;\n    out = z;\n    return stack;\n  };\n\n  return stack;\n}\n\nfunction d3_layout_stackX(d) {\n  return d.x;\n}\n\nfunction d3_layout_stackY(d) {\n  return d.y;\n}\n\nfunction d3_layout_stackOut(d, y0, y) {\n  d.y0 = y0;\n  d.y = y;\n}\n\nvar d3_layout_stackOrders = d3.map({\n\n  \"inside-out\": function(data) {\n    var n = data.length,\n        i,\n        j,\n        max = data.map(d3_layout_stackMaxIndex),\n        sums = data.map(d3_layout_stackReduceSum),\n        index = d3.range(n).sort(function(a, b) { return max[a] - max[b]; }),\n        top = 0,\n        bottom = 0,\n        tops = [],\n        bottoms = [];\n    for (i = 0; i < n; ++i) {\n      j = index[i];\n      if (top < bottom) {\n        top += sums[j];\n        tops.push(j);\n      } else {\n        bottom += sums[j];\n        bottoms.push(j);\n      }\n    }\n    return bottoms.reverse().concat(tops);\n  },\n\n  \"reverse\": function(data) {\n    return d3.range(data.length).reverse();\n  },\n\n  \"default\": d3_layout_stackOrderDefault\n\n});\n\nvar d3_layout_stackOffsets = d3.map({\n\n  \"silhouette\": function(data) {\n    var n = data.length,\n        m = data[0].length,\n        sums = [],\n        max = 0,\n        i,\n        j,\n        o,\n        y0 = [];\n    for (j = 0; j < m; ++j) {\n      for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n      if (o > max) max = o;\n      sums.push(o);\n    }\n    for (j = 0; j < m; ++j) {\n      y0[j] = (max - sums[j]) / 2;\n    }\n    return y0;\n  },\n\n  \"wiggle\": function(data) {\n    var n = data.length,\n        x = data[0],\n        m = x.length,\n        max = 0,\n        i,\n        j,\n        k,\n        s1,\n        s2,\n        s3,\n        dx,\n        o,\n        o0,\n        y0 = [];\n    y0[0] = o = o0 = 0;\n    for (j = 1; j < m; ++j) {\n      for (i = 0, s1 = 0; i < n; ++i) s1 += data[i][j][1];\n      for (i = 0, s2 = 0, dx = x[j][0] - x[j - 1][0]; i < n; ++i) {\n        for (k = 0, s3 = (data[i][j][1] - data[i][j - 1][1]) / (2 * dx); k < i; ++k) {\n          s3 += (data[k][j][1] - data[k][j - 1][1]) / dx;\n        }\n        s2 += s3 * data[i][j][1];\n      }\n      y0[j] = o -= s1 ? s2 / s1 * dx : 0;\n      if (o < o0) o0 = o;\n    }\n    for (j = 0; j < m; ++j) y0[j] -= o0;\n    return y0;\n  },\n\n  \"expand\": function(data) {\n    var n = data.length,\n        m = data[0].length,\n        k = 1 / n,\n        i,\n        j,\n        o,\n        y0 = [];\n    for (j = 0; j < m; ++j) {\n      for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n      if (o) for (i = 0; i < n; i++) data[i][j][1] /= o;\n      else for (i = 0; i < n; i++) data[i][j][1] = k;\n    }\n    for (j = 0; j < m; ++j) y0[j] = 0;\n    return y0;\n  },\n\n  \"zero\": d3_layout_stackOffsetZero\n\n});\n\nfunction d3_layout_stackOrderDefault(data) {\n  return d3.range(data.length);\n}\n\nfunction d3_layout_stackOffsetZero(data) {\n  var j = -1,\n      m = data[0].length,\n      y0 = [];\n  while (++j < m) y0[j] = 0;\n  return y0;\n}\n\nfunction d3_layout_stackMaxIndex(array) {\n  var i = 1,\n      j = 0,\n      v = array[0][1],\n      k,\n      n = array.length;\n  for (; i < n; ++i) {\n    if ((k = array[i][1]) > v) {\n      j = i;\n      v = k;\n    }\n  }\n  return j;\n}\n\nfunction d3_layout_stackReduceSum(d) {\n  return d.reduce(d3_layout_stackSum, 0);\n}\n\nfunction d3_layout_stackSum(p, d) {\n  return p + d[1];\n}\nd3.layout.histogram = function() {\n  var frequency = true,\n      valuer = Number,\n      ranger = d3_layout_histogramRange,\n      binner = d3_layout_histogramBinSturges;\n\n  function histogram(data, i) {\n    var bins = [],\n        values = data.map(valuer, this),\n        range = ranger.call(this, values, i),\n        thresholds = binner.call(this, range, values, i),\n        bin,\n        i = -1,\n        n = values.length,\n        m = thresholds.length - 1,\n        k = frequency ? 1 : 1 / n,\n        x;\n\n    // Initialize the bins.\n    while (++i < m) {\n      bin = bins[i] = [];\n      bin.dx = thresholds[i + 1] - (bin.x = thresholds[i]);\n      bin.y = 0;\n    }\n\n    // Fill the bins, ignoring values outside the range.\n    if (m > 0) {\n      i = -1; while(++i < n) {\n        x = values[i];\n        if ((x >= range[0]) && (x <= range[1])) {\n          bin = bins[d3.bisect(thresholds, x, 1, m) - 1];\n          bin.y += k;\n          bin.push(data[i]);\n        }\n      }\n    }\n\n    return bins;\n  }\n\n  // Specifies how to extract a value from the associated data. The default\n  // value function is `Number`, which is equivalent to the identity function.\n  histogram.value = function(x) {\n    if (!arguments.length) return valuer;\n    valuer = x;\n    return histogram;\n  };\n\n  // Specifies the range of the histogram. Values outside the specified range\n  // will be ignored. The argument `x` may be specified either as a two-element\n  // array representing the minimum and maximum value of the range, or as a\n  // function that returns the range given the array of values and the current\n  // index `i`. The default range is the extent (minimum and maximum) of the\n  // values.\n  histogram.range = function(x) {\n    if (!arguments.length) return ranger;\n    ranger = d3_functor(x);\n    return histogram;\n  };\n\n  // Specifies how to bin values in the histogram. The argument `x` may be\n  // specified as a number, in which case the range of values will be split\n  // uniformly into the given number of bins. Or, `x` may be an array of\n  // threshold values, defining the bins; the specified array must contain the\n  // rightmost (upper) value, thus specifying n + 1 values for n bins. Or, `x`\n  // may be a function which is evaluated, being passed the range, the array of\n  // values, and the current index `i`, returning an array of thresholds. The\n  // default bin function will divide the values into uniform bins using\n  // Sturges' formula.\n  histogram.bins = function(x) {\n    if (!arguments.length) return binner;\n    binner = typeof x === \"number\"\n        ? function(range) { return d3_layout_histogramBinFixed(range, x); }\n        : d3_functor(x);\n    return histogram;\n  };\n\n  // Specifies whether the histogram's `y` value is a count (frequency) or a\n  // probability (density). The default value is true.\n  histogram.frequency = function(x) {\n    if (!arguments.length) return frequency;\n    frequency = !!x;\n    return histogram;\n  };\n\n  return histogram;\n};\n\nfunction d3_layout_histogramBinSturges(range, values) {\n  return d3_layout_histogramBinFixed(range, Math.ceil(Math.log(values.length) / Math.LN2 + 1));\n}\n\nfunction d3_layout_histogramBinFixed(range, n) {\n  var x = -1,\n      b = +range[0],\n      m = (range[1] - b) / n,\n      f = [];\n  while (++x <= n) f[x] = m * x + b;\n  return f;\n}\n\nfunction d3_layout_histogramRange(values) {\n  return [d3.min(values), d3.max(values)];\n}\nd3.layout.hierarchy = function() {\n  var sort = d3_layout_hierarchySort,\n      children = d3_layout_hierarchyChildren,\n      value = d3_layout_hierarchyValue;\n\n  // Recursively compute the node depth and value.\n  // Also converts the data representation into a standard hierarchy structure.\n  function recurse(data, depth, nodes) {\n    var childs = children.call(hierarchy, data, depth),\n        node = d3_layout_hierarchyInline ? data : {data: data};\n    node.depth = depth;\n    nodes.push(node);\n    if (childs && (n = childs.length)) {\n      var i = -1,\n          n,\n          c = node.children = [],\n          v = 0,\n          j = depth + 1,\n          d;\n      while (++i < n) {\n        d = recurse(childs[i], j, nodes);\n        d.parent = node;\n        c.push(d);\n        v += d.value;\n      }\n      if (sort) c.sort(sort);\n      if (value) node.value = v;\n    } else if (value) {\n      node.value = +value.call(hierarchy, data, depth) || 0;\n    }\n    return node;\n  }\n\n  // Recursively re-evaluates the node value.\n  function revalue(node, depth) {\n    var children = node.children,\n        v = 0;\n    if (children && (n = children.length)) {\n      var i = -1,\n          n,\n          j = depth + 1;\n      while (++i < n) v += revalue(children[i], j);\n    } else if (value) {\n      v = +value.call(hierarchy, d3_layout_hierarchyInline ? node : node.data, depth) || 0;\n    }\n    if (value) node.value = v;\n    return v;\n  }\n\n  function hierarchy(d) {\n    var nodes = [];\n    recurse(d, 0, nodes);\n    return nodes;\n  }\n\n  hierarchy.sort = function(x) {\n    if (!arguments.length) return sort;\n    sort = x;\n    return hierarchy;\n  };\n\n  hierarchy.children = function(x) {\n    if (!arguments.length) return children;\n    children = x;\n    return hierarchy;\n  };\n\n  hierarchy.value = function(x) {\n    if (!arguments.length) return value;\n    value = x;\n    return hierarchy;\n  };\n\n  // Re-evaluates the `value` property for the specified hierarchy.\n  hierarchy.revalue = function(root) {\n    revalue(root, 0);\n    return root;\n  };\n\n  return hierarchy;\n};\n\n// A method assignment helper for hierarchy subclasses.\nfunction d3_layout_hierarchyRebind(object, hierarchy) {\n  d3.rebind(object, hierarchy, \"sort\", \"children\", \"value\");\n\n  // Add an alias for links, for convenience.\n  object.links = d3_layout_hierarchyLinks;\n\n  // If the new API is used, enabling inlining.\n  object.nodes = function(d) {\n    d3_layout_hierarchyInline = true;\n    return (object.nodes = object)(d);\n  };\n\n  return object;\n}\n\nfunction d3_layout_hierarchyChildren(d) {\n  return d.children;\n}\n\nfunction d3_layout_hierarchyValue(d) {\n  return d.value;\n}\n\nfunction d3_layout_hierarchySort(a, b) {\n  return b.value - a.value;\n}\n\n// Returns an array source+target objects for the specified nodes.\nfunction d3_layout_hierarchyLinks(nodes) {\n  return d3.merge(nodes.map(function(parent) {\n    return (parent.children || []).map(function(child) {\n      return {source: parent, target: child};\n    });\n  }));\n}\n\n// For backwards-compatibility, don't enable inlining by default.\nvar d3_layout_hierarchyInline = false;\nd3.layout.pack = function() {\n  var hierarchy = d3.layout.hierarchy().sort(d3_layout_packSort),\n      size = [1, 1];\n\n  function pack(d, i) {\n    var nodes = hierarchy.call(this, d, i),\n        root = nodes[0];\n\n    // Recursively compute the layout.\n    root.x = 0;\n    root.y = 0;\n    d3_layout_packTree(root);\n\n    // Scale the layout to fit the requested size.\n    var w = size[0],\n        h = size[1],\n        k = 1 / Math.max(2 * root.r / w, 2 * root.r / h);\n    d3_layout_packTransform(root, w / 2, h / 2, k);\n\n    return nodes;\n  }\n\n  pack.size = function(x) {\n    if (!arguments.length) return size;\n    size = x;\n    return pack;\n  };\n\n  return d3_layout_hierarchyRebind(pack, hierarchy);\n};\n\nfunction d3_layout_packSort(a, b) {\n  return a.value - b.value;\n}\n\nfunction d3_layout_packInsert(a, b) {\n  var c = a._pack_next;\n  a._pack_next = b;\n  b._pack_prev = a;\n  b._pack_next = c;\n  c._pack_prev = b;\n}\n\nfunction d3_layout_packSplice(a, b) {\n  a._pack_next = b;\n  b._pack_prev = a;\n}\n\nfunction d3_layout_packIntersects(a, b) {\n  var dx = b.x - a.x,\n      dy = b.y - a.y,\n      dr = a.r + b.r;\n  return dr * dr - dx * dx - dy * dy > .001; // within epsilon\n}\n\nfunction d3_layout_packCircle(nodes) {\n  var xMin = Infinity,\n      xMax = -Infinity,\n      yMin = Infinity,\n      yMax = -Infinity,\n      n = nodes.length,\n      a, b, c, j, k;\n\n  function bound(node) {\n    xMin = Math.min(node.x - node.r, xMin);\n    xMax = Math.max(node.x + node.r, xMax);\n    yMin = Math.min(node.y - node.r, yMin);\n    yMax = Math.max(node.y + node.r, yMax);\n  }\n\n  // Create node links.\n  nodes.forEach(d3_layout_packLink);\n\n  // Create first node.\n  a = nodes[0];\n  a.x = -a.r;\n  a.y = 0;\n  bound(a);\n\n  // Create second node.\n  if (n > 1) {\n    b = nodes[1];\n    b.x = b.r;\n    b.y = 0;\n    bound(b);\n\n    // Create third node and build chain.\n    if (n > 2) {\n      c = nodes[2];\n      d3_layout_packPlace(a, b, c);\n      bound(c);\n      d3_layout_packInsert(a, c);\n      a._pack_prev = c;\n      d3_layout_packInsert(c, b);\n      b = a._pack_next;\n\n      // Now iterate through the rest.\n      for (var i = 3; i < n; i++) {\n        d3_layout_packPlace(a, b, c = nodes[i]);\n\n        // Search for the closest intersection.\n        var isect = 0, s1 = 1, s2 = 1;\n        for (j = b._pack_next; j !== b; j = j._pack_next, s1++) {\n          if (d3_layout_packIntersects(j, c)) {\n            isect = 1;\n            break;\n          }\n        }\n        if (isect == 1) {\n          for (k = a._pack_prev; k !== j._pack_prev; k = k._pack_prev, s2++) {\n            if (d3_layout_packIntersects(k, c)) {\n              break;\n            }\n          }\n        }\n\n        // Update node chain.\n        if (isect) {\n          if (s1 < s2 || (s1 == s2 && b.r < a.r)) d3_layout_packSplice(a, b = j);\n          else d3_layout_packSplice(a = k, b);\n          i--;\n        } else {\n          d3_layout_packInsert(a, c);\n          b = c;\n          bound(c);\n        }\n      }\n    }\n  }\n\n  // Re-center the circles and return the encompassing radius.\n  var cx = (xMin + xMax) / 2,\n      cy = (yMin + yMax) / 2,\n      cr = 0;\n  for (var i = 0; i < n; i++) {\n    var node = nodes[i];\n    node.x -= cx;\n    node.y -= cy;\n    cr = Math.max(cr, node.r + Math.sqrt(node.x * node.x + node.y * node.y));\n  }\n\n  // Remove node links.\n  nodes.forEach(d3_layout_packUnlink);\n\n  return cr;\n}\n\nfunction d3_layout_packLink(node) {\n  node._pack_next = node._pack_prev = node;\n}\n\nfunction d3_layout_packUnlink(node) {\n  delete node._pack_next;\n  delete node._pack_prev;\n}\n\nfunction d3_layout_packTree(node) {\n  var children = node.children;\n  if (children && children.length) {\n    children.forEach(d3_layout_packTree);\n    node.r = d3_layout_packCircle(children);\n  } else {\n    node.r = Math.sqrt(node.value);\n  }\n}\n\nfunction d3_layout_packTransform(node, x, y, k) {\n  var children = node.children;\n  node.x = (x += k * node.x);\n  node.y = (y += k * node.y);\n  node.r *= k;\n  if (children) {\n    var i = -1, n = children.length;\n    while (++i < n) d3_layout_packTransform(children[i], x, y, k);\n  }\n}\n\nfunction d3_layout_packPlace(a, b, c) {\n  var db = a.r + c.r,\n      dx = b.x - a.x,\n      dy = b.y - a.y;\n  if (db && (dx || dy)) {\n    var da = b.r + c.r,\n        dc = Math.sqrt(dx * dx + dy * dy),\n        cos = Math.max(-1, Math.min(1, (db * db + dc * dc - da * da) / (2 * db * dc))),\n        theta = Math.acos(cos),\n        x = cos * (db /= dc),\n        y = Math.sin(theta) * db;\n    c.x = a.x + x * dx + y * dy;\n    c.y = a.y + x * dy - y * dx;\n  } else {\n    c.x = a.x + db;\n    c.y = a.y;\n  }\n}\n// Implements a hierarchical layout using the cluster (or dendrogram)\n// algorithm.\nd3.layout.cluster = function() {\n  var hierarchy = d3.layout.hierarchy().sort(null).value(null),\n      separation = d3_layout_treeSeparation,\n      size = [1, 1]; // width, height\n\n  function cluster(d, i) {\n    var nodes = hierarchy.call(this, d, i),\n        root = nodes[0],\n        previousNode,\n        x = 0,\n        kx,\n        ky;\n\n    // First walk, computing the initial x & y values.\n    d3_layout_treeVisitAfter(root, function(node) {\n      var children = node.children;\n      if (children && children.length) {\n        node.x = d3_layout_clusterX(children);\n        node.y = d3_layout_clusterY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    var left = d3_layout_clusterLeft(root),\n        right = d3_layout_clusterRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    d3_layout_treeVisitAfter(root, function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * size[0];\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * size[1];\n    });\n\n    return nodes;\n  }\n\n  cluster.separation = function(x) {\n    if (!arguments.length) return separation;\n    separation = x;\n    return cluster;\n  };\n\n  cluster.size = function(x) {\n    if (!arguments.length) return size;\n    size = x;\n    return cluster;\n  };\n\n  return d3_layout_hierarchyRebind(cluster, hierarchy);\n};\n\nfunction d3_layout_clusterY(children) {\n  return 1 + d3.max(children, function(child) {\n    return child.y;\n  });\n}\n\nfunction d3_layout_clusterX(children) {\n  return children.reduce(function(x, child) {\n    return x + child.x;\n  }, 0) / children.length;\n}\n\nfunction d3_layout_clusterLeft(node) {\n  var children = node.children;\n  return children && children.length ? d3_layout_clusterLeft(children[0]) : node;\n}\n\nfunction d3_layout_clusterRight(node) {\n  var children = node.children, n;\n  return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node;\n}\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nd3.layout.tree = function() {\n  var hierarchy = d3.layout.hierarchy().sort(null).value(null),\n      separation = d3_layout_treeSeparation,\n      size = [1, 1]; // width, height\n\n  function tree(d, i) {\n    var nodes = hierarchy.call(this, d, i),\n        root = nodes[0];\n\n    function firstWalk(node, previousSibling) {\n      var children = node.children,\n          layout = node._tree;\n      if (children && (n = children.length)) {\n        var n,\n            firstChild = children[0],\n            previousChild,\n            ancestor = firstChild,\n            child,\n            i = -1;\n        while (++i < n) {\n          child = children[i];\n          firstWalk(child, previousChild);\n          ancestor = apportion(child, previousChild, ancestor);\n          previousChild = child;\n        }\n        d3_layout_treeShift(node);\n        var midpoint = .5 * (firstChild._tree.prelim + child._tree.prelim);\n        if (previousSibling) {\n          layout.prelim = previousSibling._tree.prelim + separation(node, previousSibling);\n          layout.mod = layout.prelim - midpoint;\n        } else {\n          layout.prelim = midpoint;\n        }\n      } else {\n        if (previousSibling) {\n          layout.prelim = previousSibling._tree.prelim + separation(node, previousSibling);\n        }\n      }\n    }\n\n    function secondWalk(node, x) {\n      node.x = node._tree.prelim + x;\n      var children = node.children;\n      if (children && (n = children.length)) {\n        var i = -1,\n            n;\n        x += node._tree.mod;\n        while (++i < n) {\n          secondWalk(children[i], x);\n        }\n      }\n    }\n\n    function apportion(node, previousSibling, ancestor) {\n      if (previousSibling) {\n        var vip = node,\n            vop = node,\n            vim = previousSibling,\n            vom = node.parent.children[0],\n            sip = vip._tree.mod,\n            sop = vop._tree.mod,\n            sim = vim._tree.mod,\n            som = vom._tree.mod,\n            shift;\n        while (vim = d3_layout_treeRight(vim), vip = d3_layout_treeLeft(vip), vim && vip) {\n          vom = d3_layout_treeLeft(vom);\n          vop = d3_layout_treeRight(vop);\n          vop._tree.ancestor = node;\n          shift = vim._tree.prelim + sim - vip._tree.prelim - sip + separation(vim, vip);\n          if (shift > 0) {\n            d3_layout_treeMove(d3_layout_treeAncestor(vim, node, ancestor), node, shift);\n            sip += shift;\n            sop += shift;\n          }\n          sim += vim._tree.mod;\n          sip += vip._tree.mod;\n          som += vom._tree.mod;\n          sop += vop._tree.mod;\n        }\n        if (vim && !d3_layout_treeRight(vop)) {\n          vop._tree.thread = vim;\n          vop._tree.mod += sim - sop;\n        }\n        if (vip && !d3_layout_treeLeft(vom)) {\n          vom._tree.thread = vip;\n          vom._tree.mod += sip - som;\n          ancestor = node;\n        }\n      }\n      return ancestor;\n    }\n\n    // Initialize temporary layout variables.\n    d3_layout_treeVisitAfter(root, function(node, previousSibling) {\n      node._tree = {\n        ancestor: node,\n        prelim: 0,\n        mod: 0,\n        change: 0,\n        shift: 0,\n        number: previousSibling ? previousSibling._tree.number + 1 : 0\n      };\n    });\n\n    // Compute the layout using Buchheim et al.'s algorithm.\n    firstWalk(root);\n    secondWalk(root, -root._tree.prelim);\n\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    var left = d3_layout_treeSearch(root, d3_layout_treeLeftmost),\n        right = d3_layout_treeSearch(root, d3_layout_treeRightmost),\n        deep = d3_layout_treeSearch(root, d3_layout_treeDeepest),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2,\n        y1 = deep.depth || 1;\n\n    // Clear temporary layout variables; transform x and y.\n    d3_layout_treeVisitAfter(root, function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * size[0];\n      node.y = node.depth / y1 * size[1];\n      delete node._tree;\n    });\n\n    return nodes;\n  }\n\n  tree.separation = function(x) {\n    if (!arguments.length) return separation;\n    separation = x;\n    return tree;\n  };\n\n  tree.size = function(x) {\n    if (!arguments.length) return size;\n    size = x;\n    return tree;\n  };\n\n  return d3_layout_hierarchyRebind(tree, hierarchy);\n};\n\nfunction d3_layout_treeSeparation(a, b) {\n  return a.parent == b.parent ? 1 : 2;\n}\n\n// function d3_layout_treeSeparationRadial(a, b) {\n//   return (a.parent == b.parent ? 1 : 2) / a.depth;\n// }\n\nfunction d3_layout_treeLeft(node) {\n  var children = node.children;\n  return children && children.length ? children[0] : node._tree.thread;\n}\n\nfunction d3_layout_treeRight(node) {\n  var children = node.children,\n      n;\n  return children && (n = children.length) ? children[n - 1] : node._tree.thread;\n}\n\nfunction d3_layout_treeSearch(node, compare) {\n  var children = node.children;\n  if (children && (n = children.length)) {\n    var child,\n        n,\n        i = -1;\n    while (++i < n) {\n      if (compare(child = d3_layout_treeSearch(children[i], compare), node) > 0) {\n        node = child;\n      }\n    }\n  }\n  return node;\n}\n\nfunction d3_layout_treeRightmost(a, b) {\n  return a.x - b.x;\n}\n\nfunction d3_layout_treeLeftmost(a, b) {\n  return b.x - a.x;\n}\n\nfunction d3_layout_treeDeepest(a, b) {\n  return a.depth - b.depth;\n}\n\nfunction d3_layout_treeVisitAfter(node, callback) {\n  function visit(node, previousSibling) {\n    var children = node.children;\n    if (children && (n = children.length)) {\n      var child,\n          previousChild = null,\n          i = -1,\n          n;\n      while (++i < n) {\n        child = children[i];\n        visit(child, previousChild);\n        previousChild = child;\n      }\n    }\n    callback(node, previousSibling);\n  }\n  visit(node, null);\n}\n\nfunction d3_layout_treeShift(node) {\n  var shift = 0,\n      change = 0,\n      children = node.children,\n      i = children.length,\n      child;\n  while (--i >= 0) {\n    child = children[i]._tree;\n    child.prelim += shift;\n    child.mod += shift;\n    shift += child.shift + (change += child.change);\n  }\n}\n\nfunction d3_layout_treeMove(ancestor, node, shift) {\n  ancestor = ancestor._tree;\n  node = node._tree;\n  var change = shift / (node.number - ancestor.number);\n  ancestor.change += change;\n  node.change -= change;\n  node.shift += shift;\n  node.prelim += shift;\n  node.mod += shift;\n}\n\nfunction d3_layout_treeAncestor(vim, node, ancestor) {\n  return vim._tree.ancestor.parent == node.parent\n      ? vim._tree.ancestor\n      : ancestor;\n}\n// Squarified Treemaps by Mark Bruls, Kees Huizing, and Jarke J. van Wijk\n// Modified to support a target aspect ratio by Jeff Heer\nd3.layout.treemap = function() {\n  var hierarchy = d3.layout.hierarchy(),\n      round = Math.round,\n      size = [1, 1], // width, height\n      padding = null,\n      pad = d3_layout_treemapPadNull,\n      sticky = false,\n      stickies,\n      ratio = 0.5 * (1 + Math.sqrt(5)); // golden ratio\n\n  // Compute the area for each child based on value & scale.\n  function scale(children, k) {\n    var i = -1,\n        n = children.length,\n        child,\n        area;\n    while (++i < n) {\n      area = (child = children[i]).value * (k < 0 ? 0 : k);\n      child.area = isNaN(area) || area <= 0 ? 0 : area;\n    }\n  }\n\n  // Recursively arranges the specified node's children into squarified rows.\n  function squarify(node) {\n    var children = node.children;\n    if (children && children.length) {\n      var rect = pad(node),\n          row = [],\n          remaining = children.slice(), // copy-on-write\n          child,\n          best = Infinity, // the best row score so far\n          score, // the current row score\n          u = Math.min(rect.dx, rect.dy), // initial orientation\n          n;\n      scale(remaining, rect.dx * rect.dy / node.value);\n      row.area = 0;\n      while ((n = remaining.length) > 0) {\n        row.push(child = remaining[n - 1]);\n        row.area += child.area;\n        if ((score = worst(row, u)) <= best) { // continue with this orientation\n          remaining.pop();\n          best = score;\n        } else { // abort, and try a different orientation\n          row.area -= row.pop().area;\n          position(row, u, rect, false);\n          u = Math.min(rect.dx, rect.dy);\n          row.length = row.area = 0;\n          best = Infinity;\n        }\n      }\n      if (row.length) {\n        position(row, u, rect, true);\n        row.length = row.area = 0;\n      }\n      children.forEach(squarify);\n    }\n  }\n\n  // Recursively resizes the specified node's children into existing rows.\n  // Preserves the existing layout!\n  function stickify(node) {\n    var children = node.children;\n    if (children && children.length) {\n      var rect = pad(node),\n          remaining = children.slice(), // copy-on-write\n          child,\n          row = [];\n      scale(remaining, rect.dx * rect.dy / node.value);\n      row.area = 0;\n      while (child = remaining.pop()) {\n        row.push(child);\n        row.area += child.area;\n        if (child.z != null) {\n          position(row, child.z ? rect.dx : rect.dy, rect, !remaining.length);\n          row.length = row.area = 0;\n        }\n      }\n      children.forEach(stickify);\n    }\n  }\n\n  // Computes the score for the specified row, as the worst aspect ratio.\n  function worst(row, u) {\n    var s = row.area,\n        r,\n        rmax = 0,\n        rmin = Infinity,\n        i = -1,\n        n = row.length;\n    while (++i < n) {\n      if (!(r = row[i].area)) continue;\n      if (r < rmin) rmin = r;\n      if (r > rmax) rmax = r;\n    }\n    s *= s;\n    u *= u;\n    return s\n        ? Math.max((u * rmax * ratio) / s, s / (u * rmin * ratio))\n        : Infinity;\n  }\n\n  // Positions the specified row of nodes. Modifies `rect`.\n  function position(row, u, rect, flush) {\n    var i = -1,\n        n = row.length,\n        x = rect.x,\n        y = rect.y,\n        v = u ? round(row.area / u) : 0,\n        o;\n    if (u == rect.dx) { // horizontal subdivision\n      if (flush || v > rect.dy) v = rect.dy; // over+underflow\n      while (++i < n) {\n        o = row[i];\n        o.x = x;\n        o.y = y;\n        o.dy = v;\n        x += o.dx = Math.min(rect.x + rect.dx - x, v ? round(o.area / v) : 0);\n      }\n      o.z = true;\n      o.dx += rect.x + rect.dx - x; // rounding error\n      rect.y += v;\n      rect.dy -= v;\n    } else { // vertical subdivision\n      if (flush || v > rect.dx) v = rect.dx; // over+underflow\n      while (++i < n) {\n        o = row[i];\n        o.x = x;\n        o.y = y;\n        o.dx = v;\n        y += o.dy = Math.min(rect.y + rect.dy - y, v ? round(o.area / v) : 0);\n      }\n      o.z = false;\n      o.dy += rect.y + rect.dy - y; // rounding error\n      rect.x += v;\n      rect.dx -= v;\n    }\n  }\n\n  function treemap(d) {\n    var nodes = stickies || hierarchy(d),\n        root = nodes[0];\n    root.x = 0;\n    root.y = 0;\n    root.dx = size[0];\n    root.dy = size[1];\n    if (stickies) hierarchy.revalue(root);\n    scale([root], root.dx * root.dy / root.value);\n    (stickies ? stickify : squarify)(root);\n    if (sticky) stickies = nodes;\n    return nodes;\n  }\n\n  treemap.size = function(x) {\n    if (!arguments.length) return size;\n    size = x;\n    return treemap;\n  };\n\n  treemap.padding = function(x) {\n    if (!arguments.length) return padding;\n\n    function padFunction(node) {\n      var p = x.call(treemap, node, node.depth);\n      return p == null\n          ? d3_layout_treemapPadNull(node)\n          : d3_layout_treemapPad(node, typeof p === \"number\" ? [p, p, p, p] : p);\n    }\n\n    function padConstant(node) {\n      return d3_layout_treemapPad(node, x);\n    }\n\n    var type;\n    pad = (padding = x) == null ? d3_layout_treemapPadNull\n        : (type = typeof x) === \"function\" ? padFunction\n        : type === \"number\" ? (x = [x, x, x, x], padConstant)\n        : padConstant;\n    return treemap;\n  };\n\n  treemap.round = function(x) {\n    if (!arguments.length) return round != Number;\n    round = x ? Math.round : Number;\n    return treemap;\n  };\n\n  treemap.sticky = function(x) {\n    if (!arguments.length) return sticky;\n    sticky = x;\n    stickies = null;\n    return treemap;\n  };\n\n  treemap.ratio = function(x) {\n    if (!arguments.length) return ratio;\n    ratio = x;\n    return treemap;\n  };\n\n  return d3_layout_hierarchyRebind(treemap, hierarchy);\n};\n\nfunction d3_layout_treemapPadNull(node) {\n  return {x: node.x, y: node.y, dx: node.dx, dy: node.dy};\n}\n\nfunction d3_layout_treemapPad(node, padding) {\n  var x = node.x + padding[3],\n      y = node.y + padding[0],\n      dx = node.dx - padding[1] - padding[3],\n      dy = node.dy - padding[0] - padding[2];\n  if (dx < 0) { x += dx / 2; dx = 0; }\n  if (dy < 0) { y += dy / 2; dy = 0; }\n  return {x: x, y: y, dx: dx, dy: dy};\n}\nd3.csv = function(url, callback) {\n  d3.text(url, \"text/csv\", function(text) {\n    callback(text && d3.csv.parse(text));\n  });\n};\nd3.csv.parse = function(text) {\n  var header;\n  return d3.csv.parseRows(text, function(row, i) {\n    if (i) {\n      var o = {}, j = -1, m = header.length;\n      while (++j < m) o[header[j]] = row[j];\n      return o;\n    } else {\n      header = row;\n      return null;\n    }\n  });\n};\n\nd3.csv.parseRows = function(text, f) {\n  var EOL = {}, // sentinel value for end-of-line\n      EOF = {}, // sentinel value for end-of-file\n      rows = [], // output rows\n      re = /\\r\\n|[,\\r\\n]/g, // field separator regex\n      n = 0, // the current line number\n      t, // the current token\n      eol; // is the current token followed by EOL?\n\n  re.lastIndex = 0; // work-around bug in FF 3.6\n\n  /** @private Returns the next token. */\n  function token() {\n    if (re.lastIndex >= text.length) return EOF; // special case: end of file\n    if (eol) { eol = false; return EOL; } // special case: end of line\n\n    // special case: quotes\n    var j = re.lastIndex;\n    if (text.charCodeAt(j) === 34) {\n      var i = j;\n      while (i++ < text.length) {\n        if (text.charCodeAt(i) === 34) {\n          if (text.charCodeAt(i + 1) !== 34) break;\n          i++;\n        }\n      }\n      re.lastIndex = i + 2;\n      var c = text.charCodeAt(i + 1);\n      if (c === 13) {\n        eol = true;\n        if (text.charCodeAt(i + 2) === 10) re.lastIndex++;\n      } else if (c === 10) {\n        eol = true;\n      }\n      return text.substring(j + 1, i).replace(/\"\"/g, \"\\\"\");\n    }\n\n    // common case\n    var m = re.exec(text);\n    if (m) {\n      eol = m[0].charCodeAt(0) !== 44;\n      return text.substring(j, m.index);\n    }\n    re.lastIndex = text.length;\n    return text.substring(j);\n  }\n\n  while ((t = token()) !== EOF) {\n    var a = [];\n    while ((t !== EOL) && (t !== EOF)) {\n      a.push(t);\n      t = token();\n    }\n    if (f && !(a = f(a, n++))) continue;\n    rows.push(a);\n  }\n\n  return rows;\n};\nd3.csv.format = function(rows) {\n  return rows.map(d3_csv_formatRow).join(\"\\n\");\n};\n\nfunction d3_csv_formatRow(row) {\n  return row.map(d3_csv_formatValue).join(\",\");\n}\n\nfunction d3_csv_formatValue(text) {\n  return /[\",\\n]/.test(text)\n      ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n      : text;\n}\nd3.geo = {};\n\nvar d3_geo_radians = Math.PI / 180;\n// TODO clip input coordinates on opposite hemisphere\nd3.geo.azimuthal = function() {\n  var mode = \"orthographic\", // or stereographic, gnomonic, equidistant or equalarea\n      origin,\n      scale = 200,\n      translate = [480, 250],\n      x0,\n      y0,\n      cy0,\n      sy0;\n\n  function azimuthal(coordinates) {\n    var x1 = coordinates[0] * d3_geo_radians - x0,\n        y1 = coordinates[1] * d3_geo_radians,\n        cx1 = Math.cos(x1),\n        sx1 = Math.sin(x1),\n        cy1 = Math.cos(y1),\n        sy1 = Math.sin(y1),\n        cc = mode !== \"orthographic\" ? sy0 * sy1 + cy0 * cy1 * cx1 : null,\n        c,\n        k = mode === \"stereographic\" ? 1 / (1 + cc)\n          : mode === \"gnomonic\" ? 1 / cc\n          : mode === \"equidistant\" ? (c = Math.acos(cc), c ? c / Math.sin(c) : 0)\n          : mode === \"equalarea\" ? Math.sqrt(2 / (1 + cc))\n          : 1,\n        x = k * cy1 * sx1,\n        y = k * (sy0 * cy1 * cx1 - cy0 * sy1);\n    return [\n      scale * x + translate[0],\n      scale * y + translate[1]\n    ];\n  }\n\n  azimuthal.invert = function(coordinates) {\n    var x = (coordinates[0] - translate[0]) / scale,\n        y = (coordinates[1] - translate[1]) / scale,\n        p = Math.sqrt(x * x + y * y),\n        c = mode === \"stereographic\" ? 2 * Math.atan(p)\n          : mode === \"gnomonic\" ? Math.atan(p)\n          : mode === \"equidistant\" ? p\n          : mode === \"equalarea\" ? 2 * Math.asin(.5 * p)\n          : Math.asin(p),\n        sc = Math.sin(c),\n        cc = Math.cos(c);\n    return [\n      (x0 + Math.atan2(x * sc, p * cy0 * cc + y * sy0 * sc)) / d3_geo_radians,\n      Math.asin(cc * sy0 - (p ? (y * sc * cy0) / p : 0)) / d3_geo_radians\n    ];\n  };\n\n  azimuthal.mode = function(x) {\n    if (!arguments.length) return mode;\n    mode = x + \"\";\n    return azimuthal;\n  };\n\n  azimuthal.origin = function(x) {\n    if (!arguments.length) return origin;\n    origin = x;\n    x0 = origin[0] * d3_geo_radians;\n    y0 = origin[1] * d3_geo_radians;\n    cy0 = Math.cos(y0);\n    sy0 = Math.sin(y0);\n    return azimuthal;\n  };\n\n  azimuthal.scale = function(x) {\n    if (!arguments.length) return scale;\n    scale = +x;\n    return azimuthal;\n  };\n\n  azimuthal.translate = function(x) {\n    if (!arguments.length) return translate;\n    translate = [+x[0], +x[1]];\n    return azimuthal;\n  };\n\n  return azimuthal.origin([0, 0]);\n};\n// Derived from Tom Carden's Albers implementation for Protovis.\n// http://gist.github.com/476238\n// http://mathworld.wolfram.com/AlbersEqual-AreaConicProjection.html\n\nd3.geo.albers = function() {\n  var origin = [-98, 38],\n      parallels = [29.5, 45.5],\n      scale = 1000,\n      translate = [480, 250],\n      lng0, // d3_geo_radians * origin[0]\n      n,\n      C,\n      p0;\n\n  function albers(coordinates) {\n    var t = n * (d3_geo_radians * coordinates[0] - lng0),\n        p = Math.sqrt(C - 2 * n * Math.sin(d3_geo_radians * coordinates[1])) / n;\n    return [\n      scale * p * Math.sin(t) + translate[0],\n      scale * (p * Math.cos(t) - p0) + translate[1]\n    ];\n  }\n\n  albers.invert = function(coordinates) {\n    var x = (coordinates[0] - translate[0]) / scale,\n        y = (coordinates[1] - translate[1]) / scale,\n        p0y = p0 + y,\n        t = Math.atan2(x, p0y),\n        p = Math.sqrt(x * x + p0y * p0y);\n    return [\n      (lng0 + t / n) / d3_geo_radians,\n      Math.asin((C - p * p * n * n) / (2 * n)) / d3_geo_radians\n    ];\n  };\n\n  function reload() {\n    var phi1 = d3_geo_radians * parallels[0],\n        phi2 = d3_geo_radians * parallels[1],\n        lat0 = d3_geo_radians * origin[1],\n        s = Math.sin(phi1),\n        c = Math.cos(phi1);\n    lng0 = d3_geo_radians * origin[0];\n    n = .5 * (s + Math.sin(phi2));\n    C = c * c + 2 * n * s;\n    p0 = Math.sqrt(C - 2 * n * Math.sin(lat0)) / n;\n    return albers;\n  }\n\n  albers.origin = function(x) {\n    if (!arguments.length) return origin;\n    origin = [+x[0], +x[1]];\n    return reload();\n  };\n\n  albers.parallels = function(x) {\n    if (!arguments.length) return parallels;\n    parallels = [+x[0], +x[1]];\n    return reload();\n  };\n\n  albers.scale = function(x) {\n    if (!arguments.length) return scale;\n    scale = +x;\n    return albers;\n  };\n\n  albers.translate = function(x) {\n    if (!arguments.length) return translate;\n    translate = [+x[0], +x[1]];\n    return albers;\n  };\n\n  return reload();\n};\n\n// A composite projection for the United States, 960x500. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\n// TODO allow the composite projection to be rescaled?\nd3.geo.albersUsa = function() {\n  var lower48 = d3.geo.albers();\n\n  var alaska = d3.geo.albers()\n      .origin([-160, 60])\n      .parallels([55, 65]);\n\n  var hawaii = d3.geo.albers()\n      .origin([-160, 20])\n      .parallels([8, 18]);\n\n  var puertoRico = d3.geo.albers()\n      .origin([-60, 10])\n      .parallels([8, 18]);\n\n  function albersUsa(coordinates) {\n    var lon = coordinates[0],\n        lat = coordinates[1];\n    return (lat > 50 ? alaska\n        : lon < -140 ? hawaii\n        : lat < 21 ? puertoRico\n        : lower48)(coordinates);\n  }\n\n  albersUsa.scale = function(x) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(x);\n    alaska.scale(x * .6);\n    hawaii.scale(x);\n    puertoRico.scale(x * 1.5);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(x) {\n    if (!arguments.length) return lower48.translate();\n    var dz = lower48.scale() / 1000,\n        dx = x[0],\n        dy = x[1];\n    lower48.translate(x);\n    alaska.translate([dx - 400 * dz, dy + 170 * dz]);\n    hawaii.translate([dx - 190 * dz, dy + 200 * dz]);\n    puertoRico.translate([dx + 580 * dz, dy + 430 * dz]);\n    return albersUsa;\n  };\n\n  return albersUsa.scale(lower48.scale());\n};\nd3.geo.bonne = function() {\n  var scale = 200,\n      translate = [480, 250],\n      x0, // origin longitude in radians\n      y0, // origin latitude in radians\n      y1, // parallel latitude in radians\n      c1; // cot(y1)\n\n  function bonne(coordinates) {\n    var x = coordinates[0] * d3_geo_radians - x0,\n        y = coordinates[1] * d3_geo_radians - y0;\n    if (y1) {\n      var p = c1 + y1 - y, E = x * Math.cos(y) / p;\n      x = p * Math.sin(E);\n      y = p * Math.cos(E) - c1;\n    } else {\n      x *= Math.cos(y);\n      y *= -1;\n    }\n    return [\n      scale * x + translate[0],\n      scale * y + translate[1]\n    ];\n  }\n\n  bonne.invert = function(coordinates) {\n    var x = (coordinates[0] - translate[0]) / scale,\n        y = (coordinates[1] - translate[1]) / scale;\n    if (y1) {\n      var c = c1 + y, p = Math.sqrt(x * x + c * c);\n      y = c1 + y1 - p;\n      x = x0 + p * Math.atan2(x, c) / Math.cos(y);\n    } else {\n      y *= -1;\n      x /= Math.cos(y);\n    }\n    return [\n      x / d3_geo_radians,\n      y / d3_geo_radians\n    ];\n  };\n\n  // 90Â° for Werner, 0Â° for Sinusoidal\n  bonne.parallel = function(x) {\n    if (!arguments.length) return y1 / d3_geo_radians;\n    c1 = 1 / Math.tan(y1 = x * d3_geo_radians);\n    return bonne;\n  };\n\n  bonne.origin = function(x) {\n    if (!arguments.length) return [x0 / d3_geo_radians, y0 / d3_geo_radians];\n    x0 = x[0] * d3_geo_radians;\n    y0 = x[1] * d3_geo_radians;\n    return bonne;\n  };\n\n  bonne.scale = function(x) {\n    if (!arguments.length) return scale;\n    scale = +x;\n    return bonne;\n  };\n\n  bonne.translate = function(x) {\n    if (!arguments.length) return translate;\n    translate = [+x[0], +x[1]];\n    return bonne;\n  };\n\n  return bonne.origin([0, 0]).parallel(45);\n};\nd3.geo.equirectangular = function() {\n  var scale = 500,\n      translate = [480, 250];\n\n  function equirectangular(coordinates) {\n    var x = coordinates[0] / 360,\n        y = -coordinates[1] / 360;\n    return [\n      scale * x + translate[0],\n      scale * y + translate[1]\n    ];\n  }\n\n  equirectangular.invert = function(coordinates) {\n    var x = (coordinates[0] - translate[0]) / scale,\n        y = (coordinates[1] - translate[1]) / scale;\n    return [\n      360 * x,\n      -360 * y\n    ];\n  };\n\n  equirectangular.scale = function(x) {\n    if (!arguments.length) return scale;\n    scale = +x;\n    return equirectangular;\n  };\n\n  equirectangular.translate = function(x) {\n    if (!arguments.length) return translate;\n    translate = [+x[0], +x[1]];\n    return equirectangular;\n  };\n\n  return equirectangular;\n};\nd3.geo.mercator = function() {\n  var scale = 500,\n      translate = [480, 250];\n\n  function mercator(coordinates) {\n    var x = coordinates[0] / 360,\n        y = -(Math.log(Math.tan(Math.PI / 4 + coordinates[1] * d3_geo_radians / 2)) / d3_geo_radians) / 360;\n    return [\n      scale * x + translate[0],\n      scale * Math.max(-.5, Math.min(.5, y)) + translate[1]\n    ];\n  }\n\n  mercator.invert = function(coordinates) {\n    var x = (coordinates[0] - translate[0]) / scale,\n        y = (coordinates[1] - translate[1]) / scale;\n    return [\n      360 * x,\n      2 * Math.atan(Math.exp(-360 * y * d3_geo_radians)) / d3_geo_radians - 90\n    ];\n  };\n\n  mercator.scale = function(x) {\n    if (!arguments.length) return scale;\n    scale = +x;\n    return mercator;\n  };\n\n  mercator.translate = function(x) {\n    if (!arguments.length) return translate;\n    translate = [+x[0], +x[1]];\n    return mercator;\n  };\n\n  return mercator;\n};\nfunction d3_geo_type(types, defaultValue) {\n  return function(object) {\n    return object && types.hasOwnProperty(object.type) ? types[object.type](object) : defaultValue;\n  };\n}\n/**\n * Returns a function that, given a GeoJSON object (e.g., a feature), returns\n * the corresponding SVG path. The function can be customized by overriding the\n * projection. Point features are mapped to circles with a default radius of\n * 4.5px; the radius can be specified either as a constant or a function that\n * is evaluated per object.\n */\nd3.geo.path = function() {\n  var pointRadius = 4.5,\n      pointCircle = d3_path_circle(pointRadius),\n      projection = d3.geo.albersUsa(),\n      buffer = [];\n\n  function path(d, i) {\n    if (typeof pointRadius === \"function\") pointCircle = d3_path_circle(pointRadius.apply(this, arguments));\n    pathType(d);\n    var result = buffer.length ? buffer.join(\"\") : null;\n    buffer = [];\n    return result;\n  }\n\n  function project(coordinates) {\n    return projection(coordinates).join(\",\");\n  }\n\n  var pathType = d3_geo_type({\n\n    FeatureCollection: function(o) {\n      var features = o.features,\n          i = -1, // features.index\n          n = features.length;\n      while (++i < n) buffer.push(pathType(features[i].geometry));\n    },\n\n    Feature: function(o) {\n      pathType(o.geometry);\n    },\n\n    Point: function(o) {\n      buffer.push(\"M\", project(o.coordinates), pointCircle);\n    },\n\n    MultiPoint: function(o) {\n      var coordinates = o.coordinates,\n          i = -1, // coordinates.index\n          n = coordinates.length;\n      while (++i < n) buffer.push(\"M\", project(coordinates[i]), pointCircle);\n    },\n\n    LineString: function(o) {\n      var coordinates = o.coordinates,\n          i = -1, // coordinates.index\n          n = coordinates.length;\n      buffer.push(\"M\");\n      while (++i < n) buffer.push(project(coordinates[i]), \"L\");\n      buffer.pop();\n    },\n\n    MultiLineString: function(o) {\n      var coordinates = o.coordinates,\n          i = -1, // coordinates.index\n          n = coordinates.length,\n          subcoordinates, // coordinates[i]\n          j, // subcoordinates.index\n          m; // subcoordinates.length\n      while (++i < n) {\n        subcoordinates = coordinates[i];\n        j = -1;\n        m = subcoordinates.length;\n        buffer.push(\"M\");\n        while (++j < m) buffer.push(project(subcoordinates[j]), \"L\");\n        buffer.pop();\n      }\n    },\n\n    Polygon: function(o) {\n      var coordinates = o.coordinates,\n          i = -1, // coordinates.index\n          n = coordinates.length,\n          subcoordinates, // coordinates[i]\n          j, // subcoordinates.index\n          m; // subcoordinates.length\n      while (++i < n) {\n        subcoordinates = coordinates[i];\n        j = -1;\n        if ((m = subcoordinates.length - 1) > 0) {\n          buffer.push(\"M\");\n          while (++j < m) buffer.push(project(subcoordinates[j]), \"L\");\n          buffer[buffer.length - 1] = \"Z\";\n        }\n      }\n    },\n\n    MultiPolygon: function(o) {\n      var coordinates = o.coordinates,\n          i = -1, // coordinates index\n          n = coordinates.length,\n          subcoordinates, // coordinates[i]\n          j, // subcoordinates index\n          m, // subcoordinates.length\n          subsubcoordinates, // subcoordinates[j]\n          k, // subsubcoordinates index\n          p; // subsubcoordinates.length\n      while (++i < n) {\n        subcoordinates = coordinates[i];\n        j = -1;\n        m = subcoordinates.length;\n        while (++j < m) {\n          subsubcoordinates = subcoordinates[j];\n          k = -1;\n          if ((p = subsubcoordinates.length - 1) > 0) {\n            buffer.push(\"M\");\n            while (++k < p) buffer.push(project(subsubcoordinates[k]), \"L\");\n            buffer[buffer.length - 1] = \"Z\";\n          }\n        }\n      }\n    },\n\n    GeometryCollection: function(o) {\n      var geometries = o.geometries,\n          i = -1, // geometries index\n          n = geometries.length;\n      while (++i < n) buffer.push(pathType(geometries[i]));\n    }\n\n  });\n\n  var areaType = path.area = d3_geo_type({\n\n    FeatureCollection: function(o) {\n      var area = 0,\n          features = o.features,\n          i = -1, // features.index\n          n = features.length;\n      while (++i < n) area += areaType(features[i]);\n      return area;\n    },\n\n    Feature: function(o) {\n      return areaType(o.geometry);\n    },\n\n    Polygon: function(o) {\n      return polygonArea(o.coordinates);\n    },\n\n    MultiPolygon: function(o) {\n      var sum = 0,\n          coordinates = o.coordinates,\n          i = -1, // coordinates index\n          n = coordinates.length;\n      while (++i < n) sum += polygonArea(coordinates[i]);\n      return sum;\n    },\n\n    GeometryCollection: function(o) {\n      var sum = 0,\n          geometries = o.geometries,\n          i = -1, // geometries index\n          n = geometries.length;\n      while (++i < n) sum += areaType(geometries[i]);\n      return sum;\n    }\n\n  }, 0);\n\n  function polygonArea(coordinates) {\n    var sum = area(coordinates[0]), // exterior ring\n        i = 0, // coordinates.index\n        n = coordinates.length;\n    while (++i < n) sum -= area(coordinates[i]); // holes\n    return sum;\n  }\n\n  function polygonCentroid(coordinates) {\n    var polygon = d3.geom.polygon(coordinates[0].map(projection)), // exterior ring\n        area = polygon.area(),\n        centroid = polygon.centroid(area < 0 ? (area *= -1, 1) : -1),\n        x = centroid[0],\n        y = centroid[1],\n        z = area,\n        i = 0, // coordinates index\n        n = coordinates.length;\n    while (++i < n) {\n      polygon = d3.geom.polygon(coordinates[i].map(projection)); // holes\n      area = polygon.area();\n      centroid = polygon.centroid(area < 0 ? (area *= -1, 1) : -1);\n      x -= centroid[0];\n      y -= centroid[1];\n      z -= area;\n    }\n    return [x, y, 6 * z]; // weighted centroid\n  }\n\n  var centroidType = path.centroid = d3_geo_type({\n\n    // TODO FeatureCollection\n    // TODO Point\n    // TODO MultiPoint\n    // TODO LineString\n    // TODO MultiLineString\n    // TODO GeometryCollection\n\n    Feature: function(o) {\n      return centroidType(o.geometry);\n    },\n\n    Polygon: function(o) {\n      var centroid = polygonCentroid(o.coordinates);\n      return [centroid[0] / centroid[2], centroid[1] / centroid[2]];\n    },\n\n    MultiPolygon: function(o) {\n      var area = 0,\n          coordinates = o.coordinates,\n          centroid,\n          x = 0,\n          y = 0,\n          z = 0,\n          i = -1, // coordinates index\n          n = coordinates.length;\n      while (++i < n) {\n        centroid = polygonCentroid(coordinates[i]);\n        x += centroid[0];\n        y += centroid[1];\n        z += centroid[2];\n      }\n      return [x / z, y / z];\n    }\n\n  });\n\n  function area(coordinates) {\n    return Math.abs(d3.geom.polygon(coordinates.map(projection)).area());\n  }\n\n  path.projection = function(x) {\n    projection = x;\n    return path;\n  };\n\n  path.pointRadius = function(x) {\n    if (typeof x === \"function\") pointRadius = x;\n    else {\n      pointRadius = +x;\n      pointCircle = d3_path_circle(pointRadius);\n    }\n    return path;\n  };\n\n  return path;\n};\n\nfunction d3_path_circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + (-2 * radius)\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + (+2 * radius)\n      + \"z\";\n}\n/**\n * Given a GeoJSON object, returns the corresponding bounding box. The bounding\n * box is represented by a two-dimensional array: [[left, bottom], [right,\n * top]], where left is the minimum longitude, bottom is the minimum latitude,\n * right is maximum longitude, and top is the maximum latitude.\n */\nd3.geo.bounds = function(feature) {\n  var left = Infinity,\n      bottom = Infinity,\n      right = -Infinity,\n      top = -Infinity;\n  d3_geo_bounds(feature, function(x, y) {\n    if (x < left) left = x;\n    if (x > right) right = x;\n    if (y < bottom) bottom = y;\n    if (y > top) top = y;\n  });\n  return [[left, bottom], [right, top]];\n};\n\nfunction d3_geo_bounds(o, f) {\n  if (d3_geo_boundsTypes.hasOwnProperty(o.type)) d3_geo_boundsTypes[o.type](o, f);\n}\n\nvar d3_geo_boundsTypes = {\n  Feature: d3_geo_boundsFeature,\n  FeatureCollection: d3_geo_boundsFeatureCollection,\n  GeometryCollection: d3_geo_boundsGeometryCollection,\n  LineString: d3_geo_boundsLineString,\n  MultiLineString: d3_geo_boundsMultiLineString,\n  MultiPoint: d3_geo_boundsLineString,\n  MultiPolygon: d3_geo_boundsMultiPolygon,\n  Point: d3_geo_boundsPoint,\n  Polygon: d3_geo_boundsPolygon\n};\n\nfunction d3_geo_boundsFeature(o, f) {\n  d3_geo_bounds(o.geometry, f);\n}\n\nfunction d3_geo_boundsFeatureCollection(o, f) {\n  for (var a = o.features, i = 0, n = a.length; i < n; i++) {\n    d3_geo_bounds(a[i].geometry, f);\n  }\n}\n\nfunction d3_geo_boundsGeometryCollection(o, f) {\n  for (var a = o.geometries, i = 0, n = a.length; i < n; i++) {\n    d3_geo_bounds(a[i], f);\n  }\n}\n\nfunction d3_geo_boundsLineString(o, f) {\n  for (var a = o.coordinates, i = 0, n = a.length; i < n; i++) {\n    f.apply(null, a[i]);\n  }\n}\n\nfunction d3_geo_boundsMultiLineString(o, f) {\n  for (var a = o.coordinates, i = 0, n = a.length; i < n; i++) {\n    for (var b = a[i], j = 0, m = b.length; j < m; j++) {\n      f.apply(null, b[j]);\n    }\n  }\n}\n\nfunction d3_geo_boundsMultiPolygon(o, f) {\n  for (var a = o.coordinates, i = 0, n = a.length; i < n; i++) {\n    for (var b = a[i][0], j = 0, m = b.length; j < m; j++) {\n      f.apply(null, b[j]);\n    }\n  }\n}\n\nfunction d3_geo_boundsPoint(o, f) {\n  f.apply(null, o.coordinates);\n}\n\nfunction d3_geo_boundsPolygon(o, f) {\n  for (var a = o.coordinates[0], i = 0, n = a.length; i < n; i++) {\n    f.apply(null, a[i]);\n  }\n}\n// TODO breakAtDateLine?\n\nd3.geo.circle = function() {\n  var origin = [0, 0],\n      degrees = 90 - 1e-2,\n      radians = degrees * d3_geo_radians,\n      arc = d3.geo.greatArc().source(origin).target(d3_identity);\n\n  function circle() {\n    // TODO render a circle as a Polygon\n  }\n\n  function visible(point) {\n    return arc.distance(point) < radians;\n  }\n\n  circle.clip = function(d) {\n    if (typeof origin === \"function\") arc.source(origin.apply(this, arguments));\n    return clipType(d) || null;\n  };\n\n  var clipType = d3_geo_type({\n\n    FeatureCollection: function(o) {\n      var features = o.features.map(clipType).filter(d3_identity);\n      return features && (o = Object.create(o), o.features = features, o);\n    },\n\n    Feature: function(o) {\n      var geometry = clipType(o.geometry);\n      return geometry && (o = Object.create(o), o.geometry = geometry, o);\n    },\n\n    Point: function(o) {\n      return visible(o.coordinates) && o;\n    },\n\n    MultiPoint: function(o) {\n      var coordinates = o.coordinates.filter(visible);\n      return coordinates.length && {\n        type: o.type,\n        coordinates: coordinates\n      };\n    },\n\n    LineString: function(o) {\n      var coordinates = clip(o.coordinates);\n      return coordinates.length && (o = Object.create(o), o.coordinates = coordinates, o);\n    },\n\n    MultiLineString: function(o) {\n      var coordinates = o.coordinates.map(clip).filter(function(d) { return d.length; });\n      return coordinates.length && (o = Object.create(o), o.coordinates = coordinates, o);\n    },\n\n    Polygon: function(o) {\n      var coordinates = o.coordinates.map(clip);\n      return coordinates[0].length && (o = Object.create(o), o.coordinates = coordinates, o);\n    },\n\n    MultiPolygon: function(o) {\n      var coordinates = o.coordinates.map(function(d) { return d.map(clip); }).filter(function(d) { return d[0].length; });\n      return coordinates.length && (o = Object.create(o), o.coordinates = coordinates, o);\n    },\n\n    GeometryCollection: function(o) {\n      var geometries = o.geometries.map(clipType).filter(d3_identity);\n      return geometries.length && (o = Object.create(o), o.geometries = geometries, o);\n    }\n\n  });\n\n  function clip(coordinates) {\n    var i = -1,\n        n = coordinates.length,\n        clipped = [],\n        p0,\n        p1,\n        p2,\n        d0,\n        d1;\n\n    while (++i < n) {\n      d1 = arc.distance(p2 = coordinates[i]);\n      if (d1 < radians) {\n        if (p1) clipped.push(d3_geo_greatArcInterpolate(p1, p2)((d0 - radians) / (d0 - d1)));\n        clipped.push(p2);\n        p0 = p1 = null;\n      } else {\n        p1 = p2;\n        if (!p0 && clipped.length) {\n          clipped.push(d3_geo_greatArcInterpolate(clipped[clipped.length - 1], p1)((radians - d0) / (d1 - d0)));\n          p0 = p1;\n        }\n      }\n      d0 = d1;\n    }\n\n    // Close the clipped polygon if necessary.\n    p0 = coordinates[0];\n    p1 = clipped[0];\n    if (p1 && p2[0] === p0[0] && p2[1] === p0[1] && !(p2[0] === p1[0] && p2[1] === p1[1])) {\n      clipped.push(p1);\n    }\n\n    return resample(clipped);\n  }\n\n  // Resample coordinates, creating great arcs between each.\n  function resample(coordinates) {\n    var i = 0,\n        n = coordinates.length,\n        j,\n        m,\n        resampled = n ? [coordinates[0]] : coordinates,\n        resamples,\n        origin = arc.source();\n\n    while (++i < n) {\n      resamples = arc.source(coordinates[i - 1])(coordinates[i]).coordinates;\n      for (j = 0, m = resamples.length; ++j < m;) resampled.push(resamples[j]);\n    }\n\n    arc.source(origin);\n    return resampled;\n  }\n\n  circle.origin = function(x) {\n    if (!arguments.length) return origin;\n    origin = x;\n    if (typeof origin !== \"function\") arc.source(origin);\n    return circle;\n  };\n\n  circle.angle = function(x) {\n    if (!arguments.length) return degrees;\n    radians = (degrees = +x) * d3_geo_radians;\n    return circle;\n  };\n\n  return d3.rebind(circle, arc, \"precision\");\n}\nd3.geo.greatArc = function() {\n  var source = d3_geo_greatArcSource, p0,\n      target = d3_geo_greatArcTarget, p1,\n      precision = 6 * d3_geo_radians,\n      interpolate = d3_geo_greatArcInterpolator();\n\n  function greatArc() {\n    var d = greatArc.distance.apply(this, arguments), // initializes the interpolator, too\n        t = 0,\n        dt = precision / d,\n        coordinates = [p0];\n    while ((t += dt) < 1) coordinates.push(interpolate(t));\n    coordinates.push(p1);\n    return {type: \"LineString\", coordinates: coordinates};\n  }\n\n  // Length returned in radians; multiply by radius for distance.\n  greatArc.distance = function() {\n    if (typeof source === \"function\") interpolate.source(p0 = source.apply(this, arguments));\n    if (typeof target === \"function\") interpolate.target(p1 = target.apply(this, arguments));\n    return interpolate.distance();\n  };\n\n  greatArc.source = function(_) {\n    if (!arguments.length) return source;\n    source = _;\n    if (typeof source !== \"function\") interpolate.source(p0 = source);\n    return greatArc;\n  };\n\n  greatArc.target = function(_) {\n    if (!arguments.length) return target;\n    target = _;\n    if (typeof target !== \"function\") interpolate.target(p1 = target);\n    return greatArc;\n  };\n\n  // Precision is specified in degrees.\n  greatArc.precision = function(_) {\n    if (!arguments.length) return precision / d3_geo_radians;\n    precision = _ * d3_geo_radians;\n    return greatArc;\n  };\n\n  return greatArc;\n};\n\nfunction d3_geo_greatArcSource(d) {\n  return d.source;\n}\n\nfunction d3_geo_greatArcTarget(d) {\n  return d.target;\n}\n\nfunction d3_geo_greatArcInterpolator() {\n  var x0, y0, cy0, sy0, kx0, ky0,\n      x1, y1, cy1, sy1, kx1, ky1,\n      d,\n      k;\n\n  function interpolate(t) {\n    var B = Math.sin(t *= d) * k,\n        A = Math.sin(d - t) * k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      Math.atan2(y, x) / d3_geo_radians,\n      Math.atan2(z, Math.sqrt(x * x + y * y)) / d3_geo_radians\n    ];\n  }\n\n  interpolate.distance = function() {\n    if (d == null) k = 1 / Math.sin(d = Math.acos(Math.max(-1, Math.min(1, sy0 * sy1 + cy0 * cy1 * Math.cos(x1 - x0)))));\n    return d;\n  };\n\n  interpolate.source = function(_) {\n    var cx0 = Math.cos(x0 = _[0] * d3_geo_radians),\n        sx0 = Math.sin(x0);\n    cy0 = Math.cos(y0 = _[1] * d3_geo_radians);\n    sy0 = Math.sin(y0);\n    kx0 = cy0 * cx0;\n    ky0 = cy0 * sx0;\n    d = null;\n    return interpolate;\n  };\n\n  interpolate.target = function(_) {\n    var cx1 = Math.cos(x1 = _[0] * d3_geo_radians),\n        sx1 = Math.sin(x1);\n    cy1 = Math.cos(y1 = _[1] * d3_geo_radians);\n    sy1 = Math.sin(y1);\n    kx1 = cy1 * cx1;\n    ky1 = cy1 * sx1;\n    d = null;\n    return interpolate;\n  };\n\n  return interpolate;\n}\n\nfunction d3_geo_greatArcInterpolate(a, b) {\n  var i = d3_geo_greatArcInterpolator().source(a).target(b);\n  i.distance();\n  return i;\n}\nd3.geo.greatCircle = d3.geo.circle;\nd3.geom = {};\n/**\n * Computes a contour for a given input grid function using the <a\n * href=\"http://en.wikipedia.org/wiki/Marching_squares\">marching\n * squares</a> algorithm. Returns the contour polygon as an array of points.\n *\n * @param grid a two-input function(x, y) that returns true for values\n * inside the contour and false for values outside the contour.\n * @param start an optional starting point [x, y] on the grid.\n * @returns polygon [[x1, y1], [x2, y2], â€¦]\n */\nd3.geom.contour = function(grid, start) {\n  var s = start || d3_geom_contourStart(grid), // starting point\n      c = [],    // contour polygon\n      x = s[0],  // current x position\n      y = s[1],  // current y position\n      dx = 0,    // next x direction\n      dy = 0,    // next y direction\n      pdx = NaN, // previous x direction\n      pdy = NaN, // previous y direction\n      i = 0;\n\n  do {\n    // determine marching squares index\n    i = 0;\n    if (grid(x-1, y-1)) i += 1;\n    if (grid(x,   y-1)) i += 2;\n    if (grid(x-1, y  )) i += 4;\n    if (grid(x,   y  )) i += 8;\n\n    // determine next direction\n    if (i === 6) {\n      dx = pdy === -1 ? -1 : 1;\n      dy = 0;\n    } else if (i === 9) {\n      dx = 0;\n      dy = pdx === 1 ? -1 : 1;\n    } else {\n      dx = d3_geom_contourDx[i];\n      dy = d3_geom_contourDy[i];\n    }\n\n    // update contour polygon\n    if (dx != pdx && dy != pdy) {\n      c.push([x, y]);\n      pdx = dx;\n      pdy = dy;\n    }\n\n    x += dx;\n    y += dy;\n  } while (s[0] != x || s[1] != y);\n\n  return c;\n};\n\n// lookup tables for marching directions\nvar d3_geom_contourDx = [1, 0, 1, 1,-1, 0,-1, 1,0, 0,0,0,-1, 0,-1,NaN],\n    d3_geom_contourDy = [0,-1, 0, 0, 0,-1, 0, 0,1,-1,1,1, 0,-1, 0,NaN];\n\nfunction d3_geom_contourStart(grid) {\n  var x = 0,\n      y = 0;\n\n  // search for a starting point; begin at origin\n  // and proceed along outward-expanding diagonals\n  while (true) {\n    if (grid(x,y)) {\n      return [x,y];\n    }\n    if (x === 0) {\n      x = y + 1;\n      y = 0;\n    } else {\n      x = x - 1;\n      y = y + 1;\n    }\n  }\n}\n/**\n * Computes the 2D convex hull of a set of points using Graham's scanning\n * algorithm. The algorithm has been implemented as described in Cormen,\n * Leiserson, and Rivest's Introduction to Algorithms. The running time of\n * this algorithm is O(n log n), where n is the number of input points.\n *\n * @param vertices [[x1, y1], [x2, y2], â€¦]\n * @returns polygon [[x1, y1], [x2, y2], â€¦]\n */\nd3.geom.hull = function(vertices) {\n  if (vertices.length < 3) return [];\n\n  var len = vertices.length,\n      plen = len - 1,\n      points = [],\n      stack = [],\n      i, j, h = 0, x1, y1, x2, y2, u, v, a, sp;\n\n  // find the starting ref point: leftmost point with the minimum y coord\n  for (i=1; i<len; ++i) {\n    if (vertices[i][1] < vertices[h][1]) {\n      h = i;\n    } else if (vertices[i][1] == vertices[h][1]) {\n      h = (vertices[i][0] < vertices[h][0] ? i : h);\n    }\n  }\n\n  // calculate polar angles from ref point and sort\n  for (i=0; i<len; ++i) {\n    if (i === h) continue;\n    y1 = vertices[i][1] - vertices[h][1];\n    x1 = vertices[i][0] - vertices[h][0];\n    points.push({angle: Math.atan2(y1, x1), index: i});\n  }\n  points.sort(function(a, b) { return a.angle - b.angle; });\n\n  // toss out duplicate angles\n  a = points[0].angle;\n  v = points[0].index;\n  u = 0;\n  for (i=1; i<plen; ++i) {\n    j = points[i].index;\n    if (a == points[i].angle) {\n      // keep angle for point most distant from the reference\n      x1 = vertices[v][0] - vertices[h][0];\n      y1 = vertices[v][1] - vertices[h][1];\n      x2 = vertices[j][0] - vertices[h][0];\n      y2 = vertices[j][1] - vertices[h][1];\n      if ((x1*x1 + y1*y1) >= (x2*x2 + y2*y2)) {\n        points[i].index = -1;\n      } else {\n        points[u].index = -1;\n        a = points[i].angle;\n        u = i;\n        v = j;\n      }\n    } else {\n      a = points[i].angle;\n      u = i;\n      v = j;\n    }\n  }\n\n  // initialize the stack\n  stack.push(h);\n  for (i=0, j=0; i<2; ++j) {\n    if (points[j].index !== -1) {\n      stack.push(points[j].index);\n      i++;\n    }\n  }\n  sp = stack.length;\n\n  // do graham's scan\n  for (; j<plen; ++j) {\n    if (points[j].index === -1) continue; // skip tossed out points\n    while (!d3_geom_hullCCW(stack[sp-2], stack[sp-1], points[j].index, vertices)) {\n      --sp;\n    }\n    stack[sp++] = points[j].index;\n  }\n\n  // construct the hull\n  var poly = [];\n  for (i=0; i<sp; ++i) {\n    poly.push(vertices[stack[i]]);\n  }\n  return poly;\n}\n\n// are three points in counter-clockwise order?\nfunction d3_geom_hullCCW(i1, i2, i3, v) {\n  var t, a, b, c, d, e, f;\n  t = v[i1]; a = t[0]; b = t[1];\n  t = v[i2]; c = t[0]; d = t[1];\n  t = v[i3]; e = t[0]; f = t[1];\n  return ((f-b)*(c-a) - (d-b)*(e-a)) > 0;\n}\n// Note: requires coordinates to be counterclockwise and convex!\nd3.geom.polygon = function(coordinates) {\n\n  coordinates.area = function() {\n    var i = 0,\n        n = coordinates.length,\n        a = coordinates[n - 1][0] * coordinates[0][1],\n        b = coordinates[n - 1][1] * coordinates[0][0];\n    while (++i < n) {\n      a += coordinates[i - 1][0] * coordinates[i][1];\n      b += coordinates[i - 1][1] * coordinates[i][0];\n    }\n    return (b - a) * .5;\n  };\n\n  coordinates.centroid = function(k) {\n    var i = -1,\n        n = coordinates.length,\n        x = 0,\n        y = 0,\n        a,\n        b = coordinates[n - 1],\n        c;\n    if (!arguments.length) k = -1 / (6 * coordinates.area());\n    while (++i < n) {\n      a = b;\n      b = coordinates[i];\n      c = a[0] * b[1] - b[0] * a[1];\n      x += (a[0] + b[0]) * c;\n      y += (a[1] + b[1]) * c;\n    }\n    return [x * k, y * k];\n  };\n\n  // The Sutherland-Hodgman clipping algorithm.\n  coordinates.clip = function(subject) {\n    var input,\n        i = -1,\n        n = coordinates.length,\n        j,\n        m,\n        a = coordinates[n - 1],\n        b,\n        c,\n        d;\n    while (++i < n) {\n      input = subject.slice();\n      subject.length = 0;\n      b = coordinates[i];\n      c = input[(m = input.length) - 1];\n      j = -1;\n      while (++j < m) {\n        d = input[j];\n        if (d3_geom_polygonInside(d, a, b)) {\n          if (!d3_geom_polygonInside(c, a, b)) {\n            subject.push(d3_geom_polygonIntersect(c, d, a, b));\n          }\n          subject.push(d);\n        } else if (d3_geom_polygonInside(c, a, b)) {\n          subject.push(d3_geom_polygonIntersect(c, d, a, b));\n        }\n        c = d;\n      }\n      a = b;\n    }\n    return subject;\n  };\n\n  return coordinates;\n};\n\nfunction d3_geom_polygonInside(p, a, b) {\n  return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);\n}\n\n// Intersect two infinite lines cd and ab.\nfunction d3_geom_polygonIntersect(c, d, a, b) {\n  var x1 = c[0], x2 = d[0], x3 = a[0], x4 = b[0],\n      y1 = c[1], y2 = d[1], y3 = a[1], y4 = b[1],\n      x13 = x1 - x3,\n      x21 = x2 - x1,\n      x43 = x4 - x3,\n      y13 = y1 - y3,\n      y21 = y2 - y1,\n      y43 = y4 - y3,\n      ua = (x43 * y13 - y43 * x13) / (y43 * x21 - x43 * y21);\n  return [x1 + ua * x21, y1 + ua * y21];\n}\n// Adapted from Nicolas Garcia Belmonte's JIT implementation:\n// http://blog.thejit.org/2010/02/12/voronoi-tessellation/\n// http://blog.thejit.org/assets/voronoijs/voronoi.js\n// See lib/jit/LICENSE for details.\n\n// Notes:\n//\n// This implementation does not clip the returned polygons, so if you want to\n// clip them to a particular shape you will need to do that either in SVG or by\n// post-processing with d3.geom.polygon's clip method.\n//\n// If any vertices are coincident or have NaN positions, the behavior of this\n// method is undefined. Most likely invalid polygons will be returned. You\n// should filter invalid points, and consolidate coincident points, before\n// computing the tessellation.\n\n/**\n * @param vertices [[x1, y1], [x2, y2], â€¦]\n * @returns polygons [[[x1, y1], [x2, y2], â€¦], â€¦]\n */\nd3.geom.voronoi = function(vertices) {\n  var polygons = vertices.map(function() { return []; });\n\n  d3_voronoi_tessellate(vertices, function(e) {\n    var s1,\n        s2,\n        x1,\n        x2,\n        y1,\n        y2;\n    if (e.a === 1 && e.b >= 0) {\n      s1 = e.ep.r;\n      s2 = e.ep.l;\n    } else {\n      s1 = e.ep.l;\n      s2 = e.ep.r;\n    }\n    if (e.a === 1) {\n      y1 = s1 ? s1.y : -1e6;\n      x1 = e.c - e.b * y1;\n      y2 = s2 ? s2.y : 1e6;\n      x2 = e.c - e.b * y2;\n    } else {\n      x1 = s1 ? s1.x : -1e6;\n      y1 = e.c - e.a * x1;\n      x2 = s2 ? s2.x : 1e6;\n      y2 = e.c - e.a * x2;\n    }\n    var v1 = [x1, y1],\n        v2 = [x2, y2];\n    polygons[e.region.l.index].push(v1, v2);\n    polygons[e.region.r.index].push(v1, v2);\n  });\n\n  // Reconnect the polygon segments into counterclockwise loops.\n  return polygons.map(function(polygon, i) {\n    var cx = vertices[i][0],\n        cy = vertices[i][1];\n    polygon.forEach(function(v) {\n      v.angle = Math.atan2(v[0] - cx, v[1] - cy);\n    });\n    return polygon.sort(function(a, b) {\n      return a.angle - b.angle;\n    }).filter(function(d, i) {\n      return !i || (d.angle - polygon[i - 1].angle > 1e-10);\n    });\n  });\n};\n\nvar d3_voronoi_opposite = {\"l\": \"r\", \"r\": \"l\"};\n\nfunction d3_voronoi_tessellate(vertices, callback) {\n\n  var Sites = {\n    list: vertices\n      .map(function(v, i) {\n        return {\n          index: i,\n          x: v[0],\n          y: v[1]\n        };\n      })\n      .sort(function(a, b) {\n        return a.y < b.y ? -1\n          : a.y > b.y ? 1\n          : a.x < b.x ? -1\n          : a.x > b.x ? 1\n          : 0;\n      }),\n    bottomSite: null\n  };\n\n  var EdgeList = {\n    list: [],\n    leftEnd: null,\n    rightEnd: null,\n\n    init: function() {\n      EdgeList.leftEnd = EdgeList.createHalfEdge(null, \"l\");\n      EdgeList.rightEnd = EdgeList.createHalfEdge(null, \"l\");\n      EdgeList.leftEnd.r = EdgeList.rightEnd;\n      EdgeList.rightEnd.l = EdgeList.leftEnd;\n      EdgeList.list.unshift(EdgeList.leftEnd, EdgeList.rightEnd);\n    },\n\n    createHalfEdge: function(edge, side) {\n      return {\n        edge: edge,\n        side: side,\n        vertex: null,\n        \"l\": null,\n        \"r\": null\n      };\n    },\n\n    insert: function(lb, he) {\n      he.l = lb;\n      he.r = lb.r;\n      lb.r.l = he;\n      lb.r = he;\n    },\n\n    leftBound: function(p) {\n      var he = EdgeList.leftEnd;\n      do {\n        he = he.r;\n      } while (he != EdgeList.rightEnd && Geom.rightOf(he, p));\n      he = he.l;\n      return he;\n    },\n\n    del: function(he) {\n      he.l.r = he.r;\n      he.r.l = he.l;\n      he.edge = null;\n    },\n\n    right: function(he) {\n      return he.r;\n    },\n\n    left: function(he) {\n      return he.l;\n    },\n\n    leftRegion: function(he) {\n      return he.edge == null\n          ? Sites.bottomSite\n          : he.edge.region[he.side];\n    },\n\n    rightRegion: function(he) {\n      return he.edge == null\n          ? Sites.bottomSite\n          : he.edge.region[d3_voronoi_opposite[he.side]];\n    }\n  };\n\n  var Geom = {\n\n    bisect: function(s1, s2) {\n      var newEdge = {\n        region: {\"l\": s1, \"r\": s2},\n        ep: {\"l\": null, \"r\": null}\n      };\n\n      var dx = s2.x - s1.x,\n          dy = s2.y - s1.y,\n          adx = dx > 0 ? dx : -dx,\n          ady = dy > 0 ? dy : -dy;\n\n      newEdge.c = s1.x * dx + s1.y * dy\n          + (dx * dx + dy * dy) * .5;\n\n      if (adx > ady) {\n        newEdge.a = 1;\n        newEdge.b = dy / dx;\n        newEdge.c /= dx;\n      } else {\n        newEdge.b = 1;\n        newEdge.a = dx / dy;\n        newEdge.c /= dy;\n      }\n\n      return newEdge;\n    },\n\n    intersect: function(el1, el2) {\n      var e1 = el1.edge,\n          e2 = el2.edge;\n      if (!e1 || !e2 || (e1.region.r == e2.region.r)) {\n        return null;\n      }\n      var d = (e1.a * e2.b) - (e1.b * e2.a);\n      if (Math.abs(d) < 1e-10) {\n        return null;\n      }\n      var xint = (e1.c * e2.b - e2.c * e1.b) / d,\n          yint = (e2.c * e1.a - e1.c * e2.a) / d,\n          e1r = e1.region.r,\n          e2r = e2.region.r,\n          el,\n          e;\n      if ((e1r.y < e2r.y) ||\n         (e1r.y == e2r.y && e1r.x < e2r.x)) {\n        el = el1;\n        e = e1;\n      } else {\n        el = el2;\n        e = e2;\n      }\n      var rightOfSite = (xint >= e.region.r.x);\n      if ((rightOfSite && (el.side === \"l\")) ||\n        (!rightOfSite && (el.side === \"r\"))) {\n        return null;\n      }\n      return {\n        x: xint,\n        y: yint\n      };\n    },\n\n    rightOf: function(he, p) {\n      var e = he.edge,\n          topsite = e.region.r,\n          rightOfSite = (p.x > topsite.x);\n\n      if (rightOfSite && (he.side === \"l\")) {\n        return 1;\n      }\n      if (!rightOfSite && (he.side === \"r\")) {\n        return 0;\n      }\n      if (e.a === 1) {\n        var dyp = p.y - topsite.y,\n            dxp = p.x - topsite.x,\n            fast = 0,\n            above = 0;\n\n        if ((!rightOfSite && (e.b < 0)) ||\n          (rightOfSite && (e.b >= 0))) {\n          above = fast = (dyp >= e.b * dxp);\n        } else {\n          above = ((p.x + p.y * e.b) > e.c);\n          if (e.b < 0) {\n            above = !above;\n          }\n          if (!above) {\n            fast = 1;\n          }\n        }\n        if (!fast) {\n          var dxs = topsite.x - e.region.l.x;\n          above = (e.b * (dxp * dxp - dyp * dyp)) <\n            (dxs * dyp * (1 + 2 * dxp / dxs + e.b * e.b));\n\n          if (e.b < 0) {\n            above = !above;\n          }\n        }\n      } else /* e.b == 1 */ {\n        var yl = e.c - e.a * p.x,\n            t1 = p.y - yl,\n            t2 = p.x - topsite.x,\n            t3 = yl - topsite.y;\n\n        above = (t1 * t1) > (t2 * t2 + t3 * t3);\n      }\n      return he.side === \"l\" ? above : !above;\n    },\n\n    endPoint: function(edge, side, site) {\n      edge.ep[side] = site;\n      if (!edge.ep[d3_voronoi_opposite[side]]) return;\n      callback(edge);\n    },\n\n    distance: function(s, t) {\n      var dx = s.x - t.x,\n          dy = s.y - t.y;\n      return Math.sqrt(dx * dx + dy * dy);\n    }\n  };\n\n  var EventQueue = {\n    list: [],\n\n    insert: function(he, site, offset) {\n      he.vertex = site;\n      he.ystar = site.y + offset;\n      for (var i=0, list=EventQueue.list, l=list.length; i<l; i++) {\n        var next = list[i];\n        if (he.ystar > next.ystar ||\n          (he.ystar == next.ystar &&\n          site.x > next.vertex.x)) {\n          continue;\n        } else {\n          break;\n        }\n      }\n      list.splice(i, 0, he);\n    },\n\n    del: function(he) {\n      for (var i=0, ls=EventQueue.list, l=ls.length; i<l && (ls[i] != he); ++i) {}\n      ls.splice(i, 1);\n    },\n\n    empty: function() { return EventQueue.list.length === 0; },\n\n    nextEvent: function(he) {\n      for (var i=0, ls=EventQueue.list, l=ls.length; i<l; ++i) {\n        if (ls[i] == he) return ls[i+1];\n      }\n      return null;\n    },\n\n    min: function() {\n      var elem = EventQueue.list[0];\n      return {\n        x: elem.vertex.x,\n        y: elem.ystar\n      };\n    },\n\n    extractMin: function() {\n      return EventQueue.list.shift();\n    }\n  };\n\n  EdgeList.init();\n  Sites.bottomSite = Sites.list.shift();\n\n  var newSite = Sites.list.shift(), newIntStar;\n  var lbnd, rbnd, llbnd, rrbnd, bisector;\n  var bot, top, temp, p, v;\n  var e, pm;\n\n  while (true) {\n    if (!EventQueue.empty()) {\n      newIntStar = EventQueue.min();\n    }\n    if (newSite && (EventQueue.empty()\n      || newSite.y < newIntStar.y\n      || (newSite.y == newIntStar.y\n      && newSite.x < newIntStar.x))) { //new site is smallest\n      lbnd = EdgeList.leftBound(newSite);\n      rbnd = EdgeList.right(lbnd);\n      bot = EdgeList.rightRegion(lbnd);\n      e = Geom.bisect(bot, newSite);\n      bisector = EdgeList.createHalfEdge(e, \"l\");\n      EdgeList.insert(lbnd, bisector);\n      p = Geom.intersect(lbnd, bisector);\n      if (p) {\n        EventQueue.del(lbnd);\n        EventQueue.insert(lbnd, p, Geom.distance(p, newSite));\n      }\n      lbnd = bisector;\n      bisector = EdgeList.createHalfEdge(e, \"r\");\n      EdgeList.insert(lbnd, bisector);\n      p = Geom.intersect(bisector, rbnd);\n      if (p) {\n        EventQueue.insert(bisector, p, Geom.distance(p, newSite));\n      }\n      newSite = Sites.list.shift();\n    } else if (!EventQueue.empty()) { //intersection is smallest\n      lbnd = EventQueue.extractMin();\n      llbnd = EdgeList.left(lbnd);\n      rbnd = EdgeList.right(lbnd);\n      rrbnd = EdgeList.right(rbnd);\n      bot = EdgeList.leftRegion(lbnd);\n      top = EdgeList.rightRegion(rbnd);\n      v = lbnd.vertex;\n      Geom.endPoint(lbnd.edge, lbnd.side, v);\n      Geom.endPoint(rbnd.edge, rbnd.side, v);\n      EdgeList.del(lbnd);\n      EventQueue.del(rbnd);\n      EdgeList.del(rbnd);\n      pm = \"l\";\n      if (bot.y > top.y) {\n        temp = bot;\n        bot = top;\n        top = temp;\n        pm = \"r\";\n      }\n      e = Geom.bisect(bot, top);\n      bisector = EdgeList.createHalfEdge(e, pm);\n      EdgeList.insert(llbnd, bisector);\n      Geom.endPoint(e, d3_voronoi_opposite[pm], v);\n      p = Geom.intersect(llbnd, bisector);\n      if (p) {\n        EventQueue.del(llbnd);\n        EventQueue.insert(llbnd, p, Geom.distance(p, bot));\n      }\n      p = Geom.intersect(bisector, rrbnd);\n      if (p) {\n        EventQueue.insert(bisector, p, Geom.distance(p, bot));\n      }\n    } else {\n      break;\n    }\n  }//end while\n\n  for (lbnd = EdgeList.right(EdgeList.leftEnd);\n      lbnd != EdgeList.rightEnd;\n      lbnd = EdgeList.right(lbnd)) {\n    callback(lbnd.edge);\n  }\n}\n/**\n* @param vertices [[x1, y1], [x2, y2], â€¦]\n* @returns triangles [[[x1, y1], [x2, y2], [x3, y3]], â€¦]\n */\nd3.geom.delaunay = function(vertices) {\n  var edges = vertices.map(function() { return []; }),\n      triangles = [];\n\n  // Use the Voronoi tessellation to determine Delaunay edges.\n  d3_voronoi_tessellate(vertices, function(e) {\n    edges[e.region.l.index].push(vertices[e.region.r.index]);\n  });\n\n  // Reconnect the edges into counterclockwise triangles.\n  edges.forEach(function(edge, i) {\n    var v = vertices[i],\n        cx = v[0],\n        cy = v[1];\n    edge.forEach(function(v) {\n      v.angle = Math.atan2(v[0] - cx, v[1] - cy);\n    });\n    edge.sort(function(a, b) {\n      return a.angle - b.angle;\n    });\n    for (var j = 0, m = edge.length - 1; j < m; j++) {\n      triangles.push([v, edge[j], edge[j + 1]]);\n    }\n  });\n\n  return triangles;\n};\n// Constructs a new quadtree for the specified array of points. A quadtree is a\n// two-dimensional recursive spatial subdivision. This implementation uses\n// square partitions, dividing each square into four equally-sized squares. Each\n// point exists in a unique node; if multiple points are in the same position,\n// some points may be stored on internal nodes rather than leaf nodes. Quadtrees\n// can be used to accelerate various spatial operations, such as the Barnes-Hut\n// approximation for computing n-body forces, or collision detection.\nd3.geom.quadtree = function(points, x1, y1, x2, y2) {\n  var p,\n      i = -1,\n      n = points.length;\n\n  // Type conversion for deprecated API.\n  if (n && isNaN(points[0].x)) points = points.map(d3_geom_quadtreePoint);\n\n  // Allow bounds to be specified explicitly.\n  if (arguments.length < 5) {\n    if (arguments.length === 3) {\n      y2 = x2 = y1;\n      y1 = x1;\n    } else {\n      x1 = y1 = Infinity;\n      x2 = y2 = -Infinity;\n\n      // Compute bounds.\n      while (++i < n) {\n        p = points[i];\n        if (p.x < x1) x1 = p.x;\n        if (p.y < y1) y1 = p.y;\n        if (p.x > x2) x2 = p.x;\n        if (p.y > y2) y2 = p.y;\n      }\n\n      // Squarify the bounds.\n      var dx = x2 - x1,\n          dy = y2 - y1;\n      if (dx > dy) y2 = y1 + dx;\n      else x2 = x1 + dy;\n    }\n  }\n\n  // Recursively inserts the specified point p at the node n or one of its\n  // descendants. The bounds are defined by [x1, x2] and [y1, y2].\n  function insert(n, p, x1, y1, x2, y2) {\n    if (isNaN(p.x) || isNaN(p.y)) return; // ignore invalid points\n    if (n.leaf) {\n      var v = n.point;\n      if (v) {\n        // If the point at this leaf node is at the same position as the new\n        // point we are adding, we leave the point associated with the\n        // internal node while adding the new point to a child node. This\n        // avoids infinite recursion.\n        if ((Math.abs(v.x - p.x) + Math.abs(v.y - p.y)) < .01) {\n          insertChild(n, p, x1, y1, x2, y2);\n        } else {\n          n.point = null;\n          insertChild(n, v, x1, y1, x2, y2);\n          insertChild(n, p, x1, y1, x2, y2);\n        }\n      } else {\n        n.point = p;\n      }\n    } else {\n      insertChild(n, p, x1, y1, x2, y2);\n    }\n  }\n\n  // Recursively inserts the specified point p into a descendant of node n. The\n  // bounds are defined by [x1, x2] and [y1, y2].\n  function insertChild(n, p, x1, y1, x2, y2) {\n    // Compute the split point, and the quadrant in which to insert p.\n    var sx = (x1 + x2) * .5,\n        sy = (y1 + y2) * .5,\n        right = p.x >= sx,\n        bottom = p.y >= sy,\n        i = (bottom << 1) + right;\n\n    // Recursively insert into the child node.\n    n.leaf = false;\n    n = n.nodes[i] || (n.nodes[i] = d3_geom_quadtreeNode());\n\n    // Update the bounds as we recurse.\n    if (right) x1 = sx; else x2 = sx;\n    if (bottom) y1 = sy; else y2 = sy;\n    insert(n, p, x1, y1, x2, y2);\n  }\n\n  // Create the root node.\n  var root = d3_geom_quadtreeNode();\n\n  root.add = function(p) {\n    insert(root, p, x1, y1, x2, y2);\n  };\n\n  root.visit = function(f) {\n    d3_geom_quadtreeVisit(f, root, x1, y1, x2, y2);\n  };\n\n  // Insert all points.\n  points.forEach(root.add);\n  return root;\n};\n\nfunction d3_geom_quadtreeNode() {\n  return {\n    leaf: true,\n    nodes: [],\n    point: null\n  };\n}\n\nfunction d3_geom_quadtreeVisit(f, node, x1, y1, x2, y2) {\n  if (!f(node, x1, y1, x2, y2)) {\n    var sx = (x1 + x2) * .5,\n        sy = (y1 + y2) * .5,\n        children = node.nodes;\n    if (children[0]) d3_geom_quadtreeVisit(f, children[0], x1, y1, sx, sy);\n    if (children[1]) d3_geom_quadtreeVisit(f, children[1], sx, y1, x2, sy);\n    if (children[2]) d3_geom_quadtreeVisit(f, children[2], x1, sy, sx, y2);\n    if (children[3]) d3_geom_quadtreeVisit(f, children[3], sx, sy, x2, y2);\n  }\n}\n\nfunction d3_geom_quadtreePoint(p) {\n  return {\n    x: p[0],\n    y: p[1]\n  };\n}\nd3.time = {};\n\nvar d3_time = Date;\n\nfunction d3_time_utc() {\n  this._ = new Date(arguments.length > 1\n      ? Date.UTC.apply(this, arguments)\n      : arguments[0]);\n}\n\nd3_time_utc.prototype = {\n  getDate: function() { return this._.getUTCDate(); },\n  getDay: function() { return this._.getUTCDay(); },\n  getFullYear: function() { return this._.getUTCFullYear(); },\n  getHours: function() { return this._.getUTCHours(); },\n  getMilliseconds: function() { return this._.getUTCMilliseconds(); },\n  getMinutes: function() { return this._.getUTCMinutes(); },\n  getMonth: function() { return this._.getUTCMonth(); },\n  getSeconds: function() { return this._.getUTCSeconds(); },\n  getTime: function() { return this._.getTime(); },\n  getTimezoneOffset: function() { return 0; },\n  valueOf: function() { return this._.valueOf(); },\n  setDate: function() { d3_time_prototype.setUTCDate.apply(this._, arguments); },\n  setDay: function() { d3_time_prototype.setUTCDay.apply(this._, arguments); },\n  setFullYear: function() { d3_time_prototype.setUTCFullYear.apply(this._, arguments); },\n  setHours: function() { d3_time_prototype.setUTCHours.apply(this._, arguments); },\n  setMilliseconds: function() { d3_time_prototype.setUTCMilliseconds.apply(this._, arguments); },\n  setMinutes: function() { d3_time_prototype.setUTCMinutes.apply(this._, arguments); },\n  setMonth: function() { d3_time_prototype.setUTCMonth.apply(this._, arguments); },\n  setSeconds: function() { d3_time_prototype.setUTCSeconds.apply(this._, arguments); },\n  setTime: function() { d3_time_prototype.setTime.apply(this._, arguments); }\n};\n\nvar d3_time_prototype = Date.prototype;\nd3.time.format = function(template) {\n  var n = template.length;\n\n  function format(date) {\n    var string = [],\n        i = -1,\n        j = 0,\n        c,\n        f;\n    while (++i < n) {\n      if (template.charCodeAt(i) == 37) {\n        string.push(\n            template.substring(j, i),\n            (f = d3_time_formats[c = template.charAt(++i)])\n            ? f(date) : c);\n        j = i + 1;\n      }\n    }\n    string.push(template.substring(j, i));\n    return string.join(\"\");\n  }\n\n  format.parse = function(string) {\n    var d = {y: 1900, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0},\n        i = d3_time_parse(d, template, string, 0);\n    if (i != string.length) return null;\n\n    // The am-pm flag is 0 for AM, and 1 for PM.\n    if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n    var date = new d3_time();\n    date.setFullYear(d.y, d.m, d.d);\n    date.setHours(d.H, d.M, d.S, d.L);\n    return date;\n  };\n\n  format.toString = function() {\n    return template;\n  };\n\n  return format;\n};\n\nfunction d3_time_parse(date, template, string, j) {\n  var c,\n      p,\n      i = 0,\n      n = template.length,\n      m = string.length;\n  while (i < n) {\n    if (j >= m) return -1;\n    c = template.charCodeAt(i++);\n    if (c == 37) {\n      p = d3_time_parsers[template.charAt(i++)];\n      if (!p || ((j = p(date, string, j)) < 0)) return -1;\n    } else if (c != string.charCodeAt(j++)) {\n      return -1;\n    }\n  }\n  return j;\n}\n\nvar d3_time_zfill2 = d3.format(\"02d\"),\n    d3_time_zfill3 = d3.format(\"03d\"),\n    d3_time_zfill4 = d3.format(\"04d\"),\n    d3_time_sfill2 = d3.format(\"2d\");\n\nvar d3_time_formats = {\n  a: function(d) { return d3_time_weekdays[d.getDay()].substring(0, 3); },\n  A: function(d) { return d3_time_weekdays[d.getDay()]; },\n  b: function(d) { return d3_time_months[d.getMonth()].substring(0, 3); },\n  B: function(d) { return d3_time_months[d.getMonth()]; },\n  c: d3.time.format(\"%a %b %e %H:%M:%S %Y\"),\n  d: function(d) { return d3_time_zfill2(d.getDate()); },\n  e: function(d) { return d3_time_sfill2(d.getDate()); },\n  H: function(d) { return d3_time_zfill2(d.getHours()); },\n  I: function(d) { return d3_time_zfill2(d.getHours() % 12 || 12); },\n  j: function(d) { return d3_time_zfill3(1 + d3.time.dayOfYear(d)); },\n  L: function(d) { return d3_time_zfill3(d.getMilliseconds()); },\n  m: function(d) { return d3_time_zfill2(d.getMonth() + 1); },\n  M: function(d) { return d3_time_zfill2(d.getMinutes()); },\n  p: function(d) { return d.getHours() >= 12 ? \"PM\" : \"AM\"; },\n  S: function(d) { return d3_time_zfill2(d.getSeconds()); },\n  U: function(d) { return d3_time_zfill2(d3.time.sundayOfYear(d)); },\n  w: function(d) { return d.getDay(); },\n  W: function(d) { return d3_time_zfill2(d3.time.mondayOfYear(d)); },\n  x: d3.time.format(\"%m/%d/%y\"),\n  X: d3.time.format(\"%H:%M:%S\"),\n  y: function(d) { return d3_time_zfill2(d.getFullYear() % 100); },\n  Y: function(d) { return d3_time_zfill4(d.getFullYear() % 10000); },\n  Z: d3_time_zone,\n  \"%\": function(d) { return \"%\"; }\n};\n\nvar d3_time_parsers = {\n  a: d3_time_parseWeekdayAbbrev,\n  A: d3_time_parseWeekday,\n  b: d3_time_parseMonthAbbrev,\n  B: d3_time_parseMonth,\n  c: d3_time_parseLocaleFull,\n  d: d3_time_parseDay,\n  e: d3_time_parseDay,\n  H: d3_time_parseHour24,\n  I: d3_time_parseHour24,\n  // j: function(d, s, i) { /*TODO day of year [001,366] */ return i; },\n  L: d3_time_parseMilliseconds,\n  m: d3_time_parseMonthNumber,\n  M: d3_time_parseMinutes,\n  p: d3_time_parseAmPm,\n  S: d3_time_parseSeconds,\n  // U: function(d, s, i) { /*TODO week number (sunday) [00,53] */ return i; },\n  // w: function(d, s, i) { /*TODO weekday [0,6] */ return i; },\n  // W: function(d, s, i) { /*TODO week number (monday) [00,53] */ return i; },\n  x: d3_time_parseLocaleDate,\n  X: d3_time_parseLocaleTime,\n  y: d3_time_parseYear,\n  Y: d3_time_parseFullYear\n  // ,\n  // Z: function(d, s, i) { /*TODO time zone */ return i; },\n  // \"%\": function(d, s, i) { /*TODO literal % */ return i; }\n};\n\n// Note: weekday is validated, but does not set the date.\nfunction d3_time_parseWeekdayAbbrev(date, string, i) {\n  return d3_time_weekdayAbbrevRe.test(string.substring(i, i += 3)) ? i : -1;\n}\n\n// Note: weekday is validated, but does not set the date.\nfunction d3_time_parseWeekday(date, string, i) {\n  d3_time_weekdayRe.lastIndex = 0;\n  var n = d3_time_weekdayRe.exec(string.substring(i, i + 10));\n  return n ? i += n[0].length : -1;\n}\n\nvar d3_time_weekdayAbbrevRe = /^(?:sun|mon|tue|wed|thu|fri|sat)/i,\n    d3_time_weekdayRe = /^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i,\n    d3_time_weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\nfunction d3_time_parseMonthAbbrev(date, string, i) {\n  var n = d3_time_monthAbbrevLookup.get(string.substring(i, i += 3).toLowerCase());\n  return n == null ? -1 : (date.m = n, i);\n}\n\nvar d3_time_monthAbbrevLookup = d3.map({\n  jan: 0,\n  feb: 1,\n  mar: 2,\n  apr: 3,\n  may: 4,\n  jun: 5,\n  jul: 6,\n  aug: 7,\n  sep: 8,\n  oct: 9,\n  nov: 10,\n  dec: 11\n});\n\nfunction d3_time_parseMonth(date, string, i) {\n  d3_time_monthRe.lastIndex = 0;\n  var n = d3_time_monthRe.exec(string.substring(i, i + 12));\n  return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i += n[0].length) : -1;\n}\n\nvar d3_time_monthRe = /^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig;\n\nvar d3_time_monthLookup = d3.map({\n  january: 0,\n  february: 1,\n  march: 2,\n  april: 3,\n  may: 4,\n  june: 5,\n  july: 6,\n  august: 7,\n  september: 8,\n  october: 9,\n  november: 10,\n  december: 11\n});\n\nvar d3_time_months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nfunction d3_time_parseLocaleFull(date, string, i) {\n  return d3_time_parse(date, d3_time_formats.c.toString(), string, i);\n}\n\nfunction d3_time_parseLocaleDate(date, string, i) {\n  return d3_time_parse(date, d3_time_formats.x.toString(), string, i);\n}\n\nfunction d3_time_parseLocaleTime(date, string, i) {\n  return d3_time_parse(date, d3_time_formats.X.toString(), string, i);\n}\n\nfunction d3_time_parseFullYear(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 4));\n  return n ? (date.y = +n[0], i += n[0].length) : -1;\n}\n\nfunction d3_time_parseYear(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 2));\n  return n ? (date.y = d3_time_century() + +n[0], i += n[0].length) : -1;\n}\n\nfunction d3_time_century() {\n  return ~~(new Date().getFullYear() / 1000) * 1000;\n}\n\nfunction d3_time_parseMonthNumber(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 2));\n  return n ? (date.m = n[0] - 1, i += n[0].length) : -1;\n}\n\nfunction d3_time_parseDay(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 2));\n  return n ? (date.d = +n[0], i += n[0].length) : -1;\n}\n\n// Note: we don't validate that the hour is in the range [0,23] or [1,12].\nfunction d3_time_parseHour24(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 2));\n  return n ? (date.H = +n[0], i += n[0].length) : -1;\n}\n\nfunction d3_time_parseMinutes(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 2));\n  return n ? (date.M = +n[0], i += n[0].length) : -1;\n}\n\nfunction d3_time_parseSeconds(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 2));\n  return n ? (date.S = +n[0], i += n[0].length) : -1;\n}\n\nfunction d3_time_parseMilliseconds(date, string, i) {\n  d3_time_numberRe.lastIndex = 0;\n  var n = d3_time_numberRe.exec(string.substring(i, i + 3));\n  return n ? (date.L = +n[0], i += n[0].length) : -1;\n}\n\n// Note: we don't look at the next directive.\nvar d3_time_numberRe = /\\s*\\d+/;\n\nfunction d3_time_parseAmPm(date, string, i) {\n  var n = d3_time_amPmLookup.get(string.substring(i, i += 2).toLowerCase());\n  return n == null ? -1 : (date.p = n, i);\n}\n\nvar d3_time_amPmLookup = d3.map({\n  am: 0,\n  pm: 1\n});\n\n// TODO table of time zone offset names?\nfunction d3_time_zone(d) {\n  var z = d.getTimezoneOffset(),\n      zs = z > 0 ? \"-\" : \"+\",\n      zh = ~~(Math.abs(z) / 60),\n      zm = Math.abs(z) % 60;\n  return zs + d3_time_zfill2(zh) + d3_time_zfill2(zm);\n}\nd3.time.format.utc = function(template) {\n  var local = d3.time.format(template);\n\n  function format(date) {\n    try {\n      d3_time = d3_time_utc;\n      var utc = new d3_time();\n      utc._ = date;\n      return local(utc);\n    } finally {\n      d3_time = Date;\n    }\n  }\n\n  format.parse = function(string) {\n    try {\n      d3_time = d3_time_utc;\n      var date = local.parse(string);\n      return date && date._;\n    } finally {\n      d3_time = Date;\n    }\n  };\n\n  format.toString = local.toString;\n\n  return format;\n};\nvar d3_time_formatIso = d3.time.format.utc(\"%Y-%m-%dT%H:%M:%S.%LZ\");\n\nd3.time.format.iso = Date.prototype.toISOString ? d3_time_formatIsoNative : d3_time_formatIso;\n\nfunction d3_time_formatIsoNative(date) {\n  return date.toISOString();\n}\n\nd3_time_formatIsoNative.parse = function(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n};\n\nd3_time_formatIsoNative.toString = d3_time_formatIso.toString;\nfunction d3_time_interval(local, step, number) {\n\n  function round(date) {\n    var d0 = local(date), d1 = offset(d0, 1);\n    return date - d0 < d1 - date ? d0 : d1;\n  }\n\n  function ceil(date) {\n    step(date = local(new d3_time(date - 1)), 1);\n    return date;\n  }\n\n  function offset(date, k) {\n    step(date = new d3_time(+date), k);\n    return date;\n  }\n\n  function range(t0, t1, dt) {\n    var time = ceil(t0), times = [];\n    if (dt > 1) {\n      while (time < t1) {\n        if (!(number(time) % dt)) times.push(new Date(+time));\n        step(time, 1);\n      }\n    } else {\n      while (time < t1) times.push(new Date(+time)), step(time, 1);\n    }\n    return times;\n  }\n\n  function range_utc(t0, t1, dt) {\n    try {\n      d3_time = d3_time_utc;\n      var utc = new d3_time_utc();\n      utc._ = t0;\n      return range(utc, t1, dt);\n    } finally {\n      d3_time = Date;\n    }\n  }\n\n  local.floor = local;\n  local.round = round;\n  local.ceil = ceil;\n  local.offset = offset;\n  local.range = range;\n\n  var utc = local.utc = d3_time_interval_utc(local);\n  utc.floor = utc;\n  utc.round = d3_time_interval_utc(round);\n  utc.ceil = d3_time_interval_utc(ceil);\n  utc.offset = d3_time_interval_utc(offset);\n  utc.range = range_utc;\n\n  return local;\n}\n\nfunction d3_time_interval_utc(method) {\n  return function(date, k) {\n    try {\n      d3_time = d3_time_utc;\n      var utc = new d3_time_utc();\n      utc._ = date;\n      return method(utc, k)._;\n    } finally {\n      d3_time = Date;\n    }\n  };\n}\nd3.time.second = d3_time_interval(function(date) {\n  return new d3_time(Math.floor(date / 1e3) * 1e3);\n}, function(date, offset) {\n  date.setTime(date.getTime() + Math.floor(offset) * 1e3); // DST breaks setSeconds\n}, function(date) {\n  return date.getSeconds();\n});\n\nd3.time.seconds = d3.time.second.range;\nd3.time.seconds.utc = d3.time.second.utc.range;\nd3.time.minute = d3_time_interval(function(date) {\n  return new d3_time(Math.floor(date / 6e4) * 6e4);\n}, function(date, offset) {\n  date.setTime(date.getTime() + Math.floor(offset) * 6e4); // DST breaks setMinutes\n}, function(date) {\n  return date.getMinutes();\n});\n\nd3.time.minutes = d3.time.minute.range;\nd3.time.minutes.utc = d3.time.minute.utc.range;\nd3.time.hour = d3_time_interval(function(date) {\n  var timezone = date.getTimezoneOffset() / 60;\n  return new d3_time((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);\n}, function(date, offset) {\n  date.setTime(date.getTime() + Math.floor(offset) * 36e5); // DST breaks setHours\n}, function(date) {\n  return date.getHours();\n});\n\nd3.time.hours = d3.time.hour.range;\nd3.time.hours.utc = d3.time.hour.utc.range;\nd3.time.day = d3_time_interval(function(date) {\n  return new d3_time(date.getFullYear(), date.getMonth(), date.getDate());\n}, function(date, offset) {\n  date.setDate(date.getDate() + offset);\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nd3.time.days = d3.time.day.range;\nd3.time.days.utc = d3.time.day.utc.range;\n\nd3.time.dayOfYear = function(date) {\n  var year = d3.time.year(date);\n  return Math.floor((date - year) / 864e5 - (date.getTimezoneOffset() - year.getTimezoneOffset()) / 1440);\n};\nd3_time_weekdays.forEach(function(day, i) {\n  day = day.toLowerCase();\n  i = 7 - i;\n\n  var interval = d3.time[day] = d3_time_interval(function(date) {\n    (date = d3.time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);\n    return date;\n  }, function(date, offset) {\n    date.setDate(date.getDate() + Math.floor(offset) * 7);\n  }, function(date) {\n    var day = d3.time.year(date).getDay();\n    return Math.floor((d3.time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);\n  });\n\n  d3.time[day + \"s\"] = interval.range;\n  d3.time[day + \"s\"].utc = interval.utc.range;\n\n  d3.time[day + \"OfYear\"] = function(date) {\n    var day = d3.time.year(date).getDay();\n    return Math.floor((d3.time.dayOfYear(date) + (day + i) % 7) / 7);\n  };\n});\n\nd3.time.week = d3.time.sunday;\nd3.time.weeks = d3.time.sunday.range;\nd3.time.weeks.utc = d3.time.sunday.utc.range;\nd3.time.weekOfYear = d3.time.sundayOfYear;\nd3.time.month = d3_time_interval(function(date) {\n  return new d3_time(date.getFullYear(), date.getMonth(), 1);\n}, function(date, offset) {\n  date.setMonth(date.getMonth() + offset);\n}, function(date) {\n  return date.getMonth();\n});\n\nd3.time.months = d3.time.month.range;\nd3.time.months.utc = d3.time.month.utc.range;\nd3.time.year = d3_time_interval(function(date) {\n  return new d3_time(date.getFullYear(), 0, 1);\n}, function(date, offset) {\n  date.setFullYear(date.getFullYear() + offset);\n}, function(date) {\n  return date.getFullYear();\n});\n\nd3.time.years = d3.time.year.range;\nd3.time.years.utc = d3.time.year.utc.range;\nfunction d3_time_scale(linear, methods, format) {\n\n  function scale(x) {\n    return linear(x);\n  }\n\n  scale.invert = function(x) {\n    return d3_time_scaleDate(linear.invert(x));\n  };\n\n  scale.domain = function(x) {\n    if (!arguments.length) return linear.domain().map(d3_time_scaleDate);\n    linear.domain(x);\n    return scale;\n  };\n\n  scale.nice = function(m) {\n    var extent = d3_time_scaleExtent(scale.domain());\n    return scale.domain([m.floor(extent[0]), m.ceil(extent[1])]);\n  };\n\n  scale.ticks = function(m, k) {\n    var extent = d3_time_scaleExtent(scale.domain());\n    if (typeof m !== \"function\") {\n      var span = extent[1] - extent[0],\n          target = span / m,\n          i = d3.bisect(d3_time_scaleSteps, target);\n      if (i == d3_time_scaleSteps.length) return methods.year(extent, m);\n      if (!i) return linear.ticks(m).map(d3_time_scaleDate);\n      if (Math.log(target / d3_time_scaleSteps[i - 1]) < Math.log(d3_time_scaleSteps[i] / target)) --i;\n      m = methods[i];\n      k = m[1];\n      m = m[0].range;\n    }\n    return m(extent[0], new Date(+extent[1] + 1), k); // inclusive upper bound\n  };\n\n  scale.tickFormat = function() {\n    return format;\n  };\n\n  scale.copy = function() {\n    return d3_time_scale(linear.copy(), methods, format);\n  };\n\n  // TOOD expose d3_scale_linear_rebind?\n  return d3.rebind(scale, linear, \"range\", \"rangeRound\", \"interpolate\", \"clamp\");\n}\n\n// TODO expose d3_scaleExtent?\nfunction d3_time_scaleExtent(domain) {\n  var start = domain[0], stop = domain[domain.length - 1];\n  return start < stop ? [start, stop] : [stop, start];\n}\n\nfunction d3_time_scaleDate(t) {\n  return new Date(t);\n}\n\nfunction d3_time_scaleFormat(formats) {\n  return function(date) {\n    var i = formats.length - 1, f = formats[i];\n    while (!f[1](date)) f = formats[--i];\n    return f[0](date);\n  };\n}\n\nfunction d3_time_scaleSetYear(y) {\n  var d = new Date(y, 0, 1);\n  d.setFullYear(y); // Y2K fail\n  return d;\n}\n\nfunction d3_time_scaleGetYear(d) {\n  var y = d.getFullYear(),\n      d0 = d3_time_scaleSetYear(y),\n      d1 = d3_time_scaleSetYear(y + 1);\n  return y + (d - d0) / (d1 - d0);\n}\n\nvar d3_time_scaleSteps = [\n  1e3,    // 1-second\n  5e3,    // 5-second\n  15e3,   // 15-second\n  3e4,    // 30-second\n  6e4,    // 1-minute\n  3e5,    // 5-minute\n  9e5,    // 15-minute\n  18e5,   // 30-minute\n  36e5,   // 1-hour\n  108e5,  // 3-hour\n  216e5,  // 6-hour\n  432e5,  // 12-hour\n  864e5,  // 1-day\n  1728e5, // 2-day\n  6048e5, // 1-week\n  2592e6, // 1-month\n  7776e6, // 3-month\n  31536e6 // 1-year\n];\n\nvar d3_time_scaleLocalMethods = [\n  [d3.time.second, 1],\n  [d3.time.second, 5],\n  [d3.time.second, 15],\n  [d3.time.second, 30],\n  [d3.time.minute, 1],\n  [d3.time.minute, 5],\n  [d3.time.minute, 15],\n  [d3.time.minute, 30],\n  [d3.time.hour, 1],\n  [d3.time.hour, 3],\n  [d3.time.hour, 6],\n  [d3.time.hour, 12],\n  [d3.time.day, 1],\n  [d3.time.day, 2],\n  [d3.time.week, 1],\n  [d3.time.month, 1],\n  [d3.time.month, 3],\n  [d3.time.year, 1]\n];\n\nvar d3_time_scaleLocalFormats = [\n  [d3.time.format(\"%Y\"), function(d) { return true; }],\n  [d3.time.format(\"%B\"), function(d) { return d.getMonth(); }],\n  [d3.time.format(\"%b %d\"), function(d) { return d.getDate() != 1; }],\n  [d3.time.format(\"%a %d\"), function(d) { return d.getDay() && d.getDate() != 1; }],\n  [d3.time.format(\"%I %p\"), function(d) { return d.getHours(); }],\n  [d3.time.format(\"%I:%M\"), function(d) { return d.getMinutes(); }],\n  [d3.time.format(\":%S\"), function(d) { return d.getSeconds(); }],\n  [d3.time.format(\".%L\"), function(d) { return d.getMilliseconds(); }]\n];\n\nvar d3_time_scaleLinear = d3.scale.linear(),\n    d3_time_scaleLocalFormat = d3_time_scaleFormat(d3_time_scaleLocalFormats);\n\nd3_time_scaleLocalMethods.year = function(extent, m) {\n  return d3_time_scaleLinear.domain(extent.map(d3_time_scaleGetYear)).ticks(m).map(d3_time_scaleSetYear);\n};\n\nd3.time.scale = function() {\n  return d3_time_scale(d3.scale.linear(), d3_time_scaleLocalMethods, d3_time_scaleLocalFormat);\n};\nvar d3_time_scaleUTCMethods = d3_time_scaleLocalMethods.map(function(m) {\n  return [m[0].utc, m[1]];\n});\n\nvar d3_time_scaleUTCFormats = [\n  [d3.time.format.utc(\"%Y\"), function(d) { return true; }],\n  [d3.time.format.utc(\"%B\"), function(d) { return d.getUTCMonth(); }],\n  [d3.time.format.utc(\"%b %d\"), function(d) { return d.getUTCDate() != 1; }],\n  [d3.time.format.utc(\"%a %d\"), function(d) { return d.getUTCDay() && d.getUTCDate() != 1; }],\n  [d3.time.format.utc(\"%I %p\"), function(d) { return d.getUTCHours(); }],\n  [d3.time.format.utc(\"%I:%M\"), function(d) { return d.getUTCMinutes(); }],\n  [d3.time.format.utc(\":%S\"), function(d) { return d.getUTCSeconds(); }],\n  [d3.time.format.utc(\".%L\"), function(d) { return d.getUTCMilliseconds(); }]\n];\n\nvar d3_time_scaleUTCFormat = d3_time_scaleFormat(d3_time_scaleUTCFormats);\n\nfunction d3_time_scaleUTCSetYear(y) {\n  var d = new Date(Date.UTC(y, 0, 1));\n  d.setUTCFullYear(y); // Y2K fail\n  return d;\n}\n\nfunction d3_time_scaleUTCGetYear(d) {\n  var y = d.getUTCFullYear(),\n      d0 = d3_time_scaleUTCSetYear(y),\n      d1 = d3_time_scaleUTCSetYear(y + 1);\n  return y + (d - d0) / (d1 - d0);\n}\n\nd3_time_scaleUTCMethods.year = function(extent, m) {\n  return d3_time_scaleLinear.domain(extent.map(d3_time_scaleUTCGetYear)).ticks(m).map(d3_time_scaleUTCSetYear);\n};\n\nd3.time.scale.utc = function() {\n  return d3_time_scale(d3.scale.linear(), d3_time_scaleUTCMethods, d3_time_scaleUTCFormat);\n};\n})();","// tipsy, facebook style tooltips for jquery with fancy fading\n// version 1.0.0a\n// (c) 2008-2010 jason frame [jason@onehackoranother.com] and modificated by Sergio Alvarez @saleiva\n// released under the MIT license\n//\n//  Changes:\n//  April 27 2016: fixed problem with element size.\n//  June 3 2013: Added the custom class before the calc of the position.\n\n(function($) {\n\n  var MOVE_OFFSET = 6;\n\n  function maybeCall(thing, ctx) {\n    return (typeof thing == 'function') ? (thing.call(ctx)) : thing;\n  };\n\n  function isElementInDOM(ele) {\n    while (ele = ele.parentNode) {\n      if (ele == document) return true;\n    }\n    return false;\n  };\n\n  function Tipsy(element, options) {\n    this.$element = $(element);\n    this.options = options;\n    this.enabled = true;\n    this.fixTitle();\n  };\n\n  Tipsy.prototype = {\n    show: function() {\n      var title = this.getTitle();\n      if (title && this.enabled) {\n        var $tip = this.tip();\n\n        $tip.find('.tipsy-inner')[this.options.html ? 'html' : 'text'](title);\n            $tip[0].className = 'tipsy'; // reset classname in case of dynamic gravity\n            $tip.remove().css({top: 0, left: 0, visibility: 'hidden', display: 'block'}).prependTo(document.body);\n\n            // Modified so we can use custom class names\n            if (this.options.className) {\n              $tip.addClass(maybeCall(this.options.className, this.$element[0]));\n            }\n\n            // Modified\n            var pos = $.extend({}, this.$element.offset(), {\n              width: this.$element[0].getBoundingClientRect().width,\n              height: this.$element[0].getBoundingClientRect().height\n            });\n\n            var actualWidth = $tip[0].offsetWidth,\n            actualHeight = $tip[0].offsetHeight,\n            gravity = maybeCall(this.options.gravity, this.$element[0]);\n\n            var tp;\n            switch (gravity.charAt(0)) {\n              case 'n':\n              tp = {top: pos.top + pos.height + this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2};\n              mo = {top: parseInt(pos.top + pos.height + this.options.offset + MOVE_OFFSET), opacity: this.options.opacity};\n              break;\n              case 's':\n              tp = {top: pos.top - actualHeight - this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2};\n              mo = {top: parseInt(pos.top - actualHeight - this.options.offset - MOVE_OFFSET), opacity: this.options.opacity};\n              break;\n              case 'e':\n              tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth - this.options.offset};\n              mo = {left: parseInt(pos.left - actualWidth - this.options.offset - MOVE_OFFSET), opacity: this.options.opacity};\n              break;\n              case 'w':\n              tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width + this.options.offset};\n              mo = {left: parseInt(pos.left + pos.width + this.options.offset + MOVE_OFFSET), opacity: this.options.opacity};\n              break;\n            }\n\n            if (gravity.length == 2) {\n              if (gravity.charAt(1) == 'w') {\n                tp.left = pos.left + pos.width / 2 - 15;\n              } else {\n                tp.left = pos.left + pos.width / 2 - actualWidth + 15;\n              }\n            }\n\n            $tip.css(tp).addClass('tipsy-' + gravity);\n            $tip.find('.tipsy-arrow')[0].className = 'tipsy-arrow tipsy-arrow-' + gravity.charAt(0);\n\n            if (this.options.fade) {\n              $tip.stop().css({opacity: 0, display: 'block', visibility: 'visible'}).animate(mo, 200);\n            } else {\n              $tip.css({visibility: 'visible', opacity: this.options.opacity});\n            }\n          }\n        },\n\n        hide: function() {\n\n          gravity = maybeCall(this.options.gravity, this.$element[0]);\n\n          switch (gravity.charAt(0)) {\n            case 'n':\n            mo = {top: parseInt(this.tip().css(\"top\")) + MOVE_OFFSET, opacity: 0};\n            break;\n            case 's':\n            mo = {top: parseInt(this.tip().css(\"top\")) - MOVE_OFFSET, opacity: 0};\n            break;\n            case 'e':\n            mo = {left: parseInt(this.tip().css(\"left\")) - MOVE_OFFSET, opacity: 0};\n            break;\n            case 'w':\n            mo = {left: parseInt(this.tip().css(\"left\")) + MOVE_OFFSET, opacity: 0};\n            break;\n          }\n\n          if (this.options.fade) {\n            this.tip().stop().animate(mo, 200, function(){$(this).remove();});\n          } else {\n            this.tip().remove();\n          }\n        },\n\n        fixTitle: function() {\n          var $e = this.$element;\n          if ($e.attr('title') || typeof($e.attr('original-title')) != 'string') {\n            $e.attr('original-title', $e.attr('title') || '').removeAttr('title');\n          }\n        },\n\n        getTitle: function() {\n          var title, $e = this.$element, o = this.options;\n          this.fixTitle();\n          var title, o = this.options;\n          if (typeof o.title == 'string') {\n            title = $e.attr(o.title == 'title' ? 'original-title' : o.title);\n          } else if (typeof o.title == 'function') {\n            title = o.title.call($e[0]);\n          }\n          title = ('' + title).replace(/(^\\s*|\\s*$)/, \"\");\n          return title || o.fallback;\n        },\n\n        tip: function() {\n          if (!this.$tip) {\n            this.$tip = $('<div class=\"tipsy\"></div>').html('<div class=\"tipsy-arrow\"></div><div class=\"tipsy-inner\"></div>');\n            this.$tip.data('tipsy-pointee', this.$element[0]);\n          }\n          return this.$tip;\n        },\n\n        validate: function() {\n          if (!this.$element[0].parentNode) {\n            this.hide();\n            this.$element = null;\n            this.options = null;\n          }\n        },\n\n        remove: function() { this.enabled = false; this.$tip && this.$tip.remove(); },\n        enable: function() { this.enabled = true; },\n        disable: function() { this.enabled = false; },\n        toggleEnabled: function() { this.enabled = !this.enabled; }\n      };\n\n      $.fn.tipsy = function(options) {\n\n        if (options === true) {\n          return this.data('tipsy');\n        } else if (typeof options == 'string') {\n          var tipsy = this.data('tipsy');\n          if (tipsy) tipsy[options]();\n          return this;\n        }\n\n        options = $.extend({}, $.fn.tipsy.defaults, options);\n\n        function get(ele) {\n          var tipsy = $.data(ele, 'tipsy');\n          if (!tipsy) {\n            tipsy = new Tipsy(ele, $.fn.tipsy.elementOptions(ele, options));\n            $.data(ele, 'tipsy', tipsy);\n          }\n          return tipsy;\n        }\n\n        function enter() {\n          var tipsy = get(this);\n          tipsy.hoverState = 'in';\n          if (options.delayIn == 0) {\n            tipsy.show();\n          } else {\n            tipsy.fixTitle();\n            setTimeout(function() { if (tipsy.hoverState == 'in') tipsy.show(); }, options.delayIn);\n          }\n        };\n\n        function leave() {\n          var tipsy = get(this);\n          tipsy.hoverState = 'out';\n          if (options.delayOut == 0) {\n            tipsy.hide();\n          } else {\n            setTimeout(function() { if (tipsy.hoverState == 'out') tipsy.hide(); }, options.delayOut);\n          }\n        };\n\n        if (!options.live) this.each(function() { get(this); });\n\n        if (options.trigger != 'manual') {\n          var binder   = options.live ? 'live' : 'bind',\n          eventIn  = options.trigger == 'hover' ? 'mouseenter' : 'focus',\n          eventOut = options.trigger == 'hover' ? 'mouseleave' : 'blur';\n          this[binder](eventIn, enter)[binder](eventOut, leave);\n        }\n\n        return this;\n\n      };\n\n      $.fn.tipsy.defaults = {\n        className: null,\n        delayIn: 0,\n        delayOut: 0,\n        fade: false,\n        fallback: '',\n        gravity: 'n',\n        html: false,\n        live: false,\n        offset: 0,\n        opacity: 0.8,\n        title: 'title',\n        trigger: 'hover'\n      };\n\n      $.fn.tipsy.revalidate = function() {\n        $('.tipsy').each(function() {\n          var pointee = $.data(this, 'tipsy-pointee');\n          if (!pointee || !isElementInDOM(pointee)) {\n            $(this).remove();\n          }\n        });\n      };\n\n    // Overwrite this method to provide options on a per-element basis.\n    // For example, you could store the gravity in a 'tipsy-gravity' attribute:\n    // return $.extend({}, options, {gravity: $(ele).attr('tipsy-gravity') || 'n' });\n    // (remember - do not modify 'options' in place!)\n    $.fn.tipsy.elementOptions = function(ele, options) {\n      return $.metadata ? $.extend({}, options, $(ele).metadata()) : options;\n    };\n\n    $.fn.tipsy.autoNS = function() {\n      return $(this).offset().top > ($(document).scrollTop() + $(window).height() / 2) ? 's' : 'n';\n    };\n\n    $.fn.tipsy.autoWE = function() {\n      return $(this).offset().left > ($(document).scrollLeft() + $(window).width() / 2) ? 'e' : 'w';\n    };\n\n    /**\n     * yields a closure of the supplied parameters, producing a function that takes\n     * no arguments and is suitable for use as an autogravity function like so:\n     *\n     * @param margin (int) - distance from the viewable region edge that an\n     *        element should be before setting its tooltip's gravity to be away\n     *        from that edge.\n     * @param prefer (string, e.g. 'n', 'sw', 'w') - the direction to prefer\n     *        if there are no viewable region edges effecting the tooltip's\n     *        gravity. It will try to vary from this minimally, for example,\n     *        if 'sw' is preferred and an element is near the right viewable\n     *        region edge, but not the top edge, it will set the gravity for\n     *        that element's tooltip to be 'se', preserving the southern\n     *        component.\n     */\n     $.fn.tipsy.autoBounds = function(margin, prefer) {\n      return function() {\n       var dir = {ns: prefer[0], ew: (prefer.length > 1 ? prefer[1] : false)},\n       boundTop = $(document).scrollTop() + margin,\n       boundLeft = $(document).scrollLeft() + margin,\n       $this = $(this);\n\n       if ($this.offset().top < boundTop) dir.ns = 'n';\n       if ($this.offset().left < boundLeft) dir.ew = 'w';\n       if ($(window).width() + $(document).scrollLeft() - $this.offset().left < margin) dir.ew = 'e';\n       if ($(window).height() + $(document).scrollTop() - $this.offset().top < margin) dir.ns = 's';\n\n       return dir.ns + (dir.ew ? dir.ew : '');\n     }\n   };\n\n })(jQuery);\n","//! moment.js\n//! version : 2.10.2\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, function () { 'use strict';\n\n    var hookCallback;\n\n    function utils_hooks__hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false\n        };\n    }\n\n    function isArray(input) {\n        return Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isDate(input) {\n        return Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date;\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function create_utc__createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function valid__isValid(m) {\n        if (m._isValid == null) {\n            m._isValid = !isNaN(m._d.getTime()) &&\n                m._pf.overflow < 0 &&\n                !m._pf.empty &&\n                !m._pf.invalidMonth &&\n                !m._pf.nullInput &&\n                !m._pf.invalidFormat &&\n                !m._pf.userInvalidated;\n\n            if (m._strict) {\n                m._isValid = m._isValid &&\n                    m._pf.charsLeftOver === 0 &&\n                    m._pf.unusedTokens.length === 0 &&\n                    m._pf.bigHour === undefined;\n            }\n        }\n        return m._isValid;\n    }\n\n    function valid__createInvalid (flags) {\n        var m = create_utc__createUTC(NaN);\n        if (flags != null) {\n            extend(m._pf, flags);\n        }\n        else {\n            m._pf.userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    var momentProperties = utils_hooks__hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (typeof from._isAMomentObject !== 'undefined') {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (typeof from._i !== 'undefined') {\n            to._i = from._i;\n        }\n        if (typeof from._f !== 'undefined') {\n            to._f = from._f;\n        }\n        if (typeof from._l !== 'undefined') {\n            to._l = from._l;\n        }\n        if (typeof from._strict !== 'undefined') {\n            to._strict = from._strict;\n        }\n        if (typeof from._tzm !== 'undefined') {\n            to._tzm = from._tzm;\n        }\n        if (typeof from._isUTC !== 'undefined') {\n            to._isUTC = from._isUTC;\n        }\n        if (typeof from._offset !== 'undefined') {\n            to._offset = from._offset;\n        }\n        if (typeof from._pf !== 'undefined') {\n            to._pf = from._pf;\n        }\n        if (typeof from._locale !== 'undefined') {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i in momentProperties) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (typeof val !== 'undefined') {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(+config._d);\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            utils_hooks__hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && hasOwnProp(obj, '_isAMomentObject'));\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            if (coercedNumber >= 0) {\n                value = Math.floor(coercedNumber);\n            } else {\n                value = Math.ceil(coercedNumber);\n            }\n        }\n\n        return value;\n    }\n\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function Locale() {\n    }\n\n    var locales = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return null;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && typeof module !== 'undefined' &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                require('./locale/' + name);\n                // because defineLocale currently also sets the global locale, we\n                // want to undo that for lazy loaded locales\n                locale_locales__getSetGlobalLocale(oldLocale);\n            } catch (e) { }\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function locale_locales__getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (typeof values === 'undefined') {\n                data = locale_locales__getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, values) {\n        if (values !== null) {\n            values.abbr = name;\n            if (!locales[name]) {\n                locales[name] = new Locale();\n            }\n            locales[name].set(values);\n\n            // backwards compat for now: also set the locale\n            locale_locales__getSetGlobalLocale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    // returns locale data\n    function locale_locales__getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                get_set__set(this, unit, value);\n                utils_hooks__hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get_set__get(this, unit);\n            }\n        };\n    }\n\n    function get_set__get (mom, unit) {\n        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();\n    }\n\n    function get_set__set (mom, unit, value) {\n        return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n    }\n\n    // MOMENTS\n\n    function getSet (units, value) {\n        var unit;\n        if (typeof units === 'object') {\n            for (unit in units) {\n                this.set(unit, units[unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (typeof this[units] === 'function') {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var output = '' + Math.abs(number),\n            sign = number >= 0;\n\n        while (output.length < targetLength) {\n            output = '0' + output;\n        }\n        return (sign ? (forceSign ? '+' : '') : '-') + output;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '';\n            for (i = 0; i < length; i++) {\n                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n\n        if (!formatFunctions[format]) {\n            formatFunctions[format] = makeFormatFunction(format);\n        }\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    var matchWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = typeof regex === 'function' ? regex : function (isStrict) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (typeof callback === 'number') {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n\n    function daysInMonth(year, month) {\n        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  matchWord);\n    addRegexToken('MMMM', matchWord);\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            config._pf.invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m) {\n        return this._months[m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m) {\n        return this._monthsShort[m.month()];\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = create_utc__createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        // TODO: Move this out of here!\n        if (typeof value === 'string') {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (typeof value !== 'number') {\n                return mom;\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            utils_hooks__hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get_set__get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && m._pf.overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n\n            m._pf.overflow = overflow;\n        }\n\n        return m;\n    }\n\n    function warn(msg) {\n        if (utils_hooks__hooks.suppressDeprecationWarnings === false && typeof console !== 'undefined' && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n        return extend(function () {\n            if (firstTime) {\n                warn(msg);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    utils_hooks__hooks.suppressDeprecationWarnings = false;\n\n    var from_string__isoRegex = /^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d{2}-\\d{2}/],\n        ['YYYY-MM-DD', /\\d{4}-\\d{2}-\\d{2}/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d{2}-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d{2}/],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss', /(T| )\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /(T| )\\d\\d:\\d\\d/],\n        ['HH', /(T| )\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = from_string__isoRegex.exec(string);\n\n        if (match) {\n            config._pf.iso = true;\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(string)) {\n                    // match[5] should be 'T' or undefined\n                    config._f = isoDates[i][0] + (match[6] || ' ');\n                    break;\n                }\n            }\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(string)) {\n                    config._f += isoTimes[i][0];\n                    break;\n                }\n            }\n            if (string.match(matchOffset)) {\n                config._f += 'Z';\n            }\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n            utils_hooks__hooks.createFromInputFallback(config);\n        }\n    }\n\n    utils_hooks__hooks.createFromInputFallback = deprecate(\n        'moment construction falls back to js Date. This is ' +\n        'discouraged and will be removed in upcoming major ' +\n        'release. Please refer to ' +\n        'https://github.com/moment/moment/issues/1407 for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    function createDate (y, m, d, h, M, s, ms) {\n        //can't just apply() to create a date:\n        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        //the date constructor doesn't accept years < 1970\n        if (y < 1970) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n        if (y < 1970) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYY', 'YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    utils_hooks__hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', false);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // firstDayOfWeek       0 = sun, 6 = sat\n    //                      the day of the week that starts the week\n    //                      (usually sunday or monday)\n    // firstDayOfWeekOfYear 0 = sun, 6 = sat\n    //                      the first week is the week that contains the first\n    //                      of this day of the week\n    //                      (eg. ISO weeks use thursday (4))\n    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {\n        var end = firstDayOfWeekOfYear - firstDayOfWeek,\n            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),\n            adjustedMoment;\n\n\n        if (daysToDayOfWeek > end) {\n            daysToDayOfWeek -= 7;\n        }\n\n        if (daysToDayOfWeek < end - 7) {\n            daysToDayOfWeek += 7;\n        }\n\n        adjustedMoment = local__createLocal(mom).add(daysToDayOfWeek, 'd');\n        return {\n            week: Math.ceil(adjustedMoment.dayOfYear() / 7),\n            year: adjustedMoment.year()\n        };\n    }\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 1st is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {\n        var d = createUTCDate(year, 0, 1).getUTCDay();\n        var daysToAdd;\n        var dayOfYear;\n\n        d = d === 0 ? 7 : d;\n        weekday = weekday != null ? weekday : firstDayOfWeek;\n        daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0) - (d < firstDayOfWeek ? 7 : 0);\n        dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1;\n\n        return {\n            year      : dayOfYear > 0 ? year      : year - 1,\n            dayOfYear : dayOfYear > 0 ? dayOfYear : daysInYear(year - 1) + dayOfYear\n        };\n    }\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        var now = new Date();\n        if (config._useUTC) {\n            return [now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate()];\n        }\n        return [now.getFullYear(), now.getMonth(), now.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse)) {\n                config._pf._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);\n            week = defaults(w.w, 1);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < dow) {\n                    ++week;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from begining of week\n                weekday = w.e + dow;\n            } else {\n                // default to begining of week\n                weekday = dow;\n            }\n        }\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);\n\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n\n    utils_hooks__hooks.ISO_8601 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === utils_hooks__hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n\n        config._a = [];\n        config._pf.empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    config._pf.unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    config._pf.empty = false;\n                }\n                else {\n                    config._pf.unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                config._pf.unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        config._pf.charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            config._pf.unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._pf.bigHour === true && config._a[HOUR] <= 12) {\n            config._pf.bigHour = undefined;\n        }\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            config._pf.invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._pf = defaultParsingFlags();\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!valid__isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += tempConfig._pf.charsLeftOver;\n\n            //or tokens\n            currentScore += tempConfig._pf.unusedTokens.length * 10;\n\n            tempConfig._pf.score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = [i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond];\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var input = config._i,\n            format = config._f,\n            res;\n\n        config._locale = config._locale || locale_locales__getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return valid__createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        } else {\n            configFromInput(config);\n        }\n\n        res = new Moment(checkOverflow(config));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (input === undefined) {\n            config._d = new Date();\n        } else if (isDate(input)) {\n            config._d = new Date(+input);\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (typeof(input) === 'object') {\n            configFromObject(config);\n        } else if (typeof(input) === 'number') {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            utils_hooks__hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (typeof(locale) === 'boolean') {\n            strict = locale;\n            locale = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n        c._pf = defaultParsingFlags();\n\n        return createFromConfig(c);\n    }\n\n    function local__createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n         'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',\n         function () {\n             var other = local__createLocal.apply(null, arguments);\n             return other < this ? this : other;\n         }\n     );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',\n        function () {\n            var other = local__createLocal.apply(null, arguments);\n            return other > this ? this : other;\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return local__createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 36e5; // 1000 * 60 * 60\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = locale_locales__getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchOffset);\n    addRegexToken('ZZ', matchOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(string) {\n        var matches = ((string || '').match(matchOffset) || []);\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(+res._d + diff);\n            utils_hooks__hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return local__createLocal(input).local();\n        }\n        return model._isUTC ? local__createLocal(input).zone(model._offset || 0) : local__createLocal(input).local();\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    utils_hooks__hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(input);\n            }\n            if (Math.abs(input) < 16) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    utils_hooks__hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm) {\n            this.utcOffset(this._tzm);\n        } else if (typeof this._i === 'string') {\n            this.utcOffset(offsetFromString(this._i));\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!input) {\n            input = 0;\n        }\n        else {\n            input = local__createLocal(input).utcOffset();\n        }\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (this._a) {\n            var other = this._isUTC ? create_utc__createUTC(this._a) : local__createLocal(this._a);\n            return this.isValid() && compareArrays(this._a, other.toArray()) > 0;\n        }\n\n        return false;\n    }\n\n    function isLocal () {\n        return !this._isUTC;\n    }\n\n    function isUtcOffset () {\n        return this._isUTC;\n    }\n\n    function isUtc () {\n        return this._isUTC && this._offset === 0;\n    }\n\n    var aspNetRegex = /(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    var create__isoRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\n\n    function create__createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (typeof input === 'number') {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])        * sign,\n                h  : toInt(match[HOUR])        * sign,\n                m  : toInt(match[MINUTE])      * sign,\n                s  : toInt(match[SECOND])      * sign,\n                ms : toInt(match[MILLISECOND]) * sign\n            };\n        } else if (!!(match = create__isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                d : parseIso(match[4], sign),\n                h : parseIso(match[5], sign),\n                m : parseIso(match[6], sign),\n                s : parseIso(match[7], sign),\n                w : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    create__createDuration.fn = Duration.prototype;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {milliseconds: 0, months: 0};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = create__createDuration(val, period);\n            add_subtract__addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = duration._days,\n            months = duration._months;\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (milliseconds) {\n            mom._d.setTime(+mom._d + milliseconds * isAdding);\n        }\n        if (days) {\n            get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);\n        }\n        if (months) {\n            setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);\n        }\n        if (updateOffset) {\n            utils_hooks__hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add_subtract__add      = createAdder(1, 'add');\n    var add_subtract__subtract = createAdder(-1, 'subtract');\n\n    function moment_calendar__calendar (time) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || local__createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            diff = this.diff(sod, 'days', true),\n            format = diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n        return this.format(this.localeData().calendar(format, this, local__createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var inputMs;\n        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');\n        if (units === 'millisecond') {\n            input = isMoment(input) ? input : local__createLocal(input);\n            return +this > +input;\n        } else {\n            inputMs = isMoment(input) ? +input : +local__createLocal(input);\n            return inputMs < +this.clone().startOf(units);\n        }\n    }\n\n    function isBefore (input, units) {\n        var inputMs;\n        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');\n        if (units === 'millisecond') {\n            input = isMoment(input) ? input : local__createLocal(input);\n            return +this < +input;\n        } else {\n            inputMs = isMoment(input) ? +input : +local__createLocal(input);\n            return +this.clone().endOf(units) < inputMs;\n        }\n    }\n\n    function isBetween (from, to, units) {\n        return this.isAfter(from, units) && this.isBefore(to, units);\n    }\n\n    function isSame (input, units) {\n        var inputMs;\n        units = normalizeUnits(units || 'millisecond');\n        if (units === 'millisecond') {\n            input = isMoment(input) ? input : local__createLocal(input);\n            return +this === +input;\n        } else {\n            inputMs = +local__createLocal(input);\n            return +(this.clone().startOf(units)) <= inputMs && inputMs <= +(this.clone().endOf(units));\n        }\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function diff (input, units, asFloat) {\n        var that = cloneWithOffset(input, this),\n            zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4,\n            delta, output;\n\n        units = normalizeUnits(units);\n\n        if (units === 'year' || units === 'month' || units === 'quarter') {\n            output = monthDiff(this, that);\n            if (units === 'quarter') {\n                output = output / 3;\n            } else if (units === 'year') {\n                output = output / 12;\n            }\n        } else {\n            delta = this - that;\n            output = units === 'second' ? delta / 1e3 : // 1000\n                units === 'minute' ? delta / 6e4 : // 1000 * 60\n                units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60\n                units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                delta;\n        }\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        return -(wholeMonthDiff + adjust);\n    }\n\n    utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function moment_format__toISOString () {\n        var m = this.clone().utc();\n        if (0 < m.year() && m.year() <= 9999) {\n            if ('function' === typeof Date.prototype.toISOString) {\n                // native implementation is ~50x faster, use it when we can\n                return this.toDate().toISOString();\n            } else {\n                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            }\n        } else {\n            return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n        }\n    }\n\n    function format (inputString) {\n        var output = formatMoment(this, inputString || utils_hooks__hooks.defaultFormat);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(local__createLocal(), withoutSuffix);\n    }\n\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = locale_locales__getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    function startOf (units) {\n        units = normalizeUnits(units);\n        // the following switch intentionally omits break keywords\n        // to utilize falling through the cases.\n        switch (units) {\n        case 'year':\n            this.month(0);\n            /* falls through */\n        case 'quarter':\n        case 'month':\n            this.date(1);\n            /* falls through */\n        case 'week':\n        case 'isoWeek':\n        case 'day':\n            this.hours(0);\n            /* falls through */\n        case 'hour':\n            this.minutes(0);\n            /* falls through */\n        case 'minute':\n            this.seconds(0);\n            /* falls through */\n        case 'second':\n            this.milliseconds(0);\n        }\n\n        // weeks are a special case\n        if (units === 'week') {\n            this.weekday(0);\n        }\n        if (units === 'isoWeek') {\n            this.isoWeekday(1);\n        }\n\n        // quarters are also special\n        if (units === 'quarter') {\n            this.month(Math.floor(this.month() / 3) * 3);\n        }\n\n        return this;\n    }\n\n    function endOf (units) {\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond') {\n            return this;\n        }\n        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n    }\n\n    function to_type__valueOf () {\n        return +this._d - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(+this / 1000);\n    }\n\n    function toDate () {\n        return this._offset ? new Date(+this) : this._d;\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function moment_valid__isValid () {\n        return valid__isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, this._pf);\n    }\n\n    function invalidAt () {\n        return this._pf.overflow;\n    }\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = utils_hooks__hooks.parseTwoDigitYear(input);\n    });\n\n    // HELPERS\n\n    function weeksInYear(year, dow, doy) {\n        return weekOfYear(local__createLocal([year, 11, 31 + dow - doy]), dow, doy).week;\n    }\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;\n        return input == null ? year : this.add((input - year), 'y');\n    }\n\n    function getSetISOWeekYear (input) {\n        var year = weekOfYear(this, 1, 4).year;\n        return input == null ? year : this.add((input - year), 'y');\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    addFormatToken('Q', 0, 0, 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0], 10);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   matchWord);\n    addRegexToken('ddd',  matchWord);\n    addRegexToken('dddd', matchWord);\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config) {\n        var weekday = config._locale.weekdaysParse(input);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            config._pf.invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input === 'string') {\n            if (!isNaN(input)) {\n                input = parseInt(input, 10);\n            }\n            else {\n                input = locale.weekdaysParse(input);\n                if (typeof input !== 'number') {\n                    return null;\n                }\n            }\n        }\n        return input;\n    }\n\n    // LOCALES\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m) {\n        return this._weekdays[m.day()];\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return this._weekdaysShort[m.day()];\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return this._weekdaysMin[m.day()];\n    }\n\n    function localeWeekdaysParse (weekdayName) {\n        var i, mom, regex;\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            if (!this._weekdaysParse[i]) {\n                mom = local__createLocal([2000, 1]).day(i);\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n        return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, function () {\n        return this.hours() % 12 || 12;\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        config._pf.bigHour = true;\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour he wants. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    function millisecond__milliseconds (token) {\n        addFormatToken(0, [token, 3], 0, 'millisecond');\n    }\n\n    millisecond__milliseconds('SSS');\n    millisecond__milliseconds('SSSS');\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n    addRegexToken('SSSS', matchUnsigned);\n    addParseToken(['S', 'SS', 'SSS', 'SSSS'], function (input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    });\n\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var momentPrototype__proto = Moment.prototype;\n\n    momentPrototype__proto.add          = add_subtract__add;\n    momentPrototype__proto.calendar     = moment_calendar__calendar;\n    momentPrototype__proto.clone        = clone;\n    momentPrototype__proto.diff         = diff;\n    momentPrototype__proto.endOf        = endOf;\n    momentPrototype__proto.format       = format;\n    momentPrototype__proto.from         = from;\n    momentPrototype__proto.fromNow      = fromNow;\n    momentPrototype__proto.get          = getSet;\n    momentPrototype__proto.invalidAt    = invalidAt;\n    momentPrototype__proto.isAfter      = isAfter;\n    momentPrototype__proto.isBefore     = isBefore;\n    momentPrototype__proto.isBetween    = isBetween;\n    momentPrototype__proto.isSame       = isSame;\n    momentPrototype__proto.isValid      = moment_valid__isValid;\n    momentPrototype__proto.lang         = lang;\n    momentPrototype__proto.locale       = locale;\n    momentPrototype__proto.localeData   = localeData;\n    momentPrototype__proto.max          = prototypeMax;\n    momentPrototype__proto.min          = prototypeMin;\n    momentPrototype__proto.parsingFlags = parsingFlags;\n    momentPrototype__proto.set          = getSet;\n    momentPrototype__proto.startOf      = startOf;\n    momentPrototype__proto.subtract     = add_subtract__subtract;\n    momentPrototype__proto.toArray      = toArray;\n    momentPrototype__proto.toDate       = toDate;\n    momentPrototype__proto.toISOString  = moment_format__toISOString;\n    momentPrototype__proto.toJSON       = moment_format__toISOString;\n    momentPrototype__proto.toString     = toString;\n    momentPrototype__proto.unix         = unix;\n    momentPrototype__proto.valueOf      = to_type__valueOf;\n\n    // Year\n    momentPrototype__proto.year       = getSetYear;\n    momentPrototype__proto.isLeapYear = getIsLeapYear;\n\n    // Week Year\n    momentPrototype__proto.weekYear    = getSetWeekYear;\n    momentPrototype__proto.isoWeekYear = getSetISOWeekYear;\n\n    // Quarter\n    momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;\n\n    // Month\n    momentPrototype__proto.month       = getSetMonth;\n    momentPrototype__proto.daysInMonth = getDaysInMonth;\n\n    // Week\n    momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;\n    momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;\n    momentPrototype__proto.weeksInYear    = getWeeksInYear;\n    momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;\n\n    // Day\n    momentPrototype__proto.date       = getSetDayOfMonth;\n    momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;\n    momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;\n    momentPrototype__proto.isoWeekday = getSetISODayOfWeek;\n    momentPrototype__proto.dayOfYear  = getSetDayOfYear;\n\n    // Hour\n    momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;\n\n    // Minute\n    momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;\n\n    // Second\n    momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;\n\n    // Millisecond\n    momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;\n\n    // Offset\n    momentPrototype__proto.utcOffset            = getSetOffset;\n    momentPrototype__proto.utc                  = setOffsetToUTC;\n    momentPrototype__proto.local                = setOffsetToLocal;\n    momentPrototype__proto.parseZone            = setOffsetToParsedOffset;\n    momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    momentPrototype__proto.isDST                = isDaylightSavingTime;\n    momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;\n    momentPrototype__proto.isLocal              = isLocal;\n    momentPrototype__proto.isUtcOffset          = isUtcOffset;\n    momentPrototype__proto.isUtc                = isUtc;\n    momentPrototype__proto.isUTC                = isUtc;\n\n    // Timezone\n    momentPrototype__proto.zoneAbbr = getZoneAbbr;\n    momentPrototype__proto.zoneName = getZoneName;\n\n    // Deprecations\n    momentPrototype__proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    momentPrototype__proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    momentPrototype__proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779', getSetZone);\n\n    var momentPrototype = momentPrototype__proto;\n\n    function moment__createUnix (input) {\n        return local__createLocal(input * 1000);\n    }\n\n    function moment__createInZone () {\n        return local__createLocal.apply(null, arguments).parseZone();\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function locale_calendar__calendar (key, mom, now) {\n        var output = this._calendar[key];\n        return typeof output === 'function' ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY LT',\n        LLLL : 'dddd, MMMM D, YYYY LT'\n    };\n\n    function longDateFormat (key) {\n        var output = this._longDateFormat[key];\n        if (!output && this._longDateFormat[key.toUpperCase()]) {\n            output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {\n                return val.slice(1);\n            });\n            this._longDateFormat[key] = output;\n        }\n        return output;\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relative__relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (typeof output === 'function') ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);\n    }\n\n    function locale_set__set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (typeof prop === 'function') {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _ordinalParseLenient.\n        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + /\\d{1,2}/.source);\n    }\n\n    var prototype__proto = Locale.prototype;\n\n    prototype__proto._calendar       = defaultCalendar;\n    prototype__proto.calendar        = locale_calendar__calendar;\n    prototype__proto._longDateFormat = defaultLongDateFormat;\n    prototype__proto.longDateFormat  = longDateFormat;\n    prototype__proto._invalidDate    = defaultInvalidDate;\n    prototype__proto.invalidDate     = invalidDate;\n    prototype__proto._ordinal        = defaultOrdinal;\n    prototype__proto.ordinal         = ordinal;\n    prototype__proto._ordinalParse   = defaultOrdinalParse;\n    prototype__proto.preparse        = preParsePostFormat;\n    prototype__proto.postformat      = preParsePostFormat;\n    prototype__proto._relativeTime   = defaultRelativeTime;\n    prototype__proto.relativeTime    = relative__relativeTime;\n    prototype__proto.pastFuture      = pastFuture;\n    prototype__proto.set             = locale_set__set;\n\n    // Month\n    prototype__proto.months       =        localeMonths;\n    prototype__proto._months      = defaultLocaleMonths;\n    prototype__proto.monthsShort  =        localeMonthsShort;\n    prototype__proto._monthsShort = defaultLocaleMonthsShort;\n    prototype__proto.monthsParse  =        localeMonthsParse;\n\n    // Week\n    prototype__proto.week = localeWeek;\n    prototype__proto._week = defaultLocaleWeek;\n    prototype__proto.firstDayOfYear = localeFirstDayOfYear;\n    prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;\n\n    // Day of Week\n    prototype__proto.weekdays       =        localeWeekdays;\n    prototype__proto._weekdays      = defaultLocaleWeekdays;\n    prototype__proto.weekdaysMin    =        localeWeekdaysMin;\n    prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;\n    prototype__proto.weekdaysShort  =        localeWeekdaysShort;\n    prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;\n    prototype__proto.weekdaysParse  =        localeWeekdaysParse;\n\n    // Hours\n    prototype__proto.isPM = localeIsPM;\n    prototype__proto._meridiemParse = defaultLocaleMeridiemParse;\n    prototype__proto.meridiem = localeMeridiem;\n\n    function lists__get (format, index, field, setter) {\n        var locale = locale_locales__getLocale();\n        var utc = create_utc__createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function list (format, index, field, count, setter) {\n        if (typeof format === 'number') {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return lists__get(format, index, field, setter);\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < count; i++) {\n            out[i] = lists__get(format, i, field, setter);\n        }\n        return out;\n    }\n\n    function lists__listMonths (format, index) {\n        return list(format, index, 'months', 12, 'month');\n    }\n\n    function lists__listMonthsShort (format, index) {\n        return list(format, index, 'monthsShort', 12, 'month');\n    }\n\n    function lists__listWeekdays (format, index) {\n        return list(format, index, 'weekdays', 7, 'day');\n    }\n\n    function lists__listWeekdaysShort (format, index) {\n        return list(format, index, 'weekdaysShort', 7, 'day');\n    }\n\n    function lists__listWeekdaysMin (format, index) {\n        return list(format, index, 'weekdaysMin', 7, 'day');\n    }\n\n    locale_locales__getSetGlobalLocale('en', {\n        ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n    utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);\n    utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);\n\n    var mathAbs = Math.abs;\n\n    function duration_abs__abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function duration_add_subtract__addSubtract (duration, input, value, direction) {\n        var other = create__createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function duration_add_subtract__add (input, value) {\n        return duration_add_subtract__addSubtract(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function duration_add_subtract__subtract (input, value) {\n        return duration_add_subtract__addSubtract(this, input, value, -1);\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years = 0;\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // Accurately convert days to years, assume start from year 0.\n        years = absFloor(daysToYears(days));\n        days -= absFloor(yearsToDays(years));\n\n        // 30 days to a month\n        // TODO (iskren): Use anchor date (like 1st Jan) to compute this.\n        months += absFloor(days / 30);\n        days   %= 30;\n\n        // 12 months -> 1 year\n        years  += absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToYears (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        return days * 400 / 146097;\n    }\n\n    function yearsToDays (years) {\n        // years * 365 + absFloor(years / 4) -\n        //     absFloor(years / 100) + absFloor(years / 400);\n        return years * 146097 / 400;\n    }\n\n    function as (units) {\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'year') {\n            days   = this._days   + milliseconds / 864e5;\n            months = this._months + daysToYears(days) * 12;\n            return units === 'month' ? months : months / 12;\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(yearsToDays(this._months / 12));\n            switch (units) {\n                case 'week'   : return days / 7            + milliseconds / 6048e5;\n                case 'day'    : return days                + milliseconds / 864e5;\n                case 'hour'   : return days * 24           + milliseconds / 36e5;\n                case 'minute' : return days * 24 * 60      + milliseconds / 6e4;\n                case 'second' : return days * 24 * 60 * 60 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 24 * 60 * 60 * 1000) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function duration_as__valueOf () {\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asYears        = makeAs('y');\n\n    function duration_get__get (units) {\n        units = normalizeUnits(units);\n        return this[units + 's']();\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this._data[name];\n        };\n    }\n\n    var duration_get__milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        s: 45,  // seconds to minute\n        m: 45,  // minutes to hour\n        h: 22,  // hours to day\n        d: 26,  // days to month\n        M: 11   // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function duration_humanize__relativeTime (posNegDuration, withoutSuffix, locale) {\n        var duration = create__createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds < thresholds.s && ['s', seconds]  ||\n                minutes === 1          && ['m']           ||\n                minutes < thresholds.m && ['mm', minutes] ||\n                hours   === 1          && ['h']           ||\n                hours   < thresholds.h && ['hh', hours]   ||\n                days    === 1          && ['d']           ||\n                days    < thresholds.d && ['dd', days]    ||\n                months  === 1          && ['M']           ||\n                months  < thresholds.M && ['MM', months]  ||\n                years   === 1          && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function duration_humanize__getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        var locale = this.localeData();\n        var output = duration_humanize__relativeTime(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var iso_string__abs = Math.abs;\n\n    function iso_string__toISOString() {\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = iso_string__abs(this.years());\n        var M = iso_string__abs(this.months());\n        var D = iso_string__abs(this.days());\n        var h = iso_string__abs(this.hours());\n        var m = iso_string__abs(this.minutes());\n        var s = iso_string__abs(this.seconds() + this.milliseconds() / 1000);\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        return (total < 0 ? '-' : '') +\n            'P' +\n            (Y ? Y + 'Y' : '') +\n            (M ? M + 'M' : '') +\n            (D ? D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? h + 'H' : '') +\n            (m ? m + 'M' : '') +\n            (s ? s + 'S' : '');\n    }\n\n    var duration_prototype__proto = Duration.prototype;\n\n    duration_prototype__proto.abs            = duration_abs__abs;\n    duration_prototype__proto.add            = duration_add_subtract__add;\n    duration_prototype__proto.subtract       = duration_add_subtract__subtract;\n    duration_prototype__proto.as             = as;\n    duration_prototype__proto.asMilliseconds = asMilliseconds;\n    duration_prototype__proto.asSeconds      = asSeconds;\n    duration_prototype__proto.asMinutes      = asMinutes;\n    duration_prototype__proto.asHours        = asHours;\n    duration_prototype__proto.asDays         = asDays;\n    duration_prototype__proto.asWeeks        = asWeeks;\n    duration_prototype__proto.asMonths       = asMonths;\n    duration_prototype__proto.asYears        = asYears;\n    duration_prototype__proto.valueOf        = duration_as__valueOf;\n    duration_prototype__proto._bubble        = bubble;\n    duration_prototype__proto.get            = duration_get__get;\n    duration_prototype__proto.milliseconds   = duration_get__milliseconds;\n    duration_prototype__proto.seconds        = seconds;\n    duration_prototype__proto.minutes        = minutes;\n    duration_prototype__proto.hours          = hours;\n    duration_prototype__proto.days           = days;\n    duration_prototype__proto.weeks          = weeks;\n    duration_prototype__proto.months         = months;\n    duration_prototype__proto.years          = years;\n    duration_prototype__proto.humanize       = humanize;\n    duration_prototype__proto.toISOString    = iso_string__toISOString;\n    duration_prototype__proto.toString       = iso_string__toISOString;\n    duration_prototype__proto.toJSON         = iso_string__toISOString;\n    duration_prototype__proto.locale         = locale;\n    duration_prototype__proto.localeData     = localeData;\n\n    // Deprecations\n    duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);\n    duration_prototype__proto.lang = lang;\n\n    // Side effect imports\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    utils_hooks__hooks.version = '2.10.2';\n\n    setHookCallback(local__createLocal);\n\n    utils_hooks__hooks.fn                    = momentPrototype;\n    utils_hooks__hooks.min                   = min;\n    utils_hooks__hooks.max                   = max;\n    utils_hooks__hooks.utc                   = create_utc__createUTC;\n    utils_hooks__hooks.unix                  = moment__createUnix;\n    utils_hooks__hooks.months                = lists__listMonths;\n    utils_hooks__hooks.isDate                = isDate;\n    utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;\n    utils_hooks__hooks.invalid               = valid__createInvalid;\n    utils_hooks__hooks.duration              = create__createDuration;\n    utils_hooks__hooks.isMoment              = isMoment;\n    utils_hooks__hooks.weekdays              = lists__listWeekdays;\n    utils_hooks__hooks.parseZone             = moment__createInZone;\n    utils_hooks__hooks.localeData            = locale_locales__getLocale;\n    utils_hooks__hooks.isDuration            = isDuration;\n    utils_hooks__hooks.monthsShort           = lists__listMonthsShort;\n    utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;\n    utils_hooks__hooks.defineLocale          = defineLocale;\n    utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;\n    utils_hooks__hooks.normalizeUnits        = normalizeUnits;\n    utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;\n\n    var _moment = utils_hooks__hooks;\n\n    return _moment;\n\n}));","// Released under MIT license\n// Copyright (c) 2009-2010 Dominic Baggott\n// Copyright (c) 2009-2010 Ash Berlin\n// Copyright (c) 2011 Christoph Dorn <christoph@christophdorn.com> (http://www.christophdorn.com)\n\n/*jshint browser:true, devel:true */\n\n(function( expose ) {\n\n/**\n *  class Markdown\n *\n *  Markdown processing in Javascript done right. We have very particular views\n *  on what constitutes 'right' which include:\n *\n *  - produces well-formed HTML (this means that em and strong nesting is\n *    important)\n *\n *  - has an intermediate representation to allow processing of parsed data (We\n *    in fact have two, both as [JsonML]: a markdown tree and an HTML tree).\n *\n *  - is easily extensible to add new dialects without having to rewrite the\n *    entire parsing mechanics\n *\n *  - has a good test suite\n *\n *  This implementation fulfills all of these (except that the test suite could\n *  do with expanding to automatically run all the fixtures from other Markdown\n *  implementations.)\n *\n *  ##### Intermediate Representation\n *\n *  *TODO* Talk about this :) Its JsonML, but document the node names we use.\n *\n *  [JsonML]: http://jsonml.org/ \"JSON Markup Language\"\n **/\nvar Markdown = expose.Markdown = function(dialect) {\n  switch (typeof dialect) {\n    case \"undefined\":\n      this.dialect = Markdown.dialects.Gruber;\n      break;\n    case \"object\":\n      this.dialect = dialect;\n      break;\n    default:\n      if ( dialect in Markdown.dialects ) {\n        this.dialect = Markdown.dialects[dialect];\n      }\n      else {\n        throw new Error(\"Unknown Markdown dialect '\" + String(dialect) + \"'\");\n      }\n      break;\n  }\n  this.em_state = [];\n  this.strong_state = [];\n  this.debug_indent = \"\";\n};\n\n/**\n *  parse( markdown, [dialect] ) -> JsonML\n *  - markdown (String): markdown string to parse\n *  - dialect (String | Dialect): the dialect to use, defaults to gruber\n *\n *  Parse `markdown` and return a markdown document as a Markdown.JsonML tree.\n **/\nexpose.parse = function( source, dialect ) {\n  // dialect will default if undefined\n  var md = new Markdown( dialect );\n  return md.toTree( source );\n};\n\n/**\n *  toHTML( markdown, [dialect]  ) -> String\n *  toHTML( md_tree ) -> String\n *  - markdown (String): markdown string to parse\n *  - md_tree (Markdown.JsonML): parsed markdown tree\n *\n *  Take markdown (either as a string or as a JsonML tree) and run it through\n *  [[toHTMLTree]] then turn it into a well-formated HTML fragment.\n **/\nexpose.toHTML = function toHTML( source , dialect , options ) {\n  var input = expose.toHTMLTree( source , dialect , options );\n\n  return expose.renderJsonML( input );\n};\n\n/**\n *  toHTMLTree( markdown, [dialect] ) -> JsonML\n *  toHTMLTree( md_tree ) -> JsonML\n *  - markdown (String): markdown string to parse\n *  - dialect (String | Dialect): the dialect to use, defaults to gruber\n *  - md_tree (Markdown.JsonML): parsed markdown tree\n *\n *  Turn markdown into HTML, represented as a JsonML tree. If a string is given\n *  to this function, it is first parsed into a markdown tree by calling\n *  [[parse]].\n **/\nexpose.toHTMLTree = function toHTMLTree( input, dialect , options ) {\n  // convert string input to an MD tree\n  if ( typeof input ===\"string\" ) input = this.parse( input, dialect );\n\n  // Now convert the MD tree to an HTML tree\n\n  // remove references from the tree\n  var attrs = extract_attr( input ),\n      refs = {};\n\n  if ( attrs && attrs.references ) {\n    refs = attrs.references;\n  }\n\n  var html = convert_tree_to_html( input, refs , options );\n  merge_text_nodes( html );\n  return html;\n};\n\n// For Spidermonkey based engines\nfunction mk_block_toSource() {\n  return \"Markdown.mk_block( \" +\n          uneval(this.toString()) +\n          \", \" +\n          uneval(this.trailing) +\n          \", \" +\n          uneval(this.lineNumber) +\n          \" )\";\n}\n\n// node\nfunction mk_block_inspect() {\n  var util = require(\"util\");\n  return \"Markdown.mk_block( \" +\n          util.inspect(this.toString()) +\n          \", \" +\n          util.inspect(this.trailing) +\n          \", \" +\n          util.inspect(this.lineNumber) +\n          \" )\";\n\n}\n\nvar mk_block = Markdown.mk_block = function(block, trail, line) {\n  // Be helpful for default case in tests.\n  if ( arguments.length == 1 ) trail = \"\\n\\n\";\n\n  var s = new String(block);\n  s.trailing = trail;\n  // To make it clear its not just a string\n  s.inspect = mk_block_inspect;\n  s.toSource = mk_block_toSource;\n\n  if ( line != undefined )\n    s.lineNumber = line;\n\n  return s;\n};\n\nfunction count_lines( str ) {\n  var n = 0, i = -1;\n  while ( ( i = str.indexOf(\"\\n\", i + 1) ) !== -1 ) n++;\n  return n;\n}\n\n// Internal - split source into rough blocks\nMarkdown.prototype.split_blocks = function splitBlocks( input, startLine ) {\n  input = input.replace(/(\\r\\n|\\n|\\r)/g, \"\\n\");\n  // [\\s\\S] matches _anything_ (newline or space)\n  // [^] is equivalent but doesn't work in IEs.\n  var re = /([\\s\\S]+?)($|\\n#|\\n(?:\\s*\\n|$)+)/g,\n      blocks = [],\n      m;\n\n  var line_no = 1;\n\n  if ( ( m = /^(\\s*\\n)/.exec(input) ) != null ) {\n    // skip (but count) leading blank lines\n    line_no += count_lines( m[0] );\n    re.lastIndex = m[0].length;\n  }\n\n  while ( ( m = re.exec(input) ) !== null ) {\n    if (m[2] == \"\\n#\") {\n      m[2] = \"\\n\";\n      re.lastIndex--;\n    }\n    blocks.push( mk_block( m[1], m[2], line_no ) );\n    line_no += count_lines( m[0] );\n  }\n\n  return blocks;\n};\n\n/**\n *  Markdown#processBlock( block, next ) -> undefined | [ JsonML, ... ]\n *  - block (String): the block to process\n *  - next (Array): the following blocks\n *\n * Process `block` and return an array of JsonML nodes representing `block`.\n *\n * It does this by asking each block level function in the dialect to process\n * the block until one can. Succesful handling is indicated by returning an\n * array (with zero or more JsonML nodes), failure by a false value.\n *\n * Blocks handlers are responsible for calling [[Markdown#processInline]]\n * themselves as appropriate.\n *\n * If the blocks were split incorrectly or adjacent blocks need collapsing you\n * can adjust `next` in place using shift/splice etc.\n *\n * If any of this default behaviour is not right for the dialect, you can\n * define a `__call__` method on the dialect that will get invoked to handle\n * the block processing.\n */\nMarkdown.prototype.processBlock = function processBlock( block, next ) {\n  var cbs = this.dialect.block,\n      ord = cbs.__order__;\n\n  if ( \"__call__\" in cbs ) {\n    return cbs.__call__.call(this, block, next);\n  }\n\n  for ( var i = 0; i < ord.length; i++ ) {\n    //D:this.debug( \"Testing\", ord[i] );\n    var res = cbs[ ord[i] ].call( this, block, next );\n    if ( res ) {\n      //D:this.debug(\"  matched\");\n      if ( !isArray(res) || ( res.length > 0 && !( isArray(res[0]) ) ) )\n        this.debug(ord[i], \"didn't return a proper array\");\n      //D:this.debug( \"\" );\n      return res;\n    }\n  }\n\n  // Uhoh! no match! Should we throw an error?\n  return [];\n};\n\nMarkdown.prototype.processInline = function processInline( block ) {\n  return this.dialect.inline.__call__.call( this, String( block ) );\n};\n\n/**\n *  Markdown#toTree( source ) -> JsonML\n *  - source (String): markdown source to parse\n *\n *  Parse `source` into a JsonML tree representing the markdown document.\n **/\n// custom_tree means set this.tree to `custom_tree` and restore old value on return\nMarkdown.prototype.toTree = function toTree( source, custom_root ) {\n  var blocks = source instanceof Array ? source : this.split_blocks( source );\n\n  // Make tree a member variable so its easier to mess with in extensions\n  var old_tree = this.tree;\n  try {\n    this.tree = custom_root || this.tree || [ \"markdown\" ];\n\n    blocks:\n    while ( blocks.length ) {\n      var b = this.processBlock( blocks.shift(), blocks );\n\n      // Reference blocks and the like won't return any content\n      if ( !b.length ) continue blocks;\n\n      this.tree.push.apply( this.tree, b );\n    }\n    return this.tree;\n  }\n  finally {\n    if ( custom_root ) {\n      this.tree = old_tree;\n    }\n  }\n};\n\n// Noop by default\nMarkdown.prototype.debug = function () {\n  var args = Array.prototype.slice.call( arguments);\n  args.unshift(this.debug_indent);\n  if ( typeof print !== \"undefined\" )\n      print.apply( print, args );\n  if ( typeof console !== \"undefined\" && typeof console.log !== \"undefined\" )\n      console.log.apply( null, args );\n}\n\nMarkdown.prototype.loop_re_over_block = function( re, block, cb ) {\n  // Dont use /g regexps with this\n  var m,\n      b = block.valueOf();\n\n  while ( b.length && (m = re.exec(b) ) != null ) {\n    b = b.substr( m[0].length );\n    cb.call(this, m);\n  }\n  return b;\n};\n\n/**\n * Markdown.dialects\n *\n * Namespace of built-in dialects.\n **/\nMarkdown.dialects = {};\n\n/**\n * Markdown.dialects.Gruber\n *\n * The default dialect that follows the rules set out by John Gruber's\n * markdown.pl as closely as possible. Well actually we follow the behaviour of\n * that script which in some places is not exactly what the syntax web page\n * says.\n **/\nMarkdown.dialects.Gruber = {\n  block: {\n    atxHeader: function atxHeader( block, next ) {\n      var m = block.match( /^(#{1,6})\\s*(.*?)\\s*#*\\s*(?:\\n|$)/ );\n\n      if ( !m ) return undefined;\n\n      var header = [ \"header\", { level: m[ 1 ].length } ];\n      Array.prototype.push.apply(header, this.processInline(m[ 2 ]));\n\n      if ( m[0].length < block.length )\n        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );\n\n      return [ header ];\n    },\n\n    setextHeader: function setextHeader( block, next ) {\n      var m = block.match( /^(.*)\\n([-=])\\2\\2+(?:\\n|$)/ );\n\n      if ( !m ) return undefined;\n\n      var level = ( m[ 2 ] === \"=\" ) ? 1 : 2;\n      var header = [ \"header\", { level : level }, m[ 1 ] ];\n\n      if ( m[0].length < block.length )\n        next.unshift( mk_block( block.substr( m[0].length ), block.trailing, block.lineNumber + 2 ) );\n\n      return [ header ];\n    },\n\n    code: function code( block, next ) {\n      // |    Foo\n      // |bar\n      // should be a code block followed by a paragraph. Fun\n      //\n      // There might also be adjacent code block to merge.\n\n      var ret = [],\n          re = /^(?: {0,3}\\t| {4})(.*)\\n?/,\n          lines;\n\n      // 4 spaces + content\n      if ( !block.match( re ) ) return undefined;\n\n      block_search:\n      do {\n        // Now pull out the rest of the lines\n        var b = this.loop_re_over_block(\n                  re, block.valueOf(), function( m ) { ret.push( m[1] ); } );\n\n        if ( b.length ) {\n          // Case alluded to in first comment. push it back on as a new block\n          next.unshift( mk_block(b, block.trailing) );\n          break block_search;\n        }\n        else if ( next.length ) {\n          // Check the next block - it might be code too\n          if ( !next[0].match( re ) ) break block_search;\n\n          // Pull how how many blanks lines follow - minus two to account for .join\n          ret.push ( block.trailing.replace(/[^\\n]/g, \"\").substring(2) );\n\n          block = next.shift();\n        }\n        else {\n          break block_search;\n        }\n      } while ( true );\n\n      return [ [ \"code_block\", ret.join(\"\\n\") ] ];\n    },\n\n    horizRule: function horizRule( block, next ) {\n      // this needs to find any hr in the block to handle abutting blocks\n      var m = block.match( /^(?:([\\s\\S]*?)\\n)?[ \\t]*([-_*])(?:[ \\t]*\\2){2,}[ \\t]*(?:\\n([\\s\\S]*))?$/ );\n\n      if ( !m ) {\n        return undefined;\n      }\n\n      var jsonml = [ [ \"hr\" ] ];\n\n      // if there's a leading abutting block, process it\n      if ( m[ 1 ] ) {\n        jsonml.unshift.apply( jsonml, this.processBlock( m[ 1 ], [] ) );\n      }\n\n      // if there's a trailing abutting block, stick it into next\n      if ( m[ 3 ] ) {\n        next.unshift( mk_block( m[ 3 ] ) );\n      }\n\n      return jsonml;\n    },\n\n    // There are two types of lists. Tight and loose. Tight lists have no whitespace\n    // between the items (and result in text just in the <li>) and loose lists,\n    // which have an empty line between list items, resulting in (one or more)\n    // paragraphs inside the <li>.\n    //\n    // There are all sorts weird edge cases about the original markdown.pl's\n    // handling of lists:\n    //\n    // * Nested lists are supposed to be indented by four chars per level. But\n    //   if they aren't, you can get a nested list by indenting by less than\n    //   four so long as the indent doesn't match an indent of an existing list\n    //   item in the 'nest stack'.\n    //\n    // * The type of the list (bullet or number) is controlled just by the\n    //    first item at the indent. Subsequent changes are ignored unless they\n    //    are for nested lists\n    //\n    lists: (function( ) {\n      // Use a closure to hide a few variables.\n      var any_list = \"[*+-]|\\\\d+\\\\.\",\n          bullet_list = /[*+-]/,\n          number_list = /\\d+\\./,\n          // Capture leading indent as it matters for determining nested lists.\n          is_list_re = new RegExp( \"^( {0,3})(\" + any_list + \")[ \\t]+\" ),\n          indent_re = \"(?: {0,3}\\\\t| {4})\";\n\n      // TODO: Cache this regexp for certain depths.\n      // Create a regexp suitable for matching an li for a given stack depth\n      function regex_for_depth( depth ) {\n\n        return new RegExp(\n          // m[1] = indent, m[2] = list_type\n          \"(?:^(\" + indent_re + \"{0,\" + depth + \"} {0,3})(\" + any_list + \")\\\\s+)|\" +\n          // m[3] = cont\n          \"(^\" + indent_re + \"{0,\" + (depth-1) + \"}[ ]{0,4})\"\n        );\n      }\n      function expand_tab( input ) {\n        return input.replace( / {0,3}\\t/g, \"    \" );\n      }\n\n      // Add inline content `inline` to `li`. inline comes from processInline\n      // so is an array of content\n      function add(li, loose, inline, nl) {\n        if ( loose ) {\n          li.push( [ \"para\" ].concat(inline) );\n          return;\n        }\n        // Hmmm, should this be any block level element or just paras?\n        var add_to = li[li.length -1] instanceof Array && li[li.length - 1][0] == \"para\"\n                   ? li[li.length -1]\n                   : li;\n\n        // If there is already some content in this list, add the new line in\n        if ( nl && li.length > 1 ) inline.unshift(nl);\n\n        for ( var i = 0; i < inline.length; i++ ) {\n          var what = inline[i],\n              is_str = typeof what == \"string\";\n          if ( is_str && add_to.length > 1 && typeof add_to[add_to.length-1] == \"string\" ) {\n            add_to[ add_to.length-1 ] += what;\n          }\n          else {\n            add_to.push( what );\n          }\n        }\n      }\n\n      // contained means have an indent greater than the current one. On\n      // *every* line in the block\n      function get_contained_blocks( depth, blocks ) {\n\n        var re = new RegExp( \"^(\" + indent_re + \"{\" + depth + \"}.*?\\\\n?)*$\" ),\n            replace = new RegExp(\"^\" + indent_re + \"{\" + depth + \"}\", \"gm\"),\n            ret = [];\n\n        while ( blocks.length > 0 ) {\n          if ( re.exec( blocks[0] ) ) {\n            var b = blocks.shift(),\n                // Now remove that indent\n                x = b.replace( replace, \"\");\n\n            ret.push( mk_block( x, b.trailing, b.lineNumber ) );\n          }\n          else {\n            break;\n          }\n        }\n        return ret;\n      }\n\n      // passed to stack.forEach to turn list items up the stack into paras\n      function paragraphify(s, i, stack) {\n        var list = s.list;\n        var last_li = list[list.length-1];\n\n        if ( last_li[1] instanceof Array && last_li[1][0] == \"para\" ) {\n          return;\n        }\n        if ( i + 1 == stack.length ) {\n          // Last stack frame\n          // Keep the same array, but replace the contents\n          last_li.push( [\"para\"].concat( last_li.splice(1, last_li.length - 1) ) );\n        }\n        else {\n          var sublist = last_li.pop();\n          last_li.push( [\"para\"].concat( last_li.splice(1, last_li.length - 1) ), sublist );\n        }\n      }\n\n      // The matcher function\n      return function( block, next ) {\n        var m = block.match( is_list_re );\n        if ( !m ) return undefined;\n\n        function make_list( m ) {\n          var list = bullet_list.exec( m[2] )\n                   ? [\"bulletlist\"]\n                   : [\"numberlist\"];\n\n          stack.push( { list: list, indent: m[1] } );\n          return list;\n        }\n\n\n        var stack = [], // Stack of lists for nesting.\n            list = make_list( m ),\n            last_li,\n            loose = false,\n            ret = [ stack[0].list ],\n            i;\n\n        // Loop to search over block looking for inner block elements and loose lists\n        loose_search:\n        while ( true ) {\n          // Split into lines preserving new lines at end of line\n          var lines = block.split( /(?=\\n)/ );\n\n          // We have to grab all lines for a li and call processInline on them\n          // once as there are some inline things that can span lines.\n          var li_accumulate = \"\";\n\n          // Loop over the lines in this block looking for tight lists.\n          tight_search:\n          for ( var line_no = 0; line_no < lines.length; line_no++ ) {\n            var nl = \"\",\n                l = lines[line_no].replace(/^\\n/, function(n) { nl = n; return \"\"; });\n\n            // TODO: really should cache this\n            var line_re = regex_for_depth( stack.length );\n\n            m = l.match( line_re );\n            //print( \"line:\", uneval(l), \"\\nline match:\", uneval(m) );\n\n            // We have a list item\n            if ( m[1] !== undefined ) {\n              // Process the previous list item, if any\n              if ( li_accumulate.length ) {\n                add( last_li, loose, this.processInline( li_accumulate ), nl );\n                // Loose mode will have been dealt with. Reset it\n                loose = false;\n                li_accumulate = \"\";\n              }\n\n              m[1] = expand_tab( m[1] );\n              var wanted_depth = Math.floor(m[1].length/4)+1;\n              //print( \"want:\", wanted_depth, \"stack:\", stack.length);\n              if ( wanted_depth > stack.length ) {\n                // Deep enough for a nested list outright\n                //print ( \"new nested list\" );\n                list = make_list( m );\n                last_li.push( list );\n                last_li = list[1] = [ \"listitem\" ];\n              }\n              else {\n                // We aren't deep enough to be strictly a new level. This is\n                // where Md.pl goes nuts. If the indent matches a level in the\n                // stack, put it there, else put it one deeper then the\n                // wanted_depth deserves.\n                var found = false;\n                for ( i = 0; i < stack.length; i++ ) {\n                  if ( stack[ i ].indent != m[1] ) continue;\n                  list = stack[ i ].list;\n                  stack.splice( i+1, stack.length - (i+1) );\n                  found = true;\n                  break;\n                }\n\n                if (!found) {\n                  //print(\"not found. l:\", uneval(l));\n                  wanted_depth++;\n                  if ( wanted_depth <= stack.length ) {\n                    stack.splice(wanted_depth, stack.length - wanted_depth);\n                    //print(\"Desired depth now\", wanted_depth, \"stack:\", stack.length);\n                    list = stack[wanted_depth-1].list;\n                    //print(\"list:\", uneval(list) );\n                  }\n                  else {\n                    //print (\"made new stack for messy indent\");\n                    list = make_list(m);\n                    last_li.push(list);\n                  }\n                }\n\n                //print( uneval(list), \"last\", list === stack[stack.length-1].list );\n                last_li = [ \"listitem\" ];\n                list.push(last_li);\n              } // end depth of shenegains\n              nl = \"\";\n            }\n\n            // Add content\n            if ( l.length > m[0].length ) {\n              li_accumulate += nl + l.substr( m[0].length );\n            }\n          } // tight_search\n\n          if ( li_accumulate.length ) {\n            add( last_li, loose, this.processInline( li_accumulate ), nl );\n            // Loose mode will have been dealt with. Reset it\n            loose = false;\n            li_accumulate = \"\";\n          }\n\n          // Look at the next block - we might have a loose list. Or an extra\n          // paragraph for the current li\n          var contained = get_contained_blocks( stack.length, next );\n\n          // Deal with code blocks or properly nested lists\n          if ( contained.length > 0 ) {\n            // Make sure all listitems up the stack are paragraphs\n            forEach( stack, paragraphify, this);\n\n            last_li.push.apply( last_li, this.toTree( contained, [] ) );\n          }\n\n          var next_block = next[0] && next[0].valueOf() || \"\";\n\n          if ( next_block.match(is_list_re) || next_block.match( /^ / ) ) {\n            block = next.shift();\n\n            // Check for an HR following a list: features/lists/hr_abutting\n            var hr = this.dialect.block.horizRule( block, next );\n\n            if ( hr ) {\n              ret.push.apply(ret, hr);\n              break;\n            }\n\n            // Make sure all listitems up the stack are paragraphs\n            forEach( stack, paragraphify, this);\n\n            loose = true;\n            continue loose_search;\n          }\n          break;\n        } // loose_search\n\n        return ret;\n      };\n    })(),\n\n    blockquote: function blockquote( block, next ) {\n      if ( !block.match( /^>/m ) )\n        return undefined;\n\n      var jsonml = [];\n\n      // separate out the leading abutting block, if any. I.e. in this case:\n      //\n      //  a\n      //  > b\n      //\n      if ( block[ 0 ] != \">\" ) {\n        var lines = block.split( /\\n/ ),\n            prev = [],\n            line_no = block.lineNumber;\n\n        // keep shifting lines until you find a crotchet\n        while ( lines.length && lines[ 0 ][ 0 ] != \">\" ) {\n            prev.push( lines.shift() );\n            line_no++;\n        }\n\n        var abutting = mk_block( prev.join( \"\\n\" ), \"\\n\", block.lineNumber );\n        jsonml.push.apply( jsonml, this.processBlock( abutting, [] ) );\n        // reassemble new block of just block quotes!\n        block = mk_block( lines.join( \"\\n\" ), block.trailing, line_no );\n      }\n\n\n      // if the next block is also a blockquote merge it in\n      while ( next.length && next[ 0 ][ 0 ] == \">\" ) {\n        var b = next.shift();\n        block = mk_block( block + block.trailing + b, b.trailing, block.lineNumber );\n      }\n\n      // Strip off the leading \"> \" and re-process as a block.\n      var input = block.replace( /^> ?/gm, \"\" ),\n          old_tree = this.tree,\n          processedBlock = this.toTree( input, [ \"blockquote\" ] ),\n          attr = extract_attr( processedBlock );\n\n      // If any link references were found get rid of them\n      if ( attr && attr.references ) {\n        delete attr.references;\n        // And then remove the attribute object if it's empty\n        if ( isEmpty( attr ) ) {\n          processedBlock.splice( 1, 1 );\n        }\n      }\n\n      jsonml.push( processedBlock );\n      return jsonml;\n    },\n\n    referenceDefn: function referenceDefn( block, next) {\n      var re = /^\\s*\\[(.*?)\\]:\\s*(\\S+)(?:\\s+(?:(['\"])(.*?)\\3|\\((.*?)\\)))?\\n?/;\n      // interesting matches are [ , ref_id, url, , title, title ]\n\n      if ( !block.match(re) )\n        return undefined;\n\n      // make an attribute node if it doesn't exist\n      if ( !extract_attr( this.tree ) ) {\n        this.tree.splice( 1, 0, {} );\n      }\n\n      var attrs = extract_attr( this.tree );\n\n      // make a references hash if it doesn't exist\n      if ( attrs.references === undefined ) {\n        attrs.references = {};\n      }\n\n      var b = this.loop_re_over_block(re, block, function( m ) {\n\n        if ( m[2] && m[2][0] == \"<\" && m[2][m[2].length-1] == \">\" )\n          m[2] = m[2].substring( 1, m[2].length - 1 );\n\n        var ref = attrs.references[ m[1].toLowerCase() ] = {\n          href: m[2]\n        };\n\n        if ( m[4] !== undefined )\n          ref.title = m[4];\n        else if ( m[5] !== undefined )\n          ref.title = m[5];\n\n      } );\n\n      if ( b.length )\n        next.unshift( mk_block( b, block.trailing ) );\n\n      return [];\n    },\n\n    para: function para( block, next ) {\n      // everything's a para!\n      return [ [\"para\"].concat( this.processInline( block ) ) ];\n    }\n  }\n};\n\nMarkdown.dialects.Gruber.inline = {\n\n    __oneElement__: function oneElement( text, patterns_or_re, previous_nodes ) {\n      var m,\n          res,\n          lastIndex = 0;\n\n      patterns_or_re = patterns_or_re || this.dialect.inline.__patterns__;\n      var re = new RegExp( \"([\\\\s\\\\S]*?)(\" + (patterns_or_re.source || patterns_or_re) + \")\" );\n\n      m = re.exec( text );\n      if (!m) {\n        // Just boring text\n        return [ text.length, text ];\n      }\n      else if ( m[1] ) {\n        // Some un-interesting text matched. Return that first\n        return [ m[1].length, m[1] ];\n      }\n\n      var res;\n      if ( m[2] in this.dialect.inline ) {\n        res = this.dialect.inline[ m[2] ].call(\n                  this,\n                  text.substr( m.index ), m, previous_nodes || [] );\n      }\n      // Default for now to make dev easier. just slurp special and output it.\n      res = res || [ m[2].length, m[2] ];\n      return res;\n    },\n\n    __call__: function inline( text, patterns ) {\n\n      var out = [],\n          res;\n\n      function add(x) {\n        //D:self.debug(\"  adding output\", uneval(x));\n        if ( typeof x == \"string\" && typeof out[out.length-1] == \"string\" )\n          out[ out.length-1 ] += x;\n        else\n          out.push(x);\n      }\n\n      while ( text.length > 0 ) {\n        res = this.dialect.inline.__oneElement__.call(this, text, patterns, out );\n        text = text.substr( res.shift() );\n        forEach(res, add )\n      }\n\n      return out;\n    },\n\n    // These characters are intersting elsewhere, so have rules for them so that\n    // chunks of plain text blocks don't include them\n    \"]\": function () {},\n    \"}\": function () {},\n\n    __escape__ : /^\\\\[\\\\`\\*_{}\\[\\]()#\\+.!\\-]/,\n\n    \"\\\\\": function escaped( text ) {\n      // [ length of input processed, node/children to add... ]\n      // Only esacape: \\ ` * _ { } [ ] ( ) # * + - . !\n      if ( this.dialect.inline.__escape__.exec( text ) )\n        return [ 2, text.charAt( 1 ) ];\n      else\n        // Not an esacpe\n        return [ 1, \"\\\\\" ];\n    },\n\n    \"![\": function image( text ) {\n\n      // Unlike images, alt text is plain text only. no other elements are\n      // allowed in there\n\n      // ![Alt text](/path/to/img.jpg \"Optional title\")\n      //      1          2            3       4         <--- captures\n      var m = text.match( /^!\\[(.*?)\\][ \\t]*\\([ \\t]*([^\")]*?)(?:[ \\t]+([\"'])(.*?)\\3)?[ \\t]*\\)/ );\n\n      if ( m ) {\n        if ( m[2] && m[2][0] == \"<\" && m[2][m[2].length-1] == \">\" )\n          m[2] = m[2].substring( 1, m[2].length - 1 );\n\n        m[2] = this.dialect.inline.__call__.call( this, m[2], /\\\\/ )[0];\n\n        var attrs = { alt: m[1], href: m[2] || \"\" };\n        if ( m[4] !== undefined)\n          attrs.title = m[4];\n\n        return [ m[0].length, [ \"img\", attrs ] ];\n      }\n\n      // ![Alt text][id]\n      m = text.match( /^!\\[(.*?)\\][ \\t]*\\[(.*?)\\]/ );\n\n      if ( m ) {\n        // We can't check if the reference is known here as it likely wont be\n        // found till after. Check it in md tree->hmtl tree conversion\n        return [ m[0].length, [ \"img_ref\", { alt: m[1], ref: m[2].toLowerCase(), original: m[0] } ] ];\n      }\n\n      // Just consume the '!['\n      return [ 2, \"![\" ];\n    },\n\n    \"[\": function link( text ) {\n\n      var orig = String(text);\n      // Inline content is possible inside `link text`\n      var res = Markdown.DialectHelpers.inline_until_char.call( this, text.substr(1), \"]\" );\n\n      // No closing ']' found. Just consume the [\n      if ( !res ) return [ 1, \"[\" ];\n\n      var consumed = 1 + res[ 0 ],\n          children = res[ 1 ],\n          link,\n          attrs;\n\n      // At this point the first [...] has been parsed. See what follows to find\n      // out which kind of link we are (reference or direct url)\n      text = text.substr( consumed );\n\n      // [link text](/path/to/img.jpg \"Optional title\")\n      //                 1            2       3         <--- captures\n      // This will capture up to the last paren in the block. We then pull\n      // back based on if there a matching ones in the url\n      //    ([here](/url/(test))\n      // The parens have to be balanced\n      var m = text.match( /^\\s*\\([ \\t]*([^\"']*)(?:[ \\t]+([\"'])(.*?)\\2)?[ \\t]*\\)/ );\n      if ( m ) {\n        var url = m[1];\n        consumed += m[0].length;\n\n        if ( url && url[0] == \"<\" && url[url.length-1] == \">\" )\n          url = url.substring( 1, url.length - 1 );\n\n        // If there is a title we don't have to worry about parens in the url\n        if ( !m[3] ) {\n          var open_parens = 1; // One open that isn't in the capture\n          for ( var len = 0; len < url.length; len++ ) {\n            switch ( url[len] ) {\n            case \"(\":\n              open_parens++;\n              break;\n            case \")\":\n              if ( --open_parens == 0) {\n                consumed -= url.length - len;\n                url = url.substring(0, len);\n              }\n              break;\n            }\n          }\n        }\n\n        // Process escapes only\n        url = this.dialect.inline.__call__.call( this, url, /\\\\/ )[0];\n\n        attrs = { href: url || \"\" };\n        if ( m[3] !== undefined)\n          attrs.title = m[3];\n\n        link = [ \"link\", attrs ].concat( children );\n        return [ consumed, link ];\n      }\n\n      // [Alt text][id]\n      // [Alt text] [id]\n      m = text.match( /^\\s*\\[(.*?)\\]/ );\n\n      if ( m ) {\n\n        consumed += m[ 0 ].length;\n\n        // [links][] uses links as its reference\n        attrs = { ref: ( m[ 1 ] || String(children) ).toLowerCase(),  original: orig.substr( 0, consumed ) };\n\n        link = [ \"link_ref\", attrs ].concat( children );\n\n        // We can't check if the reference is known here as it likely wont be\n        // found till after. Check it in md tree->hmtl tree conversion.\n        // Store the original so that conversion can revert if the ref isn't found.\n        return [ consumed, link ];\n      }\n\n      // [id]\n      // Only if id is plain (no formatting.)\n      if ( children.length == 1 && typeof children[0] == \"string\" ) {\n\n        attrs = { ref: children[0].toLowerCase(),  original: orig.substr( 0, consumed ) };\n        link = [ \"link_ref\", attrs, children[0] ];\n        return [ consumed, link ];\n      }\n\n      // Just consume the \"[\"\n      return [ 1, \"[\" ];\n    },\n\n\n    \"<\": function autoLink( text ) {\n      var m;\n\n      if ( ( m = text.match( /^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\\.[a-zA-Z]+))>/ ) ) != null ) {\n        if ( m[3] ) {\n          return [ m[0].length, [ \"link\", { href: \"mailto:\" + m[3] }, m[3] ] ];\n\n        }\n        else if ( m[2] == \"mailto\" ) {\n          return [ m[0].length, [ \"link\", { href: m[1] }, m[1].substr(\"mailto:\".length ) ] ];\n        }\n        else\n          return [ m[0].length, [ \"link\", { href: m[1] }, m[1] ] ];\n      }\n\n      return [ 1, \"<\" ];\n    },\n\n    \"`\": function inlineCode( text ) {\n      // Inline code block. as many backticks as you like to start it\n      // Always skip over the opening ticks.\n      var m = text.match( /(`+)(([\\s\\S]*?)\\1)/ );\n\n      if ( m && m[2] )\n        return [ m[1].length + m[2].length, [ \"inlinecode\", m[3] ] ];\n      else {\n        // TODO: No matching end code found - warn!\n        return [ 1, \"`\" ];\n      }\n    },\n\n    \"  \\n\": function lineBreak( text ) {\n      return [ 3, [ \"linebreak\" ] ];\n    }\n\n};\n\n// Meta Helper/generator method for em and strong handling\nfunction strong_em( tag, md ) {\n\n  var state_slot = tag + \"_state\",\n      other_slot = tag == \"strong\" ? \"em_state\" : \"strong_state\";\n\n  function CloseTag(len) {\n    this.len_after = len;\n    this.name = \"close_\" + md;\n  }\n\n  return function ( text, orig_match ) {\n\n    if ( this[state_slot][0] == md ) {\n      // Most recent em is of this type\n      //D:this.debug(\"closing\", md);\n      this[state_slot].shift();\n\n      // \"Consume\" everything to go back to the recrusion in the else-block below\n      return[ text.length, new CloseTag(text.length-md.length) ];\n    }\n    else {\n      // Store a clone of the em/strong states\n      var other = this[other_slot].slice(),\n          state = this[state_slot].slice();\n\n      this[state_slot].unshift(md);\n\n      //D:this.debug_indent += \"  \";\n\n      // Recurse\n      var res = this.processInline( text.substr( md.length ) );\n      //D:this.debug_indent = this.debug_indent.substr(2);\n\n      var last = res[res.length - 1];\n\n      //D:this.debug(\"processInline from\", tag + \": \", uneval( res ) );\n\n      var check = this[state_slot].shift();\n      if ( last instanceof CloseTag ) {\n        res.pop();\n        // We matched! Huzzah.\n        var consumed = text.length - last.len_after;\n        return [ consumed, [ tag ].concat(res) ];\n      }\n      else {\n        // Restore the state of the other kind. We might have mistakenly closed it.\n        this[other_slot] = other;\n        this[state_slot] = state;\n\n        // We can't reuse the processed result as it could have wrong parsing contexts in it.\n        return [ md.length, md ];\n      }\n    }\n  }; // End returned function\n}\n\nMarkdown.dialects.Gruber.inline[\"**\"] = strong_em(\"strong\", \"**\");\nMarkdown.dialects.Gruber.inline[\"__\"] = strong_em(\"strong\", \"__\");\nMarkdown.dialects.Gruber.inline[\"*\"]  = strong_em(\"em\", \"*\");\nMarkdown.dialects.Gruber.inline[\"_\"]  = strong_em(\"em\", \"_\");\n\n\n// Build default order from insertion order.\nMarkdown.buildBlockOrder = function(d) {\n  var ord = [];\n  for ( var i in d ) {\n    if ( i == \"__order__\" || i == \"__call__\" ) continue;\n    ord.push( i );\n  }\n  d.__order__ = ord;\n};\n\n// Build patterns for inline matcher\nMarkdown.buildInlinePatterns = function(d) {\n  var patterns = [];\n\n  for ( var i in d ) {\n    // __foo__ is reserved and not a pattern\n    if ( i.match( /^__.*__$/) ) continue;\n    var l = i.replace( /([\\\\.*+?|()\\[\\]{}])/g, \"\\\\$1\" )\n             .replace( /\\n/, \"\\\\n\" );\n    patterns.push( i.length == 1 ? l : \"(?:\" + l + \")\" );\n  }\n\n  patterns = patterns.join(\"|\");\n  d.__patterns__ = patterns;\n  //print(\"patterns:\", uneval( patterns ) );\n\n  var fn = d.__call__;\n  d.__call__ = function(text, pattern) {\n    if ( pattern != undefined ) {\n      return fn.call(this, text, pattern);\n    }\n    else\n    {\n      return fn.call(this, text, patterns);\n    }\n  };\n};\n\nMarkdown.DialectHelpers = {};\nMarkdown.DialectHelpers.inline_until_char = function( text, want ) {\n  var consumed = 0,\n      nodes = [];\n\n  while ( true ) {\n    if ( text.charAt( consumed ) == want ) {\n      // Found the character we were looking for\n      consumed++;\n      return [ consumed, nodes ];\n    }\n\n    if ( consumed >= text.length ) {\n      // No closing char found. Abort.\n      return null;\n    }\n\n    var res = this.dialect.inline.__oneElement__.call(this, text.substr( consumed ) );\n    consumed += res[ 0 ];\n    // Add any returned nodes.\n    nodes.push.apply( nodes, res.slice( 1 ) );\n  }\n}\n\n// Helper function to make sub-classing a dialect easier\nMarkdown.subclassDialect = function( d ) {\n  function Block() {}\n  Block.prototype = d.block;\n  function Inline() {}\n  Inline.prototype = d.inline;\n\n  return { block: new Block(), inline: new Inline() };\n};\n\nMarkdown.buildBlockOrder ( Markdown.dialects.Gruber.block );\nMarkdown.buildInlinePatterns( Markdown.dialects.Gruber.inline );\n\nMarkdown.dialects.Maruku = Markdown.subclassDialect( Markdown.dialects.Gruber );\n\nMarkdown.dialects.Maruku.processMetaHash = function processMetaHash( meta_string ) {\n  var meta = split_meta_hash( meta_string ),\n      attr = {};\n\n  for ( var i = 0; i < meta.length; ++i ) {\n    // id: #foo\n    if ( /^#/.test( meta[ i ] ) ) {\n      attr.id = meta[ i ].substring( 1 );\n    }\n    // class: .foo\n    else if ( /^\\./.test( meta[ i ] ) ) {\n      // if class already exists, append the new one\n      if ( attr[\"class\"] ) {\n        attr[\"class\"] = attr[\"class\"] + meta[ i ].replace( /./, \" \" );\n      }\n      else {\n        attr[\"class\"] = meta[ i ].substring( 1 );\n      }\n    }\n    // attribute: foo=bar\n    else if ( /\\=/.test( meta[ i ] ) ) {\n      var s = meta[ i ].split( /\\=/ );\n      attr[ s[ 0 ] ] = s[ 1 ];\n    }\n  }\n\n  return attr;\n}\n\nfunction split_meta_hash( meta_string ) {\n  var meta = meta_string.split( \"\" ),\n      parts = [ \"\" ],\n      in_quotes = false;\n\n  while ( meta.length ) {\n    var letter = meta.shift();\n    switch ( letter ) {\n      case \" \" :\n        // if we're in a quoted section, keep it\n        if ( in_quotes ) {\n          parts[ parts.length - 1 ] += letter;\n        }\n        // otherwise make a new part\n        else {\n          parts.push( \"\" );\n        }\n        break;\n      case \"'\" :\n      case '\"' :\n        // reverse the quotes and move straight on\n        in_quotes = !in_quotes;\n        break;\n      case \"\\\\\" :\n        // shift off the next letter to be used straight away.\n        // it was escaped so we'll keep it whatever it is\n        letter = meta.shift();\n      default :\n        parts[ parts.length - 1 ] += letter;\n        break;\n    }\n  }\n\n  return parts;\n}\n\nMarkdown.dialects.Maruku.block.document_meta = function document_meta( block, next ) {\n  // we're only interested in the first block\n  if ( block.lineNumber > 1 ) return undefined;\n\n  // document_meta blocks consist of one or more lines of `Key: Value\\n`\n  if ( ! block.match( /^(?:\\w+:.*\\n)*\\w+:.*$/ ) ) return undefined;\n\n  // make an attribute node if it doesn't exist\n  if ( !extract_attr( this.tree ) ) {\n    this.tree.splice( 1, 0, {} );\n  }\n\n  var pairs = block.split( /\\n/ );\n  for ( p in pairs ) {\n    var m = pairs[ p ].match( /(\\w+):\\s*(.*)$/ ),\n        key = m[ 1 ].toLowerCase(),\n        value = m[ 2 ];\n\n    this.tree[ 1 ][ key ] = value;\n  }\n\n  // document_meta produces no content!\n  return [];\n};\n\nMarkdown.dialects.Maruku.block.block_meta = function block_meta( block, next ) {\n  // check if the last line of the block is an meta hash\n  var m = block.match( /(^|\\n) {0,3}\\{:\\s*((?:\\\\\\}|[^\\}])*)\\s*\\}$/ );\n  if ( !m ) return undefined;\n\n  // process the meta hash\n  var attr = this.dialect.processMetaHash( m[ 2 ] );\n\n  var hash;\n\n  // if we matched ^ then we need to apply meta to the previous block\n  if ( m[ 1 ] === \"\" ) {\n    var node = this.tree[ this.tree.length - 1 ];\n    hash = extract_attr( node );\n\n    // if the node is a string (rather than JsonML), bail\n    if ( typeof node === \"string\" ) return undefined;\n\n    // create the attribute hash if it doesn't exist\n    if ( !hash ) {\n      hash = {};\n      node.splice( 1, 0, hash );\n    }\n\n    // add the attributes in\n    for ( a in attr ) {\n      hash[ a ] = attr[ a ];\n    }\n\n    // return nothing so the meta hash is removed\n    return [];\n  }\n\n  // pull the meta hash off the block and process what's left\n  var b = block.replace( /\\n.*$/, \"\" ),\n      result = this.processBlock( b, [] );\n\n  // get or make the attributes hash\n  hash = extract_attr( result[ 0 ] );\n  if ( !hash ) {\n    hash = {};\n    result[ 0 ].splice( 1, 0, hash );\n  }\n\n  // attach the attributes to the block\n  for ( a in attr ) {\n    hash[ a ] = attr[ a ];\n  }\n\n  return result;\n};\n\nMarkdown.dialects.Maruku.block.definition_list = function definition_list( block, next ) {\n  // one or more terms followed by one or more definitions, in a single block\n  var tight = /^((?:[^\\s:].*\\n)+):\\s+([\\s\\S]+)$/,\n      list = [ \"dl\" ],\n      i, m;\n\n  // see if we're dealing with a tight or loose block\n  if ( ( m = block.match( tight ) ) ) {\n    // pull subsequent tight DL blocks out of `next`\n    var blocks = [ block ];\n    while ( next.length && tight.exec( next[ 0 ] ) ) {\n      blocks.push( next.shift() );\n    }\n\n    for ( var b = 0; b < blocks.length; ++b ) {\n      var m = blocks[ b ].match( tight ),\n          terms = m[ 1 ].replace( /\\n$/, \"\" ).split( /\\n/ ),\n          defns = m[ 2 ].split( /\\n:\\s+/ );\n\n      // print( uneval( m ) );\n\n      for ( i = 0; i < terms.length; ++i ) {\n        list.push( [ \"dt\", terms[ i ] ] );\n      }\n\n      for ( i = 0; i < defns.length; ++i ) {\n        // run inline processing over the definition\n        list.push( [ \"dd\" ].concat( this.processInline( defns[ i ].replace( /(\\n)\\s+/, \"$1\" ) ) ) );\n      }\n    }\n  }\n  else {\n    return undefined;\n  }\n\n  return [ list ];\n};\n\n// splits on unescaped instances of @ch. If @ch is not a character the result\n// can be unpredictable\n\nMarkdown.dialects.Maruku.block.table = function table (block, next) {\n\n    var _split_on_unescaped = function(s, ch) {\n        ch = ch || '\\\\s';\n        if (ch.match(/^[\\\\|\\[\\]{}?*.+^$]$/)) { ch = '\\\\' + ch; }\n        var res = [ ],\n            r = new RegExp('^((?:\\\\\\\\.|[^\\\\\\\\' + ch + '])*)' + ch + '(.*)'),\n            m;\n        while(m = s.match(r)) {\n            res.push(m[1]);\n            s = m[2];\n        }\n        res.push(s);\n        return res;\n    }\n\n    var leading_pipe = /^ {0,3}\\|(.+)\\n {0,3}\\|\\s*([\\-:]+[\\-| :]*)\\n((?:\\s*\\|.*(?:\\n|$))*)(?=\\n|$)/,\n        // find at least an unescaped pipe in each line\n        no_leading_pipe = /^ {0,3}(\\S(?:\\\\.|[^\\\\|])*\\|.*)\\n {0,3}([\\-:]+\\s*\\|[\\-| :]*)\\n((?:(?:\\\\.|[^\\\\|])*\\|.*(?:\\n|$))*)(?=\\n|$)/,\n        i, m;\n    if (m = block.match(leading_pipe)) {\n        // remove leading pipes in contents\n        // (header and horizontal rule already have the leading pipe left out)\n        m[3] = m[3].replace(/^\\s*\\|/gm, '');\n    } else if (! ( m = block.match(no_leading_pipe))) {\n        return undefined;\n    }\n\n    var table = [ \"table\", [ \"thead\", [ \"tr\" ] ], [ \"tbody\" ] ];\n\n    // remove trailing pipes, then split on pipes\n    // (no escaped pipes are allowed in horizontal rule)\n    m[2] = m[2].replace(/\\|\\s*$/, '').split('|');\n\n    // process alignment\n    var html_attrs = [ ];\n    forEach (m[2], function (s) {\n        if (s.match(/^\\s*-+:\\s*$/))       html_attrs.push({align: \"right\"});\n        else if (s.match(/^\\s*:-+\\s*$/))  html_attrs.push({align: \"left\"});\n        else if (s.match(/^\\s*:-+:\\s*$/)) html_attrs.push({align: \"center\"});\n        else                              html_attrs.push({});\n    });\n\n    // now for the header, avoid escaped pipes\n    m[1] = _split_on_unescaped(m[1].replace(/\\|\\s*$/, ''), '|');\n    for (i = 0; i < m[1].length; i++) {\n        table[1][1].push(['th', html_attrs[i] || {}].concat(\n            this.processInline(m[1][i].trim())));\n    }\n\n    // now for body contents\n    forEach (m[3].replace(/\\|\\s*$/mg, '').split('\\n'), function (row) {\n        var html_row = ['tr'];\n        row = _split_on_unescaped(row, '|');\n        for (i = 0; i < row.length; i++) {\n            html_row.push(['td', html_attrs[i] || {}].concat(this.processInline(row[i].trim())));\n        }\n        table[2].push(html_row);\n    }, this);\n\n    return [table];\n}\n\nMarkdown.dialects.Maruku.inline[ \"{:\" ] = function inline_meta( text, matches, out ) {\n  if ( !out.length ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // get the preceeding element\n  var before = out[ out.length - 1 ];\n\n  if ( typeof before === \"string\" ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // match a meta hash\n  var m = text.match( /^\\{:\\s*((?:\\\\\\}|[^\\}])*)\\s*\\}/ );\n\n  // no match, false alarm\n  if ( !m ) {\n    return [ 2, \"{:\" ];\n  }\n\n  // attach the attributes to the preceeding element\n  var meta = this.dialect.processMetaHash( m[ 1 ] ),\n      attr = extract_attr( before );\n\n  if ( !attr ) {\n    attr = {};\n    before.splice( 1, 0, attr );\n  }\n\n  for ( var k in meta ) {\n    attr[ k ] = meta[ k ];\n  }\n\n  // cut out the string and replace it with nothing\n  return [ m[ 0 ].length, \"\" ];\n};\n\nMarkdown.dialects.Maruku.inline.__escape__ = /^\\\\[\\\\`\\*_{}\\[\\]()#\\+.!\\-|:]/;\n\nMarkdown.buildBlockOrder ( Markdown.dialects.Maruku.block );\nMarkdown.buildInlinePatterns( Markdown.dialects.Maruku.inline );\n\nvar isArray = Array.isArray || function(obj) {\n  return Object.prototype.toString.call(obj) == \"[object Array]\";\n};\n\nvar forEach;\n// Don't mess with Array.prototype. Its not friendly\nif ( Array.prototype.forEach ) {\n  forEach = function( arr, cb, thisp ) {\n    return arr.forEach( cb, thisp );\n  };\n}\nelse {\n  forEach = function(arr, cb, thisp) {\n    for (var i = 0; i < arr.length; i++) {\n      cb.call(thisp || arr, arr[i], i, arr);\n    }\n  }\n}\n\nvar isEmpty = function( obj ) {\n  for ( var key in obj ) {\n    if ( hasOwnProperty.call( obj, key ) ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction extract_attr( jsonml ) {\n  return isArray(jsonml)\n      && jsonml.length > 1\n      && typeof jsonml[ 1 ] === \"object\"\n      && !( isArray(jsonml[ 1 ]) )\n      ? jsonml[ 1 ]\n      : undefined;\n}\n\n\n\n/**\n *  renderJsonML( jsonml[, options] ) -> String\n *  - jsonml (Array): JsonML array to render to XML\n *  - options (Object): options\n *\n *  Converts the given JsonML into well-formed XML.\n *\n *  The options currently understood are:\n *\n *  - root (Boolean): wether or not the root node should be included in the\n *    output, or just its children. The default `false` is to not include the\n *    root itself.\n */\nexpose.renderJsonML = function( jsonml, options ) {\n  options = options || {};\n  // include the root element in the rendered output?\n  options.root = options.root || false;\n\n  var content = [];\n\n  if ( options.root ) {\n    content.push( render_tree( jsonml ) );\n  }\n  else {\n    jsonml.shift(); // get rid of the tag\n    if ( jsonml.length && typeof jsonml[ 0 ] === \"object\" && !( jsonml[ 0 ] instanceof Array ) ) {\n      jsonml.shift(); // get rid of the attributes\n    }\n\n    while ( jsonml.length ) {\n      content.push( render_tree( jsonml.shift() ) );\n    }\n  }\n\n  return content.join( \"\\n\\n\" );\n};\n\nfunction escapeHTML( text ) {\n  return text.replace( /&/g, \"&amp;\" )\n             .replace( /</g, \"&lt;\" )\n             .replace( />/g, \"&gt;\" )\n             .replace( /\"/g, \"&quot;\" )\n             .replace( /'/g, \"&#39;\" );\n}\n\nfunction render_tree( jsonml ) {\n  // basic case\n  if ( typeof jsonml === \"string\" ) {\n    return escapeHTML( jsonml );\n  }\n\n  var tag = jsonml.shift(),\n      attributes = {},\n      content = [];\n\n  if ( jsonml.length && typeof jsonml[ 0 ] === \"object\" && !( jsonml[ 0 ] instanceof Array ) ) {\n    attributes = jsonml.shift();\n  }\n\n  while ( jsonml.length ) {\n    content.push( render_tree( jsonml.shift() ) );\n  }\n\n  var tag_attrs = \"\";\n  for ( var a in attributes ) {\n    tag_attrs += \" \" + a + '=\"' + escapeHTML( attributes[ a ] ) + '\"';\n  }\n\n  // be careful about adding whitespace here for inline elements\n  if ( tag == \"img\" || tag == \"br\" || tag == \"hr\" ) {\n    return \"<\"+ tag + tag_attrs + \"/>\";\n  }\n  else {\n    return \"<\"+ tag + tag_attrs + \">\" + content.join( \"\" ) + \"</\" + tag + \">\";\n  }\n}\n\nfunction convert_tree_to_html( tree, references, options ) {\n  var i;\n  options = options || {};\n\n  // shallow clone\n  var jsonml = tree.slice( 0 );\n\n  if ( typeof options.preprocessTreeNode === \"function\" ) {\n      jsonml = options.preprocessTreeNode(jsonml, references);\n  }\n\n  // Clone attributes if they exist\n  var attrs = extract_attr( jsonml );\n  if ( attrs ) {\n    jsonml[ 1 ] = {};\n    for ( i in attrs ) {\n      jsonml[ 1 ][ i ] = attrs[ i ];\n    }\n    attrs = jsonml[ 1 ];\n  }\n\n  // basic case\n  if ( typeof jsonml === \"string\" ) {\n    return jsonml;\n  }\n\n  // convert this node\n  switch ( jsonml[ 0 ] ) {\n    case \"header\":\n      jsonml[ 0 ] = \"h\" + jsonml[ 1 ].level;\n      delete jsonml[ 1 ].level;\n      break;\n    case \"bulletlist\":\n      jsonml[ 0 ] = \"ul\";\n      break;\n    case \"numberlist\":\n      jsonml[ 0 ] = \"ol\";\n      break;\n    case \"listitem\":\n      jsonml[ 0 ] = \"li\";\n      break;\n    case \"para\":\n      jsonml[ 0 ] = \"p\";\n      break;\n    case \"markdown\":\n      jsonml[ 0 ] = \"html\";\n      if ( attrs ) delete attrs.references;\n      break;\n    case \"code_block\":\n      jsonml[ 0 ] = \"pre\";\n      i = attrs ? 2 : 1;\n      var code = [ \"code\" ];\n      code.push.apply( code, jsonml.splice( i, jsonml.length - i ) );\n      jsonml[ i ] = code;\n      break;\n    case \"inlinecode\":\n      jsonml[ 0 ] = \"code\";\n      break;\n    case \"img\":\n      jsonml[ 1 ].src = jsonml[ 1 ].href;\n      delete jsonml[ 1 ].href;\n      break;\n    case \"linebreak\":\n      jsonml[ 0 ] = \"br\";\n    break;\n    case \"link\":\n      jsonml[ 0 ] = \"a\";\n      break;\n    case \"link_ref\":\n      jsonml[ 0 ] = \"a\";\n\n      // grab this ref and clean up the attribute node\n      var ref = references[ attrs.ref ];\n\n      // if the reference exists, make the link\n      if ( ref ) {\n        delete attrs.ref;\n\n        // add in the href and title, if present\n        attrs.href = ref.href;\n        if ( ref.title ) {\n          attrs.title = ref.title;\n        }\n\n        // get rid of the unneeded original text\n        delete attrs.original;\n      }\n      // the reference doesn't exist, so revert to plain text\n      else {\n        return attrs.original;\n      }\n      break;\n    case \"img_ref\":\n      jsonml[ 0 ] = \"img\";\n\n      // grab this ref and clean up the attribute node\n      var ref = references[ attrs.ref ];\n\n      // if the reference exists, make the link\n      if ( ref ) {\n        delete attrs.ref;\n\n        // add in the href and title, if present\n        attrs.src = ref.href;\n        if ( ref.title ) {\n          attrs.title = ref.title;\n        }\n\n        // get rid of the unneeded original text\n        delete attrs.original;\n      }\n      // the reference doesn't exist, so revert to plain text\n      else {\n        return attrs.original;\n      }\n      break;\n  }\n\n  // convert all the children\n  i = 1;\n\n  // deal with the attribute node, if it exists\n  if ( attrs ) {\n    // if there are keys, skip over it\n    for ( var key in jsonml[ 1 ] ) {\n        i = 2;\n        break;\n    }\n    // if there aren't, remove it\n    if ( i === 1 ) {\n      jsonml.splice( i, 1 );\n    }\n  }\n\n  for ( ; i < jsonml.length; ++i ) {\n    jsonml[ i ] = convert_tree_to_html( jsonml[ i ], references, options );\n  }\n\n  return jsonml;\n}\n\n\n// merges adjacent text nodes into a single node\nfunction merge_text_nodes( jsonml ) {\n  // skip the tag name and attribute hash\n  var i = extract_attr( jsonml ) ? 2 : 1;\n\n  while ( i < jsonml.length ) {\n    // if it's a string check the next item too\n    if ( typeof jsonml[ i ] === \"string\" ) {\n      if ( i + 1 < jsonml.length && typeof jsonml[ i + 1 ] === \"string\" ) {\n        // merge the second string into the first and remove it\n        jsonml[ i ] += jsonml.splice( i + 1, 1 )[ 0 ];\n      }\n      else {\n        ++i;\n      }\n    }\n    // if it's not a string recurse\n    else {\n      merge_text_nodes( jsonml[ i ] );\n      ++i;\n    }\n  }\n}\n\n} )( (function() {\n  if ( typeof exports === \"undefined\" ) {\n    window.markdown = {};\n    return window.markdown;\n  }\n  else {\n    return exports;\n  }\n} )() );\n","//     Backbone.Model File Upload v0.5.3\n//     by Joe Vu - joe.vu@homeslicesolutions.com\n//     For all details and documentation:\n//     https://github.com/homeslicesolutions/backbone-model-file-upload\n//     Contributors:\n//       lutherism - Alex Jansen - alex.openrobot.net\n//       bildja - Dima Bildin - github.com/bildja\n//       Minjung - Alejandro - github.com/Minjung\n\n(function(root, factory) {\n\n  // AMD\n  if (typeof define === 'function' && define.amd) {\n    define(['underscore', 'jquery', 'backbone'], function(_, $, Backbone){\n      factory(root, Backbone, _, $);\n    });\n\n  // NodeJS/CommonJS\n  } else if (typeof exports !== 'undefined') {\n    var _ = require('underscore'), $ = require('jquery-cdb-v3'), Backbone = require('backbone-cdb-v3');\n    factory(root, _, $, Backbone);\n\n  // Browser global\n  } else {\n    factory(root, root.Backbone, root._, root.$);\n  }\n\n}(this, function(root, Backbone, _, $) {\n  'use strict';\n\n  // Clone the original Backbone.Model.prototype as superClass\n  var _superClass = _.clone( Backbone.Model.prototype );\n\n  // Extending out\n  var BackboneModelFileUpload = Backbone.Model.extend({\n\n    // ! Default file attribute - can be overwritten\n    fileAttribute: 'file',\n\n    // @ Save - overwritten\n    save: function(key, val, options) {\n\n      // Variables\n      var attrs, attributes = this.attributes;\n\n      // Signature parsing - taken directly from original Backbone.Model.save\n      // and it states: 'Handle both \"key\", value and {key: value} -style arguments.'\n      if (key == null || typeof key === 'object') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      // Validate & wait options - taken directly from original Backbone.Model.save\n      options = _.extend({validate: true}, options);\n      if (attrs && !options.wait) {\n        if (!this.set(attrs, options)) return false;\n      } else {\n        if (!this._validate(attrs, options)) return false;\n      }\n\n      // Merge data temporarily for formdata\n      var mergedAttrs = _.extend({}, attributes, attrs);\n\n      if (attrs && options.wait) {\n        this.attributes = mergedAttrs;\n      }\n\n      // Check for \"formData\" flag and check for if file exist.\n      if ( options.formData === true\n        || options.formData !== false\n        && mergedAttrs[ this.fileAttribute ]\n        && mergedAttrs[ this.fileAttribute ] instanceof File\n        || mergedAttrs[ this.fileAttribute ] instanceof FileList\n        || mergedAttrs[ this.fileAttribute ] instanceof Blob ) {\n\n        // Flatten Attributes reapplying File Object\n        var formAttrs = _.clone( mergedAttrs ),\n          fileAttr = mergedAttrs[ this.fileAttribute ];\n        formAttrs = Backbone.Model.prototype._flatten( formAttrs );\n        formAttrs[ this.fileAttribute ] = fileAttr;\n\n        // Converting Attributes to Form Data\n        var formData = new FormData();\n        _.each( formAttrs, function( value, key ){\n          if (value instanceof FileList) {\n            _.each(value, function(file) {\n              formData.append( key, file );\n            });\n            return;\n          }\n          formData.append( key, value );\n        });\n\n        // Set options for AJAX call\n        options.data = formData;\n        options.processData = false;\n        options.contentType = false;\n\n        // Apply custom XHR for processing status & listen to \"progress\"\n        var that = this;\n        options.xhr = function() {\n          var xhr = $.ajaxSettings.xhr();\n          xhr.upload.addEventListener('progress', that._progressHandler.bind(that), false);\n          return xhr;\n        }\n      }\n\n      // Resume back to original state\n      if (attrs && options.wait) this.attributes = attributes;\n\n      // Continue to call the existing \"save\" method\n      return _superClass.save.call(this, attrs, options);\n\n    },\n\n    // _ FlattenObject gist by \"penguinboy\".  Thank You!\n    // https://gist.github.com/penguinboy/762197\n    _flatten: function( obj ) {\n      var output = {};\n      for (var i in obj) {\n        if (!obj.hasOwnProperty(i)) continue;\n        if (typeof obj[i] == 'object') {\n          var flatObject = this._flatten(obj[i]);\n          for (var x in flatObject) {\n            if (!flatObject.hasOwnProperty(x)) continue;\n            output[i + '.' + x] = flatObject[x];\n          }\n        } else {\n          output[i] = obj[i];\n        }\n      }\n      return output;\n\n    },\n\n    // _ Get the Progress of the uploading file\n    _progressHandler: function( event ) {\n      if (event.lengthComputable) {\n        var percentComplete = event.loaded / event.total;\n        this.trigger( 'progress', percentComplete );\n      }\n    }\n  });\n\n  // Export out to override Backbone Model\n  Backbone.Model = BackboneModelFileUpload;\n\n}));","/**\r\n *\r\n * Date picker\r\n * Author: Stefan Petre www.eyecon.ro\r\n * \r\n * Dual licensed under the MIT and GPL licenses\r\n * \r\n */\r\n(function ($) {\r\n\tvar DatePicker = function () {\r\n\t\tvar\tids = {},\r\n\t\t\tviews = {\r\n\t\t\t\tyears: 'datepickerViewYears',\r\n\t\t\t\tmoths: 'datepickerViewMonths',\r\n\t\t\t\tdays: 'datepickerViewDays'\r\n\t\t\t},\r\n\t\t\ttpl = {\r\n\t\t\t\twrapper: '<div class=\"datepicker\"><div class=\"datepickerBorderT\" /><div class=\"datepickerBorderB\" /><div class=\"datepickerBorderL\" /><div class=\"datepickerBorderR\" /><div class=\"datepickerBorderTL\" /><div class=\"datepickerBorderTR\" /><div class=\"datepickerBorderBL\" /><div class=\"datepickerBorderBR\" /><div class=\"datepickerContainer\"><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr></tr></tbody></table></div></div>',\r\n\t\t\t\thead: [\r\n\t\t\t\t\t'<td>',\r\n\t\t\t\t\t'<table cellspacing=\"0\" cellpadding=\"0\">',\r\n\t\t\t\t\t\t'<thead>',\r\n\t\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t\t'<th class=\"datepickerGoPrev\"><a href=\"#\"><span><%=prev%></span></a></th>',\r\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"datepickerMonth\"><a href=\"#\"><span></span></a></th>',\r\n\t\t\t\t\t\t\t\t'<th class=\"datepickerGoNext\"><a href=\"#\"><span><%=next%></span></a></th>',\r\n\t\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t\t'<tr class=\"datepickerDoW\">',\r\n\t\t\t\t\t\t\t\t'<th><span><%=week%></span></th>',\r\n\t\t\t\t\t\t\t\t'<th><span><%=day1%></span></th>',\r\n\t\t\t\t\t\t\t\t'<th><span><%=day2%></span></th>',\r\n\t\t\t\t\t\t\t\t'<th><span><%=day3%></span></th>',\r\n\t\t\t\t\t\t\t\t'<th><span><%=day4%></span></th>',\r\n\t\t\t\t\t\t\t\t'<th><span><%=day5%></span></th>',\r\n\t\t\t\t\t\t\t\t'<th><span><%=day6%></span></th>',\r\n\t\t\t\t\t\t\t\t'<th><span><%=day7%></span></th>',\r\n\t\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'</thead>',\r\n\t\t\t\t\t'</table></td>'\r\n\t\t\t\t],\r\n\t\t\t\tspace : '<td class=\"datepickerSpace\"><div></div></td>',\r\n\t\t\t\tdays: [\r\n\t\t\t\t\t'<tbody class=\"datepickerDays\">',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<th class=\"datepickerWeek\"><a href=\"#\"><span><%=weeks[0].week%></span></a></th>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[0].classname%>\"><a href=\"#\"><span><%=weeks[0].days[0].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[1].classname%>\"><a href=\"#\"><span><%=weeks[0].days[1].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[2].classname%>\"><a href=\"#\"><span><%=weeks[0].days[2].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[3].classname%>\"><a href=\"#\"><span><%=weeks[0].days[3].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[4].classname%>\"><a href=\"#\"><span><%=weeks[0].days[4].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[5].classname%>\"><a href=\"#\"><span><%=weeks[0].days[5].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[6].classname%>\"><a href=\"#\"><span><%=weeks[0].days[6].text%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<th class=\"datepickerWeek\"><a href=\"#\"><span><%=weeks[1].week%></span></a></th>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[0].classname%>\"><a href=\"#\"><span><%=weeks[1].days[0].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[1].classname%>\"><a href=\"#\"><span><%=weeks[1].days[1].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[2].classname%>\"><a href=\"#\"><span><%=weeks[1].days[2].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[3].classname%>\"><a href=\"#\"><span><%=weeks[1].days[3].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[4].classname%>\"><a href=\"#\"><span><%=weeks[1].days[4].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[5].classname%>\"><a href=\"#\"><span><%=weeks[1].days[5].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[6].classname%>\"><a href=\"#\"><span><%=weeks[1].days[6].text%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<th class=\"datepickerWeek\"><a href=\"#\"><span><%=weeks[2].week%></span></a></th>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[0].classname%>\"><a href=\"#\"><span><%=weeks[2].days[0].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[1].classname%>\"><a href=\"#\"><span><%=weeks[2].days[1].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[2].classname%>\"><a href=\"#\"><span><%=weeks[2].days[2].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[3].classname%>\"><a href=\"#\"><span><%=weeks[2].days[3].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[4].classname%>\"><a href=\"#\"><span><%=weeks[2].days[4].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[5].classname%>\"><a href=\"#\"><span><%=weeks[2].days[5].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[6].classname%>\"><a href=\"#\"><span><%=weeks[2].days[6].text%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<th class=\"datepickerWeek\"><a href=\"#\"><span><%=weeks[3].week%></span></a></th>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[0].classname%>\"><a href=\"#\"><span><%=weeks[3].days[0].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[1].classname%>\"><a href=\"#\"><span><%=weeks[3].days[1].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[2].classname%>\"><a href=\"#\"><span><%=weeks[3].days[2].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[3].classname%>\"><a href=\"#\"><span><%=weeks[3].days[3].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[4].classname%>\"><a href=\"#\"><span><%=weeks[3].days[4].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[5].classname%>\"><a href=\"#\"><span><%=weeks[3].days[5].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[6].classname%>\"><a href=\"#\"><span><%=weeks[3].days[6].text%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<th class=\"datepickerWeek\"><a href=\"#\"><span><%=weeks[4].week%></span></a></th>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[0].classname%>\"><a href=\"#\"><span><%=weeks[4].days[0].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[1].classname%>\"><a href=\"#\"><span><%=weeks[4].days[1].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[2].classname%>\"><a href=\"#\"><span><%=weeks[4].days[2].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[3].classname%>\"><a href=\"#\"><span><%=weeks[4].days[3].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[4].classname%>\"><a href=\"#\"><span><%=weeks[4].days[4].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[5].classname%>\"><a href=\"#\"><span><%=weeks[4].days[5].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[6].classname%>\"><a href=\"#\"><span><%=weeks[4].days[6].text%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<th class=\"datepickerWeek\"><a href=\"#\"><span><%=weeks[5].week%></span></a></th>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[0].classname%>\"><a href=\"#\"><span><%=weeks[5].days[0].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[1].classname%>\"><a href=\"#\"><span><%=weeks[5].days[1].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[2].classname%>\"><a href=\"#\"><span><%=weeks[5].days[2].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[3].classname%>\"><a href=\"#\"><span><%=weeks[5].days[3].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[4].classname%>\"><a href=\"#\"><span><%=weeks[5].days[4].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[5].classname%>\"><a href=\"#\"><span><%=weeks[5].days[5].text%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[6].classname%>\"><a href=\"#\"><span><%=weeks[5].days[6].text%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t'</tbody>'\r\n\t\t\t\t],\r\n\t\t\t\tmonths: [\r\n\t\t\t\t\t'<tbody class=\"<%=className%>\">',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[0]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[1]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[2]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[3]%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[4]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[5]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[6]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[7]%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t\t'<tr>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[8]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[9]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[10]%></span></a></td>',\r\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[11]%></span></a></td>',\r\n\t\t\t\t\t\t'</tr>',\r\n\t\t\t\t\t'</tbody>'\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tdefaults = {\r\n\t\t\t\tflat: false,\r\n\t\t\t\tstarts: 1,\r\n\t\t\t\tprev: '&#9664;',\r\n\t\t\t\tnext: '&#9654;',\r\n\t\t\t\tlastSel: false,\r\n\t\t\t\tmode: 'single',\r\n\t\t\t\tview: 'days',\r\n\t\t\t\tcalendars: 1,\r\n\t\t\t\tformat: 'Y-m-d',\r\n\t\t\t\tposition: 'bottom',\r\n\t\t\t\teventName: 'click',\r\n\t\t\t\tonRender: function(){return {};},\r\n\t\t\t\tonChange: function(){return true;},\r\n\t\t\t\tonShow: function(){return true;},\r\n\t\t\t\tonBeforeShow: function(){return true;},\r\n\t\t\t\tonHide: function(){return true;},\r\n\t\t\t\tlocale: {\r\n\t\t\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\r\n\t\t\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\r\n\t\t\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\r\n\t\t\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\t\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\t\t\t\tweekMin: 'wk'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfill = function(el) {\r\n\t\t\t\tvar options = $(el).data('datepicker');\r\n\t\t\t\tvar cal = $(el);\r\n\t\t\t\tvar currentCal = Math.floor(options.calendars/2), date, data, dow, month, cnt = 0, week, days, indic, indic2, html, tblCal;\r\n\t\t\t\tcal.find('td>table tbody').remove();\r\n\t\t\t\tfor (var i = 0; i < options.calendars; i++) {\r\n\t\t\t\t\tdate = new Date(options.current);\r\n\t\t\t\t\tdate.addMonths(-currentCal + i);\r\n\t\t\t\t\ttblCal = cal.find('table').eq(i+1);\r\n\t\t\t\t\tswitch (tblCal[0].className) {\r\n\t\t\t\t\t\tcase 'datepickerViewDays':\r\n\t\t\t\t\t\t\tdow = formatDate(date, 'B, Y');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'datepickerViewMonths':\r\n\t\t\t\t\t\t\tdow = date.getFullYear();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'datepickerViewYears':\r\n\t\t\t\t\t\t\tdow = (date.getFullYear()-6) + ' - ' + (date.getFullYear()+5);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} \r\n\t\t\t\t\ttblCal.find('thead tr:first th:eq(1) span').text(dow);\r\n\t\t\t\t\tdow = date.getFullYear()-6;\r\n\t\t\t\t\tdata = {\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t\tclassName: 'datepickerYears'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor ( var j = 0; j < 12; j++) {\r\n\t\t\t\t\t\tdata.data.push(dow + j);\r\n\t\t\t\t\t}\r\n\t\t\t\t\thtml = tmpl(tpl.months.join(''), data);\r\n\t\t\t\t\tdate.setDate(1);\r\n\t\t\t\t\tdata = {weeks:[], test: 10};\r\n\t\t\t\t\tmonth = date.getMonth();\r\n\t\t\t\t\tvar dow = (date.getDay() - options.starts) % 7;\r\n\t\t\t\t\tdate.addDays(-(dow + (dow < 0 ? 7 : 0)));\r\n\t\t\t\t\tweek = -1;\r\n\t\t\t\t\tcnt = 0;\r\n\t\t\t\t\twhile (cnt < 42) {\r\n\t\t\t\t\t\tindic = parseInt(cnt/7,10);\r\n\t\t\t\t\t\tindic2 = cnt%7;\r\n\t\t\t\t\t\tif (!data.weeks[indic]) {\r\n\t\t\t\t\t\t\tweek = date.getWeekNumber();\r\n\t\t\t\t\t\t\tdata.weeks[indic] = {\r\n\t\t\t\t\t\t\t\tweek: week,\r\n\t\t\t\t\t\t\t\tdays: []\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata.weeks[indic].days[indic2] = {\r\n\t\t\t\t\t\t\ttext: date.getDate(),\r\n\t\t\t\t\t\t\tclassname: []\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tif (month != date.getMonth()) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerNotInMonth');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (date.getDay() == 0) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSunday');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (date.getDay() == 6) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSaturday');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar fromUser = options.onRender(date);\r\n\t\t\t\t\t\tvar val = date.valueOf();\r\n\r\n\t\t\t\t\t\tif (val === options.date[0]) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSelectedFirst');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ((val + 86399000) === options.date[1]) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSelectedLast');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (fromUser.selected || options.date == val || $.inArray(val, options.date) > -1 || (options.mode == 'range' && val >= options.date[0] && val <= options.date[1])) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSelected');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (fromUser.disabled) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerDisabled');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (fromUser.className) {\r\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push(fromUser.className);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname = data.weeks[indic].days[indic2].classname.join(' ');\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t\tdate.addDays(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\thtml = tmpl(tpl.days.join(''), data) + html;\r\n\t\t\t\t\tdata = {\r\n\t\t\t\t\t\tdata: options.locale.monthsShort,\r\n\t\t\t\t\t\tclassName: 'datepickerMonths'\r\n\t\t\t\t\t};\r\n\t\t\t\t\thtml = tmpl(tpl.months.join(''), data) + html;\r\n\t\t\t\t\ttblCal.append(html);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tparseDate = function (date, format) {\r\n\t\t\t\tif (date.constructor == Date) {\r\n\t\t\t\t\treturn new Date(date);\r\n\t\t\t\t}\r\n\t\t\t\tvar parts = date.split(/\\W+/);\r\n\t\t\t\tvar against = format.split(/\\W+/), d, m, y, h, min, now = new Date();\r\n\t\t\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\t\t\tswitch (against[i]) {\r\n\t\t\t\t\t\tcase 'd':\r\n\t\t\t\t\t\tcase 'e':\r\n\t\t\t\t\t\t\td = parseInt(parts[i],10);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'm':\r\n\t\t\t\t\t\t\tm = parseInt(parts[i], 10)-1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Y':\r\n\t\t\t\t\t\tcase 'y':\r\n\t\t\t\t\t\t\ty = parseInt(parts[i], 10);\r\n\t\t\t\t\t\t\ty += y > 100 ? 0 : (y < 29 ? 2000 : 1900);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'H':\r\n\t\t\t\t\t\tcase 'I':\r\n\t\t\t\t\t\tcase 'k':\r\n\t\t\t\t\t\tcase 'l':\r\n\t\t\t\t\t\t\th = parseInt(parts[i], 10);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'P':\r\n\t\t\t\t\t\tcase 'p':\r\n\t\t\t\t\t\t\tif (/pm/i.test(parts[i]) && h < 12) {\r\n\t\t\t\t\t\t\t\th += 12;\r\n\t\t\t\t\t\t\t} else if (/am/i.test(parts[i]) && h >= 12) {\r\n\t\t\t\t\t\t\t\th -= 12;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'M':\r\n\t\t\t\t\t\t\tmin = parseInt(parts[i], 10);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn new Date(\r\n\t\t\t\t\ty === undefined ? now.getFullYear() : y,\r\n\t\t\t\t\tm === undefined ? now.getMonth() : m,\r\n\t\t\t\t\td === undefined ? now.getDate() : d,\r\n\t\t\t\t\th === undefined ? now.getHours() : h,\r\n\t\t\t\t\tmin === undefined ? now.getMinutes() : min,\r\n\t\t\t\t\t0\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tformatDate = function(date, format) {\r\n\t\t\t\tvar m = date.getMonth();\r\n\t\t\t\tvar d = date.getDate();\r\n\t\t\t\tvar y = date.getFullYear();\r\n\t\t\t\tvar wn = date.getWeekNumber();\r\n\t\t\t\tvar w = date.getDay();\r\n\t\t\t\tvar s = {};\r\n\t\t\t\tvar hr = date.getHours();\r\n\t\t\t\tvar pm = (hr >= 12);\r\n\t\t\t\tvar ir = (pm) ? (hr - 12) : hr;\r\n\t\t\t\tvar dy = date.getDayOfYear();\r\n\t\t\t\tif (ir == 0) {\r\n\t\t\t\t\tir = 12;\r\n\t\t\t\t}\r\n\t\t\t\tvar min = date.getMinutes();\r\n\t\t\t\tvar sec = date.getSeconds();\r\n\t\t\t\tvar parts = format.split(''), part;\r\n\t\t\t\tfor ( var i = 0; i < parts.length; i++ ) {\r\n\t\t\t\t\tpart = parts[i];\r\n\t\t\t\t\tswitch (parts[i]) {\r\n\t\t\t\t\t\tcase 'a':\r\n\t\t\t\t\t\t\tpart = date.getDayName();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'A':\r\n\t\t\t\t\t\t\tpart = date.getDayName(true);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'b':\r\n\t\t\t\t\t\t\tpart = date.getMonthName();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'B':\r\n\t\t\t\t\t\t\tpart = date.getMonthName(true);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'C':\r\n\t\t\t\t\t\t\tpart = 1 + Math.floor(y / 100);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'd':\r\n\t\t\t\t\t\t\tpart = (d < 10) ? (\"0\" + d) : d;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'e':\r\n\t\t\t\t\t\t\tpart = d;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'H':\r\n\t\t\t\t\t\t\tpart = (hr < 10) ? (\"0\" + hr) : hr;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'I':\r\n\t\t\t\t\t\t\tpart = (ir < 10) ? (\"0\" + ir) : ir;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'j':\r\n\t\t\t\t\t\t\tpart = (dy < 100) ? ((dy < 10) ? (\"00\" + dy) : (\"0\" + dy)) : dy;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'k':\r\n\t\t\t\t\t\t\tpart = hr;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'l':\r\n\t\t\t\t\t\t\tpart = ir;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'm':\r\n\t\t\t\t\t\t\tpart = (m < 9) ? (\"0\" + (1+m)) : (1+m);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'M':\r\n\t\t\t\t\t\t\tpart = (min < 10) ? (\"0\" + min) : min;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'p':\r\n\t\t\t\t\t\tcase 'P':\r\n\t\t\t\t\t\t\tpart = pm ? \"PM\" : \"AM\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 's':\r\n\t\t\t\t\t\t\tpart = Math.floor(date.getTime() / 1000);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'S':\r\n\t\t\t\t\t\t\tpart = (sec < 10) ? (\"0\" + sec) : sec;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'u':\r\n\t\t\t\t\t\t\tpart = w + 1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'w':\r\n\t\t\t\t\t\t\tpart = w;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'y':\r\n\t\t\t\t\t\t\tpart = ('' + y).substr(2, 2);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Y':\r\n\t\t\t\t\t\t\tpart = y;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparts[i] = part;\r\n\t\t\t\t}\r\n\t\t\t\treturn parts.join('');\r\n\t\t\t},\r\n\t\t\textendDate = function(options) {\r\n\t\t\t\tif (Date.prototype.tempDate) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tDate.prototype.tempDate = null;\r\n\t\t\t\tDate.prototype.months = options.months;\r\n\t\t\t\tDate.prototype.monthsShort = options.monthsShort;\r\n\t\t\t\tDate.prototype.days = options.days;\r\n\t\t\t\tDate.prototype.daysShort = options.daysShort;\r\n\t\t\t\tDate.prototype.getMonthName = function(fullName) {\r\n\t\t\t\t\treturn this[fullName ? 'months' : 'monthsShort'][this.getMonth()];\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.getDayName = function(fullName) {\r\n\t\t\t\t\treturn this[fullName ? 'days' : 'daysShort'][this.getDay()];\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.addDays = function (n) {\r\n\t\t\t\t\tthis.setDate(this.getDate() + n);\r\n\t\t\t\t\tthis.tempDate = this.getDate();\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.addMonths = function (n) {\r\n\t\t\t\t\tif (this.tempDate == null) {\r\n\t\t\t\t\t\tthis.tempDate = this.getDate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setDate(1);\r\n\t\t\t\t\tthis.setMonth(this.getMonth() + n);\r\n\t\t\t\t\tthis.setDate(Math.min(this.tempDate, this.getMaxDays()));\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.addYears = function (n) {\r\n\t\t\t\t\tif (this.tempDate == null) {\r\n\t\t\t\t\t\tthis.tempDate = this.getDate();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setDate(1);\r\n\t\t\t\t\tthis.setFullYear(this.getFullYear() + n);\r\n\t\t\t\t\tthis.setDate(Math.min(this.tempDate, this.getMaxDays()));\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.getMaxDays = function() {\r\n\t\t\t\t\tvar tmpDate = new Date(Date.parse(this)),\r\n\t\t\t\t\t\td = 28, m;\r\n\t\t\t\t\tm = tmpDate.getMonth();\r\n\t\t\t\t\td = 28;\r\n\t\t\t\t\twhile (tmpDate.getMonth() == m) {\r\n\t\t\t\t\t\td ++;\r\n\t\t\t\t\t\ttmpDate.setDate(d);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn d - 1;\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.getFirstDay = function() {\r\n\t\t\t\t\tvar tmpDate = new Date(Date.parse(this));\r\n\t\t\t\t\ttmpDate.setDate(1);\r\n\t\t\t\t\treturn tmpDate.getDay();\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.getWeekNumber = function() {\r\n\t\t\t\t\tvar tempDate = new Date(this);\r\n\t\t\t\t\ttempDate.setDate(tempDate.getDate() - (tempDate.getDay() + 6) % 7 + 3);\r\n\t\t\t\t\tvar dms = tempDate.valueOf();\r\n\t\t\t\t\ttempDate.setMonth(0);\r\n\t\t\t\t\ttempDate.setDate(4);\r\n\t\t\t\t\treturn Math.round((dms - tempDate.valueOf()) / (604800000)) + 1;\r\n\t\t\t\t};\r\n\t\t\t\tDate.prototype.getDayOfYear = function() {\r\n\t\t\t\t\tvar now = new Date(this.getFullYear(), this.getMonth(), this.getDate(), 0, 0, 0);\r\n\t\t\t\t\tvar then = new Date(this.getFullYear(), 0, 0, 0, 0, 0);\r\n\t\t\t\t\tvar time = now - then;\r\n\t\t\t\t\treturn Math.floor(time / 24*60*60*1000);\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tlayout = function (el) {\r\n\t\t\t\tvar options = $(el).data('datepicker');\r\n\t\t\t\tvar cal = $('#' + options.id);\r\n\t\t\t\tif (!options.extraHeight) {\r\n\t\t\t\t\tvar divs = $(el).find('div');\r\n\t\t\t\t\toptions.extraHeight = divs.get(0).offsetHeight + divs.get(1).offsetHeight;\r\n\t\t\t\t\toptions.extraWidth = divs.get(2).offsetWidth + divs.get(3).offsetWidth;\r\n\t\t\t\t}\r\n\t\t\t\tvar tbl = cal.find('table:first').get(0);\r\n\t\t\t\tvar width = tbl.offsetWidth;\r\n\t\t\t\tvar height = tbl.offsetHeight;\r\n\t\t\t\tcal.css({\r\n\t\t\t\t\twidth: width + options.extraWidth + 'px',\r\n\t\t\t\t\theight: height + options.extraHeight + 'px'\r\n\t\t\t\t}).find('div.datepickerContainer').css({\r\n\t\t\t\t\twidth: width + 'px',\r\n\t\t\t\t\theight: height + 'px'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclick = function(ev) {\r\n\t\t\t\tif ($(ev.target).is('span')) {\r\n\t\t\t\t\tev.target = ev.target.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\tvar el = $(ev.target);\r\n\t\t\t\tif (el.is('a')) {\r\n\t\t\t\t\tev.target.blur();\r\n\t\t\t\t\tif (el.hasClass('datepickerDisabled')) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar options = $(this).data('datepicker');\r\n\t\t\t\t\tvar parentEl = el.parent();\r\n\t\t\t\t\tvar tblEl = parentEl.parent().parent().parent();\r\n\t\t\t\t\tvar tblIndex = $('table', this).index(tblEl.get(0)) - 1;\r\n\t\t\t\t\tvar tmp = new Date(options.current);\r\n\t\t\t\t\tvar changed = false;\r\n\t\t\t\t\tvar fillIt = false;\r\n\t\t\t\t\tif (parentEl.is('th')) {\r\n\t\t\t\t\t\tif (parentEl.hasClass('datepickerWeek') && options.mode == 'range' && !parentEl.next().hasClass('datepickerDisabled')) {\r\n\t\t\t\t\t\t\tvar val = parseInt(parentEl.next().text(), 10);\r\n\t\t\t\t\t\t\ttmp.addMonths(tblIndex - Math.floor(options.calendars/2));\r\n\t\t\t\t\t\t\tif (parentEl.next().hasClass('datepickerNotInMonth')) {\r\n\t\t\t\t\t\t\t\ttmp.addMonths(val > 15 ? -1 : 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttmp.setDate(val);\r\n\t\t\t\t\t\t\toptions.date[0] = (tmp.setHours(0,0,0,0)).valueOf();\r\n\t\t\t\t\t\t\ttmp.setHours(23,59,59,0);\r\n\t\t\t\t\t\t\ttmp.addDays(6);\r\n\t\t\t\t\t\t\toptions.date[1] = tmp.valueOf();\r\n\t\t\t\t\t\t\tfillIt = true;\r\n\t\t\t\t\t\t\tchanged = true;\r\n\t\t\t\t\t\t\toptions.lastSel = false;\r\n\t\t\t\t\t\t} else if (parentEl.hasClass('datepickerMonth')) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t// tmp.addMonths(tblIndex - Math.floor(options.calendars/2));\r\n\t\t\t\t\t\t\t// switch (tblEl.get(0).className) {\r\n\t\t\t\t\t\t\t// \tcase 'datepickerViewDays':\r\n\t\t\t\t\t\t\t// \t\ttblEl.get(0).className = 'datepickerViewMonths';\r\n\t\t\t\t\t\t\t// \t\tel.find('span').text(tmp.getFullYear());\r\n\t\t\t\t\t\t\t// \t\tbreak;\r\n\t\t\t\t\t\t\t// \tcase 'datepickerViewMonths':\r\n\t\t\t\t\t\t\t// \t\ttblEl.get(0).className = 'datepickerViewYears';\r\n\t\t\t\t\t\t\t// \t\tel.find('span').text((tmp.getFullYear()-6) + ' - ' + (tmp.getFullYear()+5));\r\n\t\t\t\t\t\t\t// \t\tbreak;\r\n\t\t\t\t\t\t\t// \tcase 'datepickerViewYears':\r\n\t\t\t\t\t\t\t// \t\ttblEl.get(0).className = 'datepickerViewDays';\r\n\t\t\t\t\t\t\t// \t\tel.find('span').text(formatDate(tmp, 'B, Y'));\r\n\t\t\t\t\t\t\t// \t\tbreak;\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t} else if (parentEl.parent().parent().is('thead')) {\r\n\t\t\t\t\t\t\tswitch (tblEl.get(0).className) {\r\n\t\t\t\t\t\t\t\tcase 'datepickerViewDays':\r\n\t\t\t\t\t\t\t\t\toptions.current.addMonths(parentEl.hasClass('datepickerGoPrev') ? -1 : 1);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'datepickerViewMonths':\r\n\t\t\t\t\t\t\t\t\toptions.current.addYears(parentEl.hasClass('datepickerGoPrev') ? -1 : 1);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'datepickerViewYears':\r\n\t\t\t\t\t\t\t\t\toptions.current.addYears(parentEl.hasClass('datepickerGoPrev') ? -12 : 12);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfillIt = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (parentEl.is('td') && !parentEl.hasClass('datepickerDisabled')) {\r\n\t\t\t\t\t\tswitch (tblEl.get(0).className) {\r\n\t\t\t\t\t\t\tcase 'datepickerViewMonths':\r\n\t\t\t\t\t\t\t\toptions.current.setMonth(tblEl.find('tbody.datepickerMonths td').index(parentEl));\r\n\t\t\t\t\t\t\t\toptions.current.setFullYear(parseInt(tblEl.find('thead th.datepickerMonth span').text(), 10));\r\n\t\t\t\t\t\t\t\toptions.current.addMonths(Math.floor(options.calendars/2) - tblIndex);\r\n\t\t\t\t\t\t\t\ttblEl.get(0).className = 'datepickerViewDays';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'datepickerViewYears':\r\n\t\t\t\t\t\t\t\toptions.current.setFullYear(parseInt(el.text(), 10));\r\n\t\t\t\t\t\t\t\ttblEl.get(0).className = 'datepickerViewMonths';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tvar val = parseInt(el.text(), 10);\r\n\t\t\t\t\t\t\t\ttmp.addMonths(tblIndex - Math.floor(options.calendars/2));\r\n\t\t\t\t\t\t\t\tif (parentEl.hasClass('datepickerNotInMonth')) {\r\n\t\t\t\t\t\t\t\t\ttmp.addMonths(val > 15 ? -1 : 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttmp.setDate(val);\r\n\t\t\t\t\t\t\t\tswitch (options.mode) {\r\n\t\t\t\t\t\t\t\t\tcase 'multiple':\r\n\t\t\t\t\t\t\t\t\t\tval = (tmp.setHours(0,0,0,0)).valueOf();\r\n\t\t\t\t\t\t\t\t\t\tif ($.inArray(val, options.date) > -1) {\r\n\t\t\t\t\t\t\t\t\t\t\t$.each(options.date, function(nr, dat){\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dat == val) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions.date.splice(nr,1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\toptions.date.push(val);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tcase 'range':\r\n\t\t\t\t\t\t\t\t\t\tif (!options.lastSel) {\r\n\t\t\t\t\t\t\t\t\t\t\toptions.date[0] = (tmp.setHours(0,0,0,0)).valueOf();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tval = (tmp.setHours(23,59,59,0)).valueOf();\r\n\t\t\t\t\t\t\t\t\t\tif (val < options.date[0]) {\r\n\t\t\t\t\t\t\t\t\t\t\toptions.date[1] = options.date[0] + 86399000;\r\n\t\t\t\t\t\t\t\t\t\t\toptions.date[0] = val - 86399000;\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\toptions.date[1] = val;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\toptions.lastSel = !options.lastSel;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\toptions.date = tmp.valueOf();\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfillIt = true;\r\n\t\t\t\t\t\tchanged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (fillIt) {\r\n\t\t\t\t\t\tfill(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (changed) {\r\n\t\t\t\t\t\toptions.onChange.apply(this, prepareDate(options));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tprepareDate = function (options) {\r\n\t\t\t\tvar tmp;\r\n\t\t\t\tif (options.mode == 'single') {\r\n\t\t\t\t\ttmp = new Date(options.date);\r\n\t\t\t\t\treturn [formatDate(tmp, options.format), tmp, options.el];\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttmp = [[],[], options.el];\r\n\t\t\t\t\t$.each(options.date, function(nr, val){\r\n\t\t\t\t\t\tvar date = new Date(val);\r\n\t\t\t\t\t\ttmp[0].push(formatDate(date, options.format));\r\n\t\t\t\t\t\ttmp[1].push(date);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn tmp;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetViewport = function () {\r\n\t\t\t\tvar m = document.compatMode == 'CSS1Compat';\r\n\t\t\t\treturn {\r\n\t\t\t\t\tl : window.pageXOffset || (m ? document.documentElement.scrollLeft : document.body.scrollLeft),\r\n\t\t\t\t\tt : window.pageYOffset || (m ? document.documentElement.scrollTop : document.body.scrollTop),\r\n\t\t\t\t\tw : window.innerWidth || (m ? document.documentElement.clientWidth : document.body.clientWidth),\r\n\t\t\t\t\th : window.innerHeight || (m ? document.documentElement.clientHeight : document.body.clientHeight)\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tisChildOf = function(parentEl, el, container) {\r\n\t\t\t\tif (parentEl == el) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tif (parentEl.contains) {\r\n\t\t\t\t\treturn parentEl.contains(el);\r\n\t\t\t\t}\r\n\t\t\t\tif ( parentEl.compareDocumentPosition ) {\r\n\t\t\t\t\treturn !!(parentEl.compareDocumentPosition(el) & 16);\r\n\t\t\t\t}\r\n\t\t\t\tvar prEl = el.parentNode;\r\n\t\t\t\twhile(prEl && prEl != container) {\r\n\t\t\t\t\tif (prEl == parentEl)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\tprEl = prEl.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tshow = function (ev) {\r\n\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\r\n\t\t\t\tif (!cal.is(':visible')) {\r\n\t\t\t\t\tvar calEl = cal.get(0);\r\n\t\t\t\t\tfill(calEl);\r\n\t\t\t\t\tvar options = cal.data('datepicker');\r\n\t\t\t\t\toptions.onBeforeShow.apply(this, [cal.get(0)]);\r\n\t\t\t\t\tvar pos = $(this).offset();\r\n\t\t\t\t\tvar viewPort = getViewport();\r\n\t\t\t\t\tvar top = pos.top;\r\n\t\t\t\t\tvar left = pos.left;\r\n\t\t\t\t\tvar oldDisplay = $.curCSS(calEl, 'display');\r\n\t\t\t\t\tcal.css({\r\n\t\t\t\t\t\tvisibility: 'hidden',\r\n\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlayout(calEl);\r\n\t\t\t\t\tswitch (options.position){\r\n\t\t\t\t\t\tcase 'top':\r\n\t\t\t\t\t\t\ttop -= calEl.offsetHeight;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'left':\r\n\t\t\t\t\t\t\tleft -= calEl.offsetWidth;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'right':\r\n\t\t\t\t\t\t\tleft += this.offsetWidth;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'bottom':\r\n\t\t\t\t\t\t\ttop += this.offsetHeight;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (top + calEl.offsetHeight > viewPort.t + viewPort.h) {\r\n\t\t\t\t\t\ttop = pos.top  - calEl.offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (top < viewPort.t) {\r\n\t\t\t\t\t\ttop = pos.top + this.offsetHeight + calEl.offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (left + calEl.offsetWidth > viewPort.l + viewPort.w) {\r\n\t\t\t\t\t\tleft = pos.left - calEl.offsetWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (left < viewPort.l) {\r\n\t\t\t\t\t\tleft = pos.left + this.offsetWidth\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcal.css({\r\n\t\t\t\t\t\tvisibility: 'visible',\r\n\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\ttop: top + 'px',\r\n\t\t\t\t\t\tleft: left + 'px'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (options.onShow.apply(this, [cal.get(0)]) != false) {\r\n\t\t\t\t\t\tcal.show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(document).bind('mousedown', {cal: cal, trigger: this}, hide);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\thide = function (ev) {\r\n\t\t\t\tif (ev.target != ev.data.trigger && !isChildOf(ev.data.cal.get(0), ev.target, ev.data.cal.get(0))) {\r\n\t\t\t\t\tif (ev.data.cal.data('datepicker').onHide.apply(this, [ev.data.cal.get(0)]) != false) {\r\n\t\t\t\t\t\tev.data.cal.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(document).unbind('mousedown', hide);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\treturn {\r\n\t\t\tinit: function(options){\r\n\t\t\t\toptions = $.extend({}, defaults, options||{});\r\n\t\t\t\textendDate(options.locale);\r\n\t\t\t\toptions.calendars = Math.max(1, parseInt(options.calendars,10)||1);\r\n\t\t\t\toptions.mode = /single|multiple|range/.test(options.mode) ? options.mode : 'single';\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tif (!$(this).data('datepicker')) {\r\n\t\t\t\t\t\toptions.el = this;\r\n\t\t\t\t\t\tif (options.date.constructor == String) {\r\n\t\t\t\t\t\t\toptions.date = parseDate(options.date, options.format);\r\n\t\t\t\t\t\t\toptions.date.setHours(0,0,0,0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (options.mode != 'single') {\r\n\t\t\t\t\t\t\tif (options.date.constructor != Array) {\r\n\t\t\t\t\t\t\t\toptions.date = [options.date.valueOf()];\r\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\r\n\t\t\t\t\t\t\t\t\toptions.date.push(((new Date(options.date[0])).setHours(23,59,59,0)).valueOf());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < options.date.length; i++) {\r\n\t\t\t\t\t\t\t\t\toptions.date[i] = (parseDate(options.date[i], options.format).setHours(0,0,0,0)).valueOf();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\r\n\t\t\t\t\t\t\t\t\toptions.date[1] = ((new Date(options.date[1])).setHours(23,59,59,0)).valueOf();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toptions.date = options.date.valueOf();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!options.current) {\r\n\t\t\t\t\t\t\toptions.current = new Date();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toptions.current = parseDate(options.current, options.format);\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\toptions.current.setDate(1);\r\n\t\t\t\t\t\toptions.current.setHours(0,0,0,0);\r\n\t\t\t\t\t\tvar id = 'datepicker_' + parseInt(Math.random() * 1000), cnt;\r\n\t\t\t\t\t\toptions.id = id;\r\n\t\t\t\t\t\t$(this).data('datepickerId', options.id);\r\n\t\t\t\t\t\tvar cal = $(tpl.wrapper).attr('id', id).bind('click', click).data('datepicker', options);\r\n\t\t\t\t\t\tif (options.className) {\r\n\t\t\t\t\t\t\tcal.addClass(options.className);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar html = '';\r\n\t\t\t\t\t\tfor (var i = 0; i < options.calendars; i++) {\r\n\t\t\t\t\t\t\tcnt = options.starts;\r\n\t\t\t\t\t\t\tif (i > 0) {\r\n\t\t\t\t\t\t\t\thtml += tpl.space;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thtml += tmpl(tpl.head.join(''), {\r\n\t\t\t\t\t\t\t\t\tweek: options.locale.weekMin,\r\n\t\t\t\t\t\t\t\t\tprev: options.prev,\r\n\t\t\t\t\t\t\t\t\tnext: options.next,\r\n\t\t\t\t\t\t\t\t\tday1: options.locale.daysMin[(cnt++)%7],\r\n\t\t\t\t\t\t\t\t\tday2: options.locale.daysMin[(cnt++)%7],\r\n\t\t\t\t\t\t\t\t\tday3: options.locale.daysMin[(cnt++)%7],\r\n\t\t\t\t\t\t\t\t\tday4: options.locale.daysMin[(cnt++)%7],\r\n\t\t\t\t\t\t\t\t\tday5: options.locale.daysMin[(cnt++)%7],\r\n\t\t\t\t\t\t\t\t\tday6: options.locale.daysMin[(cnt++)%7],\r\n\t\t\t\t\t\t\t\t\tday7: options.locale.daysMin[(cnt++)%7]\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcal\r\n\t\t\t\t\t\t\t.find('tr:first').append(html)\r\n\t\t\t\t\t\t\t\t.find('table').addClass(views[options.view]);\r\n\t\t\t\t\t\tfill(cal.get(0));\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tcal.appendTo(this).show().css('position', 'relative');\r\n\t\t\t\t\t\t\tlayout(cal.get(0));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcal.appendTo(document.body);\r\n\t\t\t\t\t\t\t$(this).bind(options.eventName, show);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowPicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('datepickerId')) {\r\n\t\t\t\t\t\tshow.apply(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thidePicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('datepickerId')) {\r\n\t\t\t\t\t\t$('#' + $(this).data('datepickerId')).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetDate: function(date, shiftTo){\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tif ($(this).data('datepickerId')) {\r\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\r\n\t\t\t\t\t\tvar options = cal.data('datepicker');\r\n\t\t\t\t\t\toptions.date = date;\r\n\t\t\t\t\t\tif (options.date.constructor == String) {\r\n\t\t\t\t\t\t\toptions.date = parseDate(options.date, options.format);\r\n\t\t\t\t\t\t\toptions.date.setHours(0,0,0,0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (options.mode != 'single') {\r\n\t\t\t\t\t\t\tif (options.date.constructor != Array) {\r\n\t\t\t\t\t\t\t\toptions.date = [options.date.valueOf()];\r\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\r\n\t\t\t\t\t\t\t\t\toptions.date.push(((new Date(options.date[0])).setHours(23,59,59,0)).valueOf());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < options.date.length; i++) {\r\n\t\t\t\t\t\t\t\t\toptions.date[i] = (parseDate(options.date[i], options.format).setHours(0,0,0,0)).valueOf();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\r\n\t\t\t\t\t\t\t\t\toptions.date[1] = ((new Date(options.date[1])).setHours(23,59,59,0)).valueOf();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toptions.date = options.date.valueOf();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (shiftTo) {\r\n\t\t\t\t\t\t\toptions.current = new Date (options.mode != 'single' ? options.date[0] : options.date);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfill(cal.get(0));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetDate: function(formated) {\r\n\t\t\t\tif (this.size() > 0) {\r\n\t\t\t\t\treturn prepareDate($('#' + $(this).data('datepickerId')).data('datepicker'))[formated ? 0 : 1];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclear: function(){\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tif ($(this).data('datepickerId')) {\r\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\r\n\t\t\t\t\t\tvar options = cal.data('datepicker');\r\n\t\t\t\t\t\tif (options.mode != 'single') {\r\n\t\t\t\t\t\t\toptions.date = [];\r\n\t\t\t\t\t\t\tfill(cal.get(0));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tfixLayout: function(){\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tif ($(this).data('datepickerId')) {\r\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\r\n\t\t\t\t\t\tvar options = cal.data('datepicker');\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tlayout(cal.get(0));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}();\r\n\t$.fn.extend({\r\n\t\tDatePicker: DatePicker.init,\r\n\t\tDatePickerHide: DatePicker.hidePicker,\r\n\t\tDatePickerShow: DatePicker.showPicker,\r\n\t\tDatePickerSetDate: DatePicker.setDate,\r\n\t\tDatePickerGetDate: DatePicker.getDate,\r\n\t\tDatePickerClear: DatePicker.clear,\r\n\t\tDatePickerLayout: DatePicker.fixLayout\r\n\t});\r\n})(jQuery);\r\n\r\n(function(){\r\n  var cache = {};\r\n \r\n  this.tmpl = function tmpl(str, data){\r\n    // Figure out if we're getting a template, or if we need to\r\n    // load the template - and be sure to cache the result.\r\n    var fn = !/\\W/.test(str) ?\r\n      cache[str] = cache[str] ||\r\n        tmpl(document.getElementById(str).innerHTML) :\r\n     \r\n      // Generate a reusable function that will serve as a template\r\n      // generator (and which will be cached).\r\n      new Function(\"obj\",\r\n        \"var p=[],print=function(){p.push.apply(p,arguments);};\" +\r\n       \r\n        // Introduce the data as local variables using with(){}\r\n        \"with(obj){p.push('\" +\r\n       \r\n        // Convert the template into pure JavaScript\r\n        str\r\n          .replace(/[\\r\\t\\n]/g, \" \")\r\n          .split(\"<%\").join(\"\\t\")\r\n          .replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\r\n          .replace(/\\t=(.*?)%>/g, \"',$1,'\")\r\n          .split(\"\\t\").join(\"');\")\r\n          .split(\"%>\").join(\"p.push('\")\r\n          .split(\"\\r\").join(\"\\\\'\")\r\n      + \"');}return p.join('');\");\r\n   \r\n    // Provide some basic currying to the user\r\n    return data ? fn( data ) : fn;\r\n  };\r\n})();","/*\n * jQuery UI Effects 1.8.3\n *\n * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Effects/\n */\n;jQuery.effects || (function($, undefined) {\n\n$.effects = {};\n\n\n\n/******************************************************************************/\n/****************************** COLOR ANIMATIONS ******************************/\n/******************************************************************************/\n\n// override the animation for color styles\n$.each(['backgroundColor', 'borderBottomColor', 'borderLeftColor',\n\t'borderRightColor', 'borderTopColor', 'color', 'outlineColor'],\nfunction(i, attr) {\n\t$.fx.step[attr] = function(fx) {\n\t\tif (!fx.colorInit) {\n\t\t\tfx.start = getColor(fx.elem, attr);\n\t\t\tfx.end = getRGB(fx.end);\n\t\t\tfx.colorInit = true;\n\t\t}\n\n\t\tfx.elem.style[attr] = 'rgb(' +\n\t\t\tMath.max(Math.min(parseInt((fx.pos * (fx.end[0] - fx.start[0])) + fx.start[0], 10), 255), 0) + ',' +\n\t\t\tMath.max(Math.min(parseInt((fx.pos * (fx.end[1] - fx.start[1])) + fx.start[1], 10), 255), 0) + ',' +\n\t\t\tMath.max(Math.min(parseInt((fx.pos * (fx.end[2] - fx.start[2])) + fx.start[2], 10), 255), 0) + ')';\n\t};\n});\n\n// Color Conversion functions from highlightFade\n// By Blair Mitchelmore\n// http://jquery.offput.ca/highlightFade/\n\n// Parse strings looking for color tuples [255,255,255]\nfunction getRGB(color) {\n\t\tvar result;\n\n\t\t// Check if we're already dealing with an array of colors\n\t\tif ( color && color.constructor == Array && color.length == 3 )\n\t\t\t\treturn color;\n\n\t\t// Look for rgb(num,num,num)\n\t\tif (result = /rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(color))\n\t\t\t\treturn [parseInt(result[1],10), parseInt(result[2],10), parseInt(result[3],10)];\n\n\t\t// Look for rgb(num%,num%,num%)\n\t\tif (result = /rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)/.exec(color))\n\t\t\t\treturn [parseFloat(result[1])*2.55, parseFloat(result[2])*2.55, parseFloat(result[3])*2.55];\n\n\t\t// Look for #a0b1c2\n\t\tif (result = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))\n\t\t\t\treturn [parseInt(result[1],16), parseInt(result[2],16), parseInt(result[3],16)];\n\n\t\t// Look for #fff\n\t\tif (result = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))\n\t\t\t\treturn [parseInt(result[1]+result[1],16), parseInt(result[2]+result[2],16), parseInt(result[3]+result[3],16)];\n\n\t\t// Look for rgba(0, 0, 0, 0) == transparent in Safari 3\n\t\tif (result = /rgba\\(0, 0, 0, 0\\)/.exec(color))\n\t\t\t\treturn colors['transparent'];\n\n\t\t// Otherwise, we're most likely dealing with a named color\n\t\treturn colors[$.trim(color).toLowerCase()];\n}\n\nfunction getColor(elem, attr) {\n\t\tvar color;\n\n\t\tdo {\n\t\t\t\tcolor = $.curCSS(elem, attr);\n\n\t\t\t\t// Keep going until we find an element that has color, or we hit the body\n\t\t\t\tif ( color != '' && color != 'transparent' || $.nodeName(elem, \"body\") )\n\t\t\t\t\t\tbreak;\n\n\t\t\t\tattr = \"backgroundColor\";\n\t\t} while ( elem = elem.parentNode );\n\n\t\treturn getRGB(color);\n};\n\n// Some named colors to work with\n// From Interface by Stefan Petre\n// http://interface.eyecon.ro/\n\nvar colors = {\n\taqua:[0,255,255],\n\tazure:[240,255,255],\n\tbeige:[245,245,220],\n\tblack:[0,0,0],\n\tblue:[0,0,255],\n\tbrown:[165,42,42],\n\tcyan:[0,255,255],\n\tdarkblue:[0,0,139],\n\tdarkcyan:[0,139,139],\n\tdarkgrey:[169,169,169],\n\tdarkgreen:[0,100,0],\n\tdarkkhaki:[189,183,107],\n\tdarkmagenta:[139,0,139],\n\tdarkolivegreen:[85,107,47],\n\tdarkorange:[255,140,0],\n\tdarkorchid:[153,50,204],\n\tdarkred:[139,0,0],\n\tdarksalmon:[233,150,122],\n\tdarkviolet:[148,0,211],\n\tfuchsia:[255,0,255],\n\tgold:[255,215,0],\n\tgreen:[0,128,0],\n\tindigo:[75,0,130],\n\tkhaki:[240,230,140],\n\tlightblue:[173,216,230],\n\tlightcyan:[224,255,255],\n\tlightgreen:[144,238,144],\n\tlightgrey:[211,211,211],\n\tlightpink:[255,182,193],\n\tlightyellow:[255,255,224],\n\tlime:[0,255,0],\n\tmagenta:[255,0,255],\n\tmaroon:[128,0,0],\n\tnavy:[0,0,128],\n\tolive:[128,128,0],\n\torange:[255,165,0],\n\tpink:[255,192,203],\n\tpurple:[128,0,128],\n\tviolet:[128,0,128],\n\tred:[255,0,0],\n\tsilver:[192,192,192],\n\twhite:[255,255,255],\n\tyellow:[255,255,0],\n\ttransparent: [255,255,255]\n};\n\n\n\n/******************************************************************************/\n/****************************** CLASS ANIMATIONS ******************************/\n/******************************************************************************/\n\nvar classAnimationActions = ['add', 'remove', 'toggle'],\n\tshorthandStyles = {\n\t\tborder: 1,\n\t\tborderBottom: 1,\n\t\tborderColor: 1,\n\t\tborderLeft: 1,\n\t\tborderRight: 1,\n\t\tborderTop: 1,\n\t\tborderWidth: 1,\n\t\tmargin: 1,\n\t\tpadding: 1\n\t};\n\nfunction getElementStyles() {\n\tvar style = document.defaultView\n\t\t\t? document.defaultView.getComputedStyle(this, null)\n\t\t\t: this.currentStyle,\n\t\tnewStyle = {},\n\t\tkey,\n\t\tcamelCase;\n\n\t// webkit enumerates style porperties\n\tif (style && style.length && style[0] && style[style[0]]) {\n\t\tvar len = style.length;\n\t\twhile (len--) {\n\t\t\tkey = style[len];\n\t\t\tif (typeof style[key] == 'string') {\n\t\t\t\tcamelCase = key.replace(/\\-(\\w)/g, function(all, letter){\n\t\t\t\t\treturn letter.toUpperCase();\n\t\t\t\t});\n\t\t\t\tnewStyle[camelCase] = style[key];\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (key in style) {\n\t\t\tif (typeof style[key] === 'string') {\n\t\t\t\tnewStyle[key] = style[key];\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn newStyle;\n}\n\nfunction filterStyles(styles) {\n\tvar name, value;\n\tfor (name in styles) {\n\t\tvalue = styles[name];\n\t\tif (\n\t\t\t// ignore null and undefined values\n\t\t\tvalue == null ||\n\t\t\t// ignore functions (when does this occur?)\n\t\t\t$.isFunction(value) ||\n\t\t\t// shorthand styles that need to be expanded\n\t\t\tname in shorthandStyles ||\n\t\t\t// ignore scrollbars (break in IE)\n\t\t\t(/scrollbar/).test(name) ||\n\n\t\t\t// only colors or values that can be converted to numbers\n\t\t\t(!(/color/i).test(name) && isNaN(parseFloat(value)))\n\t\t) {\n\t\t\tdelete styles[name];\n\t\t}\n\t}\n\t\n\treturn styles;\n}\n\nfunction styleDifference(oldStyle, newStyle) {\n\tvar diff = { _: 0 }, // http://dev.jquery.com/ticket/5459\n\t\tname;\n\n\tfor (name in newStyle) {\n\t\tif (oldStyle[name] != newStyle[name]) {\n\t\t\tdiff[name] = newStyle[name];\n\t\t}\n\t}\n\n\treturn diff;\n}\n\n$.effects.animateClass = function(value, duration, easing, callback) {\n\tif ($.isFunction(easing)) {\n\t\tcallback = easing;\n\t\teasing = null;\n\t}\n\n\treturn this.each(function() {\n\n\t\tvar that = $(this),\n\t\t\toriginalStyleAttr = that.attr('style') || ' ',\n\t\t\toriginalStyle = filterStyles(getElementStyles.call(this)),\n\t\t\tnewStyle,\n\t\t\tclassName = that.attr('className');\n\n\t\t$.each(classAnimationActions, function(i, action) {\n\t\t\tif (value[action]) {\n\t\t\t\tthat[action + 'Class'](value[action]);\n\t\t\t}\n\t\t});\n\t\tnewStyle = filterStyles(getElementStyles.call(this));\n\t\tthat.attr('className', className);\n\n\t\tthat.animate(styleDifference(originalStyle, newStyle), duration, easing, function() {\n\t\t\t$.each(classAnimationActions, function(i, action) {\n\t\t\t\tif (value[action]) { that[action + 'Class'](value[action]); }\n\t\t\t});\n\t\t\t// work around bug in IE by clearing the cssText before setting it\n\t\t\tif (typeof that.attr('style') == 'object') {\n\t\t\t\tthat.attr('style').cssText = '';\n\t\t\t\tthat.attr('style').cssText = originalStyleAttr;\n\t\t\t} else {\n\t\t\t\tthat.attr('style', originalStyleAttr);\n\t\t\t}\n\t\t\tif (callback) { callback.apply(this, arguments); }\n\t\t});\n\t});\n};\n\n$.fn.extend({\n\t_addClass: $.fn.addClass,\n\taddClass: function(classNames, speed, easing, callback) {\n\t\treturn speed ? $.effects.animateClass.apply(this, [{ add: classNames },speed,easing,callback]) : this._addClass(classNames);\n\t},\n\n\t_removeClass: $.fn.removeClass,\n\tremoveClass: function(classNames,speed,easing,callback) {\n\t\treturn speed ? $.effects.animateClass.apply(this, [{ remove: classNames },speed,easing,callback]) : this._removeClass(classNames);\n\t},\n\n\t_toggleClass: $.fn.toggleClass,\n\ttoggleClass: function(classNames, force, speed, easing, callback) {\n\t\tif ( typeof force == \"boolean\" || force === undefined ) {\n\t\t\tif ( !speed ) {\n\t\t\t\t// without speed parameter;\n\t\t\t\treturn this._toggleClass(classNames, force);\n\t\t\t} else {\n\t\t\t\treturn $.effects.animateClass.apply(this, [(force?{add:classNames}:{remove:classNames}),speed,easing,callback]);\n\t\t\t}\n\t\t} else {\n\t\t\t// without switch parameter;\n\t\t\treturn $.effects.animateClass.apply(this, [{ toggle: classNames },force,speed,easing]);\n\t\t}\n\t},\n\n\tswitchClass: function(remove,add,speed,easing,callback) {\n\t\treturn $.effects.animateClass.apply(this, [{ add: add, remove: remove },speed,easing,callback]);\n\t}\n});\n\n\n\n/******************************************************************************/\n/*********************************** EFFECTS **********************************/\n/******************************************************************************/\n\n$.extend($.effects, {\n\tversion: \"1.8.3\",\n\n\t// Saves a set of properties in a data storage\n\tsave: function(element, set) {\n\t\tfor(var i=0; i < set.length; i++) {\n\t\t\tif(set[i] !== null) element.data(\"ec.storage.\"+set[i], element[0].style[set[i]]);\n\t\t}\n\t},\n\n\t// Restores a set of previously saved properties from a data storage\n\trestore: function(element, set) {\n\t\tfor(var i=0; i < set.length; i++) {\n\t\t\tif(set[i] !== null) element.css(set[i], element.data(\"ec.storage.\"+set[i]));\n\t\t}\n\t},\n\n\tsetMode: function(el, mode) {\n\t\tif (mode == 'toggle') mode = el.is(':hidden') ? 'show' : 'hide'; // Set for toggle\n\t\treturn mode;\n\t},\n\n\tgetBaseline: function(origin, original) { // Translates a [top,left] array into a baseline value\n\t\t// this should be a little more flexible in the future to handle a string & hash\n\t\tvar y, x;\n\t\tswitch (origin[0]) {\n\t\t\tcase 'top': y = 0; break;\n\t\t\tcase 'middle': y = 0.5; break;\n\t\t\tcase 'bottom': y = 1; break;\n\t\t\tdefault: y = origin[0] / original.height;\n\t\t};\n\t\tswitch (origin[1]) {\n\t\t\tcase 'left': x = 0; break;\n\t\t\tcase 'center': x = 0.5; break;\n\t\t\tcase 'right': x = 1; break;\n\t\t\tdefault: x = origin[1] / original.width;\n\t\t};\n\t\treturn {x: x, y: y};\n\t},\n\n\t// Wraps the element around a wrapper that copies position properties\n\tcreateWrapper: function(element) {\n\n\t\t// if the element is already wrapped, return it\n\t\tif (element.parent().is('.ui-effects-wrapper')) {\n\t\t\treturn element.parent();\n\t\t}\n\n\t\t// wrap the element\n\t\tvar props = {\n\t\t\t\twidth: element.outerWidth(true),\n\t\t\t\theight: element.outerHeight(true),\n\t\t\t\t'float': element.css('float')\n\t\t\t},\n\t\t\twrapper = $('<div></div>')\n\t\t\t\t.addClass('ui-effects-wrapper')\n\t\t\t\t.css({\n\t\t\t\t\tfontSize: '100%',\n\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\tborder: 'none',\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tpadding: 0\n\t\t\t\t});\n\n\t\telement.wrap(wrapper);\n\t\twrapper = element.parent(); //Hotfix for jQuery 1.4 since some change in wrap() seems to actually loose the reference to the wrapped element\n\n\t\t// transfer positioning properties to the wrapper\n\t\tif (element.css('position') == 'static') {\n\t\t\twrapper.css({ position: 'relative' });\n\t\t\telement.css({ position: 'relative' });\n\t\t} else {\n\t\t\t$.extend(props, {\n\t\t\t\tposition: element.css('position'),\n\t\t\t\tzIndex: element.css('z-index')\n\t\t\t});\n\t\t\t$.each(['top', 'left', 'bottom', 'right'], function(i, pos) {\n\t\t\t\tprops[pos] = element.css(pos);\n\t\t\t\tif (isNaN(parseInt(props[pos], 10))) {\n\t\t\t\t\tprops[pos] = 'auto';\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.css({position: 'relative', top: 0, left: 0 });\n\t\t}\n\n\t\treturn wrapper.css(props).show();\n\t},\n\n\tremoveWrapper: function(element) {\n\t\tif (element.parent().is('.ui-effects-wrapper'))\n\t\t\treturn element.parent().replaceWith(element);\n\t\treturn element;\n\t},\n\n\tsetTransition: function(element, list, factor, value) {\n\t\tvalue = value || {};\n\t\t$.each(list, function(i, x){\n\t\t\tunit = element.cssUnit(x);\n\t\t\tif (unit[0] > 0) value[x] = unit[0] * factor + unit[1];\n\t\t});\n\t\treturn value;\n\t}\n});\n\n\nfunction _normalizeArguments(effect, options, speed, callback) {\n\t// shift params for method overloading\n\tif (typeof effect == 'object') {\n\t\tcallback = options;\n\t\tspeed = null;\n\t\toptions = effect;\n\t\teffect = options.effect;\n\t}\n\tif ($.isFunction(options)) {\n\t\tcallback = options;\n\t\tspeed = null;\n\t\toptions = {};\n\t}\n        if (typeof options == 'number' || $.fx.speeds[options]) {\n\t\tcallback = speed;\n\t\tspeed = options;\n\t\toptions = {};\n\t}\n\tif ($.isFunction(speed)) {\n\t\tcallback = speed;\n\t\tspeed = null;\n\t}\n\n\toptions = options || {};\n\n\tspeed = speed || options.duration;\n\tspeed = $.fx.off ? 0 : typeof speed == 'number'\n\t\t? speed : $.fx.speeds[speed] || $.fx.speeds._default;\n\n\tcallback = callback || options.complete;\n\n\treturn [effect, options, speed, callback];\n}\n\n$.fn.extend({\n\teffect: function(effect, options, speed, callback) {\n\t\tvar args = _normalizeArguments.apply(this, arguments),\n\t\t\t// TODO: make effects takes actual parameters instead of a hash\n\t\t\targs2 = {\n\t\t\t\toptions: args[1],\n\t\t\t\tduration: args[2],\n\t\t\t\tcallback: args[3]\n\t\t\t},\n\t\t\teffectMethod = $.effects[effect];\n\t\t\n\t\treturn effectMethod && !$.fx.off ? effectMethod.call(this, args2) : this;\n\t},\n\n\t_show: $.fn.show,\n\tshow: function(speed) {\n\t\tif (!speed || typeof speed == 'number' || $.fx.speeds[speed]) {\n\t\t\treturn this._show.apply(this, arguments);\n\t\t} else {\n\t\t\tvar args = _normalizeArguments.apply(this, arguments);\n\t\t\targs[1].mode = 'show';\n\t\t\treturn this.effect.apply(this, args);\n\t\t}\n\t},\n\n\t_hide: $.fn.hide,\n\thide: function(speed) {\n\t\tif (!speed || typeof speed == 'number' || $.fx.speeds[speed]) {\n\t\t\treturn this._hide.apply(this, arguments);\n\t\t} else {\n\t\t\tvar args = _normalizeArguments.apply(this, arguments);\n\t\t\targs[1].mode = 'hide';\n\t\t\treturn this.effect.apply(this, args);\n\t\t}\n\t},\n\n\t// jQuery core overloads toggle and create _toggle\n\t__toggle: $.fn.toggle,\n\ttoggle: function(speed) {\n\t\tif (!speed || typeof speed == 'number' || $.fx.speeds[speed] ||\n\t\t\ttypeof speed == 'boolean' || $.isFunction(speed)) {\n\t\t\treturn this.__toggle.apply(this, arguments);\n\t\t} else {\n\t\t\tvar args = _normalizeArguments.apply(this, arguments);\n\t\t\targs[1].mode = 'toggle';\n\t\t\treturn this.effect.apply(this, args);\n\t\t}\n\t},\n\n\t// helper functions\n\tcssUnit: function(key) {\n\t\tvar style = this.css(key), val = [];\n\t\t$.each( ['em','px','%','pt'], function(i, unit){\n\t\t\tif(style.indexOf(unit) > 0)\n\t\t\t\tval = [parseFloat(style), unit];\n\t\t});\n\t\treturn val;\n\t}\n});\n\n\n\n/******************************************************************************/\n/*********************************** EASING ***********************************/\n/******************************************************************************/\n\n/*\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\n *\n * Uses the built in easing capabilities added In jQuery 1.1\n * to offer multiple easing options\n *\n * TERMS OF USE - jQuery Easing\n *\n * Open source under the BSD License.\n *\n * Copyright 2008 George McGinley Smith\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n*/\n\n// t: current time, b: begInnIng value, c: change In value, d: duration\n$.easing.jswing = $.easing.swing;\n\n$.extend($.easing,\n{\n\tdef: 'easeOutQuad',\n\tswing: function (x, t, b, c, d) {\n\t\t//alert($.easing.default);\n\t\treturn $.easing[$.easing.def](x, t, b, c, d);\n\t},\n\teaseInQuad: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t + b;\n\t},\n\teaseOutQuad: function (x, t, b, c, d) {\n\t\treturn -c *(t/=d)*(t-2) + b;\n\t},\n\teaseInOutQuad: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t + b;\n\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\n\t},\n\teaseInCubic: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t + b;\n\t},\n\teaseOutCubic: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t + 1) + b;\n\t},\n\teaseInOutCubic: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t + 2) + b;\n\t},\n\teaseInQuart: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t + b;\n\t},\n\teaseOutQuart: function (x, t, b, c, d) {\n\t\treturn -c * ((t=t/d-1)*t*t*t - 1) + b;\n\t},\n\teaseInOutQuart: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n\t\treturn -c/2 * ((t-=2)*t*t*t - 2) + b;\n\t},\n\teaseInQuint: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t*t + b;\n\t},\n\teaseOutQuint: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\n\t},\n\teaseInOutQuint: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t*t*t + 2) + b;\n\t},\n\teaseInSine: function (x, t, b, c, d) {\n\t\treturn -c * Math.cos(t/d * (Math.PI/2)) + c + b;\n\t},\n\teaseOutSine: function (x, t, b, c, d) {\n\t\treturn c * Math.sin(t/d * (Math.PI/2)) + b;\n\t},\n\teaseInOutSine: function (x, t, b, c, d) {\n\t\treturn -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\n\t},\n\teaseInExpo: function (x, t, b, c, d) {\n\t\treturn (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n\t},\n\teaseOutExpo: function (x, t, b, c, d) {\n\t\treturn (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n\t},\n\teaseInOutExpo: function (x, t, b, c, d) {\n\t\tif (t==0) return b;\n\t\tif (t==d) return b+c;\n\t\tif ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\treturn c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\n\t},\n\teaseInCirc: function (x, t, b, c, d) {\n\t\treturn -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\n\t},\n\teaseOutCirc: function (x, t, b, c, d) {\n\t\treturn c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n\t},\n\teaseInOutCirc: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\n\t\treturn c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\n\t},\n\teaseInElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t},\n\teaseOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n\t},\n\teaseInOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\tif (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\n\t},\n\teaseInBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\n\t},\n\teaseOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n\t},\n\teaseInOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\tif ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n\t},\n\teaseInBounce: function (x, t, b, c, d) {\n\t\treturn c - $.easing.easeOutBounce (x, d-t, 0, c, d) + b;\n\t},\n\teaseOutBounce: function (x, t, b, c, d) {\n\t\tif ((t/=d) < (1/2.75)) {\n\t\t\treturn c*(7.5625*t*t) + b;\n\t\t} else if (t < (2/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n\t\t} else if (t < (2.5/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n\t\t} else {\n\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n\t\t}\n\t},\n\teaseInOutBounce: function (x, t, b, c, d) {\n\t\tif (t < d/2) return $.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\n\t\treturn $.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\n\t}\n});\n\n/*\n *\n * TERMS OF USE - EASING EQUATIONS\n *\n * Open source under the BSD License.\n *\n * Copyright 2001 Robert Penner\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\n\n})(jQuery);\n","/*\n * jQuery UI Effects Blind 1.8.3\n *\n * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Effects/Blind\n *\n * Depends:\n *\tjquery.effects.core.js\n */\n(function( $, undefined ) {\n\n$.effects.blind = function(o) {\n\n\treturn this.queue(function() {\n\n\t\t// Create element\n\t\tvar el = $(this), props = ['position','top','left'];\n\n\t\t// Set options\n\t\tvar mode = $.effects.setMode(el, o.options.mode || 'hide'); // Set Mode\n\t\tvar direction = o.options.direction || 'vertical'; // Default direction\n\n\t\t// Adjust\n\t\t$.effects.save(el, props); el.show(); // Save & Show\n\t\tvar wrapper = $.effects.createWrapper(el).css({overflow:'hidden'}); // Create Wrapper\n\t\tvar ref = (direction == 'vertical') ? 'height' : 'width';\n\t\tvar distance = (direction == 'vertical') ? wrapper.height() : wrapper.width();\n\t\tif(mode == 'show') wrapper.css(ref, 0); // Shift\n\n\t\t// Animation\n\t\tvar animation = {};\n\t\tanimation[ref] = mode == 'show' ? distance : 0;\n\n\t\t// Animate\n\t\twrapper.animate(animation, o.duration, o.options.easing, function() {\n\t\t\tif(mode == 'hide') el.hide(); // Hide\n\t\t\t$.effects.restore(el, props); $.effects.removeWrapper(el); // Restore\n\t\t\tif(o.callback) o.callback.apply(el[0], arguments); // Callback\n\t\t\tel.dequeue();\n\t\t});\n\n\t});\n\n};\n\n})(jQuery);\n","/*\n * jQuery UI Effects Highlight 1.8.3\n *\n * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Effects/Highlight\n *\n * Depends:\n *\tjquery.effects.core.js\n */\n(function( $, undefined ) {\n\n$.effects.highlight = function(o) {\n\treturn this.queue(function() {\n\t\tvar elem = $(this),\n\t\t\tprops = ['backgroundImage', 'backgroundColor', 'opacity'],\n\t\t\tmode = $.effects.setMode(elem, o.options.mode || 'show'),\n\t\t\tanimation = {\n\t\t\t\tbackgroundColor: elem.css('backgroundColor')\n\t\t\t};\n\n\t\tif (mode == 'hide') {\n\t\t\tanimation.opacity = 0;\n\t\t}\n\n\t\t$.effects.save(elem, props);\n\t\telem\n\t\t\t.show()\n\t\t\t.css({\n\t\t\t\tbackgroundImage: 'none',\n\t\t\t\tbackgroundColor: o.options.color || '#ffff99'\n\t\t\t})\n\t\t\t.animate(animation, {\n\t\t\t\tqueue: false,\n\t\t\t\tduration: o.duration,\n\t\t\t\teasing: o.options.easing,\n\t\t\t\tcomplete: function() {\n\t\t\t\t\t(mode == 'hide' && elem.hide());\n\t\t\t\t\t$.effects.restore(elem, props);\n\t\t\t\t\t(mode == 'show' && !$.support.opacity && this.style.removeAttribute('filter'));\n\t\t\t\t\t(o.callback && o.callback.apply(this, arguments));\n\t\t\t\t\telem.dequeue();\n\t\t\t\t}\n\t\t\t});\n\t});\n};\n\n})(jQuery);\n","/*!\n * jQuery UI Autocomplete 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Autocomplete\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n *\tjquery.ui.position.js\n */\n(function( $, undefined ) {\n\n// used to prevent race conditions with remote data sources\nvar requestIndex = 0;\n\n$.widget( \"ui.autocomplete\", {\n\toptions: {\n\t\tappendTo: \"body\",\n\t\tautoFocus: false,\n\t\tdelay: 300,\n\t\tminLength: 1,\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"left bottom\",\n\t\t\tcollision: \"none\"\n\t\t},\n\t\tsource: null\n\t},\n\n\tpending: 0,\n\n\t_create: function() {\n\t\tvar self = this,\n\t\t\tdoc = this.element[ 0 ].ownerDocument,\n\t\t\tsuppressKeyPress;\n\t\tthis.isMultiLine = this.element.is( \"textarea\" );\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-autocomplete-input\" )\n\t\t\t.attr( \"autocomplete\", \"off\" )\n\t\t\t// TODO verify these actually work as intended\n\t\t\t.attr({\n\t\t\t\trole: \"textbox\",\n\t\t\t\t\"aria-autocomplete\": \"list\",\n\t\t\t\t\"aria-haspopup\": \"true\"\n\t\t\t})\n\t\t\t.bind( \"keydown.autocomplete\", function( event ) {\n\t\t\t\tif ( self.options.disabled || self.element.propAttr( \"readOnly\" ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsuppressKeyPress = false;\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tself._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tself._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tself._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tself._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ENTER:\n\t\t\t\tcase keyCode.NUMPAD_ENTER:\n\t\t\t\t\t// when menu is open and has focus\n\t\t\t\t\tif ( self.menu.active ) {\n\t\t\t\t\t\t// #6055 - Opera still allows the keypress to occur\n\t\t\t\t\t\t// which causes forms to submit\n\t\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\t//passthrough - ENTER and TAB both select the current element\n\t\t\t\tcase keyCode.TAB:\n\t\t\t\t\tif ( !self.menu.active ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tself.menu.select( event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ESCAPE:\n\t\t\t\t\tself.element.val( self.term );\n\t\t\t\t\tself.close( event );\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// keypress is triggered before the input value is changed\n\t\t\t\t\tclearTimeout( self.searching );\n\t\t\t\t\tself.searching = setTimeout(function() {\n\t\t\t\t\t\t// only search if the value has changed\n\t\t\t\t\t\tif ( self.term != self.element.val() ) {\n\t\t\t\t\t\t\tself.selectedItem = null;\n\t\t\t\t\t\t\tself.search( null, event );\n\t\t\t\t\t\t}\n\t\t\t\t\t}, self.options.delay );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.bind( \"keypress.autocomplete\", function( event ) {\n\t\t\t\tif ( suppressKeyPress ) {\n\t\t\t\t\tsuppressKeyPress = false;\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.bind( \"focus.autocomplete\", function() {\n\t\t\t\tif ( self.options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tself.selectedItem = null;\n\t\t\t\tself.previous = self.element.val();\n\t\t\t})\n\t\t\t.bind( \"blur.autocomplete\", function( event ) {\n\t\t\t\tif ( self.options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tclearTimeout( self.searching );\n\t\t\t\t// clicks on the menu (or a button to trigger a search) will cause a blur event\n\t\t\t\tself.closing = setTimeout(function() {\n\t\t\t\t\tself.close( event );\n\t\t\t\t\tself._change( event );\n\t\t\t\t}, 150 );\n\t\t\t});\n\t\tthis._initSource();\n\t\tthis.menu = $( \"<ul></ul>\" )\n\t\t\t.addClass( \"ui-autocomplete\" )\n\t\t\t.appendTo( $( this.options.appendTo || \"body\", doc )[0] )\n\t\t\t// prevent the close-on-blur in case of a \"slow\" click on the menu (long mousedown)\n\t\t\t.mousedown(function( event ) {\n\t\t\t\t// clicking on the scrollbar causes focus to shift to the body\n\t\t\t\t// but we can't detect a mouseup or a click immediately afterward\n\t\t\t\t// so we have to track the next mousedown and close the menu if\n\t\t\t\t// the user clicks somewhere outside of the autocomplete\n\t\t\t\tvar menuElement = self.menu.element[ 0 ];\n\t\t\t\tif ( !$( event.target ).closest( \".ui-menu-item\" ).length ) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t$( document ).one( 'mousedown', function( event ) {\n\t\t\t\t\t\t\tif ( event.target !== self.element[ 0 ] &&\n\t\t\t\t\t\t\t\tevent.target !== menuElement &&\n\t\t\t\t\t\t\t\t!$.ui.contains( menuElement, event.target ) ) {\n\t\t\t\t\t\t\t\tself.close();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}, 1 );\n\t\t\t\t}\n\n\t\t\t\t// use another timeout to make sure the blur-event-handler on the input was already triggered\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tclearTimeout( self.closing );\n\t\t\t\t}, 13);\n\t\t\t})\n\t\t\t.menu({\n\t\t\t\tfocus: function( event, ui ) {\n\t\t\t\t\tvar item = ui.item.data( \"item.autocomplete\" );\n\t\t\t\t\tif ( false !== self._trigger( \"focus\", event, { item: item } ) ) {\n\t\t\t\t\t\t// use value to match what will end up in the input, if it was a key event\n\t\t\t\t\t\tif ( /^key/.test(event.originalEvent.type) ) {\n\t\t\t\t\t\t\tself.element.val( item.value );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tselected: function( event, ui ) {\n\t\t\t\t\tvar item = ui.item.data( \"item.autocomplete\" ),\n\t\t\t\t\t\tprevious = self.previous;\n\n\t\t\t\t\t// only trigger when focus was lost (click on menu)\n\t\t\t\t\tif ( self.element[0] !== doc.activeElement ) {\n\t\t\t\t\t\tself.element.focus();\n\t\t\t\t\t\tself.previous = previous;\n\t\t\t\t\t\t// #6109 - IE triggers two focus events and the second\n\t\t\t\t\t\t// is asynchronous, so we need to reset the previous\n\t\t\t\t\t\t// term synchronously and asynchronously :-(\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tself.previous = previous;\n\t\t\t\t\t\t\tself.selectedItem = item;\n\t\t\t\t\t\t}, 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( false !== self._trigger( \"select\", event, { item: item } ) ) {\n\t\t\t\t\t\tself.element.val( item.value );\n\t\t\t\t\t}\n\t\t\t\t\t// reset the term after the select event\n\t\t\t\t\t// this allows custom select handling to work properly\n\t\t\t\t\tself.term = self.element.val();\n\n\t\t\t\t\tself.close( event );\n\t\t\t\t\tself.selectedItem = item;\n\t\t\t\t},\n\t\t\t\tblur: function( event, ui ) {\n\t\t\t\t\t// don't set the value of the text field if it's already correct\n\t\t\t\t\t// this prevents moving the cursor unnecessarily\n\t\t\t\t\tif ( self.menu.element.is(\":visible\") &&\n\t\t\t\t\t\t( self.element.val() !== self.term ) ) {\n\t\t\t\t\t\tself.element.val( self.term );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.zIndex( this.element.zIndex() + 1 )\n\t\t\t// workaround for jQuery bug #5781 http://dev.jquery.com/ticket/5781\n\t\t\t.css({ top: 0, left: 0 })\n\t\t\t.hide()\n\t\t\t.data( \"menu\" );\n\t\tif ( $.fn.bgiframe ) {\n\t\t\t this.menu.element.bgiframe();\n\t\t}\n\t\t// turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tself.beforeunloadHandler = function() {\n\t\t\tself.element.removeAttr( \"autocomplete\" );\n\t\t};\n\t\t$( window ).bind( \"beforeunload\", self.beforeunloadHandler );\n\t},\n\n\tdestroy: function() {\n\t\tthis.element\n\t\t\t.removeClass( \"ui-autocomplete-input\" )\n\t\t\t.removeAttr( \"autocomplete\" )\n\t\t\t.removeAttr( \"role\" )\n\t\t\t.removeAttr( \"aria-autocomplete\" )\n\t\t\t.removeAttr( \"aria-haspopup\" );\n\t\tthis.menu.element.remove();\n\t\t$( window ).unbind( \"beforeunload\", this.beforeunloadHandler );\n\t\t$.Widget.prototype.destroy.call( this );\n\t},\n\n\t_setOption: function( key, value ) {\n\t\t$.Widget.prototype._setOption.apply( this, arguments );\n\t\tif ( key === \"source\" ) {\n\t\t\tthis._initSource();\n\t\t}\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.menu.element.appendTo( $( value || \"body\", this.element[0].ownerDocument )[0] )\n\t\t}\n\t\tif ( key === \"disabled\" && value && this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\t},\n\n\t_initSource: function() {\n\t\tvar self = this,\n\t\t\tarray,\n\t\t\turl;\n\t\tif ( $.isArray(this.options.source) ) {\n\t\t\tarray = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tresponse( $.ui.autocomplete.filter(array, request.term) );\n\t\t\t};\n\t\t} else if ( typeof this.options.source === \"string\" ) {\n\t\t\turl = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tif ( self.xhr ) {\n\t\t\t\t\tself.xhr.abort();\n\t\t\t\t}\n\t\t\t\tself.xhr = $.ajax({\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: request,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: function( data, status ) {\n\t\t\t\t\t\tresponse( data );\n\t\t\t\t\t},\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tresponse( [] );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t} else {\n\t\t\tthis.source = this.options.source;\n\t\t}\n\t},\n\n\tsearch: function( value, event ) {\n\t\tvalue = value != null ? value : this.element.val();\n\n\t\t// always save the actual value, not the one passed as an argument\n\t\tthis.term = this.element.val();\n\n\t\tif ( value.length < this.options.minLength ) {\n\t\t\treturn this.close( event );\n\t\t}\n\n\t\tclearTimeout( this.closing );\n\t\tif ( this._trigger( \"search\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._search( value );\n\t},\n\n\t_search: function( value ) {\n\t\tthis.pending++;\n\t\tthis.element.addClass( \"ui-autocomplete-loading\" );\n\n\t\tthis.source( { term: value }, this._response() );\n\t},\n\n\t_response: function() {\n\t\tvar that = this,\n\t\t\tindex = ++requestIndex;\n\n\t\treturn function( content ) {\n\t\t\tif ( index === requestIndex ) {\n\t\t\t\tthat.__response( content );\n\t\t\t}\n\n\t\t\tthat.pending--;\n\t\t\tif ( !that.pending ) {\n\t\t\t\tthat.element.removeClass( \"ui-autocomplete-loading\" );\n\t\t\t}\n\t\t};\n\t},\n\n\t__response: function( content ) {\n\t\tif ( !this.options.disabled && content && content.length ) {\n\t\t\tcontent = this._normalize( content );\n\t\t\tthis._suggest( content );\n\t\t\tthis._trigger( \"open\" );\n\t\t} else {\n\t\t\tthis.close();\n\t\t}\n\t},\n\n\tclose: function( event ) {\n\t\tclearTimeout( this.closing );\n\t\tif ( this.menu.element.is(\":visible\") ) {\n\t\t\tthis.menu.element.hide();\n\t\t\tthis.menu.deactivate();\n\t\t\tthis._trigger( \"close\", event );\n\t\t}\n\t},\n\t\n\t_change: function( event ) {\n\t\tif ( this.previous !== this.element.val() ) {\n\t\t\tthis._trigger( \"change\", event, { item: this.selectedItem } );\n\t\t}\n\t},\n\n\t_normalize: function( items ) {\n\t\t// assume all items have the right format when the first item is complete\n\t\tif ( items.length && items[0].label && items[0].value ) {\n\t\t\treturn items;\n\t\t}\n\t\treturn $.map( items, function(item) {\n\t\t\tif ( typeof item === \"string\" ) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tvalue: item\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn $.extend({\n\t\t\t\tlabel: item.label || item.value,\n\t\t\t\tvalue: item.value || item.label\n\t\t\t}, item );\n\t\t});\n\t},\n\n\t_suggest: function( items ) {\n\t\tvar ul = this.menu.element\n\t\t\t.empty()\n\t\t\t.zIndex( this.element.zIndex() + 1 );\n\t\tthis._renderMenu( ul, items );\n\t\t// TODO refresh should check if the active item is still in the dom, removing the need for a manual deactivate\n\t\tthis.menu.deactivate();\n\t\tthis.menu.refresh();\n\n\t\t// size and position menu\n\t\tul.show();\n\t\tthis._resizeMenu();\n\t\tul.position( $.extend({\n\t\t\tof: this.element\n\t\t}, this.options.position ));\n\n\t\tif ( this.options.autoFocus ) {\n\t\t\tthis.menu.next( new $.Event(\"mouseover\") );\n\t\t}\n\t},\n\n\t_resizeMenu: function() {\n\t\tvar ul = this.menu.element;\n\t\tul.outerWidth( Math.max(\n\t\t\t// Firefox wraps long text (possibly a rounding bug)\n\t\t\t// so we add 1px to avoid the wrapping (#7513)\n\t\t\tul.width( \"\" ).outerWidth() + 1,\n\t\t\tthis.element.outerWidth()\n\t\t) );\n\t},\n\n\t_renderMenu: function( ul, items ) {\n\t\tvar self = this;\n\t\t$.each( items, function( index, item ) {\n\t\t\tself._renderItem( ul, item );\n\t\t});\n\t},\n\n\t_renderItem: function( ul, item) {\n\t\treturn $( \"<li></li>\" )\n\t\t\t.data( \"item.autocomplete\", item )\n\t\t\t.append( $( \"<a></a>\" ).text( item.label ) )\n\t\t\t.appendTo( ul );\n\t},\n\n\t_move: function( direction, event ) {\n\t\tif ( !this.menu.element.is(\":visible\") ) {\n\t\t\tthis.search( null, event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.menu.first() && /^previous/.test(direction) ||\n\t\t\t\tthis.menu.last() && /^next/.test(direction) ) {\n\t\t\tthis.element.val( this.term );\n\t\t\tthis.menu.deactivate();\n\t\t\treturn;\n\t\t}\n\t\tthis.menu[ direction ]( event );\n\t},\n\n\twidget: function() {\n\t\treturn this.menu.element;\n\t},\n\t_keyEvent: function( keyEvent, event ) {\n\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis._move( keyEvent, event );\n\n\t\t\t// prevents moving cursor to beginning/end of the text field in some browsers\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n});\n\n$.extend( $.ui.autocomplete, {\n\tescapeRegex: function( value ) {\n\t\treturn value.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n\t},\n\tfilter: function(array, term) {\n\t\tvar matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), \"i\" );\n\t\treturn $.grep( array, function(value) {\n\t\t\treturn matcher.test( value.label || value.value || value );\n\t\t});\n\t}\n});\n\n}( jQuery ));\n\n/*\n * jQuery UI Menu (not officially released)\n * \n * This widget isn't yet finished and the API is subject to change. We plan to finish\n * it for the next release. You're welcome to give it a try anyway and give us feedback,\n * as long as you're okay with migrating your code later on. We can help with that, too.\n *\n * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Menu\n *\n * Depends:\n *\tjquery.ui.core.js\n *  jquery.ui.widget.js\n */\n(function($) {\n\n$.widget(\"ui.menu\", {\n\t_create: function() {\n\t\tvar self = this;\n\t\tthis.element\n\t\t\t.addClass(\"ui-menu ui-widget ui-widget-content ui-corner-all\")\n\t\t\t.attr({\n\t\t\t\trole: \"listbox\",\n\t\t\t\t\"aria-activedescendant\": \"ui-active-menuitem\"\n\t\t\t})\n\t\t\t.click(function( event ) {\n\t\t\t\tif ( !$( event.target ).closest( \".ui-menu-item a\" ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// temporary\n\t\t\t\tevent.preventDefault();\n\t\t\t\tself.select( event );\n\t\t\t});\n\t\tthis.refresh();\n\t},\n\t\n\trefresh: function() {\n\t\tvar self = this;\n\n\t\t// don't refresh list items that are already adapted\n\t\tvar items = this.element.children(\"li:not(.ui-menu-item):has(a)\")\n\t\t\t.addClass(\"ui-menu-item\")\n\t\t\t.attr(\"role\", \"menuitem\");\n\t\t\n\t\titems.children(\"a\")\n\t\t\t.addClass(\"ui-corner-all\")\n\t\t\t.attr(\"tabindex\", -1)\n\t\t\t// mouseenter doesn't work with event delegation\n\t\t\t.mouseenter(function( event ) {\n\t\t\t\tself.activate( event, $(this).parent() );\n\t\t\t})\n\t\t\t.mouseleave(function() {\n\t\t\t\tself.deactivate();\n\t\t\t});\n\t},\n\n\tactivate: function( event, item ) {\n\t\tthis.deactivate();\n\t\tif (this.hasScroll()) {\n\t\t\tvar offset = item.offset().top - this.element.offset().top,\n\t\t\t\tscroll = this.element.scrollTop(),\n\t\t\t\telementHeight = this.element.height();\n\t\t\tif (offset < 0) {\n\t\t\t\tthis.element.scrollTop( scroll + offset);\n\t\t\t} else if (offset >= elementHeight) {\n\t\t\t\tthis.element.scrollTop( scroll + offset - elementHeight + item.height());\n\t\t\t}\n\t\t}\n\t\tthis.active = item.eq(0)\n\t\t\t.children(\"a\")\n\t\t\t\t.addClass(\"ui-state-hover\")\n\t\t\t\t.attr(\"id\", \"ui-active-menuitem\")\n\t\t\t.end();\n\t\tthis._trigger(\"focus\", event, { item: item });\n\t},\n\n\tdeactivate: function() {\n\t\tif (!this.active) { return; }\n\n\t\tthis.active.children(\"a\")\n\t\t\t.removeClass(\"ui-state-hover\")\n\t\t\t.removeAttr(\"id\");\n\t\tthis._trigger(\"blur\");\n\t\tthis.active = null;\n\t},\n\n\tnext: function(event) {\n\t\tthis.move(\"next\", \".ui-menu-item:first\", event);\n\t},\n\n\tprevious: function(event) {\n\t\tthis.move(\"prev\", \".ui-menu-item:last\", event);\n\t},\n\n\tfirst: function() {\n\t\treturn this.active && !this.active.prevAll(\".ui-menu-item\").length;\n\t},\n\n\tlast: function() {\n\t\treturn this.active && !this.active.nextAll(\".ui-menu-item\").length;\n\t},\n\n\tmove: function(direction, edge, event) {\n\t\tif (!this.active) {\n\t\t\tthis.activate(event, this.element.children(edge));\n\t\t\treturn;\n\t\t}\n\t\tvar next = this.active[direction + \"All\"](\".ui-menu-item\").eq(0);\n\t\tif (next.length) {\n\t\t\tthis.activate(event, next);\n\t\t} else {\n\t\t\tthis.activate(event, this.element.children(edge));\n\t\t}\n\t},\n\n\t// TODO merge with previousPage\n\tnextPage: function(event) {\n\t\tif (this.hasScroll()) {\n\t\t\t// TODO merge with no-scroll-else\n\t\t\tif (!this.active || this.last()) {\n\t\t\t\tthis.activate(event, this.element.children(\".ui-menu-item:first\"));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar base = this.active.offset().top,\n\t\t\t\theight = this.element.height(),\n\t\t\t\tresult = this.element.children(\".ui-menu-item\").filter(function() {\n\t\t\t\t\tvar close = $(this).offset().top - base - height + $(this).height();\n\t\t\t\t\t// TODO improve approximation\n\t\t\t\t\treturn close < 10 && close > -10;\n\t\t\t\t});\n\n\t\t\t// TODO try to catch this earlier when scrollTop indicates the last page anyway\n\t\t\tif (!result.length) {\n\t\t\t\tresult = this.element.children(\".ui-menu-item:last\");\n\t\t\t}\n\t\t\tthis.activate(event, result);\n\t\t} else {\n\t\t\tthis.activate(event, this.element.children(\".ui-menu-item\")\n\t\t\t\t.filter(!this.active || this.last() ? \":first\" : \":last\"));\n\t\t}\n\t},\n\n\t// TODO merge with nextPage\n\tpreviousPage: function(event) {\n\t\tif (this.hasScroll()) {\n\t\t\t// TODO merge with no-scroll-else\n\t\t\tif (!this.active || this.first()) {\n\t\t\t\tthis.activate(event, this.element.children(\".ui-menu-item:last\"));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar base = this.active.offset().top,\n\t\t\t\theight = this.element.height(),\n\t\t\t\tresult = this.element.children(\".ui-menu-item\").filter(function() {\n\t\t\t\t\tvar close = $(this).offset().top - base + height - $(this).height();\n\t\t\t\t\t// TODO improve approximation\n\t\t\t\t\treturn close < 10 && close > -10;\n\t\t\t\t});\n\n\t\t\t// TODO try to catch this earlier when scrollTop indicates the last page anyway\n\t\t\tif (!result.length) {\n\t\t\t\tresult = this.element.children(\".ui-menu-item:first\");\n\t\t\t}\n\t\t\tthis.activate(event, result);\n\t\t} else {\n\t\t\tthis.activate(event, this.element.children(\".ui-menu-item\")\n\t\t\t\t.filter(!this.active || this.first() ? \":last\" : \":first\"));\n\t\t}\n\t},\n\n\thasScroll: function() {\n\t\treturn this.element.height() < this.element[ $.fn.prop ? \"prop\" : \"attr\" ](\"scrollHeight\");\n\t},\n\n\tselect: function( event ) {\n\t\tthis._trigger(\"selected\", event, { item: this.active });\n\t}\n});\n\n}(jQuery));\n","/*!\n * jQuery UI 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI\n */\n(function( $, undefined ) {\n\n// prevent duplicate loading\n// this is only a problem because we proxy existing functions\n// and we don't want to double proxy them\n$.ui = $.ui || {};\nif ( $.ui.version ) {\n\treturn;\n}\n\n$.extend( $.ui, {\n\tversion: \"1.8.23\",\n\n\tkeyCode: {\n\t\tALT: 18,\n\t\tBACKSPACE: 8,\n\t\tCAPS_LOCK: 20,\n\t\tCOMMA: 188,\n\t\tCOMMAND: 91,\n\t\tCOMMAND_LEFT: 91, // COMMAND\n\t\tCOMMAND_RIGHT: 93,\n\t\tCONTROL: 17,\n\t\tDELETE: 46,\n\t\tDOWN: 40,\n\t\tEND: 35,\n\t\tENTER: 13,\n\t\tESCAPE: 27,\n\t\tHOME: 36,\n\t\tINSERT: 45,\n\t\tLEFT: 37,\n\t\tMENU: 93, // COMMAND_RIGHT\n\t\tNUMPAD_ADD: 107,\n\t\tNUMPAD_DECIMAL: 110,\n\t\tNUMPAD_DIVIDE: 111,\n\t\tNUMPAD_ENTER: 108,\n\t\tNUMPAD_MULTIPLY: 106,\n\t\tNUMPAD_SUBTRACT: 109,\n\t\tPAGE_DOWN: 34,\n\t\tPAGE_UP: 33,\n\t\tPERIOD: 190,\n\t\tRIGHT: 39,\n\t\tSHIFT: 16,\n\t\tSPACE: 32,\n\t\tTAB: 9,\n\t\tUP: 38,\n\t\tWINDOWS: 91 // COMMAND\n\t}\n});\n\n// plugins\n$.fn.extend({\n\tpropAttr: $.fn.prop || $.fn.attr,\n\n\t_focus: $.fn.focus,\n\tfocus: function( delay, fn ) {\n\t\treturn typeof delay === \"number\" ?\n\t\t\tthis.each(function() {\n\t\t\t\tvar elem = this;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$( elem ).focus();\n\t\t\t\t\tif ( fn ) {\n\t\t\t\t\t\tfn.call( elem );\n\t\t\t\t\t}\n\t\t\t\t}, delay );\n\t\t\t}) :\n\t\t\tthis._focus.apply( this, arguments );\n\t},\n\n\tscrollParent: function() {\n\t\tvar scrollParent;\n\t\tif (($.browser.msie && (/(static|relative)/).test(this.css('position'))) || (/absolute/).test(this.css('position'))) {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(relative|absolute|fixed)/).test($.curCSS(this,'position',1)) && (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));\n\t\t\t}).eq(0);\n\t\t} else {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));\n\t\t\t}).eq(0);\n\t\t}\n\n\t\treturn (/fixed/).test(this.css('position')) || !scrollParent.length ? $(document) : scrollParent;\n\t},\n\n\tzIndex: function( zIndex ) {\n\t\tif ( zIndex !== undefined ) {\n\t\t\treturn this.css( \"zIndex\", zIndex );\n\t\t}\n\n\t\tif ( this.length ) {\n\t\t\tvar elem = $( this[ 0 ] ), position, value;\n\t\t\twhile ( elem.length && elem[ 0 ] !== document ) {\n\t\t\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t\t// This makes behavior of this function consistent across browsers\n\t\t\t\t// WebKit always returns auto if the element is positioned\n\t\t\t\tposition = elem.css( \"position\" );\n\t\t\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\t\t\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t\t\t// other browsers return a string\n\t\t\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telem = elem.parent();\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t},\n\n\tdisableSelection: function() {\n\t\treturn this.bind( ( $.support.selectstart ? \"selectstart\" : \"mousedown\" ) +\n\t\t\t\".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t},\n\n\tenableSelection: function() {\n\t\treturn this.unbind( \".ui-disableSelection\" );\n\t}\n});\n\n// support: jQuery <1.8\nif ( !$( \"<a>\" ).outerWidth( 1 ).jquery ) {\n\t$.each( [ \"Width\", \"Height\" ], function( i, name ) {\n\t\tvar side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n\t\t\ttype = name.toLowerCase(),\n\t\t\torig = {\n\t\t\t\tinnerWidth: $.fn.innerWidth,\n\t\t\t\tinnerHeight: $.fn.innerHeight,\n\t\t\t\touterWidth: $.fn.outerWidth,\n\t\t\t\touterHeight: $.fn.outerHeight\n\t\t\t};\n\n\t\tfunction reduce( elem, size, border, margin ) {\n\t\t\t$.each( side, function() {\n\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"padding\" + this, true) ) || 0;\n\t\t\t\tif ( border ) {\n\t\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"border\" + this + \"Width\", true) ) || 0;\n\t\t\t\t}\n\t\t\t\tif ( margin ) {\n\t\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"margin\" + this, true) ) || 0;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn size;\n\t\t}\n\n\t\t$.fn[ \"inner\" + name ] = function( size ) {\n\t\t\tif ( size === undefined ) {\n\t\t\t\treturn orig[ \"inner\" + name ].call( this );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this ).css( type, reduce( this, size ) + \"px\" );\n\t\t\t});\n\t\t};\n\n\t\t$.fn[ \"outer\" + name] = function( size, margin ) {\n\t\t\tif ( typeof size !== \"number\" ) {\n\t\t\t\treturn orig[ \"outer\" + name ].call( this, size );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n\t\t\t});\n\t\t};\n\t});\n}\n\n// selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n\tvar nodeName = element.nodeName.toLowerCase();\n\tif ( \"area\" === nodeName ) {\n\t\tvar map = element.parentNode,\n\t\t\tmapName = map.name,\n\t\t\timg;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap=#\" + mapName + \"]\" )[0];\n\t\treturn !!img && visible( img );\n\t}\n\treturn ( /input|select|textarea|button|object/.test( nodeName )\n\t\t? !element.disabled\n\t\t: \"a\" == nodeName\n\t\t\t? element.href || isTabIndexNotNaN\n\t\t\t: isTabIndexNotNaN)\n\t\t// the element and all of its ancestors must be visible\n\t\t&& visible( element );\n}\n\nfunction visible( element ) {\n\treturn !$( element ).parents().andSelf().filter(function() {\n\t\treturn $.curCSS( this, \"visibility\" ) === \"hidden\" ||\n\t\t\t$.expr.filters.hidden( this );\n\t}).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo(function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t}) :\n\t\t// support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t},\n\n\tfocusable: function( element ) {\n\t\treturn focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n\t},\n\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\tisTabIndexNaN = isNaN( tabIndex );\n\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n\t}\n});\n\n// support\n$(function() {\n\tvar body = document.body,\n\t\tdiv = body.appendChild( div = document.createElement( \"div\" ) );\n\n\t// access offsetHeight before setting the style to prevent a layout bug\n\t// in IE 9 which causes the elemnt to continue to take up space even\n\t// after it is removed from the DOM (#8026)\n\tdiv.offsetHeight;\n\n\t$.extend( div.style, {\n\t\tminHeight: \"100px\",\n\t\theight: \"auto\",\n\t\tpadding: 0,\n\t\tborderWidth: 0\n\t});\n\n\t$.support.minHeight = div.offsetHeight === 100;\n\t$.support.selectstart = \"onselectstart\" in div;\n\n\t// set display to none to avoid a layout bug in IE\n\t// http://dev.jquery.com/ticket/4014\n\tbody.removeChild( div ).style.display = \"none\";\n});\n\n// jQuery <1.4.3 uses curCSS, in 1.4.3 - 1.7.2 curCSS = css, 1.8+ only has css\nif ( !$.curCSS ) {\n\t$.curCSS = $.css;\n}\n\n\n\n\n\n// deprecated\n$.extend( $.ui, {\n\t// $.ui.plugin is deprecated.  Use the proxy pattern instead.\n\tplugin: {\n\t\tadd: function( module, option, set ) {\n\t\t\tvar proto = $.ui[ module ].prototype;\n\t\t\tfor ( var i in set ) {\n\t\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t\t}\n\t\t},\n\t\tcall: function( instance, name, args ) {\n\t\t\tvar set = instance.plugins[ name ];\n\t\t\tif ( !set || !instance.element[ 0 ].parentNode ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0; i < set.length; i++ ) {\n\t\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\n\t// will be deprecated when we switch to jQuery 1.4 - use jQuery.contains()\n\tcontains: function( a, b ) {\n\t\treturn document.compareDocumentPosition ?\n\t\t\ta.compareDocumentPosition( b ) & 16 :\n\t\t\ta !== b && a.contains( b );\n\t},\n\t\n\t// only used by resizable\n\thasScroll: function( el, a ) {\n\t\n\t\t//If overflow is hidden, the element might have extra content, but the user wants to hide it\n\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\") {\n\t\t\treturn false;\n\t\t}\n\t\n\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\n\t\t\thas = false;\n\t\n\t\tif ( el[ scroll ] > 0 ) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\t// TODO: determine which cases actually cause this to happen\n\t\t// if the element doesn't have the scroll set, see if it's possible to\n\t\t// set the scroll\n\t\tel[ scroll ] = 1;\n\t\thas = ( el[ scroll ] > 0 );\n\t\tel[ scroll ] = 0;\n\t\treturn has;\n\t},\n\t\n\t// these are odd functions, fix the API or move into individual plugins\n\tisOverAxis: function( x, reference, size ) {\n\t\t//Determines when x coordinate is over \"b\" element axis\n\t\treturn ( x > reference ) && ( x < ( reference + size ) );\n\t},\n\tisOver: function( y, x, top, left, height, width ) {\n\t\t//Determines when x, y coordinates is over \"b\" element\n\t\treturn $.ui.isOverAxis( y, top, height ) && $.ui.isOverAxis( x, left, width );\n\t}\n});\n\n})( jQuery );\n","/*!\n * jQuery UI Draggable 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Draggables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n */\n(function( $, undefined ) {\n\n$.widget(\"ui.draggable\", $.ui.mouse, {\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false\n\t},\n\t_create: function() {\n\n\t\tif (this.options.helper == 'original' && !(/^(?:r|a|f)/).test(this.element.css(\"position\")))\n\t\t\tthis.element[0].style.position = 'relative';\n\n\t\t(this.options.addClasses && this.element.addClass(\"ui-draggable\"));\n\t\t(this.options.disabled && this.element.addClass(\"ui-draggable-disabled\"));\n\n\t\tthis._mouseInit();\n\n\t},\n\n\tdestroy: function() {\n\t\tif(!this.element.data('draggable')) return;\n\t\tthis.element\n\t\t\t.removeData(\"draggable\")\n\t\t\t.unbind(\".draggable\")\n\t\t\t.removeClass(\"ui-draggable\"\n\t\t\t\t+ \" ui-draggable-dragging\"\n\t\t\t\t+ \" ui-draggable-disabled\");\n\t\tthis._mouseDestroy();\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t// among others, prevent a drag on a resizable-handle\n\t\tif (this.helper || o.disabled || $(event.target).is('.ui-resizable-handle'))\n\t\t\treturn false;\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle(event);\n\t\tif (!this.handle)\n\t\t\treturn false;\n\t\t\n\t\tif ( o.iframeFix ) {\n\t\t\t$(o.iframeFix === true ? \"iframe\" : o.iframeFix).each(function() {\n\t\t\t\t$('<div class=\"ui-draggable-iframeFix\" style=\"background: #fff;\"></div>')\n\t\t\t\t.css({\n\t\t\t\t\twidth: this.offsetWidth+\"px\", height: this.offsetHeight+\"px\",\n\t\t\t\t\tposition: \"absolute\", opacity: \"0.001\", zIndex: 1000\n\t\t\t\t})\n\t\t\t\t.css($(this).offset())\n\t\t\t\t.appendTo(\"body\");\n\t\t\t});\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function(event) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper(event);\n\n\t\tthis.helper.addClass(\"ui-draggable-dragging\");\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif($.ui.ddmanager)\n\t\t\t$.ui.ddmanager.current = this;\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css(\"position\");\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.positionAbs = this.element.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend(this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper\n\t\t});\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition(event);\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if 'cursorAt' is supplied\n\t\t(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));\n\n\t\t//Set a containment if given in the options\n\t\tif(o.containment)\n\t\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif(this._trigger(\"start\", event) === false) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ($.ui.ddmanager && !o.dropBehaviour)\n\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\n\t\t\n\t\tthis._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position\n\t\t\n\t\t//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)\n\t\tif ( $.ui.ddmanager ) $.ui.ddmanager.dragStart(this, event);\n\t\t\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function(event, noPropagation) {\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition(event);\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif (!noPropagation) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif(this._trigger('drag', event, ui) === false) {\n\t\t\t\tthis._mouseUp({});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tif(!this.options.axis || this.options.axis != \"y\") this.helper[0].style.left = this.position.left+'px';\n\t\tif(!this.options.axis || this.options.axis != \"x\") this.helper[0].style.top = this.position.top+'px';\n\t\tif($.ui.ddmanager) $.ui.ddmanager.drag(this, event);\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function(event) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar dropped = false;\n\t\tif ($.ui.ddmanager && !this.options.dropBehaviour)\n\t\t\tdropped = $.ui.ddmanager.drop(this, event);\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif(this.dropped) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\t\t\n\t\t//if the original element is no longer in the DOM don't bother to continue (see #8269)\n\t\tvar element = this.element[0], elementInDom = false;\n\t\twhile ( element && (element = element.parentNode) ) {\n\t\t\tif (element == document ) {\n\t\t\t\telementInDom = true;\n\t\t\t}\n\t\t}\n\t\tif ( !elementInDom && this.options.helper === \"original\" )\n\t\t\treturn false;\n\n\t\tif((this.options.revert == \"invalid\" && !dropped) || (this.options.revert == \"valid\" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {\n\t\t\tvar self = this;\n\t\t\t$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {\n\t\t\t\tif(self._trigger(\"stop\", event) !== false) {\n\t\t\t\t\tself._clear();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif(this._trigger(\"stop\", event) !== false) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\t\n\t_mouseUp: function(event) {\n\t\tif (this.options.iframeFix === true) {\n\t\t\t$(\"div.ui-draggable-iframeFix\").each(function() { \n\t\t\t\tthis.parentNode.removeChild(this); \n\t\t\t}); //Remove frame helpers\n\t\t}\n\t\t\n\t\t//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)\n\t\tif( $.ui.ddmanager ) $.ui.ddmanager.dragStop(this, event);\n\t\t\n\t\treturn $.ui.mouse.prototype._mouseUp.call(this, event);\n\t},\n\t\n\tcancel: function() {\n\t\t\n\t\tif(this.helper.is(\".ui-draggable-dragging\")) {\n\t\t\tthis._mouseUp({});\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\t\t\n\t\treturn this;\n\t\t\n\t},\n\n\t_getHandle: function(event) {\n\n\t\tvar handle = !this.options.handle || !$(this.options.handle, this.element).length ? true : false;\n\t\t$(this.options.handle, this.element)\n\t\t\t.find(\"*\")\n\t\t\t.andSelf()\n\t\t\t.each(function() {\n\t\t\t\tif(this == event.target) handle = true;\n\t\t\t});\n\n\t\treturn handle;\n\n\t},\n\n\t_createHelper: function(event) {\n\n\t\tvar o = this.options;\n\t\tvar helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : (o.helper == 'clone' ? this.element.clone().removeAttr('id') : this.element);\n\n\t\tif(!helper.parents('body').length)\n\t\t\thelper.appendTo((o.appendTo == 'parent' ? this.element[0].parentNode : o.appendTo));\n\n\t\tif(helper[0] != this.element[0] && !(/(fixed|absolute)/).test(helper.css(\"position\")))\n\t\t\thelper.css(\"position\", \"absolute\");\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function(obj) {\n\t\tif (typeof obj == 'string') {\n\t\t\tobj = obj.split(' ');\n\t\t}\n\t\tif ($.isArray(obj)) {\n\t\t\tobj = {left: +obj[0], top: +obj[1] || 0};\n\t\t}\n\t\tif ('left' in obj) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ('right' in obj) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ('top' in obj) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ('bottom' in obj) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that\n\t\t//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag\n\t\tif(this.cssPosition == 'absolute' && this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif((this.offsetParent[0] == document.body) //This needs to be actually done for all browsers, since pageX/pageY includes this information\n\t\t|| (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == 'html' && $.browser.msie)) //Ugly IE fix\n\t\t\tpo = { top: 0, left: 0 };\n\n\t\treturn {\n\t\t\ttop: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"),10) || 0),\n\t\t\tleft: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"),10) || 0)\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif(this.cssPosition == \"relative\") {\n\t\t\tvar p = this.element.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - (parseInt(this.helper.css(\"top\"),10) || 0) + this.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - (parseInt(this.helper.css(\"left\"),10) || 0) + this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: (parseInt(this.element.css(\"marginLeft\"),10) || 0),\n\t\t\ttop: (parseInt(this.element.css(\"marginTop\"),10) || 0),\n\t\t\tright: (parseInt(this.element.css(\"marginRight\"),10) || 0),\n\t\t\tbottom: (parseInt(this.element.css(\"marginBottom\"),10) || 0)\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar o = this.options;\n\t\tif(o.containment == 'parent') o.containment = this.helper[0].parentNode;\n\t\tif(o.containment == 'document' || o.containment == 'window') this.containment = [\n\t\t\to.containment == 'document' ? 0 : $(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\to.containment == 'document' ? 0 : $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t(o.containment == 'document' ? 0 : $(window).scrollLeft()) + $(o.containment == 'document' ? document : window).width() - this.helperProportions.width - this.margins.left,\n\t\t\t(o.containment == 'document' ? 0 : $(window).scrollTop()) + ($(o.containment == 'document' ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top\n\t\t];\n\n\t\tif(!(/^(document|window|parent)$/).test(o.containment) && o.containment.constructor != Array) {\n\t\t        var c = $(o.containment);\n\t\t\tvar ce = c[0]; if(!ce) return;\n\t\t\tvar co = c.offset();\n\t\t\tvar over = ($(ce).css(\"overflow\") != 'hidden');\n\n\t\t\tthis.containment = [\n\t\t\t\t(parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingLeft\"),10) || 0),\n\t\t\t\t(parseInt($(ce).css(\"borderTopWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingTop\"),10) || 0),\n\t\t\t\t(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingRight\"),10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right,\n\t\t\t\t(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingBottom\"),10) || 0) - this.helperProportions.height - this.margins.top  - this.margins.bottom\n\t\t\t];\n\t\t\tthis.relative_container = c;\n\n\t\t} else if(o.containment.constructor == Array) {\n\t\t\tthis.containment = o.containment;\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function(d, pos) {\n\n\t\tif(!pos) pos = this.position;\n\t\tvar mod = d == \"absolute\" ? 1 : -1;\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpos.top\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t+ this.offset.relative.top * mod\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.top * mod\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpos.left\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t+ this.offset.relative.left * mod\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.left * mod\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function(event) {\n\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\t\tvar pageX = event.pageX;\n\t\tvar pageY = event.pageY;\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\tif(this.originalPosition) { //If we are not dragging yet, we won't check for options\n\t\t         var containment;\n\t\t         if(this.containment) {\n\t\t\t\t if (this.relative_container){\n\t\t\t\t     var co = this.relative_container.offset();\n\t\t\t\t     containment = [ this.containment[0] + co.left,\n\t\t\t\t\t\t     this.containment[1] + co.top,\n\t\t\t\t\t\t     this.containment[2] + co.left,\n\t\t\t\t\t\t     this.containment[3] + co.top ];\n\t\t\t\t }\n\t\t\t\t else {\n\t\t\t\t     containment = this.containment;\n\t\t\t\t }\n\n\t\t\t\tif(event.pageX - this.offset.click.left < containment[0]) pageX = containment[0] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top < containment[1]) pageY = containment[1] + this.offset.click.top;\n\t\t\t\tif(event.pageX - this.offset.click.left > containment[2]) pageX = containment[2] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top > containment[3]) pageY = containment[3] + this.offset.click.top;\n\t\t\t}\n\n\t\t\tif(o.grid) {\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)\n\t\t\t\tvar top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;\n\t\t\t\tpageY = containment ? (!(top - this.offset.click.top < containment[1] || top - this.offset.click.top > containment[3]) ? top : (!(top - this.offset.click.top < containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;\n\n\t\t\t\tvar left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;\n\t\t\t\tpageX = containment ? (!(left - this.offset.click.left < containment[0] || left - this.offset.click.left > containment[2]) ? left : (!(left - this.offset.click.left < containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpageY\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t- this.offset.click.top\t\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.top\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.top\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpageX\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t- this.offset.click.left\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.left\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.left\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ($.browser.safari && $.browser.version < 526 && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis.helper.removeClass(\"ui-draggable-dragging\");\n\t\tif(this.helper[0] != this.element[0] && !this.cancelHelperRemoval) this.helper.remove();\n\t\t//if($.ui.ddmanager) $.ui.ddmanager.current = null;\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function(type, event, ui) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call(this, type, [event, ui]);\n\t\tif(type == \"drag\") this.positionAbs = this._convertPositionTo(\"absolute\"); //The absolute position has to be recalculated after plugins\n\t\treturn $.Widget.prototype._trigger.call(this, type, event, ui);\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function(event) {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n});\n\n$.extend($.ui.draggable, {\n\tversion: \"1.8.23\"\n});\n\n$.ui.plugin.add(\"draggable\", \"connectToSortable\", {\n\tstart: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), o = inst.options,\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\t\tinst.sortables = [];\n\t\t$(o.connectToSortable).each(function() {\n\t\t\tvar sortable = $.data(this, 'sortable');\n\t\t\tif (sortable && !sortable.options.disabled) {\n\t\t\t\tinst.sortables.push({\n\t\t\t\t\tinstance: sortable,\n\t\t\t\t\tshouldRevert: sortable.options.revert\n\t\t\t\t});\n\t\t\t\tsortable.refreshPositions();\t// Call the sortable's refreshPositions at drag start to refresh the containerCache since the sortable container cache is used in drag and needs to be up to date (this will ensure it's initialised as well as being kept in step with any changes that might have happened on the page).\n\t\t\t\tsortable._trigger(\"activate\", event, uiSortable);\n\t\t\t}\n\t\t});\n\n\t},\n\tstop: function(event, ui) {\n\n\t\t//If we are still over the sortable, we fake the stop event of the sortable, but also remove helper\n\t\tvar inst = $(this).data(\"draggable\"),\n\t\t\tuiSortable = $.extend({}, ui, { item: inst.element });\n\n\t\t$.each(inst.sortables, function() {\n\t\t\tif(this.instance.isOver) {\n\n\t\t\t\tthis.instance.isOver = 0;\n\n\t\t\t\tinst.cancelHelperRemoval = true; //Don't remove the helper in the draggable instance\n\t\t\t\tthis.instance.cancelHelperRemoval = false; //Remove it in the sortable instance (so sortable plugins like revert still work)\n\n\t\t\t\t//The sortable revert is supported, and we have to set a temporary dropped variable on the draggable to support revert: 'valid/invalid'\n\t\t\t\tif(this.shouldRevert) this.instance.options.revert = true;\n\n\t\t\t\t//Trigger the stop of the sortable\n\t\t\t\tthis.instance._mouseStop(event);\n\n\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t//If the helper has been the original item, restore properties in the sortable\n\t\t\t\tif(inst.options.helper == 'original')\n\t\t\t\t\tthis.instance.currentItem.css({ top: 'auto', left: 'auto' });\n\n\t\t\t} else {\n\t\t\t\tthis.instance.cancelHelperRemoval = false; //Remove the helper in the sortable instance\n\t\t\t\tthis.instance._trigger(\"deactivate\", event, uiSortable);\n\t\t\t}\n\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), self = this;\n\n\t\tvar checkPos = function(o) {\n\t\t\tvar dyClick = this.offset.click.top, dxClick = this.offset.click.left;\n\t\t\tvar helperTop = this.positionAbs.top, helperLeft = this.positionAbs.left;\n\t\t\tvar itemHeight = o.height, itemWidth = o.width;\n\t\t\tvar itemTop = o.top, itemLeft = o.left;\n\n\t\t\treturn $.ui.isOver(helperTop + dyClick, helperLeft + dxClick, itemTop, itemLeft, itemHeight, itemWidth);\n\t\t};\n\n\t\t$.each(inst.sortables, function(i) {\n\t\t\t\n\t\t\t//Copy over some variables to allow calling the sortable's native _intersectsWith\n\t\t\tthis.instance.positionAbs = inst.positionAbs;\n\t\t\tthis.instance.helperProportions = inst.helperProportions;\n\t\t\tthis.instance.offset.click = inst.offset.click;\n\t\t\t\n\t\t\tif(this.instance._intersectsWith(this.instance.containerCache)) {\n\n\t\t\t\t//If it intersects, we use a little isOver variable and set it once, so our move-in stuff gets fired only once\n\t\t\t\tif(!this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 1;\n\t\t\t\t\t//Now we fake the start of dragging for the sortable instance,\n\t\t\t\t\t//by cloning the list group item, appending it to the sortable and using it as inst.currentItem\n\t\t\t\t\t//We can then fire the start event of the sortable with our passed browser event, and our own helper (so it doesn't create a new one)\n\t\t\t\t\tthis.instance.currentItem = $(self).clone().removeAttr('id').appendTo(this.instance.element).data(\"sortable-item\", true);\n\t\t\t\t\tthis.instance.options._helper = this.instance.options.helper; //Store helper option to later restore it\n\t\t\t\t\tthis.instance.options.helper = function() { return ui.helper[0]; };\n\n\t\t\t\t\tevent.target = this.instance.currentItem[0];\n\t\t\t\t\tthis.instance._mouseCapture(event, true);\n\t\t\t\t\tthis.instance._mouseStart(event, true, true);\n\n\t\t\t\t\t//Because the browser event is way off the new appended portlet, we modify a couple of variables to reflect the changes\n\t\t\t\t\tthis.instance.offset.click.top = inst.offset.click.top;\n\t\t\t\t\tthis.instance.offset.click.left = inst.offset.click.left;\n\t\t\t\t\tthis.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;\n\t\t\t\t\tthis.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;\n\n\t\t\t\t\tinst._trigger(\"toSortable\", event);\n\t\t\t\t\tinst.dropped = this.instance.element; //draggable revert needs that\n\t\t\t\t\t//hack so receive/update callbacks work (mostly)\n\t\t\t\t\tinst.currentItem = inst.element;\n\t\t\t\t\tthis.instance.fromOutside = inst;\n\n\t\t\t\t}\n\n\t\t\t\t//Provided we did all the previous steps, we can fire the drag event of the sortable on every draggable drag, when it intersects with the sortable\n\t\t\t\tif(this.instance.currentItem) this.instance._mouseDrag(event);\n\n\t\t\t} else {\n\n\t\t\t\t//If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t//we fake the drag stop of the sortable, but make sure it doesn't remove the helper by using cancelHelperRemoval\n\t\t\t\tif(this.instance.isOver) {\n\n\t\t\t\t\tthis.instance.isOver = 0;\n\t\t\t\t\tthis.instance.cancelHelperRemoval = true;\n\t\t\t\t\t\n\t\t\t\t\t//Prevent reverting on this forced stop\n\t\t\t\t\tthis.instance.options.revert = false;\n\t\t\t\t\t\n\t\t\t\t\t// The out event needs to be triggered independently\n\t\t\t\t\tthis.instance._trigger('out', event, this.instance._uiHash(this.instance));\n\t\t\t\t\t\n\t\t\t\t\tthis.instance._mouseStop(event, true);\n\t\t\t\t\tthis.instance.options.helper = this.instance.options._helper;\n\n\t\t\t\t\t//Now we remove our currentItem, the list group clone again, and the placeholder, and animate the helper back to it's original size\n\t\t\t\t\tthis.instance.currentItem.remove();\n\t\t\t\t\tif(this.instance.placeholder) this.instance.placeholder.remove();\n\n\t\t\t\t\tinst._trigger(\"fromSortable\", event);\n\t\t\t\t\tinst.dropped = false; //draggable revert needs that\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t});\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"cursor\", {\n\tstart: function(event, ui) {\n\t\tvar t = $('body'), o = $(this).data('draggable').options;\n\t\tif (t.css(\"cursor\")) o._cursor = t.css(\"cursor\");\n\t\tt.css(\"cursor\", o.cursor);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data('draggable').options;\n\t\tif (o._cursor) $('body').css(\"cursor\", o._cursor);\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"opacity\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data('draggable').options;\n\t\tif(t.css(\"opacity\")) o._opacity = t.css(\"opacity\");\n\t\tt.css('opacity', o.opacity);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data('draggable').options;\n\t\tif(o._opacity) $(ui.helper).css('opacity', o._opacity);\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"scroll\", {\n\tstart: function(event, ui) {\n\t\tvar i = $(this).data(\"draggable\");\n\t\tif(i.scrollParent[0] != document && i.scrollParent[0].tagName != 'HTML') i.overflowOffset = i.scrollParent.offset();\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar i = $(this).data(\"draggable\"), o = i.options, scrolled = false;\n\n\t\tif(i.scrollParent[0] != document && i.scrollParent[0].tagName != 'HTML') {\n\n\t\t\tif(!o.axis || o.axis != 'x') {\n\t\t\t\tif((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;\n\t\t\t\telse if(event.pageY - i.overflowOffset.top < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis != 'y') {\n\t\t\t\tif((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;\n\t\t\t\telse if(event.pageX - i.overflowOffset.left < o.scrollSensitivity)\n\t\t\t\t\ti.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif(!o.axis || o.axis != 'x') {\n\t\t\t\tif(event.pageY - $(document).scrollTop() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n\t\t\t\telse if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n\t\t\t}\n\n\t\t\tif(!o.axis || o.axis != 'y') {\n\t\t\t\tif(event.pageX - $(document).scrollLeft() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n\t\t\t\telse if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n\t\t\t}\n\n\t\t}\n\n\t\tif(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour)\n\t\t\t$.ui.ddmanager.prepareOffsets(i, event);\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"snap\", {\n\tstart: function(event, ui) {\n\n\t\tvar i = $(this).data(\"draggable\"), o = i.options;\n\t\ti.snapElements = [];\n\n\t\t$(o.snap.constructor != String ? ( o.snap.items || ':data(draggable)' ) : o.snap).each(function() {\n\t\t\tvar $t = $(this); var $o = $t.offset();\n\t\t\tif(this != i.element[0]) i.snapElements.push({\n\t\t\t\titem: this,\n\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t});\n\t\t});\n\n\t},\n\tdrag: function(event, ui) {\n\n\t\tvar inst = $(this).data(\"draggable\"), o = inst.options;\n\t\tvar d = o.snapTolerance;\n\n\t\tvar x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor (var i = inst.snapElements.length - 1; i >= 0; i--){\n\n\t\t\tvar l = inst.snapElements[i].left, r = l + inst.snapElements[i].width,\n\t\t\t\tt = inst.snapElements[i].top, b = t + inst.snapElements[i].height;\n\n\t\t\t//Yes, I know, this is insane ;)\n\t\t\tif(!((l-d < x1 && x1 < r+d && t-d < y1 && y1 < b+d) || (l-d < x1 && x1 < r+d && t-d < y2 && y2 < b+d) || (l-d < x2 && x2 < r+d && t-d < y1 && y1 < b+d) || (l-d < x2 && x2 < r+d && t-d < y2 && y2 < b+d))) {\n\t\t\t\tif(inst.snapElements[i].snapping) (inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\t\tinst.snapElements[i].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(o.snapMode != 'inner') {\n\t\t\t\tvar ts = Math.abs(t - y2) <= d;\n\t\t\t\tvar bs = Math.abs(b - y1) <= d;\n\t\t\t\tvar ls = Math.abs(l - x2) <= d;\n\t\t\t\tvar rs = Math.abs(r - x1) <= d;\n\t\t\t\tif(ts) ui.position.top = inst._convertPositionTo(\"relative\", { top: t - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(bs) ui.position.top = inst._convertPositionTo(\"relative\", { top: b, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(ls) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t\tif(rs) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r }).left - inst.margins.left;\n\t\t\t}\n\n\t\t\tvar first = (ts || bs || ls || rs);\n\n\t\t\tif(o.snapMode != 'outer') {\n\t\t\t\tvar ts = Math.abs(t - y1) <= d;\n\t\t\t\tvar bs = Math.abs(b - y2) <= d;\n\t\t\t\tvar ls = Math.abs(l - x1) <= d;\n\t\t\t\tvar rs = Math.abs(r - x2) <= d;\n\t\t\t\tif(ts) ui.position.top = inst._convertPositionTo(\"relative\", { top: t, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(bs) ui.position.top = inst._convertPositionTo(\"relative\", { top: b - inst.helperProportions.height, left: 0 }).top - inst.margins.top;\n\t\t\t\tif(ls) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: l }).left - inst.margins.left;\n\t\t\t\tif(rs) ui.position.left = inst._convertPositionTo(\"relative\", { top: 0, left: r - inst.helperProportions.width }).left - inst.margins.left;\n\t\t\t}\n\n\t\t\tif(!inst.snapElements[i].snapping && (ts || bs || ls || rs || first))\n\t\t\t\t(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));\n\t\t\tinst.snapElements[i].snapping = (ts || bs || ls || rs || first);\n\n\t\t};\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"stack\", {\n\tstart: function(event, ui) {\n\n\t\tvar o = $(this).data(\"draggable\").options;\n\n\t\tvar group = $.makeArray($(o.stack)).sort(function(a,b) {\n\t\t\treturn (parseInt($(a).css(\"zIndex\"),10) || 0) - (parseInt($(b).css(\"zIndex\"),10) || 0);\n\t\t});\n\t\tif (!group.length) { return; }\n\t\t\n\t\tvar min = parseInt(group[0].style.zIndex) || 0;\n\t\t$(group).each(function(i) {\n\t\t\tthis.style.zIndex = min + i;\n\t\t});\n\n\t\tthis[0].style.zIndex = min + group.length;\n\n\t}\n});\n\n$.ui.plugin.add(\"draggable\", \"zIndex\", {\n\tstart: function(event, ui) {\n\t\tvar t = $(ui.helper), o = $(this).data(\"draggable\").options;\n\t\tif(t.css(\"zIndex\")) o._zIndex = t.css(\"zIndex\");\n\t\tt.css('zIndex', o.zIndex);\n\t},\n\tstop: function(event, ui) {\n\t\tvar o = $(this).data(\"draggable\").options;\n\t\tif(o._zIndex) $(ui.helper).css('zIndex', o._zIndex);\n\t}\n});\n\n})(jQuery);\n","/*!\n * jQuery UI Droppable 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Droppables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.widget.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.draggable.js\n */\n(function( $, undefined ) {\n\n$.widget(\"ui.droppable\", {\n\twidgetEventPrefix: \"drop\",\n\toptions: {\n\t\taccept: '*',\n\t\tactiveClass: false,\n\t\taddClasses: true,\n\t\tgreedy: false,\n\t\thoverClass: false,\n\t\tscope: 'default',\n\t\ttolerance: 'intersect'\n\t},\n\t_create: function() {\n\n\t\tvar o = this.options, accept = o.accept;\n\t\tthis.isover = 0; this.isout = 1;\n\n\t\tthis.accept = $.isFunction(accept) ? accept : function(d) {\n\t\t\treturn d.is(accept);\n\t\t};\n\n\t\t//Store the droppable's proportions\n\t\tthis.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight };\n\n\t\t// Add the reference and positions to the manager\n\t\t$.ui.ddmanager.droppables[o.scope] = $.ui.ddmanager.droppables[o.scope] || [];\n\t\t$.ui.ddmanager.droppables[o.scope].push(this);\n\n\t\t(o.addClasses && this.element.addClass(\"ui-droppable\"));\n\n\t},\n\n\tdestroy: function() {\n\t\tvar drop = $.ui.ddmanager.droppables[this.options.scope];\n\t\tfor ( var i = 0; i < drop.length; i++ )\n\t\t\tif ( drop[i] == this )\n\t\t\t\tdrop.splice(i, 1);\n\n\t\tthis.element\n\t\t\t.removeClass(\"ui-droppable ui-droppable-disabled\")\n\t\t\t.removeData(\"droppable\")\n\t\t\t.unbind(\".droppable\");\n\n\t\treturn this;\n\t},\n\n\t_setOption: function(key, value) {\n\n\t\tif(key == 'accept') {\n\t\t\tthis.accept = $.isFunction(value) ? value : function(d) {\n\t\t\t\treturn d.is(value);\n\t\t\t};\n\t\t}\n\t\t$.Widget.prototype._setOption.apply(this, arguments);\n\t},\n\n\t_activate: function(event) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif(this.options.activeClass) this.element.addClass(this.options.activeClass);\n\t\t(draggable && this._trigger('activate', event, this.ui(draggable)));\n\t},\n\n\t_deactivate: function(event) {\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif(this.options.activeClass) this.element.removeClass(this.options.activeClass);\n\t\t(draggable && this._trigger('deactivate', event, this.ui(draggable)));\n\t},\n\n\t_over: function(event) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return; // Bail if draggable and droppable are same element\n\n\t\tif (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.hoverClass) this.element.addClass(this.options.hoverClass);\n\t\t\tthis._trigger('over', event, this.ui(draggable));\n\t\t}\n\n\t},\n\n\t_out: function(event) {\n\n\t\tvar draggable = $.ui.ddmanager.current;\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return; // Bail if draggable and droppable are same element\n\n\t\tif (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.hoverClass) this.element.removeClass(this.options.hoverClass);\n\t\t\tthis._trigger('out', event, this.ui(draggable));\n\t\t}\n\n\t},\n\n\t_drop: function(event,custom) {\n\n\t\tvar draggable = custom || $.ui.ddmanager.current;\n\t\tif (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return false; // Bail if draggable and droppable are same element\n\n\t\tvar childrenIntersection = false;\n\t\tthis.element.find(\":data(droppable)\").not(\".ui-draggable-dragging\").each(function() {\n\t\t\tvar inst = $.data(this, 'droppable');\n\t\t\tif(\n\t\t\t\tinst.options.greedy\n\t\t\t\t&& !inst.options.disabled\n\t\t\t\t&& inst.options.scope == draggable.options.scope\n\t\t\t\t&& inst.accept.call(inst.element[0], (draggable.currentItem || draggable.element))\n\t\t\t\t&& $.ui.intersect(draggable, $.extend(inst, { offset: inst.element.offset() }), inst.options.tolerance)\n\t\t\t) { childrenIntersection = true; return false; }\n\t\t});\n\t\tif(childrenIntersection) return false;\n\n\t\tif(this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\tif(this.options.activeClass) this.element.removeClass(this.options.activeClass);\n\t\t\tif(this.options.hoverClass) this.element.removeClass(this.options.hoverClass);\n\t\t\tthis._trigger('drop', event, this.ui(draggable));\n\t\t\treturn this.element;\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tui: function(c) {\n\t\treturn {\n\t\t\tdraggable: (c.currentItem || c.element),\n\t\t\thelper: c.helper,\n\t\t\tposition: c.position,\n\t\t\toffset: c.positionAbs\n\t\t};\n\t}\n\n});\n\n$.extend($.ui.droppable, {\n\tversion: \"1.8.23\"\n});\n\n$.ui.intersect = function(draggable, droppable, toleranceMode) {\n\n\tif (!droppable.offset) return false;\n\n\tvar x1 = (draggable.positionAbs || draggable.position.absolute).left, x2 = x1 + draggable.helperProportions.width,\n\t\ty1 = (draggable.positionAbs || draggable.position.absolute).top, y2 = y1 + draggable.helperProportions.height;\n\tvar l = droppable.offset.left, r = l + droppable.proportions.width,\n\t\tt = droppable.offset.top, b = t + droppable.proportions.height;\n\n\tswitch (toleranceMode) {\n\t\tcase 'fit':\n\t\t\treturn (l <= x1 && x2 <= r\n\t\t\t\t&& t <= y1 && y2 <= b);\n\t\t\tbreak;\n\t\tcase 'intersect':\n\t\t\treturn (l < x1 + (draggable.helperProportions.width / 2) // Right Half\n\t\t\t\t&& x2 - (draggable.helperProportions.width / 2) < r // Left Half\n\t\t\t\t&& t < y1 + (draggable.helperProportions.height / 2) // Bottom Half\n\t\t\t\t&& y2 - (draggable.helperProportions.height / 2) < b ); // Top Half\n\t\t\tbreak;\n\t\tcase 'pointer':\n\t\t\tvar draggableLeft = ((draggable.positionAbs || draggable.position.absolute).left + (draggable.clickOffset || draggable.offset.click).left),\n\t\t\t\tdraggableTop = ((draggable.positionAbs || draggable.position.absolute).top + (draggable.clickOffset || draggable.offset.click).top),\n\t\t\t\tisOver = $.ui.isOver(draggableTop, draggableLeft, t, l, droppable.proportions.height, droppable.proportions.width);\n\t\t\treturn isOver;\n\t\t\tbreak;\n\t\tcase 'touch':\n\t\t\treturn (\n\t\t\t\t\t(y1 >= t && y1 <= b) ||\t// Top edge touching\n\t\t\t\t\t(y2 >= t && y2 <= b) ||\t// Bottom edge touching\n\t\t\t\t\t(y1 < t && y2 > b)\t\t// Surrounded vertically\n\t\t\t\t) && (\n\t\t\t\t\t(x1 >= l && x1 <= r) ||\t// Left edge touching\n\t\t\t\t\t(x2 >= l && x2 <= r) ||\t// Right edge touching\n\t\t\t\t\t(x1 < l && x2 > r)\t\t// Surrounded horizontally\n\t\t\t\t);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn false;\n\t\t\tbreak;\n\t\t}\n\n};\n\n/*\n\tThis manager tracks offsets of draggables and droppables\n*/\n$.ui.ddmanager = {\n\tcurrent: null,\n\tdroppables: { 'default': [] },\n\tprepareOffsets: function(t, event) {\n\n\t\tvar m = $.ui.ddmanager.droppables[t.options.scope] || [];\n\t\tvar type = event ? event.type : null; // workaround for #2317\n\t\tvar list = (t.currentItem || t.element).find(\":data(droppable)\").andSelf();\n\n\t\tdroppablesLoop: for (var i = 0; i < m.length; i++) {\n\n\t\t\tif(m[i].options.disabled || (t && !m[i].accept.call(m[i].element[0],(t.currentItem || t.element)))) continue;\t//No disabled and non-accepted\n\t\t\tfor (var j=0; j < list.length; j++) { if(list[j] == m[i].element[0]) { m[i].proportions.height = 0; continue droppablesLoop; } }; //Filter out elements in the current dragged item\n\t\t\tm[i].visible = m[i].element.css(\"display\") != \"none\"; if(!m[i].visible) continue; \t\t\t\t\t\t\t\t\t//If the element is not visible, continue\n\n\t\t\tif(type == \"mousedown\") m[i]._activate.call(m[i], event); //Activate the droppable if used directly from draggables\n\n\t\t\tm[i].offset = m[i].element.offset();\n\t\t\tm[i].proportions = { width: m[i].element[0].offsetWidth, height: m[i].element[0].offsetHeight };\n\n\t\t}\n\n\t},\n\tdrop: function(draggable, event) {\n\n\t\tvar dropped = false;\n\t\t$.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {\n\n\t\t\tif(!this.options) return;\n\t\t\tif (!this.options.disabled && this.visible && $.ui.intersect(draggable, this, this.options.tolerance))\n\t\t\t\tdropped = this._drop.call(this, event) || dropped;\n\n\t\t\tif (!this.options.disabled && this.visible && this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {\n\t\t\t\tthis.isout = 1; this.isover = 0;\n\t\t\t\tthis._deactivate.call(this, event);\n\t\t\t}\n\n\t\t});\n\t\treturn dropped;\n\n\t},\n\tdragStart: function( draggable, event ) {\n\t\t//Listen for scrolling so that if the dragging causes scrolling the position of the droppables can be recalculated (see #5003)\n\t\tdraggable.element.parents( \":not(body,html)\" ).bind( \"scroll.droppable\", function() {\n\t\t\tif( !draggable.options.refreshPositions ) $.ui.ddmanager.prepareOffsets( draggable, event );\n\t\t});\n\t},\n\tdrag: function(draggable, event) {\n\n\t\t//If you have a highly dynamic page, you might try this option. It renders positions every time you move the mouse.\n\t\tif(draggable.options.refreshPositions) $.ui.ddmanager.prepareOffsets(draggable, event);\n\n\t\t//Run through all droppables and check their positions based on specific tolerance options\n\t\t$.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {\n\n\t\t\tif(this.options.disabled || this.greedyChild || !this.visible) return;\n\t\t\tvar intersects = $.ui.intersect(draggable, this, this.options.tolerance);\n\n\t\t\tvar c = !intersects && this.isover == 1 ? 'isout' : (intersects && this.isover == 0 ? 'isover' : null);\n\t\t\tif(!c) return;\n\n\t\t\tvar parentInstance;\n\t\t\tif (this.options.greedy) {\n\t\t\t\tvar parent = this.element.parents(':data(droppable):eq(0)');\n\t\t\t\tif (parent.length) {\n\t\t\t\t\tparentInstance = $.data(parent[0], 'droppable');\n\t\t\t\t\tparentInstance.greedyChild = (c == 'isover' ? 1 : 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// we just moved into a greedy child\n\t\t\tif (parentInstance && c == 'isover') {\n\t\t\t\tparentInstance['isover'] = 0;\n\t\t\t\tparentInstance['isout'] = 1;\n\t\t\t\tparentInstance._out.call(parentInstance, event);\n\t\t\t}\n\n\t\t\tthis[c] = 1; this[c == 'isout' ? 'isover' : 'isout'] = 0;\n\t\t\tthis[c == \"isover\" ? \"_over\" : \"_out\"].call(this, event);\n\n\t\t\t// we just moved out of a greedy child\n\t\t\tif (parentInstance && c == 'isout') {\n\t\t\t\tparentInstance['isout'] = 0;\n\t\t\t\tparentInstance['isover'] = 1;\n\t\t\t\tparentInstance._over.call(parentInstance, event);\n\t\t\t}\n\t\t});\n\n\t},\n\tdragStop: function( draggable, event ) {\n\t\tdraggable.element.parents( \":not(body,html)\" ).unbind( \"scroll.droppable\" );\n\t\t//Call prepareOffsets one final time since IE does not fire return scroll events when overflow was caused by drag (see #5003)\n\t\tif( !draggable.options.refreshPositions ) $.ui.ddmanager.prepareOffsets( draggable, event );\n\t}\n};\n\n})(jQuery);\n","/*!\n * jQuery UI Mouse 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Mouse\n *\n * Depends:\n *\tjquery.ui.widget.js\n */\n(function( $, undefined ) {\n\nvar mouseHandled = false;\n$( document ).mouseup( function( e ) {\n\tmouseHandled = false;\n});\n\n$.widget(\"ui.mouse\", {\n\toptions: {\n\t\tcancel: ':input,option',\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar self = this;\n\n\t\tthis.element\n\t\t\t.bind('mousedown.'+this.widgetName, function(event) {\n\t\t\t\treturn self._mouseDown(event);\n\t\t\t})\n\t\t\t.bind('click.'+this.widgetName, function(event) {\n\t\t\t\tif (true === $.data(event.target, self.widgetName + '.preventClickEvent')) {\n\t\t\t\t    $.removeData(event.target, self.widgetName + '.preventClickEvent');\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.unbind('.'+this.widgetName);\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\t$(document)\n\t\t\t\t.unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t\t.unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\t\t}\n\t},\n\n\t_mouseDown: function(event) {\n\t\t// don't let more than one widget handle mouseStart\n\t\tif( mouseHandled ) { return };\n\n\t\t// we may have missed mouseup (out of window)\n\t\t(this._mouseStarted && this._mouseUp(event));\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar self = this,\n\t\t\tbtnIsLeft = (event.which == 1),\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = (typeof this.options.cancel == \"string\" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);\n\t\tif (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif (!this.mouseDelayMet) {\n\t\t\tthis._mouseDelayTimer = setTimeout(function() {\n\t\t\t\tself.mouseDelayMet = true;\n\t\t\t}, this.options.delay);\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted = (this._mouseStart(event) !== false);\n\t\t\tif (!this._mouseStarted) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif (true === $.data(event.target, this.widgetName + '.preventClickEvent')) {\n\t\t\t$.removeData(event.target, this.widgetName + '.preventClickEvent');\n\t\t}\n\n\t\t// these delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function(event) {\n\t\t\treturn self._mouseMove(event);\n\t\t};\n\t\tthis._mouseUpDelegate = function(event) {\n\t\t\treturn self._mouseUp(event);\n\t\t};\n\t\t$(document)\n\t\t\t.bind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.bind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tevent.preventDefault();\n\t\t\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function(event) {\n\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\tif ($.browser.msie && !(document.documentMode >= 9) && !event.button) {\n\t\t\treturn this._mouseUp(event);\n\t\t}\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseDrag(event);\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t(this._mouseStart(this._mouseDownEvent, event) !== false);\n\t\t\t(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function(event) {\n\t\t$(document)\n\t\t\t.unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif (event.target == this._mouseDownEvent.target) {\n\t\t\t    $.data(event.target, this.widgetName + '.preventClickEvent', true);\n\t\t\t}\n\n\t\t\tthis._mouseStop(event);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseDistanceMet: function(event) {\n\t\treturn (Math.max(\n\t\t\t\tMath.abs(this._mouseDownEvent.pageX - event.pageX),\n\t\t\t\tMath.abs(this._mouseDownEvent.pageY - event.pageY)\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function(event) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function(event) {},\n\t_mouseDrag: function(event) {},\n\t_mouseStop: function(event) {},\n\t_mouseCapture: function(event) { return true; }\n});\n\n})(jQuery);\n","/*!\n * jQuery UI Position 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Position\n */\n(function( $, undefined ) {\n\n$.ui = $.ui || {};\n\nvar horizontalPositions = /left|center|right/,\n\tverticalPositions = /top|center|bottom/,\n\tcenter = \"center\",\n\tsupport = {},\n\t_position = $.fn.position,\n\t_offset = $.fn.offset;\n\n$.fn.position = function( options ) {\n\tif ( !options || !options.of ) {\n\t\treturn _position.apply( this, arguments );\n\t}\n\n\t// make a copy, we don't want to modify arguments\n\toptions = $.extend( {}, options );\n\n\tvar target = $( options.of ),\n\t\ttargetElem = target[0],\n\t\tcollision = ( options.collision || \"flip\" ).split( \" \" ),\n\t\toffset = options.offset ? options.offset.split( \" \" ) : [ 0, 0 ],\n\t\ttargetWidth,\n\t\ttargetHeight,\n\t\tbasePosition;\n\n\tif ( targetElem.nodeType === 9 ) {\n\t\ttargetWidth = target.width();\n\t\ttargetHeight = target.height();\n\t\tbasePosition = { top: 0, left: 0 };\n\t// TODO: use $.isWindow() in 1.9\n\t} else if ( targetElem.setTimeout ) {\n\t\ttargetWidth = target.width();\n\t\ttargetHeight = target.height();\n\t\tbasePosition = { top: target.scrollTop(), left: target.scrollLeft() };\n\t} else if ( targetElem.preventDefault ) {\n\t\t// force left top to allow flipping\n\t\toptions.at = \"left top\";\n\t\ttargetWidth = targetHeight = 0;\n\t\tbasePosition = { top: options.of.pageY, left: options.of.pageX };\n\t} else {\n\t\ttargetWidth = target.outerWidth();\n\t\ttargetHeight = target.outerHeight();\n\t\tbasePosition = target.offset();\n\t}\n\n\t// force my and at to have valid horizontal and veritcal positions\n\t// if a value is missing or invalid, it will be converted to center \n\t$.each( [ \"my\", \"at\" ], function() {\n\t\tvar pos = ( options[this] || \"\" ).split( \" \" );\n\t\tif ( pos.length === 1) {\n\t\t\tpos = horizontalPositions.test( pos[0] ) ?\n\t\t\t\tpos.concat( [center] ) :\n\t\t\t\tverticalPositions.test( pos[0] ) ?\n\t\t\t\t\t[ center ].concat( pos ) :\n\t\t\t\t\t[ center, center ];\n\t\t}\n\t\tpos[ 0 ] = horizontalPositions.test( pos[0] ) ? pos[ 0 ] : center;\n\t\tpos[ 1 ] = verticalPositions.test( pos[1] ) ? pos[ 1 ] : center;\n\t\toptions[ this ] = pos;\n\t});\n\n\t// normalize collision option\n\tif ( collision.length === 1 ) {\n\t\tcollision[ 1 ] = collision[ 0 ];\n\t}\n\n\t// normalize offset option\n\toffset[ 0 ] = parseInt( offset[0], 10 ) || 0;\n\tif ( offset.length === 1 ) {\n\t\toffset[ 1 ] = offset[ 0 ];\n\t}\n\toffset[ 1 ] = parseInt( offset[1], 10 ) || 0;\n\n\tif ( options.at[0] === \"right\" ) {\n\t\tbasePosition.left += targetWidth;\n\t} else if ( options.at[0] === center ) {\n\t\tbasePosition.left += targetWidth / 2;\n\t}\n\n\tif ( options.at[1] === \"bottom\" ) {\n\t\tbasePosition.top += targetHeight;\n\t} else if ( options.at[1] === center ) {\n\t\tbasePosition.top += targetHeight / 2;\n\t}\n\n\tbasePosition.left += offset[ 0 ];\n\tbasePosition.top += offset[ 1 ];\n\n\treturn this.each(function() {\n\t\tvar elem = $( this ),\n\t\t\telemWidth = elem.outerWidth(),\n\t\t\telemHeight = elem.outerHeight(),\n\t\t\tmarginLeft = parseInt( $.curCSS( this, \"marginLeft\", true ) ) || 0,\n\t\t\tmarginTop = parseInt( $.curCSS( this, \"marginTop\", true ) ) || 0,\n\t\t\tcollisionWidth = elemWidth + marginLeft +\n\t\t\t\t( parseInt( $.curCSS( this, \"marginRight\", true ) ) || 0 ),\n\t\t\tcollisionHeight = elemHeight + marginTop +\n\t\t\t\t( parseInt( $.curCSS( this, \"marginBottom\", true ) ) || 0 ),\n\t\t\tposition = $.extend( {}, basePosition ),\n\t\t\tcollisionPosition;\n\n\t\tif ( options.my[0] === \"right\" ) {\n\t\t\tposition.left -= elemWidth;\n\t\t} else if ( options.my[0] === center ) {\n\t\t\tposition.left -= elemWidth / 2;\n\t\t}\n\n\t\tif ( options.my[1] === \"bottom\" ) {\n\t\t\tposition.top -= elemHeight;\n\t\t} else if ( options.my[1] === center ) {\n\t\t\tposition.top -= elemHeight / 2;\n\t\t}\n\n\t\t// prevent fractions if jQuery version doesn't support them (see #5280)\n\t\tif ( !support.fractions ) {\n\t\t\tposition.left = Math.round( position.left );\n\t\t\tposition.top = Math.round( position.top );\n\t\t}\n\n\t\tcollisionPosition = {\n\t\t\tleft: position.left - marginLeft,\n\t\t\ttop: position.top - marginTop\n\t\t};\n\n\t\t$.each( [ \"left\", \"top\" ], function( i, dir ) {\n\t\t\tif ( $.ui.position[ collision[i] ] ) {\n\t\t\t\t$.ui.position[ collision[i] ][ dir ]( position, {\n\t\t\t\t\ttargetWidth: targetWidth,\n\t\t\t\t\ttargetHeight: targetHeight,\n\t\t\t\t\telemWidth: elemWidth,\n\t\t\t\t\telemHeight: elemHeight,\n\t\t\t\t\tcollisionPosition: collisionPosition,\n\t\t\t\t\tcollisionWidth: collisionWidth,\n\t\t\t\t\tcollisionHeight: collisionHeight,\n\t\t\t\t\toffset: offset,\n\t\t\t\t\tmy: options.my,\n\t\t\t\t\tat: options.at\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tif ( $.fn.bgiframe ) {\n\t\t\telem.bgiframe();\n\t\t}\n\t\telem.offset( $.extend( position, { using: options.using } ) );\n\t});\n};\n\n$.ui.position = {\n\tfit: {\n\t\tleft: function( position, data ) {\n\t\t\tvar win = $( window ),\n\t\t\t\tover = data.collisionPosition.left + data.collisionWidth - win.width() - win.scrollLeft();\n\t\t\tposition.left = over > 0 ? position.left - over : Math.max( position.left - data.collisionPosition.left, position.left );\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar win = $( window ),\n\t\t\t\tover = data.collisionPosition.top + data.collisionHeight - win.height() - win.scrollTop();\n\t\t\tposition.top = over > 0 ? position.top - over : Math.max( position.top - data.collisionPosition.top, position.top );\n\t\t}\n\t},\n\n\tflip: {\n\t\tleft: function( position, data ) {\n\t\t\tif ( data.at[0] === center ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar win = $( window ),\n\t\t\t\tover = data.collisionPosition.left + data.collisionWidth - win.width() - win.scrollLeft(),\n\t\t\t\tmyOffset = data.my[ 0 ] === \"left\" ?\n\t\t\t\t\t-data.elemWidth :\n\t\t\t\t\tdata.my[ 0 ] === \"right\" ?\n\t\t\t\t\t\tdata.elemWidth :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 0 ] === \"left\" ?\n\t\t\t\t\tdata.targetWidth :\n\t\t\t\t\t-data.targetWidth,\n\t\t\t\toffset = -2 * data.offset[ 0 ];\n\t\t\tposition.left += data.collisionPosition.left < 0 ?\n\t\t\t\tmyOffset + atOffset + offset :\n\t\t\t\tover > 0 ?\n\t\t\t\t\tmyOffset + atOffset + offset :\n\t\t\t\t\t0;\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tif ( data.at[1] === center ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar win = $( window ),\n\t\t\t\tover = data.collisionPosition.top + data.collisionHeight - win.height() - win.scrollTop(),\n\t\t\t\tmyOffset = data.my[ 1 ] === \"top\" ?\n\t\t\t\t\t-data.elemHeight :\n\t\t\t\t\tdata.my[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\tdata.elemHeight :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 1 ] === \"top\" ?\n\t\t\t\t\tdata.targetHeight :\n\t\t\t\t\t-data.targetHeight,\n\t\t\t\toffset = -2 * data.offset[ 1 ];\n\t\t\tposition.top += data.collisionPosition.top < 0 ?\n\t\t\t\tmyOffset + atOffset + offset :\n\t\t\t\tover > 0 ?\n\t\t\t\t\tmyOffset + atOffset + offset :\n\t\t\t\t\t0;\n\t\t}\n\t}\n};\n\n// offset setter from jQuery 1.4\nif ( !$.offset.setOffset ) {\n\t$.offset.setOffset = function( elem, options ) {\n\t\t// set position first, in-case top/left are set even on static elem\n\t\tif ( /static/.test( $.curCSS( elem, \"position\" ) ) ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\t\tvar curElem   = $( elem ),\n\t\t\tcurOffset = curElem.offset(),\n\t\t\tcurTop    = parseInt( $.curCSS( elem, \"top\",  true ), 10 ) || 0,\n\t\t\tcurLeft   = parseInt( $.curCSS( elem, \"left\", true ), 10)  || 0,\n\t\t\tprops     = {\n\t\t\t\ttop:  (options.top  - curOffset.top)  + curTop,\n\t\t\t\tleft: (options.left - curOffset.left) + curLeft\n\t\t\t};\n\t\t\n\t\tif ( 'using' in options ) {\n\t\t\toptions.using.call( elem, props );\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t};\n\n\t$.fn.offset = function( options ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( !elem || !elem.ownerDocument ) { return null; }\n\t\tif ( options ) {\n\t\t\tif ( $.isFunction( options ) ) {\n\t\t\t\treturn this.each(function( i ) {\n\t\t\t\t\t$( this ).offset( options.call( this, i, $( this ).offset() ) );\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this.each(function() {\n\t\t\t\t$.offset.setOffset( this, options );\n\t\t\t});\n\t\t}\n\t\treturn _offset.call( this );\n\t};\n}\n\n// jQuery <1.4.3 uses curCSS, in 1.4.3 - 1.7.2 curCSS = css, 1.8+ only has css\nif ( !$.curCSS ) {\n\t$.curCSS = $.css;\n}\n\n// fraction support test (older versions of jQuery don't support fractions)\n(function () {\n\tvar body = document.getElementsByTagName( \"body\" )[ 0 ], \n\t\tdiv = document.createElement( \"div\" ),\n\t\ttestElement, testElementParent, testElementStyle, offset, offsetTotal;\n\n\t//Create a \"fake body\" for testing based on method used in jQuery.support\n\ttestElement = document.createElement( body ? \"div\" : \"body\" );\n\ttestElementStyle = {\n\t\tvisibility: \"hidden\",\n\t\twidth: 0,\n\t\theight: 0,\n\t\tborder: 0,\n\t\tmargin: 0,\n\t\tbackground: \"none\"\n\t};\n\tif ( body ) {\n\t\t$.extend( testElementStyle, {\n\t\t\tposition: \"absolute\",\n\t\t\tleft: \"-1000px\",\n\t\t\ttop: \"-1000px\"\n\t\t});\n\t}\n\tfor ( var i in testElementStyle ) {\n\t\ttestElement.style[ i ] = testElementStyle[ i ];\n\t}\n\ttestElement.appendChild( div );\n\ttestElementParent = body || document.documentElement;\n\ttestElementParent.insertBefore( testElement, testElementParent.firstChild );\n\n\tdiv.style.cssText = \"position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;\";\n\n\toffset = $( div ).offset( function( _, offset ) {\n\t\treturn offset;\n\t}).offset();\n\n\ttestElement.innerHTML = \"\";\n\ttestElementParent.removeChild( testElement );\n\n\toffsetTotal = offset.top + offset.left + ( body ? 2000 : 0 );\n\tsupport.fractions = offsetTotal > 21 && offsetTotal < 22;\n})();\n\n}( jQuery ));\n","/*! jQuery UI - v1.9.2 - 2012-11-23\n* http://jqueryui.com\n* Includes: jquery.ui.resizable.js\n* Copyright 2012 jQuery Foundation and other contributors; Licensed MIT */\n(function(e,t){e.widget(\"ui.resizable\",e.ui.mouse,{version:\"1.9.2\",widgetEventPrefix:\"resize\",options:{alsoResize:!1,animate:!1,animateDuration:\"slow\",animateEasing:\"swing\",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:\"e,s,se\",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;this.element.addClass(\"ui-resizable\"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||\"ui-resizable-helper\":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class=\"ui-wrapper\" style=\"overflow: hidden;\"></div>').css({position:this.element.css(\"position\"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css(\"top\"),left:this.element.css(\"left\")})),this.element=this.element.parent().data(\"resizable\",this.element.data(\"resizable\")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css(\"marginLeft\"),marginTop:this.originalElement.css(\"marginTop\"),marginRight:this.originalElement.css(\"marginRight\"),marginBottom:this.originalElement.css(\"marginBottom\")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css(\"resize\"),this.originalElement.css(\"resize\",\"none\"),this._proportionallyResizeElements.push(this.originalElement.css({position:\"static\",zoom:1,display:\"block\"})),this.originalElement.css({margin:this.originalElement.css(\"margin\")}),this._proportionallyResize()),this.handles=n.handles||(e(\".ui-resizable-handle\",this.element).length?{n:\".ui-resizable-n\",e:\".ui-resizable-e\",s:\".ui-resizable-s\",w:\".ui-resizable-w\",se:\".ui-resizable-se\",sw:\".ui-resizable-sw\",ne:\".ui-resizable-ne\",nw:\".ui-resizable-nw\"}:\"e,s,se\");if(this.handles.constructor==String){this.handles==\"all\"&&(this.handles=\"n,e,s,w,se,sw,ne,nw\");var r=this.handles.split(\",\");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o=\"ui-resizable-\"+s,u=e('<div class=\"ui-resizable-handle '+o+'\"></div>');u.css({zIndex:n.zIndex}),\"se\"==s&&u.addClass(\"ui-icon ui-icon-gripsmall-diagonal-se\"),this.handles[s]=\".ui-resizable-\"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=[\"padding\",/ne|nw|n/.test(n)?\"Top\":/se|sw|s/.test(n)?\"Bottom\":/^e$/.test(n)?\"Right\":\"Left\"].join(\"\");t.css(s,i),this._proportionallyResize()}if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(\".ui-resizable-handle\",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:\"se\"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass(\"ui-resizable-autohide\").mouseenter(function(){if(n.disabled)return;e(this).removeClass(\"ui-resizable-autohide\"),t._handles.show()}).mouseleave(function(){if(n.disabled)return;t.resizing||(e(this).addClass(\"ui-resizable-autohide\"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass(\"ui-resizable ui-resizable-disabled ui-resizable-resizing\").removeData(\"resizable\").removeData(\"ui-resizable\").unbind(\".resizable\").find(\".ui-resizable-handle\").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css(\"position\"),width:n.outerWidth(),height:n.outerHeight(),top:n.css(\"top\"),left:n.css(\"left\")}).insertAfter(n),n.remove()}return this.originalElement.css(\"resize\",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(\".ui-draggable\")||/absolute/.test(s.css(\"position\")))&&s.css({position:\"absolute\",top:i.top,left:i.left}),this._renderProxy();var o=n(this.helper.css(\"left\")),u=n(this.helper.css(\"top\"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio==\"number\"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var a=e(\".ui-resizable-\"+this.axis).css(\"cursor\");return e(\"body\").css(\"cursor\",a==\"auto\"?this.axis+\"-resize\":a),s.addClass(\"ui-resizable-resizing\"),this._propagate(\"start\",t),!0},_mouseDrag:function(e){var t=this.helper,n=this.options,r={},i=this,s=this.originalMousePosition,o=this.axis,u=e.pageX-s.left||0,a=e.pageY-s.top||0,f=this._change[o];if(!f)return!1;var l=f.apply(this,[e,u,a]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)l=this._updateRatio(l,e);return l=this._respectSize(l,e),this._propagate(\"resize\",e),t.css({top:this.position.top+\"px\",left:this.position.left+\"px\",width:this.size.width+\"px\",height:this.size.height+\"px\"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger(\"resize\",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],\"left\")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,a={width:r.helper.width()-u,height:r.helper.height()-o},f=parseInt(r.element.css(\"left\"),10)+(r.position.left-r.originalPosition.left)||null,l=parseInt(r.element.css(\"top\"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(a,{top:l,left:f})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e(\"body\").css(\"cursor\",\"auto\"),this.element.removeClass(\"ui-resizable-resizing\"),this._propagate(\"stop\",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t=this.options,n,i,s,o,u;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:Infinity,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:Infinity};if(this._aspectRatio||e)n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o);this._vBoundaries=u},_updateCache:function(e){var t=this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=this.options,i=this.position,s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),o==\"sw\"&&(e.left=i.left+(s.width-e.width),e.top=null),o==\"nw\"&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var n=this.helper,i=this._vBoundaries,s=this._aspectRatio||t.shiftKey,o=this.axis,u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,p=/sw|nw|w/.test(o),d=/nw|ne|n/.test(o);f&&p&&(e.left=c-i.minWidth),u&&p&&(e.left=c-i.maxWidth),l&&d&&(e.top=h-i.minHeight),a&&d&&(e.top=h-i.maxHeight);var v=!e.width&&!e.height;return v&&!e.left&&e.top?e.top=null:v&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){var t=this.options;if(!this._proportionallyResizeElements.length)return;var n=this.helper||this.element;for(var r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css(\"borderTopWidth\"),i.css(\"borderRightWidth\"),i.css(\"borderBottomWidth\"),i.css(\"borderLeftWidth\")],o=[i.css(\"paddingTop\"),i.css(\"paddingRight\"),i.css(\"paddingBottom\"),i.css(\"paddingLeft\")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e('<div style=\"overflow:hidden;\"></div>');var r=e.ui.ie6?1:0,i=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:\"absolute\",left:this.elementOffset.left-r+\"px\",top:this.elementOffset.top-r+\"px\",zIndex:++n.zIndex}),this.helper.appendTo(\"body\").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!=\"resize\"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add(\"resizable\",\"alsoResize\",{start:function(t,n){var r=e(this).data(\"resizable\"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data(\"resizable-alsoresize\",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css(\"left\"),10),top:parseInt(t.css(\"top\"),10)})})};typeof i.alsoResize==\"object\"&&!i.alsoResize.parentNode?i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)},resize:function(t,n){var r=e(this).data(\"resizable\"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data(\"resizable-alsoresize\"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?[\"width\",\"height\"]:[\"width\",\"height\",\"top\",\"left\"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize==\"object\"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(t,n){e(this).removeData(\"resizable-alsoresize\")}}),e.ui.plugin.add(\"resizable\",\"animate\",{stop:function(t,n){var r=e(this).data(\"resizable\"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],\"left\")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css(\"left\"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css(\"top\"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css(\"width\"),10),height:parseInt(r.element.css(\"height\"),10),top:parseInt(r.element.css(\"top\"),10),left:parseInt(r.element.css(\"left\"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate(\"resize\",t)}})}}),e.ui.plugin.add(\"resizable\",\"containment\",{start:function(t,r){var i=e(this).data(\"resizable\"),s=i.options,o=i.element,u=s.containment,a=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(!a)return;i.containerElement=e(a);if(/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var f=e(a),l=[];e([\"Top\",\"Right\",\"Left\",\"Bottom\"]).each(function(e,t){l[e]=n(f.css(\"padding\"+t))}),i.containerOffset=f.offset(),i.containerPosition=f.position(),i.containerSize={height:f.innerHeight()-l[3],width:f.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,p=i.containerSize.width,d=e.ui.hasScroll(a,\"left\")?a.scrollWidth:p,v=e.ui.hasScroll(a)?a.scrollHeight:h;i.parentData={element:a,left:c.left,top:c.top,width:d,height:v}}},resize:function(t,n){var r=e(this).data(\"resizable\"),i=r.options,s=r.containerSize,o=r.containerOffset,u=r.size,a=r.position,f=r._aspectRatio||t.shiftKey,l={top:0,left:0},c=r.containerElement;c[0]!=document&&/static/.test(c.css(\"position\"))&&(l=o),a.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-l.left),f&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=i.helper?o.left:0),a.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),f&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var h=Math.abs((r._helper?r.offset.left-l.left:r.offset.left-l.left)+r.sizeDiff.width),p=Math.abs((r._helper?r.offset.top-l.top:r.offset.top-o.top)+r.sizeDiff.height),d=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css(\"position\"));d&&v&&(h-=r.parentData.left),h+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-h,f&&(r.size.height=r.size.width/r.aspectRatio)),p+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-p,f&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data(\"resizable\"),i=r.options,s=r.position,o=r.containerOffset,u=r.containerPosition,a=r.containerElement,f=e(r.helper),l=f.offset(),c=f.outerWidth()-r.sizeDiff.width,h=f.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(a.css(\"position\"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h}),r._helper&&!i.animate&&/static/.test(a.css(\"position\"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h})}}),e.ui.plugin.add(\"resizable\",\"ghost\",{start:function(t,n){var r=e(this).data(\"resizable\"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:\"block\",position:\"relative\",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass(\"ui-resizable-ghost\").addClass(typeof i.ghost==\"string\"?i.ghost:\"\"),r.ghost.appendTo(r.helper)},resize:function(t,n){var r=e(this).data(\"resizable\"),i=r.options;r.ghost&&r.ghost.css({position:\"relative\",height:r.size.height,width:r.size.width})},stop:function(t,n){var r=e(this).data(\"resizable\"),i=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add(\"resizable\",\"grid\",{resize:function(t,n){var r=e(this).data(\"resizable\"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis,f=i._aspectRatio||t.shiftKey;i.grid=typeof i.grid==\"number\"?[i.grid,i.grid]:i.grid;var l=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c):/^(ne)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c):/^(sw)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.left=u.left-l):(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c,r.position.left=u.left-l)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}})(jQuery);","/*!\n * jQuery UI Slider 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Slider\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n */\n(function( $, undefined ) {\n\n// number of pages in a slider\n// (how many times can you page up/down to go through the whole range)\nvar numPages = 5;\n\n$.widget( \"ui.slider\", $.ui.mouse, {\n\n\twidgetEventPrefix: \"slide\",\n\n\toptions: {\n\t\tanimate: false,\n\t\tdistance: 0,\n\t\tmax: 100,\n\t\tmin: 0,\n\t\torientation: \"horizontal\",\n\t\trange: false,\n\t\tstep: 1,\n\t\tvalue: 0,\n\t\tvalues: null\n\t},\n\n\t_create: function() {\n\t\tvar self = this,\n\t\t\to = this.options,\n\t\t\texistingHandles = this.element.find( \".ui-slider-handle\" ).addClass( \"ui-state-default ui-corner-all\" ),\n\t\t\thandle = \"<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>\",\n\t\t\thandleCount = ( o.values && o.values.length ) || 1,\n\t\t\thandles = [];\n\n\t\tthis._keySliding = false;\n\t\tthis._mouseSliding = false;\n\t\tthis._animateOff = true;\n\t\tthis._handleIndex = null;\n\t\tthis._detectOrientation();\n\t\tthis._mouseInit();\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-slider\" +\n\t\t\t\t\" ui-slider-\" + this.orientation +\n\t\t\t\t\" ui-widget\" +\n\t\t\t\t\" ui-widget-content\" +\n\t\t\t\t\" ui-corner-all\" +\n\t\t\t\t( o.disabled ? \" ui-slider-disabled ui-disabled\" : \"\" ) );\n\n\t\tthis.range = $([]);\n\n\t\tif ( o.range ) {\n\t\t\tif ( o.range === true ) {\n\t\t\t\tif ( !o.values ) {\n\t\t\t\t\to.values = [ this._valueMin(), this._valueMin() ];\n\t\t\t\t}\n\t\t\t\tif ( o.values.length && o.values.length !== 2 ) {\n\t\t\t\t\to.values = [ o.values[0], o.values[0] ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.range = $( \"<div></div>\" )\n\t\t\t\t.appendTo( this.element )\n\t\t\t\t.addClass( \"ui-slider-range\" +\n\t\t\t\t// note: this isn't the most fittingly semantic framework class for this element,\n\t\t\t\t// but worked best visually with a variety of themes\n\t\t\t\t\" ui-widget-header\" + \n\t\t\t\t( ( o.range === \"min\" || o.range === \"max\" ) ? \" ui-slider-range-\" + o.range : \"\" ) );\n\t\t}\n\n\t\tfor ( var i = existingHandles.length; i < handleCount; i += 1 ) {\n\t\t\thandles.push( handle );\n\t\t}\n\n\t\tthis.handles = existingHandles.add( $( handles.join( \"\" ) ).appendTo( self.element ) );\n\n\t\tthis.handle = this.handles.eq( 0 );\n\n\t\tthis.handles.add( this.range ).filter( \"a\" )\n\t\t\t.click(function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t})\n\t\t\t.hover(function() {\n\t\t\t\tif ( !o.disabled ) {\n\t\t\t\t\t$( this ).addClass( \"ui-state-hover\" );\n\t\t\t\t}\n\t\t\t}, function() {\n\t\t\t\t$( this ).removeClass( \"ui-state-hover\" );\n\t\t\t})\n\t\t\t.focus(function() {\n\t\t\t\tif ( !o.disabled ) {\n\t\t\t\t\t$( \".ui-slider .ui-state-focus\" ).removeClass( \"ui-state-focus\" );\n\t\t\t\t\t$( this ).addClass( \"ui-state-focus\" );\n\t\t\t\t} else {\n\t\t\t\t\t$( this ).blur();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.blur(function() {\n\t\t\t\t$( this ).removeClass( \"ui-state-focus\" );\n\t\t\t});\n\n\t\tthis.handles.each(function( i ) {\n\t\t\t$( this ).data( \"index.ui-slider-handle\", i );\n\t\t});\n\n\t\tthis.handles\n\t\t\t.keydown(function( event ) {\n\t\t\t\tvar index = $( this ).data( \"index.ui-slider-handle\" ),\n\t\t\t\t\tallowed,\n\t\t\t\t\tcurVal,\n\t\t\t\t\tnewVal,\n\t\t\t\t\tstep;\n\t\n\t\t\t\tif ( self.options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\t\tcase $.ui.keyCode.END:\n\t\t\t\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\t\t\tcase $.ui.keyCode.UP:\n\t\t\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tif ( !self._keySliding ) {\n\t\t\t\t\t\t\tself._keySliding = true;\n\t\t\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\t\t\tallowed = self._start( event, index );\n\t\t\t\t\t\t\tif ( allowed === false ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tstep = self.options.step;\n\t\t\t\tif ( self.options.values && self.options.values.length ) {\n\t\t\t\t\tcurVal = newVal = self.values( index );\n\t\t\t\t} else {\n\t\t\t\t\tcurVal = newVal = self.value();\n\t\t\t\t}\n\t\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\t\t\tnewVal = self._valueMin();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.END:\n\t\t\t\t\t\tnewVal = self._valueMax();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal + ( (self._valueMax() - self._valueMin()) / numPages ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal - ( (self._valueMax() - self._valueMin()) / numPages ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.UP:\n\t\t\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\t\t\t\tif ( curVal === self._valueMax() ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal + step );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\t\t\tif ( curVal === self._valueMin() ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal - step );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\n\t\t\t\tself._slide( event, index, newVal );\n\t\t\t})\n\t\t\t.keyup(function( event ) {\n\t\t\t\tvar index = $( this ).data( \"index.ui-slider-handle\" );\n\t\n\t\t\t\tif ( self._keySliding ) {\n\t\t\t\t\tself._keySliding = false;\n\t\t\t\t\tself._stop( event, index );\n\t\t\t\t\tself._change( event, index );\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t}\n\t\n\t\t\t});\n\n\t\tthis._refreshValue();\n\n\t\tthis._animateOff = false;\n\t},\n\n\tdestroy: function() {\n\t\tthis.handles.remove();\n\t\tthis.range.remove();\n\n\t\tthis.element\n\t\t\t.removeClass( \"ui-slider\" +\n\t\t\t\t\" ui-slider-horizontal\" +\n\t\t\t\t\" ui-slider-vertical\" +\n\t\t\t\t\" ui-slider-disabled\" +\n\t\t\t\t\" ui-widget\" +\n\t\t\t\t\" ui-widget-content\" +\n\t\t\t\t\" ui-corner-all\" )\n\t\t\t.removeData( \"slider\" )\n\t\t\t.unbind( \".slider\" );\n\n\t\tthis._mouseDestroy();\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options,\n\t\t\tposition,\n\t\t\tnormValue,\n\t\t\tdistance,\n\t\t\tclosestHandle,\n\t\t\tself,\n\t\t\tindex,\n\t\t\tallowed,\n\t\t\toffset,\n\t\t\tmouseOverHandle;\n\n\t\tif ( o.disabled ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.elementSize = {\n\t\t\twidth: this.element.outerWidth(),\n\t\t\theight: this.element.outerHeight()\n\t\t};\n\t\tthis.elementOffset = this.element.offset();\n\n\t\tposition = { x: event.pageX, y: event.pageY };\n\t\tnormValue = this._normValueFromMouse( position );\n\t\tdistance = this._valueMax() - this._valueMin() + 1;\n\t\tself = this;\n\t\tthis.handles.each(function( i ) {\n\t\t\tvar thisDistance = Math.abs( normValue - self.values(i) );\n\t\t\tif ( distance > thisDistance ) {\n\t\t\t\tdistance = thisDistance;\n\t\t\t\tclosestHandle = $( this );\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t});\n\n\t\t// workaround for bug #3736 (if both handles of a range are at 0,\n\t\t// the first is always used as the one with least distance,\n\t\t// and moving it is obviously prevented by preventing negative ranges)\n\t\tif( o.range === true && this.values(1) === o.min ) {\n\t\t\tindex += 1;\n\t\t\tclosestHandle = $( this.handles[index] );\n\t\t}\n\n\t\tallowed = this._start( event, index );\n\t\tif ( allowed === false ) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._mouseSliding = true;\n\n\t\tself._handleIndex = index;\n\n\t\tclosestHandle\n\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t.focus();\n\t\t\n\t\toffset = closestHandle.offset();\n\t\tmouseOverHandle = !$( event.target ).parents().andSelf().is( \".ui-slider-handle\" );\n\t\tthis._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {\n\t\t\tleft: event.pageX - offset.left - ( closestHandle.width() / 2 ),\n\t\t\ttop: event.pageY - offset.top -\n\t\t\t\t( closestHandle.height() / 2 ) -\n\t\t\t\t( parseInt( closestHandle.css(\"borderTopWidth\"), 10 ) || 0 ) -\n\t\t\t\t( parseInt( closestHandle.css(\"borderBottomWidth\"), 10 ) || 0) +\n\t\t\t\t( parseInt( closestHandle.css(\"marginTop\"), 10 ) || 0)\n\t\t};\n\n\t\tif ( !this.handles.hasClass( \"ui-state-hover\" ) ) {\n\t\t\tthis._slide( event, index, normValue );\n\t\t}\n\t\tthis._animateOff = true;\n\t\treturn true;\n\t},\n\n\t_mouseStart: function( event ) {\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function( event ) {\n\t\tvar position = { x: event.pageX, y: event.pageY },\n\t\t\tnormValue = this._normValueFromMouse( position );\n\t\t\n\t\tthis._slide( event, this._handleIndex, normValue );\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\t\tthis.handles.removeClass( \"ui-state-active\" );\n\t\tthis._mouseSliding = false;\n\n\t\tthis._stop( event, this._handleIndex );\n\t\tthis._change( event, this._handleIndex );\n\n\t\tthis._handleIndex = null;\n\t\tthis._clickOffset = null;\n\t\tthis._animateOff = false;\n\n\t\treturn false;\n\t},\n\t\n\t_detectOrientation: function() {\n\t\tthis.orientation = ( this.options.orientation === \"vertical\" ) ? \"vertical\" : \"horizontal\";\n\t},\n\n\t_normValueFromMouse: function( position ) {\n\t\tvar pixelTotal,\n\t\t\tpixelMouse,\n\t\t\tpercentMouse,\n\t\t\tvalueTotal,\n\t\t\tvalueMouse;\n\n\t\tif ( this.orientation === \"horizontal\" ) {\n\t\t\tpixelTotal = this.elementSize.width;\n\t\t\tpixelMouse = position.x - this.elementOffset.left - ( this._clickOffset ? this._clickOffset.left : 0 );\n\t\t} else {\n\t\t\tpixelTotal = this.elementSize.height;\n\t\t\tpixelMouse = position.y - this.elementOffset.top - ( this._clickOffset ? this._clickOffset.top : 0 );\n\t\t}\n\n\t\tpercentMouse = ( pixelMouse / pixelTotal );\n\t\tif ( percentMouse > 1 ) {\n\t\t\tpercentMouse = 1;\n\t\t}\n\t\tif ( percentMouse < 0 ) {\n\t\t\tpercentMouse = 0;\n\t\t}\n\t\tif ( this.orientation === \"vertical\" ) {\n\t\t\tpercentMouse = 1 - percentMouse;\n\t\t}\n\n\t\tvalueTotal = this._valueMax() - this._valueMin();\n\t\tvalueMouse = this._valueMin() + percentMouse * valueTotal;\n\n\t\treturn this._trimAlignValue( valueMouse );\n\t},\n\n\t_start: function( event, index ) {\n\t\tvar uiHash = {\n\t\t\thandle: this.handles[ index ],\n\t\t\tvalue: this.value()\n\t\t};\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tuiHash.value = this.values( index );\n\t\t\tuiHash.values = this.values();\n\t\t}\n\t\treturn this._trigger( \"start\", event, uiHash );\n\t},\n\n\t_slide: function( event, index, newVal ) {\n\t\tvar otherVal,\n\t\t\tnewValues,\n\t\t\tallowed;\n\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\totherVal = this.values( index ? 0 : 1 );\n\n\t\t\tif ( ( this.options.values.length === 2 && this.options.range === true ) && \n\t\t\t\t\t( ( index === 0 && newVal > otherVal) || ( index === 1 && newVal < otherVal ) )\n\t\t\t\t) {\n\t\t\t\tnewVal = otherVal;\n\t\t\t}\n\n\t\t\tif ( newVal !== this.values( index ) ) {\n\t\t\t\tnewValues = this.values();\n\t\t\t\tnewValues[ index ] = newVal;\n\t\t\t\t// A slide can be canceled by returning false from the slide callback\n\t\t\t\tallowed = this._trigger( \"slide\", event, {\n\t\t\t\t\thandle: this.handles[ index ],\n\t\t\t\t\tvalue: newVal,\n\t\t\t\t\tvalues: newValues\n\t\t\t\t} );\n\t\t\t\totherVal = this.values( index ? 0 : 1 );\n\t\t\t\tif ( allowed !== false ) {\n\t\t\t\t\tthis.values( index, newVal, true );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ( newVal !== this.value() ) {\n\t\t\t\t// A slide can be canceled by returning false from the slide callback\n\t\t\t\tallowed = this._trigger( \"slide\", event, {\n\t\t\t\t\thandle: this.handles[ index ],\n\t\t\t\t\tvalue: newVal\n\t\t\t\t} );\n\t\t\t\tif ( allowed !== false ) {\n\t\t\t\t\tthis.value( newVal );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_stop: function( event, index ) {\n\t\tvar uiHash = {\n\t\t\thandle: this.handles[ index ],\n\t\t\tvalue: this.value()\n\t\t};\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tuiHash.value = this.values( index );\n\t\t\tuiHash.values = this.values();\n\t\t}\n\n\t\tthis._trigger( \"stop\", event, uiHash );\n\t},\n\n\t_change: function( event, index ) {\n\t\tif ( !this._keySliding && !this._mouseSliding ) {\n\t\t\tvar uiHash = {\n\t\t\t\thandle: this.handles[ index ],\n\t\t\t\tvalue: this.value()\n\t\t\t};\n\t\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\t\tuiHash.value = this.values( index );\n\t\t\t\tuiHash.values = this.values();\n\t\t\t}\n\n\t\t\tthis._trigger( \"change\", event, uiHash );\n\t\t}\n\t},\n\n\tvalue: function( newValue ) {\n\t\tif ( arguments.length ) {\n\t\t\tthis.options.value = this._trimAlignValue( newValue );\n\t\t\tthis._refreshValue();\n\t\t\tthis._change( null, 0 );\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._value();\n\t},\n\n\tvalues: function( index, newValue ) {\n\t\tvar vals,\n\t\t\tnewValues,\n\t\t\ti;\n\n\t\tif ( arguments.length > 1 ) {\n\t\t\tthis.options.values[ index ] = this._trimAlignValue( newValue );\n\t\t\tthis._refreshValue();\n\t\t\tthis._change( null, index );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( arguments.length ) {\n\t\t\tif ( $.isArray( arguments[ 0 ] ) ) {\n\t\t\t\tvals = this.options.values;\n\t\t\t\tnewValues = arguments[ 0 ];\n\t\t\t\tfor ( i = 0; i < vals.length; i += 1 ) {\n\t\t\t\t\tvals[ i ] = this._trimAlignValue( newValues[ i ] );\n\t\t\t\t\tthis._change( null, i );\n\t\t\t\t}\n\t\t\t\tthis._refreshValue();\n\t\t\t} else {\n\t\t\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\t\t\treturn this._values( index );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.value();\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn this._values();\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar i,\n\t\t\tvalsLength = 0;\n\n\t\tif ( $.isArray( this.options.values ) ) {\n\t\t\tvalsLength = this.options.values.length;\n\t\t}\n\n\t\t$.Widget.prototype._setOption.apply( this, arguments );\n\n\t\tswitch ( key ) {\n\t\t\tcase \"disabled\":\n\t\t\t\tif ( value ) {\n\t\t\t\t\tthis.handles.filter( \".ui-state-focus\" ).blur();\n\t\t\t\t\tthis.handles.removeClass( \"ui-state-hover\" );\n\t\t\t\t\tthis.handles.propAttr( \"disabled\", true );\n\t\t\t\t\tthis.element.addClass( \"ui-disabled\" );\n\t\t\t\t} else {\n\t\t\t\t\tthis.handles.propAttr( \"disabled\", false );\n\t\t\t\t\tthis.element.removeClass( \"ui-disabled\" );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"orientation\":\n\t\t\t\tthis._detectOrientation();\n\t\t\t\tthis.element\n\t\t\t\t\t.removeClass( \"ui-slider-horizontal ui-slider-vertical\" )\n\t\t\t\t\t.addClass( \"ui-slider-\" + this.orientation );\n\t\t\t\tthis._refreshValue();\n\t\t\t\tbreak;\n\t\t\tcase \"value\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refreshValue();\n\t\t\t\tthis._change( null, 0 );\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t\tcase \"values\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refreshValue();\n\t\t\t\tfor ( i = 0; i < valsLength; i += 1 ) {\n\t\t\t\t\tthis._change( null, i );\n\t\t\t\t}\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\t//internal value getter\n\t// _value() returns value trimmed by min and max, aligned by step\n\t_value: function() {\n\t\tvar val = this.options.value;\n\t\tval = this._trimAlignValue( val );\n\n\t\treturn val;\n\t},\n\n\t//internal values getter\n\t// _values() returns array of values trimmed by min and max, aligned by step\n\t// _values( index ) returns single value trimmed by min and max, aligned by step\n\t_values: function( index ) {\n\t\tvar val,\n\t\t\tvals,\n\t\t\ti;\n\n\t\tif ( arguments.length ) {\n\t\t\tval = this.options.values[ index ];\n\t\t\tval = this._trimAlignValue( val );\n\n\t\t\treturn val;\n\t\t} else {\n\t\t\t// .slice() creates a copy of the array\n\t\t\t// this copy gets trimmed by min and max and then returned\n\t\t\tvals = this.options.values.slice();\n\t\t\tfor ( i = 0; i < vals.length; i+= 1) {\n\t\t\t\tvals[ i ] = this._trimAlignValue( vals[ i ] );\n\t\t\t}\n\n\t\t\treturn vals;\n\t\t}\n\t},\n\t\n\t// returns the step-aligned value that val is closest to, between (inclusive) min and max\n\t_trimAlignValue: function( val ) {\n\t\tif ( val <= this._valueMin() ) {\n\t\t\treturn this._valueMin();\n\t\t}\n\t\tif ( val >= this._valueMax() ) {\n\t\t\treturn this._valueMax();\n\t\t}\n\t\tvar step = ( this.options.step > 0 ) ? this.options.step : 1,\n\t\t\tvalModStep = (val - this._valueMin()) % step,\n\t\t\talignValue = val - valModStep;\n\n\t\tif ( Math.abs(valModStep) * 2 >= step ) {\n\t\t\talignValue += ( valModStep > 0 ) ? step : ( -step );\n\t\t}\n\n\t\t// Since JavaScript has problems with large floats, round\n\t\t// the final value to 5 digits after the decimal point (see #4124)\n\t\treturn parseFloat( alignValue.toFixed(5) );\n\t},\n\n\t_valueMin: function() {\n\t\treturn this.options.min;\n\t},\n\n\t_valueMax: function() {\n\t\treturn this.options.max;\n\t},\n\t\n\t_refreshValue: function() {\n\t\tvar oRange = this.options.range,\n\t\t\to = this.options,\n\t\t\tself = this,\n\t\t\tanimate = ( !this._animateOff ) ? o.animate : false,\n\t\t\tvalPercent,\n\t\t\t_set = {},\n\t\t\tlastValPercent,\n\t\t\tvalue,\n\t\t\tvalueMin,\n\t\t\tvalueMax;\n\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tthis.handles.each(function( i, j ) {\n\t\t\t\tvalPercent = ( self.values(i) - self._valueMin() ) / ( self._valueMax() - self._valueMin() ) * 100;\n\t\t\t\t_set[ self.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\n\t\t\t\t$( this ).stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\n\t\t\t\tif ( self.options.range === true ) {\n\t\t\t\t\tif ( self.orientation === \"horizontal\" ) {\n\t\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t\tself.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { left: valPercent + \"%\" }, o.animate );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( i === 1 ) {\n\t\t\t\t\t\t\tself.range[ animate ? \"animate\" : \"css\" ]( { width: ( valPercent - lastValPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t\tself.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { bottom: ( valPercent ) + \"%\" }, o.animate );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( i === 1 ) {\n\t\t\t\t\t\t\tself.range[ animate ? \"animate\" : \"css\" ]( { height: ( valPercent - lastValPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlastValPercent = valPercent;\n\t\t\t});\n\t\t} else {\n\t\t\tvalue = this.value();\n\t\t\tvalueMin = this._valueMin();\n\t\t\tvalueMax = this._valueMax();\n\t\t\tvalPercent = ( valueMax !== valueMin ) ?\n\t\t\t\t\t( value - valueMin ) / ( valueMax - valueMin ) * 100 :\n\t\t\t\t\t0;\n\t\t\t_set[ self.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\n\t\t\tthis.handle.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\n\n\t\t\tif ( oRange === \"min\" && this.orientation === \"horizontal\" ) {\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { width: valPercent + \"%\" }, o.animate );\n\t\t\t}\n\t\t\tif ( oRange === \"max\" && this.orientation === \"horizontal\" ) {\n\t\t\t\tthis.range[ animate ? \"animate\" : \"css\" ]( { width: ( 100 - valPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t}\n\t\t\tif ( oRange === \"min\" && this.orientation === \"vertical\" ) {\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { height: valPercent + \"%\" }, o.animate );\n\t\t\t}\n\t\t\tif ( oRange === \"max\" && this.orientation === \"vertical\" ) {\n\t\t\t\tthis.range[ animate ? \"animate\" : \"css\" ]( { height: ( 100 - valPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t}\n\t\t}\n\t}\n\n});\n\n$.extend( $.ui.slider, {\n\tversion: \"1.8.23\"\n});\n\n}(jQuery));\n","/*!\n * jQuery UI Sortable 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Sortables\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n */\n(function( $, undefined ) {\n\n$.widget(\"ui.sortable\", $.ui.mouse, {\n\twidgetEventPrefix: \"sort\",\n\tready: false,\n\toptions: {\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectWith: false,\n\t\tcontainment: false,\n\t\tcursor: 'auto',\n\t\tcursorAt: false,\n\t\tdropOnEmpty: true,\n\t\tforcePlaceholderSize: false,\n\t\tforceHelperSize: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\titems: '> *',\n\t\topacity: false,\n\t\tplaceholder: false,\n\t\trevert: false,\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tscope: \"default\",\n\t\ttolerance: \"intersect\",\n\t\tzIndex: 1000\n\t},\n\t_create: function() {\n\n\t\tvar o = this.options;\n\t\tthis.containerCache = {};\n\t\tthis.element.addClass(\"ui-sortable\");\n\n\t\t//Get the items\n\t\tthis.refresh();\n\n\t\t//Let's determine if the items are being displayed horizontally\n\t\tthis.floating = this.items.length ? o.axis === 'x' || (/left|right/).test(this.items[0].item.css('float')) || (/inline|table-cell/).test(this.items[0].item.css('display')) : false;\n\n\t\t//Let's determine the parent's offset\n\t\tthis.offset = this.element.offset();\n\n\t\t//Initialize mouse events for interaction\n\t\tthis._mouseInit();\n\t\t\n\t\t//We're ready to go\n\t\tthis.ready = true\n\n\t},\n\n\tdestroy: function() {\n\t\t$.Widget.prototype.destroy.call( this );\n\t\tthis.element\n\t\t\t.removeClass(\"ui-sortable ui-sortable-disabled\");\n\t\tthis._mouseDestroy();\n\n\t\tfor ( var i = this.items.length - 1; i >= 0; i-- )\n\t\t\tthis.items[i].item.removeData(this.widgetName + \"-item\");\n\n\t\treturn this;\n\t},\n\n\t_setOption: function(key, value){\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.options[ key ] = value;\n\t\n\t\t\tthis.widget()\n\t\t\t\t[ value ? \"addClass\" : \"removeClass\"]( \"ui-sortable-disabled\" );\n\t\t} else {\n\t\t\t// Don't call widget base _setOption for disable as it adds ui-state-disabled class\n\t\t\t$.Widget.prototype._setOption.apply(this, arguments);\n\t\t}\n\t},\n\n\t_mouseCapture: function(event, overrideHandle) {\n\t\tvar that = this;\n\n\t\tif (this.reverting) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(this.options.disabled || this.options.type == 'static') return false;\n\n\t\t//We have to refresh the items data once first\n\t\tthis._refreshItems(event);\n\n\t\t//Find out if the clicked node (or one of its parents) is a actual item in this.items\n\t\tvar currentItem = null, self = this, nodes = $(event.target).parents().each(function() {\n\t\t\tif($.data(this, that.widgetName + '-item') == self) {\n\t\t\t\tcurrentItem = $(this);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif($.data(event.target, that.widgetName + '-item') == self) currentItem = $(event.target);\n\n\t\tif(!currentItem) return false;\n\t\tif(this.options.handle && !overrideHandle) {\n\t\t\tvar validHandle = false;\n\n\t\t\t$(this.options.handle, currentItem).find(\"*\").andSelf().each(function() { if(this == event.target) validHandle = true; });\n\t\t\tif(!validHandle) return false;\n\t\t}\n\n\t\tthis.currentItem = currentItem;\n\t\tthis._removeCurrentsFromItems();\n\t\treturn true;\n\n\t},\n\n\t_mouseStart: function(event, overrideHandle, noActivation) {\n\n\t\tvar o = this.options, self = this;\n\t\tthis.currentContainer = this;\n\n\t\t//We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture\n\t\tthis.refreshPositions();\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper(event);\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Get the next scrolling parent\n\t\tthis.scrollParent = this.helper.scrollParent();\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.offset = this.currentItem.offset();\n\t\tthis.offset = {\n\t\t\ttop: this.offset.top - this.margins.top,\n\t\t\tleft: this.offset.left - this.margins.left\n\t\t};\n\n\t\t$.extend(this.offset, {\n\t\t\tclick: { //Where the click happened, relative to the element\n\t\t\t\tleft: event.pageX - this.offset.left,\n\t\t\t\ttop: event.pageY - this.offset.top\n\t\t\t},\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper\n\t\t});\n\n\t\t// Only after we got the offset, we can change the helper's position to absolute\n\t\t// TODO: Still need to figure out a way to make relative sorting possible\n\t\tthis.helper.css(\"position\", \"absolute\");\n\t\tthis.cssPosition = this.helper.css(\"position\");\n\t\t\n\t\t//Generate the original position\n\t\tthis.originalPosition = this._generatePosition(event);\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if 'cursorAt' is supplied\n\t\t(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));\n\n\t\t//Cache the former DOM position\n\t\tthis.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] };\n\n\t\t//If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way\n\t\tif(this.helper[0] != this.currentItem[0]) {\n\t\t\tthis.currentItem.hide();\n\t\t}\n\n\t\t//Create the placeholder\n\t\tthis._createPlaceholder();\n\n\t\t//Set a containment if given in the options\n\t\tif(o.containment)\n\t\t\tthis._setContainment();\n\n\t\tif(o.cursor) { // cursor option\n\t\t\tif ($('body').css(\"cursor\")) this._storedCursor = $('body').css(\"cursor\");\n\t\t\t$('body').css(\"cursor\", o.cursor);\n\t\t}\n\n\t\tif(o.opacity) { // opacity option\n\t\t\tif (this.helper.css(\"opacity\")) this._storedOpacity = this.helper.css(\"opacity\");\n\t\t\tthis.helper.css(\"opacity\", o.opacity);\n\t\t}\n\n\t\tif(o.zIndex) { // zIndex option\n\t\t\tif (this.helper.css(\"zIndex\")) this._storedZIndex = this.helper.css(\"zIndex\");\n\t\t\tthis.helper.css(\"zIndex\", o.zIndex);\n\t\t}\n\n\t\t//Prepare scrolling\n\t\tif(this.scrollParent[0] != document && this.scrollParent[0].tagName != 'HTML')\n\t\t\tthis.overflowOffset = this.scrollParent.offset();\n\n\t\t//Call callbacks\n\t\tthis._trigger(\"start\", event, this._uiHash());\n\n\t\t//Recache the helper size\n\t\tif(!this._preserveHelperProportions)\n\t\t\tthis._cacheHelperProportions();\n\n\n\t\t//Post 'activate' events to possible containers\n\t\tif(!noActivation) {\n\t\t\t for (var i = this.containers.length - 1; i >= 0; i--) { this.containers[i]._trigger(\"activate\", event, self._uiHash(this)); }\n\t\t}\n\n\t\t//Prepare possible droppables\n\t\tif($.ui.ddmanager)\n\t\t\t$.ui.ddmanager.current = this;\n\n\t\tif ($.ui.ddmanager && !o.dropBehaviour)\n\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\n\t\tthis.dragging = true;\n\n\t\tthis.helper.addClass(\"ui-sortable-helper\");\n\t\tthis._mouseDrag(event); //Execute the drag once - this causes the helper not to be visible before getting its correct position\n\t\treturn true;\n\n\t},\n\n\t_mouseDrag: function(event) {\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition(event);\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\tif (!this.lastPositionAbs) {\n\t\t\tthis.lastPositionAbs = this.positionAbs;\n\t\t}\n\n\t\t//Do scrolling\n\t\tif(this.options.scroll) {\n\t\t\tvar o = this.options, scrolled = false;\n\t\t\tif(this.scrollParent[0] != document && this.scrollParent[0].tagName != 'HTML') {\n\n\t\t\t\tif((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity)\n\t\t\t\t\tthis.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;\n\t\t\t\telse if(event.pageY - this.overflowOffset.top < o.scrollSensitivity)\n\t\t\t\t\tthis.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;\n\n\t\t\t\tif((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity)\n\t\t\t\t\tthis.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;\n\t\t\t\telse if(event.pageX - this.overflowOffset.left < o.scrollSensitivity)\n\t\t\t\t\tthis.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;\n\n\t\t\t} else {\n\n\t\t\t\tif(event.pageY - $(document).scrollTop() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);\n\t\t\t\telse if($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);\n\n\t\t\t\tif(event.pageX - $(document).scrollLeft() < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);\n\t\t\t\telse if($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity)\n\t\t\t\t\tscrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);\n\n\t\t\t}\n\n\t\t\tif(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour)\n\t\t\t\t$.ui.ddmanager.prepareOffsets(this, event);\n\t\t}\n\n\t\t//Regenerate the absolute position used for position checks\n\t\tthis.positionAbs = this._convertPositionTo(\"absolute\");\n\n\t\t//Set the helper position\n\t\tif(!this.options.axis || this.options.axis != \"y\") this.helper[0].style.left = this.position.left+'px';\n\t\tif(!this.options.axis || this.options.axis != \"x\") this.helper[0].style.top = this.position.top+'px';\n\n\t\t//Rearrange\n\t\tfor (var i = this.items.length - 1; i >= 0; i--) {\n\n\t\t\t//Cache variables and intersection, continue if no intersection\n\t\t\tvar item = this.items[i], itemElement = item.item[0], intersection = this._intersectsWithPointer(item);\n\t\t\tif (!intersection) continue;\n\n\t\t\tif(itemElement != this.currentItem[0] //cannot intersect with itself\n\t\t\t\t&&\tthis.placeholder[intersection == 1 ? \"next\" : \"prev\"]()[0] != itemElement //no useless actions that have been done before\n\t\t\t\t&&\t!$.ui.contains(this.placeholder[0], itemElement) //no action if the item moved is the parent of the item checked\n\t\t\t\t&& (this.options.type == 'semi-dynamic' ? !$.ui.contains(this.element[0], itemElement) : true)\n\t\t\t\t//&& itemElement.parentNode == this.placeholder[0].parentNode // only rearrange items within the same container\n\t\t\t) {\n\n\t\t\t\tthis.direction = intersection == 1 ? \"down\" : \"up\";\n\n\t\t\t\tif (this.options.tolerance == \"pointer\" || this._intersectsWithSides(item)) {\n\t\t\t\t\tthis._rearrange(event, item);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthis._trigger(\"change\", event, this._uiHash());\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t//Post events to containers\n\t\tthis._contactContainers(event);\n\n\t\t//Interconnect with droppables\n\t\tif($.ui.ddmanager) $.ui.ddmanager.drag(this, event);\n\n\t\t//Call callbacks\n\t\tthis._trigger('sort', event, this._uiHash());\n\n\t\tthis.lastPositionAbs = this.positionAbs;\n\t\treturn false;\n\n\t},\n\n\t_mouseStop: function(event, noPropagation) {\n\n\t\tif(!event) return;\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tif ($.ui.ddmanager && !this.options.dropBehaviour)\n\t\t\t$.ui.ddmanager.drop(this, event);\n\n\t\tif(this.options.revert) {\n\t\t\tvar self = this;\n\t\t\tvar cur = self.placeholder.offset();\n\n\t\t\tself.reverting = true;\n\n\t\t\t$(this.helper).animate({\n\t\t\t\tleft: cur.left - this.offset.parent.left - self.margins.left + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollLeft),\n\t\t\t\ttop: cur.top - this.offset.parent.top - self.margins.top + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollTop)\n\t\t\t}, parseInt(this.options.revert, 10) || 500, function() {\n\t\t\t\tself._clear(event);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._clear(event, noPropagation);\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\tcancel: function() {\n\n\t\tvar self = this;\n\n\t\tif(this.dragging) {\n\n\t\t\tthis._mouseUp({ target: null });\n\n\t\t\tif(this.options.helper == \"original\")\n\t\t\t\tthis.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\");\n\t\t\telse\n\t\t\t\tthis.currentItem.show();\n\n\t\t\t//Post deactivating events to containers\n\t\t\tfor (var i = this.containers.length - 1; i >= 0; i--){\n\t\t\t\tthis.containers[i]._trigger(\"deactivate\", null, self._uiHash(this));\n\t\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\t\tthis.containers[i]._trigger(\"out\", null, self._uiHash(this));\n\t\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif (this.placeholder) {\n\t\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!\n\t\t\tif(this.placeholder[0].parentNode) this.placeholder[0].parentNode.removeChild(this.placeholder[0]);\n\t\t\tif(this.options.helper != \"original\" && this.helper && this.helper[0].parentNode) this.helper.remove();\n\n\t\t\t$.extend(this, {\n\t\t\t\thelper: null,\n\t\t\t\tdragging: false,\n\t\t\t\treverting: false,\n\t\t\t\t_noFinalSort: null\n\t\t\t});\n\n\t\t\tif(this.domPosition.prev) {\n\t\t\t\t$(this.domPosition.prev).after(this.currentItem);\n\t\t\t} else {\n\t\t\t\t$(this.domPosition.parent).prepend(this.currentItem);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tserialize: function(o) {\n\n\t\tvar items = this._getItemsAsjQuery(o && o.connected);\n\t\tvar str = []; o = o || {};\n\n\t\t$(items).each(function() {\n\t\t\tvar res = ($(o.item || this).attr(o.attribute || 'id') || '').match(o.expression || (/(.+)[-=_](.+)/));\n\t\t\tif(res) str.push((o.key || res[1]+'[]')+'='+(o.key && o.expression ? res[1] : res[2]));\n\t\t});\n\n\t\tif(!str.length && o.key) {\n\t\t\tstr.push(o.key + '=');\n\t\t}\n\n\t\treturn str.join('&');\n\n\t},\n\n\ttoArray: function(o) {\n\n\t\tvar items = this._getItemsAsjQuery(o && o.connected);\n\t\tvar ret = []; o = o || {};\n\n\t\titems.each(function() { ret.push($(o.item || this).attr(o.attribute || 'id') || ''); });\n\t\treturn ret;\n\n\t},\n\n\t/* Be careful with the following core functions */\n\t_intersectsWith: function(item) {\n\n\t\tvar x1 = this.positionAbs.left,\n\t\t\tx2 = x1 + this.helperProportions.width,\n\t\t\ty1 = this.positionAbs.top,\n\t\t\ty2 = y1 + this.helperProportions.height;\n\n\t\tvar l = item.left,\n\t\t\tr = l + item.width,\n\t\t\tt = item.top,\n\t\t\tb = t + item.height;\n\n\t\tvar dyClick = this.offset.click.top,\n\t\t\tdxClick = this.offset.click.left;\n\n\t\tvar isOverElement = (y1 + dyClick) > t && (y1 + dyClick) < b && (x1 + dxClick) > l && (x1 + dxClick) < r;\n\n\t\tif(\t   this.options.tolerance == \"pointer\"\n\t\t\t|| this.options.forcePointerForContainers\n\t\t\t|| (this.options.tolerance != \"pointer\" && this.helperProportions[this.floating ? 'width' : 'height'] > item[this.floating ? 'width' : 'height'])\n\t\t) {\n\t\t\treturn isOverElement;\n\t\t} else {\n\n\t\t\treturn (l < x1 + (this.helperProportions.width / 2) // Right Half\n\t\t\t\t&& x2 - (this.helperProportions.width / 2) < r // Left Half\n\t\t\t\t&& t < y1 + (this.helperProportions.height / 2) // Bottom Half\n\t\t\t\t&& y2 - (this.helperProportions.height / 2) < b ); // Top Half\n\n\t\t}\n\t},\n\n\t_intersectsWithPointer: function(item) {\n\n\t\tvar isOverElementHeight = (this.options.axis === 'x') || $.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),\n\t\t\tisOverElementWidth = (this.options.axis === 'y') || $.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),\n\t\t\tisOverElement = isOverElementHeight && isOverElementWidth,\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif (!isOverElement)\n\t\t\treturn false;\n\n\t\treturn this.floating ?\n\t\t\t( ((horizontalDirection && horizontalDirection == \"right\") || verticalDirection == \"down\") ? 2 : 1 )\n\t\t\t: ( verticalDirection && (verticalDirection == \"down\" ? 2 : 1) );\n\n\t},\n\n\t_intersectsWithSides: function(item) {\n\n\t\tvar isOverBottomHalf = $.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),\n\t\t\tisOverRightHalf = $.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),\n\t\t\tverticalDirection = this._getDragVerticalDirection(),\n\t\t\thorizontalDirection = this._getDragHorizontalDirection();\n\n\t\tif (this.floating && horizontalDirection) {\n\t\t\treturn ((horizontalDirection == \"right\" && isOverRightHalf) || (horizontalDirection == \"left\" && !isOverRightHalf));\n\t\t} else {\n\t\t\treturn verticalDirection && ((verticalDirection == \"down\" && isOverBottomHalf) || (verticalDirection == \"up\" && !isOverBottomHalf));\n\t\t}\n\n\t},\n\n\t_getDragVerticalDirection: function() {\n\t\tvar delta = this.positionAbs.top - this.lastPositionAbs.top;\n\t\treturn delta != 0 && (delta > 0 ? \"down\" : \"up\");\n\t},\n\n\t_getDragHorizontalDirection: function() {\n\t\tvar delta = this.positionAbs.left - this.lastPositionAbs.left;\n\t\treturn delta != 0 && (delta > 0 ? \"right\" : \"left\");\n\t},\n\n\trefresh: function(event) {\n\t\tthis._refreshItems(event);\n\t\tthis.refreshPositions();\n\t\treturn this;\n\t},\n\n\t_connectWith: function() {\n\t\tvar options = this.options;\n\t\treturn options.connectWith.constructor == String\n\t\t\t? [options.connectWith]\n\t\t\t: options.connectWith;\n\t},\n\t\n\t_getItemsAsjQuery: function(connected) {\n\n\t\tvar self = this;\n\t\tvar items = [];\n\t\tvar queries = [];\n\t\tvar connectWith = this._connectWith();\n\n\t\tif(connectWith && connected) {\n\t\t\tfor (var i = connectWith.length - 1; i >= 0; i--){\n\t\t\t\tvar cur = $(connectWith[i]);\n\t\t\t\tfor (var j = cur.length - 1; j >= 0; j--){\n\t\t\t\t\tvar inst = $.data(cur[j], this.widgetName);\n\t\t\t\t\tif(inst && inst != this && !inst.options.disabled) {\n\t\t\t\t\t\tqueries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(\".ui-sortable-helper\").not('.ui-sortable-placeholder'), inst]);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\tqueries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(\".ui-sortable-helper\").not('.ui-sortable-placeholder'), this]);\n\n\t\tfor (var i = queries.length - 1; i >= 0; i--){\n\t\t\tqueries[i][0].each(function() {\n\t\t\t\titems.push(this);\n\t\t\t});\n\t\t};\n\n\t\treturn $(items);\n\n\t},\n\n\t_removeCurrentsFromItems: function() {\n\n\t\tvar list = this.currentItem.find(\":data(\" + this.widgetName + \"-item)\");\n\n\t\tfor (var i=0; i < this.items.length; i++) {\n\n\t\t\tfor (var j=0; j < list.length; j++) {\n\t\t\t\tif(list[j] == this.items[i].item[0])\n\t\t\t\t\tthis.items.splice(i,1);\n\t\t\t};\n\n\t\t};\n\n\t},\n\n\t_refreshItems: function(event) {\n\n\t\tthis.items = [];\n\t\tthis.containers = [this];\n\t\tvar items = this.items;\n\t\tvar self = this;\n\t\tvar queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]];\n\t\tvar connectWith = this._connectWith();\n\n\t\tif(connectWith && this.ready) { //Shouldn't be run the first time through due to massive slow-down\n\t\t\tfor (var i = connectWith.length - 1; i >= 0; i--){\n\t\t\t\tvar cur = $(connectWith[i]);\n\t\t\t\tfor (var j = cur.length - 1; j >= 0; j--){\n\t\t\t\t\tvar inst = $.data(cur[j], this.widgetName);\n\t\t\t\t\tif(inst && inst != this && !inst.options.disabled) {\n\t\t\t\t\t\tqueries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);\n\t\t\t\t\t\tthis.containers.push(inst);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\n\t\tfor (var i = queries.length - 1; i >= 0; i--) {\n\t\t\tvar targetData = queries[i][1];\n\t\t\tvar _queries = queries[i][0];\n\n\t\t\tfor (var j=0, queriesLength = _queries.length; j < queriesLength; j++) {\n\t\t\t\tvar item = $(_queries[j]);\n\n\t\t\t\titem.data(this.widgetName + '-item', targetData); // Data for target checking (mouse manager)\n\n\t\t\t\titems.push({\n\t\t\t\t\titem: item,\n\t\t\t\t\tinstance: targetData,\n\t\t\t\t\twidth: 0, height: 0,\n\t\t\t\t\tleft: 0, top: 0\n\t\t\t\t});\n\t\t\t};\n\t\t};\n\n\t},\n\n\trefreshPositions: function(fast) {\n\n\t\t//This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change\n\t\tif(this.offsetParent && this.helper) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\tfor (var i = this.items.length - 1; i >= 0; i--){\n\t\t\tvar item = this.items[i];\n\n\t\t\t//We ignore calculating positions of all connected containers when we're not over them\n\t\t\tif(item.instance != this.currentContainer && this.currentContainer && item.item[0] != this.currentItem[0])\n\t\t\t\tcontinue;\n\n\t\t\tvar t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;\n\n\t\t\tif (!fast) {\n\t\t\t\titem.width = t.outerWidth();\n\t\t\t\titem.height = t.outerHeight();\n\t\t\t}\n\n\t\t\tvar p = t.offset();\n\t\t\titem.left = p.left;\n\t\t\titem.top = p.top;\n\t\t};\n\n\t\tif(this.options.custom && this.options.custom.refreshContainers) {\n\t\t\tthis.options.custom.refreshContainers.call(this);\n\t\t} else {\n\t\t\tfor (var i = this.containers.length - 1; i >= 0; i--){\n\t\t\t\tvar p = this.containers[i].element.offset();\n\t\t\t\tthis.containers[i].containerCache.left = p.left;\n\t\t\t\tthis.containers[i].containerCache.top = p.top;\n\t\t\t\tthis.containers[i].containerCache.width\t= this.containers[i].element.outerWidth();\n\t\t\t\tthis.containers[i].containerCache.height = this.containers[i].element.outerHeight();\n\t\t\t};\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_createPlaceholder: function(that) {\n\n\t\tvar self = that || this, o = self.options;\n\n\t\tif(!o.placeholder || o.placeholder.constructor == String) {\n\t\t\tvar className = o.placeholder;\n\t\t\to.placeholder = {\n\t\t\t\telement: function() {\n\n\t\t\t\t\tvar el = $(document.createElement(self.currentItem[0].nodeName))\n\t\t\t\t\t\t.addClass(className || self.currentItem[0].className+\" ui-sortable-placeholder\")\n\t\t\t\t\t\t.removeClass(\"ui-sortable-helper\")[0];\n\n\t\t\t\t\tif(!className)\n\t\t\t\t\t\tel.style.visibility = \"hidden\";\n\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\t\t\t\tupdate: function(container, p) {\n\n\t\t\t\t\t// 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that\n\t\t\t\t\t// 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified\n\t\t\t\t\tif(className && !o.forcePlaceholderSize) return;\n\n\t\t\t\t\t//If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item\n\t\t\t\t\tif(!p.height()) { p.height(self.currentItem.innerHeight() - parseInt(self.currentItem.css('paddingTop')||0, 10) - parseInt(self.currentItem.css('paddingBottom')||0, 10)); };\n\t\t\t\t\tif(!p.width()) { p.width(self.currentItem.innerWidth() - parseInt(self.currentItem.css('paddingLeft')||0, 10) - parseInt(self.currentItem.css('paddingRight')||0, 10)); };\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t//Create the placeholder\n\t\tself.placeholder = $(o.placeholder.element.call(self.element, self.currentItem));\n\n\t\t//Append it after the actual current item\n\t\tself.currentItem.after(self.placeholder);\n\n\t\t//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)\n\t\to.placeholder.update(self, self.placeholder);\n\n\t},\n\n\t_contactContainers: function(event) {\n\t\t\n\t\t// get innermost container that intersects with item \n\t\tvar innermostContainer = null, innermostIndex = null;\t\t\n\t\t\n\t\t\n\t\tfor (var i = this.containers.length - 1; i >= 0; i--){\n\n\t\t\t// never consider a container that's located within the item itself \n\t\t\tif($.ui.contains(this.currentItem[0], this.containers[i].element[0]))\n\t\t\t\tcontinue;\n\n\t\t\tif(this._intersectsWith(this.containers[i].containerCache)) {\n\n\t\t\t\t// if we've already found a container and it's more \"inner\" than this, then continue \n\t\t\t\tif(innermostContainer && $.ui.contains(this.containers[i].element[0], innermostContainer.element[0]))\n\t\t\t\t\tcontinue;\n\n\t\t\t\tinnermostContainer = this.containers[i]; \n\t\t\t\tinnermostIndex = i;\n\t\t\t\t\t\n\t\t\t} else {\n\t\t\t\t// container doesn't intersect. trigger \"out\" event if necessary \n\t\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\t\tthis.containers[i]._trigger(\"out\", event, this._uiHash(this));\n\t\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t\t\n\t\t// if no intersecting containers found, return \n\t\tif(!innermostContainer) return; \n\n\t\t// move the item into the container if it's not there already\n\t\tif(this.containers.length === 1) {\n\t\t\tthis.containers[innermostIndex]._trigger(\"over\", event, this._uiHash(this));\n\t\t\tthis.containers[innermostIndex].containerCache.over = 1;\n\t\t} else if(this.currentContainer != this.containers[innermostIndex]) {\n\n\t\t\t//When entering a new container, we will find the item with the least distance and append our item near it\n\t\t\tvar dist = 10000; var itemWithLeastDistance = null; var base = this.positionAbs[this.containers[innermostIndex].floating ? 'left' : 'top'];\n\t\t\tfor (var j = this.items.length - 1; j >= 0; j--) {\n\t\t\t\tif(!$.ui.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) continue;\n\t\t\t\tvar cur = this.containers[innermostIndex].floating ? this.items[j].item.offset().left : this.items[j].item.offset().top;\n\t\t\t\tif(Math.abs(cur - base) < dist) {\n\t\t\t\t\tdist = Math.abs(cur - base); itemWithLeastDistance = this.items[j];\n\t\t\t\t\tthis.direction = (cur - base > 0) ? 'down' : 'up';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!itemWithLeastDistance && !this.options.dropOnEmpty) //Check if dropOnEmpty is enabled\n\t\t\t\treturn;\n\n\t\t\tthis.currentContainer = this.containers[innermostIndex];\n\t\t\titemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);\n\t\t\tthis._trigger(\"change\", event, this._uiHash());\n\t\t\tthis.containers[innermostIndex]._trigger(\"change\", event, this._uiHash(this));\n\n\t\t\t//Update the placeholder\n\t\t\tthis.options.placeholder.update(this.currentContainer, this.placeholder);\n\n\t\t\tthis.containers[innermostIndex]._trigger(\"over\", event, this._uiHash(this));\n\t\t\tthis.containers[innermostIndex].containerCache.over = 1;\n\t\t} \n\t\n\t\t\n\t},\n\n\t_createHelper: function(event) {\n\n\t\tvar o = this.options;\n\t\tvar helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper == 'clone' ? this.currentItem.clone() : this.currentItem);\n\n\t\tif(!helper.parents('body').length) //Add the helper to the DOM if that didn't happen already\n\t\t\t$(o.appendTo != 'parent' ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);\n\n\t\tif(helper[0] == this.currentItem[0])\n\t\t\tthis._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css(\"position\"), top: this.currentItem.css(\"top\"), left: this.currentItem.css(\"left\") };\n\n\t\tif(helper[0].style.width == '' || o.forceHelperSize) helper.width(this.currentItem.width());\n\t\tif(helper[0].style.height == '' || o.forceHelperSize) helper.height(this.currentItem.height());\n\n\t\treturn helper;\n\n\t},\n\n\t_adjustOffsetFromHelper: function(obj) {\n\t\tif (typeof obj == 'string') {\n\t\t\tobj = obj.split(' ');\n\t\t}\n\t\tif ($.isArray(obj)) {\n\t\t\tobj = {left: +obj[0], top: +obj[1] || 0};\n\t\t}\n\t\tif ('left' in obj) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ('right' in obj) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ('top' in obj) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ('bottom' in obj) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_getParentOffset: function() {\n\n\n\t\t//Get the offsetParent and cache its position\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tvar po = this.offsetParent.offset();\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that\n\t\t//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag\n\t\tif(this.cssPosition == 'absolute' && this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif((this.offsetParent[0] == document.body) //This needs to be actually done for all browsers, since pageX/pageY includes this information\n\t\t|| (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() == 'html' && $.browser.msie)) //Ugly IE fix\n\t\t\tpo = { top: 0, left: 0 };\n\n\t\treturn {\n\t\t\ttop: po.top + (parseInt(this.offsetParent.css(\"borderTopWidth\"),10) || 0),\n\t\t\tleft: po.left + (parseInt(this.offsetParent.css(\"borderLeftWidth\"),10) || 0)\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\n\t\tif(this.cssPosition == \"relative\") {\n\t\t\tvar p = this.currentItem.position();\n\t\t\treturn {\n\t\t\t\ttop: p.top - (parseInt(this.helper.css(\"top\"),10) || 0) + this.scrollParent.scrollTop(),\n\t\t\t\tleft: p.left - (parseInt(this.helper.css(\"left\"),10) || 0) + this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t} else {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: (parseInt(this.currentItem.css(\"marginLeft\"),10) || 0),\n\t\t\ttop: (parseInt(this.currentItem.css(\"marginTop\"),10) || 0)\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar o = this.options;\n\t\tif(o.containment == 'parent') o.containment = this.helper[0].parentNode;\n\t\tif(o.containment == 'document' || o.containment == 'window') this.containment = [\n\t\t\t0 - this.offset.relative.left - this.offset.parent.left,\n\t\t\t0 - this.offset.relative.top - this.offset.parent.top,\n\t\t\t$(o.containment == 'document' ? document : window).width() - this.helperProportions.width - this.margins.left,\n\t\t\t($(o.containment == 'document' ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top\n\t\t];\n\n\t\tif(!(/^(document|window|parent)$/).test(o.containment)) {\n\t\t\tvar ce = $(o.containment)[0];\n\t\t\tvar co = $(o.containment).offset();\n\t\t\tvar over = ($(ce).css(\"overflow\") != 'hidden');\n\n\t\t\tthis.containment = [\n\t\t\t\tco.left + (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingLeft\"),10) || 0) - this.margins.left,\n\t\t\t\tco.top + (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) + (parseInt($(ce).css(\"paddingTop\"),10) || 0) - this.margins.top,\n\t\t\t\tco.left+(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(\"borderLeftWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingRight\"),10) || 0) - this.helperProportions.width - this.margins.left,\n\t\t\t\tco.top+(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(\"borderTopWidth\"),10) || 0) - (parseInt($(ce).css(\"paddingBottom\"),10) || 0) - this.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t}\n\n\t},\n\n\t_convertPositionTo: function(d, pos) {\n\n\t\tif(!pos) pos = this.position;\n\t\tvar mod = d == \"absolute\" ? 1 : -1;\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpos.top\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t+ this.offset.relative.top * mod\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.top * mod\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ($.browser.safari && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpos.left\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t+ this.offset.relative.left * mod\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t+ this.offset.parent.left * mod\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t- ($.browser.safari && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function(event) {\n\n\t\tvar o = this.options, scroll = this.cssPosition == 'absolute' && !(this.scrollParent[0] != document && $.ui.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);\n\n\t\t// This is another very weird special case that only happens for relative elements:\n\t\t// 1. If the css position is relative\n\t\t// 2. and the scroll parent is the document or similar to the offset parent\n\t\t// we have to refresh the relative offset during the scroll so there are no jumps\n\t\tif(this.cssPosition == 'relative' && !(this.scrollParent[0] != document && this.scrollParent[0] != this.offsetParent[0])) {\n\t\t\tthis.offset.relative = this._getRelativeOffset();\n\t\t}\n\n\t\tvar pageX = event.pageX;\n\t\tvar pageY = event.pageY;\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\tif(this.originalPosition) { //If we are not dragging yet, we won't check for options\n\n\t\t\tif(this.containment) {\n\t\t\t\tif(event.pageX - this.offset.click.left < this.containment[0]) pageX = this.containment[0] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top < this.containment[1]) pageY = this.containment[1] + this.offset.click.top;\n\t\t\t\tif(event.pageX - this.offset.click.left > this.containment[2]) pageX = this.containment[2] + this.offset.click.left;\n\t\t\t\tif(event.pageY - this.offset.click.top > this.containment[3]) pageY = this.containment[3] + this.offset.click.top;\n\t\t\t}\n\n\t\t\tif(o.grid) {\n\t\t\t\tvar top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];\n\t\t\t\tpageY = this.containment ? (!(top - this.offset.click.top < this.containment[1] || top - this.offset.click.top > this.containment[3]) ? top : (!(top - this.offset.click.top < this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;\n\n\t\t\t\tvar left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];\n\t\t\t\tpageX = this.containment ? (!(left - this.offset.click.left < this.containment[0] || left - this.offset.click.left > this.containment[2]) ? left : (!(left - this.offset.click.left < this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\t\t\t\tpageY\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t- this.offset.click.top\t\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.top\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.top\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ($.browser.safari && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))\n\t\t\t),\n\t\t\tleft: (\n\t\t\t\tpageX\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// The absolute mouse position\n\t\t\t\t- this.offset.click.left\t\t\t\t\t\t\t\t\t\t\t\t// Click offset (relative to the element)\n\t\t\t\t- this.offset.relative.left\t\t\t\t\t\t\t\t\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\t- this.offset.parent.left\t\t\t\t\t\t\t\t\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\t+ ($.browser.safari && this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_rearrange: function(event, i, a, hardRefresh) {\n\n\t\ta ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction == 'down' ? i.item[0] : i.item[0].nextSibling));\n\n\t\t//Various things done here to improve the performance:\n\t\t// 1. we create a setTimeout, that calls refreshPositions\n\t\t// 2. on the instance, we have a counter variable, that get's higher after every append\n\t\t// 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same\n\t\t// 4. this lets only the last addition to the timeout stack through\n\t\tthis.counter = this.counter ? ++this.counter : 1;\n\t\tvar self = this, counter = this.counter;\n\n\t\twindow.setTimeout(function() {\n\t\t\tif(counter == self.counter) self.refreshPositions(!hardRefresh); //Precompute after each DOM insertion, NOT on mousemove\n\t\t},0);\n\n\t},\n\n\t_clear: function(event, noPropagation) {\n\n\t\tthis.reverting = false;\n\t\t// We delay all events that have to be triggered to after the point where the placeholder has been removed and\n\t\t// everything else normalized again\n\t\tvar delayedTriggers = [], self = this;\n\n\t\t// We first have to update the dom position of the actual currentItem\n\t\t// Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)\n\t\tif(!this._noFinalSort && this.currentItem.parent().length) this.placeholder.before(this.currentItem);\n\t\tthis._noFinalSort = null;\n\n\t\tif(this.helper[0] == this.currentItem[0]) {\n\t\t\tfor(var i in this._storedCSS) {\n\t\t\t\tif(this._storedCSS[i] == 'auto' || this._storedCSS[i] == 'static') this._storedCSS[i] = '';\n\t\t\t}\n\t\t\tthis.currentItem.css(this._storedCSS).removeClass(\"ui-sortable-helper\");\n\t\t} else {\n\t\t\tthis.currentItem.show();\n\t\t}\n\n\t\tif(this.fromOutside && !noPropagation) delayedTriggers.push(function(event) { this._trigger(\"receive\", event, this._uiHash(this.fromOutside)); });\n\t\tif((this.fromOutside || this.domPosition.prev != this.currentItem.prev().not(\".ui-sortable-helper\")[0] || this.domPosition.parent != this.currentItem.parent()[0]) && !noPropagation) delayedTriggers.push(function(event) { this._trigger(\"update\", event, this._uiHash()); }); //Trigger update callback if the DOM position has changed\n\t\tif(!$.ui.contains(this.element[0], this.currentItem[0])) { //Node was moved out of the current element\n\t\t\tif(!noPropagation) delayedTriggers.push(function(event) { this._trigger(\"remove\", event, this._uiHash()); });\n\t\t\tfor (var i = this.containers.length - 1; i >= 0; i--){\n\t\t\t\tif($.ui.contains(this.containers[i].element[0], this.currentItem[0]) && !noPropagation) {\n\t\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"receive\", event, this._uiHash(this)); };  }).call(this, this.containers[i]));\n\t\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"update\", event, this._uiHash(this));  }; }).call(this, this.containers[i]));\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\t//Post events to containers\n\t\tfor (var i = this.containers.length - 1; i >= 0; i--){\n\t\t\tif(!noPropagation) delayedTriggers.push((function(c) { return function(event) { c._trigger(\"deactivate\", event, this._uiHash(this)); };  }).call(this, this.containers[i]));\n\t\t\tif(this.containers[i].containerCache.over) {\n\t\t\t\tdelayedTriggers.push((function(c) { return function(event) { c._trigger(\"out\", event, this._uiHash(this)); };  }).call(this, this.containers[i]));\n\t\t\t\tthis.containers[i].containerCache.over = 0;\n\t\t\t}\n\t\t}\n\n\t\t//Do what was originally in plugins\n\t\tif(this._storedCursor) $('body').css(\"cursor\", this._storedCursor); //Reset cursor\n\t\tif(this._storedOpacity) this.helper.css(\"opacity\", this._storedOpacity); //Reset opacity\n\t\tif(this._storedZIndex) this.helper.css(\"zIndex\", this._storedZIndex == 'auto' ? '' : this._storedZIndex); //Reset z-index\n\n\t\tthis.dragging = false;\n\t\tif(this.cancelHelperRemoval) {\n\t\t\tif(!noPropagation) {\n\t\t\t\tthis._trigger(\"beforeStop\", event, this._uiHash());\n\t\t\t\tfor (var i=0; i < delayedTriggers.length; i++) { delayedTriggers[i].call(this, event); }; //Trigger all delayed events\n\t\t\t\tthis._trigger(\"stop\", event, this._uiHash());\n\t\t\t}\n\n\t\t\tthis.fromOutside = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tif(!noPropagation) this._trigger(\"beforeStop\", event, this._uiHash());\n\n\t\t//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!\n\t\tthis.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]);\n\n\n\t\tif(this.helper && this.helper[0] != this.currentItem[0]) this.helper.remove(); this.helper = null;\n\n\t\tif(!noPropagation) {\n\t\t\tfor (var i=0; i < delayedTriggers.length; i++) { delayedTriggers[i].call(this, event); }; //Trigger all delayed events\n\t\t\tthis._trigger(\"stop\", event, this._uiHash());\n\t\t}\n\n\t\tthis.fromOutside = false;\n\t\treturn true;\n\n\t},\n\n\t_trigger: function() {\n\t\tif ($.Widget.prototype._trigger.apply(this, arguments) === false) {\n\t\t\tthis.cancel();\n\t\t}\n\t},\n\n\t_uiHash: function(inst) {\n\t\tvar self = inst || this;\n\t\treturn {\n\t\t\thelper: self.helper,\n\t\t\tplaceholder: self.placeholder || $([]),\n\t\t\tposition: self.position,\n\t\t\toriginalPosition: self.originalPosition,\n\t\t\toffset: self.positionAbs,\n\t\t\titem: self.currentItem,\n\t\t\tsender: inst ? inst.element : null\n\t\t};\n\t}\n\n});\n\n$.extend($.ui.sortable, {\n\tversion: \"1.8.23\"\n});\n\n})(jQuery);\n","/*!\n * jQuery UI Widget 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Widget\n */\n(function( $, undefined ) {\n\n// jQuery 1.4+\nif ( $.cleanData ) {\n\tvar _cleanData = $.cleanData;\n\t$.cleanData = function( elems ) {\n\t\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\t\ttry {\n\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t} catch( e ) {}\n\t\t}\n\t\t_cleanData( elems );\n\t};\n} else {\n\tvar _remove = $.fn.remove;\n\t$.fn.remove = function( selector, keepData ) {\n\t\treturn this.each(function() {\n\t\t\tif ( !keepData ) {\n\t\t\t\tif ( !selector || $.filter( selector, [ this ] ).length ) {\n\t\t\t\t\t$( \"*\", this ).add( [ this ] ).each(function() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$( this ).triggerHandler( \"remove\" );\n\t\t\t\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t\t\t\t} catch( e ) {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _remove.call( $(this), selector, keepData );\n\t\t});\n\t};\n}\n\n$.widget = function( name, base, prototype ) {\n\tvar namespace = name.split( \".\" )[ 0 ],\n\t\tfullName;\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName ] = function( elem ) {\n\t\treturn !!$.data( elem, name );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\t$[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without initializing for simple inheritance\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\tvar basePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n//\t$.each( basePrototype, function( key, val ) {\n//\t\tif ( $.isPlainObject(val) ) {\n//\t\t\tbasePrototype[ key ] = $.extend( {}, val );\n//\t\t}\n//\t});\n\tbasePrototype.options = $.extend( true, {}, basePrototype.options );\n\t$[ namespace ][ name ].prototype = $.extend( true, basePrototype, {\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetEventPrefix: $[ namespace ][ name ].prototype.widgetEventPrefix || name,\n\t\twidgetBaseClass: fullName\n\t}, prototype );\n\n\t$.widget.bridge( name, $[ namespace ][ name ] );\n};\n\n$.widget.bridge = function( name, object ) {\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = Array.prototype.slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.extend.apply( null, [ true, options ].concat(args) ) :\n\t\t\toptions;\n\n\t\t// prevent calls to internal methods\n\t\tif ( isMethodCall && options.charAt( 0 ) === \"_\" ) {\n\t\t\treturn returnValue;\n\t\t}\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name ),\n\t\t\t\t\tmethodValue = instance && $.isFunction( instance[options] ) ?\n\t\t\t\t\t\tinstance[ options ].apply( instance, args ) :\n\t\t\t\t\t\tinstance;\n\t\t\t\t// TODO: add this back in 1.9 and use $.error() (see #5972)\n//\t\t\t\tif ( !instance ) {\n//\t\t\t\t\tthrow \"cannot call methods on \" + name + \" prior to initialization; \" +\n//\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\";\n//\t\t\t\t}\n//\t\t\t\tif ( !$.isFunction( instance[options] ) ) {\n//\t\t\t\t\tthrow \"no such method '\" + options + \"' for \" + name + \" widget instance\";\n//\t\t\t\t}\n//\t\t\t\tvar methodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, name, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( options, element ) {\n\t// allow instantiation without initializing for simple inheritance\n\tif ( arguments.length ) {\n\t\tthis._createWidget( options, element );\n\t}\n};\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\toptions: {\n\t\tdisabled: false\n\t},\n\t_createWidget: function( options, element ) {\n\t\t// $.widget.bridge stores the plugin instance, but we do it anyway\n\t\t// so that it's stored even before the _create function runs\n\t\t$.data( element, this.widgetName, this );\n\t\tthis.element = $( element );\n\t\tthis.options = $.extend( true, {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tvar self = this;\n\t\tthis.element.bind( \"remove.\" + this.widgetName, function() {\n\t\t\tself.destroy();\n\t\t});\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\" );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: function() {\n\t\treturn $.metadata && $.metadata.get( this.element[0] )[ this.widgetName ];\n\t},\n\t_create: function() {},\n\t_init: function() {},\n\n\tdestroy: function() {\n\t\tthis.element\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeData( this.widgetName );\n\t\tthis.widget()\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetBaseClass + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\t},\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.extend( {}, this.options );\n\t\t}\n\n\t\tif  (typeof key === \"string\" ) {\n\t\t\tif ( value === undefined ) {\n\t\t\t\treturn this.options[ key ];\n\t\t\t}\n\t\t\toptions = {};\n\t\t\toptions[ key ] = value;\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar self = this;\n\t\t$.each( options, function( key, value ) {\n\t\t\tself._setOption( key, value );\n\t\t});\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t[ value ? \"addClass\" : \"removeClass\"](\n\t\t\t\t\tthis.widgetBaseClass + \"-disabled\" + \" \" +\n\t\t\t\t\t\"ui-state-disabled\" )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOption( \"disabled\", false );\n\t},\n\tdisable: function() {\n\t\treturn this._setOption( \"disabled\", true );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\n\t\treturn !( $.isFunction(callback) &&\n\t\t\tcallback.call( this.element[0], event, data ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n})( jQuery );\n","\n/*\n *\n * More info at [www.dropzonejs.com](http://www.dropzonejs.com)\n *\n * Copyright (c) 2012, Matias Meno\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n(function() {\n  var Dropzone, Emitter, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,\n    __slice = [].slice,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  noop = function() {};\n\n  Emitter = (function() {\n    function Emitter() {}\n\n    Emitter.prototype.addEventListener = Emitter.prototype.on;\n\n    Emitter.prototype.on = function(event, fn) {\n      this._callbacks = this._callbacks || {};\n      if (!this._callbacks[event]) {\n        this._callbacks[event] = [];\n      }\n      this._callbacks[event].push(fn);\n      return this;\n    };\n\n    Emitter.prototype.emit = function() {\n      var args, callback, callbacks, event, _i, _len;\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      this._callbacks = this._callbacks || {};\n      callbacks = this._callbacks[event];\n      if (callbacks) {\n        for (_i = 0, _len = callbacks.length; _i < _len; _i++) {\n          callback = callbacks[_i];\n          callback.apply(this, args);\n        }\n      }\n      return this;\n    };\n\n    Emitter.prototype.removeListener = Emitter.prototype.off;\n\n    Emitter.prototype.removeAllListeners = Emitter.prototype.off;\n\n    Emitter.prototype.removeEventListener = Emitter.prototype.off;\n\n    Emitter.prototype.off = function(event, fn) {\n      var callback, callbacks, i, _i, _len;\n      if (!this._callbacks || arguments.length === 0) {\n        this._callbacks = {};\n        return this;\n      }\n      callbacks = this._callbacks[event];\n      if (!callbacks) {\n        return this;\n      }\n      if (arguments.length === 1) {\n        delete this._callbacks[event];\n        return this;\n      }\n      for (i = _i = 0, _len = callbacks.length; _i < _len; i = ++_i) {\n        callback = callbacks[i];\n        if (callback === fn) {\n          callbacks.splice(i, 1);\n          break;\n        }\n      }\n      return this;\n    };\n\n    return Emitter;\n\n  })();\n\n  Dropzone = (function(_super) {\n    var extend, resolveOption;\n\n    __extends(Dropzone, _super);\n\n    Dropzone.prototype.Emitter = Emitter;\n\n\n    /*\n    This is a list of all available events you can register on a dropzone object.\n    \n    You can register an event handler like this:\n    \n        dropzone.on(\"dragEnter\", function() { });\n     */\n\n    Dropzone.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\n\n    Dropzone.prototype.defaultOptions = {\n      url: null,\n      method: \"post\",\n      withCredentials: false,\n      parallelUploads: 2,\n      uploadMultiple: false,\n      maxFilesize: 256,\n      paramName: \"file\",\n      createImageThumbnails: true,\n      maxThumbnailFilesize: 10,\n      thumbnailWidth: 120,\n      thumbnailHeight: 120,\n      filesizeBase: 1000,\n      maxFiles: null,\n      filesizeBase: 1000,\n      params: {},\n      clickable: true,\n      ignoreHiddenFiles: true,\n      acceptedFiles: null,\n      acceptedMimeTypes: null,\n      autoProcessQueue: true,\n      autoQueue: true,\n      addRemoveLinks: false,\n      previewsContainer: null,\n      capture: null,\n      dictDefaultMessage: \"Drop files here to upload\",\n      dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\n      dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\n      dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n      dictInvalidFileType: \"You can't upload files of this type.\",\n      dictResponseError: \"Server responded with {{statusCode}} code.\",\n      dictCancelUpload: \"Cancel upload\",\n      dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n      dictRemoveFile: \"Remove file\",\n      dictRemoveFileConfirmation: null,\n      dictMaxFilesExceeded: \"You can not upload any more files.\",\n      accept: function(file, done) {\n        return done();\n      },\n      init: function() {\n        return noop;\n      },\n      forceFallback: false,\n      fallback: function() {\n        var child, messageElement, span, _i, _len, _ref;\n        this.element.className = \"\" + this.element.className + \" dz-browser-not-supported\";\n        _ref = this.element.getElementsByTagName(\"div\");\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          child = _ref[_i];\n          if (/(^| )dz-message($| )/.test(child.className)) {\n            messageElement = child;\n            child.className = \"dz-message\";\n            continue;\n          }\n        }\n        if (!messageElement) {\n          messageElement = Dropzone.createElement(\"<div class=\\\"dz-message\\\"><span></span></div>\");\n          this.element.appendChild(messageElement);\n        }\n        span = messageElement.getElementsByTagName(\"span\")[0];\n        if (span) {\n          span.textContent = this.options.dictFallbackMessage;\n        }\n        return this.element.appendChild(this.getFallbackForm());\n      },\n      resize: function(file) {\n        var info, srcRatio, trgRatio;\n        info = {\n          srcX: 0,\n          srcY: 0,\n          srcWidth: file.width,\n          srcHeight: file.height\n        };\n        srcRatio = file.width / file.height;\n        info.optWidth = this.options.thumbnailWidth;\n        info.optHeight = this.options.thumbnailHeight;\n        if ((info.optWidth == null) && (info.optHeight == null)) {\n          info.optWidth = info.srcWidth;\n          info.optHeight = info.srcHeight;\n        } else if (info.optWidth == null) {\n          info.optWidth = srcRatio * info.optHeight;\n        } else if (info.optHeight == null) {\n          info.optHeight = (1 / srcRatio) * info.optWidth;\n        }\n        trgRatio = info.optWidth / info.optHeight;\n        if (file.height < info.optHeight || file.width < info.optWidth) {\n          info.trgHeight = info.srcHeight;\n          info.trgWidth = info.srcWidth;\n        } else {\n          if (srcRatio > trgRatio) {\n            info.srcHeight = file.height;\n            info.srcWidth = info.srcHeight * trgRatio;\n          } else {\n            info.srcWidth = file.width;\n            info.srcHeight = info.srcWidth / trgRatio;\n          }\n        }\n        info.srcX = (file.width - info.srcWidth) / 2;\n        info.srcY = (file.height - info.srcHeight) / 2;\n        return info;\n      },\n\n      /*\n      Those functions register themselves to the events on init and handle all\n      the user interface specific stuff. Overwriting them won't break the upload\n      but can break the way it's displayed.\n      You can overwrite them if you don't like the default behavior. If you just\n      want to add an additional event handler, register it on the dropzone object\n      and don't overwrite those options.\n       */\n      drop: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragstart: noop,\n      dragend: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragenter: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragover: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragleave: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      paste: noop,\n      reset: function() {\n        return this.element.classList.remove(\"dz-started\");\n      },\n      addedfile: function(file) {\n        var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\n        if (this.element === this.previewsContainer) {\n          this.element.classList.add(\"dz-started\");\n        }\n        if (this.previewsContainer) {\n          file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());\n          file.previewTemplate = file.previewElement;\n          this.previewsContainer.appendChild(file.previewElement);\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-name]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            node.textContent = file.name;\n          }\n          _ref1 = file.previewElement.querySelectorAll(\"[data-dz-size]\");\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            node = _ref1[_j];\n            node.innerHTML = this.filesize(file.size);\n          }\n          if (this.options.addRemoveLinks) {\n            file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\" + this.options.dictRemoveFile + \"</a>\");\n            file.previewElement.appendChild(file._removeLink);\n          }\n          removeFileEvent = (function(_this) {\n            return function(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              if (file.status === Dropzone.UPLOADING) {\n                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {\n                  return _this.removeFile(file);\n                });\n              } else {\n                if (_this.options.dictRemoveFileConfirmation) {\n                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {\n                    return _this.removeFile(file);\n                  });\n                } else {\n                  return _this.removeFile(file);\n                }\n              }\n            };\n          })(this);\n          _ref2 = file.previewElement.querySelectorAll(\"[data-dz-remove]\");\n          _results = [];\n          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n            removeLink = _ref2[_k];\n            _results.push(removeLink.addEventListener(\"click\", removeFileEvent));\n          }\n          return _results;\n        }\n      },\n      removedfile: function(file) {\n        var _ref;\n        if (file.previewElement) {\n          if ((_ref = file.previewElement) != null) {\n            _ref.parentNode.removeChild(file.previewElement);\n          }\n        }\n        return this._updateMaxFilesReachedClass();\n      },\n      thumbnail: function(file, dataUrl) {\n        var thumbnailElement, _i, _len, _ref;\n        if (file.previewElement) {\n          file.previewElement.classList.remove(\"dz-file-preview\");\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            thumbnailElement = _ref[_i];\n            thumbnailElement.alt = file.name;\n            thumbnailElement.src = dataUrl;\n          }\n          return setTimeout(((function(_this) {\n            return function() {\n              return file.previewElement.classList.add(\"dz-image-preview\");\n            };\n          })(this)), 1);\n        }\n      },\n      error: function(file, message) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-error\");\n          if (typeof message !== \"String\" && message.error) {\n            message = message.error;\n          }\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-errormessage]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            _results.push(node.textContent = message);\n          }\n          return _results;\n        }\n      },\n      errormultiple: noop,\n      processing: function(file) {\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-processing\");\n          if (file._removeLink) {\n            return file._removeLink.textContent = this.options.dictCancelUpload;\n          }\n        }\n      },\n      processingmultiple: noop,\n      uploadprogress: function(file, progress, bytesSent) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            if (node.nodeName === 'PROGRESS') {\n              _results.push(node.value = progress);\n            } else {\n              _results.push(node.style.width = \"\" + progress + \"%\");\n            }\n          }\n          return _results;\n        }\n      },\n      totaluploadprogress: noop,\n      sending: noop,\n      sendingmultiple: noop,\n      success: function(file) {\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-success\");\n        }\n      },\n      successmultiple: noop,\n      canceled: function(file) {\n        return this.emit(\"error\", file, \"Upload canceled.\");\n      },\n      canceledmultiple: noop,\n      complete: function(file) {\n        if (file._removeLink) {\n          file._removeLink.textContent = this.options.dictRemoveFile;\n        }\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-complete\");\n        }\n      },\n      completemultiple: noop,\n      maxfilesexceeded: noop,\n      maxfilesreached: noop,\n      queuecomplete: noop,\n      previewTemplate: \"<div class=\\\"dz-preview dz-file-preview\\\">\\n  <div class=\\\"dz-image\\\"><img data-dz-thumbnail /></div>\\n  <div class=\\\"dz-details\\\">\\n    <div class=\\\"dz-size\\\"><span data-dz-size></span></div>\\n    <div class=\\\"dz-filename\\\"><span data-dz-name></span></div>\\n  </div>\\n  <div class=\\\"dz-progress\\\"><span class=\\\"dz-upload\\\" data-dz-uploadprogress></span></div>\\n  <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div>\\n  <div class=\\\"dz-success-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Check</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n      </g>\\n    </svg>\\n  </div>\\n  <div class=\\\"dz-error-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Error</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Check-+-Oval-2\\\" sketch:type=\\\"MSLayerGroup\\\" stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\">\\n          <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n        </g>\\n      </g>\\n    </svg>\\n  </div>\\n</div>\"\n    };\n\n    extend = function() {\n      var key, object, objects, target, val, _i, _len;\n      target = arguments[0], objects = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      for (_i = 0, _len = objects.length; _i < _len; _i++) {\n        object = objects[_i];\n        for (key in object) {\n          val = object[key];\n          target[key] = val;\n        }\n      }\n      return target;\n    };\n\n    function Dropzone(element, options) {\n      var elementOptions, fallback, _ref;\n      this.element = element;\n      this.version = Dropzone.version;\n      this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\\n*/g, \"\");\n      this.clickableElements = [];\n      this.listeners = [];\n      this.files = [];\n      if (typeof this.element === \"string\") {\n        this.element = document.querySelector(this.element);\n      }\n      if (!(this.element && (this.element.nodeType != null))) {\n        throw new Error(\"Invalid dropzone element.\");\n      }\n      if (this.element.dropzone) {\n        throw new Error(\"Dropzone already attached.\");\n      }\n      Dropzone.instances.push(this);\n      this.element.dropzone = this;\n      elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};\n      this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});\n      if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n        return this.options.fallback.call(this);\n      }\n      if (this.options.url == null) {\n        this.options.url = this.element.getAttribute(\"action\");\n      }\n      if (!this.options.url) {\n        throw new Error(\"No URL provided.\");\n      }\n      if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {\n        throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\n      }\n      if (this.options.acceptedMimeTypes) {\n        this.options.acceptedFiles = this.options.acceptedMimeTypes;\n        delete this.options.acceptedMimeTypes;\n      }\n      this.options.method = this.options.method.toUpperCase();\n      if ((fallback = this.getExistingFallback()) && fallback.parentNode) {\n        fallback.parentNode.removeChild(fallback);\n      }\n      if (this.options.previewsContainer !== false) {\n        if (this.options.previewsContainer) {\n          this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, \"previewsContainer\");\n        } else {\n          this.previewsContainer = this.element;\n        }\n      }\n      if (this.options.clickable) {\n        if (this.options.clickable === true) {\n          this.clickableElements = [this.element];\n        } else {\n          this.clickableElements = Dropzone.getElements(this.options.clickable, \"clickable\");\n        }\n      }\n      this.init();\n    }\n\n    Dropzone.prototype.getAcceptedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getRejectedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (!file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getFilesWithStatus = function(status) {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === status) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getQueuedFiles = function() {\n      return this.getFilesWithStatus(Dropzone.QUEUED);\n    };\n\n    Dropzone.prototype.getUploadingFiles = function() {\n      return this.getFilesWithStatus(Dropzone.UPLOADING);\n    };\n\n    Dropzone.prototype.getActiveFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.init = function() {\n      var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;\n      if (this.element.tagName === \"form\") {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n      }\n      if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\n        this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><span>\" + this.options.dictDefaultMessage + \"</span></div>\"));\n      }\n      if (this.clickableElements.length) {\n        setupHiddenFileInput = (function(_this) {\n          return function() {\n            if (_this.hiddenFileInput) {\n              document.body.removeChild(_this.hiddenFileInput);\n            }\n            _this.hiddenFileInput = document.createElement(\"input\");\n            _this.hiddenFileInput.setAttribute(\"type\", \"file\");\n            if ((_this.options.maxFiles == null) || _this.options.maxFiles > 1) {\n              _this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n            }\n            _this.hiddenFileInput.className = \"dz-hidden-input\";\n            if (_this.options.acceptedFiles != null) {\n              _this.hiddenFileInput.setAttribute(\"accept\", _this.options.acceptedFiles);\n            }\n            if (_this.options.capture != null) {\n              _this.hiddenFileInput.setAttribute(\"capture\", _this.options.capture);\n            }\n            _this.hiddenFileInput.style.visibility = \"hidden\";\n            _this.hiddenFileInput.style.position = \"absolute\";\n            _this.hiddenFileInput.style.top = \"0\";\n            _this.hiddenFileInput.style.left = \"0\";\n            _this.hiddenFileInput.style.height = \"0\";\n            _this.hiddenFileInput.style.width = \"0\";\n            document.body.appendChild(_this.hiddenFileInput);\n            return _this.hiddenFileInput.addEventListener(\"change\", function() {\n              var file, files, _i, _len;\n              files = _this.hiddenFileInput.files;\n              if (files.length) {\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\n                  file = files[_i];\n                  _this.addFile(file);\n                }\n              }\n              return setupHiddenFileInput();\n            });\n          };\n        })(this);\n        setupHiddenFileInput();\n      }\n      this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;\n      _ref1 = this.events;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        eventName = _ref1[_i];\n        this.on(eventName, this.options[eventName]);\n      }\n      this.on(\"uploadprogress\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"removedfile\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"canceled\", (function(_this) {\n        return function(file) {\n          return _this.emit(\"complete\", file);\n        };\n      })(this));\n      this.on(\"complete\", (function(_this) {\n        return function(file) {\n          if (_this.getUploadingFiles().length === 0 && _this.getQueuedFiles().length === 0) {\n            return setTimeout((function() {\n              return _this.emit(\"queuecomplete\");\n            }), 0);\n          }\n        };\n      })(this));\n      noPropagation = function(e) {\n        e.stopPropagation();\n        if (e.preventDefault) {\n          return e.preventDefault();\n        } else {\n          return e.returnValue = false;\n        }\n      };\n      this.listeners = [\n        {\n          element: this.element,\n          events: {\n            \"dragstart\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragstart\", e);\n              };\n            })(this),\n            \"dragenter\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.emit(\"dragenter\", e);\n              };\n            })(this),\n            \"dragover\": (function(_this) {\n              return function(e) {\n                var efct;\n                try {\n                  efct = e.dataTransfer.effectAllowed;\n                } catch (_error) {}\n                e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';\n                noPropagation(e);\n                return _this.emit(\"dragover\", e);\n              };\n            })(this),\n            \"dragleave\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragleave\", e);\n              };\n            })(this),\n            \"drop\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.drop(e);\n              };\n            })(this),\n            \"dragend\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragend\", e);\n              };\n            })(this)\n          }\n        }\n      ];\n      this.clickableElements.forEach((function(_this) {\n        return function(clickableElement) {\n          return _this.listeners.push({\n            element: clickableElement,\n            events: {\n              \"click\": function(evt) {\n                if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(\".dz-message\")))) {\n                  return _this.hiddenFileInput.click();\n                }\n              }\n            }\n          });\n        };\n      })(this));\n      this.enable();\n      return this.options.init.call(this);\n    };\n\n    Dropzone.prototype.destroy = function() {\n      var _ref;\n      this.disable();\n      this.removeAllFiles(true);\n      if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {\n        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = null;\n      }\n      delete this.element.dropzone;\n      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n    };\n\n    Dropzone.prototype.updateTotalUploadProgress = function() {\n      var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;\n      totalBytesSent = 0;\n      totalBytes = 0;\n      activeFiles = this.getActiveFiles();\n      if (activeFiles.length) {\n        _ref = this.getActiveFiles();\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          totalBytesSent += file.upload.bytesSent;\n          totalBytes += file.upload.total;\n        }\n        totalUploadProgress = 100 * totalBytesSent / totalBytes;\n      } else {\n        totalUploadProgress = 100;\n      }\n      return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\n    };\n\n    Dropzone.prototype._getParamName = function(n) {\n      if (typeof this.options.paramName === \"function\") {\n        return this.options.paramName(n);\n      } else {\n        return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n      }\n    };\n\n    Dropzone.prototype.getFallbackForm = function() {\n      var existingFallback, fields, fieldsString, form;\n      if (existingFallback = this.getExistingFallback()) {\n        return existingFallback;\n      }\n      fieldsString = \"<div class=\\\"dz-fallback\\\">\";\n      if (this.options.dictFallbackText) {\n        fieldsString += \"<p>\" + this.options.dictFallbackText + \"</p>\";\n      }\n      fieldsString += \"<input type=\\\"file\\\" name=\\\"\" + (this._getParamName(0)) + \"\\\" \" + (this.options.uploadMultiple ? 'multiple=\"multiple\"' : void 0) + \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\";\n      fields = Dropzone.createElement(fieldsString);\n      if (this.element.tagName !== \"FORM\") {\n        form = Dropzone.createElement(\"<form action=\\\"\" + this.options.url + \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\" + this.options.method + \"\\\"></form>\");\n        form.appendChild(fields);\n      } else {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n        this.element.setAttribute(\"method\", this.options.method);\n      }\n      return form != null ? form : fields;\n    };\n\n    Dropzone.prototype.getExistingFallback = function() {\n      var fallback, getFallback, tagName, _i, _len, _ref;\n      getFallback = function(elements) {\n        var el, _i, _len;\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )fallback($| )/.test(el.className)) {\n            return el;\n          }\n        }\n      };\n      _ref = [\"div\", \"form\"];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        tagName = _ref[_i];\n        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\n          return fallback;\n        }\n      }\n    };\n\n    Dropzone.prototype.setupEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.addEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.removeEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.removeEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.disable = function() {\n      var file, _i, _len, _ref, _results;\n      this.clickableElements.forEach(function(element) {\n        return element.classList.remove(\"dz-clickable\");\n      });\n      this.removeEventListeners();\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        _results.push(this.cancelUpload(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.enable = function() {\n      this.clickableElements.forEach(function(element) {\n        return element.classList.add(\"dz-clickable\");\n      });\n      return this.setupEventListeners();\n    };\n\n    Dropzone.prototype.filesize = function(size) {\n      var cutoff, i, selectedSize, selectedUnit, unit, units, _i, _len;\n      units = ['TB', 'GB', 'MB', 'KB', 'b'];\n      selectedSize = selectedUnit = null;\n      for (i = _i = 0, _len = units.length; _i < _len; i = ++_i) {\n        unit = units[i];\n        cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n        if (size >= cutoff) {\n          selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n          selectedUnit = unit;\n          break;\n        }\n      }\n      selectedSize = Math.round(10 * selectedSize) / 10;\n      return \"<strong>\" + selectedSize + \"</strong> \" + selectedUnit;\n    };\n\n    Dropzone.prototype._updateMaxFilesReachedClass = function() {\n      if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        if (this.getAcceptedFiles().length === this.options.maxFiles) {\n          this.emit('maxfilesreached', this.files);\n        }\n        return this.element.classList.add(\"dz-max-files-reached\");\n      } else {\n        return this.element.classList.remove(\"dz-max-files-reached\");\n      }\n    };\n\n    Dropzone.prototype.drop = function(e) {\n      var files, items;\n      if (!e.dataTransfer) {\n        return;\n      }\n      this.emit(\"drop\", e);\n      files = e.dataTransfer.files;\n      if (files.length) {\n        items = e.dataTransfer.items;\n        if (items && items.length && (items[0].webkitGetAsEntry != null)) {\n          this._addFilesFromItems(items);\n        } else {\n          this.handleFiles(files);\n        }\n      }\n    };\n\n    Dropzone.prototype.paste = function(e) {\n      var items, _ref;\n      if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {\n        return;\n      }\n      this.emit(\"paste\", e);\n      items = e.clipboardData.items;\n      if (items.length) {\n        return this._addFilesFromItems(items);\n      }\n    };\n\n    Dropzone.prototype.handleFiles = function(files) {\n      var file, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        _results.push(this.addFile(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromItems = function(items) {\n      var entry, item, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = items.length; _i < _len; _i++) {\n        item = items[_i];\n        if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\n          if (entry.isFile) {\n            _results.push(this.addFile(item.getAsFile()));\n          } else if (entry.isDirectory) {\n            _results.push(this._addFilesFromDirectory(entry, entry.name));\n          } else {\n            _results.push(void 0);\n          }\n        } else if (item.getAsFile != null) {\n          if ((item.kind == null) || item.kind === \"file\") {\n            _results.push(this.addFile(item.getAsFile()));\n          } else {\n            _results.push(void 0);\n          }\n        } else {\n          _results.push(void 0);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromDirectory = function(directory, path) {\n      var dirReader, entriesReader;\n      dirReader = directory.createReader();\n      entriesReader = (function(_this) {\n        return function(entries) {\n          var entry, _i, _len;\n          for (_i = 0, _len = entries.length; _i < _len; _i++) {\n            entry = entries[_i];\n            if (entry.isFile) {\n              entry.file(function(file) {\n                if (_this.options.ignoreHiddenFiles && file.name.substring(0, 1) === '.') {\n                  return;\n                }\n                file.fullPath = \"\" + path + \"/\" + file.name;\n                return _this.addFile(file);\n              });\n            } else if (entry.isDirectory) {\n              _this._addFilesFromDirectory(entry, \"\" + path + \"/\" + entry.name);\n            }\n          }\n        };\n      })(this);\n      return dirReader.readEntries(entriesReader, function(error) {\n        return typeof console !== \"undefined\" && console !== null ? typeof console.log === \"function\" ? console.log(error) : void 0 : void 0;\n      });\n    };\n\n    Dropzone.prototype.accept = function(file, done) {\n      if (file.size > this.options.maxFilesize * 1024 * 1024) {\n        return done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\n      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n        return done(this.options.dictInvalidFileType);\n      } else if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\n        return this.emit(\"maxfilesexceeded\", file);\n      } else {\n        return this.options.accept.call(this, file, done);\n      }\n    };\n\n    Dropzone.prototype.addFile = function(file) {\n      file.upload = {\n        progress: 0,\n        total: file.size,\n        bytesSent: 0\n      };\n      this.files.push(file);\n      file.status = Dropzone.ADDED;\n      this.emit(\"addedfile\", file);\n      this._enqueueThumbnail(file);\n      return this.accept(file, (function(_this) {\n        return function(error) {\n          if (error) {\n            file.accepted = false;\n            _this._errorProcessing([file], error);\n          } else {\n            file.accepted = true;\n            if (_this.options.autoQueue) {\n              _this.enqueueFile(file);\n            }\n          }\n          return _this._updateMaxFilesReachedClass();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.enqueueFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        this.enqueueFile(file);\n      }\n      return null;\n    };\n\n    Dropzone.prototype.enqueueFile = function(file) {\n      if (file.status === Dropzone.ADDED && file.accepted === true) {\n        file.status = Dropzone.QUEUED;\n        if (this.options.autoProcessQueue) {\n          return setTimeout(((function(_this) {\n            return function() {\n              return _this.processQueue();\n            };\n          })(this)), 0);\n        }\n      } else {\n        throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\n      }\n    };\n\n    Dropzone.prototype._thumbnailQueue = [];\n\n    Dropzone.prototype._processingThumbnail = false;\n\n    Dropzone.prototype._enqueueThumbnail = function(file) {\n      if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\n        this._thumbnailQueue.push(file);\n        return setTimeout(((function(_this) {\n          return function() {\n            return _this._processThumbnailQueue();\n          };\n        })(this)), 0);\n      }\n    };\n\n    Dropzone.prototype._processThumbnailQueue = function() {\n      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n        return;\n      }\n      this._processingThumbnail = true;\n      return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {\n        return function() {\n          _this._processingThumbnail = false;\n          return _this._processThumbnailQueue();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.removeFile = function(file) {\n      if (file.status === Dropzone.UPLOADING) {\n        this.cancelUpload(file);\n      }\n      this.files = without(this.files, file);\n      this.emit(\"removedfile\", file);\n      if (this.files.length === 0) {\n        return this.emit(\"reset\");\n      }\n    };\n\n    Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {\n      var file, _i, _len, _ref;\n      if (cancelIfNecessary == null) {\n        cancelIfNecessary = false;\n      }\n      _ref = this.files.slice();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n          this.removeFile(file);\n        }\n      }\n      return null;\n    };\n\n    Dropzone.prototype.createThumbnail = function(file, callback) {\n      var fileReader;\n      fileReader = new FileReader;\n      fileReader.onload = (function(_this) {\n        return function() {\n          if (file.type === \"image/svg+xml\") {\n            _this.emit(\"thumbnail\", file, fileReader.result);\n            if (callback != null) {\n              callback();\n            }\n            return;\n          }\n          return _this.createThumbnailFromUrl(file, fileReader.result, callback);\n        };\n      })(this);\n      return fileReader.readAsDataURL(file);\n    };\n\n    Dropzone.prototype.createThumbnailFromUrl = function(file, imageUrl, callback) {\n      var img;\n      img = document.createElement(\"img\");\n      img.onload = (function(_this) {\n        return function() {\n          var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;\n          file.width = img.width;\n          file.height = img.height;\n          resizeInfo = _this.options.resize.call(_this, file);\n          if (resizeInfo.trgWidth == null) {\n            resizeInfo.trgWidth = resizeInfo.optWidth;\n          }\n          if (resizeInfo.trgHeight == null) {\n            resizeInfo.trgHeight = resizeInfo.optHeight;\n          }\n          canvas = document.createElement(\"canvas\");\n          ctx = canvas.getContext(\"2d\");\n          canvas.width = resizeInfo.trgWidth;\n          canvas.height = resizeInfo.trgHeight;\n          drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\n          thumbnail = canvas.toDataURL(\"image/png\");\n          _this.emit(\"thumbnail\", file, thumbnail);\n          if (callback != null) {\n            return callback();\n          }\n        };\n      })(this);\n      if (callback != null) {\n        img.onerror = callback;\n      }\n      return img.src = imageUrl;\n    };\n\n    Dropzone.prototype.processQueue = function() {\n      var i, parallelUploads, processingLength, queuedFiles;\n      parallelUploads = this.options.parallelUploads;\n      processingLength = this.getUploadingFiles().length;\n      i = processingLength;\n      if (processingLength >= parallelUploads) {\n        return;\n      }\n      queuedFiles = this.getQueuedFiles();\n      if (!(queuedFiles.length > 0)) {\n        return;\n      }\n      if (this.options.uploadMultiple) {\n        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\n      } else {\n        while (i < parallelUploads) {\n          if (!queuedFiles.length) {\n            return;\n          }\n          this.processFile(queuedFiles.shift());\n          i++;\n        }\n      }\n    };\n\n    Dropzone.prototype.processFile = function(file) {\n      return this.processFiles([file]);\n    };\n\n    Dropzone.prototype.processFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.processing = true;\n        file.status = Dropzone.UPLOADING;\n        this.emit(\"processing\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"processingmultiple\", files);\n      }\n      return this.uploadFiles(files);\n    };\n\n    Dropzone.prototype._getFilesWithXhr = function(xhr) {\n      var file, files;\n      return files = (function() {\n        var _i, _len, _ref, _results;\n        _ref = this.files;\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          if (file.xhr === xhr) {\n            _results.push(file);\n          }\n        }\n        return _results;\n      }).call(this);\n    };\n\n    Dropzone.prototype.cancelUpload = function(file) {\n      var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;\n      if (file.status === Dropzone.UPLOADING) {\n        groupedFiles = this._getFilesWithXhr(file.xhr);\n        for (_i = 0, _len = groupedFiles.length; _i < _len; _i++) {\n          groupedFile = groupedFiles[_i];\n          groupedFile.status = Dropzone.CANCELED;\n        }\n        file.xhr.abort();\n        for (_j = 0, _len1 = groupedFiles.length; _j < _len1; _j++) {\n          groupedFile = groupedFiles[_j];\n          this.emit(\"canceled\", groupedFile);\n        }\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", groupedFiles);\n        }\n      } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {\n        file.status = Dropzone.CANCELED;\n        this.emit(\"canceled\", file);\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", [file]);\n        }\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    resolveOption = function() {\n      var args, option;\n      option = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if (typeof option === 'function') {\n        return option.apply(this, args);\n      }\n      return option;\n    };\n\n    Dropzone.prototype.uploadFile = function(file) {\n      return this.uploadFiles([file]);\n    };\n\n    Dropzone.prototype.uploadFiles = function(files) {\n      var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, method, option, progressObj, response, updateProgress, url, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n      xhr = new XMLHttpRequest();\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.xhr = xhr;\n      }\n      method = resolveOption(this.options.method, files);\n      url = resolveOption(this.options.url, files);\n      xhr.open(method, url, true);\n      xhr.withCredentials = !!this.options.withCredentials;\n      response = null;\n      handleError = (function(_this) {\n        return function() {\n          var _j, _len1, _results;\n          _results = [];\n          for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n            file = files[_j];\n            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr));\n          }\n          return _results;\n        };\n      })(this);\n      updateProgress = (function(_this) {\n        return function(e) {\n          var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;\n          if (e != null) {\n            progress = 100 * e.loaded / e.total;\n            for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n              file = files[_j];\n              file.upload = {\n                progress: progress,\n                total: e.total,\n                bytesSent: e.loaded\n              };\n            }\n          } else {\n            allFilesFinished = true;\n            progress = 100;\n            for (_k = 0, _len2 = files.length; _k < _len2; _k++) {\n              file = files[_k];\n              if (!(file.upload.progress === 100 && file.upload.bytesSent === file.upload.total)) {\n                allFilesFinished = false;\n              }\n              file.upload.progress = progress;\n              file.upload.bytesSent = file.upload.total;\n            }\n            if (allFilesFinished) {\n              return;\n            }\n          }\n          _results = [];\n          for (_l = 0, _len3 = files.length; _l < _len3; _l++) {\n            file = files[_l];\n            _results.push(_this.emit(\"uploadprogress\", file, progress, file.upload.bytesSent));\n          }\n          return _results;\n        };\n      })(this);\n      xhr.onload = (function(_this) {\n        return function(e) {\n          var _ref;\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          if (xhr.readyState !== 4) {\n            return;\n          }\n          response = xhr.responseText;\n          if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\n            try {\n              response = JSON.parse(response);\n            } catch (_error) {\n              e = _error;\n              response = \"Invalid JSON response from server.\";\n            }\n          }\n          updateProgress();\n          if (!((200 <= (_ref = xhr.status) && _ref < 300))) {\n            return handleError();\n          } else {\n            return _this._finished(files, response, e);\n          }\n        };\n      })(this);\n      xhr.onerror = (function(_this) {\n        return function() {\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          return handleError();\n        };\n      })(this);\n      progressObj = (_ref = xhr.upload) != null ? _ref : xhr;\n      progressObj.onprogress = updateProgress;\n      headers = {\n        \"Accept\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        \"X-Requested-With\": \"XMLHttpRequest\"\n      };\n      if (this.options.headers) {\n        extend(headers, this.options.headers);\n      }\n      for (headerName in headers) {\n        headerValue = headers[headerName];\n        xhr.setRequestHeader(headerName, headerValue);\n      }\n      formData = new FormData();\n      if (this.options.params) {\n        _ref1 = this.options.params;\n        for (key in _ref1) {\n          value = _ref1[key];\n          formData.append(key, value);\n        }\n      }\n      for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n        file = files[_j];\n        this.emit(\"sending\", file, xhr, formData);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"sendingmultiple\", files, xhr, formData);\n      }\n      if (this.element.tagName === \"FORM\") {\n        _ref2 = this.element.querySelectorAll(\"input, textarea, select, button\");\n        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n          input = _ref2[_k];\n          inputName = input.getAttribute(\"name\");\n          inputType = input.getAttribute(\"type\");\n          if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n            _ref3 = input.options;\n            for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {\n              option = _ref3[_l];\n              if (option.selected) {\n                formData.append(inputName, option.value);\n              }\n            }\n          } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== \"checkbox\" && _ref4 !== \"radio\") || input.checked) {\n            formData.append(inputName, input.value);\n          }\n        }\n      }\n      for (i = _m = 0, _ref5 = files.length - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; i = 0 <= _ref5 ? ++_m : --_m) {\n        formData.append(this._getParamName(i), files[i], files[i].name);\n      }\n      return xhr.send(formData);\n    };\n\n    Dropzone.prototype._finished = function(files, responseText, e) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.SUCCESS;\n        this.emit(\"success\", file, responseText, e);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"successmultiple\", files, responseText, e);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    Dropzone.prototype._errorProcessing = function(files, message, xhr) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.ERROR;\n        this.emit(\"error\", file, message, xhr);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"errormultiple\", files, message, xhr);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    return Dropzone;\n\n  })(Emitter);\n\n  Dropzone.version = \"4.0.1\";\n\n  Dropzone.options = {};\n\n  Dropzone.optionsForElement = function(element) {\n    if (element.getAttribute(\"id\")) {\n      return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n    } else {\n      return void 0;\n    }\n  };\n\n  Dropzone.instances = [];\n\n  Dropzone.forElement = function(element) {\n    if (typeof element === \"string\") {\n      element = document.querySelector(element);\n    }\n    if ((element != null ? element.dropzone : void 0) == null) {\n      throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\n    }\n    return element.dropzone;\n  };\n\n  Dropzone.autoDiscover = true;\n\n  Dropzone.discover = function() {\n    var checkElements, dropzone, dropzones, _i, _len, _results;\n    if (document.querySelectorAll) {\n      dropzones = document.querySelectorAll(\".dropzone\");\n    } else {\n      dropzones = [];\n      checkElements = function(elements) {\n        var el, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )dropzone($| )/.test(el.className)) {\n            _results.push(dropzones.push(el));\n          } else {\n            _results.push(void 0);\n          }\n        }\n        return _results;\n      };\n      checkElements(document.getElementsByTagName(\"div\"));\n      checkElements(document.getElementsByTagName(\"form\"));\n    }\n    _results = [];\n    for (_i = 0, _len = dropzones.length; _i < _len; _i++) {\n      dropzone = dropzones[_i];\n      if (Dropzone.optionsForElement(dropzone) !== false) {\n        _results.push(new Dropzone(dropzone));\n      } else {\n        _results.push(void 0);\n      }\n    }\n    return _results;\n  };\n\n  Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\\/12/i];\n\n  Dropzone.isBrowserSupported = function() {\n    var capableBrowser, regex, _i, _len, _ref;\n    capableBrowser = true;\n    if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\n      if (!(\"classList\" in document.createElement(\"a\"))) {\n        capableBrowser = false;\n      } else {\n        _ref = Dropzone.blacklistedBrowsers;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          regex = _ref[_i];\n          if (regex.test(navigator.userAgent)) {\n            capableBrowser = false;\n            continue;\n          }\n        }\n      }\n    } else {\n      capableBrowser = false;\n    }\n    return capableBrowser;\n  };\n\n  without = function(list, rejectedItem) {\n    var item, _i, _len, _results;\n    _results = [];\n    for (_i = 0, _len = list.length; _i < _len; _i++) {\n      item = list[_i];\n      if (item !== rejectedItem) {\n        _results.push(item);\n      }\n    }\n    return _results;\n  };\n\n  camelize = function(str) {\n    return str.replace(/[\\-_](\\w)/g, function(match) {\n      return match.charAt(1).toUpperCase();\n    });\n  };\n\n  Dropzone.createElement = function(string) {\n    var div;\n    div = document.createElement(\"div\");\n    div.innerHTML = string;\n    return div.childNodes[0];\n  };\n\n  Dropzone.elementInside = function(element, container) {\n    if (element === container) {\n      return true;\n    }\n    while (element = element.parentNode) {\n      if (element === container) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  Dropzone.getElement = function(el, name) {\n    var element;\n    if (typeof el === \"string\") {\n      element = document.querySelector(el);\n    } else if (el.nodeType != null) {\n      element = el;\n    }\n    if (element == null) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector or a plain HTML element.\");\n    }\n    return element;\n  };\n\n  Dropzone.getElements = function(els, name) {\n    var e, el, elements, _i, _j, _len, _len1, _ref;\n    if (els instanceof Array) {\n      elements = [];\n      try {\n        for (_i = 0, _len = els.length; _i < _len; _i++) {\n          el = els[_i];\n          elements.push(this.getElement(el, name));\n        }\n      } catch (_error) {\n        e = _error;\n        elements = null;\n      }\n    } else if (typeof els === \"string\") {\n      elements = [];\n      _ref = document.querySelectorAll(els);\n      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n        el = _ref[_j];\n        elements.push(el);\n      }\n    } else if (els.nodeType != null) {\n      elements = [els];\n    }\n    if (!((elements != null) && elements.length)) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\");\n    }\n    return elements;\n  };\n\n  Dropzone.confirm = function(question, accepted, rejected) {\n    if (window.confirm(question)) {\n      return accepted();\n    } else if (rejected != null) {\n      return rejected();\n    }\n  };\n\n  Dropzone.isValidFile = function(file, acceptedFiles) {\n    var baseMimeType, mimeType, validType, _i, _len;\n    if (!acceptedFiles) {\n      return true;\n    }\n    acceptedFiles = acceptedFiles.split(\",\");\n    mimeType = file.type;\n    baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n    for (_i = 0, _len = acceptedFiles.length; _i < _len; _i++) {\n      validType = acceptedFiles[_i];\n      validType = validType.trim();\n      if (validType.charAt(0) === \".\") {\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n          return true;\n        }\n      } else if (/\\/\\*$/.test(validType)) {\n        if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n          return true;\n        }\n      } else {\n        if (mimeType === validType) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  if (typeof jQuery !== \"undefined\" && jQuery !== null) {\n    jQuery.fn.dropzone = function(options) {\n      return this.each(function() {\n        return new Dropzone(this, options);\n      });\n    };\n  }\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = Dropzone;\n  } else {\n    window.Dropzone = Dropzone;\n  }\n\n  Dropzone.ADDED = \"added\";\n\n  Dropzone.QUEUED = \"queued\";\n\n  Dropzone.ACCEPTED = Dropzone.QUEUED;\n\n  Dropzone.UPLOADING = \"uploading\";\n\n  Dropzone.PROCESSING = Dropzone.UPLOADING;\n\n  Dropzone.CANCELED = \"canceled\";\n\n  Dropzone.ERROR = \"error\";\n\n  Dropzone.SUCCESS = \"success\";\n\n\n  /*\n  \n  Bugfix for iOS 6 and 7\n  Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n  based on the work of https://github.com/stomita/ios-imagefile-megapixel\n   */\n\n  detectVerticalSquash = function(img) {\n    var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;\n    iw = img.naturalWidth;\n    ih = img.naturalHeight;\n    canvas = document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = ih;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(img, 0, 0);\n    data = ctx.getImageData(0, 0, 1, ih).data;\n    sy = 0;\n    ey = ih;\n    py = ih;\n    while (py > sy) {\n      alpha = data[(py - 1) * 4 + 3];\n      if (alpha === 0) {\n        ey = py;\n      } else {\n        sy = py;\n      }\n      py = (ey + sy) >> 1;\n    }\n    ratio = py / ih;\n    if (ratio === 0) {\n      return 1;\n    } else {\n      return ratio;\n    }\n  };\n\n  drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n    var vertSquashRatio;\n    vertSquashRatio = detectVerticalSquash(img);\n    return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n  };\n\n\n  /*\n   * contentloaded.js\n   *\n   * Author: Diego Perini (diego.perini at gmail.com)\n   * Summary: cross-browser wrapper for DOMContentLoaded\n   * Updated: 20101020\n   * License: MIT\n   * Version: 1.2\n   *\n   * URL:\n   * http://javascript.nwbox.com/ContentLoaded/\n   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n   */\n\n  contentLoaded = function(win, fn) {\n    var add, doc, done, init, poll, pre, rem, root, top;\n    done = false;\n    top = true;\n    doc = win.document;\n    root = doc.documentElement;\n    add = (doc.addEventListener ? \"addEventListener\" : \"attachEvent\");\n    rem = (doc.addEventListener ? \"removeEventListener\" : \"detachEvent\");\n    pre = (doc.addEventListener ? \"\" : \"on\");\n    init = function(e) {\n      if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n        return;\n      }\n      (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n      if (!done && (done = true)) {\n        return fn.call(win, e.type || e);\n      }\n    };\n    poll = function() {\n      var e;\n      try {\n        root.doScroll(\"left\");\n      } catch (_error) {\n        e = _error;\n        setTimeout(poll, 50);\n        return;\n      }\n      return init(\"poll\");\n    };\n    if (doc.readyState !== \"complete\") {\n      if (doc.createEventObject && root.doScroll) {\n        try {\n          top = !win.frameElement;\n        } catch (_error) {}\n        if (top) {\n          poll();\n        }\n      }\n      doc[add](pre + \"DOMContentLoaded\", init, false);\n      doc[add](pre + \"readystatechange\", init, false);\n      return win[add](pre + \"load\", init, false);\n    }\n  };\n\n  Dropzone._autoDiscoverFunction = function() {\n    if (Dropzone.autoDiscover) {\n      return Dropzone.discover();\n    }\n  };\n\n  contentLoaded(window, Dropzone._autoDiscoverFunction);\n\n}).call(this);","\n(function() {\n  var Dragster,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  Dragster = (function() {\n    function Dragster(el) {\n      this.el = el;\n      this.dragleave = __bind(this.dragleave, this);\n      this.dragenter = __bind(this.dragenter, this);\n      if (this.supportsEventConstructors()) {\n        this.first = false;\n        this.second = false;\n        this.el.addEventListener(\"dragenter\", this.dragenter, false);\n        this.el.addEventListener(\"dragleave\", this.dragleave, false);\n      }\n    }\n\n    Dragster.prototype.dragenter = function(event) {\n      if (this.first) {\n        return this.second = true;\n      } else {\n        this.first = true;\n        return this.el.dispatchEvent(new CustomEvent(\"dragster:enter\", {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            dataTransfer: event.dataTransfer\n          }\n        }));\n      }\n    };\n\n    Dragster.prototype.dragleave = function(event) {\n      if (this.second) {\n        this.second = false;\n      } else if (this.first) {\n        this.first = false;\n      }\n      if (!this.first && !this.second) {\n        return this.el.dispatchEvent(new CustomEvent(\"dragster:leave\", {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            dataTransfer: event.dataTransfer\n          }\n        }));\n      }\n    };\n\n    Dragster.prototype.removeListeners = function() {\n      this.el.removeEventListener(\"dragenter\", this.dragenter, false);\n      return this.el.removeEventListener(\"dragleave\", this.dragleave, false);\n    };\n\n    Dragster.prototype.supportsEventConstructors = function() {\n      try {\n        new CustomEvent(\"z\");\n      } catch (_error) {\n        return false;\n      }\n      return true;\n    };\n\n    Dragster.prototype.reset = function() {\n      this.first = false;\n      return this.second = false;\n    };\n\n    return Dragster;\n\n  })();\n\n  window.Dragster = Dragster;\n\n}).call(this);\n","/**\n *  Video player\n *\n */\ncdb.admin.VideoModel = cdb.core.Model.extend({\n\n  defaults: {\n    minimized: true,\n    size: {\n      minimized: {\n        width: 420,\n        height: 236\n      },\n      maximized: {\n        width : 700,\n        height: 393\n      }\n    },\n  },\n\n  initialize: function () {\n\n    this._initLocalStorage();\n\n    var minimized = this.defaults.minimized;\n\n    if (this.videoData && this.videoData.minimized !== undefined) {\n      minimized = this.videoData.minimized;\n    }\n\n    var defaults = this.defaults.size[minimized ? \"minimized\" : \"maximized\"];\n\n    this.set({\n      minimized: minimized,\n      width: defaults.width,\n      height: defaults.height,\n      seconds: this.videoData ? this.videoData.seconds : 0,\n      top: this.videoData ? this.videoData.top : null,\n      left: this.videoData ? this.videoData.left : 20,\n      bottom: this.videoData ? this.videoData.bottom : 20\n    });\n\n    this.bind('change',  this._onChangeProperty, this);\n    this.bind('change:minimized', this._onChangeMinimized, this);\n\n  },\n\n  _initLocalStorage: function() {\n\n    this.localStorage = new cdb.admin.localStorage(\"VideoPlayer\");\n\n    this.videoData = this.localStorage.get(\"currentVideo\") || {};\n\n    var video_id = this.get(\"video_id\");\n\n    if (video_id) {\n      this._storeVideoID(video_id);\n      this.videoData = this.localStorage.get(\"currentVideo\");\n    } else {\n      this.set(\"video_id\", this.videoData.video_id);\n    }\n\n  },\n\n  _onChangeMinimized: function() {\n    var defaults = this.defaults.size[this.get(\"minimized\") ? \"minimized\" : \"maximized\"];\n    this.set(\"width\", defaults.width);\n    this.set(\"height\", defaults.height);\n\n  }, \n\n  _onChangeProperty: function(m) {\n    this.videoData = m.attributes;\n    this._saveVideoData();\n  },\n\n  _saveVideoData: function() {\n    this.set(this.videoData);\n    this.localStorage.set({ currentVideo: this.videoData });\n  },\n\n  _storeVideoID: function(id) {\n    this.videoData.video_id = id;\n    this._saveVideoData();\n  },\n\n  clearStoredData: function(status) {\n    this.set(\"video_id\", null);\n    this.videoData = {};\n    this.localStorage.set({ currentVideo: null });\n  }\n\n});\n\ncdb.admin.VideoPlayer = cdb.core.View.extend({\n\n  className: 'VideoPlayer',\n\n  events: {\n    \"dblclick\": \"_toggle\",\n    \"click .js-toggle\": \"_toggle\",\n    \"click .js-close\": \"close\",\n    \"mouseenter\": \"_mouseEnter\",\n    \"mouseleave\": \"_mouseLeave\"\n  },\n\n  initialize: function(id) {\n\n    _.bindAll(this, \"_onInitDraggable\", \"_onStopDragging\", \"_onCloseAnimationFinished\");\n\n    this.template = cdb.templates.getTemplate('dashboard/views/video_player');\n\n    this._initModel();\n  },\n\n  render: function() {\n\n    var self = this;\n\n    this.clearSubViews();\n\n    if (this.hasVideoData()) {\n\n      this.$el.html(\n        this.template({\n        id: this.model.get(\"video_id\")\n      }));\n\n      this.$el.draggable({\n        stop: self._onStopDragging,\n        create: self._onInitDraggable\n      });\n\n      this.video = this.$el.find(\"iframe\");\n      this._loadScript();\n\n    }\n\n    return this;\n\n  },\n\n  _initModel: function() {\n    this.model = new cdb.admin.VideoModel({ video_id: this.options.id });\n    this.model.bind('change:minimized', this._onChangeMinimized, this);\n  },\n\n  _loadScript: function() {\n    var self = this;\n    $.getScript('//f.vimeocdn.com/js/froogaloop2.min.js', function() {\n      self._initVideoBinds();\n    });\n  },\n\n  _initVideoBinds: function() {\n    var self = this;\n\n    this.player = $f(this.video[0]);\n\n    this.player.addEvent('ready', function() {\n\n      self._seekToStoredPosition();\n\n      self.player.addEvent('pause', function(m) {\n        self.model.set(\"status\", \"stop\");\n      });\n\n      self.player.addEvent('finish', function(m) {\n        self.model.set(\"status\", \"stop\");\n        self.close(false, { dontHide: true });\n      });\n\n      self.player.addEvent('play', function(m) {\n        self.model.set(\"status\", \"play\");\n      });\n\n      self.player.addEvent('playProgress', function(m) {\n        self.model.set(\"seconds\", m.seconds);\n      });\n\n    });\n  },\n\n  _removeVideoBinds: function() {\n    if (this.player) {\n      this.player.removeEvent('ready');\n    }\n  },\n\n  _onInitDraggable: function(e, ui) {\n\n    var bottom       = this.model.get(\"bottom\");\n    var left         = this.model.get(\"left\");\n    var elHeight     = this.model.get(\"height\");\n    var elWidth      = this.model.get(\"width\");\n    var windowWidth  = $(window).width();\n\n    if ((left + elWidth) > windowWidth) {\n      left = windowWidth - elWidth - 20;\n    }\n\n    this.$el.css({\n      position: \"fixed\",\n      left: left,\n      bottom: bottom\n    });\n\n    if (bottom < 0) {\n      this.$el.animate({ bottom: 20, width: elWidth, height: elHeight }, { easing: \"easeOutQuad\", duration: 200 });\n    } else {\n      this.$el.animate({ width: elWidth, height: elHeight }, { easing: \"easeOutQuad\", duration: 200 });\n    }\n\n  },\n\n  _onStopDragging: function(e, ui) {\n\n    var windowHeight = $(window).height();\n    var top          = ui.position.top;\n    var left         = ui.position.left;\n    var bottom       = windowHeight - (top + this.$el.outerHeight(true));\n\n    this.$el.css({ bottom: \"auto\"})\n\n    this.model.set({ top: top, left: left, bottom: bottom });\n  },\n\n  _mouseEnter: function() {\n    this.$el.find(\".VideoControls\").fadeIn(150);\n  },\n\n  _mouseLeave: function() {\n    this.$el.find(\".VideoControls\").fadeOut(150);\n  },\n\n  hasVideoData: function() {\n    if (this.model.get(\"video_id\")) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  _seekToStoredPosition: function() {\n\n    var self = this;\n\n    var seconds = this.model.get(\"seconds\");\n\n    if (seconds) {\n      this.player.api('seekTo', seconds);\n    }\n\n    if (this.model.get(\"status\") === \"stop\") {\n\n      setTimeout(function() {\n        self.player.api('pause');\n      }, 100);\n\n    }\n\n  },\n\n  close: function(e, opts) {\n\n    if (e) this.killEvent(e);\n\n    if (opts && opts.dontHide) {\n      this.model.clearStoredData();\n    } else {\n      this.$el.animate({ width: 0, height: 0, opacity: 0 }, { easing: \"easeInQuad\", duration: 200, complete: this._onCloseAnimationFinished });\n    }\n\n  },\n\n  _onCloseAnimationFinished: function() {\n    this.model.clearStoredData();\n    this._removeVideoBinds();\n    this.remove();\n  },\n\n  _toggle: function(e) {\n\n    if (e) this.killEvent(e);\n\n    this.model.set(\"minimized\", !!!this.model.get(\"minimized\"));\n  },\n\n  _onChangeMinimized: function() {\n\n    var self = this;\n\n    var windowWidth    = $(window).width();\n    var windowHeight   = $(window).height();\n    var documentHeight = $(document).height();\n\n    var bottom = this.model.get(\"bottom\");\n    var top    = this.model.get(\"top\");\n\n    var elTop  = this.$el.offset().top;\n    var elLeft = this.$el.position().left;\n\n    function setHorizontalPosition(w) {\n      if ((elLeft + w) > windowWidth) {\n        var right = windowWidth - elLeft - self.$el.outerWidth(true);\n        self.$el.css({ left: \"auto\", right: right });\n      }\n    }\n\n    function setVerticalPosition(h) {\n       if (top < 0 || self.$el.offset().top < 0) {\n        self.$el.animate({ top: 20 }, 100);\n       } else if (top - h < 0 || self.$el.offset().top - h < 0) {\n        self.$el.css({ bottom: \"auto\", top: top });\n      } else if (bottom < 0) {\n        self.$el.css({ top: \"auto\", bottom: 20 });\n      } else if ((top + h) > windowHeight) {\n        self.$el.css({ top: \"auto\", bottom: bottom });\n      } \n    }\n\n    var width  = this.model.get(\"width\");\n    var height = this.model.get(\"height\");\n\n    setHorizontalPosition(width);\n    setVerticalPosition(height);\n\n    this.$el.animate({ width: width, height: height }, { easing: \"easeOutQuad\", duration: 200, complete: function() {\n      var bottom = $(window).height() - ($(\".VideoPlayer\").offset().top + $(\".VideoPlayer\").outerHeight(true));\n      self.model.set(\"bottom\", bottom);\n    } });\n\n  }\n\n});\n","\n\n  /**\n   * User options dropdown (extends Dropdown)\n   *\n   * It shows the content in a dropdown (or dropup) with a special effect.\n   *\n   * Usage example:\n   *\n      var user_menu = new cdb.admin.DropdownMenu({\n        target: $('a.account'),\n        model: {username: username}, // No necessary indeed\n        template_base: 'common/views/settings_item'\n      });\n   *\n   */\n\n\n  cdb.admin.DropdownMenu = cdb.ui.common.Dropdown.extend({\n\n    show: function() {\n      var dfd = $.Deferred();\n      var self = this;\n      //sometimes this dialog is child of a node that is removed\n      //for that reason we link again DOM events just in case\n      this.delegateEvents();\n      this.$el\n        .css({\n          marginTop: self.options.vertical_position == \"down\" ? \"-10px\" : \"10px\",\n          opacity:0,\n          display:\"block\"\n        })\n        .animate({\n          margin: \"0\",\n          opacity: 1\n        }, {\n          \"duration\": this.options.speedIn,\n          \"complete\": function(){\n            dfd.resolve();\n          }\n        });\n      this.trigger(\"onDropdownShown\",this.el);\n\n      return dfd.promise();\n    },\n\n    /**\n     * open the dialog at x, y\n     */\n    openAt: function(x, y) {\n      var dfd = $.Deferred();\n\n      this.$el.css({\n        top: y,\n        left: x,\n        width: this.options.width\n      })\n      .addClass(\n        (this.options.vertical_position == \"up\" ? \"vertical_top\" : \"vertical_bottom\" )\n        + \" \" +\n        (this.options.horizontal_position == \"right\" ? \"horizontal_right\" : \"horizontal_left\" )\n        + \" \" +\n        // Add tick class\n        \"tick_\" + this.options.tick\n      )\n\n      this.isOpen = true;\n\n      // Show\n      $.when(this.show()).done(function(){ dfd.resolve();})\n      // xabel: I've add the deferred to make it easily testable\n\n      return dfd.promise();\n    },\n\n\n    hide: function(done) {\n\n      // don't attempt to hide the dropdown if it's already hidden\n      if (!this.isOpen) { done && done(); return; }\n\n      var self    = this;\n      this.isOpen = false;\n\n      this.$el.animate({\n\n        marginTop: self.options.vertical_position == \"down\" ? \"10px\" : \"-10px\",\n        opacity: 0\n\n      }, this.options.speedOut, function(){\n\n        // Remove selected class\n        $(self.options.target).removeClass(\"selected\");\n\n        // And hide it\n        self.$el.hide();\n        done && done();\n\n        self.trigger(\"onDropdownHidden\", self.el);\n\n      });\n    }\n  });\n","\n/**\n *  Class for javascript errors in CartoDB App\n *\n *  - It controls JS errors and save them into the\n *    service we set at the begining.\n */\n\ncdb.admin.ErrorStats = cdb.core.Model.extend({\n\n  defaults: {\n    name:        'trackJs',              // Name of the service\n    people:      'configure',            // Internal service function for setting people configuration\n    template:    'old_common/views/trackjs', // Template for setting people configuration\n    enable_logs: false                   // Sends the errors to the logger\n  },\n\n  initialize: function(opts) {\n    if (opts && opts.user_data) {\n      this.user_data = opts.user_data;  \n    }\n\n    if (window[this.get('name')]) {\n      this._setService();\n    }\n  },\n\n  _setService: function() {\n    // Set people?\n    if (this.get('people') && this.user_data) {\n      var template = cdb.templates.getTemplate(this.get('template'));\n      window[this.get('name')][this.get('people')](JSON.parse(template(this.user_data)));\n    }\n    // Save logs?\n    if (this.get('enable_logs')) {\n      cdb.log = window[this.get('name')];\n    }\n  }\n\n});\n","(function(){\n  var localStorageWrapper = function(name) {\n    this.name = name;\n  }\n\n  localStorageWrapper.prototype.get = function(n) {\n\n    if (localStorage.getItem(this.name)) {\n\n      if (n === undefined) {\n        return JSON.parse(localStorage.getItem(this.name));\n      } else {\n        var data = JSON.parse(localStorage.getItem(this.name));\n        return data[n];\n      }\n    } else {\n      return [];\n    }\n\n  }\n\n  localStorageWrapper.prototype.search = function(searchTerm) {\n    var wholeArray = JSON.parse(localStorage.getItem(this.name));\n    for(var i in wholeArray) {\n      if(wholeArray[i][searchTerm]) {\n        return wholeArray[i][searchTerm];\n      }\n    }\n    return null;\n  }\n\n  localStorageWrapper.prototype.set = function(data) {\n\n    if (!localStorage.getItem(this.name)) {\n      localStorage.setItem(this.name, \"[]\");\n    }\n    return localStorage.setItem(this.name, JSON.stringify(data));\n  }\n\n  localStorageWrapper.prototype.add = function(obj) {\n    var data = this.get();\n    if (data) {\n      data.push(obj);\n      return this.set(data);\n    }\n  }\n\n  localStorageWrapper.prototype.remove = function(n) {\n    var data = this.get();\n    data.splice(n,n);\n    return this.set(data);\n  }\n\n  localStorageWrapper.prototype.destroy = function() {\n    localStorage.removeItem(this.name);\n  }\n\n  cdb.admin.localStorage = localStorageWrapper;\n}())\n","\n  /**\n   *  Tipsy tooltip view.\n   *\n   *  - Needs an element to work.\n   *  - Inits tipsy library.\n   *  - Clean bastard tipsy bindings easily.\n   *\n   */\n\n\n  cdb.common.TipsyTooltip = cdb.core.View.extend({\n\n    options: {\n      gravity:  's',\n      fade:     true\n    },\n\n    initialize: function(opts) {\n      if (opts.el === undefined) {\n        cdb.log.info('Element is needed to have tipsy tooltip working');\n        return false;\n      }\n      this._tipsyOpenedManually = opts.trigger === 'manual';\n\n      this._initTipsy();\n    },\n\n    showTipsy: function() {\n      this.$el.tipsy('show');\n    },\n\n    hideTipsy: function() {\n      this.$el.tipsy('hide');\n    },\n\n    _initTipsy: function() {\n      this.$el.tipsy(this.options);\n      this.tipsy = this.$el.data('tipsy');\n    },\n\n    _destroyTipsy: function() {\n      if (this.tipsy) {\n        // tipsy does not return this\n        this.tipsy.hide();\n        this.$el.unbind('mouseleave mouseenter');\n      }\n      if (this._tipsyOpenedManually) {\n        this.$el.tipsy('hide');\n      }\n    },\n\n    clean: function() {\n      this._destroyTipsy();\n      cdb.core.View.prototype.clean.call(this);\n    }\n\n  });\n","\n\n  /*\n   *  Utils for CartoDB App\n   */\n\n  cdb.Utils = {};\n\n\n  /*\n   *  Strip html tags from a value.\n   *  input ->  string with input text (example: '<a href=\"#whoknows\">Jamon</a> </br> <p>Vamos</p>')\n   *  allowed -> allowed html tags in the result (example: '<a>')\n   *\n   *  return -> '<a href=\"#whoknows\">Jamon</a> Vamos'\n   */\n\n  cdb.Utils.stripHTML = function(input, allowed) {\n    allowed = (((allowed || \"\") + \"\").toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join('');\n    var tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi;\n    if (!input || (typeof input != \"string\")) return '';\n    return input.replace(tags, function ($0, $1) {\n      return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';\n    });\n  }\n\n\n  /*\n   *  Remove events attached in html code.\n   *  input ->  string with input text (example: '<a href=\"#whoknows\" onClick=\"alert('jamon')\">Jamon</a>')\n   *\n   *  return -> '<a href=\"#whoknows\">Jamon</a>'\n   */\n\n  cdb.Utils.removeHTMLEvents = function(input) {\n    if (input) {\n      return input.replace(/ on\\w+=\"[^\"]*\"/g, '');\n    } else {\n      return '';\n    }\n  }\n\n  /*\n   *  Truncate a string\n   *  input -> string with input text\n   *  length -> length of the output string\n   *\n   *  return -> true\n   */\n\n  cdb.Utils.truncate = function(input, length) {\n    return input.substr(0, length-1) + (input.length > length ? '&hellip;' : '');\n  }\n\n\n  /*\n   *  Simple regex to check if string is an url/ftp\n   *  input ->  string with input text (example: 'https://carto.com')\n   *\n   *  return -> true\n   */\n\n  cdb.Utils.isURL = function(input) {\n    var urlregex = /^((http|https|ftp)\\:\\/\\/)/g;\n    if (input) {\n      return urlregex.test(input);\n    } else {\n      return false;\n    }\n  }\n\n\n  cdb.Utils.encodeURLParams = function(url) {\n    if (this.isURL(url)) {\n      var urlParts = url.split('?');\n      if (urlParts.length > 1) {\n        return urlParts[0] + '?' + encodeURIComponent(urlParts[1]);\n      } else {\n        return url;\n      }\n    }\n    return url;\n  }\n\n\n  /*\n   *  Transform bytes to a readable format, like MB, GB\n   *  input ->  34234244\n   *\n   *  return -> 3 MB\n   */\n\n  cdb.Utils.readablizeBytes = function(bytes, round) {\n    if (!bytes || isNaN(bytes)) {\n      return 0;\n    }\n    var s = ['bytes', 'kB', 'MB', 'GB', 'TB', 'PB'];\n    var e = Math.floor(Math.log(bytes)/Math.log(1024));\n    var value = (bytes/Math.pow(1024, Math.floor(e))).toFixed(2);\n\n    if (round) { value = parseInt(value) }\n\n    return value + \" \" + s[e];\n  }\n\n  /*\n   * isEmpty\n   *\n   */\n  cdb.Utils.isEmpty = function(str) {\n    return (!str || 0 === str.length);\n  }\n\n  /*\n   * isBlank\n   *\n   */\n  cdb.Utils.isBlank = function(str) {\n    return (!str || /^\\s*$/.test(str));\n  }\n\n  /*\n   * formatNumber: adds thousands separators\n   * @return a string\n   *\n   */\n  cdb.Utils.formatNumber = function(x) {\n    if (!x) return \"0\";\n    var parts = x.toString().split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    return parts.join(\".\");\n  }\n\n  /*\n   * rgbToHex\n   *\n   */\n  cdb.Utils.rgbToHex = function(r, g, b) {\n\n    function componentToHex(c) {\n      var hex = c.toString(16);\n      return hex.length == 1 ? \"0\" + hex : hex;\n    }\n\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n  }\n\n  /*\n   * hexToRGB\n   *\n   */\n  cdb.Utils.hexToRGB = function(hex) {\n\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n\n  }\n\n\n  /*\n   *  Generate random password\n   *\n   */\n\n  cdb.Utils.genRandomPass = function(length) {\n\n    function getRandomNum() {\n      // between 0 - 1\n      var rndNum = Math.random()\n      // rndNum from 0 - 1000\n      rndNum = parseInt(rndNum * 1000);\n      // rndNum from 33 - 127\n      rndNum = (rndNum % 94) + 33;\n      return rndNum;\n    }\n\n    function checkPunc(num) {\n      if ((num >=33) && (num <=47)) { return true; }\n      if ((num >=58) && (num <=64)) { return true; }\n      if ((num >=91) && (num <=96)) { return true; }\n      if ((num >=123) && (num <=126)) { return true; }\n      return false;\n    }\n\n    length = isNaN(length) ? \"\" : length\n    var pass = \"\";\n    var randomLength = !length ? true : false;\n\n    if (randomLength) {\n      length = Math.random();\n      length = parseInt(length * 100);\n      length = (length % 7) + 6\n    }\n\n    for (i=0; i < length; i++) {\n      numI = getRandomNum();\n      while (checkPunc(numI)) { numI = getRandomNum() }\n      pass = pass + String.fromCharCode(numI);\n    }\n\n    return pass;\n  }\n\n\n  /**\n   *  Add leading zeros to numbers\n   *\n   */\n  cdb.Utils.pad = function(num, size) {\n    var s = num+\"\";\n    while (s.length < size) s = \"0\" + s;\n    return s;\n  }\n\n\n  /**\n   *  Remove all non-common characters like\n   *  spaces, quotes, accents, etc...\n   *\n   */\n  cdb.Utils.sanitizeString = function(str) {\n    return str.replace(/[^a-z0-9\\s]/gi, '').replace(/[_\\s]/g, '-');\n  }\n\n  /**\n   *  Convert long numbers to\n   *  readizable numbers.\n   *\n   */\n  cdb.Utils.readizableNumber = function(num) {\n    if (num >= 1000000000) return (num / 1000000000).toFixed(1) + 'G';\n    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';\n    if (num >= 1000) return (num / 1000).toFixed(1) + 'K';\n    return num;\n  }\n\n  /**\n   *  Get the extension of a string\n   *\n   */\n  cdb.Utils.getFileExtension = function(str) {\n    if (!str) return '';\n\n    return str.substr(str.lastIndexOf('.') + 1);\n  }\n\n\n  /**\n   *  Get ordinal string from a number\n   *\n   */\n  cdb.Utils.getGetOrdinal = function(n) {\n    if (!n) {\n      return '';\n    }\n    var s = [\"th\",\"st\",\"nd\",\"rd\"];\n    var v = n%100;\n    return n+(s[(v-20)%10]||s[v]||s[0]);\n  }\n\n  cdb.Utils.capitalize = function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  cdb.Utils.isValidEmail = function(str) {\n    var re = /^([^@]+)@([^@]+)\\.([^@\\.]+)$/i;\n    return re.test(str);\n  }\n\n  /**\n   * Similar to _.result, but also allows passing arbitrary arguments to the property if it's function.\n   * This makes code more terse  when one just wants to use a value if it's available, no if-checks required.\n   *\n   * @example Expected output\n   *   model.set('something', 'yay');\n   *   cdb.Utils.result(model, 'get', 'something') // => 'yay'\n   *   cdb.Utils.result(model, 'nonexisting', 'else') // => undefined\n   *   cdb.Utils.result(undefinedVar, 'get') // => null\n   *\n   * @example Of usage\n   *  return cdb.Utils.result(model, 'get', 'mightNotExist') === 'OK'\n   *\n   * @param {*} maybeFn\n   * @return {*} Result from called maybeFn if a function, null otherwise\n   */\n  cdb.Utils.result = function(object, property) {\n    if (object == null) return null;\n    var value = object[property];\n    return _.isFunction(value) ? value.apply(object, Array.prototype.slice.call(arguments, 2)) : value;\n  };\n\n  /*\n   * Returns a (double) quoted table name if needed (if it contains a dash, for example).\n   * Coupled to backend lib/carto/table_utils.rb#safe_table_name_quoting.\n   * Duplicated at lib/assets/javascripts/cartodb3/helpers/utils.js to make it available for older models.\n   */\n  cdb.Utils.safeTableNameQuoting = function (table_name) {\n    if (table_name === undefined || table_name.indexOf('-') === -1 || table_name[0] === '\"' || table_name[table_name.length - 1] === '\"') {\n      return table_name;\n    } else {\n      return '\"' + table_name + '\"';\n    }\n  };\n","\n  /**\n   *  Metrics class for CartoDB\n   *\n   *  - Track user events in CartoDB.\n   *  - When an event is launched, you can use our God to\n   *  save the action (cdb.god.trigger('metrics', '{{ metric_name }}', { email: {{ email }}, data: {{ data }} });).\n   *\n   *  new cdb.admin.Metrics();\n   */\n\n  cdb.admin.Metrics = cdb.core.Model.extend({\n\n    initialize: function(opts) {\n      this.bindEvents();\n    },\n\n    bindEvents: function() {\n      cdb.god.bind(\"metrics\", this._setTrack, this);\n    },\n\n    _setTrack: function(name, obj) {\n\n      // HubSpot tracking\n      if (window.hubspot_token) {\n        window._hsq = window._hsq || [];\n        window._hsq.push(['identify', {\n          email: obj.email\n        }]);\n\n        var event_id;\n\n        switch(name) {\n          case 'published_visualization':\n            event_id = window.hubspot_ids.published_visualization\n            break;\n          case 'visited_dashboard':\n            event_id = window.hubspot_ids.visited_dashboard\n            break;\n          case 'connect_dataset':\n            event_id = window.hubspot_ids.connect_dataset\n            break;\n          case 'create_map':\n            event_id = window.hubspot_ids.create_map\n            break;\n          case 'export_table':\n            event_id = window.hubspot_ids.export_table\n            break;\n          case 'export_map':\n            event_id = window.hubspot_ids.export_map;\n            break;\n          case 'select_wms':\n            event_id = window.hubspot_ids.select_wms\n            break;\n          case 'color_basemap':\n            event_id = window.hubspot_ids.color_basemap\n            break;\n          case 'pattern_basemap':\n            event_id = window.hubspot_ids.pattern_basemap\n            break;\n          case 'geocoding':\n            event_id = window.hubspot_ids.geocoding\n            break;\n          case 'visual_merge':\n            event_id = window.hubspot_ids.visual_merge\n            break;\n          case 'common_data':\n            event_id = window.hubspot_ids.common_data\n            break;\n          case 'cartocss_manually':\n            event_id = window.hubspot_ids.cartocss_manually\n            break;\n          case 'wizard':\n            event_id = window.hubspot_ids.wizard\n            break;\n          case 'filter':\n            event_id = window.hubspot_ids.filter\n            break;\n          case 'query':\n            event_id = window.hubspot_ids.query\n            break;\n          case 'logged_in':\n            event_id = window.hubspot_ids.logged_in\n            break;\n          case 'visited_dashboard_first_time':\n            event_id = window.hubspot_ids.visited_dashboard_first_time\n            break;\n          case 'applied_pecan':\n            event_id = window.hubspot_ids.applied_pecan\n            break;\n          case 'open_pecan_list':\n            event_id = window.hubspot_ids.open_pecan_list\n            break;\n\n        }\n\n        window._hsq.push(['trackEvent', {\n          id: event_id\n        }]);\n      }\n\n    }\n\n  });\n","\ncdb.admin.Tabs = cdb.core.View.extend({\n\n    events: {\n      'click': '_click'\n    },\n\n    initialize: function() {\n      _.bindAll(this, 'activate');\n      this.preventDefault = false;\n    },\n\n    activate: function(name) {\n      this.$('a').removeClass('selected');\n      this.$('a[href$=\"#'+ ((this.options.slash) ? '/' : '') + name + '\"]').addClass('selected');\n    },\n\n    desactivate: function(name) {\n      this.$('a[href$=\"#' + ((this.options.slash) ? '/' : '') + name + '\"]').removeClass('selected');\n    },\n\n    disable: function(name) {\n      this.$('a[href$=\"#' + ((this.options.slash) ? '/' : '') + name + '\"]').addClass('disabled');\n    },\n\n    enable: function(name) {\n      this.$('a[href$=\"#' + ((this.options.slash) ? '/' : '') + name + '\"]').removeClass('disabled');\n    },\n\n    getTab: function(name) {\n      return this.$('a[href$=\"#' + ((this.options.slash) ? '/' : '') + name + '\"]');\n    },\n\n    disableAll: function() {\n      this.$('a').addClass('disabled');\n    },\n\n    removeDisabled: function() {\n      this.$('.disabled').parent().remove();\n    },\n\n    _click: function(e) {\n      if (e && this.preventDefault) e.preventDefault();\n\n      var\n      t    = $(e.target).closest('a'),\n      href = t.attr('href');\n\n      if (!t.hasClass('disabled') && href) {\n        var name = href.replace('#/', '#').split('#')[1];\n        this.trigger('click', name);\n      }\n    },\n\n    linkToPanel: function(panel) {\n      this.preventDefault = true;\n      panel.bind('tabEnabled', this.activate, this);\n      this.bind('click', panel.active, panel);\n    }\n\n});\n","\n/**\n * Represents a URL.\n * Provides common semantics to manipulate a URL without having to resort to manipulating strings manually.\n * Rather don't subclass but you composition if you need to extend some functionality.\n *\n * Can safely be coerced into a string implicitly, e.g.:\n *   var myUrl = cdb.common.Url.byBasePath('http://foobar.com/some/path')\n *   alert(myUrl); // will output 'http://foobar.com/some/path'\n */\ncdb.common.Url = cdb.core.Model.extend({\n\n  initialize: function (attrs) {\n    if (!attrs.base_url) {\n      throw new Error('base_url is required')\n    }\n  },\n\n  /**\n   * Get a new URL object with new basepath.\n   * @param {String,*} path new sub path. Slashes are not necessary, e.g. 'my_path'\n   * @return {Object} instance of cdb.common.Url\n   */\n  urlToPath: function() {\n    return cdb.common.Url.byBaseUrl(this.toString.apply(this, arguments));\n  },\n\n  /**\n   * @return {String} Path of this URL, e.g. '/some/path'\n   */\n  pathname: function() {\n    return this.toString().match(/^.+\\/\\/[^\\/]+(.*)$/)[1];\n  },\n\n  toString: function() {\n    return this._joinArgumentsWithSlashes(\n      this.get('base_url'),\n      Array.prototype.slice.call(arguments, 0)\n    );\n  },\n\n  _joinArgumentsWithSlashes: function() {\n    return _.chain(arguments).flatten().compact().value().join('/');\n  }\n\n}, {\n\n  byBaseUrl: function(url) {\n    return new cdb.common.Url({ base_url: url });\n  }\n});\n","/**\n * URLs associated with the dashboard visualizations.\n */\ncdb.common.DashboardVisUrl = cdb.common.Url.extend({\n\n  lockedItems: function() {\n    return this.urlToPath('locked');\n  },\n\n  sharedItems: function() {\n    return this.urlToPath('shared');\n  },\n\n  likedItems: function() {\n    return this.urlToPath('liked');\n  }\n});\n","/**\n * URL representing dashboard datasets\n */\ncdb.common.DashboardDatasetsUrl = cdb.common.DashboardVisUrl.extend({\n\n  dataLibrary: function() {\n    return this.urlToPath('library');\n  }\n});\n","/**\n * URLs associated with the dashboard.\n */\ncdb.common.DashboardUrl = cdb.common.Url.extend({\n\n  datasets: function() {\n    return new cdb.common.DashboardDatasetsUrl({\n      base_url: this.urlToPath('datasets')\n    });\n  },\n\n  maps: function() {\n    return new cdb.common.DashboardVisUrl({\n      base_url: this.urlToPath('maps')\n    });\n  },\n\n  deepInsights: function() {\n    return new cdb.common.DashboardVisUrl({\n      base_url: this.urlToPath('deep-insights')\n    });\n  }\n});\n","/**\n * URL for a dataset (standard vis).\n */\ncdb.common.DatasetUrl = cdb.common.Url.extend({\n\n  edit: function() {\n    return this.urlToPath();\n  },\n\n  public: function() {\n    return this.urlToPath('public');\n  }\n});\n","/**\n * URL for a map (derived vis).\n */\ncdb.common.MapUrl = cdb.common.Url.extend({\n\n  edit: function() {\n    return this.urlToPath('map');\n  },\n\n  public: function() {\n    return this.urlToPath('public_map');\n  },\n\n  deepInsights: function() {\n    return this.urlToPath('deep-insights');\n  }\n});\n","/**\n * URL for a map (derived vis).\n */\ncdb.common.OrganizationUrl = cdb.common.Url.extend({\n\n  edit: function(user) {\n    if (!user) {\n      throw new Error('User is needed to create the url');\n    }\n    return this.urlToPath(user.get('username') + '/edit');\n  },\n\n  create: function() {\n    return this.urlToPath('new');\n  },\n\n  groups: function() {\n    return this.urlToPath('groups');\n  }\n\n});\n","/**\n * URLs associated with a particular user.\n */\ncdb.common.UserUrl = cdb.common.Url.extend({\n\n  initialize: function (attrs) {\n    cdb.common.Url.prototype.initialize.apply(this, arguments);\n    if (_.isUndefined(attrs.is_org_admin)) {\n      throw new Error('is_org_admin is required')\n    }\n  },\n\n  organization: function() {\n    if (this.get('is_org_admin')) {\n      return new cdb.common.OrganizationUrl({\n        base_url: this.urlToPath('organization')\n      });\n    } else {\n      return this.urlToPath('account');\n    }\n  },\n\n  accountSettings: function() {\n    return this.urlToPath('profile');\n  },\n\n  publicProfile: function() {\n    return this.urlToPath('me');\n  },\n\n  apiKeys: function() {\n    return this.urlToPath('your_apps');\n  },\n\n  logout: function() {\n    return this.urlToPath('logout');\n  },\n\n  dashboard: function() {\n    return new cdb.common.DashboardUrl({\n      base_url: this.urlToPath('dashboard')\n    });\n  }\n});\n"]}