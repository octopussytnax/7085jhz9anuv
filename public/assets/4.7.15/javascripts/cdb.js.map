{"version":3,"sources":["../../../../lib/assets/javascripts/cartodb/app.js","../../../../vendor/assets/javascripts/cartodb.uncompressed.js","../../../../vendor/assets/javascripts/cartodb.mod.torque.uncompressed.js","../../../../lib/assets/javascripts/cartodb/config.js","../../../../lib/build/app_config.js"],"names":["_t","s","define","root","this","__prev","jQuery","$","L","Mustache","Backbone","_","a","b","cy","f","isWindow","nodeType","defaultView","parentWindow","cu","cj","c","body","d","appendTo","e","css","remove","ck","createElement","frameBorder","width","height","appendChild","cl","contentWindow","contentDocument","document","write","support","boxModel","close","removeChild","ct","each","cp","concat","apply","slice","cs","cq","cr","setTimeout","now","ci","ActiveXObject","ch","XMLHttpRequest","cb","dataFilter","dataType","g","h","j","l","m","n","o","p","dataTypes","i","length","k","converters","toLowerCase","split","error","replace","ca","contents","responseFields","shift","mimeType","getResponseHeader","test","unshift","b_","isArray","bD","type","b$","ajaxSettings","flatOptions","extend","bZ","bS","bY","isFunction","bO","substr","bB","offsetWidth","offsetHeight","parseFloat","bx","by","style","bt","bo","bh","innerHTML","outerHTML","firstChild","bn","nodeName","bm","getElementsByTagName","grep","defaultChecked","checked","bl","querySelectorAll","bk","clearAttributes","mergeAttributes","selected","defaultSelected","defaultValue","text","value","removeAttribute","expando","bj","hasData","_data","events","handle","event","add","data","bi","ownerDocument","U","V","createDocumentFragment","pop","T","call","O","filter","inArray","S","parentNode","K","J","removeData","fire","isEmptyObject","getAttribute","isNumeric","parseJSON","navigator","location","isReady","documentElement","doScroll","ready","z","A","B","fn","init","q","r","t","u","v","w","x","toUpperCase","y","userAgent","C","Object","prototype","toString","D","hasOwnProperty","E","Array","push","F","G","String","trim","H","indexOf","I","constructor","context","selector","charAt","exec","isPlainObject","attr","buildFragment","cacheable","clone","fragment","childNodes","merge","getElementById","id","find","jquery","makeArray","size","toArray","get","pushStack","prevObject","bindReady","eq","first","last","arguments","join","map","end","sort","splice","noConflict","readyWait","holdReady","fireWith","trigger","off","Callbacks","readyState","addEventListener","attachEvent","frameElement","window","isNaN","isFinite","Error","JSON","parse","Function","parseXML","DOMParser","parseFromString","async","loadXML","noop","globalEval","execScript","eval","camelCase","Math","max","guid","proxy","access","Date","getTime","uaMatch","browser","version","sub","superclass","webkit","safari","removeEventListener","detachEvent","unique","has","memory","stopOnFalse","once","disable","empty","disabled","lock","locked","fired","Deferred","resolve","reject","notify","done","fail","progress","state","isResolved","isRejected","then","always","pipe","promise","when","notifyWith","resolveWith","setAttribute","leadingWhitespace","tbody","htmlSerialize","hrefNormalized","opacity","cssFloat","checkOn","optSelected","getSetAttribute","className","enctype","html5Clone","cloneNode","submitBubbles","changeBubbles","focusinBubbles","deleteExpando","noCloneEvent","inlineBlockNeedsLayout","shrinkWrapBlocks","reliableMarginRight","pixelMargin","compatMode","noCloneChecked","optDisabled","fireEvent","radioValue","lastChild","checkClone","appendChecked","submit","change","focusin","cssText","insertBefore","display","reliableHiddenOffsets","getComputedStyle","marginRight","parseInt","zoom","padding","border","overflow","nextSibling","doesNotAddBorder","offsetTop","doesAddBorderForTableAndCells","position","top","fixedPosition","subtractsBorderForOverflowNotVisible","doesNotIncludeMarginInBodyOffset","marginTop","cache","uuid","random","noData","embed","object","applet","acceptData","toJSON","setInterval","attributes","name","substring","triggerHandler","_mark","_unmark","queue","dequeue","delay","fx","speeds","stop","clearTimeout","clearQueue","removeAttr","prop","removeProp","propFix","addClass","removeClass","toggleClass","hasClass","val","valHooks","set","option","specified","select","selectedIndex","options","attrFn","html","offset","isXMLDoc","attrHooks","tabindex","readonly","for","class","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","propHooks","tabIndex","getAttributeNode","href","nodeValue","coords","button","createAttribute","setAttributeNode","RegExp","special","hover","handler","triggered","dispatch","elem","delegateType","bindType","origType","quick","namespace","delegateCount","setup","global","teardown","removeEvent","customEvent","getData","setData","changeData","Event","isTrigger","exclusive","namespace_re","result","target","noBubble","isPropagationStopped","preventDefault","isDefaultPrevented","_default","fix","delegateTarget","preDispatch","is","matches","currentTarget","isImmediatePropagationStopped","handleObj","stopPropagation","postDispatch","props","fixHooks","keyHooks","which","charCode","keyCode","mouseHooks","fromElement","pageX","clientX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","relatedTarget","toElement","srcElement","metaKey","ctrlKey","load","focus","blur","beforeunload","onbeforeunload","simulate","isSimulated","originalEvent","defaultPrevented","returnValue","getPreventDefault","timeStamp","cancelBubble","stopImmediatePropagation","mouseenter","mouseleave","contains","form","_submit_attached","_submit_bubble","propertyName","_just_changed","_change_attached","on","one","bind","unbind","live","die","delegate","undelegate","toggle","click","sizset","isXML","relative","match","ID","expr","uniqueSort","matchesSelector","order","leftMatch","preFilter","getText","textContent","innerText","selectors","CLASS","NAME","ATTR","TAG","CHILD","POS","PSEUDO","attrMap","attrHandle","+","previousSibling",">","","~","getElementsByName","filters","enabled","parent","header","radio","checkbox","file","password","image","reset","input","activeElement","setFilters","even","odd","lt","gt","nth","nodeIndex","source","globalPOS","compareDocumentPosition","sourceIndex","createComment","getElementsByClassName","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","M","N","P","Q","R","children","next","prev","not","index","closest","level","prevAll","andSelf","parents","dir","parentsUntil","nextAll","nextUntil","prevUntil","siblings","sibling","reverse","W","X","Y","Z","ba","bb","bc","bd","be","bf","bg","legend","thead","tr","td","col","area","optgroup","tfoot","colgroup","caption","th","append","createTextNode","wrapAll","wrapInner","wrap","unwrap","replaceWith","domManip","prepend","before","clean","after","cleanData","detach","src","ajax","url","fragments","prependTo","insertAfter","replaceAll","bz","bA","bp","bq","br","bs","bu","bv","bw","visibility","cssHooks","cssNumber","fillOpacity","fontWeight","lineHeight","orphans","widows","zIndex","cssProps","float","swap","curCSS","getPropertyValue","currentStyle","left","runtimeStyle","pixelLeft","$1","hidden","visible","margin","expand","bU","bV","bC","bE","bF","bG","bH","bI","bJ","bK","bL","bM","bN","bP","bQ","bR","bT","bW","bX","param","traditional","complete","responseText","serialize","serializeArray","elements","success","getScript","getJSON","ajaxSetup","isLocal","contentType","processData","accepts","xml","json","*","* text","text html","text json","text xml","ajaxPrefilter","ajaxTransport","ifModified","lastModified","etag","status","statusText","rejectWith","statusCode","active","setRequestHeader","getAllResponseHeaders","overrideMimeType","abort","crossDomain","hasContent","headers","beforeSend","timeout","send","encodeURIComponent","cc","cd","jsonp","jsonpCallback","script","text script","head","scriptCharset","charset","onload","onreadystatechange","cg","ce","cf","xhr","cors","username","open","xhrFields","responseXML","unload","co","cm","cn","show","animate","hide","_toggle","fadeTo","animatedProperties","specialEasing","easing","overflowX","overflowY","cur","custom","speed","timers","saveState","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","duration","old","linear","swing","cos","PI","orig","update","step","startTime","start","pos","unit","tick","interval","Infinity","clearInterval","slow","fast","animated","cv","cw","cx","getBoundingClientRect","pageYOffset","pageXOffset","offsetParent","offsetLeft","borderTopWidth","borderLeftWidth","setOffset","bodyOffset","using","scrollTo","Height","Width","amd","forEach","reduce","reduceRight","every","some","lastIndexOf","keys","_wrapped","exports","module","VERSION","collect","foldl","inject","TypeError","foldr","detect","all","identity","any","include","invoke","pluck","where","isEmpty","findWhere","computed","min","shuffle","sortBy","criteria","groupBy","countBy","sortedIndex","values","take","initial","rest","tail","drop","compact","flatten","without","difference","uniq","union","intersection","zip","range","ceil","partial","bindAll","functions","memoize","defer","throttle","debounce","compose","pairs","invert","methods","pick","omit","defaults","isObject","tap","multiline","ignoreCase","isEqual","isString","isElement","isArguments","isNumber","isBoolean","isNull","isUndefined","times","floor","escape","&","<","\"","'","/","unescape","mixin","uniqueId","templateSettings","evaluate","interpolate","\\","\r","\n","\t"," "," ","template","variable","chain","_chain","quote","string","escapable","lastIndex","meta","charCodeAt","str","key","holder","mind","gap","rep","indent","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Number","Boolean","\b","\f","stringify","replacer","space","reviver","walk","undefined","SyntaxError","previousBackbone","require","Zepto","ender","setDomLibrary","lib","emulateHTTP","emulateJSON","eventSplitter","Events","callback","calls","node","list","_callbacks","ctx","args","Model","getValue","collection","_escapedAttributes","cid","changed","_silent","_pending","silent","_previousAttributes","initialize","idAttribute","attrs","unset","_validate","changes","escaped","clear","fetch","model","resp","wrapError","sync","save","current","wait","silentOptions","serverAttrs","method","isNew","destroy","triggerDestroy","base","urlError","changing","_changing","hasChanged","changedAttributes","diff","previous","previousAttributes","isValid","validate","Collection","models","comparator","_reset","cids","ids","dups","_prepareModel","_byCid","_byId","_onModelEvent","at","getByCid","_removeReference","boundComparator","create","coll","nextModel","Router","routes","_bindRoutes","namedParam","splatParam","escapeRegExp","route","history","History","isRegExp","_routeToRegExp","_extractParameters","navigate","handlers","routeStripper","isExplorer","started","getHash","windowOverride","loc","getFragment","forcePushState","_hasPushState","pathname","search","_wantsHashChange","hashChange","_wantsPushState","pushState","docMode","documentMode","oldIE","iframe","checkUrl","_checkUrlInterval","atRoot","hash","replaceState","title","protocol","host","loadUrl","fragmentOverride","matched","frag","_updateHash","assign","View","_configure","_ensureElement","delegateEvents","delegateEventSplitter","viewOptions","tagName","$el","render","make","content","el","setElement","element","undelegateEvents","eventName","protoProps","classProps","child","inherits","methodMap","delete","read","params","_method","onError","originalModel","ctor","staticProps","__super__","factory","mustache","testRegExp","re","RegExp_test","isWhitespace","nonSpaceRe","escapeHtml","entityMap","parseTemplate","tags","stripSpace","hasTag","nonSpace","spaces","tokens","compileTags","spaceRe","openingTagRe","closingTagRe","closingCurlyRe","sections","chr","token","openSection","scanner","Scanner","eos","scanUntil","valueLength","scan","tagRe","whiteRe","equalsRe","curlyRe","nestTokens","squashTokens","lastToken","squashedTokens","numTokens","section","nestedTokens","collector","Context","view","parentContext",".","Writer","Object_toString","lookup","names","clearCache","partials","renderTokens","originalTemplate","symbol","buffer","_renderSection","_renderInverted","_renderPartial","_unescapedValue","_escapedValue","_rawValue","subRender","self","defaultWriter","to_html","oldL","Util","dest","len","sources","obj","stamp","lastId","invokeEach","limitExecByInterval","time","execOnUnlock","wrapperFn","falseFn","formatNum","num","digits","pow","round","splitWords","setOptions","getParamString","existingUrl","uppercase","emptyImageUrl","getPrefixed","prefixes","timeoutDefer","timeToCall","lastTime","requestFn","requestAnimationFrame","cancelFn","cancelAnimationFrame","requestAnimFrame","immediate","cancelAnimFrame","Class","NewClass","_initHooks","callInitHooks","proto","statics","includes","_initHooksCalled","mergeOptions","addInitHook","eventsKey","Mixin","types","indexKey","indexLenKey","typeIndex","contextId","action","hasEventListeners","clearAllEventListeners","listeners","removed","addOneTimeEventListener","ie","ielt9","ua","chrome","phantomjs","android","android23","gecko","mobile","orientation","msPointer","msPointerEnabled","msMaxTouchPoints","PointerEvent","pointer","pointerEnabled","maxTouchPoints","retina","devicePixelRatio","matchMedia","doc","ie3d","webkit3d","WebKitCSSMatrix","gecko3d","opera3d","any3d","L_DISABLE_3D","touch","L_NO_TOUCH","startName","div","supported","Browser","opera","mobileWebkit","mobileWebkit3d","mobileOpera","Point","point","_add","subtract","_subtract","divideBy","_divideBy","multiplyBy","_multiplyBy","_round","_floor","distanceTo","sqrt","equals","abs","Bounds","points","getCenter","getBottomLeft","getTopRight","getSize","bounds","intersects","min2","max2","xIntersects","yIntersects","Transformation","_a","_b","_c","_d","transform","scale","_transform","untransform","DomUtil","getStyle","getViewportOffset","docBody","docEl","maxWidth","documentIsLtr","_docIsLtrCached","_docIsLtr","container","classList","_getClass","classes","_setClass","baseVal","setOpacity","filterName","item","Enabled","Opacity","testProp","getTranslateString","is3d","getScaleString","origin","preTranslateStr","scaleStr","setPosition","disable3D","_leaflet_pos","TRANSFORM","getPosition","TRANSITION","TRANSITION_END","disableTextSelection","DomEvent","enableTextSelection","userSelectProperty","_userSelect","disableImageDrag","enableImageDrag","LatLng","lat","lng","alt","DEG_TO_RAD","RAD_TO_DEG","MAX_MARGIN","latLng","precision","other","d2r","dLat","dLon","lat1","lat2","sin1","sin","sin2","atan2","lon","LatLngBounds","southWest","northEast","latlngs","latLngBounds","_southWest","_northEast","pad","bufferRatio","sw","ne","heightBuffer","widthBuffer","getSouthWest","getNorthEast","getNorthWest","getNorth","getWest","getSouthEast","getSouth","getEast","sw2","ne2","latIntersects","lngIntersects","toBBoxString","Projection","SphericalMercator","MAX_LATITUDE","project","latlng","log","tan","unproject","atan","exp","LonLat","CRS","latLngToPoint","projectedPoint","projection","transformation","pointToLatLng","untransformedPoint","Simple","EPSG3857","code","earthRadius","EPSG900913","EPSG4326","Map","crs","fadeAnimation","trackResize","markerZoomAnimation","_initContainer","_initLayout","_onResize","_initEvents","maxBounds","setMaxBounds","center","setView","_handlers","_layers","_zoomBoundLayers","_tileLayersNum","_addLayers","layers","getZoom","_resetView","_limitZoom","setZoom","_loaded","_zoom","zoomIn","delta","zoomOut","setZoomAround","getZoomScale","viewHalf","containerPoint","latLngToContainerPoint","centerOffset","newCenter","containerPointToLatLng","fitBounds","getBounds","paddingTL","paddingTopLeft","paddingBR","paddingBottomRight","getBoundsZoom","paddingOffset","swPoint","nePoint","maxZoom","fitWorld","panTo","pan","panBy","_rawPanBy","_panInsideMaxBounds","panInsideBounds","_limitCenter","addLayer","layer","minZoom","_updateZoomLevels","zoomAnimation","TileLayer","_tileLayersToLoad","_onTileLayerLoad","_layerAdd","removeLayer","onRemove","hasLayer","eachLayer","invalidateSize","oldSize","_sizeChanged","_initialCenter","newSize","oldCenter","debounceMoveend","_sizeTimer","addHandler","HandlerClass","enable","_container","_leaflet","_clearPanes","_clearControlPos","_clearHandlers","_checkIfLoaded","_moved","layerPointToLatLng","_getCenterLayerPoint","getPixelBounds","getMinZoom","_layersMinZoom","getMaxZoom","_layersMaxZoom","inside","boundsSize","nw","se","zoomNotFound","_size","clientWidth","clientHeight","topLeftPoint","_getTopLeftPoint","getPixelOrigin","_initialTopLeftPoint","getPanes","_panes","getContainer","toZoom","getScaleZoom","LN2","latLngToLayerPoint","containerPointToLayerPoint","_getMapPanePos","layerPointToContainerPoint","layerPoint","mouseEventToContainerPoint","getMousePosition","mouseEventToLayerPoint","mouseEventToLatLng","_initPanes","_initControlPos","panes","_mapPane","mapPane","_createPane","_tilePane","tilePane","objectsPane","shadowPane","overlayPane","markerPane","popupPane","zoomHide","preserveMapOffset","afterZoomAnim","zoomChanged","_getNewTopLeftPoint","loading","hard","_getZoomSpan","oldZoomSpan","onOff","_onMouseClick","_fireMouseEvent","_resizeRequest","_simulated","dragging","moved","boxZoom","_skipped","whenReady","onAdd","_latLngToNewLayerPoint","newZoom","topLeft","_getCenterOffset","centerPoint","viewBounds","_getBoundsOffset","_limitOffset","newBounds","pxBounds","nwOffset","seOffset","dx","_rebound","dy","right","Mercator","R_MINOR","R_MAJOR","r2","tmp","eccent","con","ts","phi","numIter","tol","dphi","EPSG3395","tileSize","subdomains","errorTileUrl","attribution","zoomOffset","unloadInvisibleTiles","updateWhenIdle","detectRetina","_url","_map","_animated","_zoomAnimated","viewreset","moveend","_update","zoomanim","_animateZoom","zoomend","_endZoomAnim","_limitedUpdate","addTo","bringToFront","pane","_setAutoZIndex","bringToBack","getAttribution","_updateOpacity","setZIndex","_updateZIndex","setUrl","noRedraw","redraw","compare","edgeZIndex","tiles","_tiles","_bgBuffer","_tileContainer","tile","_tilesToLoad","reuseTiles","_unusedTiles","_clearBgBuffer","_getTileSize","zoomN","maxNativeZoom","tileBounds","_addTilesFromCenterOut","_removeOtherTiles","_tileShouldBeLoaded","tilesToLoad","_addTile","tilePoint","continuousWorld","limit","_getWrapTileNum","noWrap","nwPoint","sePoint","kArr","_removeTile","tilePos","_getTilePos","_getTile","_loadTile","_getZoomForUrl","zoomReverse","getTileUrl","_getSubdomain","_adjustTilePoint","tms","_resetTile","_createTile","galleryimg","onselectstart","onmousemove","WebkitBackfaceVisibility","_layer","_tileOnLoad","onerror","_tileOnError","_tileLoaded","_clearBgBufferTimer","newUrl","tileLayer","WMS","defaultWmsParams","service","request","styles","format","transparent","wmsParams","_crs","_wmsVersion","projectionKey","bbox","setParams","wms","Canvas","_redrawTile","drawTile","_tilePoint","tileDrawn","canvas","ImageOverlay","_bounds","_image","_initImage","_onImageLoad","imageOverlay","Icon","createIcon","oldIcon","_createIcon","createShadow","_getIconUrl","img","_createImg","_setIconStyles","anchor","shadowAnchor","iconAnchor","marginLeft","icon","Default","iconSize","popupAnchor","shadowSize","path","imagePath","scripts","leafletRe","Marker","clickable","draggable","keyboard","zIndexOffset","riseOnHover","riseOffset","_latlng","_initIcon","_removeIcon","_removeShadow","getLatLng","setLatLng","setZIndexOffset","setIcon","_popup","bindPopup","_icon","_setPos","animation","classToAdd","addIcon","_initInteraction","_bringToFront","_resetZIndex","newShadow","_shadow","addShadow","_zIndex","opt","_onKeyPress","Handler","MarkerDrag","wasDragged","_enabled","marker","DivIcon","bgPos","backgroundPosition","divIcon","closePopupOnClick","Popup","minWidth","autoPan","closeButton","autoPanPadding","keepInView","_source","_isOpen","animFade","_getEvents","popup","openOn","openPopup","_updatePosition","_adjustPan","getContent","_content","setContent","_updateContent","_updateLayout","_zoomAnimation","closeOnClick","preclick","_close","closePopup","prefix","containerClass","_closeButton","disableClickPropagation","_onCloseButtonClick","wrapper","_wrapper","_contentNode","disableScrollPropagation","_tipContainer","_tip","hasChildNodes","whiteSpace","maxHeight","scrolledClass","_containerWidth","_containerBottom","_containerLeft","bottom","containerHeight","containerWidth","layerPos","containerPos","autoPanPaddingTopLeft","autoPanPaddingBottomRight","togglePopup","_popupHandlersAdded","_movePopup","setPopupContent","unbindPopup","getPopup","LayerGroup","getLayerId","clearLayers","methodName","getLayer","getLayers","layerGroup","FeatureGroup","EVENTS","_propagateEvent","_popupContent","_popupOptions","setStyle","featureGroup","Path","CLIP_PADDING","outerWidth","outerHeight","stroke","color","dashArray","lineCap","lineJoin","weight","fill","fillColor","_initElements","projectLatlngs","_updatePath","_pathRoot","vml","_stroke","_fill","_updateStyle","_updatePathViewport","panePos","_pathViewport","SVG_NS","svg","createElementNS","createSVGRect","SVG","getPathString","_createElement","_initPathRoot","_initPath","_initStyle","_path","pointerEvents","_animatePathZoom","_endPathZoom","_updateSvgViewport","_pathZooming","vp","_openPopup","_latlngs","shape","behavior","adj","VML","namespaces","coordsize","stroked","filled","endcap","dashStyle","joinstyle","getContext","L_PREFER_CANVAS","CANVAS","_requestUpdate","_onClick","_onMouseMove","_updateRequest","_fireMapMoveEnd","_ctx","_canvasCtx","lineWidth","strokeStyle","fillStyle","_drawPath","len2","drawMethod","beginPath","_parts","Polygon","closePath","_checkIfEmpty","globalAlpha","restore","_containsPoint","_animatingZoom","cursor","_mouseInside","_updateCanvasViewport","translate","LineUtil","simplify","tolerance","sqTolerance","_reducePoints","_simplifyDP","pointToSegmentDistance","p1","p2","_sqClosestPointOnSegment","closestPointOnSegment","ArrayConstructor","Uint8Array","markers","_simplifyDPStep","newPoints","sqDist","maxSqDist","reducedPoints","_sqDist","clipSegment","useLastCode","codeOut","newCode","codeA","_lastCode","_getBitCode","codeB","_getEdgeIntersection","dot","Polyline","_convertLatLngs","smoothFactor","noClip","_originalPoints","_getPathPartStr","getLatLngs","setLatLngs","addLatLng","spliceLatLngs","closestLayerPoint","minDistance","parts","minPoint","jLen","distance","overwrite","_clipPoints","segment","lu","_simplifyPoints","polyline","PolyUtil","clipPolygon","clippedPoints","edge","edges","_code","_initWithHoles","hole","_holes","_holePoints","newParts","clipped","polygon","createMulti","Klass","_options","MultiPolyline","MultiPolygon","multiPolyline","multiPolygon","Rectangle","_boundsToLatLngs","setBounds","rectangle","Circle","radius","_mRadius","setRadius","lngRadius","_getLngRadius","pointLeft","_point","_radius","latRadius","getRadius","_getLatRadius","circle","CircleMarker","circleMarker","closed","dist","part","arc","w2","GeoJSON","geojson","addData","feature","features","geometries","geometry","coordinates","geometryToLayer","pointToLayer","coordsToLatLng","asFeature","defaultOptions","resetStyle","onEachFeature","_setLayerStyle","vectorOptions","coordsToLatLngs","properties","levelsDeep","latLngToCoords","latLngsToCoords","latLngs","getFeature","newGeometry","geoJSON","PointToGeoJSON","toGeoJSON","multiToGeoJSON","jsons","isGeometryCollection","geoJson","addListener","originalHandler","newType","_getEvent","addPointerListener","addDoubleTapListener","_checkMouse","_filterClick","removeListener","removePointerListener","removeDoubleTapListener","Draggable","START","_fakeStop","rect","getWheelDelta","wheelDelta","detail","_skipEvents","skipped","related","err","caller","callee","elapsed","_lastClick","_simulatedClick","END","mousedown","touchstart","pointerdown","MSPointerDown","MOVE","dragStartTarget","_element","_dragStartTarget","_onDown","shiftKey","touches","_disabled","_moving","_startPoint","_startPos","_newPos","_onMove","_onUp","newPoint","_lastTarget","_animRequest","addHooks","removeHooks","inertia","inertiaDeceleration","inertiaMaxSpeed","inertiaThreshold","easeLinearity","worldCopyJump","Drag","_draggable","dragstart","_onDragStart","drag","_onDrag","dragend","_onDragEnd","_onPreDrag","_onViewReset","_panAnim","_positions","_times","_lastTime","_lastPos","pxCenter","pxWorldCenter","_initialWorldOffset","_worldWidth","worldWidth","halfWidth","newX1","newX2","newX","noInertia","direction","ease","speedVector","limitedSpeed","limitedSpeedVector","decelerationDuration","noMoveStart","doubleClickZoom","DoubleClickZoom","_onDoubleClick","scrollWheelZoom","ScrollWheelZoom","_onWheelScroll","_delta","_lastMousePos","_startTime","_timer","_performZoom","_touchstart","_touchend","onTouchStart","count","trackedTouches","pointerId","doubleTap","onTouchEnd","idx","newTouch","pre","touchend","endElement","POINTER_CANCEL","POINTER_DOWN","POINTER_MOVE","POINTER_UP","_pointers","_pointerDocumentListener","addPointerListenerStart","addPointerListenerEnd","addPointerListenerMove","pointers","alreadyInArray","changedTouches","internalCb","pointerType","MSPOINTER_TYPE_MOUSE","buttons","touchZoom","bounceAtZoomLimits","TouchZoom","_onTouchStart","_zooming","viewCenter","_startCenter","_startDist","_centerOffset","_onTouchMove","_onTouchEnd","_scale","_updateOnMove","_getScaleOrigin","oldZoom","floatZoomDelta","roundZoomDelta","tapTolerance","Tap","_fireClick","_holdTimeout","_isTapValid","_simulateEvent","simulatedEvent","createEvent","initMouseEvent","screenX","screenY","dispatchEvent","BoxZoom","_pane","_onMouseDown","_startLayerPoint","_onMouseUp","_onKeyDown","_box","startPoint","box","newPos","_finish","boxZoomBounds","keyboardPanOffset","keyboardZoomOffset","Keyboard","keyCodes","down","up","_setPanOffset","_setZoomOffset","_onFocus","_onBlur","_addHooks","_removeHooks","_focused","_panKeys","codes","_zoomKeys","_inProgress","_marker","shadow","iconPos","Control","removeControl","addControl","corner","_controlCorners","removeFrom","_refocusOnMap","control","createCorner","vSide","hSide","corners","_controlContainer","Zoom","zoomInText","zoomInTitle","zoomOutText","zoomOutTitle","zoomName","_zoomInButton","_createButton","_zoomIn","_zoomOutButton","_zoomOut","_updateDisabled","link","zoomControl","Attribution","_attributions","addAttribution","_onLayerAdd","_onLayerRemove","setPrefix","removeAttribution","attribs","prefixAndAttribs","attributionControl","Scale","metric","imperial","_addScales","_mScale","_iScale","centerLat","halfWorldMeters","maxMeters","_updateScales","_updateMetric","_updateImperial","meters","_getRoundNum","_getScaleWidth","maxMiles","miles","feet","maxFeet","ratio","pow10","Layers","collapsed","autoZIndex","baseLayers","overlays","_lastZIndex","_handlingClick","_addLayer","_onLayerChange","addBaseLayer","addOverlay","_form","_expand","_collapse","_layersLink","_onInputClick","_baseLayersList","_separator","_overlaysList","overlay","baseLayersPresent","overlaysPresent","_addItem","_createRadioElement","radioHtml","radioFragment","label","layerId","inputs","inputsLen","PosAnimation","run","_el","_onTransitionEnd","_stepTimer","_onStep","_getPos","stepPos","_transformRe","_tryAnimatedZoom","_tryAnimatedPan","_onPanTransitionStep","_onPanTransitionEnd","_duration","_easeOutPower","_offset","_animate","_step","_complete","_animId","_runFrame","_easeOut","zoomAnimationThreshold","_catchTransitionEnd","_onZoomTransitionEnd","_nothingToAnimate","backwards","forTouchZoom","_animateToCenter","_animateToZoom","_animating","_prepareBgBuffer","initialTransform","front","bgLoaded","_getLoadedTilesPercentage","frontLoaded","_stopLoadingImages","_defaultLocateOptions","watch","maximumAge","enableHighAccuracy","locate","_locateOptions","geolocation","_handleGeolocationError","message","onResponse","_handleGeolocationResponse","_locationWatchId","watchPosition","getCurrentPosition","stopLocate","clearWatch","latitude","longitude","latAccuracy","accuracy","lngAccuracy","timestamp","definition","win","overOut","namespaceRegex","nameRegex","addEvent","W3C_MODEL","eventSupport","mouseTypeRegex","mouseWheelTypeRegex","textTypeRegex","touchTypeRegex","ONE","nativeEvents","customEvents","isDescendant","check","condition","mousewheel","fixEvent","commonProps","mouseProps","mouseWheelProps","keyProps","textProps","touchProps","createPreventDefault","createStopPropagation","createStop","synEvent","stopped","copyProps","isNative","rightClick","targetElement","RegEntry","entry","original","eventType","customType","inNamespaces","checkNamespaces","checkElement","checkOriginal","checkHandler","registry","forAll","entries","put","del","listener","nativeHandler","customHandler","rm","originalFn","orgType","array","typeSpec","delfn","isDel","fireListener","evt","createEventObject","from","bean","cleanup","CollectGarbage","html4","atype","NONE","URI","URI_FRAGMENT","SCRIPT","STYLE","IDREF","IDREFS","GLOBAL_NAME","LOCAL_NAME","CLASSES","FRAME_TARGET","ATTRIBS","*::class","*::dir","*::id","*::lang","*::onclick","*::ondblclick","*::onkeydown","*::onkeypress","*::onkeyup","*::onload","*::onmousedown","*::onmousemove","*::onmouseout","*::onmouseover","*::onmouseup","*::style","*::title","a::accesskey","a::coords","a::href","a::hreflang","a::name","a::onblur","a::onfocus","a::rel","a::rev","a::shape","a::tabindex","a::target","a::type","area::accesskey","area::alt","area::coords","area::href","area::nohref","area::onblur","area::onfocus","area::shape","area::tabindex","area::target","bdo::dir","blockquote::cite","br::clear","button::accesskey","button::disabled","button::name","button::onblur","button::onfocus","button::tabindex","button::type","button::value","canvas::height","canvas::width","caption::align","col::align","col::char","col::charoff","col::span","col::valign","col::width","colgroup::align","colgroup::char","colgroup::charoff","colgroup::span","colgroup::valign","colgroup::width","del::cite","del::datetime","dir::compact","div::align","dl::compact","font::color","font::face","font::size","form::accept","form::action","form::autocomplete","form::enctype","form::method","form::name","form::onreset","form::onsubmit","form::target","h1::align","h2::align","h3::align","h4::align","h5::align","h6::align","hr::align","hr::noshade","hr::size","hr::width","iframe::align","iframe::frameborder","iframe::height","iframe::marginheight","iframe::marginwidth","iframe::width","img::align","img::alt","img::border","img::height","img::hspace","img::ismap","img::name","img::src","img::usemap","img::vspace","img::width","input::accept","input::accesskey","input::align","input::alt","input::autocomplete","input::checked","input::disabled","input::ismap","input::maxlength","input::name","input::onblur","input::onchange","input::onfocus","input::onselect","input::readonly","input::size","input::src","input::tabindex","input::type","input::usemap","input::value","ins::cite","ins::datetime","label::accesskey","label::for","label::onblur","label::onfocus","legend::accesskey","legend::align","li::type","li::value","map::name","menu::compact","ol::compact","ol::start","ol::type","optgroup::disabled","optgroup::label","option::disabled","option::label","option::selected","option::value","p::align","pre::width","q::cite","select::disabled","select::multiple","select::name","select::onblur","select::onchange","select::onfocus","select::size","select::tabindex","table::align","table::bgcolor","table::border","table::cellpadding","table::cellspacing","table::frame","table::rules","table::summary","table::width","tbody::align","tbody::char","tbody::charoff","tbody::valign","td::abbr","td::align","td::axis","td::bgcolor","td::char","td::charoff","td::colspan","td::headers","td::height","td::nowrap","td::rowspan","td::scope","td::valign","td::width","textarea::accesskey","textarea::cols","textarea::disabled","textarea::name","textarea::onblur","textarea::onchange","textarea::onfocus","textarea::onselect","textarea::readonly","textarea::rows","textarea::tabindex","tfoot::align","tfoot::char","tfoot::charoff","tfoot::valign","th::abbr","th::align","th::axis","th::bgcolor","th::char","th::charoff","th::colspan","th::headers","th::height","th::nowrap","th::rowspan","th::scope","th::valign","th::width","thead::align","thead::char","thead::charoff","thead::valign","tr::align","tr::bgcolor","tr::char","tr::charoff","tr::valign","ul::compact","ul::type","eflags","OPTIONAL_ENDTAG","EMPTY","CDATA","RCDATA","UNSAFE","FOLDABLE","ELEMENTS","abbr","acronym","address","basefont","bdo","big","blockquote","cite","dd","dfn","dl","dt","em","fieldset","font","frame","frameset","h1","h2","h3","h4","h5","h6","hr","ins","isindex","kbd","li","menu","nobr","noembed","noframes","noscript","ol","samp","small","span","strike","strong","sup","table","textarea","tt","ul","var","ueffects","NOT_LOADED","SAME_DOCUMENT","NEW_DOCUMENT","URIEFFECTS","body::background","ltypes","UNSANDBOXED","SANDBOXED","DATA","LOADERTYPES","lookupEntity","lcase","ENTITIES","decimalEscapeRe","fromCharCode","hexEscapeRe","decodeOneEntity","stripNULs","nulRe","unescapeEntities","entityRe","escapeAttrib","ampRe","ltRe","gtRe","quotRe","eqRe","normalizeRCData","rcdata","looseAmpRe","makeSaxParser","htmlText","htmlLower","inTag","openTag","startDoc","INSIDE_TAG_TOKEN","OUTSIDE_TAG_TOKEN","decodedValue","attribName","encodedValue","startTag","endTag","dataEnd","cdata","pcdata","endDoc","makeHtmlSanitizer","sanitizeAttributes","stack","ignoring","out","stackEl","sanitize","opt_uriPolicy","opt_nmTokenPolicy","attribKey","parsedUri","URI_SCHEME_RE","WHITELISTED_SCHEMES","amp","nbsp","quot","apos","html_sanitize","handleReadyState","_aborted","twoHundo","setHeaders","http","Accept","defaultHeaders","accept","crossOrigin","requestedWith","setCredentials","withCredentials","generalCallback","lastValue","urlappend","handleJsonp","reqId","uniqid","cbkey","cbval","jsonpCallbackName","reqwest","getcallbackPrefix","cbreg","loaded","isIE10","htmlFor","onclick","getRequest","toQueryString","Reqwest","setType","_completeHandlers","parseError","errorCode","reason","_responseArgs","_fulfilled","_fulfillmentHandlers","msg","_erred","_errorHandlers","normalize","serial","ra","optCb","eachFormElement","serializeSubtags","fa","byTag","serializeQueryString","serializeHash","callbackPrefix","xmlHttpRequest","js","retry","arr","qs","enc","compat","wax","bwdetect","bwTest","im","Image","testImage","detector","threshold","auto","bwlisteners","formatter","console","gi","grid_tile","resolveCode","instance","resolution","getKey","grid","gridFeature","tileFeature","tile_element","gm","templatedGridUrl","rx","manager","tileRegexp","xyz","tilejson","gridUrl","tileTemplate","t0","t1","getGrid","gurl","grids","getState","parseHash","setCenterZoom","move","s1","getCenterZoom","s0","stateChange","_move","bindChange","unbindChange","interaction","getTile","regExp","isInside","killTimeout","_clickTimeout","onMove","_downLock","_e","eventoffset","screen_feature","onDown","onUp","dragEnd","mspointerEnds","pointerEnds","touchCancel","touchEnds","_discardTouchMove","attach","defaultEvents","mousemove","touchmove","touchcancel","MSPointerUp","MSPointerMove","MSPointerCancel","pointerup","pointermove","pointercancel","discardTouchMove","ev","gridmanager","locks","promises","that","calculateOffsetIE","calculateOffset","doc_body","WebkitTransform","OTransform","MozTransform","msTransform","pts","htmlComputed","func","throttler","urlX","idX","leaf","toFixed","setdirty","dirty","_grid","_tile","connector","minzoom","maxzoom","lowpng","png","lowjpg","jpg","mapTypes","mb","scheme","blankImage","description","setMapTypeId","setCenter","google","maps","interactionEnabled","getDiv","mapType","interactive","tileOffset","overlayMapTypes","tileloadListener","idleListener","Size","coord","releaseTile","mod","_geometryToGoogleMaps","geojsonGeometry","opts","geojsonProperties","googleObj","ll","exteriorDirection","interiorDirection","paths","_ccw","_error","isCCW","jScrollPane","settings","JScrollPane","initialise","isMaintainingPositon","lastContentX","lastContentY","hasContainingSpaceChanged","originalScrollTop","originalScrollLeft","maintainAtBottom","maintainAtRight","paneWidth","innerWidth","originalPaddingTotalWidth","paneHeight","innerHeight","originalPadding","stickToBottom","isCloseToBottom","stickToRight","isCloseToRight","previousContentWidth","contentWidth","contentHeight","scrollWidth","scrollHeight","percentInViewH","percentInViewV","isScrollableV","isScrollableH","maintainPosition","verticalDragPosition","horizontalDragPosition","contentPositionX","contentPositionY","initialiseVerticalScroll","initialiseHorizontalScroll","resizeScrollbars","scrollToX","scrollToY","initFocusHandler","initMousewheel","initTouch","enableKeyboardNavigation","initKeyboardNav","clickOnTrack","initClickOnTrack","observeHash","hijackInternalLinks","removeMousewheel","removeFocusHandler","removeKeyboardNav","removeClickOnTrack","autoReinitialise","reinitialiseInterval","autoReinitialiseDelay","verticalBar","verticalTrack","verticalDrag","showArrows","arrowUp","getArrowScroll","nil","arrowDown","arrowScrollOnHover","appendArrows","verticalArrowPositions","verticalTrackHeight","startY","positionDragY","cancelDrag","sizeVerticalScrollbar","scrollbarWidth","verticalGutter","horizontalBar","horizontalTrack","horizontalDrag","arrowLeft","arrowRight","horizontalArrowPositions","startX","positionDragX","horizontalTrackWidth","sizeHorizontalScrollbar","horizontalTrackHeight","verticalTrackWidth","horizontalDragWidth","horizontalDragMaxWidth","horizontalDragMinWidth","dragMaxX","_positionDragX","verticalDragHeight","verticalDragMaxHeight","verticalDragMinHeight","dragMaxY","_positionDragY","ele","a1","a2","aTemp","platform","dirX","dirY","arrowScroll","arrow","eve","scrollTimeout","isFirst","jsp","scrollByX","arrowButtonSpeed","scrollByY","initialDelay","arrowRepeatFreq","originalTarget","clickedTrack","contentDragY","scrollPagePercent","dragY","cancelClick","trackClickRepeatFreq","contentDragX","dragX","destY","animateScroll","isAtTop","isAtBottom","percentScrolled","destTop","wasAtTop","wasAtBottom","wasAtLeft","wasAtRight","updateVerticalArrows","destX","isAtLeft","isAtRight","destLeft","updateHorizontalArrows","scrollToElement","stickToTop","eleHeight","eleWidth","viewportTop","viewportLeft","maxVisibleEleTop","maxVisibleEleLeft","eleTop","eleLeft","horizontalGutter","scrollableHeight","scrollableWidth","mwEvent","deltaX","deltaY","dX","dY","scrollBy","mouseWheelSpeed","keyDownHandler","keyDown","keyboardSpeed","elementHasScrolled","validParents","hideFocus","retryInt","elementTop","locationHref","scrollIntoView","touchStartX","touchStartY","moving","touchPos","currentY","currentX","originalElement","mwheelIntent","reinitialise","scrollToPercentX","destPercentX","scrollToPercentY","destPercentY","stepCallback","animateDuration","animateEase","getContentPositionX","getContentPositionY","getContentWidth","getContentHeight","getPercentScrolledX","getPercentScrolledY","getIsScrollableH","getIsScrollableV","getContentPane","scrollToBottom","jspApi","trackClickSpeed","orgEvent","axis","HORIZONTAL_AXIS","wheelDeltaY","wheelDeltaX","onmousewheel","unmousewheel","unsetPos","mwheelI","minDif","longDelay","shortDelay","jElm","unmwheelIntent","insertRule","sheet","styleSheet","lines","rotate","trail","fps","spin","background","boxShadow","transformOrigin","borderRadius","hwaccel","addRule","coordorigin","rotation","arcsize","Spinner","LZMA","update_progress","percent","callback_num","postMessage","getClass_18","Ljava_lang_Object_2_classLit","Object_0","getClass_22","Ljava_lang_Throwable_2_classLit","Throwable","getClass_13","Ljava_lang_Exception_2_classLit","Exception","$RuntimeException","this$static","detailMessage","getClass_19","Ljava_lang_RuntimeException_2_classLit","RuntimeException","$JavaScriptException","getClass_0","Lcom_google_gwt_core_client_JavaScriptException_2_classLit","JavaScriptException","$append","explicitLength","$appendNonNull","$toString","s_0","createFromSeed","seedType","length_0","getClass_2","arrayClass$","initDim","arrayClass","typeId","queryId","$clinit_4","wrapArray","expandoNames_0","expandoValues_0","typeId$","queryId$","initValues","setCheck","canCastUnsafe","ArrayStoreException","typeMarker$","nullMethod","Array_0","initExpandos","protoType","expandoNames","expandoValues","name_0","canCast","srcId","dstId","typeIdArray","dynamicCast","ClassCastException","instanceOf","round_int","caught","newHigh","newLow","addTimes","accum","and","makeFromBits","lowBits_0","nega","negb","valueLow","valueHigh","diffHigh","diffLow","approx","deltaRem","deltaResult","halfa","rem","$ArithmeticException","ArithmeticException","$clinit_10","ZERO","MIN_VALUE","NEG_ONE","shr","shl","mul","neg","fromDouble","toDoubleRoundDown","toDoubleRoundUp","MAX_VALUE","fromInt","rebase","$clinit_9","boxedValues","internalFromInt","highBits","lowBits","high","low","a3","a4","b1","b2","b3","b4","res","multByMinValue","TWO_PWR_24","pwrAsDouble","twoToN","shiftFact","shru","sr","TWO","magnitute","toSubtract","LN_2","toAdd","toString_0","remDivTenPower","tenPowerLong","zeroesNeeded","_3_3D_classLit","P7fffffffffffffff_longLit","N8000000000000000_longLit","P1000000_longLit","getClass_6","Ljava_io_InputStream_2_classLit","InputStream","$ByteArrayInputStream","buf","$ByteArrayInputStream_0","$read","$read_0","arraycopy","getClass_3","Ljava_io_ByteArrayInputStream_2_classLit","ByteArrayInputStream","getClass_7","Ljava_io_OutputStream_2_classLit","OutputStream","$ByteArrayOutputStream","_3B_classLit","$ensureCapacity","newbuf","$toByteArray","$write","$write_0","getClass_4","Ljava_io_ByteArrayOutputStream_2_classLit","ByteArrayOutputStream","$IOException","getClass_5","Ljava_io_IOException_2_classLit","IOException","explanation","getClass_8","Ljava_lang_ArithmeticException_2_classLit","$ArrayStoreException","getClass_9","Ljava_lang_ArrayStoreException_2_classLit","createForArray","packageName","clazz","typeName","createForClass","createForEnum","getClass_11","Ljava_lang_Class_2_classLit","getClass_10","Ljava_lang_ClassCastException_2_classLit","getClass_12","Ljava_lang_Enum_2_classLit","Enum","$IllegalArgumentException","getClass_14","Ljava_lang_IllegalArgumentException_2_classLit","IllegalArgumentException","getClass_15","Ljava_lang_IllegalStateException_2_classLit","IllegalStateException","getClass_16","Ljava_lang_IndexOutOfBoundsException_2_classLit","IndexOutOfBoundsException","getClass_17","Ljava_lang_NullPointerException_2_classLit","NullPointerException","$equals","$getChars","srcBegin","srcEnd","dst","dstBegin","srcIdx","getClass_21","Ljava_lang_String_2_classLit","$StringBuilder","getClass_20","Ljava_lang_StringBuilder_2_classLit","StringBuilder","srcOfs","destOfs","destArray","destEnd","destTypeName","destlen","srcArray","srcTypeName","srclen","getClass$","Lcom_google_gwt_core_client_JavaScriptObject_2_classLit","$configure","encoder","$SetDictionarySize_0","dictionarySize","$SetNumFastBytes","fb","$SetMatchFinder","matchFinder","$SetLcLpPb_0","lc","lp","pb","getClass_23","Lorg_dellroad_lzma_client_CompressionMode_2_classLit","CompressionMode","$execute","$processChunk","chunker","$e0","$init","output","mode","N1_longLit","$Encoder","Encoder","_writeEndMark","$WriteCoderProperties","_needReleaseMFStream","_inStream","_finished","$Create_2","_rangeEncoder","Stream","$Init_4","$FillDistancesPrices","$FillAlignPrices","_lenEncoder","_tableSize","_numFastBytes","$UpdateTables","_posStateBits","_repMatchLenEncoder","nowPos64","P0_longLit","$Chunker_0","Chunker","getClass_26","Lorg_dellroad_lzma_client_LZMACompressor_2_classLit","LZMACompressor","$LZMAByteArrayCompressor","getClass_24","Lorg_dellroad_lzma_client_LZMAByteArrayCompressor_2_classLit","LZMAByteArrayCompressor","$execute_0","exception","$init_0","decoder","tmp_length","hex_length","$Decoder","Decoder","$SetDecoderProperties","$CodeInChunks","getClass_27","Lorg_dellroad_lzma_client_LZMADecompressor_2_classLit","LZMADecompressor","$LZMAByteArrayDecompressor","getClass_25","Lorg_dellroad_lzma_client_LZMAByteArrayDecompressor_2_classLit","LZMAByteArrayDecompressor","$Create_4","keepSizeBefore","keepSizeAfter","keepSizeReserv","blockSize","_keepSizeBefore","_keepSizeAfter","_bufferBase","_blockSize","_pointerToLastSafePosition","$GetIndexByte","_bufferOffset","_pos","$GetMatchLen","pby","_streamEndWasReached","_streamPos","$GetNumAvailableBytes","$MoveBlock","numBytes","$MovePos_1","pointerToPostion","_posLimit","$ReadBlock","numReadBytes","_stream","$ReduceOffsets","subValue","getClass_40","Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_InWindow_2_classLit","InWindow","$clinit_60","CrcTable","_3I_classLit","$Create_3","historySize","keepAddBufferBefore","matchMaxLen","keepAddBufferAfter","cyclicBufferSize","hs","windowReservSize","_cutValue","_matchMaxLen","_cyclicBufferSize","_son","HASH_ARRAY","_hashMask","kFixHashSize","_hashSizeSum","_hash","$GetMatches","distances","curMatch","curMatch2","curMatch3","cyclicPos","hash2Value","hash3Value","hashValue","len0","len1","lenLimit","matchMinPos","maxLen","pby1","ptr0","ptr1","temp","kMinMatchCheck","$MovePos_0","_cyclicBufferPos","kNumHashDirectBytes","$Init_5","$NormalizeLinks","items","numItems","$SetType","numHashBytes","$Skip","getClass_39","Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_BinTree_2_classLit","BinTree","$CopyBlock","_windowSize","_buffer","$Flush_0","$Create_5","windowSize","$GetByte","$Init_7","solid","$PutByte","$ReleaseStream","$SetStream_0","stream","getClass_41","Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_OutWindow_2_classLit","OutWindow","GetLenToPosState","StateUpdateChar","alive","$Chunker","$processEncoderChunk","$processDecoderChunk","$CodeOneChunk","inBytesProcessed","outBytesProcessed","outSize","$CodeFinish","$CodeOneBlock","processedInSize","processedOutSize","finished","$ReleaseStreams","getClass_28","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Chunker_2_classLit","m_OutWindow","m_RangeDecoder","inStream","outStream","$Init_1","rep0","rep1","rep2","rep3","prevByte","decoder2","numDirectBits","posSlot","posState","m_PosStateMask","$DecodeBit","m_IsMatchDecoders","$GetDecoder","m_LiteralDecoder","$DecodeNormal","$DecodeWithMatchByte","P1_longLit","m_IsRepDecoders","m_IsRepG0Decoders","m_IsRep0LongDecoders","m_IsRepG1Decoders","m_IsRepG2Decoders","$Decode","m_RepLenDecoder","m_LenDecoder","$Decode_0","m_PosSlotDecoder","ReverseDecode","m_PosDecoders","$DecodeDirectBits","$ReverseDecode","m_PosAlignDecoder","m_DictionarySizeCheck","Decoder_0","_3S_classLit","_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit","$BitTreeDecoder","BitTreeDecoder","$Decoder$LenDecoder","Decoder$LenDecoder","Decoder$LiteralDecoder","InitBitModels","$Init_0","Models","$Init","$Init_8","remainder","$SetLcLpPb","$SetDictionarySize","m_DictionarySize","numPosStates","$Create_0","$Create","getClass_32","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder_2_classLit","m_NumPosStates","m_LowCoder","m_MidCoder","rangeDecoder","m_Choice","m_HighCoder","getClass_29","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LenDecoder_2_classLit","numPosBits","numPrevBits","numStates","m_Coders","m_NumPrevBits","m_NumPosBits","m_PosMask","_3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit","$Decoder$LiteralDecoder$Decoder2","Decoder$LiteralDecoder$Decoder2","m_Decoders","getClass_31","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder_2_classLit","matchByte","bit","matchBit","getClass_30","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit","$clinit_59","slotFast","g_FastPos","$Backward","backCur","backMem","posMem","posPrev","_optimumEndIndex","_optimum","PosPrev","BackPrev","Prev1IsChar","$MakeAsChar","Prev2","PosPrev2","BackPrev2","backRes","_optimumCurrentIndex","$BaseInit","_state","_previousByte","_repDistances","inSize","complexState","curByte","footerBits","lenToPosState","posReduced","progressPosValuePrev","subCoder","_matchFinder","$Flush","$ReadMatchDistances","_posStateMask","$Encode_3","_isMatch","_additionalOffset","$Encode_1","$GetSubCoder","_literalEncoder","$GetOptimum","$EncodeMatched","_isRep","_isRepG0","_isRep0Long","_isRepG1","_isRepG2","$Encode_0","GetPosSlot","$Encode_2","_posSlotEncoder","ReverseEncode","_posEncoders","$EncodeDirectBits","$ReverseEncode","_posAlignEncoder","_alignPriceCount","_matchPriceCount","$GetProcessedSizeAdd","P1000_longLit","_matchFinderType","$Create_1","_numLiteralPosStateBits","_numLiteralContextBits","_dictionarySize","_dictionarySizePrev","_numFastBytesPrev","_3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit","$clinit_66","Encoder_0","_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit","$BitTreeEncoder","BitTreeEncoder","$Encoder$LenPriceTableEncoder","Encoder$LenPriceTableEncoder","Encoder$LiteralEncoder","_matchDistances","_posSlotPrices","_distancesPrices","_alignPrices","reps","repLens","_3J_classLit","_3Z_classLit","tempPrices","Encoder$Optimal","$ReverseGetPrice","st","st2","ReverseGetPrice","_distTableSize","$GetPrice_1","nowPos","$ReleaseMFStream","$WriteEndMarker","$FlushData","curAnd1Price","curAndLenCharPrice","curAndLenPrice","curBack","curPrice","currentByte","lenEnd","lenMain","lenRes","lenTest","lenTest2","lenTestTemp","matchPrice","newLen","nextIsChar","nextMatchPrice","nextOptimum","nextRepMatchPrice","normalMatchPrice","numAvailableBytes","numAvailableBytesFull","numDistancePairs","offs","optimum","posStateNext","price_4","repIndex","repLen","repMatchPrice","repMaxIndex","shortRepPrice","startLen","state2","price","price_0","price_1","price_2","price_3","_longestMatchWasFound","_longestMatchLength","_numDistancePairs","$MovePos","State","Price","ProbPrices","$GetPrice_0","$GetRepLen1Price","$MakeAsShortRep","Backs0","Backs1","Backs2","Backs3","$GetPureRepPrice","$GetPrice","$GetPosLenPrice","GetPosSlot2","GetPrice","$Init_9","InitBitModels_0","$Init_3","$Init_2","dicLogSize","matchFinderIndex","matchFinderIndexPrev","numFastBytes","getClass_38","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder_2_classLit","$Encode","rangeEncoder","_choice","_lowCoder","_midCoder","_highCoder","$Encoder$LenEncoder","$SetPrices","numSymbols","prices","a0","b0","getClass_33","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenEncoder_2_classLit","Encoder$LenEncoder","_counters","_prices","getClass_34","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenPriceTableEncoder_2_classLit","_3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit","$Encoder$LiteralEncoder$Encoder2","Encoder$LiteralEncoder$Encoder2","m_Encoders","getClass_36","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder_2_classLit","same","matchMode","getClass_35","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit","getClass_37","Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit","numBitLevels","NumBitLevels","bitIndex","startIndex","getClass_42","Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit","getClass_43","Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit","probs","newBound","prob","Range","Code","numTotalBits","getClass_44","Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Decoder_2_classLit","Low","Pffffffff_longLit","$ShiftLow","_cacheSize","_position","P4_longLit","_cache","LowHi","Pff000000_longLit","Pffffff_longLit","Prob","getClass_45","Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Encoder_2_classLit","decode","utf","encode","chars","elen","charArr","_3C_classLit","$LZMADemo","toDouble","compress","do_action","on_progress","on_finish","action_compress","LZMADemo","get_mode_obj","decompress","action_decompress","byte_arr","getClass_46","Lorg_dellroad_lzma_demo_client_LZMADemo_2_classLit","$stats","moduleName","$moduleName","subSystem","evtGroup","millis","gwtOnLoad","errFn","modName","modBase","$moduleBase","1","2","10","11","4","5","6","7","8","9","modes","CSS_PROP_BIT_QUANTITY","CSS_PROP_BIT_HASH_VALUE","CSS_PROP_BIT_NEGATIVE_QUANTITY","CSS_PROP_BIT_QSTRING","CSS_PROP_BIT_URL","CSS_PROP_BIT_UNRESERVED_WORD","CSS_PROP_BIT_UNICODE_RANGE","CSS_PROP_BIT_GLOBAL_NAME","CSS_PROP_BIT_PROPERTY_NAME","cssSchema","schema","cssPropBits","cssLitGroup","cssFns","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background-attachment","background-color","background-image","background-position","background-repeat","background-size","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","box-shadow","box-sizing","caption-side","clip","cue","cue-after","cue-before","display-extras","display-inside","display-outside","elevation","empty-cells","font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin-bottom","margin-left","margin-right","margin-top","max-height","max-width","min-height","min-width","outline","outline-color","outline-style","outline-width","overflow-wrap","overflow-x","overflow-y","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","quotes","resize","richness","speak","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","table-layout","text-align","text-decoration","text-indent","text-overflow","text-shadow","text-transform","text-wrap","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","voice-family","volume","white-space","word-break","word-spacing","word-wrap","z-index","cubic-bezier()","steps()","image()","linear-gradient()","radial-gradient()","repeating-linear-gradient()","repeating-radial-gradient()","rgb()","rgba()","rect()","alpha()","matrix()","perspective()","rotate()","rotate3d()","rotatex()","rotatey()","rotatez()","scale()","scale3d()","scalex()","scaley()","scalez()","skew()","skewx()","skewy()","translate()","translate3d()","translatex()","translatey()","translatez()","lexCss","decodeCss","decodeCssEscape","escapeCssString","escapeCssStrChar","cssStrChars","escapeCssUrlChar","cssUrlChars","WC","NL","SURROGATE_PAIR","NONASCII","UNICODE_TAIL","ESCAPE_TAIL","ESCAPE","URLCHAR","STRINGCHAR","STRING","NUM","NMSTART","NMCHAR","IDENT","WORD_TERM","NUMERIC_VALUE","UNICODE_RANGE","CDO","CDC","COMMENT","FUNCTION","CMP_OPS","CHAR","BOM","CSS_TOKEN","CSS_DECODER","URL_RE","tok","uriStr","URI_RE_","nullIfAbsent","credentials","domain","port","query","uri","encodeIfExists2","URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_","encodeIfExists","URI_DISALLOWED_IN_PATH_","setRawQuery","encodeOne","setAllParameters","unescapedPart","extra","encodeURI","normPath","collapse_dots","PARENT_DIRECTORY_HANDLER_RE","baseUri","relativeUri","absoluteUri","overridden","hasScheme","setRawScheme","getRawScheme","hasCredentials","setRawCredentials","getRawCredentials","hasDomain","setRawDomain","getRawDomain","hasPort","rawPath","getRawPath","simplifiedPath","setPort","getPort","EXTRA_PARENT_PATHS_RE","absRawPath","slash","setRawPath","hasQuery","getRawQuery","hasFragment","setRawFragment","getRawFragment","rawScheme","rawCredentials","rawDomain","rawQuery","rawFragment","scheme_","credentials_","domain_","port_","path_","query_","fragment_","paramCache_","matchPart","PARENT_DIRECTORY_HANDLER","getScheme","decodeURIComponent","setScheme","newScheme","getCredentials","newCredentials","getDomain","setDomain","newDomain","newPort","getPath","setPath","newPath","hasPath","getQuery","setQuery","newQuery","newParams","queryBuf","separator","checkParameterCache_","cgiParams","setParameterValues","newValueIndex","pc","removeParameter","getAllParameters","getParameterValues","paramNameUnescaped","getParameterMap","paramMap","getParameterValue","setFragment","newFragment","utils","mimeTypeOf","uriObj","sanitizeCssProperty","sanitizeCssSelectorList","sanitizeStylesheet","sanitizeStylesheetWithExternals","sanitizeMediaQuery","normalizeUrl","NORM_URL_REGEXP","normalizeUrlChar","NOEFFECT_URL","NORM_URL_REPLACEMENTS","resolveUri","safeUri","naiveUriRewriter","parsed","ALLOWED_URI_SCHEMES","withoutVendorPrefix","ident","(",")","unionArrays","arrs","ALLOWED_LITERAL","property","opt_naiveUriRewriter","opt_baseUri","opt_idSuffix","sanitizeFunctionCall","parenDepth","fnToken","bareFnToken","fnTokens","fns","propertySchema","nFns","propertyKey","propBits","stringDisposition","identDisposition","lastQuoted","NaN","cc1","cc2","isnum1","isnum2","litGroup","litMap","PSEUDO_SELECTOR_WHITELIST","COMBINATOR","virtualization","opt_onUntranslatableSelector","processComplexSelector","processCompoundSelector","combinator","classId","pseudoSelector","valid","decision","tagPolicy","idSuffix","vAttr","rAttr","virtualizeAttrName","op","lastOperator","safeSelector","sanitized","inBrackets","MEDIA_TYPE","MEDIA_FEATURE","LENGTH_UNIT","CSS_VALUE","MEDIA_EXPR","MEDIA_QUERY","STARTS_WITH_KEYWORD_REGEXP","MEDIA_QUERY_LIST_REGEXP","cssTokens","nTokens","cssParseUri","candidate","string1","string2","url1","url2","url3","sanitizeStylesheetInternal","naiveUriFetcher","continuation","opt_importCount","checkElide","elide","blockStack","safeCss","importCount","parseCssStylesheet","startStylesheet","endStylesheet","startAtrule","atIdent","headerArray","animationId","mediaQuery","placeholder","cssUrl","safeImportedCss","endAtrule","startBlock","endBlock","startRuleset","selectorArray","endRuleset","declaration","valueArray","isImportant","nValues","moreToCome","parseCssDeclarations","statement","toks","atrule","ruleset","blockok","block","allowSemi","brackets","stackLast","skipDeclaration","valuelen","HTML","*::draggable","*::hidden","*::inert","*::itemprop","*::itemref","*::itemscope","*::onblur","*::onchange","*::onerror","*::onfocus","*::onreset","*::onscroll","*::onselect","*::onsubmit","*::ontouchcancel","*::ontouchend","*::ontouchenter","*::ontouchleave","*::ontouchmove","*::ontouchstart","*::onunload","*::spellcheck","*::tabindex","*::translate","audio::controls","audio::loop","audio::mediagroup","audio::muted","audio::preload","audio::src","command::checked","command::command","command::disabled","command::icon","command::label","command::radiogroup","command::type","data::value","details::open","fieldset::disabled","form::novalidate","input::inputmode","input::list","input::max","input::min","input::multiple","input::pattern","input::placeholder","input::required","input::step","menu::label","menu::type","meter::high","meter::low","meter::max","meter::min","meter::optimum","meter::value","ol::reversed","output::for","output::name","progress::max","progress::min","progress::value","select::autocomplete","select::required","source::type","textarea::autocomplete","textarea::inputmode","textarea::placeholder","textarea::required","textarea::wrap","track::default","track::kind","track::label","track::srclang","video::controls","video::height","video::loop","video::mediagroup","video::muted","video::poster","video::preload","video::src","video::width","VIRTUALIZED","article","aside","audio","bdi","command","datalist","details","dialog","figcaption","figure","footer","hgroup","keygen","mark","meter","nav","summary","track","video","wbr","ELEMENT_DOM_INTERFACES","entityLookupElement","safeEntityNameRe","ENTITY_RE_1","hcopy","comment","htmlSplit","noMoreGT","noMoreEndComments","parseCPS","continuationMaker","ENTITY_RE_2","continuationMarker","parseEndTag","EFLAGS_TEXT","tag","parseText","parseStartTag","splitWillCapture","lastPos","parseTagAndAttrs","endTagRe","ATTR_RE","sawQuote","abuf","aName","aValue","decodeValue","emit","tagNameOrig","eflagsOrig","eflagsRep","tagNameRep","onStack","stackElOrigTag","stackElRepTag","effect","ltype","hints","safe","logger","oldValue","newValue","lookupAttribute","getLoaderType","getUriEffect","sanitizeAttribs","opt_logger","sanitizedDeclarations","normProp","TYPE","CSS_PROP","XML_ATTR","XML_TAG","makeTagPolicy","sanitizeWithPolicy","inputHtml","outputArray","LT","GT","AMP","GeometryView","SubLayerFactory","SubLayerBase","_parent","_added","CartoDBSubLayer","_bindInteraction","infowindow","setLayer","HttpSubLayer","MapProperties","mapProperties","MapBase","pngParams","gridParams","cdb","core","util","isCORSSupported","MAX_GET_SIZE","force_cors","instanciateCallback","_callbackName","urls","_timeout","_createMapCallsStack","_createMapCallbacks","_waiting","lastTimeUpdated","_refreshTimer","maps_api_template","_buildMapsApiTemplate","LayerDefinition","layerDefinition","endPoint","BASE_URL","setLayerDefinition","NamedMap","named_map","stat_tag","CartoDBLayerCommon","DEBUG","CARTOCSS_VERSIONS","2.0.0","2.1.0","CARTOCSS_DEFAULT_VERSION","config","geo","ui","geocoder","common","vis","decorators","JST","cartodb","files","_loadJST","god","optionalSanitizer","elder","backboneExtend","superMethod","currentParent","decorate","objectToDecorate","Config","modules","REPORT_ERROR_URL","ERROR_TRACK_ENABLED","getSqlApiBaseUrl","getSqlApiUrl","getMapsApiHost","mapsApiTemplate","cartodb_attributions","cartodb_logo_link","ErrorList","enableTrack","old_onerror","line","errors","_fake_console","_console","Log","info","debug","Profiler","Metric","MAX_HISTORY","metrics","_backend","avg","total","Float32Array","backend","new_value","print_stats","_elapsed","inc","qty","dec","Template","_invalidate","compiled","compile","tmpl_type","compilers","vars","rendered","asFunction","underscore","tmpl","TemplateList","getTemplate","template_name","templates","_debugCallbacks","callbacks","setIdAttribute","retrigger","retrigEvent","opt1","opt2","classLabel","_models","_subviews","viewCount","views","_created_at","add_related_model","addView","removeView","clearSubViews","killEvent","cleanTooltips","extendEvents","newEvents","runChecker","Loader","_script","loadScript","cartodbJsRe","bits","loadModule","vizjson","array2hex","byteArr","encoded","btoa","encodeBase64Native","encodeBase64","o1","o2","o3","b64","ac","tmp_arr","uniqueCallbackName","_callback_c","crc32","crcTable","_crcTable","_makeCRCTable","crc","_inferBrowser","detectIE","msie","trident","getIEVersion","querySelector","atob","firefox","YAHOO","app_id","geocode","results","ResultSet","Found","Results","boundingbox","MAPZEN","NOKIA","app_code","north","south","east","west","category","Geometry","isPoint","Geometries","edit","MapLayer","me","map_params","myType","itsType","myTemplate","urlTemplate","itsTemplate","myName","itsName","myLayer","itsLayer","TorqueLayer","CartoDBNamedMapLayer","myBaseType","base_type","getTileLayer","GMapsBaseLayer","OPTIONS","WMSLayer","PlainLayer","CartoDBLayer","interactivity","tiler_domain","tiler_port","tiler_protocol","sql_api_domain","sql_api_port","sql_api_protocol","extra_params","cdn_url","activate","deactivate","invalidate","cache_buster","CartoDBGroupLayer","sublayers","TILED_LAYER_TYPE","CARTODB_LAYER_TYPE","TORQUE_LAYER_TYPE","_assignIndexes","layersByType","layerType","lastOrder","sortedTypes","scrollwheel","provider","_adjustZoomtoLayer","_updateAttributions","defaultCartoDBAttribution","attributions","enableKeyboard","disableKeyboard","enableScrollWheel","disableScrollWheel","getViewBounds","getLayerAt","getLayerByCid","removeLayerByCid","removeLayerAt","getBaseLayer","isBaseLayerAdded","baselayer","getLayerTemplate","baseLayer","addGeometry","geom","removeGeometry","view_bounds_sw","view_bounds_ne","mapSize","latlngToMercator","mercatorToLatLng","boundsSWNE","pp","MapView","autoSaveBounds","_removeLayers","addInfowindow","infoWindowView","getInfoWindows","Infowindow","showBounds","_setModelProperty","_unbindModel","_saveLocation","_bindModel","_changeBounds","_setZoom","_setScrollWheel","_setKeyboard","_setCenter","setAttribution","lyr","layer_view","_removeLayer","_swicthLayerView","_removeGeometry","_addGeomToMap","_removeGeomFromMap","setAutoSaveBounds","_addGeometry","geo_view","mapViewClass","LeafletMapView","GoogleMapsMapView","mapModel","_mapViewClass","Text","default_options","_place","_applyStyle","boxColor","boxOpacity","boxWidth","fontFamily","$text","fontFamilyClass","rgbaCol","backgroundColor","bottom_position","right_position","top_percentage","left_percentage","portrait_dominant_side","landscape_dominant_side","_fixLinks","rendered_text","Annotation","textAlign","fontSize","fontFamilyName","boxPadding","lineColor","mapView","mobileEnabled","_cleanStyleProperties","_setupModels","_bindMap","_onChangeDisplay","_onChangeText","_applyZoomLevelStyle","_unbindMap","_sanitizedText","_getStandardPropertyName","standardProperties","_belongsToCanvas","device","latLonToPixel","setMinZoom","setMaxZoom","setText","standardProperty","textColor","_getRGBA","currentZoom","rgbaLineCol","rgbaBoxCol","has_default_image","public_default_image_url","Share","click a","createDialog","share_url","templateType","public_map_url","ShareDialog","click .zoom_in","click .zoom_out","_checkZoom","zoom_in","zoom_out","ZoomInfo","LegendItemModel","LegendItems","LegendModel","show_title","_onUpdateItems","_onUpdateTitle","_onUpdateTemplate","Legends","LegendItem","Legend","dblclick","DOMMouseScroll","dbclick","_setupModel","_setupItems","_updateLegendType","_stopPropagation","legend_name","_capitalize","_refresh","DebugLegend","BaseLegend","setTitle","showTitle","hideTitle","NoneLegend","None","ChoroplethLegend","_generateColorList","colors","setLeftLabel","setRightLabel","setColors","leftLabel","rightLabel","buckets_count","DensityLegend","Density","IntensityLegend","setColor","_hexToRGB","hex","_rgbToHex","componentToHex","_calculateMultiply","steps","colorHex","_renderGraph","baseColor","backgroundStyle","multipliedColor","CategoryLegend","_renderItems","_renderItem","Category","ColorLegend","Color","StackedLegend","legends","_setupBinding","getLegendByIndex","_layerByIndex","_checkVisibility","legendModel","Stacked","legendModels","legendItems","_renderLegend","getLegendAt","addLegend","removeLegendAt","CustomLegend","itemTemplate","Custom","BubbleLegend","setMinValue","setMaxValue","Bubble","Choropleth","Intensity","SwitcherItemModel","SwitcherItems","SwitcherItem","Switcher","clickedItem","InfowindowModel","SYSTEM_COLUMNS","alternative_names","fields","clearFields","saveFields","fieldCount","restoreFields","whiteList","_setFields","_cloneFields","sortFields","_addField","fieldName","dfd","containsField","addField","getFieldProperty","setFieldProperty","getAlternativeName","setAlternativeName","alternativeName","alternativeNames","getFieldPos","containsAlternativeName","removeField","updateContent","contentForFields","closeInfowindow","render_fields","field","empty_fields","spin_options","click .close","touchstart .close","MSPointerDown .close","MozMousePixelScroll","_compileTemplate","_setTemplate","$jscrollpane","_fieldsToString","pair","actual_height","_checkLoading","_loadCover","isLoadingData","_getModelTemplate","_checkOrigin","come_from_scroll","fields_sanitized","_sanitizeField","alternative_name","_isValidURL","_startSpinner","_stopSpinner","spinner","template_dark","_containsCover","_getCoverURL","$cover","$img","$shadow","coverWidth","coverHeight","coverRatio","calculatedHeight","urlPattern","_stopBubbling","setLoading","setError","_closeInfowindow","showInfowindow","no_pan","isHidden","force","_animateOut","adjustPan","_animateIn","marginBottom","adjustOffset","wait_callback","Header","show_description","hasTitle","hasDescription","_setLinksTarget","reg","slides","slides_controller","SlidesController","transitions","Search","_ZOOM_BY_CATEGORY","building","postal-area","venue","region","country","county","locality","localadmin","neighbourhood","default","click input[type='text']","submit form","searchPin","infowindowTemplate","infowindowWidth","infowindowOffset","iconUrl","_showLoader","_hideLoader","_onSubmit","_destroySearchPin","places","_onResult","validBBox","_isBBoxValid","centerLon","_getZoomByCategory","_createSearchPin","_createPin","_createInfowindow","_bindEvents","_unbindEvents","_destroyPin","_destroyInfowindow","infowindowModel","_searchInfowindow","_searchPin","_toggleSearchInfowindow","infowindowVisibility","LayerSelector","dropdown","Dropdown","dropdown_template","speedIn","speedOut","vertical_position","horizontal_position","vertical_offset","horizontal_offset","_getLayers","_setCount","layerGroupView","getLayerCount","layer_names","layer_name","layerView","_createLayer","layerIndex","_class","_openDropdown","LayerView","_onSwitchSelected","table_name","_onSwitchClick","LayerViewFromLayerGroup","sublayer","getSubLayer","SlidesControllerItem","_onChangeActive","transition_trigger","transition_options","show_counter","click a.next","click a.prev","slidesCount","visualization","_prev","sequence","_next","_renderDots","currentActiveSlide","_onSlideClick","_renderCounter","currentTransition","$counter","slide","MobileLayer","click h3","_onChangeVisible","hide_toggle","show_legends","_truncate","toggle_class","Mobile","click .cartodb-attribution-button","click .toggle","click .fullscreen","click .backdrop","dblclick .aside","dragstart .aside","mousedown .aside","touchstart .aside","MSPointerDown .aside","hasLayerSelector","layersLoading","slides_data","visibility_options","_selectOverlays","doOnOrientationChange","_addWheelEvent","loadingTiles","loader","loadTiles","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","layer_count","_onChangeOpen","_onChangeLayerCount","_onBackdropClick","_onAttributionClick","_toggleFullScreen","requestFullScreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","cancelFullScreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","_open","_initScrollPane","recalc","_getLayersFromLayerView","_getLayer","_toggleSlider","slider","_reInitScrollpane","_bindOrientationChange","onOrientationChange","_renderOverlays","hasSearchOverlay","hasZoomOverlay","hasLoaderOverlay","_addSearch","_addZoom","loaderControl","_addLoader","_addFullscreen","_addHeader","search_visibility","zoom_visibility","loader_visibility","layer_selector_visibility","layer_selector","$scrollpane","TilesLoader","fullscreen","hasFullscreen","hasSearch","hasHeader","$header","title_template","has_header","$hgroup","_addAttributions","$li","_renderLayers","hasLegendOverlay","hasLegends","_renderLayer","hasLegend","_renderTorque","torqueLayer","hasTorque","TimeSlider","pos_margin","toggleTime","_renderSlidesController","slidesController","animationSpeed","isVisible","InfoBox","setTemplate","defaultTemplate","Tooltip","_filter","showing","showhideTimeout","setFilter","setFields","setAlternativeNames","non_valid_keys","omit_columns","_visibility","_showing","mapViewSize","sanitizedOutput","FullScreen","msRequestFullscreen","msExitFullscreen","mapUrl","_canFullScreenBeEnabled","_isInIframe","parentUrl","referrer","createSublayer","_check","_onRemove","new_attrs","def","_unbindInteraction","_bindSignal","signal","signalAlias","_setPosition","sql","getSQL","cartocss","getCartoCSS","cartocss_version","getInteractivity","getAttributes","columns","raster","geom_column","geom_type","raster_band","setSQL","setCartoCSS","setInteractivity","setInteraction","_trimArrayItems","getURLTemplate","setURLTemplate","setSubdomains","setTms","getSubdomains","getTms","getMapId","layergroupid","getLayerIndexByType","metadata","tilerLayerIndex","getLayerIndexesByType","layerIndexes","isValidType","EMPTY_GIF","tilerProtocol","tilerDomain","tilerPort","user_name","createMap","invokeStackedCallbacks","_createMap","visibleLayers","req","_usePOST","_requestPOST","_requestGET","_getParamsFromOptions","api_key","map_key","auth_token","payload","loadingTime","_tilerHost","_requestFinished","compressor","_getCompressor","JSONPendPoint","dynamic_cdn","_host","force_compress","refreshTime","fetchAttributes","layer_index","feature_id","columnNames","_attrCallbackName","_attributesUrl","getLayerIndexByNumber","tokenParams","onLayerDefinitionUpdated","getTiles","_layerGroupTiles","https","isHttps","_encodeParams","gridTemplate","cartodb_url","included","url_params","setSilent","_definitionUpdated","getTileJSON","_tileJSONfromTiles","replaceSubdomain","subhost","cdn_host","has_empty_cdn","no_cdn","_isUserTemplateUrl","number","getLayerNumberByIndex","_isLayerVisible","getTooltipData","tooltip","getInfowindowData","layer_definition","containInfowindow","containTooltip","getSubLayerCount","getSubLayers","layerDefFromSubLayers","_reorderSubLayers","createSubLayer","setAuthToken","not_allowed_attrs","previous_opacity","_interactionDisabled","layerInteraction","interactionClass","_manageOnEvents","_manageOffEvents","query_wrapper","tile_style","_getLayerDefinition","_param","tilesOk","_clearInteraction","_reloadInteraction","_checkTiles","_tileJSON","grid_url","CartoDBLogo","isWadusAdded","els","isRetinaBrowser","addWadus","cartodb_link","is_retina","LeafLetLayerView","layerModel","leafletLayer","leafletMap","setModel","_modelUpdated","reload","LeafLetPlainLayerView","LeafLetTiledLayerView","tmpLayer","stamenSubstitute","nokiaSubstitute","substitutes","roadmap","gray_roadmap","dark_roadmap","hybrid","terrain","satellite","LeafLetGmapsTiledLayerView","substitute","LeafLetWMSLayerView","layerViewClass","hovers","previousEvent","_featureOver","featureOver","_featureOut","featureOut","_featureClick","featureClick","eventTimeout","latlon","pxPos","pixelPos","ok","__update","CartoDBGroupLayerBase","added","addProfiling","tileStats","finish","cartodb_logo","_checkLayer","layer_point","_findPos","event_type","screenPos","curleft","curtop","scrollX","scrollY","_newPoint","LeafLetCartoDBLayerGroupView","LeafLetCartoDBNamedMapView","layer_definition_version","isAdded","LeafLetLayerCartoDBView","PointView","geometryModel","_eventHandlers","_eventHandler","PathView","evtType","_leafletLayers","enableEdit","disableEdit","editing","leaflet","mapConfig","map_object","map_leaflet","_setView","findLayerView","lv","oldLayers","canReused","createGeometry","createLayer","_addLayerToMap","addLayerToMap","pixelToLatLon","_getAttributionControl","_originalAttributions","newAttributions","_attributionControl","setCursor","getNativeMap","layerTypeMap","tiled","carto","plain","gmapsbase","layergroup","namedmap","torque","LeafLetTorqueLayer","layerClass","GMapsLayerView","gmapsLayer","gmapsMap","_searchLayerIndex","isBase","removeAt","setMap","refreshView","setAt","GMapsBaseLayerView","MapTypeId","ROADMAP","HYBRID","SATELLITE","TERRAIN","mapTypeId","DEFAULT_MAP_STYLE","GMapsPlainLayerView","GMapsTiledLayerView","isPng","ImageMapType","tileRange","setImageOpacityIE8","OPACITY_FILTER","CartoDBLayerGroupBase","LayerGroupView","GMapsCartoDBLayerGroupView","finishLoading","Projector","OverlayView","draw","latLngToPixel","getProjection","fromLatLngToContainerPixel","pixelToLatLng","fromContainerPixelToLatLng","CartoDBNamedMap","projector","CartoDBLayerGroup","loadTime","CartoDBLayerGroupGMaps","CartoDBNamedMapGMaps","GMapsCartoDBNamedMapView","CartoDBLayerGMaps","GMapsCartoDBLayerView","raiseOnDrag","crossOnDrag","bindPath","_updateModel","getPaths","setDraggable","getGeoJSON","gType","_coord","_coords","getAt","setEditable","gmaps","stylers","saturation","gamma","featureType","elementType","GMapsTorqueLayerView","_isReady","map_googlemaps","disableDefaultUI","disableDoubleClickZoom","mapTypeControl","tilt","_ready","keyboardShortcuts","isBaseLayer","no_base_layer","cartodb_attribution","draggableCursor","Dialog","click .ok","click .cancel","ok_title","cancel_title","clean_on_hide","enter_to_confirm","ok_button_classes","cancel_button_classes","modal_type","modal_class","include_footer","additionalButtons","_keydown","_reClean","template_base","render_content","_cancel","_ok","appendToBody","cancel","isOpen","_stripHTML","allowed","$0","_truncateTitle","facebook_url","twitter_url","clean_description","twitter_title","full_title","disableLinks","Notification","hideMethod","closeTimeout","Row","TableData","fetched","getCell","columnName","TableProperties","RowView","triggerChange","triggerSync","triggerError","valueView","colName","row","tdIndex","row_header","tds","row_attrs","getTableView","tableView","Table","rowView","click td","dblclick td","dataModel","rowViews","setDataSource","clear_rows","rowsBeingDeleted","rowDestroying","rowDestroyed","emptyTable","headerView","column","dm","_renderRows","addRow","_renderHeader","rowChanged","rowSynched","rowFailed","rowSaving","isEmptyTable","_renderEmpty","_renderLoading","addEmptyTableInfo","_cellClick","evtName","cell","_cellDblClick","click ul li a","_handleClick","$target","targetPos","targetWidth","targetHeight","elementWidth","elementHeight","Overlay","_types","register","creatorFn","widget","Overlays","moduleForLayer","modulesForLayers","kind","moduleLoad","Vis","moduleChecked","checkModules","mods","loadModules","_addLegends","isMobileEnabled","addLegends","createLegendView","_setLayerOptions","sublayer_options","subLayer","timeSlider","_addOverlays","_createOverlays","addTimeSlider","_remove","_setupSublayers","odysseyLoaded","_createSlides","throwError","_applyOptions","has_logo_overlay","isMobileDevice","allowDragging","map_provider","typesAllowed","gmaps_base_type","gmaps_style","bounding_box_sw","bounding_box_ne","overlayModels","updated_at","map_h","div_hack","_addMobile","_addLoading","time_slider","_addTimeSlider","addTooltip","layerData","odyssey","getStep","setAnimationStep","setStep","BackboneActions","actions","Action","enter","PrevTrigger","seq","Trigger","Keys","NextTrigger","WaitAction","ms","Step","Sleep","Sequential","Story","states","mapChanges","to","addState","Parallel","go","vis_data","_addSlideController","isDevice","mobileOverlay","_createLegendView","legendAttrs","legendView","_createLayerLegendView","search_overlay","remove_overlay","_applyLayerOptions","tiles_loader","mobile_layout","force_mobile","searchControl","shareable","center_lat","center_lon","sw_lat","sw_lon","ne_lat","ne_lon","setMapPosition","_getSqlApi","SQL","user","infowindowFields","cartodb_id","template_type","sanitizeTemplate","getOverlays","getOverlay","getOverlaysByType","INFOWINDOW_TEMPLATE","light","triggerEvent","templateName","extraFields","cursorInteraction","viz","addCursorInteraction","removeCursorInteraction","Queue","_methods","_response","_flushed","flush","StaticImage","imageOptions","supported_formats","basemap_url_template","basemap_subdomains","userOptions","temp_id","_getUUID","_onVisLoaded","loadLayerDefinition","_requestLayerGroupID","dataLayer","_getDataLayer","_setupTilerConfiguration","auth_tokens","basemap","ignoreTorqueLayer","namedMap","_getLayerByType","_getBasemapLayer","labelsLayer","_getNamedmapLayerDefinition","_getHTTPLayer","_getLayergroupLayerDefinition","_getTorqueLayerDefinition","_getDefaultBasemapLayer","_getPlainBasemapLayer","_getVisibleLayers","_getUrl","override_bbox","S4","_set","into","HTMLImageElement","response","getUrl","tilesLoader","truncate","facebook_title","mobile_shareable","layerSelector","allowWheelOnFullscreen","infobox","transformToHTTP","tilesTemplate","HTTPS_TO_HTTP","transformToHTTPS","httpsUrl","normalizeOptions","https://dnv9my2eseobd.cloudfront.net/","https://maps.nlp.nokia.com/","https://tile.stamen.com/","https://{s}.maps.nlp.nokia.com/","https://cartocdn_{s}.global.ssl.fastly.net/","https://cartodb-basemaps-{s}.global.ssl.fastly.net/","cartoLayer","_Promise","cartodbUrl","_getLayerJson","MapType","visData","addMobileLayout","DATA_LAYER_TYPES","sql_api_template","completeDomain","array_agg","execute","MAX_LENGTH_GET_QUERY","ext","isGetRequest","reqParams","objPost","rows","maxx","minlat","maxlat","minlon","maxlon","clamp","lon0","lon1","minx","lat0","maxy","miny","_table","_filters","_limit","_order","_orderDir","_name","_columns","_sql","order_by","asc","desc","describeString","normalizeName","normalizedStr","histogram","skew","null_ratio","cnt","hist","distinct","null_count","describeDate","end_time","start_time","moments","describeBoolean","true_ratio","describeGeom","simplifyType","st_multipolygon","st_polygon","st_multilinestring","st_linestring","st_multipoint","st_point","geometry_type","simplified_geometry_type","cluster_rate","clusterrate","density","exclude","describeFloat","cat_hist","freq","stddev","stddevmean","quantiles","equalint","jenks","headtails","dist_type","describe","_callback","createVis","TabPane","tabs","activeTab","activePane","addTab","getPreviousPane","getNextPane","getPane","vid","getActivePane","removeTabs","removeTab","vid_old","deactivated","activated","tab","hsla","Dimension","rgb","rgba","hsl","hue","toHSL","lightness","alpha","saturate","desaturate","lighten","darken","fadein","fadeout","mix","greyscale","%","Quoted","ImageFilter","./tree","readFileSync","bold","inverse","underline","yellow","green","red","grey","Parser","Renderer","tree","RendererJS","default_reference","writeError","extract","filename","callLine","callExtract","../../package.json","./functions","./parser","./renderer","./renderer_js","./torque-reference","./tree/call","./tree/color","./tree/comment","./tree/definition","./tree/dimension","./tree/element","./tree/expression","./tree/field","./tree/filter","./tree/filterset","./tree/fontset","./tree/frame_offset","./tree/imagefilter","./tree/invalid","./tree/keyword","./tree/layer","./tree/literal","./tree/operation","./tree/quoted","./tree/reference","./tree/rule","./tree/ruleset","./tree/selector","./tree/style","./tree/url","./tree/value","./tree/variable","./tree/zoom","_process","fs","3","parsers","env","extractErrorLine","Ruleset","primary","toList","frames","specificity","rule","invalid","Invalid","Comment","entities","quoted","Field","comparison","keyword","Keyword","Call","expression","literal","dimension","keywordcolor","hexcolor","URL","Variable","Reference","entity","Element","attachment","Filterset","FrameOffset","none","segments","conditions","fo","frame_offset","Selector","Filter","isMap","Rule","Expression","Value","multiplication","operand","Operation","addition","rules","cloneWith","addRules","benchmark","warn","symbolizers","toXML","mapnik_version","renderMSS","validation_data","effects","setVersion","timeEnd","StyleXML","appliesTo","ppi","Stylesheet","Layer","LayerXML","inheritDefinitions","sortStyles","./index","CartoCSS","imageURLs","shader","fullName","frame-offset","getSymbolizers","isVariable","constant","getShader","transformGeometry","transformGeometries","parse_env","getDefault","findLayer","_createFn","_compile","shader_src","mapper","getImageURLs","toJS","symbolizer","latest","../carto","filter-mode","default-value","default-meaning","image-filters","comp-op","required","srs","queryable","clear-label-cache","group-by","buffer-size","maximum-extent","paths-from-xml","minimum-version","font-directory","fill-opacity","gamma-method","smooth","geometry-transform","stroke-width","stroke-opacity","stroke-linejoin","stroke-linecap","stroke-gamma","stroke-gamma-method","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","rasterizer","placement","multi-policy","marker-type","allow-overlap","ignore-placement","spacing","max-error","shield","serialization","face-name","unlock-image","avoid-edges","minimum-distance","minimum-padding","wrap-width","wrap-before","wrap-character","halo-fill","halo-radius","character-spacing","line-spacing","shield-dx","shield-dy","text-opacity","horizontal-alignment","vertical-alignment","justify-alignment","line-pattern","polygon-pattern","alignment","filter-factor","scaling","mesh-size","text-ratio","label-position-tolerance","max-char-angle-delta","minimum-path-length","placement-type","placements","-torque-clear-color","-torque-frame-count","-torque-resolution","-torque-animation-duration","-torque-aggregation-function","-torque-time-attribute","-torque-data-aggregation","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellowgreen","2.1.1","mapnikFunctions","editDistance","../tree","operate","toColor","Definition","ruleIndex","updateID","wildcard","symbolizersToXML","requiredProperties","collectSymbolizers","available","filtered","assert","12","physical_units","screen_units","all_units","densities","mm","pt","13","14","15","16","=","!=","<=",">=","=~","17","addable","_val","conflict","18","_getFontSet","_fontMap","FontSet","fonts","19","20","21","chunk","22","true","false","23","Datasource","ranges","24","Literal","25","operands","26","contains_field","27","selector_cache","matrix","skewX","skewY","required_cache","selectorData","validSelector","selectorName","_validateValue","isFont","validValue","mapnik-reference","28","29","_lookups","variables","_variables","rulesets","_rulesets","evZooms","30","31","32","33","34","_css","35","0","36","37","actual","operator","expected","AssertionError","stackStartFunction","isBuffer","isDate","isNullOrUndefined","generatedMessage","captureStackTrace","equal","notEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","util/","38","super_","enumerable","writable","configurable","39","cwd","isAbsolute","sep","delimiter","dirname","basename","extname","40","nextTick","setImmediate","MutationObserver","observe","argv","removeAllListeners","binding","chdir","41","copy","readUInt8","42","seen","stylize","depth","showHidden","_extend","customInspect","inspect","getOwnPropertyNames","toUTCString","getOwnPropertyDescriptor","getHours","getMinutes","getSeconds","getDate","getMonth","deprecate","throwDeprecation","traceDeprecation","trace","process","noDeprecation","debuglog","NODE_DEBUG","pid","italic","boolean","null","date","regexp","isSymbol","isError","isPrimitive","./support/isBuffer","43","existsSync","datasources","44","repository","author","keywords","contributors","licenses","bin","man","main","engines","dependencies","optimist","devDependencies","mocha","jshint","sax","istanbul","coveralls","browserify","uglify-js","pretest","coverage","Animator","running","_tick","_t0","_time","itemsReady","animationDelay","maxDelta","loop","rescale","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","onStart","isRunning","onStop","domainInv","math","animationDuration","rangeInv","onPause","./","_torque_reference_latest","1.0.0","optionsFromLayer","optionsFromCartoCSS","objs","isBrowserSupported","_evt_callbacks","Uint8ClampedArray","Uint32Array","Int16Array","Int32Array","flags","sprites_to_images","CanvasLayer","opt_options","simpleBindShim","thisArg","isAdded_","isAnimated_","paneName_","DEFAULT_PANE_NAME_","updateHandler_","resizeHandler_","topLeft_","centerListener_","resizeListener_","needsResize_","requestAnimationFrameId_","repositionFunction_","repositionCanvas_","resizeFunction_","resize_","requestUpdateFunction_","update_","CSS_TRANSFORM_","transformProps","requestAnimFrame_","oRequestAnimationFrame","cancelAnimFrame_","oCancelAnimationFrame","requestId","setAnimate","paneName","setPane","updateHandler","setUpdateHandler","resizeHandler","setResizeHandler","readyHandler","scheduleUpdate","isAnimated","setPaneName","setPane_","getOpacity","getPaneName","opt_resizeHandler","opt_updateHandler","getMap","parentElement","oldWidth","oldHeight","divTopLeft","fromLatLngToDivPixel","getTopLeft","CanvasTileLayer","canvas_setup","create_tile_canvas","hit_canvas","hit_ctx","tile_id","primitives","recreate","redraw_tile","GMapsTileLoader","_initTileLoader","_projection","_tilesLoading","_updateTiles","_listeners","_removeTileLoader","_removeTiles","_reloadTiles","mzoom","bottomRigth","fromLatLngToPoint","divBottomRight","nwTilePoint","seTilePoint","onTileRemoved","_tileKey","tileData","onTilesLoaded","getTilePos","distanceToCenterSq","onTileAdded","onTilesLoading","./gmaps_tileloader_mixin","./torque","GMapsTorqueLayer","renderer","animator","setKey","play","setDuration","GMapsTiledTorqueLayer","providers","sql_api","url_template","JsonArray","windshaft","renderers","pixel","getSteps","getCanvas","errorCallback","_cacheListener","clearSpriteCache","setShader","setBlendMode","setSteps","setColumn","isTime","getTimeBounds","getKeySpan","getTileData","clearCanvas","setTransform","renderTile","applyFilters","getActivePointsBBox","positions","stepToTime","timeToStep","getValueForPos","xx","yy","TILE_SIZE","getValueFor","getValueForBBox","xf","yf","sum","_y","_x","thisValue","proj","xy","wrappedCoord","setCanvas","accumulate","renderTileAccum","../","./CanvasLayer","./canvas_tile_layer","cartocss_reference","net","./animator","./cartocss_reference","./common","./core","./gmaps","./leaflet","./math","./mercator","./provider","./request","TileLoader","tileLoader","_canvas","_createCanvas","_backCanvas","currentAnimationFrame","back","drawImage","_render","onResize","direct","domPosition","./leaflet_tileloader_mixin","prevRenderedKey","_clearTileCaches","_tileCache","_clearCaches","zoomstart","_pauseOnZoom","_resumeOnZoom","wasRunning","tile_size","getTimeSpan","./canvas_layer","invLinear","_linear","optMin","optMax","degreesToRadians","deg","radiansToDegrees","rad","MercatorProjection","_tileSize","_pixelOrigin","_pixelsPerLonDegree","_pixelsPerLonRadian","_fromLatLonToPoint","siny","_fromPointToLatLon","latRadians","_tilePixelPos","tileX","tileY","tilePixelBBox","px","py","numTiles","tileBBox","bufferSize","latLonToTilePoint","worldCoordinate","pixelCoordinate","tilePixelPos","./json","./jsonarray","./windshaft","_tileQueue","is_time","data_aggregation","cumulative","_fetchKeySpan","_setReady","proccessTile","prof_mem","prof_point_count","prof_process_time","dates","maxDateSlots","dates__uint16","timeIndex","timeCount","renderData","valueDataType","renderDataPos","rowsPerSlot","x__uint8","y__uint8","vals","vals__uint8","valByDate","rr","prev_val","renderDataIndex","timeSlotIndex","slotRows","maxDate","_extraParams","_getTileData","_processQueue","prof_fetch_time","column_conv","columnType","setResolution","refresh","countby","data_steps","_fetchUpdateAt","queryData","last_updated","max_col","min_col","max_tmpl","min_tmpl","cache_policy","sql_stats","min_date","max_date","num_steps","ymin","xmin","ymax","xmax","../profiler","aggregateByKey","getKeys","HEADER_SIZE","valuesCount","rowKeys","decode_row","tileUrl","fetchTime","processed","processingTime","parsingTime","coordinates_data_type","no_fetch_map","_fetchMap","limit_x","corrected_x","templateUrl","column_type","_generateCartoCSS","named","allParams","map_instance_time","torque_key","callbackName","renderPoint","pixel_size","TAU","LINEWIDTH_MIN_VALUE","renderRectangle","fillRect","strokeRect","renderSprite","MAX_SPRITE_RADIUS","./cartocss_render","./point","./rectangle","compop2canvas","compop","COMP_OP_TO_CANVAS","PointRenderer","_sprites","_shader","_icons","_iconsToLoad","Filters","canvasClass","DEFAULT_CARTOCSS","_style","_gradients","_forcePoints","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","_Map","globalCompositeOperation","img_names","_preloadIcons","generateSprite","shaderVars","prof","pointSize","markerFile","qualifiedUrl","_qualifyURL","dWidth","dHeight","canvasSize","mt","_createImage","toDataURL","sprites","fr","fr_sprites","_renderTile","imageClass","_setImageSrc","setImageSrc","qualifyURL","blendMode","blendmode","tileMax","activePixels","pixelIndex","posIdx","sp","mercator","res2","qualifiedImageUrlSet","imgNamesMap","imgName","qualifiedImageUrl","gradientKey","imf","rgbToHex","gradient","colorize","increment","formattedColor","./torque_filters","RectanbleRenderer","_cartoCssStyle","s2","_colors","polygon_alpha","activepixels","torque_filters","_width","_height","_max","defaultGradient","0.4","0.6","0.7","0.8","grad","createLinearGradient","addColorStop","_grad","getImageData","colored","_colorize","putImageData","pixels","timeoutTimer","fnName","respond","responseType","lastCall","XDomainRequest","onprogress","post","_getQuery","qw","DEFAULT_OFFSET_TOP","click .button","click .time","_bindLayer","_unbindLayer","_initSlider","updateSlider","updateTime","updateSliderRange","toggleButton","tb","force_format_date","formatterForRange","getYear","toUSDateStr","getFullYear","toTimeStr","toDateRange","stepStartTimeMS","stepDurationMS","stepEndTime","months","ONE_DAY","THREE_DAYS","ONE_YEAR","_slide","_start","_stop","_onClickTime","focusable","isTabIndexNotNaN","mapName","ALT","BACKSPACE","CAPS_LOCK","COMMA","COMMAND","COMMAND_LEFT","COMMAND_RIGHT","CONTROL","DELETE","DOWN","ENTER","HOME","INSERT","LEFT","MENU","NUMPAD_ADD","NUMPAD_DECIMAL","NUMPAD_DIVIDE","NUMPAD_ENTER","NUMPAD_MULTIPLY","NUMPAD_SUBTRACT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SHIFT","SPACE","TAB","UP","WINDOWS","propAttr","_focus","scrollParent","disableSelection","selectstart","enableSelection","side","createPseudo","dataName","tabbable","isTabIndexNaN","minHeight","borderWidth","plugin","plugins","hasScroll","scroll","isOverAxis","reference","isOver","_cleanData","elems","keepData","Widget","_createWidget","basePrototype","widgetName","widgetEventPrefix","widgetBaseClass","bridge","isMethodCall","methodValue","_init","_getCreateOptions","_create","_trigger","_setOptions","_setOption","mouseHandled","mouseup","_mouseInit","_mouseDown","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseStarted","_mouseUp","_mouseDownEvent","btnIsLeft","elIsCancel","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","_mouseMove","_mouseDrag","_mouseStop","mouse","_touchStart","_touchMoved","_touchMove","_touchEnd","numPages","existingHandles","handleCount","handles","_keySliding","_mouseSliding","_animateOff","_handleIndex","_detectOrientation","_valueMin","keydown","curVal","newVal","_valueMax","_trimAlignValue","keyup","_change","_refreshValue","normValue","closestHandle","mouseOverHandle","elementSize","elementOffset","_normValueFromMouse","thisDistance","_clickOffset","pixelTotal","pixelMouse","percentMouse","valueTotal","valueMouse","uiHash","otherVal","newValues","_value","_values","valsLength","valModStep","alignValue","valPercent","lastValPercent","valueMin","valueMax","oRange","admin","dashboard","forms","setUrlVersion","modelName","urlVersion","defaultVersion","prefixUrl","prefixUrlPathname","getMapsResourceName","i18n","originalSync","absoluteUrl","surrogateKeys","cachedSync","invalidateSurrogateKeys","currentSync","withCORS","surrogateKey","session","user_data","namespaceKey","_keys","localStorage","getItem","setItem","removeItem","cached","cachedValue","syncAbort","_xhr","delayedSaveSync","dsync","saveAbort","_saving"],"mappings":";AAEA,QAASA,IAAGC,GACV,MAAOA,ICAT,WACE,GAAIC,QACAC,KAAOC,KASPC,QACFC,OAAQH,KAAKG,OACbC,EAAGJ,KAAKI,EACRC,EAAGL,KAAKK,EACRC,SAAUN,KAAKM,SACfC,SAAUP,KAAKO,SACfC,EAAGR,KAAKQ,IAKZ,SAAUC,EAAEC,GAAG,QAASC,GAAGF,GAAG,MAAOG,GAAEC,SAASJ,GAAGA,EAAe,IAAbA,EAAEK,WAAaL,EAAEM,aAAaN,EAAEO,cAAgB,QAASC,GAAGR,GAAG,IAAIS,GAAGT,GAAG,CAAC,GAAIC,GAAES,EAAEC,KAAKC,EAAET,EAAE,IAAIH,EAAE,KAAKa,SAASZ,GAAGa,EAAEF,EAAEG,IAAI,UAAWH,GAAEI,SAAgB,SAAJF,GAAgB,KAAJA,IAAQG,KAAKA,GAAGP,EAAEQ,cAAc,UAAUD,GAAGE,YAAYF,GAAGG,MAAMH,GAAGI,OAAO,GAAGpB,EAAEqB,YAAYL,IAAQM,IAAKN,GAAGC,gBAAcK,IAAIN,GAAGO,eAAeP,GAAGQ,iBAAiBC,SAASH,GAAGI,OAAOxB,EAAEyB,QAAQC,SAAS,kBAAkB,IAAI,gBAAgBN,GAAGO,SAAQlB,EAAEW,GAAGL,cAAclB,GAAGuB,GAAGZ,KAAKW,YAAYV,GAAGE,EAAEX,EAAEY,IAAIH,EAAE,WAAWX,EAAE8B,YAAYd,KAAIR,GAAGT,GAAGc,EAAE,MAAOL,IAAGT,GAAG,QAASgC,GAAGhC,EAAEC,GAAG,GAAIS,KAAqE,OAAhEP,GAAE8B,KAAKC,GAAGC,OAAOC,SAASF,GAAGG,MAAM,EAAEpC,IAAI,WAAWS,EAAElB,MAAMQ,IAAWU,EAAE,QAAS4B,KAAKC,GAAGtC,EAAE,QAASuC,KAAsB,MAAjBC,YAAWH,EAAG,GAAUC,GAAGpC,EAAEuC,MAAM,QAASC,KAAK,IAAI,MAAO,IAAI3C,GAAE4C,cAAc,qBAAqB,MAAM3C,KAAK,QAAS4C,KAAK,IAAI,MAAO,IAAI7C,GAAE8C,eAAe,MAAM7C,KAAK,QAAS8C,GAAG/C,EAAEU,GAAGV,EAAEgD,aAAatC,EAAEV,EAAEgD,WAAWtC,EAAEV,EAAEiD,UAAW,IAAuBC,GAAEC,EAAaC,EAASC,EAAEC,EAAEC,EAAEC,EAAEC,EAAnD7C,EAAEZ,EAAE0D,UAAU5C,KAAS6C,EAAE/C,EAAEgD,OAASC,EAAEjD,EAAE,EAAa,KAAIsC,EAAE,EAAEA,EAAES,EAAET,IAAI,CAAC,GAAO,IAAJA,EAAM,IAAIC,IAAKnD,GAAE8D,WAAqB,gBAAHX,KAAcrC,EAAEqC,EAAEY,eAAe/D,EAAE8D,WAAWX,GAAe,IAAXE,EAAEQ,EAAEA,EAAEjD,EAAEsC,GAAU,MAAJW,EAAQA,EAAER,MAAO,IAAO,MAAJA,GAASA,IAAIQ,EAAE,CAA6B,GAA5BP,EAAED,EAAE,IAAIQ,EAAEN,EAAEzC,EAAEwC,IAAIxC,EAAE,KAAK+C,IAAON,EAAE,CAACE,EAAExD,CAAE,KAAIuD,IAAK1C,GAAkB,GAAfsC,EAAEI,EAAEQ,MAAM,MAAQZ,EAAE,KAAKC,GAAU,MAAPD,EAAE,MAAUK,EAAE3C,EAAEsC,EAAE,GAAG,IAAIS,IAAQ,CAACL,EAAE1C,EAAE0C,GAAGA,KAAI,EAAGD,EAAEE,EAAEA,KAAI,IAAKF,EAAEC,EAAG,SAAUD,IAAIE,GAAGtD,EAAE8D,MAAM,sBAAsBX,EAAEY,QAAQ,IAAI,SAASX,KAAI,IAAK7C,EAAE6C,EAAEA,EAAE7C,GAAG+C,EAAED,EAAE9C,MAAM,MAAOA,GAAE,QAASyD,GAAGnE,EAAEU,EAAEE,GAAG,GAAkDuC,GAAEQ,EAAEP,EAAES,EAApD/C,EAAEd,EAAEoE,SAASjE,EAAEH,EAAE0D,UAAUR,EAAElD,EAAEqE,cAAuB,KAAIV,IAAKT,GAAES,IAAK/C,KAAIF,EAAEwC,EAAES,IAAI/C,EAAE+C,GAAI,MAAa,MAAPxD,EAAE,IAASA,EAAEmE,QAAQnB,IAAIlD,IAAIkD,EAAEnD,EAAEuE,UAAU7D,EAAE8D,kBAAkB,gBAAiB,IAAGrB,EAAE,IAAIQ,IAAK7C,GAAE,GAAGA,EAAE6C,IAAI7C,EAAE6C,GAAGc,KAAKtB,GAAG,CAAChD,EAAEuE,QAAQf,EAAG,OAAM,GAAGxD,EAAE,IAAKS,GAAEwC,EAAEjD,EAAE,OAAO,CAAC,IAAIwD,IAAK/C,GAAE,CAAC,IAAIT,EAAE,IAAIH,EAAE8D,WAAWH,EAAE,IAAIxD,EAAE,IAAI,CAACiD,EAAEO,CAAE,OAAME,IAAIA,EAAEF,GAAGP,EAAEA,GAAGS,EAAE,GAAGT,EAA0B,MAAvBA,KAAIjD,EAAE,IAAIA,EAAEuE,QAAQtB,GAAUxC,EAAEwC,GAAI,QAASuB,GAAG3E,EAAEC,EAAES,EAAEE,GAAG,GAAGT,EAAEyE,QAAQ3E,GAAGE,EAAE8B,KAAKhC,EAAE,SAASA,EAAEa,GAAGJ,GAAGmE,GAAGJ,KAAKzE,GAAGY,EAAEZ,EAAEc,GAAG6D,EAAG3E,EAAE,KAAe,gBAAHc,GAAYb,EAAE,IAAI,IAAIa,EAAEJ,EAAEE,SAAU,IAAIF,GAAe,WAAZP,EAAE2E,KAAK7E,GAA2DW,EAAEZ,EAAEC,OAAjD,KAAI,GAAIa,KAAKb,GAAE0E,EAAG3E,EAAE,IAAIc,EAAE,IAAIb,EAAEa,GAAGJ,EAAEE,GAAe,QAASmE,GAAG/E,EAAEU,GAAG,GAAIE,GAAEE,EAAEoC,EAAE/C,EAAE6E,aAAaC,eAAgB,KAAIrE,IAAKF,GAAEA,EAAEE,KAAKX,KAAKiD,EAAEtC,GAAGZ,EAAEc,IAAIA,OAAOF,GAAGF,EAAEE,GAAIE,IAAGX,EAAE+E,QAAO,EAAGlF,EAAEc,GAAG,QAASqE,GAAGnF,EAAEU,EAAEE,EAAEE,EAAEX,EAAE+C,GAAG/C,EAAEA,GAAGO,EAAEgD,UAAU,GAAGR,EAAEA,MAAMA,EAAE/C,IAAG,CAA4C,KAAzC,GAAuCkD,GAAnCF,EAAEnD,EAAEG,GAAGwD,EAAE,EAAEP,EAAED,EAAEA,EAAES,OAAO,EAAEC,EAAE7D,IAAIoF,GAAUzB,EAAEP,IAAIS,IAAIR,GAAGM,IAAIN,EAAEF,EAAEQ,GAAGjD,EAAEE,EAAEE,GAAa,gBAAHuC,MAAeQ,GAAGX,EAAEG,GAAGA,EAAEpD,GAAGS,EAAEgD,UAAUgB,QAAQrB,GAAGA,EAAE8B,EAAGnF,EAAEU,EAAEE,EAAEE,EAAEuC,EAAEH,IAA6C,QAAvCW,IAAIR,KAAKH,EAAE,OAAOG,EAAE8B,EAAGnF,EAAEU,EAAEE,EAAEE,EAAE,IAAIoC,IAAWG,EAAE,QAASgC,GAAGrF,GAAG,MAAO,UAASC,EAAES,GAAmC,GAAtB,gBAAHT,KAAcS,EAAET,EAAEA,EAAE,KAAQE,EAAEmF,WAAW5E,GAAyD,IAArD,GAA+CyC,GAAEQ,EAAEP,EAA/CxC,EAAEX,EAAE8D,cAAcC,MAAMuB,IAAIzE,EAAE,EAAEoC,EAAEtC,EAAEgD,OAAkB9C,EAAEoC,EAAEpC,IAAIqC,EAAEvC,EAAEE,GAAGsC,EAAE,MAAMqB,KAAKtB,GAAGC,IAAID,EAAEA,EAAEqC,OAAO,IAAI,KAAK7B,EAAE3D,EAAEmD,GAAGnD,EAAEmD,OAAOQ,EAAEP,EAAE,UAAU,QAAQ1C,IAAK,QAAS+E,GAAGzF,EAAEC,EAAES,GAAG,GAAIE,GAAM,UAAJX,EAAYD,EAAE0F,YAAY1F,EAAE2F,aAAa7E,EAAM,UAAJb,EAAY,EAAE,EAAEiD,EAAE,CAAE,IAAGtC,EAAE,EAAE,CAAC,GAAO,WAAJF,EAAa,KAAKI,EAAEoC,EAAEpC,GAAG,EAAEJ,IAAIE,GAAGgF,WAAWzF,EAAEY,IAAIf,EAAE,UAAU6F,GAAG/E,MAAM,GAAO,WAAJJ,EAAaE,GAAGgF,WAAWzF,EAAEY,IAAIf,EAAEU,EAAEmF,GAAG/E,MAAM,EAAEF,GAAGgF,WAAWzF,EAAEY,IAAIf,EAAE,SAAS6F,GAAG/E,GAAG,WAAW,CAAE,OAAOF,GAAE,KAA4C,GAAvCA,EAAEkF,GAAG9F,EAAEC,IAAMW,EAAE,GAAM,MAAHA,KAAQA,EAAEZ,EAAE+F,MAAM9F,IAAM+F,GAAGvB,KAAK7D,GAAG,MAAOA,EAAqB,IAAnBA,EAAEgF,WAAWhF,IAAI,EAAKF,EAAE,KAAKI,EAAEoC,EAAEpC,GAAG,EAAEF,GAAGgF,WAAWzF,EAAEY,IAAIf,EAAE,UAAU6F,GAAG/E,MAAM,EAAM,YAAJJ,IAAgBE,GAAGgF,WAAWzF,EAAEY,IAAIf,EAAE,SAAS6F,GAAG/E,GAAG,WAAW,GAAO,WAAJJ,IAAeE,GAAGgF,WAAWzF,EAAEY,IAAIf,EAAEU,EAAEmF,GAAG/E,MAAM,EAAG,OAAOF,GAAE,KAAK,QAASqF,GAAGjG,GAAG,GAAIC,GAAES,EAAEQ,cAAc,MAAiD,OAA1CgF,IAAG5E,YAAYrB,GAAGA,EAAEkG,UAAUnG,EAAEoG,UAAiBnG,EAAEoG,WAAW,QAASC,GAAGtG,GAAG,GAAIC,IAAGD,EAAEuG,UAAU,IAAIxC,aAAkB,WAAJ9D,EAAYuG,EAAGxG,GAAO,WAAJC,GAA6C,mBAAxBD,GAAEyG,sBAAmCtG,EAAEuG,KAAK1G,EAAEyG,qBAAqB,SAASD,GAAI,QAASA,GAAGxG,GAAe,aAATA,EAAE8E,MAA4B,UAAT9E,EAAE8E,OAAe9E,EAAE2G,eAAe3G,EAAE4G,SAAQ,QAASC,GAAG7G,GAAG,MAAsC,mBAAxBA,GAAEyG,qBAAkCzG,EAAEyG,qBAAqB,KAAgC,mBAApBzG,GAAE8G,iBAA8B9G,EAAE8G,iBAAiB,QAAQ,QAASC,GAAG/G,EAAEC,GAAG,GAAIS,EAAe,KAAbT,EAAEI,WAAeJ,EAAE+G,iBAAiB/G,EAAE+G,kBAAkB/G,EAAEgH,iBAAiBhH,EAAEgH,gBAAgBjH,GAAGU,EAAET,EAAEsG,SAASxC,cAAkB,WAAJrD,EAAaT,EAAEmG,UAAUpG,EAAEoG,UAAc,UAAJ1F,GAAsB,aAATV,EAAE8E,MAA4B,UAAT9E,EAAE8E,KAAmB,WAAJpE,EAAaT,EAAEiH,SAASlH,EAAEmH,gBAAoB,UAAJzG,GAAiB,aAAJA,EAAeT,EAAEmH,aAAapH,EAAEoH,aAAiB,WAAJ1G,GAAcT,EAAEoH,OAAOrH,EAAEqH,OAAOpH,EAAEoH,KAAKrH,EAAEqH,OAAOrH,EAAE4G,UAAU3G,EAAE0G,eAAe1G,EAAE2G,QAAQ5G,EAAE4G,SAAS3G,EAAEqH,QAAQtH,EAAEsH,QAAQrH,EAAEqH,MAAMtH,EAAEsH,QAAQrH,EAAEsH,gBAAgBpH,EAAEqH,SAASvH,EAAEsH,gBAAgB,oBAAoBtH,EAAEsH,gBAAgB,qBAAqB,QAASE,GAAGzH,EAAEC,GAAG,GAAgB,IAAbA,EAAEI,UAAgBF,EAAEuH,QAAQ1H,GAAG,CAAC,GAAIU,GAAEE,EAAEE,EAAEoC,EAAE/C,EAAEwH,MAAM3H,GAAGmD,EAAEhD,EAAEwH,MAAM1H,EAAEiD,GAAGS,EAAET,EAAE0E,MAAO,IAAGjE,EAAE,OAAQR,GAAE0E,OAAO1E,EAAEyE,SAAU,KAAIlH,IAAKiD,GAAE,IAAI/C,EAAE,EAAEE,EAAE6C,EAAEjD,GAAGkD,OAAOhD,EAAEE,EAAEF,IAAIT,EAAE2H,MAAMC,IAAI9H,EAAES,EAAEiD,EAAEjD,GAAGE,IAAIuC,EAAE6E,OAAO7E,EAAE6E,KAAK7H,EAAE+E,UAAU/B,EAAE6E,QAAQ,QAASC,GAAGjI,EAAEC,GAAG,MAAOE,GAAEoG,SAASvG,EAAE,SAASA,EAAEyG,qBAAqB,SAAS,IAAIzG,EAAEsB,YAAYtB,EAAEkI,cAAchH,cAAc,UAAUlB,EAAE,QAASmI,GAAEnI,GAAG,GAAIC,GAAEmI,GAAEpE,MAAM,KAAKtD,EAAEV,EAAEqI,wBAAyB,IAAG3H,EAAEQ,cAAc,KAAMjB,EAAE2D,QAAOlD,EAAEQ,cAAcjB,EAAEqI,MAAO,OAAO5H,GAAE,QAAS6H,GAAEvI,EAAEC,EAAES,GAAU,GAAPT,EAAEA,GAAG,EAAKE,EAAEmF,WAAWrF,GAAG,MAAOE,GAAEuG,KAAK1G,EAAE,SAASA,EAAEY,GAAG,GAAIE,KAAIb,EAAEuI,KAAKxI,EAAEY,EAAEZ,EAAG,OAAOc,KAAIJ,GAAI,IAAGT,EAAEI,SAAS,MAAOF,GAAEuG,KAAK1G,EAAE,SAASA,EAAEY,GAAG,MAAOZ,KAAIC,IAAIS,GAAI,IAAa,gBAAHT,GAAY,CAAC,GAAIW,GAAET,EAAEuG,KAAK1G,EAAE,SAASA,GAAG,MAAoB,KAAbA,EAAEK,UAAe,IAAGoI,GAAEhE,KAAKxE,GAAG,MAAOE,GAAEuI,OAAOzI,EAAEW,GAAGF,EAAGT,GAAEE,EAAEuI,OAAOzI,EAAEW,GAAG,MAAOT,GAAEuG,KAAK1G,EAAE,SAASA,EAAEY,GAAG,MAAOT,GAAEwI,QAAQ3I,EAAEC,IAAI,IAAIS,IAAI,QAASkI,GAAE5I,GAAG,OAAOA,IAAIA,EAAE6I,YAAoC,KAAxB7I,EAAE6I,WAAWxI,SAAc,QAASyI,KAAI,OAAM,EAAG,QAASC,KAAI,OAAM,EAAG,QAASxF,GAAEvD,EAAEC,EAAES,GAAG,GAAIE,GAAEX,EAAE,QAAQa,EAAEb,EAAE,QAAQiD,EAAEjD,EAAE,OAAOkD,EAAEhD,EAAEwH,MAAM3H,EAAEY,EAAGuC,KAAQ,UAAJzC,IAAcP,EAAEwH,MAAM3H,EAAEc,MAAU,SAAJJ,IAAaP,EAAEwH,MAAM3H,EAAEkD,KAAKT,WAAW,YAAYtC,EAAEwH,MAAM3H,EAAEc,KAAKX,EAAEwH,MAAM3H,EAAEkD,KAAK/C,EAAE6I,WAAWhJ,EAAEY,GAAE,GAAIuC,EAAE8F,SAAS,GAAG,QAAS3F,GAAEtD,GAAG,IAAI,GAAIC,KAAKD,GAAG,IAAO,SAAJC,IAAYE,EAAE+I,cAAclJ,EAAEC,MAAoB,WAAJA,EAAa,OAAM,CAAG,QAAM,EAAG,QAASoD,GAAErD,EAAEU,EAAEE,GAAG,GAAGA,IAAIX,GAAgB,IAAbD,EAAEK,SAAa,CAAC,GAAIS,GAAE,QAAQJ,EAAEwD,QAAQL,EAAE,OAAOE,aAAkC,IAApBnD,EAAEZ,EAAEmJ,aAAarI,GAAgB,gBAAHF,GAAY,CAAC,IAAIA,EAAM,SAAJA,GAAkB,UAAJA,IAAmB,SAAJA,EAAW,KAAKT,EAAEiJ,UAAUxI,IAAIA,EAAEwC,EAAEqB,KAAK7D,GAAGT,EAAEkJ,UAAUzI,GAAGA,GAAE,MAAMsC,IAAI/C,EAAE6H,KAAKhI,EAAEU,EAAEE,OAAQA,GAAEX,EAAE,MAAOW,GAAE,QAASuC,GAAEnD,GAAG,GAAcU,GAAEE,EAAZX,EAAEiD,EAAElD,KAA2B,KAAjBA,EAAEA,EAAEgE,MAAM,OAAWtD,EAAE,EAAEE,EAAEZ,EAAE4D,OAAOlD,EAAEE,EAAEF,IAAIT,EAAED,EAAEU,KAAI,CAAG,OAAOT,GAAE,GAAIS,GAAEV,EAAE0B,SAASd,EAAEZ,EAAEsJ,UAAUxI,EAAEd,EAAEuJ,SAASpJ,EAAE,WAAW,QAAS4I,KAAI,IAAIjI,EAAE0I,QAAQ,CAAC,IAAI9I,EAAE+I,gBAAgBC,SAAS,QAAQ,MAAM1J,GAAmB,WAAhByC,YAAWsG,EAAE,GAAUjI,EAAE6I,SAAS,GAAkExG,GAA+cyG,EAAEC,EAAEC,EAAjhBhJ,EAAE,SAASd,EAAEC,GAAG,MAAO,IAAIa,GAAEiJ,GAAGC,KAAKhK,EAAEC,EAAEkD,IAAIhD,EAAEH,EAAEN,OAAOwD,EAAElD,EAAEL,EAAIgE,EAAE,2CAA2CP,EAAE,KAAKS,EAAE,OAAOR,EAAE,OAAOC,EAAE,6BAA6BC,EAAE,gBAAgBC,EAAE,sCAAsCC,EAAE,mEAAmEwG,EAAE,uBAAuBC,EAAE,wBAAwB7K,EAAE,qCAAqC8K,EAAE,kBAAkBC,EAAE,gCAAgCC,EAAE,mBAAmBC,EAAE,QAAQC,EAAE,SAASvK,EAAEC,GAAG,OAAOA,EAAE,IAAIuK,eAAeC,EAAE7J,EAAE8J,UAAgBC,EAAEC,OAAOC,UAAUC,SAASC,EAAEH,OAAOC,UAAUG,eAAeC,EAAEC,MAAML,UAAUM,KAAKC,EAAEF,MAAML,UAAUxI,MAAMgJ,EAAEC,OAAOT,UAAUU,KAAKC,EAAEN,MAAML,UAAUY,QAAQC,IAAg5O,OAA34O5K,GAAEiJ,GAAGjJ,EAAE+J,WAAWc,YAAY7K,EAAEkJ,KAAK,SAAShK,EAAEY,EAAET,GAAG,GAAI+C,GAAEC,EAAEC,EAAES,CAAE,KAAI7D,EAAE,MAAOR,KAAK,IAAGQ,EAAEK,SAA+C,MAArCb,MAAKoM,QAAQpM,KAAK,GAAGQ,EAAER,KAAKoE,OAAO,EAASpE,IAAK,IAAO,SAAJQ,IAAaY,GAAGF,EAAEC,KAAkE,MAA5DnB,MAAKoM,QAAQlL,EAAElB,KAAK,GAAGkB,EAAEC,KAAKnB,KAAKqM,SAAS7L,EAAER,KAAKoE,OAAO,EAASpE,IAAK,IAAa,gBAAHQ,GAAY,CAAuF,GAA5BkD,EAA5C,MAAdlD,EAAE8L,OAAO,IAAiC,MAAvB9L,EAAE8L,OAAO9L,EAAE4D,OAAO,IAAU5D,EAAE4D,OAAO,EAAID,EAAEoI,KAAK/L,IAAM,KAAKA,EAAE,MAASkD,IAAIA,EAAE,KAAKtC,GAAG,CAAC,GAAGsC,EAAE,GAA6P,MAAzPtC,GAAEA,YAAaE,GAAEF,EAAE,GAAGA,EAAEiD,EAAEjD,EAAEA,EAAEsH,eAAetH,EAAEF,EAAE0C,EAAEE,EAAEyI,KAAK/L,GAAGoD,EAAEtC,EAAEkL,cAAcpL,IAAIZ,GAAGU,EAAEQ,cAAckC,EAAE,KAAKtC,EAAEiJ,GAAGkC,KAAKzD,KAAKxI,EAAEY,GAAE,IAAKZ,GAAG6D,EAAE3C,cAAckC,EAAE,MAAMA,EAAEtC,EAAEoL,eAAehJ,EAAE,KAAKW,IAAI7D,GAAGoD,EAAE+I,UAAUrL,EAAEsL,MAAMhJ,EAAEiJ,UAAUjJ,EAAEiJ,UAAUC,YAAmBxL,EAAEyL,MAAM/M,KAAKQ,EAA4B,IAAzBmD,EAAEzC,EAAE8L,eAAetJ,EAAE,IAAOC,GAAGA,EAAE0F,WAAW,CAAC,GAAG1F,EAAEsJ,KAAKvJ,EAAE,GAAG,MAAO/C,GAAEuM,KAAK1M,EAAGR,MAAKoE,OAAO,EAAEpE,KAAK,GAAG2D,EAAiC,MAA/B3D,MAAKoM,QAAQlL,EAAElB,KAAKqM,SAAS7L,EAASR,KAAK,OAAOoB,GAAGA,EAAE+L,QAAQ/L,GAAGT,GAAGuM,KAAK1M,GAAGR,KAAKmM,YAAY/K,GAAG8L,KAAK1M,GAAG,MAAGc,GAAEwE,WAAWtF,GAAUG,EAAEwJ,MAAM3J,IAAGA,EAAE6L,WAAW5L,IAAIT,KAAKqM,SAAS7L,EAAE6L,SAASrM,KAAKoM,QAAQ5L,EAAE4L,SAAgB9K,EAAE8L,UAAU5M,EAAER,QAAOqM,SAAS,GAAGc,OAAO,QAAQ/I,OAAO,EAAEiJ,KAAK,WAAW,MAAOrN,MAAKoE,QAAQkJ,QAAQ,WAAW,MAAO1B,GAAE5C,KAAKhJ,KAAK,IAAIuN,IAAI,SAAS/M,GAAG,MAAU,OAAHA,EAAQR,KAAKsN,UAAU9M,EAAE,EAAER,KAAKA,KAAKoE,OAAO5D,GAAGR,KAAKQ,IAAIgN,UAAU,SAAShN,EAAEC,EAAES,GAAG,GAAIE,GAAEpB,KAAKmM,aAAyM,OAA3L7K,GAAE8D,QAAQ5E,GAAGiL,EAAE7I,MAAMxB,EAAEZ,GAAGc,EAAEyL,MAAM3L,EAAEZ,GAAGY,EAAEqM,WAAWzN,KAAKoB,EAAEgL,QAAQpM,KAAKoM,QAAY,SAAJ3L,EAAWW,EAAEiL,SAASrM,KAAKqM,UAAUrM,KAAKqM,SAAS,IAAI,IAAInL,EAAET,IAAIW,EAAEiL,SAASrM,KAAKqM,SAAS,IAAI5L,EAAE,IAAIS,EAAE,KAAYE,GAAGqB,KAAK,SAASjC,EAAEC,GAAG,MAAOa,GAAEmB,KAAKzC,KAAKQ,EAAEC,IAAI0J,MAAM,SAAS3J,GAA0B,MAAvBc,GAAEoM,YAAYrD,EAAE9B,IAAI/H,GAAUR,MAAM2N,GAAG,SAASnN,GAAQ,MAALA,IAAGA,EAASA,KAAI,EAAGR,KAAK6C,MAAMrC,GAAGR,KAAK6C,MAAMrC,EAAEA,EAAE,IAAIoN,MAAM,WAAW,MAAO5N,MAAK2N,GAAG,IAAIE,KAAK,WAAW,MAAO7N,MAAK2N,IAAG,IAAK9K,MAAM,WAAW,MAAO7C,MAAKwN,UAAU5B,EAAEhJ,MAAM5C,KAAK8N,WAAW,QAAQlC,EAAE5C,KAAK8E,WAAWC,KAAK,OAAOC,IAAI,SAASxN,GAAG,MAAOR,MAAKwN,UAAUlM,EAAE0M,IAAIhO,KAAK,SAASS,EAAES,GAAG,MAAOV,GAAEwI,KAAKvI,EAAES,EAAET,OAAOwN,IAAI,WAAW,MAAOjO,MAAKyN,YAAYzN,KAAKmM,YAAY,OAAOR,KAAKF,EAAEyC,QAAQA,KAAKC,UAAUA,QAAQ7M,EAAEiJ,GAAGC,KAAKa,UAAU/J,EAAEiJ,GAAGjJ,EAAEoE,OAAOpE,EAAEiJ,GAAG7E,OAAO,WAAW,GAAIlF,GAAEU,EAAEE,EAAET,EAAE+C,EAAEC,EAAEQ,EAAE2J,UAAU,OAAOlK,EAAE,EAAES,EAAEyJ,UAAU1J,OAAOP,GAAE,CAAsH,KAAzG,iBAAHM,KAAeN,EAAEM,EAAEA,EAAE2J,UAAU,OAAOlK,EAAE,GAAa,gBAAHO,KAAc7C,EAAEwE,WAAW3B,KAAKA,MAAME,IAAIT,IAAIO,EAAEnE,OAAO4D,GAAQA,EAAES,EAAET,IAAI,GAAqB,OAAjBpD,EAAEsN,UAAUlK,IAAU,IAAI1C,IAAKV,GAAGY,EAAE+C,EAAEjD,GAAGP,EAAEH,EAAEU,GAAMiD,IAAIxD,IAAWkD,GAAGlD,IAAIW,EAAEkL,cAAc7L,KAAK+C,EAAEpC,EAAE8D,QAAQzE,MAAM+C,GAAGA,GAAE,EAAGC,EAAEvC,GAAGE,EAAE8D,QAAQhE,GAAGA,MAAMuC,EAAEvC,GAAGE,EAAEkL,cAAcpL,GAAGA,KAAK+C,EAAEjD,GAAGI,EAAEoE,OAAO7B,EAAEF,EAAEhD,IAAIA,IAAIF,IAAI0D,EAAEjD,GAAGP,GAAG,OAAOwD,IAAG7C,EAAEoE,QAAQ0I,WAAW,SAAS3N,GAAkD,MAA/CD,GAAEL,IAAImB,IAAId,EAAEL,EAAEuD,GAAGjD,GAAGD,EAAEN,SAASoB,IAAId,EAAEN,OAAOS,GAAUW,GAAG0I,SAAQ,EAAGqE,UAAU,EAAEC,UAAU,SAAS9N,GAAGA,EAAEc,EAAE+M,YAAY/M,EAAE6I,OAAM,IAAKA,MAAM,SAAS3J,GAAG,GAAGA,KAAI,MAAOc,EAAE+M,WAAW7N,KAAI,IAAKc,EAAE0I,QAAQ,CAAC,IAAI9I,EAAEC,KAAK,MAAO8B,YAAW3B,EAAE6I,MAAM,EAAgB,IAAb7I,EAAE0I,SAAQ,EAAMxJ,KAAI,KAAMc,EAAE+M,UAAU,EAAE,MAAOhE,GAAEkE,SAASrN,GAAGI,IAAIA,EAAEiJ,GAAGiE,SAASlN,EAAEJ,GAAGsN,QAAQ,SAASC,IAAI,WAAWf,UAAU,WAAW,IAAIrD,EAAE,CAA8B,GAA7BA,EAAE/I,EAAEoN,UAAU,eAAiC,aAAfxN,EAAEyN,WAAwB,MAAO1L,YAAW3B,EAAE6I,MAAM,EAAG,IAAGjJ,EAAE0N,iBAAiB1N,EAAE0N,iBAAiB,mBAAmBtE,GAAE,GAAI9J,EAAEoO,iBAAiB,OAAOtN,EAAE6I,OAAM,OAAS,IAAGjJ,EAAE2N,YAAY,CAAC3N,EAAE2N,YAAY,qBAAqBvE,GAAG9J,EAAEqO,YAAY,SAASvN,EAAE6I,MAAO,IAAI1J,IAAE,CAAG,KAAIA,EAAkB,MAAhBD,EAAEsO,aAAmB,MAAM1N,IAAIF,EAAE+I,gBAAgBC,UAAUzJ,GAAG8I,OAAOzD,WAAW,SAAStF,GAAG,MAAmB,aAAZc,EAAEgE,KAAK9E,IAAiB4E,QAAQsG,MAAMtG,SAAS,SAAS5E,GAAG,MAAmB,UAAZc,EAAEgE,KAAK9E,IAAcI,SAAS,SAASJ,GAAG,MAAU,OAAHA,GAASA,GAAGA,EAAEuO,QAAQnF,UAAU,SAASpJ,GAAG,OAAOwO,MAAM5I,WAAW5F,KAAKyO,SAASzO,IAAI8E,KAAK,SAAS9E,GAAG,MAAU,OAAHA,EAAQsL,OAAOtL,GAAG0L,EAAEf,EAAEnC,KAAKxI,KAAK,UAAUgM,cAAc,SAAShM,GAAG,IAAIA,GAAe,WAAZc,EAAEgE,KAAK9E,IAAeA,EAAEK,UAAUS,EAAEV,SAASJ,GAAG,OAAM,CAAG,KAAI,GAAGA,EAAE2L,cAAcZ,EAAEvC,KAAKxI,EAAE,iBAAiB+K,EAAEvC,KAAKxI,EAAE2L,YAAYd,UAAU,iBAAiB,OAAM,EAAG,MAAMnK,GAAG,OAAM,EAAG,GAAIE,EAAE,KAAIA,IAAKZ,IAAG,MAAOY,KAAIX,GAAG8K,EAAEvC,KAAKxI,EAAEY,IAAIsI,cAAc,SAASlJ,GAAG,IAAI,GAAIC,KAAKD,GAAE,OAAM,CAAG,QAAM,GAAIiE,MAAM,SAASjE,GAAG,KAAM,IAAI0O,OAAM1O,IAAIqJ,UAAU,SAASpJ,GAAG,MAAa,gBAAHA,IAAcA,GAAcA,EAAEa,EAAEyK,KAAKtL,GAAMD,EAAE2O,MAAM3O,EAAE2O,KAAKC,MAAa5O,EAAE2O,KAAKC,MAAM3O,GAAMsD,EAAEkB,KAAKxE,EAAEiE,QAAQV,EAAE,KAAKU,QAAQT,EAAE,KAAKS,QAAQ+F,EAAE,KAAW,GAAK4E,UAAS,UAAU5O,SAAMa,GAAEmD,MAAM,iBAAiBhE,IAAtL,MAA0L6O,SAAS,SAASpO,GAAG,GAAa,gBAAHA,KAAcA,EAAE,MAAO,KAAK,IAAIE,GAAET,CAAE,KAAIH,EAAE+O,WAAW5O,EAAE,GAAI4O,WAAUnO,EAAET,EAAE6O,gBAAgBtO,EAAE,cAAcE,EAAE,GAAIgC,eAAc,oBAAoBhC,EAAEqO,MAAM,QAAQrO,EAAEsO,QAAQxO,IAAI,MAAMwC,GAAGtC,EAAEX,EAAqG,QAAjGW,IAAIA,EAAE6I,iBAAiB7I,EAAE6F,qBAAqB,eAAe7C,SAAS9C,EAAEmD,MAAM,gBAAgBvD,GAAUE,GAAGuO,KAAK,aAAaC,WAAW,SAASnP,GAAGA,GAAGmD,EAAEqB,KAAKxE,KAAKD,EAAEqP,YAAY,SAASpP,GAAGD,EAAEsP,KAAK9G,KAAKxI,EAAEC,KAAKA,IAAIsP,UAAU,SAASvP,GAAG,MAAOA,GAAEkE,QAAQoG,EAAE,OAAOpG,QAAQmG,EAAEE,IAAIhE,SAAS,SAASvG,EAAEC,GAAG,MAAOD,GAAEuG,UAAUvG,EAAEuG,SAASiE,gBAAgBvK,EAAEuK,eAAevI,KAAK,SAASjC,EAAEU,EAAEE,GAAG,GAAIT,GAAE+C,EAAE,EAAEC,EAAEnD,EAAE4D,OAAOD,EAAER,IAAIlD,GAAGa,EAAEwE,WAAWtF,EAAG,IAAGY,EAAG,GAAG+C,GAAG,IAAIxD,IAAKH,GAAE,GAAGU,EAAE0B,MAAMpC,EAAEG,GAAGS,MAAK,EAAG,UAAW,MAAKsC,EAAEC,GAAMzC,EAAE0B,MAAMpC,EAAEkD,KAAKtC,MAAK,QAAc,IAAG+C,GAAG,IAAIxD,IAAKH,GAAE,GAAGU,EAAE8H,KAAKxI,EAAEG,GAAGA,EAAEH,EAAEG,OAAM,EAAG,UAAW,MAAK+C,EAAEC,GAAMzC,EAAE8H,KAAKxI,EAAEkD,GAAGA,EAAElD,EAAEkD,SAAQ,IAAS,MAAOlD,IAAGuL,KAAKF,EAAE,SAASrL,GAAG,MAAU,OAAHA,EAAQ,GAAGqL,EAAE7C,KAAKxI,IAAI,SAASA,GAAG,MAAU,OAAHA,EAAQ,IAAIA,EAAE,IAAIkE,QAAQL,EAAE,IAAIK,QAAQb,EAAE,KAAKuJ,UAAU,SAAS5M,EAAEC,GAAG,GAAIS,GAAET,KAAM,IAAM,MAAHD,EAAQ,CAAC,GAAIY,GAAEE,EAAEgE,KAAK9E,EAAa,OAAVA,EAAE4D,QAAkB,WAAJhD,GAAkB,aAAJA,GAAoB,WAAJA,GAAcE,EAAEV,SAASJ,GAAGiL,EAAEzC,KAAK9H,EAAEV,GAAGc,EAAEyL,MAAM7L,EAAEV,GAAG,MAAOU,IAAGiI,QAAQ,SAAS3I,EAAEC,EAAES,GAAG,GAAIE,EAAE,IAAGX,EAAE,CAAC,GAAGuL,EAAE,MAAOA,GAAEhD,KAAKvI,EAAED,EAAEU,EAA0C,KAAvCE,EAAEX,EAAE2D,OAAOlD,EAAEA,EAAEA,EAAE,EAAE8O,KAAKC,IAAI,EAAE7O,EAAEF,GAAGA,EAAE,EAAOA,EAAEE,EAAEF,IAAI,GAAGA,IAAKT,IAAGA,EAAES,KAAKV,EAAE,MAAOU,GAAE,OAAM,GAAI6L,MAAM,SAASvM,EAAEU,GAAG,GAAIE,GAAEZ,EAAE4D,OAAO9C,EAAE,CAAE,IAAoB,gBAAVJ,GAAEkD,OAAiB,IAAI,GAAIzD,GAAEO,EAAEkD,OAAO9C,EAAEX,EAAEW,IAAId,EAAEY,KAAKF,EAAEI,OAAQ,MAAMJ,EAAEI,KAAKb,GAAED,EAAEY,KAAKF,EAAEI,IAAgB,OAAXd,GAAE4D,OAAOhD,EAASZ,GAAG0G,KAAK,SAAS1G,EAAEC,EAAES,GAAG,GAASI,GAALF,IAAOF,KAAIA,CAAE,KAAI,GAAIP,GAAE,EAAE+C,EAAElD,EAAE4D,OAAOzD,EAAE+C,EAAE/C,IAAIW,IAAIb,EAAED,EAAEG,GAAGA,GAAGO,IAAII,GAAGF,EAAEuK,KAAKnL,EAAEG,GAAI,OAAOS,IAAG4M,IAAI,SAASxN,EAAEU,EAAEE,GAAG,GAAIT,GAAE+C,EAAEC,KAAKQ,EAAE,EAAEP,EAAEpD,EAAE4D,OAAOC,EAAE7D,YAAac,IAAGsC,IAAInD,GAAa,gBAAHmD,KAAcA,EAAE,GAAGpD,EAAE,IAAIA,EAAEoD,EAAE,IAAQ,IAAJA,GAAOtC,EAAE8D,QAAQ5E,GAAI,IAAG6D,EAAE,KAAKF,EAAEP,EAAEO,IAAIxD,EAAEO,EAAEV,EAAE2D,GAAGA,EAAE/C,GAAM,MAAHT,IAAUgD,EAAEA,EAAES,QAAQzD,OAAQ,KAAI+C,IAAKlD,GAAEG,EAAEO,EAAEV,EAAEkD,GAAGA,EAAEtC,GAAM,MAAHT,IAAUgD,EAAEA,EAAES,QAAQzD,EAAG,OAAOgD,GAAEhB,OAAOC,SAASe,IAAIuM,KAAK,EAAEC,MAAM,SAAS3P,EAAEU,GAAG,GAAa,gBAAHA,GAAY,CAAC,GAAIE,GAAEZ,EAAEU,EAAGA,GAAEV,EAAEA,EAAEY,EAAE,IAAIE,EAAEwE,WAAWtF,GAAG,MAAOC,EAAE,IAAIE,GAAEiL,EAAE5C,KAAK8E,UAAU,GAAGpK,EAAE,WAAW,MAAOlD,GAAEoC,MAAM1B,EAAEP,EAAEgC,OAAOiJ,EAAE5C,KAAK8E,aAAqD,OAAvCpK,GAAEwM,KAAK1P,EAAE0P,KAAK1P,EAAE0P,MAAMxM,EAAEwM,MAAM5O,EAAE4O,OAAcxM,GAAG0M,OAAO,SAAS5P,EAAEU,EAAEE,EAAET,EAAE+C,EAAEC,EAAEQ,GAAG,GAAIP,GAAES,EAAK,MAAHjD,EAAQyC,EAAE,EAAEC,EAAEtD,EAAE4D,MAAO,IAAGhD,GAAa,gBAAHA,GAAY,CAAC,IAAIyC,IAAKzC,GAAEE,EAAE8O,OAAO5P,EAAEU,EAAE2C,EAAEzC,EAAEyC,GAAG,EAAEF,EAAEhD,EAAG+C,GAAE,MAAO,IAAG/C,IAAIF,EAAE,CAAqG,GAApGmD,EAAEO,IAAI1D,GAAGa,EAAEwE,WAAWnF,GAAG0D,IAAIT,GAAGA,EAAE1C,EAAEA,EAAE,SAASV,EAAEC,EAAES,GAAG,MAAO0C,GAAEoF,KAAK1H,EAAEd,GAAGU,MAAMA,EAAE8H,KAAKxI,EAAEG,GAAGO,EAAE,OAAUA,EAAE,KAAK2C,EAAEC,EAAED,IAAI3C,EAAEV,EAAEqD,GAAGzC,EAAEwC,EAAEjD,EAAEqI,KAAKxI,EAAEqD,GAAGA,EAAE3C,EAAEV,EAAEqD,GAAGzC,IAAIT,EAAEwD,EAAGT,GAAE,EAAE,MAAOA,GAAElD,EAAE6D,EAAEnD,EAAE8H,KAAKxI,GAAGsD,EAAE5C,EAAEV,EAAE,GAAGY,GAAGuC,GAAGT,IAAI,WAAW,OAAM,GAAKmN,OAAMC,WAAWC,QAAQ,SAAS/P,GAAGA,EAAEA,EAAE+D,aAAc,IAAI9D,GAAEiK,EAAE6B,KAAK/L,IAAIX,EAAE0M,KAAK/L,IAAImK,EAAE4B,KAAK/L,IAAIA,EAAEyL,QAAQ,cAAc,GAAGrB,EAAE2B,KAAK/L,MAAO,QAAOgQ,QAAQ/P,EAAE,IAAI,GAAGgQ,QAAQhQ,EAAE,IAAI,MAAMiQ,IAAI,WAAW,QAASlQ,GAAEC,EAAES,GAAG,MAAO,IAAIV,GAAE+J,GAAGC,KAAK/J,EAAES,GAAGI,EAAEoE,QAAO,EAAGlF,EAAER,MAAMQ,EAAEmQ,WAAW3Q,KAAKQ,EAAE+J,GAAG/J,EAAE6K,UAAUrL,OAAOQ,EAAE+J,GAAG4B,YAAY3L,EAAEA,EAAEkQ,IAAI1Q,KAAK0Q,IAAIlQ,EAAE+J,GAAGC,KAAK,SAASpJ,EAAET,GAAkD,MAA/CA,IAAGA,YAAaW,MAAKX,YAAaH,MAAKG,EAAEH,EAAEG,IAAWW,EAAEiJ,GAAGC,KAAKxB,KAAKhJ,KAAKoB,EAAET,EAAEF,IAAID,EAAE+J,GAAGC,KAAKa,UAAU7K,EAAE+J,EAAG,IAAI9J,GAAED,EAAEU,EAAG,OAAOV,IAAGgQ,aAAalP,EAAEmB,KAAK,0DAA0D+B,MAAM,KAAK,SAAShE,EAAEC,GAAGyL,EAAE,WAAWzL,EAAE,KAAKA,EAAE8D,gBAAgB6F,EAAE9I,EAAEiP,QAAQtF,GAAGb,EAAEoG,UAAUlP,EAAEkP,QAAQpG,EAAEoG,UAAS,EAAGlP,EAAEkP,QAAQC,QAAQrG,EAAEqG,SAASnP,EAAEkP,QAAQI,SAAStP,EAAEkP,QAAQK,QAAO,GAAIjN,EAAEqB,KAAK,OAAOZ,EAAE,aAAaR,EAAE,cAAcF,EAAErC,EAAEJ,GAAGA,EAAE0N,iBAAiBtE,EAAE,WAAWpJ,EAAE4P,oBAAoB,mBAAmBxG,GAAE,GAAIhJ,EAAE6I,SAASjJ,EAAE2N,cAAcvE,EAAE,WAA0B,aAAfpJ,EAAEyN,aAA0BzN,EAAE6P,YAAY,qBAAqBzG,GAAGhJ,EAAE6I,WAAkB7I,KAAKoC,IAAK/C,GAAE+N,UAAU,SAASlO,GAAGA,EAAEA,EAAEkD,EAAElD,IAAImD,EAAEnD,KAAM,IAAcc,GAAE6C,EAAEP,EAAES,EAAER,EAAEC,EAApB5C,KAAKE,KAAiB2C,EAAE,SAAStD,GAAG,GAAIW,GAAEE,EAAEoC,EAAEC,CAAI,KAAIvC,EAAE,EAAEE,EAAEb,EAAE2D,OAAOhD,EAAEE,EAAEF,IAAIsC,EAAEjD,EAAEW,GAAGuC,EAAEhD,EAAE2E,KAAK5B,GAAO,UAAJC,EAAYI,EAAEL,GAAO,aAAJC,KAAkBnD,EAAEwQ,SAAS/M,EAAEgN,IAAIvN,KAAKxC,EAAEyK,KAAKjI,IAAIM,EAAE,SAASvD,EAAEE,GAA8D,IAA3DA,EAAEA,MAAMW,GAAGd,EAAE0Q,SAASzQ,EAAEE,GAAGwD,GAAE,EAAGP,GAAE,EAAGE,EAAEO,GAAG,EAAEA,EAAE,EAAER,EAAE3C,EAAEkD,OAAYlD,GAAG4C,EAAED,EAAEC,IAAI,GAAG5C,EAAE4C,GAAGlB,MAAMnC,EAAEE,MAAK,GAAIH,EAAE2Q,YAAY,CAAC7P,GAAE,CAAG,OAAMsC,GAAE,EAAG1C,IAAIV,EAAE4Q,KAAK9P,KAAI,EAAG2C,EAAEoN,UAAUnQ,KAAKE,GAAGA,EAAEgD,SAAS9C,EAAEF,EAAE0D,QAAQb,EAAEsK,SAASjN,EAAE,GAAGA,EAAE,OAAO2C,GAAGsE,IAAI,WAAW,GAAGrH,EAAE,CAAC,GAAIV,GAAEU,EAAEkD,MAAOL,GAAE+J,WAAWlK,EAAEC,EAAE3C,EAAEkD,OAAO9C,GAAGA,KAAI,IAAK+C,EAAE7D,EAAEwD,EAAE1C,EAAE,GAAGA,EAAE,KAAK,MAAOtB,OAAMwB,OAAO,WAAW,GAAGN,EAAkC,IAA/B,GAAIT,GAAEqN,UAAU1M,EAAE,EAAEE,EAAEb,EAAE2D,OAAYhD,EAAEE,EAAEF,IAAI,IAAI,GAAIT,GAAE,EAAEA,EAAEO,EAAEkD,SAAc3D,EAAEW,KAAKF,EAAEP,KAAIiD,GAAGjD,GAAGkD,IAAIA,IAAIlD,GAAGmD,GAAGA,KAAK5C,EAAEiN,OAAOxN,IAAI,IAAMH,EAAEwQ,SAAlErQ,KAAgF,MAAOX,OAAMiR,IAAI,SAASzQ,GAAG,GAAGU,EAAsB,IAAnB,GAAIT,GAAE,EAAEW,EAAEF,EAAEkD,OAAY3D,EAAEW,EAAEX,IAAI,GAAGD,IAAIU,EAAET,GAAG,OAAM,CAAG,QAAM,GAAI6Q,MAAM,WAAgB,MAALpQ,MAAYlB,MAAMqR,QAAQ,WAAmB,MAARnQ,GAAEE,EAAEE,EAAEb,EAAST,MAAMuR,SAAS,WAAW,OAAOrQ,GAAGsQ,KAAK,WAAyC,MAA9BpQ,GAAEX,IAAIa,GAAGA,KAAI,IAAK2C,EAAEoN,UAAiBrR,MAAMyR,OAAO,WAAW,OAAOrQ,GAAGmN,SAAS,SAAS9N,EAAES,GAAsD,MAAnDE,KAAIwC,EAAEpD,EAAE4Q,MAAMhQ,EAAEuK,MAAMlL,EAAES,MAAMV,EAAE4Q,OAAO9P,IAAI0C,EAAEvD,EAAES,IAAWlB,MAAMyJ,KAAK,WAAsC,MAA3BxF,GAAEsK,SAASvO,KAAK8N,WAAkB9N,MAAM0R,MAAM,WAAW,QAAQvN,GAAI,OAAOF,GAAG,IAAIE,MAAKtB,KAAMlC,GAAE+E,QAAQiM,SAAS,SAASnR,GAAG,GAAizBoD,GAA7yBnD,EAAEE,EAAE+N,UAAU,eAAexN,EAAEP,EAAE+N,UAAU,eAAetN,EAAET,EAAE+N,UAAU,UAAUpN,EAAE,UAAUoC,GAAGkO,QAAQnR,EAAEoR,OAAO3Q,EAAE4Q,OAAO1Q,GAAGuC,GAAGoO,KAAKtR,EAAE8H,IAAIyJ,KAAK9Q,EAAEqH,IAAI0J,SAAS7Q,EAAEmH,IAAI2J,MAAM,WAAW,MAAO5Q,IAAG6Q,WAAW1R,EAAEiR,MAAMU,WAAWlR,EAAEwQ,MAAMW,KAAK,SAAS7R,EAAEC,EAAES,GAAiC,MAA9BiD,GAAE4N,KAAKvR,GAAGwR,KAAKvR,GAAGwR,SAAS/Q,GAAUlB,MAAMsS,OAAO,WAA6D,MAAlDnO,GAAE4N,KAAKnP,MAAMuB,EAAE2J,WAAWkE,KAAKpP,MAAMuB,EAAE2J,WAAkB9N,MAAMuS,KAAK,SAAS/R,EAAEC,EAAES,GAAG,MAAOP,GAAEgR,SAAS,SAASvQ,GAAGT,EAAE8B,MAAMsP,MAAMvR,EAAE,WAAWwR,MAAMvR,EAAE,UAAUwR,UAAU/Q,EAAE,WAAW,SAASV,EAAEC,GAAG,GAAkBiD,GAAdxC,EAAET,EAAE,GAAGa,EAAEb,EAAE,EAAKE,GAAEmF,WAAW5E,GAAGiD,EAAE3D,GAAG,WAAWkD,EAAExC,EAAE0B,MAAM5C,KAAK8N,WAAWpK,GAAG/C,EAAEmF,WAAWpC,EAAE8O,SAAS9O,EAAE8O,UAAUH,KAAKjR,EAAEwQ,QAAQxQ,EAAEyQ,OAAOzQ,EAAE0Q,QAAQ1Q,EAAEE,EAAE,QAAQtB,OAAOmE,EAAE/C,EAAEpB,MAAM0D,MAAMS,EAAE3D,GAAGY,EAAEE,QAAQkR,WAAWA,QAAQ,SAAShS,GAAG,GAAM,MAAHA,EAAQA,EAAEmD,MAAO,KAAI,GAAIlD,KAAKkD,GAAEnD,EAAEC,GAAGkD,EAAElD,EAAG,OAAOD,KAAI2D,EAAER,EAAE6O,WAAc,KAAI5O,IAAKF,GAAES,EAAEP,GAAGF,EAAEE,GAAG6F,KAAKtF,EAAEP,EAAE,QAAQF,EAAEE,GAAG2K,QAA0H,OAAjHpK,GAAE4N,KAAK,WAAWzQ,EAAE,YAAYJ,EAAEmQ,QAAQjQ,EAAEoQ,MAAMQ,KAAK,WAAW1Q,EAAE,YAAYb,EAAE4Q,QAAQjQ,EAAEoQ,MAAMhR,GAAGA,EAAEwI,KAAK7E,EAAEA,GAAUA,GAAGsO,KAAK,SAASjS,GAAG,QAASsD,GAAEtD,GAAG,MAAO,UAASC,GAAGa,EAAEd,GAAGsN,UAAU1J,OAAO,EAAED,EAAE6E,KAAK8E,UAAU,GAAGrN,EAAEmD,EAAE8O,WAAWrO,EAAE/C,IAAI,QAASuC,GAAErD,GAAG,MAAO,UAASU,GAAGT,EAAED,GAAGsN,UAAU1J,OAAO,EAAED,EAAE6E,KAAK8E,UAAU,GAAG5M,IAAIwC,GAAGE,EAAE+O,YAAY/O,EAAEnD,IAAI,GAAIA,GAAE0D,EAAE6E,KAAK8E,UAAU,GAAG5M,EAAE,EAAEE,EAAEX,EAAE2D,OAAO9C,EAAEoK,MAAMtK,GAAGsC,EAAEtC,EAAMwC,EAAExC,GAAG,GAAGZ,GAAGG,EAAEmF,WAAWtF,EAAEgS,SAAShS,EAAEG,EAAEgR,WAAWtN,EAAET,EAAE4O,SAAU,IAAGpR,EAAE,EAAE,CAAC,KAAKF,EAAEE,EAAEF,IAAIT,EAAES,IAAIT,EAAES,GAAGsR,SAAS7R,EAAEmF,WAAWrF,EAAES,GAAGsR,SAAS/R,EAAES,GAAGsR,UAAUH,KAAKxO,EAAE3C,GAAG0C,EAAEiO,OAAO/N,EAAE5C,MAAMwC,CAAEA,IAAGE,EAAE+O,YAAY/O,EAAEnD,OAAQmD,KAAIpD,GAAGoD,EAAE+O,YAAY/O,EAAExC,GAAGZ,MAAO,OAAO6D,MAAK1D,EAAEyB,QAAQ,WAAW,GAAI3B,GAAEW,EAAEE,EAAEoC,EAAEC,EAAEQ,EAAEP,EAAES,EAAIP,EAAEC,EAAEC,EAAEC,EAAE/C,EAAEQ,cAAc,MAASR,GAAE+I,eAAyO,IAAzNhG,EAAE2O,aAAa,YAAY,KAAK3O,EAAE0C,UAAU,8GAA8GvF,EAAE6C,EAAEgD,qBAAqB,KAAK3F,EAAE2C,EAAEgD,qBAAqB,KAAK,IAAO7F,IAAIA,EAAEgD,SAAS9C,EAAE,QAASoC,GAAExC,EAAEQ,cAAc,UAAUiC,EAAED,EAAE5B,YAAYZ,EAAEQ,cAAc,WAAWyC,EAAEF,EAAEgD,qBAAqB,SAAS,GAAGxG,GAAGoS,kBAA0C,IAAxB5O,EAAE4C,WAAWhG,SAAaiS,OAAO7O,EAAEgD,qBAAqB,SAAS7C,OAAO2O,gBAAgB9O,EAAEgD,qBAAqB,QAAQ7C,OAAOmC,MAAM,MAAMtB,KAAK3D,EAAEqI,aAAa,UAAUqJ,eAAwC,OAAzB1R,EAAEqI,aAAa,QAAesJ,QAAQ,QAAQhO,KAAK3D,EAAEiF,MAAM0M,SAASC,WAAW5R,EAAEiF,MAAM2M,SAASC,QAAkB,OAAVhP,EAAE2D,MAAasL,YAAYzP,EAAE+D,SAAS2L,gBAA8B,MAAdpP,EAAEqP,UAAgBC,UAAUrS,EAAEQ,cAAc,QAAQ6R,QAAQC,WAA4D,kBAAjDtS,EAAEQ,cAAc,OAAO+R,WAAU,GAAI7M,UAA4B8M,eAAc,EAAGC,eAAc,EAAGC,gBAAe,EAAGC,eAAc,EAAGC,cAAa,EAAGC,wBAAuB,EAAGC,kBAAiB,EAAGC,qBAAoB,EAAGC,aAAY,GAAIvT,EAAE0B,SAAS5B,EAAE4B,SAAwB,eAAfnB,EAAEiT,WAA0BhQ,EAAEiD,SAAQ,EAAG3G,EAAE2T,eAAejQ,EAAEsP,WAAU,GAAIrM,QAAQ1D,EAAE6N,UAAS,EAAG9Q,EAAE4T,aAAa1Q,EAAE4N,QAAS,WAAWtN,GAAEgB,KAAK,MAAMyF,GAAGjK,EAAEoT,eAAc,EAAof,IAAhf5P,EAAE2K,kBAAkB3K,EAAE4K,aAAa5K,EAAEqQ,YAAYrQ,EAAE4K,YAAY,UAAU,WAAWpO,EAAEqT,cAAa,IAAK7P,EAAEwP,WAAU,GAAIa,UAAU,YAAYnQ,EAAEjD,EAAEQ,cAAc,SAASyC,EAAE2D,MAAM,IAAI3D,EAAEyO,aAAa,OAAO,SAASnS,EAAE8T,WAAqB,MAAVpQ,EAAE2D,MAAY3D,EAAEyO,aAAa,UAAU,WAAWzO,EAAEyO,aAAa,OAAO,KAAK3O,EAAEnC,YAAYqC,GAAGP,EAAE1C,EAAE2H,yBAAyBjF,EAAE9B,YAAYmC,EAAEuQ,WAAW/T,EAAEgU,WAAW7Q,EAAE6P,WAAU,GAAIA,WAAU,GAAIe,UAAUpN,QAAQ3G,EAAEiU,cAAcvQ,EAAEiD,QAAQxD,EAAErB,YAAY4B,GAAGP,EAAE9B,YAAYmC,GAAMA,EAAE4K,YAAY,IAAI9K,KAAK4Q,OAAO,EAAEC,OAAO,EAAEC,QAAQ,GAAG/Q,EAAE,KAAKC,EAAEC,EAAEF,IAAKG,GAAED,IAAIC,EAAE2O,aAAa9O,EAAE,WAAWE,EAAe,kBAANC,GAAEH,IAAgBrD,EAAEsD,EAAE,WAAWC,CAAulE,OAArlEJ,GAAErB,YAAY0B,GAAGL,EAAEF,EAAEC,EAAEM,EAAEE,EAAE,KAAKxD,EAAE,WAAW,GAAIS,GAAEE,EAAEoC,EAAIS,EAAEP,EAAEC,EAAEC,EAAEC,EAAE0G,EAAEC,EAAE7K,EAAE8K,EAAEC,EAAE1J,EAAE+F,qBAAqB,QAAQ,IAAI2D,IAAI9G,EAAE,EAAE6G,EAAE,6BAA6BD,EAAE,uDAAuD7K,EAAE8K,EAAE,uBAAuB5G,EAAE,UAAU2G,EAAEC,EAAE,kBAAkBF,EAAE,QAAQ1G,EAAE,+BAA+B4G,EAAE,wDAA2D5G,EAAE,+DAAkE3C,EAAEF,EAAEQ,cAAc,OAAON,EAAEmF,MAAMuO,QAAQjV,EAAE,qDAAqDiE,EAAE,KAAK8G,EAAEmK,aAAa3T,EAAEwJ,EAAE/D,YAAY5C,EAAE/C,EAAEQ,cAAc,OAAON,EAAEU,YAAYmC,GAAGA,EAAE0C,UAAU,yBAAyBgE,EAAE,+CAA+CtG,EAAEJ,EAAEgD,qBAAqB,MAAMjD,EAAsB,IAApBK,EAAE,GAAG8B,aAAiB9B,EAAE,GAAGkC,MAAMyO,QAAQ,GAAG3Q,EAAE,GAAGkC,MAAMyO,QAAQ,OAAOvU,EAAEwU,sBAAsBjR,GAAuB,IAApBK,EAAE,GAAG8B,aAAiB3F,EAAE0U,mBAAmBjR,EAAE0C,UAAU,GAAG9C,EAAE3C,EAAEQ,cAAc,OAAOmC,EAAE0C,MAAM3E,MAAM,IAAIiC,EAAE0C,MAAM4O,YAAY,IAAIlR,EAAEsC,MAAM3E,MAAM,MAAMqC,EAAEnC,YAAY+B,GAAGpD,EAAEwT,oBAAkG,KAA7EmB,UAAU5U,EAAE0U,iBAAiBrR,EAAE,QAAQsR,YAAY,IAAIA,YAAY,KAAK,IAA6B,mBAAdlR,GAAEsC,MAAM8O,OAAoBpR,EAAE0C,UAAU,GAAG1C,EAAEsC,MAAM3E,MAAMqC,EAAEsC,MAAM+O,QAAQ,MAAMrR,EAAEsC,MAAMgP,OAAO,EAAEtR,EAAEsC,MAAMiP,SAAS,SAASvR,EAAEsC,MAAMyO,QAAQ,SAAS/Q,EAAEsC,MAAM8O,KAAK,EAAE5U,EAAEsT,uBAAuC,IAAhB9P,EAAEiC,YAAgBjC,EAAEsC,MAAMyO,QAAQ,QAAQ/Q,EAAEsC,MAAMiP,SAAS,UAAUvR,EAAE0C,UAAU,iCAAiClG,EAAEuT,iBAAiC,IAAhB/P,EAAEiC,aAAiBjC,EAAEsC,MAAMuO,QAAQpK,EAAE7K,EAAEoE,EAAE0C,UAAU8D,EAAEnJ,EAAE2C,EAAE4C,WAAWnD,EAAEpC,EAAEuF,WAAW1C,EAAE7C,EAAEmU,YAAY5O,WAAWA,WAAWjD,GAAG8R,iBAA+B,IAAdhS,EAAEiS,UAAcC,8BAA4C,IAAdzR,EAAEwR,WAAejS,EAAE6C,MAAMsP,SAAS,QAAQnS,EAAE6C,MAAMuP,IAAI,OAAOlS,EAAEmS,cAA4B,KAAdrS,EAAEiS,WAA8B,KAAdjS,EAAEiS,UAAejS,EAAE6C,MAAMsP,SAASnS,EAAE6C,MAAMuP,IAAI,GAAGxU,EAAEiF,MAAMiP,SAAS,SAASlU,EAAEiF,MAAMsP,SAAS,WAAWjS,EAAEoS,qCAAqCtS,EAAEiS,aAAY,EAAG/R,EAAEqS,iCAAiCrL,EAAE+K,YAAY7R,EAAEtD,EAAE0U,mBAAmBjR,EAAEsC,MAAM2P,UAAU,KAAKzV,EAAEyT,YAAoE,QAAvD1T,EAAE0U,iBAAiBjR,EAAE,QAAQiS,UAAU,IAAIA,WAAuC,mBAAd9U,GAAEmF,MAAM8O,OAAoBjU,EAAEmF,MAAM8O,KAAK,GAAGzK,EAAErI,YAAYnB,GAAGyC,EAAEI,EAAE7C,EAAE,KAAKT,EAAE+E,OAAOjF,EAAEmD,MAAanD,IAAK,IAAImD,GAAE,sBAAsBS,EAAE,UAAW1D,GAAE+E,QAAQyQ,SAASC,KAAK,EAAEpO,QAAQ,UAAUrH,EAAE4J,GAAG4C,OAAO6C,KAAKqG,UAAU3R,QAAQ,MAAM,IAAI4R,QAAQC,OAAM,EAAGC,OAAO,6CAA6CC,QAAO,GAAIvO,QAAQ,SAAS1H,GAAmD,MAAhDA,GAAEA,EAAEK,SAASF,EAAEwV,MAAM3V,EAAEG,EAAEqH,UAAUxH,EAAEG,EAAEqH,WAAiBxH,IAAIsD,EAAEtD,IAAIgI,KAAK,SAAShI,EAAEU,EAAEE,EAAEE,GAAG,GAAKX,EAAE+V,WAAWlW,GAAG,CAAC,GAAIkD,GAAEC,EAAEQ,EAAEP,EAAEjD,EAAEqH,QAAQ3D,EAAY,gBAAHnD,GAAY2C,EAAErD,EAAEK,SAASiD,EAAED,EAAElD,EAAEwV,MAAM3V,EAAEuD,EAAEF,EAAErD,EAAEoD,GAAGpD,EAAEoD,IAAIA,EAAEI,EAAM,WAAJ9C,CAAa,MAAK6C,IAAID,EAAEC,KAAKC,IAAI1C,IAAIwC,EAAEC,GAAGyE,OAAOnE,GAAGjD,IAAIX,EAAE,MAAsP,OAA/OsD,KAAIF,EAAErD,EAAEoD,GAAGG,IAAIpD,EAAEyV,KAAKrS,EAAEH,GAAGE,EAAEC,KAAKD,EAAEC,MAAMF,IAAIC,EAAEC,GAAG4S,OAAOhW,EAAEgP,OAAoB,gBAAHzO,IAAuB,kBAAHA,KAAcI,EAAEwC,EAAEC,GAAGpD,EAAE+E,OAAO5B,EAAEC,GAAG7C,GAAG4C,EAAEC,GAAGyE,KAAK7H,EAAE+E,OAAO5B,EAAEC,GAAGyE,KAAKtH,IAAGwC,EAAEC,EAAEG,EAAEC,GAAGzC,IAAIqC,EAAE6E,OAAO7E,EAAE6E,SAAS7E,EAAEA,EAAE6E,MAAMpH,IAAIX,IAAIkD,EAAEhD,EAAEoP,UAAU7O,IAAIE,GAAM4C,IAAIL,EAAEzC,GAAUwC,EAAE0E,QAAO/D,GAAGF,EAAER,EAAEzC,GAAM,MAAHiD,IAAUA,EAAER,EAAEhD,EAAEoP,UAAU7O,MAAMiD,EAAER,EAASQ,KAAIqF,WAAW,SAAShJ,EAAEC,EAAES,GAAG,GAAKP,EAAE+V,WAAWlW,GAAG,CAAC,GAAIY,GAAEE,EAAEoC,EAAEC,EAAEhD,EAAEqH,QAAQ7D,EAAE3D,EAAEK,SAAS+C,EAAEO,EAAExD,EAAEwV,MAAM3V,EAAE6D,EAAEF,EAAE3D,EAAEmD,GAAGA,CAAE,KAAIC,EAAES,GAAG,MAAO,IAAG5D,IAAGW,EAAEF,EAAE0C,EAAES,GAAGT,EAAES,GAAGmE,MAAU,CAAC7H,EAAEyE,QAAQ3E,KAAKA,IAAKW,GAAEX,GAAGA,IAAIA,EAAEE,EAAEoP,UAAUtP,GAAUA,EAAPA,IAAKW,IAAKX,GAAKA,EAAE+D,MAAM,MAAO,KAAIlD,EAAE,EAAEoC,EAAEjD,EAAE2D,OAAO9C,EAAEoC,EAAEpC,UAAWF,GAAEX,EAAEa,GAAI,MAAKJ,EAAE4C,EAAEnD,EAAE+I,eAAetI,GAAG,OAAQ,IAAIF,UAAU0C,GAAES,GAAGmE,MAAS1E,EAAEF,EAAES,KAAI,MAAO1D,GAAEyB,QAAQyR,gBAAgBjQ,EAAEgT,kBAAmBhT,GAAES,GAAGT,EAAES,GAAG,KAAKF,IAAIxD,EAAEyB,QAAQyR,oBAAqBrT,GAAEmD,GAAGnD,EAAEuH,gBAAgBvH,EAAEuH,gBAAgBpE,GAAGnD,EAAEmD,GAAG,QAAQwE,MAAM,SAAS3H,EAAEC,EAAES,GAAG,MAAOP,GAAE6H,KAAKhI,EAAEC,EAAES,GAAE,IAAKwV,WAAW,SAASlW,GAAG,GAAGA,EAAEuG,SAAS,CAAC,GAAItG,GAAEE,EAAE2V,OAAO9V,EAAEuG,SAASxC,cAAe,IAAG9D,EAAE,MAAOA,MAAI,GAAID,EAAEmJ,aAAa,aAAalJ,EAAE,OAAM,KAAME,EAAE4J,GAAG7E,QAAQ8C,KAAK,SAAShI,EAAEU,GAAG,GAAIE,GAAEE,EAAEoC,EAAEC,EAAEQ,EAAEP,EAAE5D,KAAK,GAAGqE,EAAE,EAAEP,EAAE,IAAK,IAAGtD,IAAIC,EAAE,CAAC,GAAGT,KAAKoE,SAAQN,EAAEnD,EAAE6H,KAAK5E,GAAmB,IAAbA,EAAE/C,WAAeF,EAAEwH,MAAMvE,EAAE,gBAAe,CAAgB,IAAfF,EAAEE,EAAEiT,WAAe1S,EAAET,EAAEU,OAAOC,EAAEF,EAAEE,IAAIV,EAAED,EAAEW,GAAGyS,KAA0B,IAArBnT,EAAEsI,QAAQ,WAAetI,EAAEhD,EAAEoP,UAAUpM,EAAEoT,UAAU,IAAIlT,EAAED,EAAED,EAAEG,EAAEH,IAAKhD,GAAEwH,MAAMvE,EAAE,eAAc,GAAK,MAAOE,GAAE,MAAa,gBAAHtD,GAAmBR,KAAKyC,KAAK,WAAW9B,EAAE6H,KAAKxI,KAAKQ,MAAKY,EAAEZ,EAAEgE,MAAM,IAAI,GAAGpD,EAAE,GAAGA,EAAE,GAAG,IAAIA,EAAE,GAAG,GAAGE,EAAEF,EAAE,GAAG,IAAWT,EAAEyP,OAAOpQ,KAAK,SAASkB,GAAG,MAAGA,KAAIT,GAAGqD,EAAE9D,KAAKgX,eAAe,UAAU1V,GAAGF,EAAE,KAAK0C,IAAIrD,GAAGmD,IAAIE,EAAEnD,EAAE6H,KAAK5E,EAAEpD,GAAGsD,EAAED,EAAED,EAAEpD,EAAEsD,IAAWA,IAAIrD,GAAGW,EAAE,GAAGpB,KAAKwI,KAAKpH,EAAE,IAAI0C,IAAE1C,EAAE,GAAGF,MAAElB,MAAKyC,KAAK,WAAW,GAAIhC,GAAEE,EAAEX,KAAMS,GAAEuW,eAAe,UAAU1V,EAAEF,GAAGT,EAAE6H,KAAKxI,KAAKQ,EAAEU,GAAGT,EAAEuW,eAAe,aAAa1V,EAAEF,OAAM,KAAKF,EAAE4M,UAAU1J,OAAO,EAAE,MAAK,KAAKoF,WAAW,SAAShJ,GAAG,MAAOR,MAAKyC,KAAK,WAAW9B,EAAE6I,WAAWxJ,KAAKQ,QAAQG,EAAE+E,QAAQuR,MAAM,SAASzW,EAAEC,GAAGD,IAAIC,GAAGA,GAAG,MAAM,OAAOE,EAAEwH,MAAM3H,EAAEC,GAAGE,EAAEwH,MAAM3H,EAAEC,IAAI,GAAG,KAAKyW,QAAQ,SAAS1W,EAAEC,EAAES,GAA0B,GAAvBV,KAAI,IAAKU,EAAET,EAAEA,EAAED,EAAEA,GAAE,GAAOC,EAAE,CAACS,EAAEA,GAAG,IAAK,IAAIE,GAAEF,EAAE,OAAOI,EAAEd,EAAE,GAAGG,EAAEwH,MAAM1H,EAAEW,IAAI,GAAG,CAAEE,GAAEX,EAAEwH,MAAM1H,EAAEW,EAAEE,IAAIX,EAAE6I,WAAW/I,EAAEW,GAAE,GAAI2C,EAAEtD,EAAES,EAAE,WAAWiW,MAAM,SAAS3W,EAAEC,EAAES,GAAG,GAAIE,EAAE,IAAGZ,EAAoG,MAAjGC,IAAGA,GAAG,MAAM,QAAQW,EAAET,EAAEwH,MAAM3H,EAAEC,GAAGS,KAAKE,GAAGT,EAAEyE,QAAQlE,GAAGE,EAAET,EAAEwH,MAAM3H,EAAEC,EAAEE,EAAEyM,UAAUlM,IAAIE,EAAEuK,KAAKzK,IAAWE,OAAQgW,QAAQ,SAAS5W,EAAEC,GAAGA,EAAEA,GAAG,IAAK,IAAIS,GAAEP,EAAEwW,MAAM3W,EAAEC,GAAGW,EAAEF,EAAE4D,QAAQxD,IAAS,gBAAJF,IAAmBA,EAAEF,EAAE4D,SAAS1D,IAAQ,OAAJX,GAAUS,EAAEgE,QAAQ,cAAcvE,EAAEwH,MAAM3H,EAAEC,EAAE,OAAOa,GAAGF,EAAE4H,KAAKxI,EAAE,WAAWG,EAAEyW,QAAQ5W,EAAEC,IAAIa,IAAIJ,EAAEkD,SAASzD,EAAE6I,WAAWhJ,EAAEC,EAAE,SAASA,EAAE,QAAO,GAAIsD,EAAEvD,EAAEC,EAAE,aAAaE,EAAE4J,GAAG7E,QAAQyR,MAAM,SAAS3W,EAAEU,GAAG,GAAIE,GAAE,CAAuC,OAA3B,gBAAHZ,KAAcU,EAAEV,EAAEA,EAAE,KAAKY,KAAQ0M,UAAU1J,OAAOhD,EAAST,EAAEwW,MAAMnX,KAAK,GAAGQ,GAAUU,IAAIT,EAAET,KAAKA,KAAKyC,KAAK,WAAW,GAAIhC,GAAEE,EAAEwW,MAAMnX,KAAKQ,EAAEU,EAAO,QAAJV,GAAiB,eAAPC,EAAE,IAAmBE,EAAEyW,QAAQpX,KAAKQ,MAAM4W,QAAQ,SAAS5W,GAAG,MAAOR,MAAKyC,KAAK,WAAW9B,EAAEyW,QAAQpX,KAAKQ,MAAM6W,MAAM,SAAS7W,EAAEC,GAAwC,MAArCD,GAAEG,EAAE2W,GAAG3W,EAAE2W,GAAGC,OAAO/W,IAAIA,EAAEA,EAAEC,EAAEA,GAAG,KAAYT,KAAKmX,MAAM1W,EAAE,SAASA,EAAES,GAAG,GAAIE,GAAE6B,WAAWxC,EAAED,EAAGU,GAAEsW,KAAK,WAAWC,aAAarW,OAAOsW,WAAW,SAASlX,GAAG,MAAOR,MAAKmX,MAAM3W,GAAG,UAAUgS,QAAQ,SAAShS,EAAEU,GAAG,QAAS4C,OAAMH,GAAGvC,EAAEuR,YAAYrR,GAAGA,IAAc,gBAAHd,KAAcU,EAAEV,EAAEA,EAAEC,GAAGD,EAAEA,GAAG,IAAmF,KAA9E,GAA4EqD,GAAxEzC,EAAET,EAAEgR,WAAWrQ,EAAEtB,KAAK0D,EAAEpC,EAAE8C,OAAOT,EAAE,EAAEQ,EAAE3D,EAAE,QAAQoD,EAAEpD,EAAE,QAAQ6D,EAAE7D,EAAE,OAAekD,MAAOG,EAAElD,EAAE6H,KAAKlH,EAAEoC,GAAGS,EAAE1D,GAAE,KAAME,EAAE6H,KAAKlH,EAAEoC,GAAGE,EAAEnD,GAAE,IAAKE,EAAE6H,KAAKlH,EAAEoC,GAAGW,EAAE5D,GAAE,KAAME,EAAE6H,KAAKlH,EAAEoC,GAAGS,EAAExD,EAAE+N,UAAU,gBAAe,MAAI/K,IAAIE,EAAE0E,IAAIzE,GAAO,OAAJA,KAAW1C,EAAEoR,QAAQtR,KAAM,IAAsR4J,GAAEC,EAAEE,EAAtRjH,EAAE,YAAYC,EAAE,MAAMwG,EAAE,MAAMC,EAAE,sBAAsB7K,EAAE,6CAA6C8K,EAAE,eAAeC,EAAE,8HAA8HC,EAAElK,EAAEyB,QAAQiR,eAAsB1S,GAAE4J,GAAG7E,QAAQ+G,KAAK,SAASjM,EAAEC,GAAG,MAAOE,GAAEyP,OAAOpQ,KAAKW,EAAE8L,KAAKjM,EAAEC,EAAEqN,UAAU1J,OAAO,IAAIuT,WAAW,SAASnX,GAAG,MAAOR,MAAKyC,KAAK,WAAW9B,EAAEgX,WAAW3X,KAAKQ,MAAMoX,KAAK,SAASpX,EAAEC,GAAG,MAAOE,GAAEyP,OAAOpQ,KAAKW,EAAEiX,KAAKpX,EAAEC,EAAEqN,UAAU1J,OAAO,IAAIyT,WAAW,SAASrX,GAAqB,MAAlBA,GAAEG,EAAEmX,QAAQtX,IAAIA,EAASR,KAAKyC,KAAK,WAAW,IAAIzC,KAAKQ,GAAGC,QAAST,MAAKQ,GAAG,MAAMU,QAAQ6W,SAAS,SAASvX,GAAG,GAAIC,GAAES,EAAEE,EAAEE,EAAEoC,EAAEC,EAAEQ,CAAE,IAAGxD,EAAEmF,WAAWtF,GAAG,MAAOR,MAAKyC,KAAK,SAAShC,GAAGE,EAAEX,MAAM+X,SAASvX,EAAEwI,KAAKhJ,KAAKS,EAAET,KAAKsT,aAAc,IAAG9S,GAAa,gBAAHA,GAA0B,IAAbC,EAAED,EAAEgE,MAAMP,GAAO/C,EAAE,EAAEE,EAAEpB,KAAKoE,OAAOlD,EAAEE,EAAEF,IAAe,GAAVI,EAAEtB,KAAKkB,GAAmB,IAAbI,EAAET,SAAa,GAAIS,EAAEgS,WAAsB,IAAX7S,EAAE2D,OAA6B,CAAuB,IAAtBV,EAAE,IAAIpC,EAAEgS,UAAU,IAAQ3P,EAAE,EAAEQ,EAAE1D,EAAE2D,OAAOT,EAAEQ,EAAER,KAAKD,EAAEuI,QAAQ,IAAIxL,EAAEkD,GAAG,OAAOD,GAAGjD,EAAEkD,GAAG,IAAKrC,GAAEgS,UAAU3S,EAAEoL,KAAKrI,OAA/HpC,GAAEgS,UAAU9S,CAAwH,OAAOR,OAAMgY,YAAY,SAASxX,GAAG,GAAIU,GAAEE,EAAEE,EAAEoC,EAAEC,EAAEQ,EAAEP,CAAE,IAAGjD,EAAEmF,WAAWtF,GAAG,MAAOR,MAAKyC,KAAK,SAAShC,GAAGE,EAAEX,MAAMgY,YAAYxX,EAAEwI,KAAKhJ,KAAKS,EAAET,KAAKsT,aAAc,IAAG9S,GAAa,gBAAHA,IAAaA,IAAIC,EAAsB,IAAnBS,GAAGV,GAAG,IAAIgE,MAAMP,GAAO7C,EAAE,EAAEE,EAAEtB,KAAKoE,OAAOhD,EAAEE,EAAEF,IAAe,GAAVsC,EAAE1D,KAAKoB,GAAmB,IAAbsC,EAAE7C,UAAc6C,EAAE4P,UAAU,GAAG9S,EAAE,CAAwC,IAAvCmD,GAAG,IAAID,EAAE4P,UAAU,KAAK5O,QAAQV,EAAE,KAASG,EAAE,EAAEP,EAAE1C,EAAEkD,OAAOD,EAAEP,EAAEO,IAAIR,EAAEA,EAAEe,QAAQ,IAAIxD,EAAEiD,GAAG,IAAI,IAAKT,GAAE4P,UAAU3S,EAAEoL,KAAKpI,OAAQD,GAAE4P,UAAU,EAAI,OAAOtT,OAAMiY,YAAY,SAASzX,EAAEC,GAAG,GAAIS,SAASV,GAAEY,EAAY,iBAAHX,EAAa,OAAGE,GAAEmF,WAAWtF,GAAUR,KAAKyC,KAAK,SAASvB,GAAGP,EAAEX,MAAMiY,YAAYzX,EAAEwI,KAAKhJ,KAAKkB,EAAElB,KAAKsT,UAAU7S,GAAGA,KAAYT,KAAKyC,KAAK,WAAW,GAAO,WAAJvB,EAAmD,IAArC,GAAII,GAAEoC,EAAE,EAAEC,EAAEhD,EAAEX,MAAMmE,EAAE1D,EAAEmD,EAAEpD,EAAEgE,MAAMP,GAAS3C,EAAEsC,EAAEF,MAAKS,EAAE/C,EAAE+C,GAAGR,EAAEuU,SAAS5W,GAAGqC,EAAEQ,EAAE,WAAW,eAAe7C,OAAe,cAAJJ,GAAqB,YAAJA,IAAclB,KAAKsT,WAAW3S,EAAEwH,MAAMnI,KAAK,gBAAgBA,KAAKsT,WAAWtT,KAAKsT,UAAUtT,KAAKsT,WAAW9S,KAAI,EAAG,GAAGG,EAAEwH,MAAMnI,KAAK,kBAAkB,OAAMkY,SAAS,SAAS1X,GAAqC,IAAlC,GAAIC,GAAE,IAAID,EAAE,IAAIU,EAAE,EAAEE,EAAEpB,KAAKoE,OAAYlD,EAAEE,EAAEF,IAAI,GAAsB,IAAnBlB,KAAKkB,GAAGL,WAAe,IAAIb,KAAKkB,GAAGoS,UAAU,KAAK5O,QAAQV,EAAE,KAAKiI,QAAQxL,IAAG,EAAG,OAAM,CAAG,QAAM,GAAI0X,IAAI,SAAS3X,GAAG,GAAIU,GAAEE,EAAEE,EAAEoC,EAAE1D,KAAK,EAAI,OAAK8N,WAAU1J,QAAQ9C,EAAEX,EAAEmF,WAAWtF,GAAUR,KAAKyC,KAAK,SAASrB,GAAG,GAAcuC,GAAVD,EAAE/C,EAAEX,KAA2B,KAAhBA,KAAKa,WAAgB8C,EAAFrC,EAAId,EAAEwI,KAAKhJ,KAAKoB,EAAEsC,EAAEyU,OAAS3X,EAAK,MAAHmD,EAAQA,EAAE,GAAa,gBAAHA,GAAYA,GAAG,GAAGhD,EAAEyE,QAAQzB,KAAKA,EAAEhD,EAAEqN,IAAIrK,EAAE,SAASnD,GAAG,MAAU,OAAHA,EAAQ,GAAGA,EAAE,MAAMU,EAAEP,EAAEyX,SAASpY,KAAKsF,OAAO3E,EAAEyX,SAASpY,KAAK+G,SAASxC,eAAmBrD,GAAK,OAAQA,IAAIA,EAAEmX,IAAIrY,KAAK2D,EAAE,WAAWlD,IAAET,KAAK8H,MAAMnE,OAAQD,GAAGxC,EAAEP,EAAEyX,SAAS1U,EAAE4B,OAAO3E,EAAEyX,SAAS1U,EAAEqD,SAASxC,eAAkBrD,GAAG,OAAQA,KAAIE,EAAEF,EAAEqM,IAAI7J,EAAE,YAAYjD,EAASW,GAAEA,EAAEsC,EAAEoE,MAAuB,gBAAH1G,GAAYA,EAAEsD,QAAQ+F,EAAE,IAAO,MAAHrJ,EAAQ,GAAGA,IAAnL,UAA0LT,EAAE+E,QAAQ0S,UAAUE,QAAQ/K,IAAI,SAAS/M,GAAG,GAAIC,GAAED,EAAEqW,WAAW/O,KAAM,QAAOrH,GAAGA,EAAE8X,UAAU/X,EAAEsH,MAAMtH,EAAEqH,OAAO2Q,QAAQjL,IAAI,SAAS/M,GAAG,GAAIC,GAAES,EAAEE,EAAEE,EAAEoC,EAAElD,EAAEiY,cAAc9U,KAAKQ,EAAE3D,EAAEkY,QAAQ9U,EAAW,eAATpD,EAAE8E,IAAoB,IAAG5B,EAAE,EAAE,MAAO,KAA8B,KAAzBxC,EAAE0C,EAAEF,EAAE,EAAEtC,EAAEwC,EAAEF,EAAE,EAAES,EAAEC,OAAYlD,EAAEE,EAAEF,IAAY,GAAPI,EAAE6C,EAAEjD,GAAMI,EAAEoG,WAAW/G,EAAEyB,QAAQiS,aAAa/S,EAAEiQ,SAAsC,OAA7BjQ,EAAEqI,aAAa,gBAAuBrI,EAAE+H,WAAWkI,WAAW5Q,EAAEoG,SAASzF,EAAE+H,WAAW,aAAa,CAAc,GAAb5I,EAAEE,EAAEW,GAAG6W,MAASvU,EAAE,MAAOnD,EAAEkD,GAAEgI,KAAKlL,GAAI,MAAGmD,KAAID,EAAES,QAAQD,EAAEC,OAAczD,EAAEwD,EAAET,IAAIyU,MAAaxU,GAAG0U,IAAI,SAAS7X,EAAEC,GAAG,GAAIS,GAAEP,EAAEyM,UAAU3M,EAAoH,OAAjHE,GAAEH,GAAG0M,KAAK,UAAUzK,KAAK,WAAWzC,KAAK0H,SAAS/G,EAAEwI,QAAQxI,EAAEX,MAAMmY,MAAMjX,IAAI,IAAIA,EAAEkD,SAAS5D,EAAEiY,eAAc,GAAWvX,KAAKyX,QAAQR,KAAI,EAAG5W,KAAI,EAAGqX,MAAK,EAAG/Q,MAAK,EAAGW,MAAK,EAAG5G,OAAM,EAAGC,QAAO,EAAGgX,QAAO,GAAIpM,KAAK,SAASjM,EAAEU,EAAEE,EAAEE,GAAG,GAAIoC,GAAEC,EAAEQ,EAAEP,EAAEpD,EAAEK,QAAS,IAAKL,GAAO,IAAJoD,GAAW,IAAJA,GAAW,IAAJA,EAAO,MAAGtC,IAAGJ,IAAKP,GAAEgY,OAAchY,EAAEH,GAAGU,GAAGE,GAA6B,mBAAhBZ,GAAEmJ,aAAiChJ,EAAEiX,KAAKpX,EAAEU,EAAEE,IAAG+C,EAAM,IAAJP,IAAQjD,EAAEmY,SAAStY,GAAG2D,IAAIjD,EAAEA,EAAEqD,cAAcZ,EAAEhD,EAAEoY,UAAU7X,KAAK0J,EAAE3F,KAAK/D,GAAG6J,EAAED,IAAO1J,IAAIX,EAAU,OAAJW,MAAUT,GAAEgX,WAAWnX,EAAEU,GAAayC,GAAG,OAAQA,IAAGQ,IAAIT,EAAEC,EAAE0U,IAAI7X,EAAEY,EAAEF,MAAMT,EAASiD,GAAElD,EAAEoS,aAAa1R,EAAE,GAAGE,GAAUA,GAAKuC,GAAG,OAAQA,IAAGQ,GAAoB,QAAhBT,EAAEC,EAAE4J,IAAI/M,EAAEU,IAAkBwC,GAAEA,EAAElD,EAAEmJ,aAAazI,GAAc,OAAJwC,EAASjD,EAAEiD,KAAIiU,WAAW,SAASnX,EAAEC,GAAG,GAAIS,GAAEE,EAAEE,EAAEoC,EAAEC,EAAEQ,EAAE,CAAE,IAAG1D,GAAgB,IAAbD,EAAEK,SAAoD,IAAtCO,EAAEX,EAAE8D,cAAcC,MAAMP,GAAGP,EAAEtC,EAAEgD,OAAYD,EAAET,EAAES,IAAI7C,EAAEF,EAAE+C,GAAG7C,IAAIJ,EAAEP,EAAEmX,QAAQxW,IAAIA,EAAEqC,EAAEiH,EAAE3F,KAAK3D,GAAGqC,GAAGhD,EAAE8L,KAAKjM,EAAEc,EAAE,IAAId,EAAEuH,gBAAgB8C,EAAEvJ,EAAEJ,GAAGyC,GAAGzC,IAAKV,KAAIA,EAAEU,IAAG,KAAO6X,WAAWzT,MAAM+S,IAAI,SAAS7X,EAAEC,GAAG,GAAGiK,EAAEzF,KAAKzE,EAAEuG,WAAWvG,EAAE6I,WAAW1I,EAAE8D,MAAM,sCAAuC,KAAI9D,EAAEyB,QAAQmS,YAAgB,UAAJ9T,GAAaE,EAAEoG,SAASvG,EAAE,SAAS,CAAC,GAAIU,GAAEV,EAAEsH,KAA8C,OAAxCtH,GAAEoS,aAAa,OAAOnS,GAAGS,IAAIV,EAAEsH,MAAM5G,GAAUT,KAAKqH,OAAOyF,IAAI,SAAS/M,EAAEC,GAAG,MAAGqK,IAAGnK,EAAEoG,SAASvG,EAAE,UAAiBsK,EAAEyC,IAAI/M,EAAEC,GAAUA,IAAKD,GAAEA,EAAEsH,MAAM,MAAMuQ,IAAI,SAAS7X,EAAEC,EAAES,GAAG,MAAG4J,IAAGnK,EAAEoG,SAASvG,EAAE,UAAiBsK,EAAEuN,IAAI7X,EAAEC,EAAES,QAAGV,EAAEsH,MAAMrH,MAAKqX,SAASkB,SAAS,WAAWC,SAAS,WAAWC,IAAM,UAAUC,MAAQ,YAAYC,UAAU,YAAYC,YAAY,cAAcC,YAAY,cAAcC,QAAQ,UAAUC,QAAQ,UAAUC,OAAO,SAASC,YAAY,cAAcC,gBAAgB,mBAAmB/B,KAAK,SAASpX,EAAEU,EAAEE,GAAG,GAAIE,GAAEoC,EAAEC,EAAEQ,EAAE3D,EAAEK,QAAS,IAAKL,GAAO,IAAJ2D,GAAW,IAAJA,GAAW,IAAJA,EAAuE,MAAhER,GAAM,IAAJQ,IAAQxD,EAAEmY,SAAStY,GAAGmD,IAAIzC,EAAEP,EAAEmX,QAAQ5W,IAAIA,EAAEwC,EAAE/C,EAAEiZ,UAAU1Y,IAAWE,IAAIX,EAAEiD,GAAG,OAAQA,KAAIpC,EAAEoC,EAAE2U,IAAI7X,EAAEY,EAAEF,MAAMT,EAAEa,EAAEd,EAAEU,GAAGE,EAAEsC,GAAG,OAAQA,IAAoB,QAAhBpC,EAAEoC,EAAE6J,IAAI/M,EAAEU,IAAWI,EAAEd,EAAEU,IAAK0Y,WAAWC,UAAUtM,IAAI,SAAS/M,GAAG,GAAIU,GAAEV,EAAEsZ,iBAAiB,WAAY,OAAO5Y,IAAGA,EAAEqX,UAAUnD,SAASlU,EAAE4G,MAAM,IAAIjI,EAAEoF,KAAKzE,EAAEuG,WAAW4D,EAAE1F,KAAKzE,EAAEuG,WAAWvG,EAAEuZ,KAAK,EAAEtZ,OAAOE,EAAEoY,UAAUC,SAASrY,EAAEiZ,UAAUC,SAAS9O,GAAGwC,IAAI,SAAS/M,EAAEU,GAAG,GAAIE,GAAEE,EAAEX,EAAEiX,KAAKpX,EAAEU,EAAG,OAAOI,MAAI,GAAc,iBAAHA,KAAeF,EAAEZ,EAAEsZ,iBAAiB5Y,KAAKE,EAAE4Y,aAAY,EAAG9Y,EAAEqD,cAAc9D,GAAG4X,IAAI,SAAS7X,EAAEC,EAAES,GAAG,GAAIE,EAAmG,OAAjGX,MAAI,EAAGE,EAAEgX,WAAWnX,EAAEU,IAAIE,EAAET,EAAEmX,QAAQ5W,IAAIA,EAAEE,IAAKZ,KAAIA,EAAEY,IAAG,GAAIZ,EAAEoS,aAAa1R,EAAEA,EAAEqD,gBAAuBrD,IAAI2J,IAAII,GAAG6L,MAAK,EAAG7J,IAAG,EAAGgN,QAAO,GAAInP,EAAEnK,EAAEyX,SAAS8B,QAAQ3M,IAAI,SAAS/M,EAAEU,GAAG,GAAIE,EAA0B,OAAxBA,GAAEZ,EAAEsZ,iBAAiB5Y,GAAUE,IAAI6J,EAAE/J,GAAiB,KAAdE,EAAE4Y,UAAe5Y,EAAEmX,WAAWnX,EAAE4Y,UAAUvZ,GAAG4X,IAAI,SAAS7X,EAAEC,EAAEW,GAAG,GAAIE,GAAEd,EAAEsZ,iBAAiB1Y,EAAqD,OAAlDE,KAAIA,EAAEJ,EAAEiZ,gBAAgB/Y,GAAGZ,EAAE4Z,iBAAiB9Y,IAAWA,EAAE0Y,UAAUvZ,EAAE,KAAKE,EAAEoY,UAAUC,SAASX,IAAIvN,EAAEuN,IAAI1X,EAAE8B,MAAM,QAAQ,UAAU,SAASjC,EAAEC,GAAGE,EAAEoY,UAAUtY,GAAGE,EAAE+E,OAAO/E,EAAEoY,UAAUtY,IAAI4X,IAAI,SAAS7X,EAAEU,GAAG,GAAO,KAAJA,EAAiC,MAAzBV,GAAEoS,aAAanS,EAAE,QAAeS,OAAQP,EAAEoY,UAAUY,iBAAiBpM,IAAIzC,EAAEyC,IAAI8K,IAAI,SAAS7X,EAAEC,EAAES,GAAO,KAAJT,IAASA,EAAE,SAASqK,EAAEuN,IAAI7X,EAAEC,EAAES,MAAMP,EAAEyB,QAAQ4Q,gBAAgBrS,EAAE8B,MAAM,OAAO,MAAM,QAAQ,UAAU,SAASjC,EAAEU,GAAGP,EAAEoY,UAAU7X,GAAGP,EAAE+E,OAAO/E,EAAEoY,UAAU7X,IAAIqM,IAAI,SAAS/M,GAAG,GAAIY,GAAEZ,EAAEmJ,aAAazI,EAAE,EAAG,OAAW,QAAJE,EAASX,EAAEW,OAAOT,EAAEyB,QAAQmE,QAAQ5F,EAAEoY,UAAUxS,OAAOgH,IAAI,SAAS/M,GAAG,MAAOA,GAAE+F,MAAMuO,QAAQvQ,eAAe9D,GAAG4X,IAAI,SAAS7X,EAAEC,GAAG,MAAOD,GAAE+F,MAAMuO,QAAQ,GAAGrU,KAAKE,EAAEyB,QAAQgR,cAAczS,EAAEiZ,UAAUlS,SAAS/G,EAAE+E,OAAO/E,EAAEiZ,UAAUlS,UAAU6F,IAAI,SAAS/M,GAAG,GAAIC,GAAED,EAAE6I,UAAyE,OAA9D5I,KAAIA,EAAEgY,cAAchY,EAAE4I,YAAY5I,EAAE4I,WAAWoP,eAAsB,SAAS9X,EAAEyB,QAAQmR,UAAU5S,EAAEmX,QAAQvE,QAAQ,YAAY5S,EAAEyB,QAAQ+Q,SAASxS,EAAE8B,MAAM,QAAQ,YAAY,WAAW9B,EAAEyX,SAASpY,OAAOuN,IAAI,SAAS/M,GAAG,MAAiC,QAA1BA,EAAEmJ,aAAa,SAAgB,KAAKnJ,EAAEsH,UAAUnH,EAAE8B,MAAM,QAAQ,YAAY,WAAW9B,EAAEyX,SAASpY,MAAMW,EAAE+E,OAAO/E,EAAEyX,SAASpY,OAAOqY,IAAI,SAAS7X,EAAEC,GAAG,GAAGE,EAAEyE,QAAQ3E,GAAG,MAAOD,GAAE4G,QAAQzG,EAAEwI,QAAQxI,EAAEH,GAAG2X,MAAM1X,IAAI;KAAO,IAAI2J,GAAE,+BAA+BC,EAAE,yBAAyBC,EAAE,0BAA0Ba,GAAE,OAAOI,GAAE,+BAA+BE,GAAE,kCAAkCG,GAAE,yCAAyCC,GAAE,SAClp/BrL,GAAG,GAAIC,GAAEmL,GAAEW,KAAK/L,EAA0F,OAAvFC,KAAIA,EAAE,IAAIA,EAAE,IAAI,IAAI8D,cAAc9D,EAAE,GAAGA,EAAE,IAAI,GAAI4Z,QAAO,YAAY5Z,EAAE,GAAG,cAAqBA,GAAGuL,GAAE,SAASxL,EAAEC,GAAG,GAAIS,GAAEV,EAAEqW,cAAe,SAAQpW,EAAE,IAAID,EAAEuG,SAASxC,gBAAgB9D,EAAE,OAAOA,EAAE,KAAKS,EAAE+L,QAAQnF,QAAQrH,EAAE,OAAOA,EAAE,IAAIA,EAAE,GAAGwE,MAAM/D,EAAS,WAAO4G,SAASoE,GAAE,SAAS1L,GAAG,MAAOG,GAAE2H,MAAMgS,QAAQC,MAAM/Z,EAAEA,EAAEkE,QAAQ4F,EAAE,6BAA8B3J,GAAE2H,OAAOC,IAAI,SAAS/H,EAAEU,EAAEE,EAAEE,EAAEoC,GAAG,GAAIC,GAAEQ,EAAEP,EAAES,EAAER,EAAEC,EAAEC,EAAEC,EAAEC,EAAIyG,EAAE7K,CAAE,IAAkB,IAAbW,EAAEK,UAA2B,IAAbL,EAAEK,UAAeK,GAAIE,IAAKuC,EAAEhD,EAAEwH,MAAM3H,IAAK,CAAwR,IAAvRY,EAAEoZ,UAAUvW,EAAE7C,EAAEA,EAAE6C,EAAEuW,QAAQ9W,EAAEO,EAAEoI,UAAUjL,EAAE8O,OAAO9O,EAAE8O,KAAKvP,EAAEuP,QAAQtM,EAAED,EAAEyE,OAAOxE,IAAID,EAAEyE,OAAOxE,MAAMO,EAAER,EAAE0E,OAAOlE,IAAIR,EAAE0E,OAAOlE,EAAE,SAAS3D,GAAG,MAAiB,mBAAHG,IAAkBH,GAAGG,EAAE2H,MAAMmS,YAAYja,EAAE8E,KAA+C7E,EAAzCE,EAAE2H,MAAMoS,SAAS9X,MAAMuB,EAAEwW,KAAK7M,YAAc3J,EAAEwW,KAAKna,GAAGU,EAAEP,EAAEoL,KAAKG,GAAEhL,IAAIsD,MAAM,KAASH,EAAE,EAAEA,EAAEnD,EAAEkD,OAAOC,IAAKR,EAAEwG,EAAEkC,KAAKrL,EAAEmD,QAAQP,EAAED,EAAE,GAAGE,GAAGF,EAAE,IAAI,IAAIW,MAAM,KAAK0J,OAAOrO,EAAEc,EAAE2H,MAAMgS,QAAQxW,OAAOA,GAAGJ,EAAE7D,EAAE+a,aAAa/a,EAAEgb,WAAW/W,EAAEjE,EAAEc,EAAE2H,MAAMgS,QAAQxW,OAAOE,EAAErD,EAAE+E,QAAQJ,KAAKxB,EAAEgX,SAASjX,EAAE,GAAG2E,KAAKlH,EAAEkZ,QAAQpZ,EAAE8O,KAAK9O,EAAE8O,KAAK7D,SAAS3I,EAAEqX,MAAMrX,GAAGmI,GAAEnI,GAAGsX,UAAUjX,EAAEgK,KAAK,MAAM9J,GAAGyG,EAAE9G,EAAEE,GAAO4G,IAAGA,EAAE9G,EAAEE,MAAM4G,EAAEuQ,cAAc,EAAMpb,EAAEqb,OAAOrb,EAAEqb,MAAMlS,KAAKxI,EAAEc,EAAEyC,EAAEI,MAAK,IAAG3D,EAAEoO,iBAAiBpO,EAAEoO,iBAAiB9K,EAAEK,GAAE,GAAI3D,EAAEqO,aAAarO,EAAEqO,YAAY,KAAK/K,EAAEK,KAAGtE,EAAE0I,MAAM1I,EAAE0I,IAAIS,KAAKxI,EAAEwD,GAAGA,EAAEwW,QAAQtK,OAAOlM,EAAEwW,QAAQtK,KAAK9O,EAAE8O,OAAOxM,EAAEgH,EAAEyD,OAAOzD,EAAEuQ,gBAAgB,EAAEjX,GAAG0G,EAAEiB,KAAK3H,GAAGrD,EAAE2H,MAAM6S,OAAOrX,IAAG,CAAGtD,GAAE,OAAO2a,UAAU3Z,OAAO,SAAShB,EAAEC,EAAES,EAAEE,EAAEE,GAAG,GAA+BqC,GAAEQ,EAAEP,EAAES,EAAER,EAAEC,EAAEC,EAAEC,EAAEC,EAAEwG,EAAEC,EAAE7K,EAAjD6D,EAAE/C,EAAEuH,QAAQ1H,IAAIG,EAAEwH,MAAM3H,EAA2B,IAAKkD,IAAMM,EAAEN,EAAE0E,QAAQ,CAA+B,IAA9B3H,EAAEE,EAAEoL,KAAKG,GAAEzL,GAAG,KAAK+D,MAAM,KAASb,EAAE,EAAEA,EAAElD,EAAE2D,OAAOT,IAAwC,GAAnCQ,EAAEkG,EAAEkC,KAAK9L,EAAEkD,QAAQC,EAAES,EAAEF,EAAE,GAAGN,EAAEM,EAAE,GAAOP,EAAJ,CAAgO,IAArKK,EAAEtD,EAAE2H,MAAMgS,QAAQ1W,OAAOA,GAAGxC,EAAE6C,EAAE2W,aAAa3W,EAAE4W,WAAWjX,EAAE8G,EAAE1G,EAAEJ,OAAOE,EAAE4G,EAAEtG,OAAOP,EAAEA,EAAE,GAAIwW,QAAO,UAAUxW,EAAEW,MAAM,KAAK0J,OAAOH,KAAK,iBAAiB,WAAW,KAAShK,EAAE,EAAEA,EAAE2G,EAAEtG,OAAOL,IAAIlE,EAAE6K,EAAE3G,IAAIzC,GAAG+C,IAAIxE,EAAEib,aAAa5Z,GAAGA,EAAEgP,OAAOrQ,EAAEqQ,SAASrM,GAAGA,EAAEoB,KAAKpF,EAAEmb,eAAe5Z,GAAGA,IAAIvB,EAAEwM,UAAc,OAAJjL,GAAUvB,EAAEwM,YAAY3B,EAAEyD,OAAOpK,IAAI,GAAGlE,EAAEwM,UAAU3B,EAAEuQ,gBAAgBhX,EAAEzC,QAAQyC,EAAEzC,OAAOwH,KAAKxI,EAAEX,GAAe,KAAX6K,EAAEtG,QAAYN,IAAI4G,EAAEtG,WAAWH,EAAEmX,UAAUnX,EAAEmX,SAASpS,KAAKxI,EAAEqD,MAAK,IAAKlD,EAAE0a,YAAY7a,EAAEoD,EAAEF,EAAE2E,cAAerE,GAAEJ,QAAniB,KAAIA,IAAKI,GAAErD,EAAE2H,MAAM9G,OAAOhB,EAAEoD,EAAEnD,EAAEkD,GAAGzC,EAAEE,GAAE,EAAggBT,GAAE+I,cAAc1F,KAAKyG,EAAE/G,EAAE2E,OAAOoC,IAAIA,EAAEkQ,KAAK,MAAMha,EAAE6I,WAAWhJ,GAAG,SAAS,WAAU,MAAO8a,aAAaC,SAAQ,EAAGC,SAAQ,EAAGC,YAAW,GAAIjN,QAAQ,SAAStN,EAAEE,EAAEE,EAAEoC,GAAG,IAAIpC,GAAgB,IAAbA,EAAET,UAA2B,IAAbS,EAAET,SAAa,CAAC,GAAqB+C,GAAES,EAAER,EAAEC,EAAEC,EAAEC,EAAEC,EAAEwG,EAAEC,EAAE7K,EAAnC8D,EAAEzC,EAAEoE,MAAMpE,EAAEiD,IAAyB,IAAGsH,GAAExG,KAAKtB,EAAEhD,EAAE2H,MAAMmS,WAAW,MAA0G,IAAnG9W,EAAEsI,QAAQ,MAAM,IAAItI,EAAEA,EAAEd,MAAM,GAAE,GAAIwB,GAAE,GAAIV,EAAEsI,QAAQ,MAAM,IAAI9H,EAAER,EAAEa,MAAM,KAAKb,EAAEQ,EAAEW,QAAQX,EAAE+J,UAAa5M,GAAGX,EAAE2H,MAAMgT,YAAY3X,MAAMhD,EAAE2H,MAAM6S,OAAOxX,GAAG,MAA8P,IAAvPzC,EAAY,gBAAHA,GAAYA,EAAEP,EAAEqH,SAAS9G,EAAE,GAAIP,GAAE+a,MAAM/X,EAAEzC,GAAG,GAAIP,GAAE+a,MAAM/X,GAAGzC,EAAEoE,KAAK3B,EAAEzC,EAAEya,WAAU,EAAGza,EAAE0a,UAAUvX,EAAEnD,EAAE8Z,UAAU7W,EAAE4J,KAAK,KAAK7M,EAAE2a,aAAa3a,EAAE8Z,UAAU,GAAIX,QAAO,UAAUlW,EAAE4J,KAAK,iBAAiB,WAAW,KAAK/J,EAAEL,EAAEsI,QAAQ,KAAK,EAAE,KAAKtI,EAAE,IAAOrC,EAAE,CAACsC,EAAEjD,EAAEwV,KAAM,KAAItS,IAAKD,GAAEA,EAAEC,GAAGuE,QAAQxE,EAAEC,GAAGuE,OAAOzE,IAAIhD,EAAE2H,MAAMkG,QAAQtN,EAAEE,EAAEwC,EAAEC,GAAGwE,OAAOsS,MAAK,EAAI,QAA2G,GAApGzZ,EAAE4a,OAAOrb,EAAES,EAAE6a,SAAS7a,EAAE6a,OAAOza,GAAGF,EAAK,MAAHA,EAAQT,EAAEyM,UAAUhM,MAAMA,EAAE8D,QAAQhE,GAAG+C,EAAEtD,EAAE2H,MAAMgS,QAAQ3W,OAAUM,EAAEuK,SAASvK,EAAEuK,QAAQ5L,MAAMtB,EAAEF,MAAK,EAAG,MAA6B,IAAtBsJ,IAAIpJ,EAAE2C,EAAE4W,UAAUlX,KAAQD,IAAIO,EAAE+X,WAAWrb,EAAEC,SAASU,GAAG,CAAyD,IAAxDzB,EAAEoE,EAAE2W,cAAcjX,EAAEG,EAAE2H,GAAExG,KAAKpF,EAAE8D,GAAGrC,EAAEA,EAAE+H,WAAWtF,EAAE,KAAUD,EAAEA,EAAEA,EAAEuF,WAAWqB,EAAEiB,MAAM7H,EAAEjE,IAAIkE,EAAED,CAAEC,IAAGA,IAAIzC,EAAEoH,eAAegC,EAAEiB,MAAM5H,EAAEjD,aAAaiD,EAAEhD,cAAcP,EAAEX,IAAI,IAAIgE,EAAE,EAAEA,EAAE6G,EAAEtG,SAASlD,EAAE+a,uBAAuBpY,IAAIC,EAAE4G,EAAE7G,GAAG,GAAG3C,EAAEoE,KAAKoF,EAAE7G,GAAG,GAAG4G,GAAG9J,EAAEwH,MAAMrE,EAAE,eAAe5C,EAAEoE,OAAO3E,EAAEwH,MAAMrE,EAAE,UAAU2G,GAAGA,EAAE7H,MAAMkB,EAAE1C,GAAGqJ,EAAEzG,GAAGF,EAAEE,GAAGyG,GAAG9J,EAAE+V,WAAW5S,IAAI2G,EAAE7H,MAAMkB,EAAE1C,MAAK,GAAIF,EAAEgb,gBAAqU,OAApThb,GAAEoE,KAAK3B,GAAGD,IAAIxC,EAAEib,wBAAwBlY,EAAEmY,UAAUnY,EAAEmY,SAASxZ,MAAMtB,EAAEoH,cAActH,MAAK,KAAU,UAAJuC,IAAchD,EAAEoG,SAASzF,EAAE,OAAOX,EAAE+V,WAAWpV,IAAI0C,GAAG1C,EAAEqC,KAAS,UAAJA,GAAiB,SAAJA,GAAmC,IAAvBzC,EAAE6a,OAAO7V,eAAmBvF,EAAEC,SAASU,KAAKyC,EAAEzC,EAAE0C,GAAGD,IAAIzC,EAAE0C,GAAG,MAAMrD,EAAE2H,MAAMmS,UAAU9W,EAAErC,EAAEqC,KAAKhD,EAAE2H,MAAMmS,UAAUha,EAAEsD,IAAIzC,EAAE0C,GAAGD,IAAW7C,EAAE4a,SAASpB,SAAS,SAASxZ,GAAGA,EAAEP,EAAE2H,MAAM+T,IAAInb,GAAGV,EAAE8H,MAAO,IAA8JjE,GAAER,EAAEC,EAAEC,EAAEC,EAAEC,EAAEwG,EAAEC,EAAE7K,EAAE8K,EAA5KvJ,GAAGT,EAAEwH,MAAMnI,KAAK,eAAekB,EAAEoE,UAAUhE,EAAEF,EAAE6Z,cAAcvX,KAAKb,MAAMmG,KAAK8E,UAAU,GAAGnK,GAAGzC,EAAE0a,YAAY1a,EAAE8Z,UAAU7W,EAAExD,EAAE2H,MAAMgS,QAAQpZ,EAAEoE,UAAU1B,IAAwD,IAA7BF,EAAE,GAAGxC,EAAEA,EAAEob,eAAetc,MAASmE,EAAEoY,aAAapY,EAAEoY,YAAYvT,KAAKhJ,KAAKkB,MAAK,EAAG,CAAC,GAAGI,KAAKJ,EAAEgZ,QAAiB,UAAThZ,EAAEoE,MAA8D,IAA7CvB,EAAEpD,EAAEX,MAAM+D,EAAEqI,QAAQpM,KAAK0I,eAAe1I,KAAS8D,EAAE5C,EAAE6a,OAAOjY,GAAG9D,KAAK8D,EAAEA,EAAEuF,YAAYrJ,KAAK,GAAG8D,EAAEyN,YAAW,EAAG,CAAkB,IAAjBtN,KAAKyG,KAAK3G,EAAE,GAAGD,EAAMO,EAAE,EAAEA,EAAE/C,EAAE+C,IAAIxE,EAAEuB,EAAEiD,GAAGsG,EAAE9K,EAAEwM,SAASpI,EAAE0G,KAAKlK,IAAIwD,EAAE0G,GAAG9K,EAAEkb,MAAM/O,GAAElI,EAAEjE,EAAEkb,OAAOhX,EAAEyY,GAAG7R,IAAI1G,EAAE0G,IAAID,EAAEiB,KAAK9L,EAAG6K,GAAEtG,QAAQR,EAAE+H,MAAMgP,KAAK7W,EAAE2Y,QAAQ/R,IAAwD,IAAnDtJ,EAAEgD,OAAO9C,GAAGsC,EAAE+H,MAAMgP,KAAK3a,KAAKyc,QAAQrb,EAAEyB,MAAMvB,KAAS+C,EAAE,EAAEA,EAAET,EAAEQ,SAASlD,EAAE+a,uBAAuB5X,IAAmC,IAA9BoG,EAAE7G,EAAES,GAAGnD,EAAEwb,cAAcjS,EAAEkQ,KAAS9W,EAAE,EAAEA,EAAE4G,EAAEgS,QAAQrY,SAASlD,EAAEyb,gCAAgC9Y,IAAKhE,EAAE4K,EAAEgS,QAAQ5Y,IAAMF,IAAIzC,EAAE8Z,YAAYnb,EAAEmb,WAAW9Z,EAAE2a,cAAc3a,EAAE2a,aAAa5W,KAAKpF,EAAEmb,cAAW9Z,EAAEsH,KAAK3I,EAAE2I,KAAKtH,EAAE0b,UAAU/c,EAAEmE,IAAIrD,EAAE2H,MAAMgS,QAAQza,EAAEib,eAAezS,QAAQxI,EAAE2a,SAAS5X,MAAM6H,EAAEkQ,KAAKjX,GAAGM,IAAIvD,IAAIS,EAAE4a,OAAO9X,EAAEA,KAAI,IAAK9C,EAAEgb,iBAAiBhb,EAAE2b,oBAAiE,OAA5C1Y,GAAE2Y,cAAc3Y,EAAE2Y,aAAa9T,KAAKhJ,KAAKkB,GAAUA,EAAE4a,SAASiB,MAAM,mKAAmKvY,MAAM,KAAKwY,YAAYC,UAAUF,MAAM,4BAA4BvY,MAAM,KAAK0E,OAAO,SAAS1I,EAAEC,GAAkE,MAAtD,OAATD,EAAE0c,QAAc1c,EAAE0c,MAAkB,MAAZzc,EAAE0c,SAAe1c,EAAE0c,SAAS1c,EAAE2c,SAAgB5c,IAAI6c,YAAYN,MAAM,mGAAmGvY,MAAM,KAAK0E,OAAO,SAAS1I,EAAEY,GAAG,GAAIE,GAAEX,EAAE+C,EAAEC,EAAEvC,EAAE8Y,OAAO/V,EAAE/C,EAAEkc,WAAgZ,OAA3X,OAAT9c,EAAE+c,OAAwB,MAAXnc,EAAEoc,UAAgBlc,EAAEd,EAAEub,OAAOrT,eAAexH,EAAEP,EAAEW,EAAE2I,gBAAgBvG,EAAEpC,EAAEH,KAAKX,EAAE+c,MAAMnc,EAAEoc,SAAS7c,GAAGA,EAAE8c,YAAY/Z,GAAGA,EAAE+Z,YAAY,IAAI9c,GAAGA,EAAE+c,YAAYha,GAAGA,EAAEga,YAAY,GAAGld,EAAEmd,MAAMvc,EAAEwc,SAASjd,GAAGA,EAAEkd,WAAWna,GAAGA,EAAEma,WAAW,IAAIld,GAAGA,EAAEmd,WAAWpa,GAAGA,EAAEoa,WAAW,KAAKtd,EAAEud,eAAe5Z,IAAI3D,EAAEud,cAAc5Z,IAAI3D,EAAEub,OAAO3a,EAAE4c,UAAU7Z,IAAI3D,EAAE0c,OAAOvZ,IAAIlD,IAAID,EAAE0c,MAAQ,EAAFvZ,EAAI,EAAI,EAAFA,EAAI,EAAI,EAAFA,EAAI,EAAE,GAAUnD,IAAI6b,IAAI,SAAS7b,GAAG,GAAGA,EAAEG,EAAEqH,SAAS,MAAOxH,EAAE,IAAIY,GAAEE,EAAEoC,EAAElD,EAAEmD,EAAEhD,EAAE2H,MAAM0U,SAASxc,EAAE8E,UAAUnB,EAAER,EAAEoZ,MAAM/c,KAAK+c,MAAMpa,OAAOgB,EAAEoZ,OAAO/c,KAAK+c,KAAmB,KAAbvc,EAAEG,EAAE+a,MAAMhY,GAAOtC,EAAE+C,EAAEC,OAAOhD,GAAGE,EAAE6C,IAAI/C,GAAGZ,EAAEc,GAAGoC,EAAEpC,EAAmI,OAAhId,GAAEub,SAASvb,EAAEub,OAAOrY,EAAEua,YAAY/c,GAAuB,IAApBV,EAAEub,OAAOlb,WAAeL,EAAEub,OAAOvb,EAAEub,OAAO1S,YAAY7I,EAAE0d,UAAUzd,IAAID,EAAE0d,QAAQ1d,EAAE2d,SAAgBxa,EAAEuF,OAAOvF,EAAEuF,OAAO1I,EAAEkD,GAAGlD,GAAG8Z,SAASnQ,OAAO+Q,MAAMva,EAAE+M,WAAW0Q,MAAMpC,UAAS,GAAIqC,OAAOzD,aAAa,WAAW0D,MAAM1D,aAAa,YAAY2D,cAAcrD,MAAM,SAAS1a,EAAEC,EAAES,GAAGP,EAAEC,SAASZ,QAAQA,KAAKwe,eAAetd,IAAIka,SAAS,SAAS5a,EAAEC,GAAGT,KAAKwe,iBAAiB/d,IAAIT,KAAKwe,eAAe,SAASC,SAAS,SAASje,EAAEC,EAAES,EAAEE,GAAG,GAAIE,GAAEX,EAAE+E,OAAO,GAAI/E,GAAE+a,MAAMxa,GAAGoE,KAAK9E,EAAEke,aAAY,EAAGC,kBAAmBvd,GAAET,EAAE2H,MAAMkG,QAAQlN,EAAE,KAAKb,GAAGE,EAAE2H,MAAMoS,SAAS1R,KAAKvI,EAAEa,GAAGA,EAAE6a,sBAAsBjb,EAAEgb,mBAAmBvb,EAAE2H,MAAMD,OAAO1H,EAAE2H,MAAMoS,SAAS/Z,EAAE0a,YAAYna,EAAE4P,oBAAoB,SAAStQ,EAAEC,EAAES,GAAGV,EAAEsQ,qBAAqBtQ,EAAEsQ,oBAAoBrQ,EAAES,GAAE,IAAK,SAASV,EAAEC,EAAES,GAAGV,EAAEuQ,aAAavQ,EAAEuQ,YAAY,KAAKtQ,EAAES,IAAIP,EAAE+a,MAAM,SAASlb,EAAEC,GAAG,MAAKT,gBAAgBW,GAAE+a,OAA+Blb,GAAGA,EAAE8E,MAAMtF,KAAK2e,cAAcne,EAAER,KAAKsF,KAAK9E,EAAE8E,KAAKtF,KAAKmc,mBAAmB3b,EAAEoe,kBAAkBpe,EAAEqe,eAAc,GAAIre,EAAEse,mBAAmBte,EAAEse,oBAAoBxV,EAAEC,GAAGvJ,KAAKsF,KAAK9E,EAAEC,GAAGE,EAAE+E,OAAO1F,KAAKS,GAAGT,KAAK+e,UAAUve,GAAGA,EAAEue,WAAWpe,EAAEuC,MAAMlD,KAAKW,EAAEqH,UAAS,EAAxPxH,QAAjB,GAAIG,GAAE+a,MAAMlb,EAAEC,IAA+PE,EAAE+a,MAAMrQ,WAAW6Q,eAAe,WAAWlc,KAAKmc,mBAAmB7S,CAAE,IAAI9I,GAAER,KAAK2e,eAAene,IAAIA,EAAE0b,eAAe1b,EAAE0b,iBAAiB1b,EAAEqe,aAAY,IAAKhC,gBAAgB,WAAW7c,KAAKic,qBAAqB3S,CAAE,IAAI9I,GAAER,KAAK2e,eAAene,IAAIA,EAAEqc,iBAAiBrc,EAAEqc,kBAAkBrc,EAAEwe,cAAa,IAAKC,yBAAyB,WAAWjf,KAAK2c,8BAA8BrT,EAAEtJ,KAAK6c,mBAAmBV,mBAAmB5S,EAAE0S,qBAAqB1S,EAAEoT,8BAA8BpT,GAAG5I,EAAE8B,MAAMyc,WAAW,YAAYC,WAAW,YAAY,SAAS3e,EAAEC,GAAGE,EAAE2H,MAAMgS,QAAQ9Z,IAAIoa,aAAana,EAAEoa,SAASpa,EAAE4H,OAAO,SAAS7H,GAAG,GAAwDmD,GAApDzC,EAAElB,KAAKoB,EAAEZ,EAAEud,cAAczc,EAAEd,EAAEoc,SAAYtb,GAAE+K,QAAuG,OAAxFjL,KAAGA,IAAIF,GAAIP,EAAEye,SAASle,EAAEE,MAAGZ,EAAE8E,KAAKhE,EAAEwZ,SAASnX,EAAErC,EAAEkZ,QAAQ5X,MAAM5C,KAAK8N,WAAWtN,EAAE8E,KAAK7E,GAASkD,MAAMhD,EAAEyB,QAAQsR,gBAAgB/S,EAAE2H,MAAMgS,QAAQ3F,QAAQuG,MAAM,WAAW,OAAGva,EAAEoG,SAAS/G,KAAK,aAAiBW,GAAE2H,MAAMC,IAAIvI,KAAK,iCAAiC,SAASQ,GAAG,GAAIU,GAAEV,EAAEub,OAAO3a,EAAET,EAAEoG,SAAS7F,EAAE,UAAUP,EAAEoG,SAAS7F,EAAE,UAAUA,EAAEme,KAAK5e,CAAEW,KAAIA,EAAEke,mBAAmB3e,EAAE2H,MAAMC,IAAInH,EAAE,iBAAiB,SAASZ,GAAGA,EAAE+e,gBAAe,IAAKne,EAAEke,kBAAiB,MAAOxC,aAAa,SAAStc,GAAGA,EAAE+e,uBAAwB/e,GAAE+e,eAAevf,KAAKqJ,aAAa7I,EAAEmb,WAAWhb,EAAE2H,MAAMmW,SAAS,SAASze,KAAKqJ,WAAW7I,GAAE,KAAM4a,SAAS,WAAW,OAAGza,EAAEoG,SAAS/G,KAAK,aAAiBW,GAAE2H,MAAM9G,OAAOxB,KAAK,eAAeW,EAAEyB,QAAQuR,gBAAgBhT,EAAE2H,MAAMgS,QAAQ1F,QAAQsG,MAAM,WAAW,MAAG9Q,GAAEnF,KAAKjF,KAAK+G,WAA0B,aAAZ/G,KAAKsF,MAA+B,UAAZtF,KAAKsF,OAAe3E,EAAE2H,MAAMC,IAAIvI,KAAK,yBAAyB,SAASQ,GAAkC,YAA/BA,EAAEme,cAAca,eAA2Bxf,KAAKyf,eAAc,KAAM9e,EAAE2H,MAAMC,IAAIvI,KAAK,gBAAgB,SAASQ,GAAGR,KAAKyf,gBAAgBjf,EAAEmb,YAAY3b,KAAKyf,eAAc,EAAG9e,EAAE2H,MAAMmW,SAAS,SAASze,KAAKQ,GAAE,QAAa,OAAGG,GAAE2H,MAAMC,IAAIvI,KAAK,yBAAyB,SAASQ,GAAG,GAAIC,GAAED,EAAEub,MAAO3R,GAAEnF,KAAKxE,EAAEsG,YAAYtG,EAAEif,mBAAmB/e,EAAE2H,MAAMC,IAAI9H,EAAE,iBAAiB,SAASD,GAAGR,KAAKqJ,aAAa7I,EAAEke,cAAcle,EAAEmb,WAAWhb,EAAE2H,MAAMmW,SAAS,SAASze,KAAKqJ,WAAW7I,GAAE,KAAMC,EAAEif,kBAAiB,MAAOrX,OAAO,SAAS7H,GAAG,GAAIC,GAAED,EAAEub,MAAO,IAAG/b,OAAOS,GAAGD,EAAEke,aAAale,EAAEmb,WAAoB,UAATlb,EAAE6E,MAAyB,aAAT7E,EAAE6E,KAAkB,MAAO9E,GAAEoc,UAAUpC,QAAQ5X,MAAM5C,KAAK8N,YAAYsN,SAAS,WAA2C,MAAhCza,GAAE2H,MAAM9G,OAAOxB,KAAK,YAAmBoK,EAAEnF,KAAKjF,KAAK+G,aAAapG,EAAEyB,QAAQwR,gBAAgBjT,EAAE8B,MAAM4b,MAAM,UAAUC,KAAK,YAAY,SAAS9d,EAAEC,GAAG,GAAIW,GAAE,EAAEE,EAAE,SAASd,GAAGG,EAAE2H,MAAMmW,SAAShe,EAAED,EAAEub,OAAOpb,EAAE2H,MAAM+T,IAAI7b,IAAG,GAAKG,GAAE2H,MAAMgS,QAAQ7Z,IAAIya,MAAM,WAAiB,IAAN9Z,KAASF,EAAE0N,iBAAiBpO,EAAEc,GAAE,IAAK8Z,SAAS,WAAiB,MAAJha,GAAOF,EAAE4P,oBAAoBtQ,EAAEc,GAAE,OAAQX,EAAE4J,GAAG7E,QAAQia,GAAG,SAASnf,EAAEU,EAAEE,EAAEE,EAAEoC,GAAG,GAAIC,GAAEQ,CAAE,IAAa,gBAAH3D,GAAY,CAAW,gBAAHU,KAAcE,EAAEA,GAAGF,EAAEA,EAAET,EAAG,KAAI0D,IAAK3D,GAAER,KAAK2f,GAAGxb,EAAEjD,EAAEE,EAAEZ,EAAE2D,GAAGT,EAAG,OAAO1D,MAAwF,GAAhF,MAAHoB,GAAY,MAAHE,GAASA,EAAEJ,EAAEE,EAAEF,EAAET,GAAM,MAAHa,IAAoB,gBAAHJ,IAAaI,EAAEF,EAAEA,EAAEX,IAAIa,EAAEF,EAAEA,EAAEF,EAAEA,EAAET,IAAOa,KAAI,EAAGA,EAAEiI,MAAO,KAAIjI,EAAE,MAAOtB,KAA4G,OAAnG,KAAJ0D,IAAQC,EAAErC,EAAEA,EAAE,SAASd,GAAc,MAAXG,KAAI8N,IAAIjO,GAAUmD,EAAEf,MAAM5C,KAAK8N,YAAYxM,EAAE4O,KAAKvM,EAAEuM,OAAOvM,EAAEuM,KAAKvP,EAAEuP,SAAgBlQ,KAAKyC,KAAK,WAAW9B,EAAE2H,MAAMC,IAAIvI,KAAKQ,EAAEc,EAAEF,EAAEF,MAAM0e,IAAI,SAASpf,EAAEC,EAAES,EAAEE,GAAG,MAAOpB,MAAK2f,GAAGnf,EAAEC,EAAES,EAAEE,EAAE,IAAIqN,IAAI,SAASjO,EAAEU,EAAEE,GAAG,GAAGZ,GAAGA,EAAE0b,gBAAgB1b,EAAEoc,UAAU,CAAC,GAAItb,GAAEd,EAAEoc,SAA0G,OAAhGjc,GAAEH,EAAE8b,gBAAgB7N,IAAInN,EAAE0Z,UAAU1Z,EAAEwZ,SAAS,IAAIxZ,EAAE0Z,UAAU1Z,EAAEwZ,SAASxZ,EAAE+K,SAAS/K,EAAEkZ,SAAgBxa,KAAK,GAAa,gBAAHQ,GAAY,CAAC,IAAI,GAAIkD,KAAKlD,GAAER,KAAKyO,IAAI/K,EAAExC,EAAEV,EAAEkD,GAAI,OAAO1D,MAA2D,MAAnDkB,MAAI,GAAc,kBAAHA,KAAcE,EAAEF,EAAEA,EAAET,GAAEW,KAAI,IAAKA,EAAEmI,GAAUvJ,KAAKyC,KAAK,WAAW9B,EAAE2H,MAAM9G,OAAOxB,KAAKQ,EAAEY,EAAEF,MAAM2e,KAAK,SAASrf,EAAEC,EAAES,GAAG,MAAOlB,MAAK2f,GAAGnf,EAAE,KAAKC,EAAES,IAAI4e,OAAO,SAAStf,EAAEC,GAAG,MAAOT,MAAKyO,IAAIjO,EAAE,KAAKC,IAAIsf,KAAK,SAASvf,EAAEC,EAAES,GAA2C,MAAxCP,GAAEX,KAAKoM,SAASuT,GAAGnf,EAAER,KAAKqM,SAAS5L,EAAES,GAAUlB,MAAMggB,IAAI,SAASxf,EAAEC,GAAgD,MAA7CE,GAAEX,KAAKoM,SAASqC,IAAIjO,EAAER,KAAKqM,UAAU,KAAK5L,GAAUT,MAAMigB,SAAS,SAASzf,EAAEC,EAAES,EAAEE,GAAG,MAAOpB,MAAK2f,GAAGlf,EAAED,EAAEU,EAAEE,IAAI8e,WAAW,SAAS1f,EAAEC,EAAES,GAAG,MAAyB,IAAlB4M,UAAU1J,OAAUpE,KAAKyO,IAAIjO,EAAE,MAAMR,KAAKyO,IAAIhO,EAAED,EAAEU,IAAIsN,QAAQ,SAAShO,EAAEC,GAAG,MAAOT,MAAKyC,KAAK,WAAW9B,EAAE2H,MAAMkG,QAAQhO,EAAEC,EAAET,SAASgX,eAAe,SAASxW,EAAEC,GAAG,GAAGT,KAAK,GAAG,MAAOW,GAAE2H,MAAMkG,QAAQhO,EAAEC,EAAET,KAAK,IAAG,IAAKmgB,OAAO,SAAS3f,GAAG,GAAIC,GAAEqN,UAAU5M,EAAEV,EAAE0P,MAAMvP,EAAEuP,OAAO9O,EAAE,EAAEE,EAAE,SAASJ,GAAG,GAAII,IAAGX,EAAEwH,MAAMnI,KAAK,aAAaQ,EAAE0P,OAAO,GAAG9O,CAA2D,OAAzDT,GAAEwH,MAAMnI,KAAK,aAAaQ,EAAE0P,KAAK5O,EAAE,GAAGJ,EAAEgb,iBAAwBzb,EAAEa,GAAGsB,MAAM5C,KAAK8N,aAAY,EAAa,KAATxM,EAAE4O,KAAKhP,EAAQE,EAAEX,EAAE2D,QAAO3D,EAAEW,KAAK8O,KAAKhP,CAAE,OAAOlB,MAAKogB,MAAM9e,IAAIiZ,MAAM,SAAS/Z,EAAEC,GAAG,MAAOT,MAAKkf,WAAW1e,GAAG2e,WAAW1e,GAAGD,MAAMG,EAAE8B,KAAK,0MAA0M+B,MAAM,KAAK,SAAShE,EAAEC,GAAGE,EAAE4J,GAAG9J,GAAG,SAASD,EAAEU,GAAyB,MAAnB,OAAHA,IAAUA,EAAEV,EAAEA,EAAE,MAAasN,UAAU1J,OAAO,EAAEpE,KAAK2f,GAAGlf,EAAE,KAAKD,EAAEU,GAAGlB,KAAKwO,QAAQ/N,IAAIE,EAAEgY,SAAShY,EAAEgY,OAAOlY,IAAG,GAAI0K,GAAElG,KAAKxE,KAAKE,EAAE2H,MAAM0U,SAASvc,GAAGE,EAAE2H,MAAM2U,UAAU1R,GAAEtG,KAAKxE,KAAKE,EAAE2H,MAAM0U,SAASvc,GAAGE,EAAE2H,MAAM+U,cAAc,WAAW,QAAStS,GAAEvK,EAAEC,EAAES,EAAEI,EAAEX,EAAE+C,GAAG,IAAI,GAAIC,GAAE,EAAEQ,EAAE7C,EAAE8C,OAAOT,EAAEQ,EAAER,IAAI,CAAC,GAAIC,GAAEtC,EAAEqC,EAAG,IAAGC,EAAE,CAAC,GAAIS,IAAE,CAAU,KAAPT,EAAEA,EAAEpD,GAASoD,GAAE,CAAC,GAAGA,EAAExC,KAAKF,EAAE,CAACmD,EAAE/C,EAAEsC,EAAEyc,OAAQ,OAAM,GAAgB,IAAbzc,EAAE/C,SAAqC,GAAvB6C,IAAIE,EAAExC,GAAGF,EAAE0C,EAAEyc,OAAO1c,GAAgB,gBAAHlD,IAAa,GAAGmD,IAAInD,EAAE,CAAC4D,GAAE,CAAG,YAAY,IAAGP,EAAEoF,OAAOzI,GAAGmD,IAAIQ,OAAO,EAAE,CAACC,EAAET,CAAE,OAAOA,EAAEA,EAAEpD,GAAGc,EAAEqC,GAAGU,IAAI,QAASyG,GAAEtK,EAAEC,EAAES,EAAEI,EAAEX,EAAE+C,GAAG,IAAI,GAAIC,GAAE,EAAEQ,EAAE7C,EAAE8C,OAAOT,EAAEQ,EAAER,IAAI,CAAC,GAAIC,GAAEtC,EAAEqC,EAAG,IAAGC,EAAE,CAAC,GAAIS,IAAE,CAAU,KAAPT,EAAEA,EAAEpD,GAASoD,GAAE,CAAC,GAAGA,EAAExC,KAAKF,EAAE,CAACmD,EAAE/C,EAAEsC,EAAEyc,OAAQ,OAA8C,GAA3B,IAAbzc,EAAE/C,WAAe6C,IAAIE,EAAExC,GAAGF,EAAE0C,EAAEyc,OAAO1c,GAAMC,EAAEmD,SAASxC,gBAAgB9D,EAAE,CAAC4D,EAAET,CAAE,OAAMA,EAAEA,EAAEpD,GAAGc,EAAEqC,GAAGU,IAAI,GAAI7D,GAAE,sIAAsIY,EAAE,YAAY4O,KAAKqG,SAAS,IAAI3R,QAAQ,IAAI,IAAIpD,EAAE,EAAEoC,EAAE0H,OAAOC,UAAUC,SAAS3H,GAAE,EAAGQ,GAAE,EAAGP,EAAE,MAAMS,EAAE,QAAQR,EAAE,MAAM,EAAE,GAAGqK,KAAK,WAAgB,MAAL/J,IAAE,EAAU,GAAI,IAAIL,GAAE,SAASrD,EAAEW,EAAEE,EAAEX,GAAGW,EAAEA,MAAMF,EAAEA,GAAGF,CAAE,IAAIyC,GAAEvC,CAAE,IAAgB,IAAbA,EAAEP,UAA2B,IAAbO,EAAEP,SAAa,QAAS,KAAIJ,GAAa,gBAAHA,GAAY,MAAOa,EAAE,IAAI6C,GAAEP,EAAES,EAAER,EAAEE,EAAE0G,EAAEC,EAAEC,EAAEC,GAAE,EAAGC,EAAE/G,EAAEwc,MAAMlf,GAAG0J,KAAKC,EAAEtK,CAAE,GAA0B,IAAvBD,EAAE+L,KAAK,IAAIpI,EAAE3D,EAAE+L,KAAKxB,GAAM5G,IAAG4G,EAAE5G,EAAE,GAAG2G,EAAEa,KAAKxH,EAAE,IAAOA,EAAE,IAAG,CAACN,EAAEM,EAAE,EAAG,aAAcA,EAAG,IAAG2G,EAAE1G,OAAO,GAAGH,EAAEsI,KAAK9L,GAAG,GAAc,IAAXqK,EAAE1G,QAAYJ,EAAEuc,SAASzV,EAAE,IAAIlH,EAAEqH,EAAEH,EAAE,GAAGA,EAAE,GAAG1J,EAAET,OAA8C,KAAtCiD,EAAEI,EAAEuc,SAASzV,EAAE,KAAK1J,GAAG0C,EAAEgH,EAAEhG,QAAQ1D,GAAS0J,EAAE1G,QAAO3D,EAAEqK,EAAEhG,QAAQd,EAAEuc,SAAS9f,KAAKA,GAAGqK,EAAEhG,SAASlB,EAAEqH,EAAExK,EAAEmD,EAAEjD,OAA0K,KAAjKA,GAAGmK,EAAE1G,OAAO,GAAgB,IAAbhD,EAAEP,WAAegK,GAAG7G,EAAEwc,MAAMC,GAAGxb,KAAK6F,EAAE,MAAM9G,EAAEwc,MAAMC,GAAGxb,KAAK6F,EAAEA,EAAE1G,OAAO,MAAML,EAAED,EAAEoJ,KAAKpC,EAAEhG,QAAQ1D,EAAEyJ,GAAGzJ,EAAE2C,EAAE2c,KAAK5c,EAAEoF,OAAOnF,EAAE2c,KAAK3c,EAAEsU,KAAK,GAAGtU,EAAEsU,IAAI,IAAOjX,EAAkL,IAA/K2C,EAAEpD,GAAG+f,KAAK5V,EAAEhC,MAAMuP,IAAIxY,EAAEc,IAAImD,EAAEoJ,KAAKpC,EAAEhC,MAAiB,IAAXgC,EAAE1G,QAAoB,MAAP0G,EAAE,IAAiB,MAAPA,EAAE,KAAW1J,EAAEiI,WAAwBjI,EAAbA,EAAEiI,WAAawB,GAAGjH,EAAEG,EAAE2c,KAAK5c,EAAEoF,OAAOnF,EAAE2c,KAAK3c,EAAEsU,KAAKtU,EAAEsU,IAAIvN,EAAE1G,OAAO,EAAEC,EAAExE,EAAE+D,GAAGgH,GAAE,EAASE,EAAE1G,QAAOqG,EAAEK,EAAEhC,MAAM4B,EAAED,EAAEzG,EAAEuc,SAAS9V,GAAGC,EAAEI,EAAEhC,MAAM2B,EAAE,GAAM,MAAHC,IAAUA,EAAEtJ,GAAG4C,EAAEuc,SAAS9V,GAAGpG,EAAEqG,EAAEG,OAAQxG,GAAEyG,IAA+B,IAA1BzG,IAAIA,EAAET,GAAGS,GAAGP,EAAEW,MAAMgG,GAAGhK,GAAkB,mBAAZiD,EAAEsF,KAAK3E,GAAsB,GAAIuG,EAAyB,GAAGxJ,GAAgB,IAAbA,EAAEP,SAAa,IAAI8J,EAAE,EAAQ,MAANtG,EAAEsG,GAASA,IAAItG,EAAEsG,KAAKtG,EAAEsG,MAAK,GAAoB,IAAhBtG,EAAEsG,GAAG9J,UAAciD,EAAEsb,SAAShe,EAAEiD,EAAEsG,MAAMrJ,EAAEqK,KAAK/H,EAAE+G,QAAS,KAAIA,EAAE,EAAQ,MAANtG,EAAEsG,GAASA,IAAItG,EAAEsG,IAAoB,IAAhBtG,EAAEsG,GAAG9J,UAAcS,EAAEqK,KAAK/H,EAAE+G,QAAxMrJ,GAAEqK,KAAK/I,MAAMtB,EAAE+C,OAAkMxE,GAAEwE,EAAE/C,EAAmC,OAAhCuC,KAAIC,EAAED,EAAEF,EAAErC,EAAEX,GAAGmD,EAAE6c,WAAWrf,IAAWA,EAAGwC,GAAE6c,WAAW,SAASngB,GAAG,GAAGoK,IAAGjH,EAAEQ,EAAE3D,EAAE0N,KAAKtD,GAAMjH,GAAE,IAAI,GAAIlD,GAAE,EAAEA,EAAED,EAAE4D,OAAO3D,IAAID,EAAEC,KAAKD,EAAEC,EAAE,IAAID,EAAE2N,OAAO1N,IAAI,EAAG,OAAOD,IAAGsD,EAAE2Y,QAAQ,SAASjc,EAAEC,GAAG,MAAOqD,GAAEtD,EAAE,KAAK,KAAKC,IAAIqD,EAAE8c,gBAAgB,SAASpgB,EAAEC,GAAG,MAAOqD,GAAErD,EAAE,KAAK,MAAMD,IAAI4D,OAAO,GAAGN,EAAEoJ,KAAK,SAAS1M,EAAEC,EAAES,GAAG,GAAIE,GAAEE,EAAEX,EAAE+C,EAAEC,EAAEQ,CAAE,KAAI3D,EAAE,QAAS,KAAIc,EAAE,EAAEX,EAAEqD,EAAE6c,MAAMzc,OAAO9C,EAAEX,EAAEW,IAAkB,GAAbqC,EAAEK,EAAE6c,MAAMvf,IAAMoC,EAAEM,EAAE8c,UAAUnd,GAAG4I,KAAK/L,MAAI2D,EAAET,EAAE,GAAGA,EAAEyK,OAAO,EAAE,GAA6B,OAAvBhK,EAAE6B,OAAO7B,EAAEC,OAAO,KAAWV,EAAE,IAAIA,EAAE,IAAI,IAAIgB,QAAQd,EAAE,IAAIxC,EAAE4C,EAAEkJ,KAAKvJ,GAAGD,EAAEjD,EAAES,GAAS,MAAHE,IAAQ,CAACZ,EAAEA,EAAEkE,QAAQV,EAAEwc,MAAM7c,GAAG,GAAI,OAA0F,MAAjFvC,KAAIA,EAAiC,mBAAxBX,GAAEwG,qBAAkCxG,EAAEwG,qBAAqB,UAAgBoR,IAAIjX,EAAEsf,KAAKlgB,IAAIsD,EAAEoF,OAAO,SAAS1I,EAAEU,EAAEE,EAAEE,GAA+D,IAA5D,GAAIX,GAAE+C,EAAEC,EAAEQ,EAAEP,EAAES,EAAER,EAAEE,EAAEE,EAAEwG,EAAEjK,EAAEkK,KAAK7K,EAAEqB,EAAEyJ,EAAEzJ,GAAGA,EAAE,IAAI4C,EAAEwc,MAAMpf,EAAE,IAAUV,GAAGU,EAAEkD,QAAO,CAAC,IAAIT,IAAKK,GAAEkF,OAAO,GAA+B,OAA3BvI,EAAEqD,EAAE8c,UAAUnd,GAAG4I,KAAK/L,KAAWG,EAAE,GAAG,CAAyC,GAAxC0D,EAAEL,EAAEkF,OAAOvF,GAAGE,EAAElD,EAAE,GAAG+C,GAAE,EAAG/C,EAAEwN,OAAO,EAAE,GAA6B,OAAvBtK,EAAEmC,OAAOnC,EAAEO,OAAO,GAAU,QAAuB,IAAdvE,IAAI6K,IAAIA,MAAS1G,EAAE+c,UAAUpd,GAAkC,GAA9BhD,EAAEqD,EAAE+c,UAAUpd,GAAGhD,EAAEd,EAAEuB,EAAEsJ,EAAEpJ,EAAEqJ,IAAqB,GAAGhK,KAAI,EAAG,aAAtB+C,GAAES,GAAE,CAA2B,IAAGxD,EAAE,IAAIoD,EAAE,EAAY,OAATH,EAAE/D,EAAEkE,IAAUA,IAAIH,IAAIO,EAAEE,EAAET,EAAEjD,EAAEoD,EAAElE,GAAGoE,EAAE3C,EAAE6C,EAAE/C,GAAM,MAAH+C,EAAQF,EAAEP,GAAE,EAAG7D,EAAEkE,IAAG,EAAGE,IAAIyG,EAAEiB,KAAK/H,GAAGF,GAAE,GAAK,IAAGS,IAAI1D,EAAE,CAAqC,GAApCW,IAAIvB,EAAE6K,GAAGlK,EAAEA,EAAEkE,QAAQV,EAAEwc,MAAM7c,GAAG,KAAQD,EAAE,QAAS,QAAO,GAAGlD,IAAIiK,EAAE,CAAA,GAAM,MAAH/G,EAAwB,KAAhBI,GAAEW,MAAMjE,GAAciK,EAAEjK,EAAE,MAAOX,IAAGiE,EAAEW,MAAM,SAASjE,GAAG,KAAM,IAAI0O,OAAM,0CAA0C1O,GAAI,IAAIuD,GAAED,EAAEkd,QAAQ,SAASxgB,GAAG,GAAIC,GAAES,EAAEE,EAAEZ,EAAEK,SAASS,EAAE,EAAG,IAAGF,GAAG,GAAO,IAAJA,GAAW,IAAJA,GAAW,KAAJA,EAAO,CAAC,GAAyB,gBAAfZ,GAAEygB,YAAsB,MAAOzgB,GAAEygB,WAAY,IAAuB,gBAAbzgB,GAAE0gB,UAAoB,MAAO1gB,GAAE0gB,UAAUxc,QAAQL,EAAE,GAAI,KAAI7D,EAAEA,EAAEqG,WAAWrG,EAAEA,EAAEA,EAAEiV,YAAYnU,GAAGyC,EAAEvD,OAAQ,IAAO,IAAJY,GAAW,IAAJA,EAAM,MAAOZ,GAAEwZ,cAAe,KAAIvZ,EAAE,EAAES,EAAEV,EAAEC,GAAGA,IAAiB,IAAbS,EAAEL,WAAeS,GAAGyC,EAAE7C,GAAI,OAAOI,IAAG0C,EAAEF,EAAEqd,WAAWN,OAAO,KAAK,OAAO,OAAOL,OAAOC,GAAG,kCAAkCW,MAAM,mCAAmCC,KAAK,oDAAoDC,KAAK,+GAA+GC,IAAI,oCAAoCC,MAAM,yGAAyGC,IAAI,+DAA+DC,OAAO,+EAA+EZ,aAAaa,SAASxI,MAAQ,YAAYD,IAAM,WAAW0I,YAAY7H,KAAK,SAASvZ,GAAG,MAAOA,GAAEmJ,aAAa,SAASrE,KAAK,SAAS9E,GAAG,MAAOA,GAAEmJ,aAAa,UAAU4W,UAAUsB,IAAI,SAASrhB,EAAEC,GAAG,GAAIS,GAAY,gBAAHT,GAAYW,EAAEF,IAAI2C,EAAEoB,KAAKxE,GAAGa,EAAEJ,IAAIE,CAAEA,KAAIX,EAAEA,EAAE8D,cAAe,KAAI,GAAmBZ,GAAfhD,EAAE,EAAE+C,EAAElD,EAAE4D,OAASzD,EAAE+C,EAAE/C,IAAI,GAAGgD,EAAEnD,EAAEG,GAAG,CAAC,MAAOgD,EAAEA,EAAEme,kBAA+B,IAAbne,EAAE9C,WAAcL,EAAEG,GAAGW,GAAGqC,GAAGA,EAAEoD,SAASxC,gBAAgB9D,EAAEkD,IAAG,EAAGA,IAAIlD,EAAEa,GAAGwC,EAAEoF,OAAOzI,EAAED,GAAE,IAAKuhB,IAAI,SAASvhB,EAAEC,GAAG,GAAIS,GAAEE,EAAY,gBAAHX,GAAYa,EAAE,EAAEX,EAAEH,EAAE4D,MAAO,IAAGhD,IAAIyC,EAAEoB,KAAKxE,IAAsB,IAAlBA,EAAEA,EAAE8D,cAAmBjD,EAAEX,EAAEW,IAAY,GAAPJ,EAAEV,EAAEc,GAAQ,CAAC,GAAIoC,GAAExC,EAAEmI,UAAW7I,GAAEc,GAAGoC,EAAEqD,SAASxC,gBAAgB9D,GAAEiD,OAAW,CAAC,KAAKpC,EAAEX,EAAEW,IAAIJ,EAAEV,EAAEc,GAAGJ,IAAIV,EAAEc,GAAGF,EAAEF,EAAEmI,WAAWnI,EAAEmI,aAAa5I,EAAGW,IAAG0C,EAAEoF,OAAOzI,EAAED,GAAE,KAAMwhB,GAAG,SAASxhB,EAAEC,EAAES,GAAG,GAAIE,GAAET,EAAEW,IAAIoC,EAAEqH,CAAY,iBAAHtK,KAAcoD,EAAEoB,KAAKxE,KAAKA,EAAEA,EAAE8D,cAAcnD,EAAEX,EAAEiD,EAAEoH,GAAGpH,EAAE,aAAajD,EAAEE,EAAEH,EAAEY,EAAEF,IAAI+gB,IAAI,SAASzhB,EAAEC,EAAES,GAAG,GAAIE,GAAET,EAAEW,IAAIoC,EAAEqH,CAAY,iBAAHtK,KAAcoD,EAAEoB,KAAKxE,KAAKA,EAAEA,EAAE8D,cAAcnD,EAAEX,EAAEiD,EAAEoH,GAAGpH,EAAE,kBAAkBjD,EAAEE,EAAEH,EAAEY,EAAEF,KAAKgM,MAAMuT,GAAG,SAASjgB,EAAEC,EAAES,GAAG,GAA4B,mBAAlBT,GAAEuM,iBAA8B9L,EAAE,CAAC,GAAIE,GAAEX,EAAEuM,eAAexM,EAAE,GAAI,OAAOY,IAAGA,EAAEiI,YAAYjI,QAAQigB,KAAK,SAAS7gB,EAAEC,GAAG,GAA+B,mBAArBA,GAAEyhB,kBAA+B,CAAsC,IAAI,GAArChhB,MAAKE,EAAEX,EAAEyhB,kBAAkB1hB,EAAE,IAAYc,EAAE,EAAEX,EAAES,EAAEgD,OAAO9C,EAAEX,EAAEW,IAAIF,EAAEE,GAAGqI,aAAa,UAAUnJ,EAAE,IAAIU,EAAEyK,KAAKvK,EAAEE,GAAI,OAAkB,KAAXJ,EAAEkD,OAAW,KAAKlD,IAAIqgB,IAAI,SAAS/gB,EAAEC,GAAG,GAAkC,mBAAxBA,GAAEwG,qBAAkC,MAAOxG,GAAEwG,qBAAqBzG,EAAE,MAAMugB,WAAWK,MAAM,SAAS5gB,EAAEC,EAAES,EAAEE,EAAEE,EAAEX,GAAgC,GAA7BH,EAAE,IAAIA,EAAE,GAAGkE,QAAQd,EAAE,IAAI,IAAOjD,EAAE,MAAOH,EAAE,KAAI,GAAQmD,GAAJD,EAAE,EAAc,OAATC,EAAElD,EAAEiD,IAAUA,IAAIC,IAAIrC,GAAGqC,EAAE2P,YAAY,IAAI3P,EAAE2P,UAAU,KAAK5O,QAAQ,YAAY,KAAKuH,QAAQzL,IAAI,GAAGU,GAAGE,EAAEuK,KAAKhI,GAAGzC,IAAIT,EAAEiD,IAAG,GAAK,QAAM,GAAI+c,GAAG,SAASjgB,GAAG,MAAOA,GAAE,GAAGkE,QAAQd,EAAE,KAAK2d,IAAI,SAAS/gB,EAAEC,GAAG,MAAOD,GAAE,GAAGkE,QAAQd,EAAE,IAAIW,eAAeid,MAAM,SAAShhB,GAAG,GAAU,QAAPA,EAAE,GAAW,CAACA,EAAE,IAAIsD,EAAEW,MAAMjE,EAAE,IAAIA,EAAE,GAAGA,EAAE,GAAGkE,QAAQ,WAAW,GAAI,IAAIjE,GAAE,6BAA6B8L,KAAY,SAAP/L,EAAE,IAAa,MAAa,QAAPA,EAAE,IAAY,SAAS,KAAKyE,KAAKzE,EAAE,KAAK,MAAMA,EAAE,IAAIA,EAAE,GAAIA,GAAE,GAAGC,EAAE,IAAIA,EAAE,IAAI,GAAG,EAAED,EAAE,GAAGC,EAAE,GAAG,MAAOD,GAAE,IAAIsD,EAAEW,MAAMjE,EAAE,GAAa,OAATA,GAAE,GAAGc,IAAWd,GAAG8gB,KAAK,SAAS9gB,EAAEC,EAAES,EAAEE,EAAEE,EAAEX,GAAG,GAAI+C,GAAElD,EAAE,GAAGA,EAAE,GAAGkE,QAAQd,EAAE,GAA+G,QAA1GjD,GAAGqD,EAAE2d,QAAQje,KAAKlD,EAAE,GAAGwD,EAAE2d,QAAQje,IAAIlD,EAAE,IAAIA,EAAE,IAAIA,EAAE,IAAI,IAAIkE,QAAQd,EAAE,IAAW,OAAPpD,EAAE,KAAYA,EAAE,GAAG,IAAIA,EAAE,GAAG,KAAYA,GAAGkhB,OAAO,SAASjhB,EAAES,EAAEE,EAAEE,EAAEX,GAAG,GAAU,QAAPF,EAAE,GAAW,CAAA,MAAID,EAAE+L,KAAK9L,EAAE,KAAK,IAAI2D,OAAO,GAAG,MAAMa,KAAKxE,EAAE,KAAiC,CAAC,GAAIiD,GAAEI,EAAEoF,OAAOzI,EAAE,GAAGS,EAAEE,GAAE,EAAGT,EAAwB,OAArBS,IAAGE,EAAEqK,KAAK/I,MAAMtB,EAAEoC,IAAS,EAAvFjD,EAAE,GAAGqD,EAAErD,EAAE,GAAG,KAAK,KAAKS,OAAyE,IAAG8C,EAAEwc,MAAMiB,IAAIxc,KAAKxE,EAAE,KAAKuD,EAAEwc,MAAMgB,MAAMvc,KAAKxE,EAAE,IAAI,OAAM,CAAG,OAAOA,IAAGghB,IAAI,SAASjhB,GAAiB,MAAdA,GAAE0E,SAAQ,GAAW1E,IAAI2hB,SAASC,QAAQ,SAAS5hB,GAAG,MAAOA,GAAE+Q,YAAW,GAAa,WAAT/Q,EAAE8E,MAAiBiM,SAAS,SAAS/Q,GAAG,MAAOA,GAAE+Q,YAAW,GAAInK,QAAQ,SAAS5G,GAAG,MAAOA,GAAE4G,WAAU,GAAIM,SAAS,SAASlH,GAA4C,MAAzCA,GAAE6I,YAAY7I,EAAE6I,WAAWoP,cAAqBjY,EAAEkH,YAAW,GAAI2a,OAAO,SAAS7hB,GAAG,QAAQA,EAAEqG,YAAYyK,MAAM,SAAS9Q,GAAG,OAAOA,EAAEqG,YAAYoK,IAAI,SAASzQ,EAAEC,EAAES,GAAG,QAAQ4C,EAAE5C,EAAE,GAAGV,GAAG4D,QAAQke,OAAO,SAAS9hB,GAAG,MAAM,OAAOyE,KAAKzE,EAAEuG,WAAWc,KAAK,SAASrH,GAAG,GAAIC,GAAED,EAAEmJ,aAAa,QAAQzI,EAAEV,EAAE8E,IAAK,OAAkC,UAA3B9E,EAAEuG,SAASxC,eAAyB,SAASrD,IAAIT,IAAIS,GAAO,OAAJT,IAAW8hB,MAAM,SAAS/hB,GAAG,MAAkC,UAA3BA,EAAEuG,SAASxC,eAAyB,UAAU/D,EAAE8E,MAAMkd,SAAS,SAAShiB,GAAG,MAAkC,UAA3BA,EAAEuG,SAASxC,eAAyB,aAAa/D,EAAE8E,MAAMmd,KAAK,SAASjiB,GAAG,MAAkC,UAA3BA,EAAEuG,SAASxC,eAAyB,SAAS/D,EAAE8E,MAAMod,SAAS,SAASliB,GAAG,MAAkC,UAA3BA,EAAEuG,SAASxC,eAAyB,aAAa/D,EAAE8E,MAAMqP,OAAO,SAASnU,GAAG,GAAIC,GAAED,EAAEuG,SAASxC,aAAc,QAAW,UAAJ9D,GAAiB,WAAJA,IAAe,WAAWD,EAAE8E,MAAMqd,MAAM,SAASniB,GAAG,MAAkC,UAA3BA,EAAEuG,SAASxC,eAAyB,UAAU/D,EAAE8E,MAAMsd,MAAM,SAASpiB,GAAG,GAAIC,GAAED,EAAEuG,SAASxC,aAAc,QAAW,UAAJ9D,GAAiB,WAAJA,IAAe,UAAUD,EAAE8E,MAAM4U,OAAO,SAAS1Z,GAAG,GAAIC,GAAED,EAAEuG,SAASxC,aAAc,OAAW,UAAJ9D,GAAa,WAAWD,EAAE8E,MAAU,WAAJ7E,GAAcoiB,MAAM,SAASriB,GAAG,MAAM,gCAAgCyE,KAAKzE,EAAEuG,WAAWsX,MAAM,SAAS7d,GAAG,MAAOA,KAAIA,EAAEkI,cAAcoa,gBAAgBC,YAAYnV,MAAM,SAASpN,EAAEC,GAAG,MAAW,KAAJA,GAAOoN,KAAK,SAASrN,EAAEC,EAAES,EAAEE,GAAG,MAAOX,KAAIW,EAAEgD,OAAO,GAAG4e,KAAK,SAASxiB,EAAEC,GAAG,MAAOA,GAAE,IAAI,GAAGwiB,IAAI,SAASziB,EAAEC,GAAG,MAAOA,GAAE,IAAI,GAAGyiB,GAAG,SAAS1iB,EAAEC,EAAES,GAAG,MAAOT,GAAES,EAAE,GAAG,GAAGiiB,GAAG,SAAS3iB,EAAEC,EAAES,GAAG,MAAOT,GAAES,EAAE,GAAG,GAAGkiB,IAAI,SAAS5iB,EAAEC,EAAES,GAAG,MAAOA,GAAE,GAAG,IAAIT,GAAGkN,GAAG,SAASnN,EAAEC,EAAES,GAAG,MAAOA,GAAE,GAAG,IAAIT,IAAIyI,QAAQwY,OAAO,SAASlhB,EAAEC,EAAES,EAAEE,GAAG,GAAIE,GAAEb,EAAE,GAAGE,EAAEqD,EAAEme,QAAQ7gB,EAAG,IAAGX,EAAE,MAAOA,GAAEH,EAAEU,EAAET,EAAEW,EAAG,IAAO,aAAJE,EAAe,OAAOd,EAAEygB,aAAazgB,EAAE0gB,WAAWnd,GAAGvD,KAAK,IAAIyL,QAAQxL,EAAE,KAAK,CAAE,IAAO,QAAJa,EAAU,CAAY,IAAI,GAAXoC,GAAEjD,EAAE,GAAWkD,EAAE,EAAEQ,EAAET,EAAEU,OAAOT,EAAEQ,EAAER,IAAI,GAAGD,EAAEC,KAAKnD,EAAE,OAAM,CAAG,QAAM,EAAGsD,EAAEW,MAAMnD,IAAIkgB,MAAM,SAAShhB,EAAEC,GAAG,GAAIS,GAAEI,EAAEX,EAAE+C,EAAIS,EAAEP,EAAES,EAAE5D,EAAE,GAAGoD,EAAErD,CAAE,QAAO6D,GAAG,IAAI,OAAO,IAAI,QAAQ,KAAMR,EAAEA,EAAEie,iBAAgB,GAAgB,IAAbje,EAAEhD,SAAa,OAAM,CAAG,IAAO,UAAJwD,EAAY,OAAM,CAAGR,GAAErD,CAAE,KAAI,OAAO,KAAMqD,EAAEA,EAAE4R,aAAY,GAAgB,IAAb5R,EAAEhD,SAAa,OAAM,CAAG,QAAM,CAAG,KAAI,MAAoB,GAAdK,EAAET,EAAE,GAAGa,EAAEb,EAAE,GAAU,IAAJS,GAAW,IAAJI,EAAM,OAAM,CAAyB,IAAtBX,EAAEF,EAAE,GAAGiD,EAAElD,EAAE6I,WAAc3F,IAAIA,EAAEtC,KAAKT,IAAIH,EAAE6iB,WAAW,CAAK,IAAJlf,EAAE,EAAMN,EAAEH,EAAEmD,WAAWhD,EAAEA,EAAEA,EAAE4R,YAAyB,IAAb5R,EAAEhD,WAAegD,EAAEwf,YAAYlf,EAAGT,GAAEtC,GAAGT,EAAkB,MAAhBiD,GAAEpD,EAAE6iB,UAAU/hB,EAAa,IAAJJ,EAAU,IAAJ0C,EAAMA,EAAE1C,IAAI,GAAG0C,EAAE1C,GAAG,IAAIuf,GAAG,SAASjgB,EAAEC,GAAG,MAAoB,KAAbD,EAAEK,UAAcL,EAAEmJ,aAAa,QAAQlJ,GAAG8gB,IAAI,SAAS/gB,EAAEC,GAAG,MAAW,MAAJA,GAAsB,IAAbD,EAAEK,YAAgBL,EAAEuG,UAAUvG,EAAEuG,SAASxC,gBAAgB9D,GAAG2gB,MAAM,SAAS5gB,EAAEC,GAAG,OAAO,KAAKD,EAAE8S,WAAW9S,EAAEmJ,aAAa,UAAU,KAAKsC,QAAQxL,IAAG,GAAI6gB,KAAK,SAAS9gB,EAAEC,GAAG,GAAIS,GAAET,EAAE,GAAGW,EAAE0C,EAAE2I,KAAK3I,EAAE2I,KAAKjM,EAAEU,GAAG8C,EAAE4d,WAAW1gB,GAAG8C,EAAE4d,WAAW1gB,GAAGV,GAAS,MAANA,EAAEU,GAASV,EAAEU,GAAGV,EAAEmJ,aAAazI,GAAGI,EAAEF,EAAE,GAAGT,EAAEF,EAAE,GAAGiD,EAAEjD,EAAE,EAAG,OAAU,OAAHW,EAAY,OAAJT,GAAUA,GAAGmD,EAAE2I,KAAQ,MAAHrL,EAAY,MAAJT,EAAQW,IAAIoC,EAAM,OAAJ/C,EAASW,EAAE2K,QAAQvI,IAAI,EAAM,OAAJ/C,GAAU,IAAIW,EAAE,KAAK2K,QAAQvI,IAAI,EAAEA,EAAM,OAAJ/C,EAASW,IAAIoC,EAAM,OAAJ/C,EAAwB,IAAfW,EAAE2K,QAAQvI,GAAW,OAAJ/C,EAASW,EAAE0E,OAAO1E,EAAE8C,OAAOV,EAAEU,UAAUV,EAAM,OAAJ/C,IAASW,IAAIoC,GAAGpC,EAAE0E,OAAO,EAAEtC,EAAEU,OAAO,KAAKV,EAAE,KAAOpC,GAAGF,KAAI,GAAIqgB,IAAI,SAASjhB,EAAEC,EAAES,EAAEE,GAAG,GAAIE,GAAEb,EAAE,GAAGE,EAAEqD,EAAE+e,WAAWzhB,EAAG,IAAGX,EAAE,MAAOA,GAAEH,EAAEU,EAAET,EAAEW,MAAM6C,EAAED,EAAEwc,MAAMiB,IAAIhX,EAAE,SAASjK,EAAEC,GAAG,MAAM,MAAMA,EAAE,EAAE,GAAI,KAAI,GAAIiK,KAAK1G,GAAEwc,MAAMxc,EAAEwc,MAAM9V,GAAG,GAAI2P,QAAOrW,EAAEwc,MAAM9V,GAAG4Y,OAAO,2BAA2BA,QAAQtf,EAAE8c,UAAUpW,GAAG,GAAI2P,QAAO,mBAAmBiJ,OAAOtf,EAAEwc,MAAM9V,GAAG4Y,OAAO5e,QAAQ,WAAW+F,GAAIzG,GAAEwc,MAAM+C,UAAUtf,CAAE,IAAIpE,GAAE,SAASW,EAAEC,GAAqC,MAAlCD,GAAEkL,MAAML,UAAUxI,MAAMmG,KAAKxI,EAAE,GAAMC,GAAGA,EAAEkL,KAAK/I,MAAMnC,EAAED,GAAUC,GAASD,EAAG,KAAIkL,MAAML,UAAUxI,MAAMmG,KAAK9H,EAAE+I,gBAAgB6C,WAAW,GAAG,GAAGjM,SAAS,MAAM8J,GAAG9K,EAAE,SAASW,EAAEC,GAAG,GAAIS,GAAE,EAAEE,EAAEX,KAAM,IAAe,mBAAZiD,EAAEsF,KAAKxI,GAAsBkL,MAAML,UAAUM,KAAK/I,MAAMxB,EAAEZ,OAAQ,IAAoB,gBAAVA,GAAE4D,OAAiB,IAAI,GAAI9C,GAAEd,EAAE4D,OAAOlD,EAAEI,EAAEJ,IAAIE,EAAEuK,KAAKnL,EAAEU,QAAS,MAAKV,EAAEU,GAAGA,IAAIE,EAAEuK,KAAKnL,EAAEU,GAAI,OAAOE,IAAG,GAAIwJ,GAAEC,CAAE3J,GAAE+I,gBAAgBuZ,wBAAwB5Y,EAAE,SAASpK,EAAEC,GAAG,MAAGD,KAAIC,GAAGkD,GAAE,EAAU,GAAMnD,EAAEgjB,yBAA0B/iB,EAAE+iB,wBAAkG,EAA7BhjB,EAAEgjB,wBAAwB/iB,IAAK,EAAG,EAAxED,EAAEgjB,yBAAwB,EAAG,IAA+C5Y,EAAE,SAASpK,EAAEC,GAAG,GAAGD,IAAIC,EAAQ,MAALkD,IAAE,EAAU,CAAE,IAAGnD,EAAEijB,aAAahjB,EAAEgjB,YAAY,MAAOjjB,GAAEijB,YAAYhjB,EAAEgjB,WAAY,IAAIviB,GAAEE,EAAEE,KAAKX,KAAK+C,EAAElD,EAAE6I,WAAWlF,EAAE1D,EAAE4I,WAAWzF,EAAEF,CAAE,IAAGA,IAAIS,EAAE,MAAO0G,GAAErK,EAAEC,EAAG,KAAIiD,EAAE,OAAM,CAAG,KAAIS,EAAE,MAAO,EAAE,MAAMP,GAAEtC,EAAE4D,QAAQtB,GAAGA,EAAEA,EAAEyF,UAAe,KAAJzF,EAAEO,EAAQP,GAAEjD,EAAEuE,QAAQtB,GAAGA,EAAEA,EAAEyF,UAAWnI,GAAEI,EAAE8C,OAAOhD,EAAET,EAAEyD,MAAO,KAAI,GAAIC,GAAE,EAAEA,EAAEnD,GAAGmD,EAAEjD,EAAEiD,IAAI,GAAG/C,EAAE+C,KAAK1D,EAAE0D,GAAG,MAAOwG,GAAEvJ,EAAE+C,GAAG1D,EAAE0D,GAAI,OAAOA,KAAInD,EAAE2J,EAAErK,EAAEG,EAAE0D,IAAG,GAAIwG,EAAEvJ,EAAE+C,GAAG5D,EAAE,IAAIoK,EAAE,SAASrK,EAAEC,EAAES,GAAG,GAAGV,IAAIC,EAAE,MAAOS,EAAsB,KAApB,GAAIE,GAAEZ,EAAEiV,YAAkBrU,GAAE,CAAC,GAAGA,IAAIX,EAAE,OAAM,CAAGW,GAAEA,EAAEqU,YAAY,MAAO,KAAI,WAAW,GAAIjV,GAAEU,EAAEQ,cAAc,OAAON,EAAE,UAAS,GAAKiP,OAAMC,UAAUhP,EAAEJ,EAAE+I,eAAgBzJ,GAAEmG,UAAU,YAAYvF,EAAE,MAAME,EAAEyT,aAAavU,EAAEc,EAAEuF,YAAY3F,EAAE8L,eAAe5L,KAAK4C,EAAEkJ,KAAKuT,GAAG,SAASjgB,EAAEU,EAAEE,GAAG,GAA4B,mBAAlBF,GAAE8L,iBAA8B5L,EAAE,CAAC,GAAIE,GAAEJ,EAAE8L,eAAexM,EAAE,GAAI,OAAOc,GAAEA,EAAE2L,KAAKzM,EAAE,IAA+B,mBAApBc,GAAEwY,kBAA+BxY,EAAEwY,iBAAiB,MAAME,YAAYxZ,EAAE,IAAIc,GAAGb,OAAOuD,EAAEkF,OAAOuX,GAAG,SAASjgB,EAAEC,GAAG,GAAIS,GAA6B,mBAApBV,GAAEsZ,kBAA+BtZ,EAAEsZ,iBAAiB,KAAM,OAAoB,KAAbtZ,EAAEK,UAAcK,GAAGA,EAAE8Y,YAAYvZ,IAAIa,EAAEiB,YAAY/B,GAAGc,EAAEd,EAAE,QAAQ,WAAW,GAAIA,GAAEU,EAAEQ,cAAc,MAAOlB,GAAEsB,YAAYZ,EAAEwiB,cAAc,KAAKljB,EAAEyG,qBAAqB,KAAK7C,OAAO,IAAIJ,EAAEkJ,KAAKqU,IAAI,SAAS/gB,EAAEC,GAAG,GAAIS,GAAET,EAAEwG,qBAAqBzG,EAAE,GAAI,IAAU,MAAPA,EAAE,GAAS,CAAU,IAAI,GAATY,MAAaE,EAAE,EAAEJ,EAAEI,GAAGA,IAAoB,IAAhBJ,EAAEI,GAAGT,UAAcO,EAAEuK,KAAKzK,EAAEI,GAAIJ,GAAEE,EAAE,MAAOF,KAAIV,EAAEmG,UAAU,mBAAmBnG,EAAEqG,YAA8C,mBAA3BrG,GAAEqG,WAAW8C,cAA+D,MAApCnJ,EAAEqG,WAAW8C,aAAa,UAAgB3F,EAAE4d,WAAW7H,KAAK,SAASvZ,GAAG,MAAOA,GAAEmJ,aAAa,OAAO,KAAKnJ,EAAE,QAAQU,EAAEoG,kBAAkB,WAAW,GAAI9G,GAAEsD,EAAErD,EAAES,EAAEQ,cAAc,OAAON,EAAE,YAAgD,IAAnCX,EAAEkG,UAAU,wBAA2BlG,EAAE6G,kBAAuD,IAArC7G,EAAE6G,iBAAiB,SAASlD,OAAW,CAACN,EAAE,SAASrD,EAAEa,EAAEX,EAAE+C,GAAU,GAAPpC,EAAEA,GAAGJ,GAAMwC,IAAII,EAAEwc,MAAMhf,GAAG,CAAC,GAAIqC,GAAE,qCAAqC4I,KAAK9L,EAAG,IAAGkD,IAAiB,IAAbrC,EAAET,UAA2B,IAAbS,EAAET,UAAc,CAAC,GAAG8C,EAAE,GAAG,MAAO9D,GAAEyB,EAAE2F,qBAAqBxG,GAAGE,EAAG,IAAGgD,EAAE,IAAIK,EAAEkJ,KAAKkU,OAAO9f,EAAEqiB,uBAAuB,MAAO9jB,GAAEyB,EAAEqiB,uBAAuBhgB,EAAE,IAAIhD,GAAG,GAAgB,IAAbW,EAAET,SAAa,CAAC,GAAO,SAAJJ,GAAYa,EAAEH,KAAK,MAAOtB,IAAGyB,EAAEH,MAAMR,EAAG,IAAGgD,GAAGA,EAAE,GAAG,CAAC,GAAIQ,GAAE7C,EAAE0L,eAAerJ,EAAE,GAAI,KAAIQ,IAAIA,EAAEkF,WAAW,MAAOxJ,MAAKc,EAAG,IAAGwD,EAAE8I,KAAKtJ,EAAE,GAAG,MAAO9D,IAAGsE,GAAGxD,GAAG,IAAI,MAAOd,GAAEyB,EAAEgG,iBAAiB7G,GAAGE,GAAG,MAAMiD,SAAU,IAAgB,IAAbtC,EAAET,UAAyC,WAA3BS,EAAEyF,SAASxC,cAAyB,CAAC,GAAIF,GAAE/C,EAAEuC,EAAEvC,EAAEqI,aAAa,MAAM5F,EAAEF,GAAGzC,EAAE6C,EAAE3C,EAAE+H,WAAWoB,EAAE,WAAWxF,KAAKxE,EAAGoD,GAAEE,EAAEA,EAAEW,QAAQ,KAAK,QAAQpD,EAAEsR,aAAa,KAAK7O,GAAG0G,GAAGxG,IAAI3C,EAAEA,EAAE+H,WAAY,KAAI,IAAIoB,GAAGxG,EAAE,MAAOpE,GAAEyB,EAAEgG,iBAAiB,QAAQvD,EAAE,MAAMtD,GAAGE,GAAG,MAAM+J,IAAI,QAAQ7G,GAAGQ,EAAE0D,gBAAgB,QAAQ,MAAOvH,GAAEC,EAAEa,EAAEX,EAAE+C,GAAI,KAAI,GAAIpC,KAAKd,GAAEsD,EAAExC,GAAGd,EAAEc,EAAGb,GAAE,SAAS,WAAW,GAAID,GAAEU,EAAE+I,gBAAgBxJ,EAAED,EAAEogB,iBAAiBpgB,EAAEojB,oBAAoBpjB,EAAEqjB,uBAAuBrjB,EAAEsjB,iBAAkB,IAAGrjB,EAAE,CAAC,GAAIW,IAAGX,EAAEuI,KAAK9H,EAAEQ,cAAc,OAAO,OAAOJ,GAAE,CAAG,KAAIb,EAAEuI,KAAK9H,EAAE+I,gBAAgB,qBAAqB,MAAMtJ,GAAGW,GAAE,EAAGwC,EAAE8c,gBAAgB,SAASpgB,EAAEU,GAAiD,GAA9CA,EAAEA,EAAEwD,QAAQ,wBAAwB,WAAcZ,EAAEwc,MAAM9f,GAAG,IAAI,GAAGc,IAAI0C,EAAEwc,MAAMkB,OAAOzc,KAAK/D,KAAK,KAAK+D,KAAK/D,GAAG,CAAC,GAAIP,GAAEF,EAAEuI,KAAKxI,EAAEU,EAAG,IAAGP,IAAIS,GAAGZ,EAAE0B,UAAgC,KAAtB1B,EAAE0B,SAASrB,SAAc,MAAOF,IAAG,MAAM+C,IAAI,MAAOI,GAAE5C,EAAE,KAAK,MAAMV,IAAI4D,OAAO,OAAO,WAAW,GAAI5D,GAAEU,EAAEQ,cAAc,MAAwE,IAAjElB,EAAEmG,UAAU,qDAA0DnG,EAAEmjB,wBAA+D,IAAvCnjB,EAAEmjB,uBAAuB,KAAKvf,OAAW,CAA2B,GAA1B5D,EAAEgU,UAAUlB,UAAU,IAA8C,IAAvC9S,EAAEmjB,uBAAuB,KAAKvf,OAAW,MAAOJ,GAAE6c,MAAM1S,OAAO,EAAE,EAAE,SAASnK,EAAEkJ,KAAKkU,MAAM,SAAS5gB,EAAEC,EAAES,GAAG,GAAoC,mBAA1BT,GAAEkjB,yBAAsCziB,EAAE,MAAOT,GAAEkjB,uBAAuBnjB,EAAE,KAAKA,EAAE,SAASU,EAAE+I,gBAAgBmV,SAAStb,EAAEsb,SAAS,SAAS5e,EAAEC,GAAG,MAAOD,KAAIC,KAAID,EAAE4e,UAAS5e,EAAE4e,SAAS3e,KAAQS,EAAE+I,gBAAgBuZ,wBAAwB1f,EAAEsb,SAAS,SAAS5e,EAAEC,GAAG,SAAsC,GAA7BD,EAAEgjB,wBAAwB/iB,KAAQqD,EAAEsb,SAAS,WAAW,OAAM,GAAItb,EAAEwc,MAAM,SAAS9f,GAAG,GAAIC,IAAGD,EAAEA,EAAEkI,eAAelI,EAAE,GAAGyJ,eAAgB,SAAOxJ,GAAe,SAAbA,EAAEsG,SAAsB,IAAIkE,GAAE,SAASzK,EAAEC,EAAES,GAAsC,IAAnC,GAAIE,GAAEE,KAAKX,EAAE,GAAG+C,EAAEjD,EAAEI,UAAUJ,GAAGA,EAAQW,EAAE4C,EAAEwc,MAAMkB,OAAOnV,KAAK/L,IAAGG,GAAGS,EAAE,GAAGZ,EAAEA,EAAEkE,QAAQV,EAAEwc,MAAMkB,OAAO,GAAIlhB,GAAEwD,EAAEuc,SAAS/f,GAAGA,EAAE,IAAIA,CAAE,KAAI,GAAImD,GAAE,EAAEQ,EAAET,EAAEU,OAAOT,EAAEQ,EAAER,IAAIG,EAAEtD,EAAEkD,EAAEC,GAAGrC,EAAEJ,EAAG,OAAO4C,GAAEoF,OAAOvI,EAAEW,GAAIwC,GAAE2I,KAAK9L,EAAE8L,KAAK3I,EAAEqd,UAAUQ,WAAWhhB,EAAEuM,KAAKpJ,EAAEnD,EAAE+f,KAAK5c,EAAEqd,UAAUxgB,EAAE+f,KAAK,KAAK/f,EAAE+f,KAAKyB,QAAQxhB,EAAEqQ,OAAOlN,EAAE6c,WAAWhgB,EAAEkH,KAAK/D,EAAEkd,QAAQrgB,EAAEmY,SAAShV,EAAEwc,MAAM3f,EAAEye,SAAStb,EAAEsb,WAAY,IAAIhf,IAAE,SAAS2jB,GAAE,iCAAiCC,GAAE,IAAI/a,GAAE,iBAAiBgb,GAAEvY,MAAML,UAAUxI,MAAMqhB,GAAEvjB,EAAE+f,KAAKF,MAAM+C,UAAUY,IAAGC,UAAS,EAAGxf,UAAS,EAAGyf,MAAK,EAAGC,MAAK,EAAI3jB,GAAE4J,GAAG7E,QAAQwH,KAAK,SAAS1M,GAAG,GAAWU,GAAEE,EAATX,EAAET,IAAS,IAAa,gBAAHQ,GAAY,MAAOG,GAAEH,GAAG0I,OAAO,WAAW,IAAIhI,EAAE,EAAEE,EAAEX,EAAE2D,OAAOlD,EAAEE,EAAEF,IAAI,GAAGP,EAAEye,SAAS3e,EAAES,GAAGlB,MAAM,OAAM,GAAK,IAAkC0D,GAAEC,EAAEQ,EAAlC7C,EAAEtB,KAAKwN,UAAU,GAAG,OAAOhN,EAAS,KAAIU,EAAE,EAAEE,EAAEpB,KAAKoE,OAAOlD,EAAEE,EAAEF,IAAoC,GAA/BwC,EAAEpC,EAAE8C,OAAOzD,EAAEuM,KAAK1M,EAAER,KAAKkB,GAAGI,GAAMJ,EAAE,EAAE,IAAIyC,EAAED,EAAEC,EAAErC,EAAE8C,OAAOT,IAAI,IAAIQ,EAAE,EAAEA,EAAET,EAAES,IAAI,GAAG7C,EAAE6C,KAAK7C,EAAEqC,GAAG,CAACrC,EAAE6M,OAAOxK,IAAI,EAAG,OAAO,MAAOrC,IAAG2P,IAAI,SAASzQ,GAAG,GAAIC,GAAEE,EAAEH,EAAG,OAAOR,MAAKkJ,OAAO,WAAW,IAAI,GAAI1I,GAAE,EAAEU,EAAET,EAAE2D,OAAO5D,EAAEU,EAAEV,IAAI,GAAGG,EAAEye,SAASpf,KAAKS,EAAED,IAAI,OAAM,KAAM+jB,IAAI,SAAS/jB,GAAG,MAAOR,MAAKwN,UAAUzE,EAAE/I,KAAKQ,GAAE,GAAI,MAAMA,IAAI0I,OAAO,SAAS1I,GAAG,MAAOR,MAAKwN,UAAUzE,EAAE/I,KAAKQ,GAAE,GAAI,SAASA,IAAIgc,GAAG,SAAShc,GAAG,QAAQA,IAAc,gBAAHA,GAAY0jB,GAAEjf,KAAKzE,GAAGG,EAAEH,EAAER,KAAKoM,SAASoY,MAAMxkB,KAAK,KAAK,EAAEW,EAAEuI,OAAO1I,EAAER,MAAMoE,OAAO,EAAEpE,KAAKkJ,OAAO1I,GAAG4D,OAAO,IAAIqgB,QAAQ,SAASjkB,EAAEC,GAAG,GAASW,GAAEE,EAAPJ,KAASwC,EAAE1D,KAAK,EAAG,IAAGW,EAAEyE,QAAQ5E,GAAG,CAAS,IAAR,GAAImD,GAAE,EAAQD,GAAGA,EAAEgF,eAAehF,IAAIjD,GAAE,CAAC,IAAIW,EAAE,EAAEA,EAAEZ,EAAE4D,OAAOhD,IAAIT,EAAE+C,GAAG8Y,GAAGhc,EAAEY,KAAKF,EAAEyK,MAAMU,SAAS7L,EAAEY,GAAGuZ,KAAKjX,EAAEghB,MAAM/gB,GAAID,GAAEA,EAAE2F,WAAW1F,IAAI,MAAOzC,GAAE,GAAIiD,GAAE+f,GAAEjf,KAAKzE,IAAc,gBAAHA,GAAYG,EAAEH,EAAEC,GAAGT,KAAKoM,SAAS,CAAE,KAAIhL,EAAE,EAAEE,EAAEtB,KAAKoE,OAAOhD,EAAEE,EAAEF,IAAe,IAAVsC,EAAE1D,KAAKoB,GAASsC,GAAE,CAAC,GAAGS,EAAEA,EAAEqgB,MAAM9gB,IAAG,EAAG/C,EAAEuM,KAAK0T,gBAAgBld,EAAElD,GAAG,CAACU,EAAEyK,KAAKjI,EAAG,OAAqB,GAAfA,EAAEA,EAAE2F,YAAe3F,IAAIA,EAAEgF,eAAehF,IAAIjD,GAAgB,KAAbiD,EAAE7C,SAAc,MAAkC,MAA3BK,GAAEA,EAAEkD,OAAO,EAAEzD,EAAEqQ,OAAO9P,GAAGA,EAASlB,KAAKwN,UAAUtM,EAAE,UAAUV,IAAIgkB,MAAM,SAAShkB,GAAG,MAAIA,GAA2E,gBAAHA,GAAmBG,EAAEwI,QAAQnJ,KAAK,GAAGW,EAAEH,IAAWG,EAAEwI,QAAQ3I,EAAE2M,OAAO3M,EAAE,GAAGA,EAAER,MAA3IA,KAAK,IAAIA,KAAK,GAAGqJ,WAAWrJ,KAAK2kB,UAAUvgB,QAAO,GAAgGmE,IAAI,SAAS/H,EAAEC,GAAG,GAAIS,GAAY,gBAAHV,GAAYG,EAAEH,EAAEC,GAAGE,EAAEyM,UAAU5M,GAAGA,EAAEK,UAAUL,GAAGA,GAAGY,EAAET,EAAEoM,MAAM/M,KAAKuN,MAAMrM,EAAG,OAAOlB,MAAKwN,UAAUpE,EAAElI,EAAE,KAAKkI,EAAEhI,EAAE,IAAIA,EAAET,EAAEqQ,OAAO5P,KAAKwjB,QAAQ,WAAW,MAAO5kB,MAAKuI,IAAIvI,KAAKyN,eAAe9M,EAAE8B,MAAM4f,OAAO,SAAS7hB,GAAG,GAAIC,GAAED,EAAE6I,UAAW,OAAO5I,IAAgB,KAAbA,EAAEI,SAAcJ,EAAE,MAAMokB,QAAQ,SAASrkB,GAAG,MAAOG,GAAEmkB,IAAItkB,EAAE,eAAeukB,aAAa,SAASvkB,EAAEC,EAAES,GAAG,MAAOP,GAAEmkB,IAAItkB,EAAE,aAAaU,IAAImjB,KAAK,SAAS7jB,GAAG,MAAOG,GAAEyiB,IAAI5iB,EAAE,EAAE,gBAAgB8jB,KAAK,SAAS9jB,GAAG,MAAOG,GAAEyiB,IAAI5iB,EAAE,EAAE,oBAAoBwkB,QAAQ,SAASxkB,GAAG,MAAOG,GAAEmkB,IAAItkB,EAAE,gBAAgBmkB,QAAQ,SAASnkB,GAAG,MAAOG,GAAEmkB,IAAItkB,EAAE,oBAAoBykB,UAAU,SAASzkB,EAAEC,EAAES,GAAG,MAAOP,GAAEmkB,IAAItkB,EAAE,cAAcU,IAAIgkB,UAAU,SAAS1kB,EAAEC,EAAES,GAAG,MAAOP,GAAEmkB,IAAItkB,EAAE,kBAAkBU,IAAIikB,SAAS,SAAS3kB,GAAG,MAAOG,GAAEykB,SAAS5kB,EAAE6I,gBAAgBxC,WAAWrG,IAAI4jB,SAAS,SAAS5jB,GAAG,MAAOG,GAAEykB,QAAQ5kB,EAAEqG,aAAajC,SAAS,SAASpE,GAAG,MAAOG,GAAEoG,SAASvG,EAAE,UAAUA,EAAEyB,iBAAiBzB,EAAEwB,cAAcE,SAASvB,EAAEyM,UAAU5M,EAAEsM,cAAc,SAAStM,EAAEC,GAAGE,EAAE4J,GAAG/J,GAAG,SAASU,EAAEE,GAAG,GAAIE,GAAEX,EAAEqN,IAAIhO,KAAKS,EAAES,EAAyJ,OAAtJd,IAAE6E,KAAKzE,KAAKY,EAAEF,GAAGE,GAAa,gBAAHA,KAAcE,EAAEX,EAAEuI,OAAO9H,EAAEE,IAAIA,EAAEtB,KAAKoE,OAAO,IAAI+f,GAAE3jB,GAAGG,EAAEqQ,OAAO1P,GAAGA,GAAGtB,KAAKoE,OAAO,GAAG4f,GAAE/e,KAAK7D,KAAK2iB,GAAE9e,KAAKzE,KAAKc,EAAEA,EAAE+jB,WAAkBrlB,KAAKwN,UAAUlM,EAAEd,EAAEyjB,GAAEjb,KAAK8E,WAAWC,KAAK,SAASpN,EAAE+E,QAAQwD,OAAO,SAAS1I,EAAEC,EAAES,GAAwB,MAArBA,KAAIV,EAAE,QAAQA,EAAE,KAAuB,IAAXC,EAAE2D,OAAWzD,EAAEuM,KAAK0T,gBAAgBngB,EAAE,GAAGD,IAAIC,EAAE,OAAOE,EAAEuM,KAAKuP,QAAQjc,EAAEC,IAAIqkB,IAAI,SAAStkB,EAAEU,EAAEE,GAAmB,IAAhB,GAAIE,MAAKoC,EAAElD,EAAEU,GAASwC,GAAgB,IAAbA,EAAE7C,WAAeO,IAAIX,GAAgB,IAAbiD,EAAE7C,WAAeF,EAAE+C,GAAG8Y,GAAGpb,KAAiB,IAAbsC,EAAE7C,UAAcS,EAAEqK,KAAKjI,GAAGA,EAAEA,EAAExC,EAAG,OAAOI,IAAG8hB,IAAI,SAAS5iB,EAAEC,EAAES,EAAEE,GAAGX,EAAEA,GAAG,CAAU,KAAR,GAAIa,GAAE,EAAOd,IAAyB,IAAbA,EAAEK,YAAgBS,IAAIb,GAAhCD,EAAEA,EAAEU,IAAoC,MAAOV,IAAG4kB,QAAQ,SAAS5kB,EAAEC,GAAY,IAAT,GAAIS,MAAUV,EAAEA,EAAEA,EAAEiV,YAAyB,IAAbjV,EAAEK,UAAcL,IAAIC,GAAGS,EAAEyK,KAAKnL,EAAG,OAAOU,KAAK,IAAI0H,IAAE,6JAA6J0c,GAAE,6BAA6BC,GAAE,OAAOC,GAAE,0EAA0EC,GAAE,YAAYtlB,GAAE,UAAUI,GAAE,YAAYmlB,GAAG,qBAAqBC,GAAG,yCAAyCC,GAAG,GAAIvL,QAAO,OAAOzR,GAAE,WAAW,KAAKid,GAAG,oCAAoCC,GAAG,uBAAuBC,GAAG,2BAA2BC,IAAI1N,QAAQ,EAAE,+BAA+B,aAAa2N,QAAQ,EAAE,aAAa,eAAeC,OAAO,EAAE,UAAU,YAAYC,IAAI,EAAE,iBAAiB,oBAAoBC,IAAI,EAAE,qBAAqB,yBAAyBC,KAAK,EAAE,mCAAmC,uBAAuBC,MAAM,EAAE,QAAQ,UAAUlK,UAAU,EAAE,GAAG,KAAK1V,GAAGiC,EAAEzH,EAAG8kB,IAAGO,SAASP,GAAG1N,OAAO0N,GAAGlT,MAAMkT,GAAGQ,MAAMR,GAAGS,SAAST,GAAGU,QAAQV,GAAGE,MAAMF,GAAGW,GAAGX,GAAGI,GAAGzlB,EAAEyB,QAAQ2Q,gBAAgBiT,GAAG5J,UAAU,EAAE,WAAW,WAAWzb,EAAE4J,GAAG7E,QAAQmC,KAAK,SAASrH,GAAG,MAAOG,GAAEyP,OAAOpQ,KAAK,SAASQ,GAAG,MAAOA,KAAIC,EAAEE,EAAEkH,KAAK7H,MAAMA,KAAKsR,QAAQsV,QAAQ5mB,KAAK,IAAIA,KAAK,GAAG0I,eAAexH,GAAG2lB,eAAermB,KAAK,KAAKA,EAAEsN,UAAU1J,SAAS0iB,QAAQ,SAAStmB,GAAG,GAAGG,EAAEmF,WAAWtF,GAAG,MAAOR,MAAKyC,KAAK,SAAShC,GAAGE,EAAEX,MAAM8mB,QAAQtmB,EAAEwI,KAAKhJ,KAAKS,KAAM,IAAGT,KAAK,GAAG,CAAC,GAAIS,GAAEE,EAAEH,EAAER,KAAK,GAAG0I,eAAeiF,GAAG,GAAGf,OAAM,EAAI5M,MAAK,GAAGqJ,YAAY5I,EAAEsU,aAAa/U,KAAK,IAAIS,EAAEuN,IAAI,WAAsB,IAAX,GAAIxN,GAAER,KAAWQ,EAAEqG,YAAoC,IAAxBrG,EAAEqG,WAAWhG,UAAaL,EAAEA,EAAEqG;AAAW,MAAOrG,KAAIomB,OAAO5mB,MAAM,MAAOA,OAAM+mB,UAAU,SAASvmB,GAAG,MAAGG,GAAEmF,WAAWtF,GAAUR,KAAKyC,KAAK,SAAShC,GAAGE,EAAEX,MAAM+mB,UAAUvmB,EAAEwI,KAAKhJ,KAAKS,MAAaT,KAAKyC,KAAK,WAAW,GAAIhC,GAAEE,EAAEX,MAAMkB,EAAET,EAAEmE,UAAW1D,GAAEkD,OAAOlD,EAAE4lB,QAAQtmB,GAAGC,EAAEmmB,OAAOpmB,MAAMwmB,KAAK,SAASxmB,GAAG,GAAIC,GAAEE,EAAEmF,WAAWtF,EAAG,OAAOR,MAAKyC,KAAK,SAASvB,GAAGP,EAAEX,MAAM8mB,QAAQrmB,EAAED,EAAEwI,KAAKhJ,KAAKkB,GAAGV,MAAMymB,OAAO,WAAW,MAAOjnB,MAAKqiB,SAAS5f,KAAK,WAAW9B,EAAEoG,SAAS/G,KAAK,SAASW,EAAEX,MAAMknB,YAAYlnB,KAAK8M,cAAcmB,OAAO2Y,OAAO,WAAW,MAAO5mB,MAAKmnB,SAASrZ,WAAU,EAAG,SAAStN,GAAmB,IAAhBR,KAAKa,UAAcb,KAAK8B,YAAYtB,MAAM4mB,QAAQ,WAAW,MAAOpnB,MAAKmnB,SAASrZ,WAAU,EAAG,SAAStN,GAAmB,IAAhBR,KAAKa,UAAcb,KAAK+U,aAAavU,EAAER,KAAK6G,eAAewgB,OAAO,WAAW,GAAGrnB,KAAK,IAAIA,KAAK,GAAGqJ,WAAW,MAAOrJ,MAAKmnB,SAASrZ,WAAU,EAAG,SAAStN,GAAGR,KAAKqJ,WAAW0L,aAAavU,EAAER,OAAQ,IAAG8N,UAAU1J,OAAO,CAAC,GAAI5D,GAAEG,EAC///B2mB,MAAMxZ,UAA0C,OAA/BtN,GAAEmL,KAAK/I,MAAMpC,EAAER,KAAKsN,WAAkBtN,KAAKwN,UAAUhN,EAAE,SAASsN,aAAayZ,MAAM,WAAW,GAAGvnB,KAAK,IAAIA,KAAK,GAAGqJ,WAAW,MAAOrJ,MAAKmnB,SAASrZ,WAAU,EAAG,SAAStN,GAAGR,KAAKqJ,WAAW0L,aAAavU,EAAER,KAAKyV,cAAe,IAAG3H,UAAU1J,OAAO,CAAC,GAAI5D,GAAER,KAAKwN,UAAUxN,KAAK,QAAQ8N,UAA8C,OAAnCtN,GAAEmL,KAAK/I,MAAMpC,EAAEG,EAAE2mB,MAAMxZ,YAAmBtN,IAAIgB,OAAO,SAAShB,EAAEC,GAAG,IAAI,GAAQW,GAAJF,EAAE,EAAiB,OAAZE,EAAEpB,KAAKkB,IAAUA,IAAQV,IAAGG,EAAEuI,OAAO1I,GAAGY,IAAIgD,UAAQ3D,GAAgB,IAAbW,EAAEP,WAAeF,EAAE6mB,UAAUpmB,EAAE6F,qBAAqB,MAAMtG,EAAE6mB,WAAWpmB,KAAKA,EAAEiI,YAAYjI,EAAEiI,WAAW9G,YAAYnB,GAAG,OAAOpB,OAAMsR,MAAM,WAAW,IAAI,GAAQ7Q,GAAJD,EAAE,EAAiB,OAAZC,EAAET,KAAKQ,IAAUA,IAA8D,IAA5C,IAAbC,EAAEI,UAAcF,EAAE6mB,UAAU/mB,EAAEwG,qBAAqB,MAAYxG,EAAEoG,YAAWpG,EAAE8B,YAAY9B,EAAEoG,WAAY,OAAO7G,OAAM4M,MAAM,SAASpM,EAAEC,GAAgC,MAA7BD,GAAK,MAAHA,GAAWA,EAAEC,EAAK,MAAHA,EAAQD,EAAEC,EAAST,KAAKgO,IAAI,WAAW,MAAOrN,GAAEiM,MAAM5M,KAAKQ,EAAEC,MAAMmY,KAAK,SAASpY,GAAG,MAAOG,GAAEyP,OAAOpQ,KAAK,SAASQ,GAAG,GAAIU,GAAElB,KAAK,OAAOoB,EAAE,EAAEE,EAAEtB,KAAKoE,MAAO,IAAG5D,IAAIC,EAAE,MAAoB,KAAbS,EAAEL,SAAaK,EAAEyF,UAAUjC,QAAQ4gB,GAAE,IAAI,IAAK,IAAa,gBAAH9kB,KAAcklB,GAAGzgB,KAAKzE,KAAKG,EAAEyB,QAAQyQ,oBAAoB0S,GAAEtgB,KAAKzE,MAAMwlB,IAAIP,GAAElZ,KAAK/L,KAAK,GAAG,KAAK,GAAG+D,eAAe,CAAC/D,EAAEA,EAAEkE,QAAQ8gB,GAAE,YAAa,KAAI,KAAKpkB,EAAEE,EAAEF,IAAIF,EAAElB,KAAKoB,OAAoB,IAAbF,EAAEL,WAAeF,EAAE6mB,UAAUtmB,EAAE+F,qBAAqB,MAAM/F,EAAEyF,UAAUnG,EAAGU,GAAE,EAAE,MAAMwC,KAAKxC,GAAGlB,KAAKsR,QAAQsV,OAAOpmB,IAAI,KAAKA,EAAEsN,UAAU1J,SAAS8iB,YAAY,SAAS1mB,GAAG,MAAGR,MAAK,IAAIA,KAAK,GAAGqJ,WAAe1I,EAAEmF,WAAWtF,GAAUR,KAAKyC,KAAK,SAAShC,GAAG,GAAIS,GAAEP,EAAEX,MAAMoB,EAAEF,EAAE0X,MAAO1X,GAAEgmB,YAAY1mB,EAAEwI,KAAKhJ,KAAKS,EAAEW,OAAgB,gBAAHZ,KAAcA,EAAEG,EAAEH,GAAGinB,UAAiBznB,KAAKyC,KAAK,WAAW,GAAIhC,GAAET,KAAKyV,YAAYvU,EAAElB,KAAKqJ,UAAW1I,GAAEX,MAAMwB,SAASf,EAAEE,EAAEF,GAAG4mB,OAAO7mB,GAAGG,EAAEO,GAAG0lB,OAAOpmB,MAAYR,KAAKoE,OAAOpE,KAAKwN,UAAU7M,EAAEA,EAAEmF,WAAWtF,GAAGA,IAAIA,GAAG,cAAcA,GAAGR,MAAMynB,OAAO,SAASjnB,GAAG,MAAOR,MAAKwB,OAAOhB,GAAE,IAAK2mB,SAAS,SAAS3mB,EAAEU,EAAEE,GAAG,GAAIE,GAAEoC,EAAEC,EAAEQ,EAAEP,EAAEpD,EAAE,GAAG6D,IAAK,KAAI1D,EAAEyB,QAAQqS,YAA+B,IAAnB3G,UAAU1J,QAAsB,gBAAHR,IAAaiiB,GAAG5gB,KAAKrB,GAAG,MAAO5D,MAAKyC,KAAK,WAAW9B,EAAEX,MAAMmnB,SAAS3mB,EAAEU,EAAEE,GAAE,IAAM,IAAGT,EAAEmF,WAAWlC,GAAG,MAAO5D,MAAKyC,KAAK,SAASnB,GAAG,GAAIoC,GAAE/C,EAAEX,KAAMQ,GAAE,GAAGoD,EAAEoF,KAAKhJ,KAAKsB,EAAEJ,EAAEwC,EAAEkV,OAAOnY,GAAGiD,EAAEyjB,SAAS3mB,EAAEU,EAAEE,IAAK,IAAGpB,KAAK,GAAG,CAA+M,GAA9MmE,EAAEP,GAAGA,EAAEyF,WAAuF/H,EAA5EX,EAAEyB,QAAQiH,YAAYlF,GAAgB,KAAbA,EAAEtD,UAAesD,EAAE2I,WAAW1I,SAASpE,KAAKoE,QAAUyI,SAAS1I,GAAKxD,EAAE+L,cAAclM,EAAER,KAAKqE,GAAGV,EAAErC,EAAEuL,SAAiCnJ,EAAF,IAAtBC,EAAEmJ,WAAW1I,OAAaT,EAAEA,EAAEkD,WAAalD,EAAEkD,WAAcnD,EAAE,CAACxC,EAAEA,GAAGP,EAAEoG,SAASrD,EAAE,KAAM,KAAI,GAAIG,GAAE,EAAEC,EAAE9D,KAAKoE,OAAOL,EAAED,EAAE,EAAED,EAAEC,EAAED,IAAIzC,EAAE4H,KAAK9H,EAAEuH,EAAGzI,KAAK6D,GAAGH,GAAG1D,KAAK6D,GAAGvC,EAAEqL,WAAW7I,EAAE,GAAGD,EAAEE,EAAEpD,EAAEiM,MAAMjJ,GAAE,GAAG,GAAIA,GAAGU,EAAED,QAAQzD,EAAE8B,KAAK4B,EAAE,SAAS7D,EAAEC,GAAGA,EAAEinB,IAAI/mB,EAAEgnB,MAAMriB,KAAK,MAAM6V,QAAO,EAAGyM,IAAInnB,EAAEinB,IAAIjY,OAAM,EAAGhM,SAAS,WAAW9C,EAAEiP,YAAYnP,EAAEoH,MAAMpH,EAAEwgB,aAAaxgB,EAAEkG,WAAW,IAAIjC,QAAQqhB,GAAG,WAAWtlB,EAAE4I,YAAY5I,EAAE4I,WAAW9G,YAAY9B,KAAK,MAAOT,SAAQW,EAAE+L,cAAc,SAASlM,EAAEC,EAAEW,GAAG,GAAIE,GAAEoC,EAAEC,EAAEQ,EAAEP,EAAEpD,EAAE,EAA+V,OAA5VC,IAAGA,EAAE,KAAK0D,EAAE1D,EAAE,GAAGiI,eAAejI,EAAE,IAAI0D,EAAE0E,yBAAyB1E,EAAEjD,GAAc,IAAXV,EAAE4D,QAAsB,gBAAHR,IAAaA,EAAEQ,OAAO,KAAKD,IAAIjD,GAAiB,MAAd0C,EAAE0I,OAAO,KAAWqZ,GAAG1gB,KAAKrB,KAAKjD,EAAEyB,QAAQqS,aAAaoR,GAAG5gB,KAAKrB,MAAMjD,EAAEyB,QAAQoR,aAAaoS,GAAG3gB,KAAKrB,MAAMF,GAAE,EAAGC,EAAEhD,EAAEknB,UAAUjkB,GAAGD,GAAO,IAAJA,IAAQrC,EAAEqC,IAAIrC,IAAIA,EAAE6C,EAAE0E,yBAAyBlI,EAAE2mB,MAAM9mB,EAAE2D,EAAE7C,EAAEF,IAAIsC,IAAI/C,EAAEknB,UAAUjkB,GAAGD,EAAErC,EAAE,IAAUuL,SAASvL,EAAEqL,UAAUjJ,IAAI/C,EAAEknB,aAAalnB,EAAE8B,MAAMpB,SAAS,SAASymB,UAAU,UAAU/S,aAAa,SAASgT,YAAY,QAAQC,WAAW,eAAe,SAASxnB,EAAEC,GAAGE,EAAE4J,GAAG/J,GAAG,SAASU,GAAG,GAAIE,MAAKE,EAAEX,EAAEO,GAAGwC,EAAgB,IAAd1D,KAAKoE,QAAYpE,KAAK,GAAGqJ,UAAW,IAAG3F,GAAgB,KAAbA,EAAE7C,UAAqC,IAAtB6C,EAAEoJ,WAAW1I,QAAuB,IAAX9C,EAAE8C,OAA0B,MAAd9C,GAAEb,GAAGT,KAAK,IAAWA,IAAK,KAAI,GAAI2D,GAAE,EAAEQ,EAAE7C,EAAE8C,OAAOT,EAAEQ,EAAER,IAAI,CAAC,GAAIC,IAAGD,EAAE,EAAE3D,KAAK4M,OAAM,GAAI5M,MAAMuN,KAAM5M,GAAEW,EAAEqC,IAAIlD,GAAGmD,GAAGxC,EAAEA,EAAEuB,OAAOiB,GAAG,MAAO5D,MAAKwN,UAAUpM,EAAEZ,EAAEc,EAAE+K,aAAa1L,EAAE+E,QAAQkH,MAAM,SAASpM,EAAEC,EAAES,GAAG,GAAIE,GAAEE,EAAEoC,EAAEC,EAAEhD,EAAEyB,QAAQoR,YAAY7S,EAAEmY,SAAStY,KAAKolB,GAAG3gB,KAAK,IAAIzE,EAAEuG,SAAS,KAAKvG,EAAEiT,WAAU,GAAIhN,EAAGjG,EAAG,MAAKG,EAAEyB,QAAQ0R,cAAenT,EAAEyB,QAAQgS,gBAA+B,IAAb5T,EAAEK,UAA2B,KAAbL,EAAEK,UAAiBF,EAAEmY,SAAStY,IAA4B,IAAxB+G,EAAG/G,EAAEmD,GAAGvC,EAAEiG,EAAG7G,GAAGc,EAAE+F,EAAG1D,GAAOD,EAAE,EAAEtC,EAAEsC,KAAKA,EAAEpC,EAAEoC,IAAI6D,EAAGnG,EAAEsC,GAAGpC,EAAEoC,GAAI,IAAGjD,IAAGwH,EAAGzH,EAAEmD,GAAMzC,GAAmB,IAAhBE,EAAEiG,EAAG7G,GAAGc,EAAE+F,EAAG1D,GAAOD,EAAE,EAAEtC,EAAEsC,KAAKA,EAAEuE,EAAG7G,EAAEsC,GAAGpC,EAAEoC,GAAc,OAATtC,GAAEE,EAAE,KAAYqC,GAAG2jB,MAAM,SAAS9mB,EAAEC,EAAEW,EAAEE,GAAG,GAAIoC,GAAEC,EAAEQ,EAAEP,IAAKnD,GAAEA,GAAGS,EAA0B,mBAAjBT,GAAEiB,gBAA6BjB,EAAEA,EAAEiI,eAAejI,EAAE,IAAIA,EAAE,GAAGiI,eAAexH,EAAG,KAAI,GAAQ2C,GAAJQ,EAAE,EAAc,OAATR,EAAErD,EAAE6D,IAAUA,IAAiC,GAAlB,gBAAHR,KAAcA,GAAG,IAAQA,EAAJ,CAAe,GAAa,gBAAHA,GAAY,GAAItD,GAAE0E,KAAKpB,GAA6B,CAACA,EAAEA,EAAEa,QAAQ8gB,GAAE,YAAa,IAAiH9a,GAA7G5G,GAAG2hB,GAAElZ,KAAK1I,KAAK,GAAG,KAAK,GAAGU,cAAcR,EAAEiiB,GAAGliB,IAAIkiB,GAAG5J,SAASpY,EAAED,EAAE,GAAGE,EAAExD,EAAEiB,cAAc,OAAO+I,EAAE/D,GAAGoG,UAAiF,KAApErM,IAAIS,EAAEwF,GAAG5E,YAAYmC,GAAG0E,EAAElI,GAAGqB,YAAYmC,GAAGA,EAAE0C,UAAU5C,EAAE,GAAGF,EAAEE,EAAE,GAASC,KAAIC,EAAEA,EAAEuQ,SAAU,KAAI7T,EAAEyB,QAAQ0Q,MAAM,CAAC,GAAIjT,GAAEM,GAAE8E,KAAKpB,GAAG8G,EAAM,UAAJ7G,GAAcjE,EAA+C,YAAPkE,EAAE,IAAiBlE,KAAEoE,EAAE6I,WAA7D7I,EAAE4C,YAAY5C,EAAE4C,WAAWiG,UAAgD,KAAI3I,EAAEwG,EAAEvG,OAAO,EAAED,GAAG,IAAIA,EAAExD,EAAEoG,SAAS4D,EAAExG,GAAG,WAAWwG,EAAExG,GAAG2I,WAAW1I,QAAQuG,EAAExG,GAAGkF,WAAW9G,YAAYoI,EAAExG,KAAKxD,EAAEyB,QAAQyQ,mBAAmB0S,GAAEtgB,KAAKpB,IAAII,EAAE8Q,aAAatU,EAAEomB,eAAetB,GAAEhZ,KAAK1I,GAAG,IAAII,EAAE4C,YAAYhD,EAAEI,EAAE6I,WAAW7I,IAAIA,EAAEoF,WAAW9G,YAAY0B,GAAGwG,EAAErG,OAAO,IAAIsG,EAAED,EAAEA,EAAErG,OAAO,GAAGsG,GAAGA,EAAErB,YAAYqB,EAAErB,WAAW9G,YAAYmI,SAAjtB7G,GAAEpD,EAAEomB,eAAehjB,EAAmsB,IAAI+G,EAAE,KAAIjK,EAAEyB,QAAQsS,cAAc,GAAG7Q,EAAE,IAAyB,iBAAb+G,EAAE/G,EAAEO,QAAkB,IAAID,EAAE,EAAEA,EAAEyG,EAAEzG,IAAI2C,EAAGjD,EAAEM,QAAS2C,GAAGjD,EAAGA,GAAEhD,SAAS+C,EAAE+H,KAAK9H,GAAGD,EAAEjD,EAAEoM,MAAMnJ,EAAEC,GAAG,GAAGzC,EAAiD,IAA9CsC,EAAE,SAASlD,GAAG,OAAOA,EAAE8E,MAAMwgB,GAAG7gB,KAAKzE,EAAE8E,OAAWjB,EAAE,EAAET,EAAES,GAAGA,IAAY,GAAPV,EAAEC,EAAES,GAAM/C,GAAGX,EAAEoG,SAASpD,EAAE,aAAaA,EAAE2B,MAAMwgB,GAAG7gB,KAAKtB,EAAE2B,OAAOhE,EAAEqK,KAAKhI,EAAE0F,WAAW1F,EAAE0F,WAAW9G,YAAYoB,GAAGA,OAAO,CAAC,GAAgB,IAAbA,EAAE9C,SAAa,CAAC,GAAIgK,GAAElK,EAAEuG,KAAKvD,EAAEsD,qBAAqB,UAAUvD,EAAGE,GAAEuK,OAAOvL,MAAMgB,GAAGS,EAAE,EAAE,GAAG1B,OAAOkI,IAAIzJ,EAAEU,YAAY6B,GAAK,MAAOC,IAAG4jB,UAAU,SAAShnB,GAAiE,IAAI,GAA9DC,GAAES,EAAoEiD,EAAlE/C,EAAET,EAAEwV,MAAM7U,EAAEX,EAAE2H,MAAMgS,QAAQ5W,EAAE/C,EAAEyB,QAAQyR,cAAsBlQ,EAAE,EAAc,OAATQ,EAAE3D,EAAEmD,IAAUA,IAAK,KAAGQ,EAAE4C,WAAUpG,EAAE2V,OAAOnS,EAAE4C,SAASxC,kBAAwBrD,EAAEiD,EAAExD,EAAEqH,UAAc,CAAQ,GAAPvH,EAAEW,EAAEF,GAAMT,GAAGA,EAAE2H,OAAO,CAAC,IAAI,GAAIxE,KAAKnD,GAAE2H,OAAO9G,EAAEsC,GAAGjD,EAAE2H,MAAM9G,OAAO2C,EAAEP,GAAGjD,EAAE0a,YAAYlX,EAAEP,EAAEnD,EAAE4H,OAAQ5H,GAAE4H,SAAS5H,EAAE4H,OAAOsS,KAAK,MAAMjX,QAASS,GAAExD,EAAEqH,SAAS7D,EAAE4D,iBAAiB5D,EAAE4D,gBAAgBpH,EAAEqH,eAAgB5G,GAAEF,MAAQ,IAA0QoF,IAAG2hB,GAAGC,GAA5QC,GAAG,kBAAkBC,GAAG,kBAAkBC,GAAG,eAAeC,GAAG,yBAAyB9hB,GAAG,mCAAmC+hB,GAAG,wBAAwBC,GAAG,UAAUC,IAAI5S,SAAS,WAAW6S,WAAW,SAAS1T,QAAQ,SAAS3O,IAAI,MAAM,QAAQ,SAAS,OAAiB1F,GAAE4J,GAAGhJ,IAAI,SAASf,EAAEU,GAAG,MAAOP,GAAEyP,OAAOpQ,KAAK,SAASQ,EAAEU,EAAEE,GAAG,MAAOA,KAAIX,EAAEE,EAAE4F,MAAM/F,EAAEU,EAAEE,GAAGT,EAAEY,IAAIf,EAAEU,IAAIV,EAAEU,EAAE4M,UAAU1J,OAAO,IAAIzD,EAAE+E,QAAQijB,UAAU1V,SAAS1F,IAAI,SAAS/M,EAAEC,GAAG,GAAGA,EAAE,CAAC,GAAIS,GAAEoF,GAAG9F,EAAE,UAAW,OAAW,KAAJU,EAAO,IAAIA,EAAE,MAAOV,GAAE+F,MAAM0M,WAAW2V,WAAWC,aAAY,EAAGC,YAAW,EAAGC,YAAW,EAAG9V,SAAQ,EAAG+V,SAAQ,EAAGC,QAAO,EAAGC,QAAO,EAAG7T,MAAK,GAAI8T,UAAUC,MAAQzoB,EAAEyB,QAAQ8Q,SAAS,WAAW,cAAc3M,MAAM,SAAS/F,EAAEU,EAAEE,EAAEE,GAAG,GAAKd,GAAgB,IAAbA,EAAEK,UAA2B,IAAbL,EAAEK,UAAgBL,EAAE+F,MAAM,CAAC,GAAI7C,GAAEC,EAAEQ,EAAExD,EAAEoP,UAAU7O,GAAG0C,EAAEpD,EAAE+F,MAAMlC,EAAE1D,EAAEgoB,SAASxkB,EAAsB,IAAnBjD,EAAEP,EAAEwoB,SAAShlB,IAAIA,EAAK/C,IAAIX,EAAG,MAAG4D,IAAG,OAAQA,KAAIX,EAAEW,EAAEkJ,IAAI/M,GAAE,EAAGc,MAAMb,EAASiD,EAASE,EAAE1C,EAAkG,IAA/FyC,QAASvC,GAAM,WAAJuC,IAAeD,EAAE6kB,GAAGhc,KAAKnL,MAAMA,IAAIsC,EAAE,GAAG,IAAIA,EAAE,GAAG0C,WAAWzF,EAAEY,IAAIf,EAAEU,IAAIyC,EAAE,UAAgB,MAAHvC,GAAa,WAAJuC,GAAcqL,MAAM5N,GAAG,MAAgD,IAArC,WAAJuC,IAAehD,EAAEioB,UAAUzkB,KAAK/C,GAAG,QAAUiD,GAAK,OAAQA,KAAKjD,EAAEiD,EAAEgU,IAAI7X,EAAEY,MAAMX,GAAE,IAAImD,EAAE1C,GAAGE,EAAE,MAAMyC,OAAOtC,IAAI,SAASf,EAAEU,EAAEE,GAAG,GAAIE,GAAEoC,CAAkF,OAAhFxC,GAAEP,EAAEoP,UAAU7O,GAAGwC,EAAE/C,EAAEgoB,SAASznB,GAAGA,EAAEP,EAAEwoB,SAASjoB,IAAIA,EAAM,aAAJA,IAAiBA,EAAE,SAAYwC,GAAG,OAAQA,KAAIpC,EAAEoC,EAAE6J,IAAI/M,GAAE,EAAGY,MAAMX,EAASa,EAAKgF,GAAUA,GAAG9F,EAAEU,GAAlB,QAAsBmoB,KAAK,SAAS7oB,EAAEC,EAAES,GAAG,GAASI,GAAEX,EAAPS,IAAS,KAAIT,IAAKF,GAAEW,EAAET,GAAGH,EAAE+F,MAAM5F,GAAGH,EAAE+F,MAAM5F,GAAGF,EAAEE,EAAGW,GAAEJ,EAAE8H,KAAKxI,EAAG,KAAIG,IAAKF,GAAED,EAAE+F,MAAM5F,GAAGS,EAAET,EAAG,OAAOW,MAAKX,EAAE2oB,OAAO3oB,EAAEY,IAAIL,EAAEJ,aAAaI,EAAEJ,YAAYoU,mBAAmB+S,GAAG,SAASznB,EAAEC,GAAG,GAAIS,GAAEE,EAAEE,EAAEoC,EAAEC,EAAEnD,EAAE+F,KAA2S,OAArS9F,GAAEA,EAAEiE,QAAQ2jB,GAAG,OAAO9jB,eAAenD,EAAEZ,EAAEkI,cAAc5H,eAAeQ,EAAEF,EAAE8T,iBAAiB1U,EAAE,SAASU,EAAEI,EAAEioB,iBAAiB9oB,GAAO,KAAJS,IAASP,EAAEye,SAAS5e,EAAEkI,cAAcuB,gBAAgBzJ,KAAKU,EAAEP,EAAE4F,MAAM/F,EAAEC,MAAME,EAAEyB,QAAQ8R,aAAa5S,GAAGknB,GAAGvjB,KAAKxE,IAAI+F,GAAGvB,KAAK/D,KAAKwC,EAAEC,EAAE/B,MAAM+B,EAAE/B,MAAMV,EAAEA,EAAEI,EAAEM,MAAM+B,EAAE/B,MAAM8B,GAAUxC,IAAIA,EAAE+I,gBAAgBuf,eAAetB,GAAG,SAAS1nB,EAAEC,GAAG,GAAIS,GAAEE,EAAEE,EAAEX,EAAEH,EAAEgpB,cAAchpB,EAAEgpB,aAAa/oB,GAAGiD,EAAElD,EAAE+F,KAAiO,OAAxN,OAAH5F,GAAS+C,IAAIpC,EAAEoC,EAAEjD,MAAME,EAAEW,GAAGkF,GAAGvB,KAAKtE,KAAKO,EAAEwC,EAAE+lB,KAAKroB,EAAEZ,EAAEkpB,cAAclpB,EAAEkpB,aAAaD,KAAKroB,IAAIZ,EAAEkpB,aAAaD,KAAKjpB,EAAEgpB,aAAaC,MAAM/lB,EAAE+lB,KAAS,aAAJhpB,EAAe,MAAME,EAAEA,EAAE+C,EAAEimB,UAAU,KAAKjmB,EAAE+lB,KAAKvoB,EAAEE,IAAIZ,EAAEkpB,aAAaD,KAAKroB,IAAe,KAAJT,EAAO,OAAOA,IAAI2F,GAAG2hB,IAAIC,GAAGvnB,EAAE8B,MAAM,SAAS,SAAS,SAASjC,EAAEC,GAAGE,EAAEgoB,SAASloB,IAAI8M,IAAI,SAAS/M,EAAEU,EAAEE,GAAG,GAAGF,EAAE,MAAuB,KAAhBV,EAAE0F,YAAgBD,EAAGzF,EAAEC,EAAEW,GAAGT,EAAE0oB,KAAK7oB,EAAEioB,GAAG,WAAW,MAAOxiB,GAAGzF,EAAEC,EAAEW,MAAMiX,IAAI,SAAS7X,EAAEC,GAAG,MAAO6nB,IAAGrjB,KAAKxE,GAAGA,EAAE,KAAKA,MAAME,EAAEyB,QAAQ6Q,UAAUtS,EAAEgoB,SAAS1V,SAAS1F,IAAI,SAAS/M,EAAEC,GAAG,MAAO2nB,IAAGnjB,MAAMxE,GAAGD,EAAEgpB,aAAahpB,EAAEgpB,aAAatgB,OAAO1I,EAAE+F,MAAM2C,SAAS,IAAI9C,WAAWiU,OAAOuP,IAAI,IAAI,GAAGnpB,EAAE,IAAI,IAAI4X,IAAI,SAAS7X,EAAEC,GAAG,GAAIS,GAAEV,EAAE+F,MAAMnF,EAAEZ,EAAEgpB,aAAaloB,EAAEX,EAAEiJ,UAAUnJ,GAAG,iBAAmB,IAAFA,EAAM,IAAI,GAAGiD,EAAEtC,GAAGA,EAAE8H,QAAQhI,EAAEgI,QAAQ,EAAGhI,GAAEmU,KAAK,EAAK5U,GAAG,GAA8B,KAA3BE,EAAEoL,KAAKrI,EAAEgB,QAAQyjB,GAAG,OAAWjnB,EAAE6G,gBAAgB,UAAa3G,IAAIA,EAAE8H,UAAchI,EAAEgI,OAAOif,GAAGljB,KAAKvB,GAAGA,EAAEgB,QAAQyjB,GAAG7mB,GAAGoC,EAAE,IAAIpC,MAAKX,EAAE,WAAWA,EAAEyB,QAAQ6R,sBAAsBtT,EAAEgoB,SAASxT,aAAa5H,IAAI,SAAS/M,EAAEC,GAAG,MAAOE,GAAE0oB,KAAK7oB,GAAGwU,QAAQ,gBAAgB,WAAW,MAAOvU,GAAE6F,GAAG9F,EAAE,gBAAgBA,EAAE+F,MAAM4O,mBAAmBxU,EAAE+f,MAAM/f,EAAE+f,KAAKyB,UAAUxhB,EAAE+f,KAAKyB,QAAQ0H,OAAO,SAASrpB,GAAG,GAAIC,GAAED,EAAE0F,YAAYhF,EAAEV,EAAE2F,YAAa,OAAW,KAAJ1F,GAAW,IAAJS,IAAQP,EAAEyB,QAAQ6S,uBAAwE,UAAhDzU,EAAE+F,OAAO/F,EAAE+F,MAAMyO,SAASrU,EAAEY,IAAIf,EAAE,aAAsBG,EAAE+f,KAAKyB,QAAQ2H,QAAQ,SAAStpB,GAAG,OAAOG,EAAE+f,KAAKyB,QAAQ0H,OAAOrpB,KAAKG,EAAE8B,MAAMsnB,OAAO,GAAGzU,QAAQ,GAAGC,OAAO,SAAS,SAAS/U,EAAEC,GAAGE,EAAEgoB,SAASnoB,EAAEC,IAAIupB,OAAO,SAAS9oB,GAAG,GAAIE,GAAEE,EAAY,gBAAHJ,GAAYA,EAAEsD,MAAM,MAAMtD,GAAGP,IAAK,KAAIS,EAAE,EAAEA,EAAE,EAAEA,IAAIT,EAAEH,EAAE6F,GAAGjF,GAAGX,GAAGa,EAAEF,IAAIE,EAAEF,EAAE,IAAIE,EAAE,EAAG,OAAOX,MAAM,IAA6espB,IAAGC,GAA5eC,GAAG,OAAO9kB,GAAG,QAAQ+kB,GAAG,SAASC,GAAG,OAAOC,GAAG,gCAAgCC,GAAG,mHAAmHC,GAAG,8DAA8DC,GAAG,iBAAiBC,GAAG,QAAQC,GAAG,KAAKC,GAAG,sDAAsDC,GAAG,wBAAwB9kB,GAAG,MAAM+kB,GAAG,gBAAgBC,GAAG,iDAAiDC,GAAGrqB,EAAE4J,GAAG6T,KAAKxY,MAAMqlB,MAAYC,IAAI,OAAO,IAAK,KAAIjB,GAAG3oB,EAAEyY,KAAK,MAAMoR,GAAIlB,GAAG/oB,EAAEQ,cAAc,KAAKuoB,GAAGlQ,KAAK,GAAGkQ,GAAGA,GAAGlQ,KAAKmQ,GAAGa,GAAGxe,KAAK0d,GAAG1lB,mBAAmB5D,EAAE4J,GAAG7E,QAAQ0Y,KAAK,SAAS5d,EAAEU,EAAEE,GAAG,GAAa,gBAAHZ,IAAawqB,GAAG,MAAOA,IAAGpoB,MAAM5C,KAAK8N,UAAW,KAAI9N,KAAKoE,OAAO,MAAOpE,KAAK,IAAIsB,GAAEd,EAAEyL,QAAQ,IAAK,IAAG3K,GAAG,EAAE,CAAC,GAAIoC,GAAElD,EAAEqC,MAAMvB,EAAEd,EAAE4D,OAAQ5D,GAAEA,EAAEqC,MAAM,EAAEvB,GAAG,GAAIqC,GAAE,KAAMzC,KAAIP,EAAEmF,WAAW5E,IAAIE,EAAEF,EAAEA,EAAET,GAAa,gBAAHS,KAAcA,EAAEP,EAAEyqB,MAAMlqB,EAAEP,EAAE6E,aAAa6lB,aAAa1nB,EAAE,QAAS,IAAIQ,GAAEnE,IAAsN,OAAjNW,GAAEgnB,MAAMC,IAAIpnB,EAAE8E,KAAK3B,EAAEF,SAAS,OAAO+E,KAAKtH,EAAEoqB,SAAS,SAAS9qB,EAAEC,EAAES,GAAGA,EAAEV,EAAE+qB,aAAa/qB,EAAE2R,eAAe3R,EAAEuR,KAAK,SAASvR,GAAGU,EAAEV,IAAI2D,EAAEyU,KAAKlV,EAAE/C,EAAE,SAASimB,OAAO1lB,EAAEwD,QAAQkmB,GAAG,KAAK1d,KAAKxJ,GAAGxC,IAAIE,GAAG+C,EAAE1B,KAAKrB,GAAGF,EAAET,EAAED,OAAcR,MAAMwrB,UAAU,WAAW,MAAO7qB,GAAEyqB,MAAMprB,KAAKyrB,mBAAmBA,eAAe,WAAW,MAAOzrB,MAAKgO,IAAI,WAAW,MAAOhO,MAAK0rB,SAAS/qB,EAAEyM,UAAUpN,KAAK0rB,UAAU1rB,OAAOkJ,OAAO,WAAW,MAAOlJ,MAAK8W,OAAO9W,KAAKuR,WAAWvR,KAAKoH,SAASyjB,GAAG5lB,KAAKjF,KAAK+G,WAAWwjB,GAAGtlB,KAAKjF,KAAKsF,SAAS0I,IAAI,SAASxN,EAAEC,GAAG,GAAIS,GAAEP,EAAEX,MAAMmY,KAAM,OAAU,OAAHjX,EAAQ,KAAKP,EAAEyE,QAAQlE,GAAGP,EAAEqN,IAAI9M,EAAE,SAASV,EAAEU,GAAG,OAAO4V,KAAKrW,EAAEqW,KAAKhP,MAAMtH,EAAEkE,QAAQ0lB,GAAG,YAAYtT,KAAKrW,EAAEqW,KAAKhP,MAAM5G,EAAEwD,QAAQ0lB,GAAG,WAAW7c,SAAS5M,EAAE8B,KAAK,iEAAiE+B,MAAM,KAAK,SAAShE,EAAEC,GAAGE,EAAE4J,GAAG9J,GAAG,SAASD,GAAG,MAAOR,MAAK2f,GAAGlf,EAAED,MAAMG,EAAE8B,MAAM,MAAM,QAAQ,SAASjC,EAAEU,GAAGP,EAAEO,GAAG,SAASV,EAAEY,EAAEE,EAAEoC,GAAqC,MAAlC/C,GAAEmF,WAAW1E,KAAKsC,EAAEA,GAAGpC,EAAEA,EAAEF,EAAEA,EAAEX,GAAUE,EAAEgnB,MAAMriB,KAAKpE,EAAE0mB,IAAIpnB,EAAEgI,KAAKpH,EAAEuqB,QAAQrqB,EAAEmC,SAASC,OAAO/C,EAAE+E,QAAQkmB,UAAU,SAASprB,EAAEU,GAAG,MAAOP,GAAE4M,IAAI/M,EAAEC,EAAES,EAAE,WAAW2qB,QAAQ,SAASrrB,EAAEC,EAAES,GAAG,MAAOP,GAAE4M,IAAI/M,EAAEC,EAAES,EAAE,SAAS4qB,UAAU,SAAStrB,EAAEC,GAAyD,MAAtDA,GAAE8E,EAAG/E,EAAEG,EAAE6E,eAAe/E,EAAED,EAAEA,EAAEG,EAAE6E,cAAcD,EAAG/E,EAAEC,GAAUD,GAAGgF,cAAcoiB,IAAIqC,GAAG8B,QAAQvB,GAAGvlB,KAAKilB,GAAG,IAAI/O,QAAO,EAAG7V,KAAK,MAAM0mB,YAAY,mDAAmDC,aAAY,EAAGxc,OAAM,EAAGyc,SAASC,IAAI,4BAA4BvT,KAAK,YAAY/Q,KAAK,aAAaukB,KAAK,oCAAoCC,IAAInB,IAAItmB,UAAUunB,IAAI,MAAMvT,KAAK,OAAOwT,KAAK,QAAQvnB,gBAAgBsnB,IAAI,cAActkB,KAAK,gBAAgBvD,YAAYgoB,SAAS9rB,EAAEsL,OAAOygB,aAAY,EAAGC,YAAY7rB,EAAEkJ,UAAU4iB,WAAW9rB,EAAE2O,UAAU7J,aAAa2G,SAAQ,EAAGwb,KAAI,IAAK8E,cAAc7mB,EAAGD,IAAI+mB,cAAc9mB,EAAGolB,IAAItD,KAAK,SAASnnB,EAAEU,GAAG,QAAS4J,GAAEtK,EAAEU,EAAE2C,EAAEC,GAAG,GAAO,IAAJjE,EAAM,CAACA,EAAE,EAAE4K,GAAGgN,aAAahN,GAAGxG,EAAExD,EAAEsD,EAAED,GAAG,GAAG+G,EAAE8D,WAAWnO,EAAE,EAAE,EAAE,CAAE,IAAIwD,GAAE0G,EAAEE,EAAsBK,EAAEb,EAAtBU,EAAE5J,EAAE6J,EAAElH,EAAEc,EAAGvD,EAAEyJ,EAAEhH,GAAGpD,CAAM,IAAGD,GAAG,KAAKA,EAAE,KAAS,MAAJA,EAAqI,GAAzHY,EAAEwrB,cAAe3hB,EAAEJ,EAAE7F,kBAAkB,oBAAiBrE,EAAEksB,aAAaxoB,GAAG4G,IAAKb,EAAES,EAAE7F,kBAAkB,WAAQrE,EAAEmsB,KAAKzoB,GAAG+F,IAAS,MAAJ5J,EAAQsK,EAAE,cAAc9G,GAAE,MAAQ,KAAI0G,EAAEnH,EAAGnC,EAAE2J,GAAGD,EAAE,UAAU9G,GAAE,EAAG,MAAMqG,GAAGS,EAAE,cAAcF,EAAEP,MAAQO,GAAEE,EAAMA,IAAGtK,IAAEsK,EAAE,QAAQtK,EAAE,IAAIA,EAAE,GAAGqK,GAAEkiB,OAAOvsB,EAAEqK,EAAEmiB,WAAW,IAAI9rB,GAAG4J,GAAG9G,EAAEL,EAAEgP,YAAYrR,GAAGoJ,EAAEI,EAAED,IAAIlH,EAAEspB,WAAW3rB,GAAGuJ,EAAEC,EAAEF,IAAIC,EAAEqiB,WAAWtpB,GAAGA,EAAEnD,EAAEkK,GAAGjH,EAAE8K,QAAQ,QAAQxK,EAAE,UAAU,UAAU6G,EAAEzJ,EAAE4C,EAAE0G,EAAEE,IAAIzG,EAAEoK,SAASjN,GAAGuJ,EAAEC,IAAIH,IAAIjH,EAAE8K,QAAQ,gBAAgB3D,EAAEzJ,MAAMT,EAAEwsB,QAAQxsB,EAAE2H,MAAMkG,QAAQ,cAAwB,gBAAHhO,KAAcU,EAAEV,EAAEA,EAAEC,GAAGS,EAAEA,KAAM,IAAyJmD,GAAYN,EAAEC,EAAEC,EAAEwG,EAAEC,EAAMC,EAAEC,EAAjLxJ,EAAET,EAAEmrB,aAAa5qB,GAAGI,EAAEF,EAAEgL,SAAShL,EAAEsC,EAAEpC,IAAIF,IAAIE,EAAET,UAAUS,YAAaX,IAAGA,EAAEW,GAAGX,EAAE2H,MAAM3E,EAAEhD,EAAEgR,WAAWxN,EAAExD,EAAE+N,UAAU,eAAe9K,EAAExC,EAAE8rB,eAAiBrpB,KAAKC,KAAejE,EAAE,EAAMgL,GAAG8D,WAAW,EAAEye,iBAAiB,SAAS5sB,EAAEC,GAAG,IAAIZ,EAAE,CAAC,GAAIqB,GAAEV,EAAE+D,aAAc/D,GAAEsD,EAAE5C,GAAG4C,EAAE5C,IAAIV,EAAEqD,EAAErD,GAAGC,EAAE,MAAOT,OAAMqtB,sBAAsB,WAAW,MAAW,KAAJxtB,EAAMkE,EAAE,MAAMiB,kBAAkB,SAASxE,GAAG,GAAIU,EAAE,IAAO,IAAJrB,EAAM,CAAC,IAAImE,EAAQ,IAALA,KAAW9C,EAAEopB,GAAG/d,KAAKxI,IAAGC,EAAE9C,EAAE,GAAGqD,eAAerD,EAAE,EAAGA,GAAE8C,EAAExD,EAAE+D,eAAe,MAAOrD,KAAIT,EAAE,KAAKS,GAAGosB,iBAAiB,SAAS9sB,GAAqB,MAAlBX,KAAIuB,EAAE2D,SAASvE,GAAUR,MAAMutB,MAAM,SAAS/sB,GAAqC,MAAlCA,GAAEA,GAAG,QAAQyD,GAAGA,EAAEspB,MAAM/sB,GAAGsK,EAAE,EAAEtK,GAAUR,MAA6jB,IAAtjB2D,EAAE6O,QAAQ3H,GAAGA,EAAE8gB,QAAQ9gB,EAAEkH,KAAKlH,EAAEpG,MAAMoG,EAAEmH,KAAKnH,EAAEygB,SAASnnB,EAAEoE,IAAIsC,EAAEqiB,WAAW,SAAS1sB,GAAG,GAAGA,EAAE,CAAC,GAAIC,EAAE,IAAGZ,EAAE,EAAE,IAAIY,IAAKD,GAAEoD,EAAEnD,IAAImD,EAAEnD,GAAGD,EAAEC,QAASA,GAAED,EAAEqK,EAAEkiB,QAAQliB,EAAEwH,KAAK5R,EAAEA,GAAG,MAAOT,OAAMoB,EAAEwmB,MAAMpnB,GAAGY,EAAEwmB,KAAK,IAAIljB,QAAQ2lB,GAAG,IAAI3lB,QAAQgmB,GAAGR,GAAG,GAAG,MAAM9oB,EAAE8C,UAAUvD,EAAEoL,KAAK3K,EAAEqC,UAAU,KAAKc,cAAcC,MAAMuB,IAAmB,MAAf3E,EAAEosB,cAAoB9iB,EAAEqgB,GAAGxe,KAAKnL,EAAEwmB,IAAIrjB,eAAenD,EAAEosB,eAAe9iB,GAAGA,EAAE,IAAIwf,GAAG,IAAIxf,EAAE,IAAIwf,GAAG,KAAKxf,EAAE,KAAY,UAAPA,EAAE,GAAa,GAAG,QAAQwf,GAAG,KAAa,UAARA,GAAG,GAAa,GAAG,QAAQ9oB,EAAEoH,MAAMpH,EAAE6qB,aAA4B,gBAAR7qB,GAAEoH,OAAiBpH,EAAEoH,KAAK7H,EAAEyqB,MAAMhqB,EAAEoH,KAAKpH,EAAEiqB,cAAc1lB,EAAGC,GAAGxE,EAAEF,EAAE2J,GAAU,IAAJhL,EAAM,OAAM,CAAwH,IAArH8K,EAAEvJ,EAAE+Z,OAAO/Z,EAAEkE,KAAKlE,EAAEkE,KAAK0F,cAAc5J,EAAEqsB,YAAYhD,GAAGxlB,KAAK7D,EAAEkE,MAAMqF,GAAgB,IAAbhK,EAAEwsB,UAAcxsB,EAAE2H,MAAMkG,QAAQ,cAAiBpN,EAAEqsB,aAAYrsB,EAAEoH,OAAOpH,EAAEwmB,MAAM+C,GAAG1lB,KAAK7D,EAAEwmB,KAAK,IAAI,KAAKxmB,EAAEoH,WAAYpH,GAAEoH,MAAMnE,EAAEjD,EAAEwmB,IAAOxmB,EAAE+U,SAAQ,GAAG,CAAC,GAAIpL,GAAEpK,EAAEuC,MAAM+H,EAAE7J,EAAEwmB,IAAIljB,QAAQomB,GAAG,OAAO/f,EAAG3J,GAAEwmB,IAAI3c,GAAGA,IAAI7J,EAAEwmB,KAAK+C,GAAG1lB,KAAK7D,EAAEwmB,KAAK,IAAI,KAAK,KAAK7c,EAAE,KAAM3J,EAAEoH,MAAMpH,EAAEqsB,YAAYrsB,EAAE4qB,eAAc,GAAI9qB,EAAE8qB,cAAcnhB,EAAEuiB,iBAAiB,eAAehsB,EAAE4qB,aAAa5qB,EAAEwrB,aAAavoB,EAAEA,GAAGjD,EAAEwmB,IAAIjnB,EAAEksB,aAAaxoB,IAAIwG,EAAEuiB,iBAAiB,oBAAoBzsB,EAAEksB,aAAaxoB,IAAI1D,EAAEmsB,KAAKzoB,IAAIwG,EAAEuiB,iBAAiB,gBAAgBzsB,EAAEmsB,KAAKzoB,KAAKwG,EAAEuiB,iBAAiB,SAAShsB,EAAE8C,UAAU,IAAI9C,EAAE8qB,QAAQ9qB,EAAE8C,UAAU,IAAI9C,EAAE8qB,QAAQ9qB,EAAE8C,UAAU,KAAsB,MAAjB9C,EAAE8C,UAAU,GAAS,KAAKgnB,GAAG,WAAW,IAAI9pB,EAAE8qB,QAAQ,KAAM,KAAIthB,IAAKxJ,GAAEssB,QAAQ7iB,EAAEuiB,iBAAiBxiB,EAAExJ,EAAEssB,QAAQ9iB,GAAI,IAAGxJ,EAAEusB,aAAavsB,EAAEusB,WAAW3kB,KAAK1H,EAAEuJ,EAAEzJ,MAAK,GAAQ,IAAJvB,GAAkB,MAAVgL,GAAE0iB,SAAc,CAAG,KAAI3iB,KAAK+gB,QAAQ,EAAElnB,MAAM,EAAE6mB,SAAS,GAAGzgB,EAAED,GAAGxJ,EAAEwJ,GAAmB,IAAf3G,EAAE0B,EAAGslB,GAAG7pB,EAAEF,EAAE2J,GAAkC,CAACA,EAAE8D,WAAW,EAAEhE,GAAGjH,EAAE8K,QAAQ,YAAY3D,EAAEzJ,IAAIA,EAAEqO,OAAOrO,EAAEwsB,QAAQ,IAAInjB,EAAExH,WAAW,WAAW4H,EAAE0iB,MAAM,YAAYnsB,EAAEwsB,SAAU,KAAI/tB,EAAE,EAAEoE,EAAE4pB,KAAKhqB,EAAEiH,GAAG,MAAMV,GAAG,KAAGvK,EAAE,GAAe,KAAMuK,EAAnBU,IAAE,EAAGV,QAAhMU,IAAE,EAAG,eAA4M,OAAOD,IAAGugB,MAAM,SAAS5qB,EAAEU,GAAG,GAAIE,MAAKE,EAAE,SAASd,EAAEC,GAAGA,EAAEE,EAAEmF,WAAWrF,GAAGA,IAAIA,EAAEW,EAAEA,EAAEgD,QAAQ0pB,mBAAmBttB,GAAG,IAAIstB,mBAAmBrtB,GAA0C,IAAtCS,IAAIT,IAAIS,EAAEP,EAAE6E,aAAa6lB,aAAgB1qB,EAAEyE,QAAQ5E,IAAIA,EAAE2M,SAASxM,EAAE6L,cAAchM,GAAGG,EAAE8B,KAAKjC,EAAE,WAAWc,EAAEtB,KAAK8W,KAAK9W,KAAK8H,aAAc,KAAI,GAAIpE,KAAKlD,GAAE2E,EAAGzB,EAAElD,EAAEkD,GAAGxC,EAAEI,EAAG,OAAOF,GAAE2M,KAAK,KAAKrJ,QAAQylB,GAAG,QAAQxpB,EAAE+E,QAAQynB,OAAO,EAAEN,gBAAgBC,SAAU,IAAIiB,IAAGptB,EAAEuC,MAAM8qB,GAAG,mBAAoBrtB,GAAEmrB,WAAWmC,MAAM,WAAWC,cAAc,WAAW,MAAOvtB,GAAEqH,QAAQ,IAAI+lB,QAAQptB,EAAE+rB,cAAc,aAAa,SAASjsB,EAAES,EAAEE,GAAG,GAAIE,GAAiB,gBAARb,GAAE+H,MAAgB,yCAAyCvD,KAAKxE,EAAEurB,YAAa,IAAoB,UAAjBvrB,EAAEyD,UAAU,IAAczD,EAAEwtB,SAAQ,IAAKD,GAAG/oB,KAAKxE,EAAEmnB,MAAMtmB,GAAG0sB,GAAG/oB,KAAKxE,EAAE+H,OAAO,CAAC,GAAI9E,GAAEC,EAAElD,EAAEytB,cAAcvtB,EAAEmF,WAAWrF,EAAEytB,eAAeztB,EAAEytB,gBAAgBztB,EAAEytB,cAAc/pB,EAAE3D,EAAEmD,GAAGC,EAAEnD,EAAEmnB,IAAIvjB,EAAE5D,EAAE+H,KAAK3E,EAAE,KAAKF,EAAE,IAAgV,OAA3UlD,GAAEwtB,SAAQ,IAAKrqB,EAAEA,EAAEc,QAAQspB,GAAGnqB,GAAGpD,EAAEmnB,MAAMhkB,IAAItC,IAAI+C,EAAEA,EAAEK,QAAQspB,GAAGnqB,IAAIpD,EAAE+H,OAAOnE,IAAIT,IAAI,KAAKqB,KAAKrB,GAAG,IAAI,KAAKnD,EAAEwtB,MAAM,IAAItqB,KAAKlD,EAAEmnB,IAAIhkB,EAAEnD,EAAE+H,KAAKnE,EAAE7D,EAAEmD,GAAG,SAASnD,GAAGkD,GAAGlD,IAAIY,EAAEkR,OAAO,WAAW9R,EAAEmD,GAAGQ,EAAET,GAAG/C,EAAEmF,WAAW3B,IAAI3D,EAAEmD,GAAGD,EAAE,MAAMjD,EAAE6D,WAAW,eAAe,WAA2C,MAAhCZ,IAAG/C,EAAE8D,MAAMd,EAAE,mBAA0BD,EAAE,IAAIjD,EAAEyD,UAAU,GAAG,OAAa,YAAYvD,EAAEmrB,WAAWI,SAASiC,OAAO,6FAA6FvpB,UAAUupB,OAAO,yBAAyB7pB,YAAY8pB,cAAc,SAAS5tB,GAAmB,MAAhBG,GAAEiP,WAAWpP,GAAUA,MAAMG,EAAE+rB,cAAc,SAAS,SAASlsB,GAAGA,EAAE2V,QAAQ1V,IAAID,EAAE2V,OAAM,GAAI3V,EAAEgtB,cAAchtB,EAAE8E,KAAK,MAAM9E,EAAE2a,QAAO,KAAMxa,EAAEgsB,cAAc,SAAS,SAASnsB,GAAG,GAAGA,EAAEgtB,YAAY,CAAC,GAAIpsB,GAAEE,EAAEJ,EAAEmtB,MAAMntB,EAAE+F,qBAAqB,QAAQ,IAAI/F,EAAE+I,eAAgB,QAAO4jB,KAAK,SAASltB,EAAE+C,GAAGtC,EAAEF,EAAEQ,cAAc,UAAUN,EAAEqO,MAAM,QAAQjP,EAAE8tB,gBAAgBltB,EAAEmtB,QAAQ/tB,EAAE8tB,eAAeltB,EAAEsmB,IAAIlnB,EAAEonB,IAAIxmB,EAAEotB,OAAOptB,EAAEqtB,mBAAmB,SAASjuB,EAAEU,IAAMA,IAAIE,EAAEuN,YAAY,kBAAkB1J,KAAK7D,EAAEuN,eAAYvN,EAAEotB,OAAOptB,EAAEqtB,mBAAmB,KAAKntB,GAAGF,EAAEiI,YAAY/H,EAAEiB,YAAYnB,GAAGA,EAAEX,EAAES,GAAGwC,EAAE,IAAI,aAAYpC,EAAEyT,aAAa3T,EAAEE,EAAEuF,aAAa0mB,MAAM,WAAWnsB,GAAGA,EAAEotB,OAAO,EAAE,OAAQ,IAAsEE,IAAlEC,KAAGnuB,EAAE4C,eAAc,WAAW,IAAI,GAAI5C,KAAKkuB,IAAGA,GAAGluB,GAAG,EAAE,IAAOouB,GAAG,CAAKjuB,GAAE6E,aAAaqpB,IAAIruB,EAAE4C,cAAc,WAAW,OAAOpD,KAAK+rB,SAAS1oB,KAAMF,KAAME,EAAG,SAAS7C,GAAGG,EAAE+E,OAAO/E,EAAEyB,SAASulB,OAAOnnB,EAAEsuB,OAAOtuB,GAAG,mBAAoBA,MAAKG,EAAE6E,aAAaqpB,OAAOluB,EAAEyB,QAAQulB,MAAMhnB,EAAEgsB,cAAc,SAASzrB,GAAG,IAAIA,EAAEssB,aAAa7sB,EAAEyB,QAAQ0sB,KAAK,CAAC,GAAI1tB,EAAE,QAAOysB,KAAK,SAASvsB,EAAEoC,GAAG,GAAcS,GAAEP,EAAZD,EAAEzC,EAAE2tB,KAAqG,IAA3F3tB,EAAE6tB,SAASprB,EAAEqrB,KAAK9tB,EAAEoE,KAAKpE,EAAE0mB,IAAI1mB,EAAEuO,MAAMvO,EAAE6tB,SAAS7tB,EAAEwhB,UAAU/e,EAAEqrB,KAAK9tB,EAAEoE,KAAKpE,EAAE0mB,IAAI1mB,EAAEuO,OAAUvO,EAAE+tB,UAAU,IAAIrrB,IAAK1C,GAAE+tB,UAAUtrB,EAAEC,GAAG1C,EAAE+tB,UAAUrrB,EAAG1C,GAAE6D,UAAUpB,EAAE2pB,kBAAkB3pB,EAAE2pB,iBAAiBpsB,EAAE6D,WAAW7D,EAAEssB,cAAclsB,EAAE,sBAAsBA,EAAE,oBAAoB,iBAAkB,KAAI,IAAIsC,IAAKtC,GAAEqC,EAAEypB,iBAAiBxpB,EAAEtC,EAAEsC,IAAI,MAAMS,IAAIV,EAAEkqB,KAAK3sB,EAAEusB,YAAYvsB,EAAEsH,MAAM,MAAMpH,EAAE,SAASZ,EAAEc,GAAG,GAAIsC,GAAES,EAAER,EAAEC,EAAEC,CAAE,KAAI,GAAG3C,IAAIE,GAAkB,IAAfqC,EAAEgL,YAAuE,GAAtDvN,EAAEX,EAAE0D,IAAIR,EAAE8qB,mBAAmB9tB,EAAEgP,KAAKgf,UAAWD,IAAGvqB,IAAO7C,EAAiB,IAAfqC,EAAEgL,YAAgBhL,EAAE4pB,YAAY,CAAC3pB,EAAED,EAAEopB,OAAOlpB,EAAEF,EAAE0pB,wBAAwBvpB,KAAKC,EAAEJ,EAAEurB,YAAYnrB,GAAGA,EAAEkG,kBAAkBnG,EAAEqoB,IAAIpoB,EAAG,KAAID,EAAE+D,KAAKlE,EAAE4nB,aAAa,MAAM/qB,IAAI,IAAI6D,EAAEV,EAAEqpB,WAAW,MAAMhpB,GAAGK,EAAE,GAAIT,IAAG1C,EAAE6qB,SAAU7qB,EAAEssB,YAAiC,OAAJ5pB,IAAWA,EAAE,KAA9BA,EAAEE,EAAE+D,KAAK,IAAI,KAAwB,MAAM5D,GAAG3C,GAAGoC,GAAE,EAAGO,GAAGH,GAAGJ,EAAEE,EAAES,EAAEP,EAAED,IAAK3C,EAAEuO,OAAsB,IAAf9L,EAAEgL,YAAoBxK,IAAIyqB,GAAGD,KAAKD,KAAKA,MAAM/tB,EAAEH,GAAG2uB,OAAOR,KAAKD,GAAGvqB,GAAG/C,GAAGuC,EAAE8qB,mBAAmBrtB,GAA3EA,KAA+EmsB,MAAM,WAAWnsB,GAAGA,EAAE,EAAE,OAAQ,IAAUK,IAAGM,GAAqEqtB,GAAyJrsB,GAAvO9B,MAAYouB,GAAG,yBAAyBC,GAAG,mCAAsC5sB,KAAK,SAAS,YAAY,eAAe,aAAa,kBAAkB,QAAQ,aAAa,cAAc,cAAc,iBAAiB,WAAe/B,GAAE4J,GAAG7E,QAAQ6pB,KAAK,SAAS/uB,EAAEC,EAAES,GAAG,GAAIE,GAAEE,CAAE,IAAGd,GAAO,IAAJA,EAAM,MAAOR,MAAKwvB,QAAQhtB,EAAG,OAAO,GAAGhC,EAAEC,EAAES,EAAG,KAAI,GAAIwC,GAAE,EAAEC,EAAE3D,KAAKoE,OAAOV,EAAEC,EAAED,IAAItC,EAAEpB,KAAK0D,GAAGtC,EAAEmF,QAAQjF,EAAEF,EAAEmF,MAAMyO,SAASrU,EAAEwH,MAAM/G,EAAE,eAAmB,SAAJE,IAAaA,EAAEF,EAAEmF,MAAMyO,QAAQ,KAAS,KAAJ1T,GAA6B,SAArBX,EAAEY,IAAIH,EAAE,aAAsBT,EAAEye,SAAShe,EAAEsH,cAAcuB,gBAAgB7I,KAAKT,EAAEwH,MAAM/G,EAAE,aAAaJ,EAAGI,EAAE2F,WAAY,KAAIrD,EAAE,EAAEA,EAAEC,EAAED,IAAKtC,EAAEpB,KAAK0D,GAAMtC,EAAEmF,QAAOjF,EAAEF,EAAEmF,MAAMyO,QAAe,KAAJ1T,GAAY,SAAJA,IAAWF,EAAEmF,MAAMyO,QAAQrU,EAAEwH,MAAM/G,EAAE,eAAe,IAAI,OAAOpB,OAAMyvB,KAAK,SAASjvB,EAAEC,EAAES,GAAG,GAAGV,GAAO,IAAJA,EAAM,MAAOR,MAAKwvB,QAAQhtB,EAAG,OAAO,GAAGhC,EAAEC,EAAES,EAA6B,KAA1B,GAAIE,GAAEE,EAAEoC,EAAE,EAAEC,EAAE3D,KAAKoE,OAAYV,EAAEC,EAAED,IAAItC,EAAEpB,KAAK0D,GAAGtC,EAAEmF,QAAQjF,EAAEX,EAAEY,IAAIH,EAAE,WAAe,SAAJE,IAAaX,EAAEwH,MAAM/G,EAAE,eAAeT,EAAEwH,MAAM/G,EAAE,aAAaE,GAAI,KAAIoC,EAAE,EAAEA,EAAEC,EAAED,IAAI1D,KAAK0D,GAAG6C,QAAQvG,KAAK0D,GAAG6C,MAAMyO,QAAQ,OAAQ,OAAOhV,OAAM0vB,QAAQ/uB,EAAE4J,GAAG4V,OAAOA,OAAO,SAAS3f,EAAEC,EAAES,GAAG,GAAIE,GAAY,iBAAHZ,EAAiN,OAApMG,GAAEmF,WAAWtF,IAAIG,EAAEmF,WAAWrF,GAAGT,KAAK0vB,QAAQ9sB,MAAM5C,KAAK8N,WAAc,MAAHtN,GAASY,EAAEpB,KAAKyC,KAAK,WAAW,GAAIhC,GAAEW,EAAEZ,EAAEG,EAAEX,MAAMwc,GAAG,UAAW7b,GAAEX,MAAMS,EAAE,OAAO,YAAYT,KAAKwvB,QAAQhtB,EAAG,SAAS,GAAGhC,EAAEC,EAAES,GAAUlB,MAAM2vB,OAAO,SAASnvB,EAAEC,EAAES,EAAEE,GAAG,MAAOpB,MAAKkJ,OAAO,WAAW3H,IAAI,UAAU,GAAGguB,OAAOthB,MAAMuhB,SAASvc,QAAQxS,GAAGD,EAAEU,EAAEE,IAAIouB,QAAQ,SAAShvB,EAAEC,EAAES,EAAEE,GAAG,QAASsC,KAAIpC,EAAE6V,SAAQ,GAAIxW,EAAEsW,MAAMjX,KAAM,IAAoE0D,GAAEC,EAAEQ,EAAEP,EAAES,EAAER,EAAEC,EAAEC,EAAEC,EAAEC,EAAEwG,EAApFhK,EAAEE,EAAE+E,UAAUpE,GAAGJ,EAAkB,IAAhBlB,KAAKa,SAAaO,EAAEF,GAAGP,EAAEX,MAAMwc,GAAG,UAAiC/b,GAAEmvB,qBAAsB,KAAIzrB,IAAK3D,GAAmD,GAAhDkD,EAAE/C,EAAEoP,UAAU5L,GAAGA,IAAIT,IAAIlD,EAAEkD,GAAGlD,EAAE2D,SAAU3D,GAAE2D,KAAQE,EAAE1D,EAAEgoB,SAASjlB,KAAK,UAAWW,GAAE,CAACR,EAAEQ,EAAE2lB,OAAOxpB,EAAEkD,UAAWlD,GAAEkD,EAAG,KAAIS,IAAKN,GAAEM,IAAK3D,KAAIA,EAAE2D,GAAGN,EAAEM,IAAK,IAAIT,IAAKlD,GAAE,CAA+I,GAA9ImD,EAAEnD,EAAEkD,GAAG/C,EAAEyE,QAAQzB,IAAIlD,EAAEmvB,mBAAmBlsB,GAAGC,EAAE,GAAGA,EAAEnD,EAAEkD,GAAGC,EAAE,IAAIlD,EAAEmvB,mBAAmBlsB,GAAGjD,EAAEovB,eAAepvB,EAAEovB,cAAcnsB,IAAIjD,EAAEqvB,QAAQ,QAAe,SAAJnsB,GAAYvC,GAAO,SAAJuC,IAAavC,EAAE,MAAOX,GAAE6qB,SAAStiB,KAAKhJ,KAAMkB,KAAQ,WAAJwC,GAAkB,UAAJA,KAAejD,EAAE+U,UAAUxV,KAAKuG,MAAMiP,SAASxV,KAAKuG,MAAMwpB,UAAU/vB,KAAKuG,MAAMypB,WAAmC,WAAxBrvB,EAAEY,IAAIvB,KAAK,YAA6C,SAAtBW,EAAEY,IAAIvB,KAAK,WAAqBW,EAAEyB,QAAQ2R,wBAA4C,WAApB/S,EAAGhB,KAAK+G,UAAuD/G,KAAKuG,MAAM8O,KAAK,EAAlDrV,KAAKuG,MAAMyO,QAAQ,iBAA+C,MAAZvU,EAAE+U,WAAiBxV,KAAKuG,MAAMiP,SAAS,SAAU,KAAIrR,IAAK3D,GAAEoD,EAAE,GAAIjD,GAAE2W,GAAGtX,KAAKS,EAAE0D,GAAGR,EAAEnD,EAAE2D,GAAGkrB,GAAGpqB,KAAKtB,IAAI8G,EAAE9J,EAAEwH,MAAMnI,KAAK,SAASmE,KAAS,WAAJR,EAAavC,EAAE,OAAO,OAAO,GAAGqJ,GAAG9J,EAAEwH,MAAMnI,KAAK,SAASmE,EAAM,SAAJsG,EAAW,OAAO,QAAQ7G,EAAE6G,MAAM7G,EAAED,OAAOG,EAAEwrB,GAAG/iB,KAAK5I,GAAGI,EAAEH,EAAEqsB,MAAMnsB,GAAGE,EAAEoC,WAAWtC,EAAE,IAAIG,EAAEH,EAAE,KAAKnD,EAAEioB,UAAUzkB,GAAG,GAAG,MAAU,OAAJF,IAAWtD,EAAE4F,MAAMvG,KAAKmE,GAAGH,GAAG,GAAGC,GAAGF,GAAGC,GAAG,GAAGJ,EAAEqsB,MAAMlsB,EAAEpD,EAAE4F,MAAMvG,KAAKmE,EAAEJ,EAAEE,IAAIH,EAAE,KAAKE,GAAU,OAAPF,EAAE,IAAU,EAAG,GAAGE,EAAED,GAAGH,EAAEssB,OAAOnsB,EAAEC,EAAEC,IAAIL,EAAEssB,OAAOnsB,EAAEJ,EAAE,IAAK,QAAM,EAAG,GAAIrC,GAAEX,EAAEwvB,MAAM1vB,EAAES,EAAEE,EAAG,OAAGT,GAAE+I,cAAclJ,GAAUR,KAAKyC,KAAKnB,EAAEgqB,WAAU,KAAK9qB,EAAEG,EAAE+E,UAAUlF,GAAUc,EAAE6V,SAAQ,EAAGnX,KAAKyC,KAAKiB,GAAG1D,KAAKmX,MAAM7V,EAAE6V,MAAMzT,KAAI8T,KAAK,SAAShX,EAAEU,EAAEE,GAAuE,MAA1D,gBAAHZ,KAAcY,EAAEF,EAAEA,EAAEV,EAAEA,EAAEC,GAAGS,GAAGV,KAAI,GAAIR,KAAKmX,MAAM3W,GAAG,SAAgBR,KAAKyC,KAAK,WAAW,QAASkB,GAAEnD,EAAEC,EAAES,GAAG,GAAII,GAAEb,EAAES,EAAGP,GAAE6I,WAAWhJ,EAAEU,GAAE,GAAII,EAAEkW,KAAKpW,GAAG,GAAIX,GAAES,GAAE,EAAGI,EAAEX,EAAEyvB,OAAO1sB,EAAE/C,EAAEwH,MAAMnI,KAA4B,IAAtBoB,GAAGT,EAAEuW,SAAQ,EAAGlX,MAAY,MAAHQ,EAAQ,IAAIC,IAAKiD,GAAEA,EAAEjD,IAAIiD,EAAEjD,GAAG+W,MAAM/W,EAAEwL,QAAQ,UAAUxL,EAAE2D,OAAO,GAAGT,EAAE3D,KAAK0D,EAAEjD,OAAQiD,GAAEjD,EAAED,EAAE,SAASkD,EAAEjD,GAAG+W,MAAM7T,EAAE3D,KAAK0D,EAAEjD,EAAG,KAAIA,EAAEa,EAAE8C,OAAO3D,KAAKa,EAAEb,GAAGka,OAAO3a,OAAU,MAAHQ,GAASc,EAAEb,GAAG0W,QAAQ3W,KAAKY,EAAEE,EAAEb,IAAG,GAAIa,EAAEb,GAAG4vB,YAAYnvB,GAAE,EAAGI,EAAE6M,OAAO1N,EAAE,MAAMW,IAAIF,IAAIP,EAAEyW,QAAQpX,KAAKQ,QAAQG,EAAE8B,MAAM6tB,UAAU9tB,EAAG,OAAO,GAAG+tB,QAAQ/tB,EAAG,OAAO,GAAGguB,YAAYhuB,EAAG,SAAS,GAAGiuB,QAAQxd,QAAQ,QAAQyd,SAASzd,QAAQ,QAAQ0d,YAAY1d,QAAQ,WAAW,SAASzS,EAAEC,GAAGE,EAAE4J,GAAG/J,GAAG,SAASA,EAAEU,EAAEE,GAAG,MAAOpB,MAAKwvB,QAAQ/uB,EAAED,EAAEU,EAAEE,MAAMT,EAAE+E,QAAQyqB,MAAM,SAAS3vB,EAAEC,EAAES,GAAG,GAAIE,GAAEZ,GAAa,gBAAHA,GAAYG,EAAE+E,UAAUlF,IAAI8qB,SAASpqB,IAAIA,GAAGT,GAAGE,EAAEmF,WAAWtF,IAAIA,EAAEowB,SAASpwB,EAAEsvB,OAAO5uB,GAAGT,GAAGA,IAAIE,EAAEmF,WAAWrF,IAAIA,EAA0T,OAAvTW,GAAEwvB,SAASjwB,EAAE2W,GAAG7I,IAAI,EAAqB,gBAAZrN,GAAEwvB,SAAmBxvB,EAAEwvB,SAASxvB,EAAEwvB,WAAYjwB,GAAE2W,GAAGC,OAAO5W,EAAE2W,GAAGC,OAAOnW,EAAEwvB,UAAUjwB,EAAE2W,GAAGC,OAAO6E,SAAqB,MAAThb,EAAE+V,OAAa/V,EAAE+V,SAAQ,IAAG/V,EAAE+V,MAAM,MAAK/V,EAAEyvB,IAAIzvB,EAAEkqB,SAASlqB,EAAEkqB,SAAS,SAAS9qB,GAAGG,EAAEmF,WAAW1E,EAAEyvB,MAAMzvB,EAAEyvB,IAAI7nB,KAAKhJ,MAAMoB,EAAE+V,MAAMxW,EAAEyW,QAAQpX,KAAKoB,EAAE+V,OAAO3W,KAAI,GAAIG,EAAEuW,QAAQlX,OAAcoB,GAAG0uB,QAAQgB,OAAO,SAAStwB,GAAG,MAAOA,IAAGuwB,MAAM,SAASvwB,GAAG,OAAOwP,KAAKghB,IAAIxwB,EAAEwP,KAAKihB,IAAI,EAAE,KAAKb,UAAU9Y,GAAG,SAAS9W,EAAEC,EAAES,GAAGlB,KAAK0Y,QAAQjY,EAAET,KAAK2a,KAAKna,EAAER,KAAK4X,KAAK1W,EAAET,EAAEywB,KAAKzwB,EAAEywB,YAAYvwB,EAAE2W,GAAGjM,WAAW8lB,OAAO,WAAWnxB,KAAK0Y,QAAQ0Y,MAAMpxB,KAAK0Y,QAAQ0Y,KAAKpoB,KAAKhJ,KAAK2a,KAAK3a,KAAKkD,IAAIlD,OAAOW,EAAE2W,GAAG8Z,KAAKpxB,KAAK4X,OAAOjX,EAAE2W,GAAG8Z,KAAKhV,UAAUpc,OAAOiwB,IAAI,WAAW,GAAyB,MAAtBjwB,KAAK2a,KAAK3a,KAAK4X,SAAe5X,KAAK2a,KAAKpU,OAAmC,MAA5BvG,KAAK2a,KAAKpU,MAAMvG,KAAK4X,OAAa,MAAO5X,MAAK2a,KAAK3a,KAAK4X,KAAM,IAAIpX,GAAEC,EAAEE,EAAEY,IAAIvB,KAAK2a,KAAK3a,KAAK4X,KAAM,OAAO5I,OAAMxO,EAAE4F,WAAW3F,IAAKA,GAAO,SAAJA,EAAaA,EAAF,EAAID,GAAG0vB,OAAO,SAAS1vB,EAAEU,EAAEE,GAAG,QAASuC,GAAEnD,GAAG,MAAOc,GAAE8vB,KAAK5wB,GAAG,GAAIc,GAAEtB,KAAK0D,EAAE/C,EAAE2W,EAAGtX,MAAKqxB,UAAUtuB,IAAIC,IAAKhD,KAAKiO,IAAI/M,EAAElB,KAAKkD,IAAIlD,KAAKsxB,MAAM9wB,EAAER,KAAKuxB,IAAIvxB,KAAKkS,MAAM,EAAElS,KAAKwxB,KAAKpwB,GAAGpB,KAAKwxB,OAAO7wB,EAAEioB,UAAU5oB,KAAK4X,MAAM,GAAG,MAAMjU,EAAEwT,MAAMnX,KAAK0Y,QAAQvB,MAAMxT,EAAEgX,KAAK3a,KAAK2a,KAAKhX,EAAE0sB,UAAU,WAAW1vB,EAAEwH,MAAM7G,EAAEqZ,KAAK,SAASrZ,EAAEsW,QAAQnX,IAAIa,EAAEoX,QAAQ+W,KAAK9uB,EAAEwH,MAAM7G,EAAEqZ,KAAK,SAASrZ,EAAEsW,KAAKtW,EAAEgwB,OAAOhwB,EAAEoX,QAAQ6W,MAAM5uB,EAAEwH,MAAM7G,EAAEqZ,KAAK,SAASrZ,EAAEsW,KAAKtW,EAAE2M,OAAOtK,KAAKhD,EAAEyvB,OAAOzkB,KAAKhI,KAAKyrB,KAAKA,GAAGxY,YAAYlT,EAAE+tB,KAAK/tB,EAAEguB,YAAYnC,KAAK,WAAW,GAAI/uB,GAAEG,EAAEwH,MAAMnI,KAAK2a,KAAK,SAAS3a,KAAK4X,KAAM5X,MAAK0Y,QAAQwY,KAAKlxB,KAAK4X,MAAMpX,GAAGG,EAAE4F,MAAMvG,KAAK2a,KAAK3a,KAAK4X,MAAM5X,KAAK0Y,QAAQ6W,MAAK,EAAG/uB,IAAIC,EAAET,KAAKkwB,OAAOlwB,KAAKiwB,MAAMzvB,GAAGR,KAAKkwB,OAAmB,UAAZlwB,KAAK4X,MAA4B,WAAZ5X,KAAK4X,KAAgB,EAAE,EAAE5X,KAAKiwB,OAAOtvB,EAAEX,KAAK2a,MAAM4U,QAAQE,KAAK,WAAWzvB,KAAK0Y,QAAQwY,KAAKlxB,KAAK4X,MAAMjX,EAAEwH,MAAMnI,KAAK2a,KAAK,SAAS3a,KAAK4X,OAAOjX,EAAE4F,MAAMvG,KAAK2a,KAAK3a,KAAK4X,MAAM5X,KAAK0Y,QAAQ+W,MAAK,EAAGzvB,KAAKkwB,OAAOlwB,KAAKiwB,MAAM,IAAImB,KAAK,SAAS5wB,GAAG,GAAIC,GAAES,EAAEE,EAAEE,EAAEyB,IAAIC,IAAKU,GAAE,EAAGC,EAAE3D,KAAK2a,KAAKxW,EAAEnE,KAAK0Y,OAAQ,IAAGlY,GAAGc,GAAG6C,EAAEysB,SAAS5wB,KAAKqxB,UAAU,CAACrxB,KAAKkD,IAAIlD,KAAKiO,IAAIjO,KAAKuxB,IAAIvxB,KAAKkS,MAAM,EAAElS,KAAKmxB,SAAShtB,EAAEyrB,mBAAmB5vB,KAAK4X,OAAM,CAAG,KAAInX,IAAK0D,GAAEyrB,mBAAmBzrB,EAAEyrB,mBAAmBnvB,MAAK,IAAKiD,GAAE,EAAI,IAAGA,EAAE,CAA4I,GAA/H,MAAZS,EAAEqR,WAAiB7U,EAAEyB,QAAQ4R,kBAAkBrT,EAAE8B,MAAM,GAAG,IAAI,KAAK,SAASjC,EAAEC,GAAGkD,EAAE4C,MAAM,WAAW9F,GAAG0D,EAAEqR,SAAShV,KAAK2D,EAAEsrB,MAAM9uB,EAAEgD,GAAG8rB,OAAUtrB,EAAEsrB,MAAMtrB,EAAEorB,KAAK,IAAI9uB,IAAK0D,GAAEyrB,mBAAmBjvB,EAAE4F,MAAM5C,EAAElD,EAAE0D,EAAE+sB,KAAKzwB,IAAIE,EAAE6I,WAAW7F,EAAE,SAASlD,GAAE,GAAIE,EAAE6I,WAAW7F,EAAE,SAASlD,GAAE,EAAIW,GAAE+C,EAAEmnB,SAASlqB,IAAI+C,EAAEmnB,UAAS,EAAGlqB,EAAE4H,KAAKrF,IAAI,OAAM,EAAiO,MAA9NQ,GAAEysB,UAAUe,EAAAA,EAAS3xB,KAAKkD,IAAI5B,GAAGJ,EAAEI,EAAEtB,KAAKqxB,UAAUrxB,KAAKkS,MAAMhR,EAAEiD,EAAEysB,SAAS5wB,KAAKuxB,IAAI5wB,EAAEmvB,OAAO3rB,EAAEyrB,mBAAmB5vB,KAAK4X,OAAO5X,KAAKkS,MAAMhR,EAAE,EAAE,EAAEiD,EAAEysB,UAAU5wB,KAAKkD,IAAIlD,KAAKsxB,OAAOtxB,KAAKiO,IAAIjO,KAAKsxB,OAAOtxB,KAAKuxB,KAAKvxB,KAAKmxB,UAAe,IAAKxwB,EAAE+E,OAAO/E,EAAE2W,IAAIma,KAAK,WAAgC,IAArB,GAAIjxB,GAAEC,EAAEE,EAAEyvB,OAAOlvB,EAAE,EAAOA,EAAET,EAAE2D,OAAOlD,IAAIV,EAAEC,EAAES,IAAIV,KAAKC,EAAES,KAAKV,GAAGC,EAAE0N,OAAOjN,IAAI,EAAGT,GAAE2D,QAAQzD,EAAE2W,GAAGE,QAAQka,SAAS,GAAGla,KAAK,WAAWoa,cAAcxC,IAAIA,GAAG,MAAM7X,QAAQsa,KAAK,IAAIC,KAAK,IAAI1V,SAAS,KAAKgV,MAAMne,QAAQ,SAASzS,GAAGG,EAAE4F,MAAM/F,EAAEma,KAAK,UAAUna,EAAE0C,MAAMkZ,SAAS,SAAS5b,GAAGA,EAAEma,KAAKpU,OAA6B,MAAtB/F,EAAEma,KAAKpU,MAAM/F,EAAEoX,MAAYpX,EAAEma,KAAKpU,MAAM/F,EAAEoX,MAAMpX,EAAE0C,IAAI1C,EAAEgxB,KAAKhxB,EAAEma,KAAKna,EAAEoX,MAAMpX,EAAE0C,QAAQvC,EAAE8B,KAAKC,GAAGC,OAAOC,SAASF,IAAI,SAASlC,EAAEC,GAAGA,EAAEwL,QAAQ,YAAYtL,EAAE2W,GAAG8Z,KAAK3wB,GAAG,SAASD,GAAGG,EAAE4F,MAAM/F,EAAEma,KAAKla,EAAEuP,KAAKC,IAAI,EAAEzP,EAAE0C,KAAK1C,EAAEgxB,UAAU7wB,EAAE+f,MAAM/f,EAAE+f,KAAKyB,UAAUxhB,EAAE+f,KAAKyB,QAAQ4P,SAAS,SAASvxB,GAAG,MAAOG,GAAEuG,KAAKvG,EAAEyvB,OAAO,SAAS3vB,GAAG,MAAOD,KAAIC,EAAEka,OAAOvW,QAAS,IAAI4tB,IAAGC,GAAG,mBAAmBC,GAAG,kBAA+DF,IAA5C,yBAA0B9wB,GAAE+I,gBAAmB,SAASzJ,EAAEC,EAAES,EAAEE,GAAG,IAAIA,EAAEZ,EAAE2xB,wBAAwB,MAAM7wB,IAAI,IAAIF,IAAIT,EAAEye,SAASle,EAAEV,GAAG,MAAOY,IAAG0U,IAAI1U,EAAE0U,IAAI2T,KAAKroB,EAAEqoB,OAAO3T,IAAI,EAAE2T,KAAK,EAAG,IAAI/lB,GAAEjD,EAAEU,KAAKwC,EAAEjD,EAAGD,GAAG0D,EAAEjD,EAAE4c,WAAWpa,EAAEoa,WAAW,EAAEla,EAAE1C,EAAEwc,YAAYha,EAAEga,YAAY,EAAErZ,EAAEV,EAAEyuB,aAAazxB,EAAEyB,QAAQC,UAAUnB,EAAE2c,WAAWna,EAAEma,UAAUha,EAAEF,EAAE0uB,aAAa1xB,EAAEyB,QAAQC,UAAUnB,EAAEuc,YAAY/Z,EAAE+Z,WAAW3Z,EAAE1C,EAAE0U,IAAIzR,EAAEF,EAAEJ,EAAE3C,EAAEqoB,KAAK5lB,EAAED,CAAE,QAAOkS,IAAIhS,EAAE2lB,KAAK1lB,IAAO,SAASvD,EAAEC,EAAES,GAAkI,IAA/H,GAAIE,GAAEE,EAAEd,EAAE8xB,aAAa5uB,EAAElD,EAAEmD,EAAElD,EAAEU,KAAKgD,EAAE1D,EAAEK,YAAY8C,EAAEO,EAAEA,EAAE+Q,iBAAiB1U,EAAE,MAAMA,EAAEgpB,aAAanlB,EAAE7D,EAAEmV,UAAU9R,EAAErD,EAAE+xB,YAAkB/xB,EAAEA,EAAE6I,aAAa7I,IAAImD,GAAGnD,IAAIU,KAAMP,EAAEyB,QAAQ2T,eAA4B,UAAbnS,EAAEiS,WAAyBzU,EAAE+C,EAAEA,EAAE+Q,iBAAiB1U,EAAE,MAAMA,EAAEgpB,aAAanlB,GAAG7D,EAAEqd,UAAUha,GAAGrD,EAAEid,WAAWjd,IAAIc,IAAI+C,GAAG7D,EAAEmV,UAAU9R,GAAGrD,EAAE+xB,WAAW5xB,EAAEyB,QAAQsT,oBAAoB/U,EAAEyB,QAAQwT,gCAAgCqc,GAAGhtB,KAAKzE,EAAEuG,aAAa1C,GAAG+B,WAAWhF,EAAEoxB,iBAAiB,EAAE3uB,GAAGuC,WAAWhF,EAAEqxB,kBAAkB,GAAG/uB,EAAEpC,EAAEA,EAAEd,EAAE8xB,cAAc3xB,EAAEyB,QAAQ4T,sCAAmD,YAAb5U,EAAEoU,WAAuBnR,GAAG+B,WAAWhF,EAAEoxB,iBAAiB,EAAE3uB,GAAGuC,WAAWhF,EAAEqxB,kBAAkB,GAAG7uB,EAAExC,CAAgN,OAA9L,aAAbwC,EAAEiS,UAAoC,WAAbjS,EAAEiS,WAAoBxR,GAAGV,EAAEgS,UAAU9R,GAAGF,EAAE4uB,YAAW5xB,EAAEyB,QAAQ2T,eAA4B,UAAbnS,EAAEiS,WAAqBxR,GAAG2L,KAAKC,IAAI/O,EAAE2c,UAAUla,EAAEka,WAAWha,GAAGmM,KAAKC,IAAI/O,EAAEuc,WAAW9Z,EAAE8Z,cAAoB3H,IAAIzR,EAAEolB,KAAK5lB,IAAIlD,EAAE4J,GAAGsO,OAAO,SAASrY,GAAG,GAAGsN,UAAU1J,OAAO,MAAO5D,KAAIC,EAAET,KAAKA,KAAKyC,KAAK,SAAShC,GAAGE,EAAEkY,OAAO6Z,UAAU1yB,KAAKQ,EAAEC,IAAK,IAAIS,GAAElB,KAAK,GAAGoB,EAAEF,GAAGA,EAAEwH,aAAc,OAAItH,GAAiBF,IAAIE,EAAED,KAAYR,EAAEkY,OAAO8Z,WAAWzxB,GAAU8wB,GAAG9wB,EAAEE,EAAEA,EAAE6I,iBAAjE,MAAmFtJ,EAAEkY,QAAQ8Z,WAAW,SAASnyB,GAAG,GAAIC,GAAED,EAAEmV,UAAUzU,EAAEV,EAAE+xB,UAAwI,OAA7H5xB,GAAEyB,QAAQ6T,mCAAmCxV,GAAG2F,WAAWzF,EAAEY,IAAIf,EAAE,eAAe,EAAEU,GAAGkF,WAAWzF,EAAEY,IAAIf,EAAE,gBAAgB,IAAUsV,IAAIrV,EAAEgpB,KAAKvoB,IAAIwxB,UAAU,SAASlyB,EAAEC,EAAES,GAAG,GAAIE,GAAET,EAAEY,IAAIf,EAAE,WAAgB,YAAJY,IAAeZ,EAAE+F,MAAMsP,SAAS,WAAY,IAAiI/R,GAAEC,EAA/HzC,EAAEX,EAAEH,GAAGkD,EAAEpC,EAAEuX,SAASlV,EAAEhD,EAAEY,IAAIf,EAAE,OAAO2D,EAAExD,EAAEY,IAAIf,EAAE,QAAQoD,GAAO,aAAJxC,GAAoB,UAAJA,IAAcT,EAAEwI,QAAQ,QAAQxF,EAAEQ,KAAI,EAAGE,KAAKR,IAASD,IAAGC,EAAEvC,EAAEuU,WAAW/R,EAAED,EAAEiS,IAAI/R,EAAEF,EAAE4lB,OAAO3lB,EAAEsC,WAAWzC,IAAI,EAAEI,EAAEqC,WAAWjC,IAAI,GAAGxD,EAAEmF,WAAWrF,KAAKA,EAAEA,EAAEuI,KAAKxI,EAAEU,EAAEwC,IAAW,MAAPjD,EAAEqV,MAAYzR,EAAEyR,IAAIrV,EAAEqV,IAAIpS,EAAEoS,IAAIhS,GAAW,MAARrD,EAAEgpB,OAAaplB,EAAEolB,KAAKhpB,EAAEgpB,KAAK/lB,EAAE+lB,KAAK1lB,GAAG,SAAUtD,GAAEA,EAAEmyB,MAAM5pB,KAAKxI,EAAE6D,GAAG/C,EAAEC,IAAI8C,KAAK1D,EAAE4J,GAAG7E,QAAQmQ,SAAS,WAAW,IAAI7V,KAAK,GAAG,MAAO,KAAK,IAAIQ,GAAER,KAAK,GAAGS,EAAET,KAAKsyB,eAAepxB,EAAElB,KAAK6Y,SAASzX,EAAE8wB,GAAGjtB,KAAKxE,EAAE,GAAGsG,WAAW+O,IAAI,EAAE2T,KAAK,GAAGhpB,EAAEoY,QAAyM,OAAhM3X,GAAE4U,KAAK1P,WAAWzF,EAAEY,IAAIf,EAAE,eAAe,EAAEU,EAAEuoB,MAAMrjB,WAAWzF,EAAEY,IAAIf,EAAE,gBAAgB,EAAEY,EAAE0U,KAAK1P,WAAWzF,EAAEY,IAAId,EAAE,GAAG,oBAAoB,EAAEW,EAAEqoB,MAAMrjB,WAAWzF,EAAEY,IAAId,EAAE,GAAG,qBAAqB,GAASqV,IAAI5U,EAAE4U,IAAI1U,EAAE0U,IAAI2T,KAAKvoB,EAAEuoB,KAAKroB,EAAEqoB,OAAO6I,aAAa,WAAW,MAAOtyB,MAAKgO,IAAI,WAA2C,IAAhC,GAAIxN,GAAER,KAAKsyB,cAAcpxB,EAAEC,KAAWX,IAAI0xB,GAAGjtB,KAAKzE,EAAEuG,WAAiC,WAAtBpG,EAAEY,IAAIf,EAAE,aAAuBA,EAAEA,EAAE8xB,YAAa,OAAO9xB,QAAOG,EAAE8B,MAAMgb,WAAW,cAAcI,UAAU,eAAe,SAASrd,EAAEU,GAAG,GAAIE,GAAE,IAAI6D,KAAK/D,EAAGP,GAAE4J,GAAG/J,GAAG,SAASc,GAAG,MAAOX,GAAEyP,OAAOpQ,KAAK,SAASQ,EAAEc,EAAEoC,GAAG,GAAIC,GAAEjD,EAAGF,EAAG,OAAGkD,KAAIjD,EAASkD,EAAEzC,IAAKyC,GAAEA,EAAEzC,GAAGP,EAAEyB,QAAQC,UAAUsB,EAAEzB,SAAS+H,gBAAgB3I,IAAIqC,EAAEzB,SAASf,KAAKG,GAAGd,EAAEc,QAAGqC,EAAEA,EAAEkvB,SAASzxB,EAAET,EAAEgD,GAAG8Z,aAAa/Z,EAAEtC,EAAEsC,EAAE/C,EAAEgD,GAAGka,aAAard,EAAEc,GAAGoC,IAAGlD,EAAEc,EAAEwM,UAAU1J,OAAO,SAASzD,EAAE8B,MAAMqwB,OAAO,SAASC,MAAM,SAAS,SAASvyB,EAAEU,GAAG,GAAIE,GAAE,SAASZ,EAAEc,EAAE,SAASd,EAAEkD,EAAE,SAASlD,CAAEG,GAAE4J,GAAG,QAAQ/J,GAAG,WAAW,GAAIA,GAAER,KAAK,EAAG,OAAOQ,GAAEA,EAAE+F,MAAMH,WAAWzF,EAAEY,IAAIf,EAAEU,EAAE,YAAYlB,KAAKkB,KAAK,MAAMP,EAAE4J,GAAG,QAAQ/J,GAAG,SAASA,GAAG,GAAIC,GAAET,KAAK,EAAG,OAAOS,GAAEA,EAAE8F,MAAMH,WAAWzF,EAAEY,IAAId,EAAES,EAAEV,EAAE,SAAS,WAAWR,KAAKkB,KAAK,MAAMP,EAAE4J,GAAGrJ,GAAG,SAASV,GAAG,MAAOG,GAAEyP,OAAOpQ,KAAK,SAASQ,EAAEU,EAAEyC,GAAG,GAAIQ,GAAEP,EAAES,EAAER,CAAE,OAAGlD,GAAEC,SAASJ,IAAI2D,EAAE3D,EAAE0B,SAAS0B,EAAEO,EAAE8F,gBAAgB7I,GAAUT,EAAEyB,QAAQC,UAAUuB,GAAGO,EAAEhD,MAAMgD,EAAEhD,KAAKC,IAAIwC,GAAkB,IAAbpD,EAAEK,UAAcsD,EAAE3D,EAAEyJ,gBAAmB9F,EAAE/C,IAAI+C,EAAE7C,GAAU6C,EAAE/C,GAAU4O,KAAKC,IAAIzP,EAAEW,KAAKG,GAAG6C,EAAE7C,GAAGd,EAAEW,KAAKuC,GAAGS,EAAET,KAAOC,IAAIlD,GAAG4D,EAAE1D,EAAEY,IAAIf,EAAEU,GAAG2C,EAAEuC,WAAW/B,GAAU1D,EAAEiJ,UAAU/F,GAAGA,EAAEQ,OAAE1D,GAAEH,GAAGe,IAAIL,EAAEyC,IAAIzC,EAAEV,EAAEsN,UAAU1J,OAAO,SAAS5D,EAAEN,OAAOM,EAAEL,EAAEQ,EAAiB,kBAARb,SAAoBA,OAAOkzB,KAAKlzB,OAAOkzB,IAAI9yB,QAAQJ,OAAO,YAAY,WAAW,MAAOa,MAAMoO,QAAQ,WAAY,GAAIhL,GAAE/D,KAAK2K,EAAE5G,EAAExD,EAAEmK,KAAKpJ,EAAEoK,MAAML,UAAUT,EAAEQ,OAAOC,UAAUlH,EAAEkL,SAAShE,UAAU7K,EAAEc,EAAEqK,KAAK3H,EAAE1C,EAAEuB,MAAM3B,EAAEI,EAAEqB,OAAOkB,EAAE+G,EAAEU,SAAS3K,EAAEiK,EAAEY,eAAe3L,EAAEyB,EAAE2xB,QAAQhvB,EAAE3C,EAAE0M,IAAIrK,EAAErC,EAAE4xB,OAAOroB,EAAEvJ,EAAE6xB,YAAY/xB,EAAEE,EAAE4H,OAAOxF,EAAEpC,EAAE8xB,MAAMtvB,EAAExC,EAAE+xB,KAAKpoB,EAAE3J,EAAE2K,QAAQxL,EAAEa,EAAEgyB,YAAYvoB,EAAEW,MAAMtG,QAAQ7E,EAAE6K,OAAOmoB,KAAK3vB,EAAEO,EAAE0b,KAAK/U,EAAE,SAAS/G,GAAG,MAAOA,aAAa+G,GAAE/G,EAAE/D,eAAgB8K,QAAG9K,KAAKwzB,SAASzvB,GAAU,GAAI+G,GAAE/G,GAAI,oBAAoB0vB,UAAS,mBAAoBC,SAAQA,OAAOD,UAAUA,QAAQC,OAAOD,QAAQ3oB,GAAG2oB,QAAQlzB,EAAEuK,GAAG/G,EAAExD,EAAEuK,EAAEA,EAAE6oB,QAAQ,OAAQ,IAAItpB,GAAES,EAAErI,KAAKqI,EAAEmoB,QAAQ,SAASlvB,EAAE4G,EAAErJ,GAAG,GAAG,MAAMyC,EAAE,GAAGlE,GAAGkE,EAAEkvB,UAAUpzB,EAAEkE,EAAEkvB,QAAQtoB,EAAErJ,OAAQ,IAAGyC,EAAEK,UAAUL,EAAEK,QAAQ,IAAI,GAAIwG,GAAE,EAAEzG,EAAEJ,EAAEK,OAAOD,EAAEyG,EAAEA,IAAI,GAAGD,EAAE3B,KAAK1H,EAAEyC,EAAE6G,GAAGA,EAAE7G,KAAK2G,EAAE,WAAY,KAAI,GAAIlK,KAAKuD,GAAE,GAAG+G,EAAEmG,IAAIlN,EAAEvD,IAAImK,EAAE3B,KAAK1H,EAAEyC,EAAEvD,GAAGA,EAAEuD,KAAK2G,EAAE,OAAQI,GAAEkD,IAAIlD,EAAE8oB,QAAQ,SAAS7vB,EAAE4G,EAAED,GAAG,GAAIpJ,KAAK,OAAO,OAAMyC,EAAEzC,EAAE2C,GAAGF,EAAEiK,MAAM/J,EAAEF,EAAEiK,IAAIrD,EAAED,IAAIL,EAAEtG,EAAE,SAASA,EAAE6G,EAAEzG,GAAG7C,EAAEA,EAAE8C,QAAQuG,EAAE3B,KAAK0B,EAAE3G,EAAE6G,EAAEzG,KAAK7C,GAAI,IAAI2H,GAAE,6CAA8C6B,GAAEooB,OAAOpoB,EAAE+oB,MAAM/oB,EAAEgpB,OAAO,SAAS/vB,EAAE4G,EAAED,EAAEpJ,GAAG,GAAIsJ,GAAEkD,UAAU1J,OAAO,CAAE,IAAG,MAAML,IAAIA,MAAMJ,GAAGI,EAAEmvB,SAASvvB,EAAE,MAAOrC,KAAIqJ,EAAEG,EAAE+U,KAAKlV,EAAErJ,IAAIsJ,EAAE7G,EAAEmvB,OAAOvoB,EAAED,GAAG3G,EAAEmvB,OAAOvoB,EAAG,IAAGN,EAAEtG,EAAE,SAASA,EAAEI,EAAE3D,GAAGoK,EAAEF,EAAEC,EAAE3B,KAAK1H,EAAEoJ,EAAE3G,EAAEI,EAAE3D,IAAIkK,EAAE3G,EAAE6G,GAAE,MAAOA,EAAE,KAAM,IAAImpB,WAAU9qB,EAAG,OAAOyB,IAAGI,EAAEqoB,YAAYroB,EAAEkpB,MAAM,SAASjwB,EAAE4G,EAAED,EAAEpJ,GAAG,GAAIsJ,GAAEkD,UAAU1J,OAAO,CAAE,IAAG,MAAML,IAAIA,MAAM8G,GAAG9G,EAAEovB,cAActoB,EAAE,MAAOvJ,KAAIqJ,EAAEG,EAAE+U,KAAKlV,EAAErJ,IAAIsJ,EAAE7G,EAAEovB,YAAYxoB,EAAED,GAAG3G,EAAEovB,YAAYxoB,EAAG,IAAIxG,GAAEJ,EAAEK,MAAO,IAAGD,KAAKA,EAAE,CAAC,GAAI3D,GAAEsK,EAAEyoB,KAAKxvB,EAAGI,GAAE3D,EAAE4D,OAAO,GAAGiG,EAAEtG,EAAE,SAASC,EAAE9C,EAAE2C,GAAG3C,EAAEV,EAAEA,IAAI2D,KAAKA,EAAEyG,EAAEF,EAAEC,EAAE3B,KAAK1H,EAAEoJ,EAAE3G,EAAE7C,GAAGA,EAAE2C,IAAI6G,EAAE3G,EAAE7C,GAAG0J,GAAE,MAAOA,EAAE,KAAM,IAAImpB,WAAU9qB,EAAG,OAAOyB,IAAGI,EAAEoC,KAAKpC,EAAEmpB,OAAO,SAASlwB,EAAE4G,EAAED,GAAG,GAAIpJ,EAAE,OAAOmK,GAAE1H,EAAE,SAASA,EAAE6G,EAAEzG,GAAG,MAAOwG,GAAE3B,KAAK0B,EAAE3G,EAAE6G,EAAEzG,IAAI7C,EAAEyC,GAAE,GAAI,SAASzC,GAAGwJ,EAAE5B,OAAO4B,EAAE0N,OAAO,SAASzU,EAAE4G,EAAED,GAAG,GAAIpJ,KAAK,OAAO,OAAMyC,EAAEzC,EAAEF,GAAG2C,EAAEmF,SAAS9H,EAAE2C,EAAEmF,OAAOyB,EAAED,IAAIL,EAAEtG,EAAE,SAASA,EAAE6G,EAAEzG;AAAGwG,EAAE3B,KAAK0B,EAAE3G,EAAE6G,EAAEzG,KAAK7C,EAAEA,EAAE8C,QAAQL,KAAKzC,IAAIwJ,EAAE+G,OAAO,SAAS9N,EAAE4G,EAAED,GAAG,MAAOI,GAAE5B,OAAOnF,EAAE,SAASA,EAAEzC,EAAEsJ,GAAG,OAAOD,EAAE3B,KAAK0B,EAAE3G,EAAEzC,EAAEsJ,IAAIF,IAAII,EAAEsoB,MAAMtoB,EAAEopB,IAAI,SAASnwB,EAAE4G,EAAErJ,GAAGqJ,IAAIA,EAAEG,EAAEqpB,SAAU,IAAIvpB,IAAE,CAAG,OAAO,OAAM7G,EAAE6G,EAAElH,GAAGK,EAAEqvB,QAAQ1vB,EAAEK,EAAEqvB,MAAMzoB,EAAErJ,IAAI+I,EAAEtG,EAAE,SAASA,EAAEI,EAAE3D,GAAG,OAAOoK,EAAEA,GAAGD,EAAE3B,KAAK1H,EAAEyC,EAAEI,EAAE3D,IAAI,OAAOkK,MAAME,GAAI,IAAIa,GAAEX,EAAEuoB,KAAKvoB,EAAEspB,IAAI,SAASrwB,EAAE4G,EAAErJ,GAAGqJ,IAAIA,EAAEG,EAAEqpB,SAAU,IAAIvpB,IAAE,CAAG,OAAO,OAAM7G,EAAE6G,EAAE9G,GAAGC,EAAEsvB,OAAOvvB,EAAEC,EAAEsvB,KAAK1oB,EAAErJ,IAAI+I,EAAEtG,EAAE,SAASA,EAAEI,EAAE3D,GAAG,MAAOoK,KAAIA,EAAED,EAAE3B,KAAK1H,EAAEyC,EAAEI,EAAE3D,IAAIkK,EAAE,WAAWE,GAAIE,GAAEsU,SAAStU,EAAEupB,QAAQ,SAAStwB,EAAE4G,GAAG,MAAO,OAAM5G,IAAKkH,GAAGlH,EAAEkI,UAAUhB,EAAElH,EAAEkI,QAAQtB,KAAI,EAAGc,EAAE1H,EAAE,SAASA,GAAG,MAAOA,KAAI4G,MAAKG,EAAEwpB,OAAO,SAASvwB,EAAE4G,GAAG,GAAID,GAAE1G,EAAEgF,KAAK8E,UAAU,GAAGxM,EAAEwJ,EAAEhF,WAAW6E,EAAG,OAAOG,GAAEkD,IAAIjK,EAAE,SAASA,GAAG,OAAOzC,EAAEqJ,EAAE5G,EAAE4G,IAAI/H,MAAMmB,EAAE2G,MAAMI,EAAEypB,MAAM,SAASxwB,EAAE4G,GAAG,MAAOG,GAAEkD,IAAIjK,EAAE,SAASA,GAAG,MAAOA,GAAE4G,MAAMG,EAAE0pB,MAAM,SAASzwB,EAAE4G,EAAED,GAAG,MAAOI,GAAE2pB,QAAQ9pB,GAAGD,EAAE,QAAQI,EAAEJ,EAAE,OAAO,UAAU3G,EAAE,SAASA,GAAG,IAAI,GAAI2G,KAAKC,GAAE,GAAGA,EAAED,KAAK3G,EAAE2G,GAAG,OAAM,CAAG,QAAM,KAAMI,EAAE4pB,UAAU,SAAS3wB,EAAE4G,GAAG,MAAOG,GAAE0pB,MAAMzwB,EAAE4G,GAAE,IAAKG,EAAEmF,IAAI,SAASlM,EAAE4G,EAAED,GAAG,IAAIC,GAAGG,EAAE1F,QAAQrB,IAAIA,EAAE,MAAMA,EAAE,IAAI,MAAMA,EAAEK,OAAO,MAAO4L,MAAKC,IAAIrN,MAAMoN,KAAKjM,EAAG,KAAI4G,GAAGG,EAAE2pB,QAAQ1wB,GAAG,OAAM,EAAG,CAAE,IAAIzC,IAAGqzB,UAAS,EAAG,EAAE7sB,OAAM,EAAG,EAAG,OAAOuC,GAAEtG,EAAE,SAASA,EAAE6G,EAAEzG,GAAG,GAAI3D,GAAEmK,EAAEA,EAAE3B,KAAK0B,EAAE3G,EAAE6G,EAAEzG,GAAGJ,CAAEvD,IAAGc,EAAEqzB,WAAWrzB,GAAGwG,MAAM/D,EAAE4wB,SAASn0B,MAAMc,EAAEwG,OAAOgD,EAAE8pB,IAAI,SAAS7wB,EAAE4G,EAAED,GAAG,IAAIC,GAAGG,EAAE1F,QAAQrB,IAAIA,EAAE,MAAMA,EAAE,IAAI,MAAMA,EAAEK,OAAO,MAAO4L,MAAK4kB,IAAIhyB,MAAMoN,KAAKjM,EAAG,KAAI4G,GAAGG,EAAE2pB,QAAQ1wB,GAAG,MAAO,GAAE,CAAE,IAAIzC,IAAGqzB,SAAS,EAAE,EAAE7sB,MAAM,EAAE,EAAG,OAAOuC,GAAEtG,EAAE,SAASA,EAAE6G,EAAEzG,GAAG,GAAI3D,GAAEmK,EAAEA,EAAE3B,KAAK0B,EAAE3G,EAAE6G,EAAEzG,GAAGJ,CAAEzC,GAAEqzB,SAASn0B,IAAIc,GAAGwG,MAAM/D,EAAE4wB,SAASn0B,MAAMc,EAAEwG,OAAOgD,EAAE+pB,QAAQ,SAAS9wB,GAAG,GAAI4G,GAAED,EAAE,EAAEpJ,IAAK,OAAO+I,GAAEtG,EAAE,SAASA,GAAG4G,EAAEG,EAAEuL,OAAO3L,KAAKpJ,EAAEoJ,EAAE,GAAGpJ,EAAEqJ,GAAGrJ,EAAEqJ,GAAG5G,IAAIzC,EAAG,IAAI+C,GAAE,SAASN,GAAG,MAAO+G,GAAEhF,WAAW/B,GAAGA,EAAE,SAAS4G,GAAG,MAAOA,GAAE5G,IAAK+G,GAAEgqB,OAAO,SAAS/wB,EAAE4G,EAAED,GAAG,GAAIpJ,GAAE+C,EAAEsG,EAAG,OAAOG,GAAEypB,MAAMzpB,EAAEkD,IAAIjK,EAAE,SAASA,EAAE4G,EAAEC,GAAG,OAAO9C,MAAM/D,EAAEygB,MAAM7Z,EAAEoqB,SAASzzB,EAAE0H,KAAK0B,EAAE3G,EAAE4G,EAAEC,MAAMsD,KAAK,SAASnK,EAAE4G,GAAG,GAAID,GAAE3G,EAAEgxB,SAASzzB,EAAEqJ,EAAEoqB,QAAS,IAAGrqB,IAAIpJ,EAAE,CAAC,GAAGoJ,EAAEpJ,GAAO,SAAJoJ,EAAW,MAAO,EAAE,IAAGpJ,EAAEoJ,GAAO,SAAJpJ,EAAW,OAAM,EAAG,MAAOyC,GAAEygB,MAAM7Z,EAAE6Z,OAAM,EAAG,IAAI,SAAU,IAAI5Y,GAAE,SAAS7H,EAAE4G,EAAED,EAAEpJ,GAAG,GAAIsJ,MAAKzG,EAAEE,EAAEsG,GAAGG,EAAEqpB,SAAU,OAAO9pB,GAAEtG,EAAE,SAAS4G,EAAEnK,GAAG,GAAIwD,GAAEG,EAAE6E,KAAK0B,EAAEC,EAAEnK,EAAEuD,EAAGzC,GAAEsJ,EAAE5G,EAAE2G,KAAKC,EAAGE,GAAEkqB,QAAQ,SAASjxB,EAAE4G,EAAED,GAAG,MAAOkB,GAAE7H,EAAE4G,EAAED,EAAE,SAAS3G,EAAE4G,EAAED,IAAII,EAAEmG,IAAIlN,EAAE4G,GAAG5G,EAAE4G,GAAG5G,EAAE4G,OAAOgB,KAAKjB,MAAMI,EAAEmqB,QAAQ,SAASlxB,EAAE4G,EAAED,GAAG,MAAOkB,GAAE7H,EAAE4G,EAAED,EAAE,SAAS3G,EAAE4G,GAAGG,EAAEmG,IAAIlN,EAAE4G,KAAK5G,EAAE4G,GAAG,GAAG5G,EAAE4G,QAAQG,EAAEoqB,YAAY,SAASnxB,EAAE4G,EAAED,EAAEpJ,GAAGoJ,EAAE,MAAMA,EAAEI,EAAEqpB,SAAS9vB,EAAEqG,EAAG,KAAI,GAAIE,GAAEF,EAAE1B,KAAK1H,EAAEqJ,GAAGxG,EAAE,EAAE3D,EAAEuD,EAAEK,OAAO5D,EAAE2D,GAAG,CAAC,GAAIH,GAAEG,EAAE3D,IAAI,CAAEoK,GAAEF,EAAE1B,KAAK1H,EAAEyC,EAAEC,IAAIG,EAAEH,EAAE,EAAExD,EAAEwD,EAAE,MAAOG,IAAG2G,EAAEwC,QAAQ,SAASvJ,GAAG,MAAOA,GAAE+G,EAAE1F,QAAQrB,GAAGC,EAAEgF,KAAKjF,GAAGA,EAAEK,UAAUL,EAAEK,OAAO0G,EAAEkD,IAAIjK,EAAE+G,EAAEqpB,UAAUrpB,EAAEqqB,OAAOpxB,OAAO+G,EAAEuC,KAAK,SAAStJ,GAAG,MAAO,OAAMA,EAAE,EAAEA,EAAEK,UAAUL,EAAEK,OAAOL,EAAEK,OAAO0G,EAAEyoB,KAAKxvB,GAAGK,QAAQ0G,EAAE8C,MAAM9C,EAAEujB,KAAKvjB,EAAEsqB,KAAK,SAASrxB,EAAE4G,EAAED,GAAG,MAAO,OAAM3G,EAAE,OAAO,MAAM4G,GAAGD,EAAE3G,EAAE,GAAGC,EAAEgF,KAAKjF,EAAE,EAAE4G,IAAIG,EAAEuqB,QAAQ,SAAStxB,EAAE4G,EAAED,GAAG,MAAO1G,GAAEgF,KAAKjF,EAAE,EAAEA,EAAEK,QAAQ,MAAMuG,GAAGD,EAAE,EAAEC,KAAKG,EAAE+C,KAAK,SAAS9J,EAAE4G,EAAED,GAAG,MAAO,OAAM3G,EAAE,OAAO,MAAM4G,GAAGD,EAAE3G,EAAEA,EAAEK,OAAO,GAAGJ,EAAEgF,KAAKjF,EAAEiM,KAAKC,IAAIlM,EAAEK,OAAOuG,EAAE,KAAKG,EAAEwqB,KAAKxqB,EAAEyqB,KAAKzqB,EAAE0qB,KAAK,SAASzxB,EAAE4G,EAAED,GAAG,MAAO1G,GAAEgF,KAAKjF,EAAE,MAAM4G,GAAGD,EAAE,EAAEC,IAAIG,EAAE2qB,QAAQ,SAAS1xB,GAAG,MAAO+G,GAAE5B,OAAOnF,EAAE+G,EAAEqpB,UAAW,IAAIhQ,GAAE,SAASpgB,EAAE4G,EAAED,GAAG,MAAOL,GAAEtG,EAAE,SAASA,GAAG+G,EAAE1F,QAAQrB,GAAG4G,EAAEnK,EAAEoC,MAAM8H,EAAE3G,GAAGogB,EAAEpgB,EAAE4G,EAAED,GAAGA,EAAEiB,KAAK5H,KAAK2G,EAAGI,GAAE4qB,QAAQ,SAAS3xB,EAAE4G,GAAG,MAAOwZ,GAAEpgB,EAAE4G,OAAOG,EAAE6qB,QAAQ,SAAS5xB,GAAG,MAAO+G,GAAE8qB,WAAW7xB,EAAEC,EAAEgF,KAAK8E,UAAU,KAAKhD,EAAE+qB,KAAK/qB,EAAEkG,OAAO,SAASjN,EAAE4G,EAAED,EAAEpJ,GAAGwJ,EAAEhF,WAAW6E,KAAKrJ,EAAEoJ,EAAEA,EAAEC,EAAEA,GAAE,EAAI,IAAIC,GAAEF,EAAEI,EAAEkD,IAAIjK,EAAE2G,EAAEpJ,GAAGyC,EAAEI,KAAK3D,IAAK,OAAO6J,GAAEO,EAAE,SAASF,EAAEpJ,IAAIqJ,EAAErJ,GAAGd,EAAEA,EAAE4D,OAAO,KAAKsG,EAAEI,EAAEsU,SAAS5e,EAAEkK,MAAMlK,EAAEmL,KAAKjB,GAAGvG,EAAEwH,KAAK5H,EAAEzC,OAAO6C,GAAG2G,EAAEgrB,MAAM,WAAW,MAAOhrB,GAAE+qB,KAAK30B,EAAE0B,MAAMtB,EAAEwM,aAAahD,EAAEirB,aAAa,SAAShyB,GAAG,GAAI4G,GAAE3G,EAAEgF,KAAK8E,UAAU,EAAG,OAAOhD,GAAE5B,OAAO4B,EAAE+qB,KAAK9xB,GAAG,SAASA,GAAG,MAAO+G,GAAEsoB,MAAMzoB,EAAE,SAASA,GAAG,MAAOG,GAAEmB,QAAQtB,EAAE5G,IAAI,OAAO+G,EAAE8qB,WAAW,SAAS7xB,GAAG,GAAI4G,GAAEzJ,EAAE0B,MAAMtB,EAAE0C,EAAEgF,KAAK8E,UAAU,GAAI,OAAOhD,GAAE5B,OAAOnF,EAAE,SAASA,GAAG,OAAO+G,EAAEsU,SAASzU,EAAE5G,MAAM+G,EAAEkrB,IAAI,WAAW,IAAI,GAAIjyB,GAAEC,EAAEgF,KAAK8E,WAAWnD,EAAEG,EAAEmF,IAAInF,EAAEypB,MAAMxwB,EAAE,WAAW2G,EAAEgB,MAAMf,GAAGrJ,EAAE,EAAEqJ,EAAErJ,EAAEA,IAAIoJ,EAAEpJ,GAAGwJ,EAAEypB,MAAMxwB,EAAE,GAAGzC,EAAG,OAAOoJ,IAAGI,EAAE0L,OAAO,SAASzS,EAAE4G,GAAG,GAAG,MAAM5G,EAAE,QAAS,KAAI,GAAI2G,MAAKpJ,EAAE,EAAEsJ,EAAE7G,EAAEK,OAAOwG,EAAEtJ,EAAEA,IAAIqJ,EAAED,EAAE3G,EAAEzC,IAAIqJ,EAAErJ,GAAGoJ,EAAE3G,EAAEzC,GAAG,IAAIyC,EAAEzC,GAAG,EAAG,OAAOoJ,IAAGI,EAAEmB,QAAQ,SAASlI,EAAE4G,EAAED,GAAG,GAAG,MAAM3G,EAAE,OAAM,CAAG,IAAIzC,GAAE,EAAEsJ,EAAE7G,EAAEK,MAAO,IAAGsG,EAAE,CAAC,GAAG,gBAAiBA,GAAE,MAAOpJ,GAAEwJ,EAAEoqB,YAAYnxB,EAAE4G,GAAG5G,EAAEzC,KAAKqJ,EAAErJ,GAAE,CAAGA,GAAE,EAAEoJ,EAAEsF,KAAKC,IAAI,EAAErF,EAAEF,GAAGA,EAAE,GAAGO,GAAGlH,EAAEkI,UAAUhB,EAAE,MAAOlH,GAAEkI,QAAQtB,EAAED,EAAG,MAAKE,EAAEtJ,EAAEA,IAAI,GAAGyC,EAAEzC,KAAKqJ,EAAE,MAAOrJ,EAAE,QAAM,GAAIwJ,EAAEwoB,YAAY,SAASvvB,EAAE4G,EAAED,GAAG,GAAG,MAAM3G,EAAE,OAAM,CAAG,IAAIzC,GAAE,MAAMoJ,CAAE,IAAGjK,GAAGsD,EAAEuvB,cAAc7yB,EAAE,MAAOa,GAAEyC,EAAEuvB,YAAY3oB,EAAED,GAAG3G,EAAEuvB,YAAY3oB,EAAG,KAAI,GAAIC,GAAEtJ,EAAEoJ,EAAE3G,EAAEK,OAAOwG,KAAK,GAAG7G,EAAE6G,KAAKD,EAAE,MAAOC,EAAE,QAAM,GAAIE,EAAEmrB,MAAM,SAASlyB,EAAE4G,EAAED,GAAG,GAAGoD,UAAU1J,SAASuG,EAAE5G,GAAG,EAAEA,EAAE,GAAG2G,EAAEoD,UAAU,IAAI,CAAE,KAAI,GAAIxM,GAAE0O,KAAKC,IAAID,KAAKkmB,MAAMvrB,EAAE5G,GAAG2G,GAAG,GAAGE,EAAE,EAAEzG,EAAEuH,MAAMpK,GAAGA,EAAEsJ,GAAGzG,EAAEyG,KAAK7G,EAAEA,GAAG2G,CAAE,OAAOvG,IAAG2G,EAAE+U,KAAK,SAAS9b,EAAE4G,GAAG,GAAG5G,EAAE8b,OAAOjc,GAAGA,EAAE,MAAOA,GAAEhB,MAAMmB,EAAEC,EAAEgF,KAAK8E,UAAU,GAAI,IAAIpD,GAAE1G,EAAEgF,KAAK8E,UAAU,EAAG,OAAO,YAAW,MAAO/J,GAAEnB,MAAM+H,EAAED,EAAE/H,OAAOqB,EAAEgF,KAAK8E,eAAehD,EAAEqrB,QAAQ,SAASpyB,GAAG,GAAI4G,GAAE3G,EAAEgF,KAAK8E,UAAU,EAAG,OAAO,YAAW,MAAO/J,GAAEnB,MAAM5C,KAAK2K,EAAEhI,OAAOqB,EAAEgF,KAAK8E,eAAehD,EAAEsrB,QAAQ,SAASryB,GAAG,GAAI4G,GAAE3G,EAAEgF,KAAK8E,UAAU,EAAG,OAAO,KAAInD,EAAEvG,SAASuG,EAAEG,EAAEurB,UAAUtyB,IAAIsG,EAAEM,EAAE,SAASA,GAAG5G,EAAE4G,GAAGG,EAAE+U,KAAK9b,EAAE4G,GAAG5G,KAAKA,GAAG+G,EAAEwrB,QAAQ,SAASvyB,EAAE4G,GAAG,GAAID,KAAK,OAAOC,KAAIA,EAAEG,EAAEqpB,UAAU,WAAW,GAAI7yB,GAAEqJ,EAAE/H,MAAM5C,KAAK8N,UAAW,OAAOhD,GAAEmG,IAAIvG,EAAEpJ,GAAGoJ,EAAEpJ,GAAGoJ,EAAEpJ,GAAGyC,EAAEnB,MAAM5C,KAAK8N,aAAahD,EAAEuM,MAAM,SAAStT,EAAE4G,GAAG,GAAID,GAAE1G,EAAEgF,KAAK8E,UAAU,EAAG,OAAO7K,YAAW,WAAW,MAAOc,GAAEnB,MAAM,KAAK8H,IAAIC,IAAIG,EAAEyrB,MAAM,SAASxyB,GAAG,MAAO+G,GAAEuM,MAAMzU,MAAMkI,GAAG/G,EAAE,GAAGpB,OAAOqB,EAAEgF,KAAK8E,UAAU,MAAMhD,EAAE0rB,SAAS,SAASzyB,EAAE4G,GAAG,GAAID,GAAEpJ,EAAEsJ,EAAEzG,EAAE3D,EAAE,EAAEwD,EAAE,WAAWxD,EAAE,GAAI6P,MAAKzF,EAAE,KAAKzG,EAAEJ,EAAEnB,MAAM8H,EAAEpJ,GAAI,OAAO,YAAW,GAAIJ,GAAE,GAAImP,MAAKxM,EAAE8G,GAAGzJ,EAAEV,EAAG,OAAOkK,GAAE1K,KAAKsB,EAAEwM,UAAU,GAAGjK,GAAG4T,aAAa7M,GAAGA,EAAE,KAAKpK,EAAEU,EAAEiD,EAAEJ,EAAEnB,MAAM8H,EAAEpJ,IAAIsJ,IAAIA,EAAE3H,WAAWe,EAAEH,IAAIM,IAAI2G,EAAE2rB,SAAS,SAAS1yB,EAAE4G,EAAED,GAAG,GAAIpJ,GAAEsJ,CAAE,OAAO,YAAW,GAAIzG,GAAEnE,KAAKQ,EAAEsN,UAAU9J,EAAE,WAAW1C,EAAE,KAAKoJ,IAAIE,EAAE7G,EAAEnB,MAAMuB,EAAE3D,KAAKU,EAAEwJ,IAAIpJ,CAAE,OAAOmW,cAAanW,GAAGA,EAAE2B,WAAWe,EAAE2G,GAAGzJ,IAAI0J,EAAE7G,EAAEnB,MAAMuB,EAAE3D,IAAIoK,IAAIE,EAAEsG,KAAK,SAASrN,GAAG,GAAI4G,GAAED,GAAE,CAAG,OAAO,YAAW,MAAOA,GAAEC,GAAGD,GAAE,EAAGC,EAAE5G,EAAEnB,MAAM5C,KAAK8N,WAAW/J,EAAE,KAAK4G,KAAKG,EAAEkc,KAAK,SAASjjB,EAAE4G,GAAG,MAAO,YAAW,GAAID,IAAG3G,EAAG,OAAOvD,GAAEoC,MAAM8H,EAAEoD,WAAWnD,EAAE/H,MAAM5C,KAAK0K,KAAKI,EAAE4rB,QAAQ,WAAW,GAAI3yB,GAAE+J,SAAU,OAAO,YAAW,IAAI,GAAInD,GAAEmD,UAAUpD,EAAE3G,EAAEK,OAAO,EAAEsG,GAAG,EAAEA,IAAIC,GAAG5G,EAAE2G,GAAG9H,MAAM5C,KAAK2K,GAAI,OAAOA,GAAE,KAAKG,EAAEyc,MAAM,SAASxjB,EAAE4G,GAAG,MAAO,IAAG5G,EAAE4G,IAAI,WAAW,MAAO,KAAI5G,EAAE4G,EAAE/H,MAAM5C,KAAK8N,WAAW,SAAShD,EAAEyoB,KAAKhzB,GAAG,SAASwD,GAAG,GAAGA,IAAIqH,OAAOrH,GAAG,KAAM,IAAIgwB,WAAU,iBAAkB,IAAIppB,KAAK,KAAI,GAAID,KAAK3G,GAAE+G,EAAEmG,IAAIlN,EAAE2G,KAAKC,EAAEA,EAAEvG,QAAQsG,EAAG,OAAOC,IAAGG,EAAEqqB,OAAO,SAASpxB,GAAG,GAAI4G,KAAK,KAAI,GAAID,KAAK3G,GAAE+G,EAAEmG,IAAIlN,EAAE2G,IAAIC,EAAEgB,KAAK5H,EAAE2G,GAAI,OAAOC,IAAGG,EAAE6rB,MAAM,SAAS5yB,GAAG,GAAI4G,KAAK,KAAI,GAAID,KAAK3G,GAAE+G,EAAEmG,IAAIlN,EAAE2G,IAAIC,EAAEgB,MAAMjB,EAAE3G,EAAE2G,IAAK,OAAOC,IAAGG,EAAE8rB,OAAO,SAAS7yB,GAAG,GAAI4G,KAAK,KAAI,GAAID,KAAK3G,GAAE+G,EAAEmG,IAAIlN,EAAE2G,KAAKC,EAAE5G,EAAE2G,IAAIA,EAAG,OAAOC,IAAGG,EAAEurB,UAAUvrB,EAAE+rB,QAAQ,SAAS9yB,GAAG,GAAI4G,KAAK,KAAI,GAAID,KAAK3G,GAAE+G,EAAEhF,WAAW/B,EAAE2G,KAAKC,EAAEgB,KAAKjB,EAAG,OAAOC,GAAEuD,QAAQpD,EAAEpF,OAAO,SAAS3B,GAAG,MAAOsG,GAAErG,EAAEgF,KAAK8E,UAAU,GAAG,SAASnD,GAAG,GAAGA,EAAE,IAAI,GAAID,KAAKC,GAAE5G,EAAE2G,GAAGC,EAAED,KAAK3G,GAAG+G,EAAEgsB,KAAK,SAAS/yB,GAAG,GAAI4G,MAAKD,EAAExJ,EAAE0B,MAAMtB,EAAE0C,EAAEgF,KAAK8E,UAAU,GAAI,OAAOzD,GAAEK,EAAE,SAASA,GAAGA,IAAK3G,KAAI4G,EAAED,GAAG3G,EAAE2G,MAAMC,GAAGG,EAAEisB,KAAK,SAAShzB,GAAG,GAAI4G,MAAKD,EAAExJ,EAAE0B,MAAMtB,EAAE0C,EAAEgF,KAAK8E,UAAU,GAAI,KAAI,GAAIlD,KAAK7G,GAAE+G,EAAEsU,SAAS1U,EAAEE,KAAKD,EAAEC,GAAG7G,EAAE6G,GAAI,OAAOD,IAAGG,EAAEksB,SAAS,SAASjzB,GAAG,MAAOsG,GAAErG,EAAEgF,KAAK8E,UAAU,GAAG,SAASnD,GAAG,GAAGA,EAAE,IAAI,GAAID,KAAKC,GAAE,MAAM5G,EAAE2G,KAAK3G,EAAE2G,GAAGC,EAAED,MAAM3G,GAAG+G,EAAE8B,MAAM,SAAS7I,GAAG,MAAO+G,GAAEmsB,SAASlzB,GAAG+G,EAAE1F,QAAQrB,GAAGA,EAAElB,QAAQiI,EAAEpF,UAAU3B,GAAGA,GAAG+G,EAAEosB,IAAI,SAASnzB,EAAE4G,GAAG,MAAOA,GAAE5G,GAAGA,EAAG,IAAImI,GAAE,SAASnI,EAAE4G,EAAED,EAAEpJ,GAAG,GAAGyC,IAAI4G,EAAE,MAAO,KAAI5G,GAAG,EAAEA,GAAG,EAAE4G,CAAE,IAAG,MAAM5G,GAAG,MAAM4G,EAAE,MAAO5G,KAAI4G,CAAE5G,aAAa+G,KAAI/G,EAAEA,EAAEyvB,UAAU7oB,YAAaG,KAAIH,EAAEA,EAAE6oB,SAAU,IAAI5oB,GAAE/G,EAAEmF,KAAKjF,EAAG,IAAG6G,GAAG/G,EAAEmF,KAAK2B,GAAG,OAAM,CAAG,QAAOC,GAAG,IAAI,kBAAkB,MAAO7G,IAAG4G,EAAE,EAAG,KAAI,kBAAkB,MAAO5G,KAAIA,EAAE4G,IAAIA,EAAE,GAAG5G,EAAE,EAAEA,GAAG,EAAE4G,EAAE5G,IAAI4G,CAAE,KAAI,gBAAgB,IAAI,mBAAmB,OAAO5G,IAAI4G,CAAE,KAAI,kBAAkB,MAAO5G,GAAEuf,QAAQ3Y,EAAE2Y,QAAQvf,EAAEoX,QAAQxQ,EAAEwQ,QAAQpX,EAAEozB,WAAWxsB,EAAEwsB,WAAWpzB,EAAEqzB,YAAYzsB,EAAEysB,WAAW,GAAG,gBAAiBrzB,IAAG,gBAAiB4G,GAAE,OAAM,CAAG,KAAI,GAAIxG,GAAEuG,EAAEtG,OAAOD,KAAK,GAAGuG,EAAEvG,IAAIJ,EAAE,MAAOzC,GAAE6C,IAAIwG,CAAED,GAAEiB,KAAK5H,GAAGzC,EAAEqK,KAAKhB,EAAG,IAAInK,GAAE,EAAEwD,GAAE,CAAG,IAAG,kBAAkB4G,GAAG,GAAGpK,EAAEuD,EAAEK,OAAOJ,EAAExD,GAAGmK,EAAEvG,OAAO,KAAK5D,MAAMwD,EAAEkI,EAAEnI,EAAEvD,GAAGmK,EAAEnK,GAAGkK,EAAEpJ,WAAW,CAAC,GAAIJ,GAAE6C,EAAEoI,YAAYxL,EAAEgK,EAAEwB,WAAY,IAAGjL,IAAIP,KAAKmK,EAAEhF,WAAW5E,IAAIA,YAAaA,IAAG4J,EAAEhF,WAAWnF,IAAIA,YAAaA,IAAG,OAAM,CAAG,KAAI,GAAId,KAAKkE,GAAE,GAAG+G,EAAEmG,IAAIlN,EAAElE,KAAKW,MAAMwD,EAAE8G,EAAEmG,IAAItG,EAAE9K,IAAIqM,EAAEnI,EAAElE,GAAG8K,EAAE9K,GAAG6K,EAAEpJ,KAAK,KAAM,IAAG0C,EAAE,CAAC,IAAInE,IAAK8K,GAAE,GAAGG,EAAEmG,IAAItG,EAAE9K,KAAKW,IAAI,KAAMwD,IAAGxD,GAAG,MAAOkK,GAAE5B,MAAMxH,EAAEwH,MAAM9E,EAAG8G,GAAEusB,QAAQ,SAAStzB,EAAE4G,GAAG,MAAOuB,GAAEnI,EAAE4G,UAAUG,EAAE2pB,QAAQ,SAAS1wB,GAAG,GAAG,MAAMA,EAAE,OAAM,CAAG,IAAG+G,EAAE1F,QAAQrB,IAAI+G,EAAEwsB,SAASvzB,GAAG,MAAO,KAAIA,EAAEK,MAAO,KAAI,GAAIuG,KAAK5G,GAAE,GAAG+G,EAAEmG,IAAIlN,EAAE4G,GAAG,OAAM,CAAG,QAAM,GAAIG,EAAEysB,UAAU,SAASxzB,GAAG,SAASA,GAAG,IAAIA,EAAElD,WAAWiK,EAAE1F,QAAQ2F,GAAG,SAAShH,GAAG,MAAM,kBAAkBF,EAAEmF,KAAKjF,IAAI+G,EAAEmsB,SAAS,SAASlzB,GAAG,MAAOA,KAAIqH,OAAOrH,IAAIsG,GAAG,YAAY,WAAW,SAAS,SAAS,OAAO,UAAU,SAAStG,GAAG+G,EAAE,KAAK/G,GAAG,SAAS4G,GAAG,MAAO9G,GAAEmF,KAAK2B,IAAI,WAAW5G,EAAE,OAAO+G,EAAE0sB,YAAY1pB,aAAahD,EAAE0sB,YAAY,SAASzzB,GAAG,SAASA,IAAI+G,EAAEmG,IAAIlN,EAAE,aAAa,kBAAkB,MAAM+G,EAAEhF,WAAW,SAAS/B,GAAG,MAAM,kBAAmBA,KAAI+G,EAAEmE,SAAS,SAASlL,GAAG,MAAOkL,UAASlL,KAAKiL,MAAM5I,WAAWrC,KAAK+G,EAAEkE,MAAM,SAASjL,GAAG,MAAO+G,GAAE2sB,SAAS1zB,IAAIA,IAAIA,GAAG+G,EAAE4sB,UAAU,SAAS3zB,GAAG,MAAOA,MAAI,GAAIA,KAAI,GAAI,oBAAoBF,EAAEmF,KAAKjF,IAAI+G,EAAE6sB,OAAO,SAAS5zB,GAAG,MAAO,QAAOA,GAAG+G,EAAE8sB,YAAY,SAAS7zB,GAAG,MAAW,UAAJA,GAAY+G,EAAEmG,IAAI,SAASlN,EAAE4G,GAAG,MAAOhK,GAAEqI,KAAKjF,EAAE4G,IAAIG,EAAEsD,WAAW,WAAW,MAAOrK,GAAExD,EAAEoK,EAAE3K,MAAM8K,EAAEqpB,SAAS,SAASpwB,GAAG,MAAOA,IAAG+G,EAAE+sB,MAAM,SAAS9zB,EAAE4G,EAAED,GAAG,IAAI,GAAIpJ,GAAEoK,MAAM3H,GAAG6G,EAAE,EAAE7G,EAAE6G,EAAEA,IAAItJ,EAAEsJ,GAAGD,EAAE3B,KAAK0B,EAAEE,EAAG,OAAOtJ,IAAGwJ,EAAEuL,OAAO,SAAStS,EAAE4G,GAAG,MAAO,OAAMA,IAAIA,EAAE5G,EAAEA,EAAE,GAAGA,EAAEiM,KAAK8nB,MAAM9nB,KAAKqG,UAAU1L,EAAE5G,EAAE,IAAK,IAAIggB,IAAGgU,QAAQC,IAAI,QAAQC,IAAI,OAAOlW,IAAI,OAAOmW,IAAI,SAASC,IAAI,SAASC,IAAI,UAAWrU,GAAEsU,SAASvtB,EAAE8rB,OAAO7S,EAAEgU,OAAQ,IAAI3uB,IAAG2uB,OAAO1d,OAAO,IAAIvP,EAAEyoB,KAAKxP,EAAEgU,QAAQhqB,KAAK,IAAI,IAAI,KAAKsqB,SAAShe,OAAO,IAAIvP,EAAEyoB,KAAKxP,EAAEsU,UAAUtqB,KAAK,KAAK,IAAI,KAAMjD,GAAErI,MAAM,SAAS,YAAY,SAASsB,GAAG+G,EAAE/G,GAAG,SAAS4G,GAAG,MAAO,OAAMA,EAAE,IAAI,GAAGA,GAAGjG,QAAQ0E,EAAErF,GAAG,SAAS4G,GAAG,MAAOoZ,GAAEhgB,GAAG4G,QAAQG,EAAEgR,OAAO,SAAS/X,EAAE4G,GAAG,GAAG,MAAM5G,EAAE,MAAO,KAAK,IAAI2G,GAAE3G,EAAE4G,EAAG,OAAOG,GAAEhF,WAAW4E,GAAGA,EAAE1B,KAAKjF,GAAG2G,GAAGI,EAAEwtB,MAAM,SAASv0B,GAAGsG,EAAES,EAAEurB,UAAUtyB,GAAG,SAAS4G,GAAG,GAAID,GAAEI,EAAEH,GAAG5G,EAAE4G,EAAGG,GAAEO,UAAUV,GAAG,WAAW,GAAI5G,IAAG/D,KAAKwzB,SAAU,OAAOhzB,GAAEoC,MAAMmB,EAAE+J,WAAWvC,EAAEvC,KAAKhJ,KAAK0K,EAAE9H,MAAMkI,EAAE/G,OAAQ,IAAIigB,GAAE,CAAElZ,GAAEytB,SAAS,SAASx0B,GAAG,GAAI4G,KAAIqZ,EAAE,EAAG,OAAOjgB,GAAEA,EAAE4G,EAAEA,GAAGG,EAAE0tB,kBAAkBC,SAAS,kBAAkBC,YAAY,mBAAmBX,OAAO,mBAAoB,IAAIhvB,GAAE,OAAO0B,GAAG0tB,IAAI,IAAIQ,KAAK,KAAKC,KAAK,IAAIC,KAAK,IAAIC,KAAI,IAAIC,SAAS,QAAQC,SAAS,SAAS1uB,EAAE,8BAA+BQ,GAAEmuB,SAAS,SAASl1B,EAAE4G,EAAED,GAAG,GAAIpJ,EAAEoJ,GAAEI,EAAEksB,YAAYtsB,EAAEI,EAAE0tB,iBAAkB,IAAI5tB,GAAEyP,SAAS3P,EAAEqtB,QAAQhvB,GAAGua,QAAQ5Y,EAAEguB,aAAa3vB,GAAGua,QAAQ5Y,EAAE+tB,UAAU1vB,GAAGua,QAAQvV,KAAK,KAAK,KAAK,KAAK5J,EAAE,EAAE3D,EAAE,QAASuD,GAAEW,QAAQkG,EAAE,SAASD,EAAED,EAAEpJ,EAAEsJ,EAAE5G,GAAG,MAAOxD,IAAGuD,EAAElB,MAAMsB,EAAEH,GAAGU,QAAQ4F,EAAE,SAASvG,GAAG,MAAM,KAAK0G,EAAE1G,KAAK2G,IAAIlK,GAAG,cAAckK,EAAE,kCAAkCpJ,IAAId,GAAG,cAAcc,EAAE,wBAAwBsJ,IAAIpK,GAAG,OAAOoK,EAAE,YAAYzG,EAAEH,EAAE2G,EAAEvG,OAAOuG,IAAInK,GAAG,OAAOkK,EAAEwuB,WAAW14B,EAAE,mBAAmBA,EAAE,OAAOA,EAAE,4FAA+FA,EAAE,eAAgB,KAAIc,EAAE+N,SAAS3E,EAAEwuB,UAAU,MAAM,IAAI14B,GAAG,MAAMwD,GAAG,KAAMA,GAAEsf,OAAO9iB,EAAEwD,EAAE,GAAG2G,EAAE,MAAOrJ,GAAEqJ,EAAEG,EAAG,IAAI5J,GAAE,SAAS6C,GAAG,MAAOzC,GAAE0H,KAAKhJ,KAAK+D,EAAE+G,GAAI,OAAO5J,GAAEoiB,OAAO,aAAa5Y,EAAEwuB,UAAU,OAAO,OAAO14B,EAAE,IAAIU,GAAG4J,EAAEquB,MAAM,SAASp1B,GAAG,MAAO+G,GAAE/G,GAAGo1B,QAAS,IAAI5tB,GAAE,SAASxH,GAAG,MAAO/D,MAAKo5B,OAAOtuB,EAAE/G,GAAGo1B,QAAQp1B,EAAG+G,GAAEwtB,MAAMxtB,GAAGT,GAAG,MAAM,OAAO,UAAU,QAAQ,OAAO,SAAS,WAAW,SAAStG,GAAG,GAAI4G,GAAErJ,EAAEyC,EAAG+G,GAAEO,UAAUtH,GAAG,WAAW,GAAI2G,GAAE1K,KAAKwzB,QAAS,OAAO7oB,GAAE/H,MAAM8H,EAAEoD,WAAW,SAAS/J,GAAG,UAAUA,GAAG,IAAI2G,EAAEtG,cAAesG,GAAE,GAAGa,EAAEvC,KAAKhJ,KAAK0K,MAAML,GAAG,SAAS,OAAO,SAAS,SAAStG,GAAG,GAAI4G,GAAErJ,EAAEyC,EAAG+G,GAAEO,UAAUtH,GAAG,WAAW,MAAOwH,GAAEvC,KAAKhJ,KAAK2K,EAAE/H,MAAM5C,KAAKwzB,SAAS1lB,eAAehD,EAAEpF,OAAOoF,EAAEO,WAAW8tB,MAAM,WAAW,MAAOn5B,MAAKo5B,QAAO,EAAGp5B,MAAM8H,MAAM,WAAW,MAAO9H,MAAKwzB,aAAcxqB,KAAKhJ,MAkKph0C,gBAATmP,QACPA,SAGH,WACG,YAEA,SAASxO,GAAEoD,GAEP,MAAOA,GAAI,GAAK,IAAMA,EAAIA,EAwC9B,QAASs1B,OAAMC,GAQX,MADAC,WAAUC,UAAY,EACfD,UAAUt0B,KAAKq0B,GAAU,IAAMA,EAAO50B,QAAQ60B,UAAW,SAAU/4B,GACtE,GAAIU,GAAIu4B,KAAKj5B,EACb,OAAoB,gBAANU,GACRA,EACA,OAAS,OAASV,EAAEk5B,WAAW,GAAGpuB,SAAS,KAAKzI,OAAM,KAC3D,IAAM,IAAMy2B,EAAS,IAI9B,QAASK,KAAIC,EAAKC,GAId,GAAI11B,GACAE,EACAwG,EACAzG,EAEA+xB,EADA2D,EAAOC,IAEPjyB,EAAQ+xB,EAAOD,EAkBnB,QAdI9xB,GAA0B,gBAAVA,IACY,kBAAjBA,GAAM6O,SACjB7O,EAAQA,EAAM6O,OAAOijB,IAMN,kBAARI,OACPlyB,EAAQkyB,IAAIhxB,KAAK6wB,EAAQD,EAAK9xB,UAKnBA,IACf,IAAK,SACD,MAAOuxB,OAAMvxB,EAEjB,KAAK,SAID,MAAOmH,UAASnH,GAASgE,OAAOhE,GAAS,MAE7C,KAAK,UACL,IAAK,OAMD,MAAOgE,QAAOhE,EAKlB,KAAK,SAKD,IAAKA,EACD,MAAO,MAUX,IALAiyB,KAAOE,OACP9D,KAI+C,mBAA3C/qB,OAAOC,UAAUC,SAAS1I,MAAMkF,GAA6B,CAM7D,IADA1D,EAAS0D,EAAM1D,OACVD,EAAI,EAAGA,EAAIC,EAAQD,GAAK,EACzBgyB,EAAQhyB,GAAKw1B,IAAIx1B,EAAG2D,IAAU,MAYlC,OANA+C,GAAuB,IAAnBsrB,EAAQ/xB,OACN,KACA21B,IACA,MAAQA,IAAM5D,EAAQpoB,KAAK,MAAQgsB,KAAO,KAAOD,EAAO,IACxD,IAAM3D,EAAQpoB,KAAK,KAAO,IAChCgsB,IAAMD,EACCjvB,EAKX,GAAImvB,KAAsB,gBAARA,KAEd,IADA51B,EAAS41B,IAAI51B,OACRD,EAAI,EAAGA,EAAIC,EAAQD,GAAK,EACH,gBAAX61B,KAAI71B,KACXE,EAAI21B,IAAI71B,GACR0G,EAAI8uB,IAAIt1B,EAAGyD,GACP+C,GACAsrB,EAAQxqB,KAAK0tB,MAAMh1B,IAAM01B,IAAM,KAAO,KAAOlvB,QAQzD,KAAKxG,IAAKyD,GACFsD,OAAOC,UAAUG,eAAexC,KAAKlB,EAAOzD,KAC5CwG,EAAI8uB,IAAIt1B,EAAGyD,GACP+C,GACAsrB,EAAQxqB,KAAK0tB,MAAMh1B,IAAM01B,IAAM,KAAO,KAAOlvB,GAe7D,OANAA,GAAuB,IAAnBsrB,EAAQ/xB,OACN,KACA21B,IACA,MAAQA,IAAM5D,EAAQpoB,KAAK,MAAQgsB,KAAO,KAAOD,EAAO,IACxD,IAAM3D,EAAQpoB,KAAK,KAAO,IAChCgsB,IAAMD,EACCjvB,GAlLsB,kBAA1BwF,MAAKhF,UAAUsL,SAEtBtG,KAAKhF,UAAUsL,OAAS,SAAUijB,GAE9B,MAAO3qB,UAASjP,KAAKk6B,WACfl6B,KAAKm6B,iBAAuB,IAC1Bx5B,EAAEX,KAAKo6B,cAAgB,GAAK,IAC5Bz5B,EAAEX,KAAKq6B,cAAqB,IAC5B15B,EAAEX,KAAKs6B,eAAqB,IAC5B35B,EAAEX,KAAKu6B,iBAAqB,IAC5B55B,EAAEX,KAAKw6B,iBAAqB,IAC9B,MAGV1uB,OAAOT,UAAUsL,OACb8jB,OAAOpvB,UAAUsL,OACjB+jB,QAAQrvB,UAAUsL,OAAS,SAAUijB,GACjC,MAAO55B,MAAKk6B,WAIxB,IAAIhI,IAAK,2GACLqH,UAAY,2HACZQ,IACAE,OACAR,MACIkB,KAAM,MACN7B,KAAM,MACND,KAAM,MACN+B,KAAM,MACNhC,KAAM,MACNV,IAAM,MACNS,KAAM,QAEVqB,GAsJ0B,mBAAnB7qB,MAAK0rB,YACZ1rB,KAAK0rB,UAAY,SAAU/yB,EAAOgzB,EAAUC,GAQxC,GAAI52B,EAOJ,IANA41B,IAAM,GACNE,OAAS,GAKY,gBAAVc,GACP,IAAK52B,EAAI,EAAGA,EAAI42B,EAAO52B,GAAK,EACxB81B,QAAU,QAKU,gBAAVc,KACdd,OAASc,EAOb,IADAf,IAAMc,EACFA,GAAgC,kBAAbA,KACM,gBAAbA,IACmB,gBAApBA,GAAS12B,QACpB,KAAM,IAAI8K,OAAM,iBAMpB,OAAOyqB,KAAI,IAAK3X,GAAIla,MAOF,kBAAfqH,MAAKC,QACZD,KAAKC,MAAQ,SAAUvH,KAAMmzB,SAOzB,QAASC,MAAKpB,EAAQD,GAKlB,GAAIv1B,GAAGwG,EAAG/C,EAAQ+xB,EAAOD,EACzB,IAAI9xB,GAA0B,gBAAVA,GAChB,IAAKzD,IAAKyD,GACFsD,OAAOC,UAAUG,eAAexC,KAAKlB,EAAOzD,KAC5CwG,EAAIowB,KAAKnzB,EAAOzD,GACN62B,SAANrwB,EACA/C,EAAMzD,GAAKwG,QAEJ/C,GAAMzD,GAK7B,OAAO22B,SAAQhyB,KAAK6wB,EAAQD,EAAK9xB,GApBrC,GAAIlE,EAkDJ,IAtBAiE,KAAOiE,OAAOjE,MACdqqB,GAAGsH,UAAY,EACXtH,GAAGjtB,KAAK4C,QACRA,KAAOA,KAAKnD,QAAQwtB,GAAI,SAAU1xB,GAC9B,MAAO,OACF,OAASA,EAAEk5B,WAAW,GAAGpuB,SAAS,KAAKzI,OAAM,MAiBtD,gBACKoC,KAAK4C,KAAKnD,QAAQ,sCAAuC,KACrDA,QAAQ,mEAAoE,KAC5EA,QAAQ,uBAAwB,KAYzC,MALAd,GAAIkM,KAAK,IAAMjI,KAAO,KAKI,kBAAZmzB,SACRC,MAAMjZ,GAAIpe,GAAI,IACdA,CAKV,MAAM,IAAIu3B,aAAY,mBAWlC,WAOE,GAYI76B,GAZAP,EAAOC,KAIPo7B,EAAmBr7B,EAAKO,SAGxBuC,EAAQ6I,MAAML,UAAUxI,MACxBsL,EAASzC,MAAML,UAAU8C,MAM3B7N,GADqB,mBAAZmzB,SACEA,QAEA1zB,EAAKO,YAIlBA,EAASqzB,QAAU,OAGnB,IAAIpzB,GAAIR,EAAKQ,CACRA,IAAyB,mBAAZ86B,WAA0B96B,EAAI86B,QAAQ,cAGxD,IAAIl7B,GAAIJ,EAAKG,QAAUH,EAAKu7B,OAASv7B,EAAKw7B,KAO1Cj7B,GAASk7B,cAAgB,SAASC,GAChCt7B,EAAIs7B,GAKNn7B,EAAS8N,WAAa,WAEpB,MADArO,GAAKO,SAAW86B,EACTp7B,MAMTM,EAASo7B,aAAc,EAMvBp7B,EAASq7B,aAAc,CAMvB,IAAIC,GAAgB,MAWhBC,EAASv7B,EAASu7B,QAIpBlc,GAAI,SAASvX,EAAQ0zB,EAAU1vB,GAE7B,GAAI2vB,GAAOzzB,EAAO0zB,EAAMzG,EAAM0G,CAC9B,KAAKH,EAAU,MAAO97B,KAOtB,KANAoI,EAASA,EAAO5D,MAAMo3B,GACtBG,EAAQ/7B,KAAKk8B,aAAel8B,KAAKk8B,eAK1B5zB,EAAQF,EAAOtD,SACpBm3B,EAAOF,EAAMzzB,GACb0zB,EAAOC,EAAOA,EAAK1G,QACnByG,EAAK3X,KAAOkR,KACZyG,EAAK5vB,QAAUA,EACf4vB,EAAKF,SAAWA,EAChBC,EAAMzzB,IAAUitB,KAAMA,EAAMlR,KAAM4X,EAAOA,EAAK5X,KAAO2X,EAGvD,OAAOh8B,OAMTyO,IAAK,SAASrG,EAAQ0zB,EAAU1vB,GAC9B,GAAI9D,GAAOyzB,EAAOC,EAAMzG,EAAMhyB,EAAI44B,CAGlC,IAAMJ,EAAQ/7B,KAAKk8B,WAAnB,CACA,KAAM9zB,GAAU0zB,GAAY1vB,GAE1B,aADOpM,MAAKk8B,WACLl8B,IAMT,KADAoI,EAASA,EAASA,EAAO5D,MAAMo3B,GAAiBr7B,EAAEgzB,KAAKwI,GAChDzzB,EAAQF,EAAOtD,SAGpB,GAFAk3B,EAAOD,EAAMzzB,SACNyzB,GAAMzzB,GACR0zB,IAAUF,GAAY1vB,GAG3B,IADAmpB,EAAOyG,EAAKzG,MACJyG,EAAOA,EAAK3X,QAAUkR,GAC5BhyB,EAAKy4B,EAAKF,SACVK,EAAMH,EAAK5vB,SACN0vB,GAAYv4B,IAAOu4B,GAAc1vB,GAAW+vB,IAAQ/vB,IACvDpM,KAAK2f,GAAGrX,EAAO/E,EAAI44B,EAKzB,OAAOn8B,QAOTwO,QAAS,SAASpG,GAChB,GAAIE,GAAO0zB,EAAMD,EAAOxG,EAAM6G,EAAMlI,EAAKoB,CACzC,MAAMyG,EAAQ/7B,KAAKk8B,YAAa,MAAOl8B,KAOvC,KANAk0B,EAAM6H,EAAM7H,IACZ9rB,EAASA,EAAO5D,MAAMo3B,GACtBtG,EAAOzyB,EAAMmG,KAAK8E,UAAW,GAItBxF,EAAQF,EAAOtD,SAAS,CAC7B,GAAIk3B,EAAOD,EAAMzzB,GAEf,IADAitB,EAAOyG,EAAKzG,MACJyG,EAAOA,EAAK3X,QAAUkR,GAC5ByG,EAAKF,SAASl5B,MAAMo5B,EAAK5vB,SAAWpM,KAAMs1B,EAG9C,IAAI0G,EAAO9H,EAGT,IAFAqB,EAAOyG,EAAKzG,KACZ6G,GAAQ9zB,GAAO3F,OAAO2yB,IACd0G,EAAOA,EAAK3X,QAAUkR,GAC5ByG,EAAKF,SAASl5B,MAAMo5B,EAAK5vB,SAAWpM,KAAMo8B,GAKhD,MAAOp8B,OAMX67B,GAAOhc,KAASgc,EAAOlc,GACvBkc,EAAO/b,OAAS+b,EAAOptB,GAOvB,IAAI4tB,GAAQ/7B,EAAS+7B,MAAQ,SAASxlB,EAAY6B,GAChD,GAAIse,EACJngB,KAAeA,MACX6B,GAAWA,EAAQtJ,QAAOyH,EAAa7W,KAAKoP,MAAMyH,KAClDmgB,EAAWsF,EAASt8B,KAAM,eAC5B6W,EAAatW,EAAEmF,UAAWsxB,EAAUngB,IAElC6B,GAAWA,EAAQ6jB,aAAYv8B,KAAKu8B,WAAa7jB,EAAQ6jB,YAC7Dv8B,KAAK6W,cACL7W,KAAKw8B,sBACLx8B,KAAKy8B,IAAMl8B,EAAEg4B,SAAS,KACtBv4B,KAAK08B,WACL18B,KAAK28B,WACL38B,KAAK48B,YACL58B,KAAKqY,IAAIxB,GAAagmB,QAAQ,IAE9B78B,KAAK08B,WACL18B,KAAK28B,WACL38B,KAAK48B,YACL58B,KAAK88B,oBAAsBv8B,EAAEqM,MAAM5M,KAAK6W,YACxC7W,KAAK+8B,WAAWn6B,MAAM5C,KAAM8N,WAI9BvN,GAAEmF,OAAO22B,EAAMhxB,UAAWwwB,GAGxBa,QAAS,KAITC,QAAS,KAITC,SAAU,KAIVI,YAAa,KAIbD,WAAY,aAGZpmB,OAAQ,SAAS+B,GACf,MAAOnY,GAAEqM,MAAM5M,KAAK6W,aAItBtJ,IAAK,SAASd,GACZ,MAAOzM,MAAK6W,WAAWpK,IAIzBsrB,OAAQ,SAAStrB,GACf,GAAImM,EACJ,IAAIA,EAAO5Y,KAAKw8B,mBAAmB/vB,GAAO,MAAOmM,EACjD,IAAIT,GAAMnY,KAAKuN,IAAId,EACnB,OAAOzM,MAAKw8B,mBAAmB/vB,GAAQlM,EAAEw3B,OAAc,MAAP5f,EAAc,GAAK,GAAKA,IAK1ElH,IAAK,SAASxE,GACZ,MAAyB,OAAlBzM,KAAKuN,IAAId,IAKlB4L,IAAK,SAASuhB,EAAK9xB,EAAO4Q,GACxB,GAAIukB,GAAOxwB,EAAM0L,CAajB,IAVI5X,EAAE02B,SAAS2C,IAAe,MAAPA,GACrBqD,EAAQrD,EACRlhB,EAAU5Q,IAEVm1B,KACAA,EAAMrD,GAAO9xB,GAIf4Q,IAAYA,OACPukB,EAAO,MAAOj9B,KAEnB,IADIi9B,YAAiBZ,KAAOY,EAAQA,EAAMpmB,YACtC6B,EAAQwkB,MAAO,IAAKzwB,IAAQwwB,GAAOA,EAAMxwB,GAAQ,MAGrD,KAAKzM,KAAKm9B,UAAUF,EAAOvkB,GAAU,OAAO,CAGxC1Y,MAAKg9B,cAAeC,KAAOj9B,KAAKiN,GAAKgwB,EAAMj9B,KAAKg9B,aAEpD,IAAII,GAAU1kB,EAAQ0kB,WAClBl6B,EAAMlD,KAAK6W,WACXwmB,EAAUr9B,KAAKw8B,mBACflY,EAAOtkB,KAAK88B,uBAGhB,KAAKrwB,IAAQwwB,GACX9kB,EAAM8kB,EAAMxwB,KAGPlM,EAAE82B,QAAQn0B,EAAIuJ,GAAO0L,IAASO,EAAQwkB,OAAS38B,EAAE0Q,IAAI/N,EAAKuJ,YACtD4wB,GAAQ5wB,IACdiM,EAAQmkB,OAAS78B,KAAK28B,QAAUS,GAAS3wB,IAAQ,GAIpDiM,EAAQwkB,YAAeh6B,GAAIuJ,GAAQvJ,EAAIuJ,GAAQ0L,EAI1C5X,EAAE82B,QAAQ/S,EAAK7X,GAAO0L,IAAS5X,EAAE0Q,IAAI/N,EAAKuJ,IAASlM,EAAE0Q,IAAIqT,EAAM7X,UAI3DzM,MAAK08B,QAAQjwB,SACbzM,MAAK48B,SAASnwB,KAJrBzM,KAAK08B,QAAQjwB,GAAQ0L,EAChBO,EAAQmkB,SAAQ78B,KAAK48B,SAASnwB,IAAQ,GAS/C,OADKiM,GAAQmkB,QAAQ78B,KAAK4U,OAAO8D,GAC1B1Y,MAKTk9B,MAAO,SAASzwB,EAAMiM,GAEpB,OADCA,IAAYA,OAAewkB,OAAQ,EAC7Bl9B,KAAKqY,IAAI5L,EAAM,KAAMiM,IAK9B4kB,MAAO,SAAS5kB,GAEd,OADCA,IAAYA,OAAewkB,OAAQ,EAC7Bl9B,KAAKqY,IAAI9X,EAAEqM,MAAM5M,KAAK6W,YAAa6B,IAM5C6kB,MAAO,SAAS7kB,GACdA,EAAUA,EAAUnY,EAAEqM,MAAM8L,KAC5B,IAAI8kB,GAAQx9B,KACR2rB,EAAUjT,EAAQiT,OAMtB,OALAjT,GAAQiT,QAAU,SAAS8R,EAAM1Q,EAAQ8B,GACvC,QAAK2O,EAAMnlB,IAAImlB,EAAMpuB,MAAMquB,EAAM5O,GAAMnW,SACnCiT,GAASA,EAAQ6R,EAAOC,KAE9B/kB,EAAQjU,MAAQnE,EAASo9B,UAAUhlB,EAAQjU,MAAO+4B,EAAO9kB,IACjD1Y,KAAK29B,MAAQr9B,EAASq9B,MAAM30B,KAAKhJ,KAAM,OAAQA,KAAM0Y,IAM/DklB,KAAM,SAAShE,EAAK9xB,EAAO4Q,GACzB,GAAIukB,GAAOY,CAaX,IAVIt9B,EAAE02B,SAAS2C,IAAe,MAAPA,GACrBqD,EAAQrD,EACRlhB,EAAU5Q,IAEVm1B,KACAA,EAAMrD,GAAO9xB,GAEf4Q,EAAUA,EAAUnY,EAAEqM,MAAM8L,MAGxBA,EAAQolB,KAAM,CAChB,IAAK99B,KAAKm9B,UAAUF,EAAOvkB,GAAU,OAAO,CAC5CmlB,GAAUt9B,EAAEqM,MAAM5M,KAAK6W,YAIzB,GAAIknB,GAAgBx9B,EAAEmF,UAAWgT,GAAUmkB,QAAQ,GACnD,IAAII,IAAUj9B,KAAKqY,IAAI4kB,EAAOvkB,EAAQolB,KAAOC,EAAgBrlB,GAC3D,OAAO,CAKT,IAAI8kB,GAAQx9B,KACR2rB,EAAUjT,EAAQiT,OACtBjT,GAAQiT,QAAU,SAAS8R,EAAM1Q,EAAQ8B,GACvC,GAAImP,GAAcR,EAAMpuB,MAAMquB,EAAM5O,EAKpC,OAJInW,GAAQolB,aACHplB,GAAQolB,KACfE,EAAcz9B,EAAEmF,OAAOu3B,MAAae,MAEjCR,EAAMnlB,IAAI2lB,EAAatlB,SACxBiT,EACFA,EAAQ6R,EAAOC,GAEfD,EAAMhvB,QAAQ,OAAQgvB,EAAOC,EAAM/kB,KAKvCA,EAAQjU,MAAQnE,EAASo9B,UAAUhlB,EAAQjU,MAAO+4B,EAAO9kB,EACzD,IAAIulB,GAASj+B,KAAKk+B,QAAU,SAAW,SACnCrP,GAAO7uB,KAAK29B,MAAQr9B,EAASq9B,MAAM30B,KAAKhJ,KAAMi+B,EAAQj+B,KAAM0Y,EAEhE,OADIA,GAAQolB,MAAM99B,KAAKqY,IAAIwlB,EAASE,GAC7BlP,GAMTsP,QAAS,SAASzlB,GAChBA,EAAUA,EAAUnY,EAAEqM,MAAM8L,KAC5B,IAAI8kB,GAAQx9B,KACR2rB,EAAUjT,EAAQiT,QAElByS,EAAiB,WACnBZ,EAAMhvB,QAAQ,UAAWgvB,EAAOA,EAAMjB,WAAY7jB,GAGpD,IAAI1Y,KAAKk+B,QAEP,MADAE,MACO,CAGT1lB,GAAQiT,QAAU,SAAS8R,GACrB/kB,EAAQolB,MAAMM,IACdzS,EACFA,EAAQ6R,EAAOC,GAEfD,EAAMhvB,QAAQ,OAAQgvB,EAAOC,EAAM/kB,IAIvCA,EAAQjU,MAAQnE,EAASo9B,UAAUhlB,EAAQjU,MAAO+4B,EAAO9kB,EACzD,IAAImW,IAAO7uB,KAAK29B,MAAQr9B,EAASq9B,MAAM30B,KAAKhJ,KAAM,SAAUA,KAAM0Y,EAElE,OADKA,GAAQolB,MAAMM,IACZvP,GAMTjH,IAAK,WACH,GAAIyW,GAAO/B,EAASt8B,KAAM,YAAcs8B,EAASt8B,KAAKu8B,WAAY,QAAU+B,GAC5E,OAAIt+B,MAAKk+B,QAAgBG,EAClBA,GAAwC,KAAhCA,EAAK/xB,OAAO+xB,EAAKj6B,OAAS,GAAY,GAAK,KAAO0pB,mBAAmB9tB,KAAKiN,KAK3FmC,MAAO,SAASquB,EAAM5O,GACpB,MAAO4O,IAIT7wB,MAAO,WACL,MAAO,IAAI5M,MAAKmM,YAAYnM,KAAK6W,aAInCqnB,MAAO,WACL,MAAkB,OAAXl+B,KAAKiN,IAMd2H,OAAQ,SAAS8D,GACfA,IAAYA,KACZ,IAAI6lB,GAAWv+B,KAAKw+B,SACpBx+B,MAAKw+B,WAAY,CAGjB,KAAK,GAAI/xB,KAAQzM,MAAK28B,QAAS38B,KAAK48B,SAASnwB,IAAQ,CAGrD,IAAI2wB,GAAU78B,EAAEmF,UAAWgT,EAAQ0kB,QAASp9B,KAAK28B,QACjD38B,MAAK28B,UACL,KAAK,GAAIlwB,KAAQ2wB,GACfp9B,KAAKwO,QAAQ,UAAY/B,EAAMzM,KAAMA,KAAKuN,IAAId,GAAOiM,EAEvD,IAAI6lB,EAAU,MAAOv+B,KAGrB,OAAQO,EAAEk0B,QAAQz0B,KAAK48B,WAAW,CAChC58B,KAAK48B,YACL58B,KAAKwO,QAAQ,SAAUxO,KAAM0Y,EAE7B,KAAK,GAAIjM,KAAQzM,MAAK08B,QAChB18B,KAAK48B,SAASnwB,IAASzM,KAAK28B,QAAQlwB,UACjCzM,MAAK08B,QAAQjwB,EAEtBzM,MAAK88B,oBAAsBv8B,EAAEqM,MAAM5M,KAAK6W,YAI1C,MADA7W,MAAKw+B,WAAY,EACVx+B,MAKTy+B,WAAY,SAAShyB,GACnB,MAAKqB,WAAU1J,OACR7D,EAAE0Q,IAAIjR,KAAK08B,QAASjwB,IADIlM,EAAEk0B,QAAQz0B,KAAK08B,UAUhDgC,kBAAmB,SAASC,GAC1B,IAAKA,EAAM,QAAO3+B,KAAKy+B,cAAel+B,EAAEqM,MAAM5M,KAAK08B,QACnD,IAAIvkB,GAAKukB,GAAU,EAAO7L,EAAM7wB,KAAK88B,mBACrC,KAAK,GAAIrwB,KAAQkyB,GACXp+B,EAAE82B,QAAQxG,EAAIpkB,GAAQ0L,EAAMwmB,EAAKlyB,OACpCiwB,IAAYA,OAAejwB,GAAQ0L,EAEtC,OAAOukB,IAKTkC,SAAU,SAASnyB,GACjB,MAAKqB,WAAU1J,QAAWpE,KAAK88B,oBACxB98B,KAAK88B,oBAAoBrwB,GAD2B,MAM7DoyB,mBAAoB,WAClB,MAAOt+B,GAAEqM,MAAM5M,KAAK88B,sBAKtBgC,QAAS,WACP,OAAQ9+B,KAAK++B,SAAS/+B,KAAK6W,aAM7BsmB,UAAW,SAASF,EAAOvkB,GACzB,GAAIA,EAAQmkB,SAAW78B,KAAK++B,SAAU,OAAO,CAC7C9B,GAAQ18B,EAAEmF,UAAW1F,KAAK6W,WAAYomB,EACtC,IAAIx4B,GAAQzE,KAAK++B,SAAS9B,EAAOvkB,EACjC,QAAKjU,IACDiU,GAAWA,EAAQjU,MACrBiU,EAAQjU,MAAMzE,KAAMyE,EAAOiU,GAE3B1Y,KAAKwO,QAAQ,QAASxO,KAAMyE,EAAOiU,IAE9B,KAWX,IAAIsmB,GAAa1+B,EAAS0+B,WAAa,SAASC,EAAQvmB,GACtDA,IAAYA,MACRA,EAAQ8kB,QAAOx9B,KAAKw9B,MAAQ9kB,EAAQ8kB,OACpC9kB,EAAQwmB,aAAYl/B,KAAKk/B,WAAaxmB,EAAQwmB,YAClDl/B,KAAKm/B,SACLn/B,KAAK+8B,WAAWn6B,MAAM5C,KAAM8N,WACxBmxB,GAAQj/B,KAAK4iB,MAAMqc,GAASpC,QAAQ,EAAMztB,MAAOsJ,EAAQtJ,QAI/D7O,GAAEmF,OAAOs5B,EAAW3zB,UAAWwwB,GAI7B2B,MAAOnB,EAIPU,WAAY,aAIZpmB,OAAQ,SAAS+B,GACf,MAAO1Y,MAAKgO,IAAI,SAASwvB,GAAQ,MAAOA,GAAM7mB,OAAO+B,MAKvDnQ,IAAK,SAAS02B,EAAQvmB,GACpB,GAAIvU,GAAGqgB,EAAOpgB,EAAQo5B,EAAOf,EAAKxvB,EAAImyB,KAAWC,KAAUC,IAM3D,KALA5mB,IAAYA,MACZumB,EAAS1+B,EAAE6E,QAAQ65B,GAAUA,EAAOp8B,SAAWo8B,GAI1C96B,EAAI,EAAGC,EAAS66B,EAAO76B,OAAQD,EAAIC,EAAQD,IAAK,CACnD,KAAMq5B,EAAQyB,EAAO96B,GAAKnE,KAAKu/B,cAAcN,EAAO96B,GAAIuU,IACtD,KAAM,IAAIxJ,OAAM,6CAElButB,GAAMe,EAAMf,IACZxvB,EAAKuwB,EAAMvwB,GACPmyB,EAAK3C,IAAQz8B,KAAKw/B,OAAO/C,IAAgB,MAANxvB,IAAgBoyB,EAAIpyB,IAAOjN,KAAKy/B,MAAMxyB,IAC3EqyB,EAAK3zB,KAAKxH,GAGZi7B,EAAK3C,GAAO4C,EAAIpyB,GAAMuwB,EAKxB,IADAr5B,EAAIm7B,EAAKl7B,OACFD,KACL86B,EAAO9wB,OAAOmxB,EAAKn7B,GAAI,EAKzB,KAAKA,EAAI,EAAGC,EAAS66B,EAAO76B,OAAQD,EAAIC,EAAQD,KAC7Cq5B,EAAQyB,EAAO96B,IAAIwb,GAAG,MAAO3f,KAAK0/B,cAAe1/B,MAClDA,KAAKw/B,OAAOhC,EAAMf,KAAOe,EACT,MAAZA,EAAMvwB,KAAYjN,KAAKy/B,MAAMjC,EAAMvwB,IAAMuwB,EAS/C,IAJAx9B,KAAKoE,QAAUA,EACfogB,EAAsB,MAAd9L,EAAQinB,GAAajnB,EAAQinB,GAAK3/B,KAAKi/B,OAAO76B,OACtD+J,EAAOvL,MAAM5C,KAAKi/B,QAASza,EAAO,GAAG7hB,OAAOs8B,IACxCj/B,KAAKk/B,YAAYl/B,KAAKkO,MAAM2uB,QAAQ,IACpCnkB,EAAQmkB,OAAQ,MAAO78B,KAC3B,KAAKmE,EAAI,EAAGC,EAASpE,KAAKi/B,OAAO76B,OAAQD,EAAIC,EAAQD,IAC9Ci7B,GAAM5B,EAAQx9B,KAAKi/B,OAAO96B,IAAIs4B,OACnC/jB,EAAQ8L,MAAQrgB,EAChBq5B,EAAMhvB,QAAQ,MAAOgvB,EAAOx9B,KAAM0Y,GAEpC,OAAO1Y,OAKTwB,OAAQ,SAASy9B,EAAQvmB,GACvB,GAAIvU,GAAGN,EAAG2gB,EAAOgZ,CAGjB,KAFA9kB,IAAYA,MACZumB,EAAS1+B,EAAE6E,QAAQ65B,GAAUA,EAAOp8B,SAAWo8B,GAC1C96B,EAAI,EAAGN,EAAIo7B,EAAO76B,OAAQD,EAAIN,EAAGM,IACpCq5B,EAAQx9B,KAAK4/B,SAASX,EAAO96B,KAAOnE,KAAKuN,IAAI0xB,EAAO96B,IAC/Cq5B,UACEx9B,MAAKy/B,MAAMjC,EAAMvwB,UACjBjN,MAAKw/B,OAAOhC,EAAMf,KACzBjY,EAAQxkB,KAAKiM,QAAQuxB,GACrBx9B,KAAKi/B,OAAO9wB,OAAOqW,EAAO,GAC1BxkB,KAAKoE,SACAsU,EAAQmkB,SACXnkB,EAAQ8L,MAAQA,EAChBgZ,EAAMhvB,QAAQ,SAAUgvB,EAAOx9B,KAAM0Y,IAEvC1Y,KAAK6/B,iBAAiBrC,GAExB,OAAOx9B,OAIT2L,KAAM,SAAS6xB,EAAO9kB,GAGpB,MAFA8kB,GAAQx9B,KAAKu/B,cAAc/B,EAAO9kB,GAClC1Y,KAAKuI,IAAIi1B,EAAO9kB,GACT8kB,GAIT10B,IAAK,SAAS4P,GACZ,GAAI8kB,GAAQx9B,KAAK2/B,GAAG3/B,KAAKoE,OAAS,EAElC,OADApE,MAAKwB,OAAOg8B,EAAO9kB,GACZ8kB,GAITt4B,QAAS,SAASs4B,EAAO9kB,GAGvB,MAFA8kB,GAAQx9B,KAAKu/B,cAAc/B,EAAO9kB,GAClC1Y,KAAKuI,IAAIi1B,EAAOj9B,EAAEmF,QAAQi6B,GAAI,GAAIjnB,IAC3B8kB,GAIT14B,MAAO,SAAS4T,GACd,GAAI8kB,GAAQx9B,KAAK2/B,GAAG,EAEpB,OADA3/B,MAAKwB,OAAOg8B,EAAO9kB,GACZ8kB,GAITjwB,IAAK,SAASN,GACZ,GAAU,MAANA,EACJ,MAAOjN,MAAKy/B,MAAe,MAATxyB,EAAGA,GAAaA,EAAGA,GAAKA,IAI5C2yB,SAAU,SAASnD,GACjB,MAAOA,IAAOz8B,KAAKw/B,OAAO/C,EAAIA,KAAOA,IAIvCkD,GAAI,SAASnb,GACX,MAAOxkB,MAAKi/B,OAAOza,IAIrBgQ,MAAO,SAASyI,GACd,MAAI18B,GAAEk0B,QAAQwI,MACPj9B,KAAKkJ,OAAO,SAASs0B,GAC1B,IAAK,GAAI5D,KAAOqD,GACd,GAAIA,EAAMrD,KAAS4D,EAAMjwB,IAAIqsB,GAAM,OAAO,CAE5C,QAAO,KAOX1rB,KAAM,SAASwK,GAEb,GADAA,IAAYA,OACP1Y,KAAKk/B,WAAY,KAAM,IAAIhwB,OAAM,yCACtC,IAAI4wB,GAAkBv/B,EAAEsf,KAAK7f,KAAKk/B,WAAYl/B,KAO9C,OAN8B,IAA1BA,KAAKk/B,WAAW96B,OAClBpE,KAAKi/B,OAASj/B,KAAK80B,OAAOgL,GAE1B9/B,KAAKi/B,OAAO/wB,KAAK4xB,GAEdpnB,EAAQmkB,QAAQ78B,KAAKwO,QAAQ,QAASxO,KAAM0Y,GAC1C1Y,MAITu0B,MAAO,SAAS9nB,GACd,MAAOlM,GAAEyN,IAAIhO,KAAKi/B,OAAQ,SAASzB,GAAQ,MAAOA,GAAMjwB,IAAId,MAM9DmW,MAAO,SAASqc,EAAQvmB,GACtBumB,IAAYA,MACZvmB,IAAYA,KACZ,KAAK,GAAIvU,GAAI,EAAGN,EAAI7D,KAAKi/B,OAAO76B,OAAQD,EAAIN,EAAGM,IAC7CnE,KAAK6/B,iBAAiB7/B,KAAKi/B,OAAO96B,GAKpC,OAHAnE,MAAKm/B,SACLn/B,KAAKuI,IAAI02B,EAAQ1+B,EAAEmF,QAAQm3B,QAAQ,GAAOnkB,IACrCA,EAAQmkB,QAAQ78B,KAAKwO,QAAQ,QAASxO,KAAM0Y,GAC1C1Y,MAMTu9B,MAAO,SAAS7kB,GACdA,EAAUA,EAAUnY,EAAEqM,MAAM8L,MACNwiB,SAAlBxiB,EAAQtJ,QAAqBsJ,EAAQtJ,OAAQ,EACjD,IAAImtB,GAAav8B,KACb2rB,EAAUjT,EAAQiT,OAMtB,OALAjT,GAAQiT,QAAU,SAAS8R,EAAM1Q,EAAQ8B,GACvC0N,EAAW7jB,EAAQnQ,IAAM,MAAQ,SAASg0B,EAAWntB,MAAMquB,EAAM5O,GAAMnW,GACnEiT,GAASA,EAAQ4Q,EAAYkB,IAEnC/kB,EAAQjU,MAAQnE,EAASo9B,UAAUhlB,EAAQjU,MAAO83B,EAAY7jB,IACtD1Y,KAAK29B,MAAQr9B,EAASq9B,MAAM30B,KAAKhJ,KAAM,OAAQA,KAAM0Y,IAM/DqnB,OAAQ,SAASvC,EAAO9kB,GACtB,GAAIsnB,GAAOhgC,IAGX,IAFA0Y,EAAUA,EAAUnY,EAAEqM,MAAM8L,MAC5B8kB,EAAQx9B,KAAKu/B,cAAc/B,EAAO9kB,IAC7B8kB,EAAO,OAAO,CACd9kB,GAAQolB,MAAMkC,EAAKz3B,IAAIi1B,EAAO9kB,EACnC,IAAIiT,GAAUjT,EAAQiT,OAUtB,OATAjT,GAAQiT,QAAU,SAASsU,EAAWxC,EAAM5O,GACtCnW,EAAQolB,MAAMkC,EAAKz3B,IAAI03B,EAAWvnB,GAClCiT,EACFA,EAAQsU,EAAWxC,GAEnBwC,EAAUzxB,QAAQ,OAAQgvB,EAAOC,EAAM/kB,IAG3C8kB,EAAMI,KAAK,KAAMllB,GACV8kB,GAKTpuB,MAAO,SAASquB,EAAM5O,GACpB,MAAO4O,IAMTtE,MAAO,WACL,MAAO54B,GAAEP,KAAKi/B,QAAQ9F,SAIxBgG,OAAQ,SAASzmB,GACf1Y,KAAKoE,OAAS,EACdpE,KAAKi/B,UACLj/B,KAAKy/B,SACLz/B,KAAKw/B,WAIPD,cAAe,SAAS/B,EAAO9kB,GAE7B,GADAA,IAAYA,MACN8kB,YAAiBnB,GAKXmB,EAAMjB,aAChBiB,EAAMjB,WAAav8B,UANU,CAC7B,GAAIi9B,GAAQO,CACZ9kB,GAAQ6jB,WAAav8B,KACrBw9B,EAAQ,GAAIx9B,MAAKw9B,MAAMP,EAAOvkB,GACzB8kB,EAAML,UAAUK,EAAM3mB,WAAY6B,KAAU8kB,GAAQ,GAI3D,MAAOA,IAITqC,iBAAkB,SAASrC,GACrBx9B,MAAQw9B,EAAMjB,kBACTiB,GAAMjB,WAEfiB,EAAM/uB,IAAI,MAAOzO,KAAK0/B,cAAe1/B,OAOvC0/B,cAAe,SAASp3B,EAAOk1B,EAAOjB,EAAY7jB,IAClC,OAATpQ,GAA2B,UAATA,GAAsBi0B,GAAcv8B,QAC9C,WAATsI,GACFtI,KAAKwB,OAAOg8B,EAAO9kB,GAEjB8kB,GAASl1B,IAAU,UAAYk1B,EAAMR,oBAChCh9B,MAAKy/B,MAAMjC,EAAMoB,SAASpB,EAAMR,cACvCh9B,KAAKy/B,MAAMjC,EAAMvwB,IAAMuwB,GAEzBx9B,KAAKwO,QAAQ5L,MAAM5C,KAAM8N,cAM7B,IAAI+oB,IAAW,UAAW,OAAQ,MAAO,SAAU,cAAe,OAChE,SAAU,SAAU,SAAU,SAAU,QAAS,MAAO,OAAQ,MAChE,UAAW,WAAY,SAAU,MAAO,MAAO,SAAU,cACzD,UAAW,OAAQ,QAAS,UAAW,OAAQ,OAAQ,UAAW,UAClE,UAAW,cAAe,UAAW,UAGvCt2B,GAAEkC,KAAKo0B,EAAS,SAASoH,GACvBe,EAAW3zB,UAAU4yB,GAAU,WAC7B,MAAO19B,GAAE09B,GAAQr7B,MAAMrC,GAAIP,KAAKi/B,QAAQt8B,OAAOpC,EAAE+M,QAAQQ,eAS7D,IAAIoyB,GAAS5/B,EAAS4/B,OAAS,SAASxnB,GACtCA,IAAYA,MACRA,EAAQynB,SAAQngC,KAAKmgC,OAASznB,EAAQynB,QAC1CngC,KAAKogC,cACLpgC,KAAK+8B,WAAWn6B,MAAM5C,KAAM8N,YAK1BuyB,EAAgB,QAChBC,EAAgB,SAChBC,EAAgB,yBAGpBhgC,GAAEmF,OAAOw6B,EAAO70B,UAAWwwB,GAIzBkB,WAAY,aAQZyD,MAAO,SAASA,EAAO1pB,EAAMglB,GAU3B,MATAx7B,GAASmgC,UAAYngC,EAASmgC,QAAU,GAAIC,IACvCngC,EAAEogC,SAASH,KAAQA,EAAQxgC,KAAK4gC,eAAeJ,IAC/C1E,IAAUA,EAAW97B,KAAK8W,IAC/BxW,EAASmgC,QAAQD,MAAMA,EAAOjgC,EAAEsf,KAAK,SAAShT,GAC5C,GAAIuvB,GAAOp8B,KAAK6gC,mBAAmBL,EAAO3zB,EAC1CivB,IAAYA,EAASl5B,MAAM5C,KAAMo8B,GACjCp8B,KAAKwO,QAAQ5L,MAAM5C,MAAO,SAAW8W,GAAMnU,OAAOy5B,IAClD97B,EAASmgC,QAAQjyB,QAAQ,QAASxO,KAAM8W,EAAMslB,IAC7Cp8B,OACIA,MAIT8gC,SAAU,SAASj0B,EAAU6L,GAC3BpY,EAASmgC,QAAQK,SAASj0B,EAAU6L,IAMtC0nB,YAAa,WACX,GAAKpgC,KAAKmgC,OAAV,CACA,GAAIA,KACJ,KAAK,GAAIK,KAASxgC,MAAKmgC,OACrBA,EAAOj7B,SAASs7B,EAAOxgC,KAAKmgC,OAAOK,IAErC,KAAK,GAAIr8B,GAAI,EAAGN,EAAIs8B,EAAO/7B,OAAQD,EAAIN,EAAGM,IACxCnE,KAAKwgC,MAAML,EAAOh8B,GAAG,GAAIg8B,EAAOh8B,GAAG,GAAInE,KAAKmgC,EAAOh8B,GAAG,OAM1Dy8B,eAAgB,SAASJ,GAIvB,MAHAA,GAAQA,EAAM97B,QAAQ67B,EAAc,QACtB77B,QAAQ27B,EAAY,WACpB37B,QAAQ47B,EAAY,SAC3B,GAAIjmB,QAAO,IAAMmmB,EAAQ,MAKlCK,mBAAoB,SAASL,EAAO3zB,GAClC,MAAO2zB,GAAMj0B,KAAKM,GAAUhK,MAAM,KAUtC,IAAI69B,GAAUpgC,EAASogC,QAAU,WAC/B1gC,KAAK+gC,YACLxgC,EAAE61B,QAAQp2B,KAAM,aAIdghC,EAAgB,SAGhBC,EAAa,aAGjBP,GAAQQ,SAAU,EAGlB3gC,EAAEmF,OAAOg7B,EAAQr1B,UAAWwwB,GAI1BnK,SAAU,GAIVyP,QAAS,SAASC,GAChB,GAAIC,GAAMD,EAAiBA,EAAer3B,SAAWgF,OAAOhF,SACxDyW,EAAQ6gB,EAAItnB,KAAKyG,MAAM,SAC3B,OAAOA,GAAQA,EAAM,GAAK,IAK5B8gB,YAAa,SAASz0B,EAAU00B,GAC9B,GAAgB,MAAZ10B,EACF,GAAI7M,KAAKwhC,eAAiBD,EAAgB,CACxC10B,EAAWkC,OAAOhF,SAAS03B,QAC3B,IAAIC,GAAS3yB,OAAOhF,SAAS23B,MACzBA,KAAQ70B,GAAY60B,OAExB70B,GAAW7M,KAAKmhC,SAIpB,OADKt0B,GAASZ,QAAQjM,KAAK0Y,QAAQ3Y,QAAO8M,EAAWA,EAAS7G,OAAOhG,KAAK0Y,QAAQ3Y,KAAKqE,SAChFyI,EAASnI,QAAQs8B,EAAe,KAKzC1P,MAAO,SAAS5Y,GACd,GAAIgoB,EAAQQ,QAAS,KAAM,IAAIhyB,OAAM,4CACrCwxB,GAAQQ,SAAU,EAIlBlhC,KAAK0Y,QAAmBnY,EAAEmF,WAAY3F,KAAM,KAAMC,KAAK0Y,QAASA,GAChE1Y,KAAK2hC,iBAAmB3hC,KAAK0Y,QAAQkpB,cAAe,EACpD5hC,KAAK6hC,kBAAqB7hC,KAAK0Y,QAAQopB,UACvC9hC,KAAKwhC,iBAAsBxhC,KAAK0Y,QAAQopB,WAAa/yB,OAAO0xB,SAAW1xB,OAAO0xB,QAAQqB,UACtF,IAAIj1B,GAAoB7M,KAAKshC,cACzBS,EAAoB7/B,SAAS8/B,aAC7BC,EAAqBhB,EAAW10B,KAAKzC,UAAUoB,UAAU3G,kBAAoBw9B,GAAWA,GAAW,EAEnGE,KACFjiC,KAAKkiC,OAAS/hC,EAAE,+CAA+CsvB,OAAOpuB,SAAS,QAAQ,GAAGW,cAC1FhC,KAAK8gC,SAASj0B,IAKZ7M,KAAKwhC,cACPrhC,EAAE4O,QAAQ8Q,KAAK,WAAY7f,KAAKmiC,UACvBniC,KAAK2hC,kBAAqB,gBAAkB5yB,UAAYkzB,EACjE9hC,EAAE4O,QAAQ8Q,KAAK,aAAc7f,KAAKmiC,UACzBniC,KAAK2hC,mBACd3hC,KAAKoiC,kBAAoBxrB,YAAY5W,KAAKmiC,SAAUniC,KAAK0xB,WAK3D1xB,KAAK6M,SAAWA,CAChB,IAAIw0B,GAAMtyB,OAAOhF,SACbs4B,EAAUhB,EAAII,UAAYzhC,KAAK0Y,QAAQ3Y,IAI3C,OAAIC,MAAK2hC,kBAAoB3hC,KAAK6hC,kBAAoB7hC,KAAKwhC,gBAAkBa,GAC3EriC,KAAK6M,SAAW7M,KAAKshC,YAAY,MAAM,GACvCvyB,OAAOhF,SAASrF,QAAQ1E,KAAK0Y,QAAQ3Y,KAAO,IAAMC,KAAK6M,WAEhD,IAIE7M,KAAK6hC,iBAAmB7hC,KAAKwhC,eAAiBa,GAAUhB,EAAIiB,OACrEtiC,KAAK6M,SAAW7M,KAAKmhC,UAAUz8B,QAAQs8B,EAAe,IACtDjyB,OAAO0xB,QAAQ8B,gBAAiBrgC,SAASsgC,MAAOnB,EAAIoB,SAAW,KAAOpB,EAAIqB,KAAO1iC,KAAK0Y,QAAQ3Y,KAAOC,KAAK6M,WAGvG7M,KAAK0Y,QAAQmkB,OAAlB,OACS78B,KAAK2iC,YAMhBnrB,KAAM,WACJrX,EAAE4O,QAAQ+Q,OAAO,WAAY9f,KAAKmiC,UAAUriB,OAAO,aAAc9f,KAAKmiC,UACtEvQ,cAAc5xB,KAAKoiC,mBACnB1B,EAAQQ,SAAU,GAKpBV,MAAO,SAASA,EAAO1E,GACrB97B,KAAK+gC,SAAS77B,SAASs7B,MAAOA,EAAO1E,SAAUA,KAKjDqG,SAAU,SAAS7gC,GACjB,GAAIu8B,GAAU79B,KAAKshC,aAEnB,OADIzD,IAAW79B,KAAK6M,UAAY7M,KAAKkiC,SAAQrE,EAAU79B,KAAKshC,YAAYthC,KAAKmhC,QAAQnhC,KAAKkiC,UACtFrE,GAAW79B,KAAK6M,WAChB7M,KAAKkiC,QAAQliC,KAAK8gC,SAASjD,QAC/B79B,KAAK2iC,WAAa3iC,KAAK2iC,QAAQ3iC,KAAKmhC,cAMtCwB,QAAS,SAASC,GAChB,GAAI/1B,GAAW7M,KAAK6M,SAAW7M,KAAKshC,YAAYsB,GAC5CC,EAAUtiC,EAAE6zB,IAAIp0B,KAAK+gC,SAAU,SAASvmB,GAC1C,GAAIA,EAAQgmB,MAAMv7B,KAAK4H,GAErB,MADA2N,GAAQshB,SAASjvB,IACV,GAGX,OAAOg2B,IAUT/B,SAAU,SAASj0B,EAAU6L,GAC3B,IAAKgoB,EAAQQ,QAAS,OAAO,CACxBxoB,IAAWA,KAAY,IAAMA,GAAWlK,QAASkK,GACtD,IAAIoqB,IAAQj2B,GAAY,IAAInI,QAAQs8B,EAAe,GAC/ChhC,MAAK6M,UAAYi2B,IAGjB9iC,KAAKwhC,eACgC,GAAnCsB,EAAK72B,QAAQjM,KAAK0Y,QAAQ3Y,QAAY+iC,EAAO9iC,KAAK0Y,QAAQ3Y,KAAO+iC,GACrE9iC,KAAK6M,SAAWi2B,EAChB/zB,OAAO0xB,QAAQ/nB,EAAQhU,QAAU,eAAiB,gBAAiBxC,SAASsgC,MAAOM,IAI1E9iC,KAAK2hC,kBACd3hC,KAAK6M,SAAWi2B,EAChB9iC,KAAK+iC,YAAYh0B,OAAOhF,SAAU+4B,EAAMpqB,EAAQhU,SAC5C1E,KAAKkiC,QAAWY,GAAQ9iC,KAAKshC,YAAYthC,KAAKmhC,QAAQnhC,KAAKkiC,WAGzDxpB,EAAQhU,SAAS1E,KAAKkiC,OAAOhgC,SAAS8sB,OAAO1sB,QACjDtC,KAAK+iC,YAAY/iC,KAAKkiC,OAAOn4B,SAAU+4B,EAAMpqB,EAAQhU,WAMvDqK,OAAOhF,SAASi5B,OAAOhjC,KAAK0Y,QAAQ3Y,KAAO8M,GAEzC6L,EAAQlK,SAASxO,KAAK2iC,QAAQ91B,KAKpCk2B,YAAa,SAASh5B,EAAU8C,EAAUnI,GACpCA,EACFqF,EAASrF,QAAQqF,EAASuB,WAAW5G,QAAQ,qBAAsB,IAAM,IAAMmI,GAE/E9C,EAASu4B,KAAOz1B,IAUtB,IAAIo2B,GAAO3iC,EAAS2iC,KAAO,SAASvqB,GAClC1Y,KAAKy8B,IAAMl8B,EAAEg4B,SAAS,QACtBv4B,KAAKkjC,WAAWxqB,OAChB1Y,KAAKmjC,iBACLnjC,KAAK+8B,WAAWn6B,MAAM5C,KAAM8N,WAC5B9N,KAAKojC,kBAIHC,EAAwB,iBAGxBC,GAAe,QAAS,aAAc,KAAM,KAAM,aAAc,YAAa,UAGjF/iC,GAAEmF,OAAOu9B,EAAK53B,UAAWwwB,GAGvB0H,QAAS,MAITpjC,EAAG,SAASkM,GACV,MAAOrM,MAAKwjC,IAAIt2B,KAAKb,IAKvB0wB,WAAY,aAKZ0G,OAAQ,WACN,MAAOzjC,OAKTwB,OAAQ,WAEN,MADAxB,MAAKwjC,IAAIhiC,SACFxB,MAQT0jC,KAAM,SAASH,EAAS1sB,EAAY8sB,GAClC,GAAIC,GAAK1hC,SAASR,cAAc6hC,EAGhC,OAFI1sB,IAAY1W,EAAEyjC,GAAIn3B,KAAKoK,GACvB8sB,GAASxjC,EAAEyjC,GAAIhrB,KAAK+qB,GACjBC,GAKTC,WAAY,SAASC,EAAS7jB,GAK5B,MAJIjgB,MAAKwjC,KAAKxjC,KAAK+jC,mBACnB/jC,KAAKwjC,IAAOM,YAAmB3jC,GAAK2jC,EAAU3jC,EAAE2jC,GAChD9jC,KAAK4jC,GAAK5jC,KAAKwjC,IAAI,GACfvjB,KAAa,GAAOjgB,KAAKojC,iBACtBpjC,MAkBTojC,eAAgB,SAASh7B,GACvB,GAAMA,IAAWA,EAASk0B,EAASt8B,KAAM,WAAzC,CACAA,KAAK+jC,kBACL,KAAK,GAAInK,KAAOxxB,GAAQ,CACtB,GAAI61B,GAAS71B,EAAOwxB,EAEpB,IADKr5B,EAAEuF,WAAWm4B,KAASA,EAASj+B,KAAKoI,EAAOwxB,MAC3CqE,EAAQ,KAAM,IAAI/uB,OAAM,WAAa9G,EAAOwxB,GAAO,mBACxD,IAAIpZ,GAAQoZ,EAAIpZ,MAAM6iB,GAClBW,EAAYxjB,EAAM,GAAInU,EAAWmU,EAAM,EAC3Cyd,GAAS19B,EAAEsf,KAAKoe,EAAQj+B,MACxBgkC,GAAa,kBAAoBhkC,KAAKy8B,IACrB,KAAbpwB,EACFrM,KAAKwjC,IAAI3jB,KAAKmkB,EAAW/F,GAEzBj+B,KAAKwjC,IAAIvjB,SAAS5T,EAAU23B,EAAW/F,MAQ7C8F,iBAAkB,WAChB/jC,KAAKwjC,IAAI1jB,OAAO,kBAAoB9f,KAAKy8B,MAM3CyG,WAAY,SAASxqB,GACf1Y,KAAK0Y,UAASA,EAAUnY,EAAEmF,UAAW1F,KAAK0Y,QAASA,GACvD,KAAK,GAAIvU,GAAI,EAAGN,EAAIy/B,EAAYl/B,OAAQD,EAAIN,EAAGM,IAAK,CAClD,GAAIsI,GAAO62B,EAAYn/B,EACnBuU,GAAQjM,KAAOzM,KAAKyM,GAAQiM,EAAQjM,IAE1CzM,KAAK0Y,QAAUA,GAOjByqB,eAAgB,WACd,GAAKnjC,KAAK4jC,GAMR5jC,KAAK6jC,WAAW7jC,KAAK4jC,IAAI,OANb,CACZ,GAAI3G,GAAQX,EAASt8B,KAAM,iBACvBA,MAAKiN,KAAIgwB,EAAMhwB,GAAKjN,KAAKiN,IACzBjN,KAAKsT,YAAW2pB,EAAa,MAAIj9B,KAAKsT,WAC1CtT,KAAK6jC,WAAW7jC,KAAK0jC,KAAK1jC,KAAKujC,QAAStG,IAAQ,MAStD,IAAIv3B,GAAS,SAAUu+B,EAAYC,GACjC,GAAIC,GAAQC,EAASpkC,KAAMikC,EAAYC,EAEvC,OADAC,GAAMz+B,OAAS1F,KAAK0F,OACby+B,EAIT9H,GAAM32B,OAASs5B,EAAWt5B,OAASw6B,EAAOx6B,OAASu9B,EAAKv9B,OAASA,CAMjE,IAAI2+B,IACFtE,OAAU,OACV5O,OAAU,MACVmT,OAAU,SACVC,KAAU,MAkBZjkC,GAASq9B,KAAO,SAASM,EAAQT,EAAO9kB,GACtC,GAAIpT,GAAO++B,EAAUpG,EAGrBvlB,KAAYA,KAGZ,IAAI8rB,IAAUl/B,KAAMA,EAAM7B,SAAU,OAqCpC,OAlCKiV,GAAQkP,MACX4c,EAAO5c,IAAM0U,EAASkB,EAAO,QAAUc,KAIpC5lB,EAAQlQ,OAAQg1B,GAAoB,UAAVS,GAAgC,UAAVA,IACnDuG,EAAOxY,YAAc,mBACrBwY,EAAOh8B,KAAO2G,KAAK0rB,UAAU2C,EAAM7mB,WAIjCrW,EAASq7B,cACX6I,EAAOxY,YAAc,oCACrBwY,EAAOh8B,KAAOg8B,EAAOh8B,MAAQg1B,MAAOgH,EAAOh8B,UAKzClI,EAASo7B,cACE,QAATp2B,GAA2B,WAATA,IAChBhF,EAASq7B,cAAa6I,EAAOh8B,KAAKi8B,QAAUn/B,GAChDk/B,EAAOl/B,KAAO,OACdk/B,EAAO7W,WAAa,SAASkB,GAC3BA,EAAIzB,iBAAiB,yBAA0B9nB,MAMjC,QAAhBk/B,EAAOl/B,MAAmBhF,EAASq7B,cACrC6I,EAAOvY,aAAc,GAIhB9rB,EAAEwnB,KAAKpnB,EAAEmF,OAAO8+B,EAAQ9rB,KAIjCpY,EAASo9B,UAAY,SAASgH,EAASC,EAAejsB,GACpD,MAAO,UAAS8kB,EAAOC,GACrBA,EAAOD,IAAUmH,EAAgBlH,EAAOD,EACpCkH,EACFA,EAAQC,EAAelH,EAAM/kB,GAE7BisB,EAAcn2B,QAAQ,QAASm2B,EAAelH,EAAM/kB,IAS1D,IAAIksB,GAAO,aAKPR,EAAW,SAAS/hB,EAAQ4hB,EAAYY,GAC1C,GAAIV,EAgCJ,OA1BEA,GADEF,GAAcA,EAAWz4B,eAAe,eAClCy4B,EAAW93B,YAEX,WAAYkW,EAAOzf,MAAM5C,KAAM8N,YAIzCvN,EAAEmF,OAAOy+B,EAAO9hB,GAIhBuiB,EAAKv5B,UAAYgX,EAAOhX,UACxB84B,EAAM94B,UAAY,GAAIu5B,GAIlBX,GAAY1jC,EAAEmF,OAAOy+B,EAAM94B,UAAW44B,GAGtCY,GAAatkC,EAAEmF,OAAOy+B,EAAOU,GAGjCV,EAAM94B,UAAUc,YAAcg4B,EAG9BA,EAAMW,UAAYziB,EAAOhX,UAElB84B,GAKL7H,EAAW,SAAS9lB,EAAQoB,GAC9B,MAAMpB,IAAUA,EAAOoB,GAChBrX,EAAEuF,WAAW0Q,EAAOoB,IAASpB,EAAOoB,KAAUpB,EAAOoB,GADtB,MAKpC0mB,EAAW,WACb,KAAM,IAAIpvB,OAAM,oDAGjBlG,KAAKhJ,MAQP,SAAUmb,EAAQ4pB,GACM,gBAAZtR,UAAwBA,QACjCsR,EAAQtR,SACmB,kBAAX3zB,SAAyBA,OAAOkzB,IAChDlzB,QAAQ,WAAYilC,GAEpBA,EAAQ5pB,EAAO9a,cAEjBL,KAAM,SAAUglC,GAOhB,QAASl/B,GAAW0Q,GAClB,MAAyB,kBAAXA,GAGhB,QAAS+pB,GAAajH,GACpB,MAAOA,GAAO50B,QAAQ,8BAA+B,QAMvD,QAASugC,GAAWC,EAAI5L,GACtB,MAAO6L,GAAYn8B,KAAKk8B,EAAI5L,GAI9B,QAAS8L,GAAa9L,GACpB,OAAQ2L,EAAWI,EAAY/L,GAYjC,QAASgM,GAAWhM,GAClB,MAAOxtB,QAAOwtB,GAAQ50B,QAAQ,aAAc,SAAU7E,GACpD,MAAO0lC,GAAU1lC,KAgCrB,QAAS2lC,GAAcvM,EAAUwM,GAY/B,QAASC,KACP,GAAIC,IAAWC,EACb,KAAOC,EAAOzhC,cACL0hC,GAAOD,EAAO/8B,WAEvB+8B,KAGFF,IAAS,EACTC,GAAW,EAIb,QAASG,GAAYN,GAInB,GAHoB,gBAATA,KACTA,EAAOA,EAAKjhC,MAAMwhC,EAAS,KAExB5gC,EAAQqgC,IAAyB,IAAhBA,EAAKrhC,OACzB,KAAM,IAAI8K,OAAM,iBAAmBu2B,EAErCQ,GAAe,GAAI5rB,QAAOkmB,EAAakF,EAAK,IAAM,QAClDS,EAAe,GAAI7rB,QAAO,OAASkmB,EAAakF,EAAK,KACrDU,EAAiB,GAAI9rB,QAAO,OAASkmB,EAAa,IAAMkF,EAAK,KAjC/D,IAAKxM,EACH,QAEF,IAoBIgN,GAAcC,EAAcC,EApB5BC,KACAN,KACAD,KACAF,GAAS,EACTC,GAAW,CA6BfG,GAAYN,GAAQT,EAASS,KAK7B,KAHA,GAEInU,GAAOhsB,EAAMwC,EAAOu+B,EAAKC,EAAOC,EAFhCC,EAAU,GAAIC,GAAQxN,IAGlBuN,EAAQE,OAAO,CAMrB,GALApV,EAAQkV,EAAQjV,IAGhBzpB,EAAQ0+B,EAAQG,UAAUV,GAGxB,IAAK,GAAI9hC,GAAI,EAAGyiC,EAAc9+B,EAAM1D,OAAQD,EAAIyiC,IAAeziC,EAC7DkiC,EAAMv+B,EAAMwE,OAAOnI,GAEfihC,EAAaiB,GACfR,EAAOl6B,KAAKm6B,EAAO1hC,QAEnBwhC,GAAW,EAGbE,EAAOn6B,MAAO,OAAQ06B,EAAK/U,EAAOA,EAAQ,IAC1CA,GAAS,EAGG,OAAR+U,GACFX,GAKN,KAAKc,EAAQK,KAAKZ,GAChB,KAuBF,IArBAN,GAAS,EAGTrgC,EAAOkhC,EAAQK,KAAKC,IAAU;AAC9BN,EAAQK,KAAKE,GAGA,MAATzhC,GACFwC,EAAQ0+B,EAAQG,UAAUK,GAC1BR,EAAQK,KAAKG,GACbR,EAAQG,UAAUT,IACA,MAAT5gC,GACTwC,EAAQ0+B,EAAQG,UAAUR,GAC1BK,EAAQK,KAAKI,GACbT,EAAQG,UAAUT,GAClB5gC,EAAO,KAEPwC,EAAQ0+B,EAAQG,UAAUT,IAIvBM,EAAQK,KAAKX,GAChB,KAAM,IAAIh3B,OAAM,mBAAqBs3B,EAAQjV,IAK/C,IAHA+U,GAAUhhC,EAAMwC,EAAOwpB,EAAOkV,EAAQjV,KACtCuU,EAAOn6B,KAAK26B,GAEC,MAAThhC,GAAyB,MAATA,EAClB8gC,EAASz6B,KAAK26B,OACT,IAAa,MAAThhC,EAAc,CAIvB,GAFAihC,EAAcH,EAASt9B,OAElBy9B,EACH,KAAM,IAAIr3B,OAAM,qBAAuBpH,EAAQ,QAAUwpB,EAE3D,IAAIiV,EAAY,KAAOz+B,EACrB,KAAM,IAAIoH,OAAM,qBAAuBq3B,EAAY,GAAK,QAAUjV,OAClD,SAAThsB,GAA4B,MAATA,GAAyB,MAATA,EAC5CsgC,GAAW,EACO,MAATtgC,GAETygC,EAAYj+B,GAOhB,GAFAy+B,EAAcH,EAASt9B,MAGrB,KAAM,IAAIoG,OAAM,qBAAuBq3B,EAAY,GAAK,QAAUC,EAAQjV,IAE5E,OAAO2V,GAAWC,EAAarB,IAOjC,QAASqB,GAAarB,GAIpB,IAAK,GADDQ,GAAOc,EAFPC,KAGKljC,EAAI,EAAGmjC,EAAYxB,EAAO1hC,OAAQD,EAAImjC,IAAanjC,EAC1DmiC,EAAQR,EAAO3hC,GAEXmiC,IACe,SAAbA,EAAM,IAAiBc,GAA8B,SAAjBA,EAAU,IAChDA,EAAU,IAAMd,EAAM,GACtBc,EAAU,GAAKd,EAAM,KAErBe,EAAe17B,KAAK26B,GACpBc,EAAYd,GAKlB,OAAOe,GAST,QAASH,GAAWpB,GAMlB,IAAK,GADDQ,GAAOiB,EAJPC,KACAC,EAAYD,EACZpB,KAGKjiC,EAAI,EAAGmjC,EAAYxB,EAAO1hC,OAAQD,EAAImjC,IAAanjC,EAG1D,OAFAmiC,EAAQR,EAAO3hC,GAEPmiC,EAAM,IACd,IAAK,IACL,IAAK,IACHmB,EAAU97B,KAAK26B,GACfF,EAASz6B,KAAK26B,GACdmB,EAAYnB,EAAM,KAClB,MACF,KAAK,IACHiB,EAAUnB,EAASt9B,MACnBy+B,EAAQ,GAAKjB,EAAM,GACnBmB,EAAYrB,EAAShiC,OAAS,EAAIgiC,EAASA,EAAShiC,OAAS,GAAG,GAAKojC,CACrE,MACF,SACEC,EAAU97B,KAAK26B,GAInB,MAAOkB,GAOT,QAASf,GAAQnN,GACft5B,KAAKs5B,OAASA,EACdt5B,KAAKu1B,KAAO+D,EACZt5B,KAAKuxB,IAAM,EAyDb,QAASmW,GAAQC,EAAMC,GACrB5nC,KAAK2nC,KAAe,MAARA,KAAoBA,EAChC3nC,KAAKmW,OAAU0xB,IAAK7nC,KAAK2nC,MACzB3nC,KAAKqiB,OAASulB,EAwDhB,QAASE,KACP9nC,KAAKmW,SA1XP,GAAI4xB,GAAkB38B,OAAOC,UAAUC,SACnClG,EAAUsG,MAAMtG,SAAW,SAAUoR,GACvC,MAAwC,mBAAjCuxB,EAAgB/+B,KAAKwN,IAa1B2uB,EAAc9qB,OAAOhP,UAAUpG,KAK/BogC,EAAa,KAKbE,GACFvN,IAAK,QACLC,IAAK,OACLlW,IAAK,OACLmW,IAAK,SACLC,IAAK,QACLC,IAAK,UASH2O,EAAU,MACVf,EAAU,MACVgB,EAAW,OACXC,EAAU,QACVH,EAAQ,oBA+NZL,GAAQp7B,UAAUq7B,IAAM,WACtB,MAAqB,KAAd1mC,KAAKu1B,MAOdkR,EAAQp7B,UAAUw7B,KAAO,SAAU3B,GACjC,GAAI1kB,GAAQxgB,KAAKu1B,KAAK/U,MAAM0kB,EAE5B,KAAK1kB,GAAyB,IAAhBA,EAAMgE,MAClB,MAAO,EAET,IAAI8U,GAAS9Y,EAAM,EAKnB,OAHAxgB,MAAKu1B,KAAOv1B,KAAKu1B,KAAKxe,UAAUuiB,EAAOl1B,QACvCpE,KAAKuxB,KAAO+H,EAAOl1B,OAEZk1B,GAOTmN,EAAQp7B,UAAUs7B,UAAY,SAAUzB,GACtC,GAAkC1kB,GAA9BgE,EAAQxkB,KAAKu1B,KAAKmM,OAAOwD,EAE7B,QAAQ1gB,GACR,KAAK,EACHhE,EAAQxgB,KAAKu1B,KACbv1B,KAAKu1B,KAAO,EACZ,MACF,KAAK,GACH/U,EAAQ,EACR,MACF,SACEA,EAAQxgB,KAAKu1B,KAAKxe,UAAU,EAAGyN,GAC/BxkB,KAAKu1B,KAAOv1B,KAAKu1B,KAAKxe,UAAUyN,GAKlC,MAFAxkB,MAAKuxB,KAAO/Q,EAAMpc,OAEXoc,GAiBTknB,EAAQr8B,UAAUM,KAAO,SAAUg8B,GACjC,MAAO,IAAID,GAAQC,EAAM3nC,OAO3B0nC,EAAQr8B,UAAU28B,OAAS,SAAUlxB,GACnC,GAEIhP,GAFAqO,EAAQnW,KAAKmW,KAGjB,IAAIW,IAAQX,GACVrO,EAAQqO,EAAMW,OACT,CAGL,IAFA,GAAoBmxB,GAAOzjB,EAAvBpY,EAAUpM,KAEPoM,GAAS,CACd,GAAI0K,EAAK7K,QAAQ,KAAO,EAKtB,IAJAnE,EAAQsE,EAAQu7B,KAChBM,EAAQnxB,EAAKtS,MAAM,KACnBggB,EAAQ,EAEQ,MAAT1c,GAAiB0c,EAAQyjB,EAAM7jC,QACpC0D,EAAQA,EAAMmgC,EAAMzjB,UACU,gBAAhBpY,GAAQu7B,OACxB7/B,EAAQsE,EAAQu7B,KAAK7wB,GAGvB,IAAa,MAAThP,EACF,KAEFsE,GAAUA,EAAQiW,OAGpBlM,EAAMW,GAAQhP,EAMhB,MAHIhC,GAAWgC,KACbA,EAAQA,EAAMkB,KAAKhJ,KAAK2nC,OAEnB7/B,GAeTggC,EAAOz8B,UAAU68B,WAAa,WAC5BloC,KAAKmW,UAOP2xB,EAAOz8B,UAAU+D,MAAQ,SAAU6pB,EAAUwM,GAC3C,GAAItvB,GAAQnW,KAAKmW,MACb2vB,EAAS3vB,EAAM8iB,EAKnB,OAHc,OAAV6M,IACFA,EAAS3vB,EAAM8iB,GAAYuM,EAAcvM,EAAUwM,IAE9CK,GAYTgC,EAAOz8B,UAAUo4B,OAAS,SAAUxK,EAAU0O,EAAMQ,GAClD,GAAIrC,GAAS9lC,KAAKoP,MAAM6pB,GACpB7sB,EAAWu7B,YAAgBD,GAAWC,EAAO,GAAID,GAAQC,EAC7D,OAAO3nC,MAAKooC,aAAatC,EAAQ15B,EAAS+7B,EAAUlP,IAYtD6O,EAAOz8B,UAAU+8B,aAAe,SAAUtC,EAAQ15B,EAAS+7B,EAAUE,GAInE,IAAK,GADD/B,GAAOgC,EAAQxgC,EAFfygC,EAAS,GAGJpkC,EAAI,EAAGmjC,EAAYxB,EAAO1hC,OAAQD,EAAImjC,IAAanjC,EAC1D2D,EAAQozB,OACRoL,EAAQR,EAAO3hC,GACfmkC,EAAShC,EAAM,GAEA,MAAXgC,EAAgBxgC,EAAQ9H,KAAKwoC,eAAelC,EAAOl6B,EAAS+7B,EAAUE,GACtD,MAAXC,EAAgBxgC,EAAQ9H,KAAKyoC,gBAAgBnC,EAAOl6B,EAAS+7B,EAAUE,GAC5D,MAAXC,EAAgBxgC,EAAQ9H,KAAK0oC,eAAepC,EAAOl6B,EAAS+7B,EAAUE,GAC3D,MAAXC,EAAgBxgC,EAAQ9H,KAAK2oC,gBAAgBrC,EAAOl6B,GACzC,SAAXk8B,EAAmBxgC,EAAQ9H,KAAK4oC,cAActC,EAAOl6B,GAC1C,SAAXk8B,IAAmBxgC,EAAQ9H,KAAK6oC,UAAUvC,IAErCpL,SAAVpzB,IACFygC,GAAUzgC,EAGd,OAAOygC,IAGTT,EAAOz8B,UAAUm9B,eAAiB,SAAUlC,EAAOl6B,EAAS+7B,EAAUE,GAOpE,QAASS,GAAU7P,GACjB,MAAO8P,GAAKtF,OAAOxK,EAAU7sB,EAAS+7B,GAPxC,GAAIY,GAAO/oC,KACPuoC,EAAS,GACTzgC,EAAQsE,EAAQ47B,OAAO1B,EAAM,GAQjC,IAAKx+B,EAAL,CAEA,GAAI1C,EAAQ0C,GACV,IAAK,GAAIlE,GAAI,EAAGgjC,EAAc9+B,EAAM1D,OAAQR,EAAIgjC,IAAehjC,EAC7D2kC,GAAUvoC,KAAKooC,aAAa9B,EAAM,GAAIl6B,EAAQT,KAAK7D,EAAMlE,IAAKukC,EAAUE,OAErE,IAAqB,gBAAVvgC,IAAuC,gBAAVA,GAC7CygC,GAAUvoC,KAAKooC,aAAa9B,EAAM,GAAIl6B,EAAQT,KAAK7D,GAAQqgC,EAAUE,OAChE,IAAIviC,EAAWgC,GAAQ,CAC5B,GAAgC,gBAArBugC,GACT,KAAM,IAAIn5B,OAAM,iEAGlBpH,GAAQA,EAAMkB,KAAKoD,EAAQu7B,KAAMU,EAAiBxlC,MAAMyjC,EAAM,GAAIA,EAAM,IAAKwC,GAEhE,MAAThhC,IACFygC,GAAUzgC,OAEZygC,IAAUvoC,KAAKooC,aAAa9B,EAAM,GAAIl6B,EAAS+7B,EAAUE,EAE3D,OAAOE,KAGTT,EAAOz8B,UAAUo9B,gBAAkB,SAASnC,EAAOl6B,EAAS+7B,EAAUE,GACpE,GAAIvgC,GAAQsE,EAAQ47B,OAAO1B,EAAM,GAIjC,KAAKx+B,GAAU1C,EAAQ0C,IAA2B,IAAjBA,EAAM1D,OACrC,MAAOpE,MAAKooC,aAAa9B,EAAM,GAAIl6B,EAAS+7B,EAAUE,IAG1DP,EAAOz8B,UAAUq9B,eAAiB,SAASpC,EAAOl6B,EAAS+7B,GACzD,GAAKA,EAAL,CAEA,GAAIrgC,GAAQhC,EAAWqiC,GAAYA,EAAS7B,EAAM,IAAM6B,EAAS7B,EAAM,GACvE,OAAa,OAATx+B,EACK9H,KAAKooC,aAAapoC,KAAKoP,MAAMtH,GAAQsE,EAAS+7B,EAAUrgC,GADjE,SAIFggC,EAAOz8B,UAAUs9B,gBAAkB,SAASrC,EAAOl6B,GACjD,GAAItE,GAAQsE,EAAQ47B,OAAO1B,EAAM,GACjC,IAAa,MAATx+B,EACF,MAAOA,IAGXggC,EAAOz8B,UAAUu9B,cAAgB,SAAStC,EAAOl6B,GAC/C,GAAItE,GAAQsE,EAAQ47B,OAAO1B,EAAM,GACjC,IAAa,MAATx+B,EACF,MAAOk9B,GAASjN,OAAOjwB,IAG3BggC,EAAOz8B,UAAUw9B,UAAY,SAASvC,GACpC,MAAOA,GAAM,IAGftB,EAASluB,KAAO,cAChBkuB,EAASv0B,QAAU,QACnBu0B,EAASS,MAAS,KAAM,KAGxB,IAAIuD,GAAgB,GAAIlB,EAKxB9C,GAASkD,WAAa,WACpB,MAAOc,GAAcd,cAQvBlD,EAAS51B,MAAQ,SAAU6pB,EAAUwM,GACnC,MAAOuD,GAAc55B,MAAM6pB,EAAUwM,IAOvCT,EAASvB,OAAS,SAAUxK,EAAU0O,EAAMQ,GAC1C,MAAOa,GAAcvF,OAAOxK,EAAU0O,EAAMQ,IAI9CnD,EAASiE,QAAU,SAAUhQ,EAAU0O,EAAMQ,EAAUta,GACrD,GAAI/R,GAASkpB,EAASvB,OAAOxK,EAAU0O,EAAMQ,EAE7C,OAAIriC,GAAW+nB,OACbA,GAAK/R,GAEEA,GAMXkpB,EAASjN,OAASuN,EAGlBN,EAASyB,QAAUA,EACnBzB,EAAS0C,QAAUA,EACnB1C,EAAS8C,OAASA,IAQnB,SAAU/4B,EAAQ7M,EAAUg5B,GAC7B,GAAIgO,GAAOn6B,EAAO3O,EACdA,IAEJA,GAAEqQ,QAAU,QAGU,gBAAXijB,SAAiD,gBAAnBA,QAAOD,QAC/CC,OAAOD,QAAUrzB,EAGW,kBAAXN,SAAyBA,OAAOkzB,KACjDlzB,OAAOM,GAKRA,EAAEgO,WAAa,WAEd,MADAW,GAAO3O,EAAI8oC,EACJlpC,MAGR+O,EAAO3O,EAAIA,EAOXA,EAAE+oC,MACDzjC,OAAQ,SAAU0jC,GACjB,GACIjlC,GAAGP,EAAGylC,EAAK3hB,EADX4hB,EAAU59B,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,EAGpD,KAAKlK,EAAI,EAAGylC,EAAMC,EAAQllC,OAAQR,EAAIylC,EAAKzlC,IAAK,CAC/C8jB,EAAM4hB,EAAQ1lC,MACd,KAAKO,IAAKujB,GACLA,EAAIlc,eAAerH,KACtBilC,EAAKjlC,GAAKujB,EAAIvjB,IAIjB,MAAOilC,IAGRvpB,KAAM,SAAUtV,EAAIg/B,GACnB,GAAInN,GAAOtuB,UAAU1J,OAAS,EAAIsH,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,GAAK,IAC7E,OAAO,YACN,MAAOvD,GAAG3H,MAAM2mC,EAAKnN,GAAQtuB,aAI/B07B,MAAQ,WACP,GAAIC,GAAS,EACT7P,EAAM,aACV,OAAO,UAAU2P,GAEhB,MADAA,GAAI3P,GAAO2P,EAAI3P,MAAU6P,EAClBF,EAAI3P,OAIb8P,WAAY,SAAUH,EAAKtL,EAAQ7xB,GAClC,GAAIjI,GAAGi4B,CAEP,IAAmB,gBAARmN,GAAkB,CAC5BnN,EAAO1wB,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,EAE7C,KAAK3J,IAAKolC,GACTtL,EAAOr7B,MAAMwJ,GAAUjI,EAAGolC,EAAIplC,IAAIxB,OAAOy5B,GAE1C,QAAO,EAGR,OAAO,GAGRuN,oBAAqB,SAAUp/B,EAAIq/B,EAAMx9B,GACxC,GAAIoF,GAAMq4B,CAEV,OAAO,SAASC,KACf,GAAI1N,GAAOtuB,SAEX,OAAI0D,QACHq4B,GAAe,IAIhBr4B,GAAO,EAEPvO,WAAW,WACVuO,GAAO,EAEHq4B,IACHC,EAAUlnC,MAAMwJ,EAASgwB,GACzByN,GAAe,IAEdD,OAEHr/B,GAAG3H,MAAMwJ,EAASgwB,MAIpB2N,QAAS,WACR,OAAO,GAGRC,UAAW,SAAUC,EAAKC,GACzB,GAAIC,GAAMn6B,KAAKm6B,IAAI,GAAID,GAAU,EACjC,OAAOl6B,MAAKo6B,MAAMH,EAAME,GAAOA,GAGhCp+B,KAAM,SAAU4tB,GACf,MAAOA,GAAI5tB,KAAO4tB,EAAI5tB,OAAS4tB,EAAIj1B,QAAQ,aAAc,KAG1D2lC,WAAY,SAAU1Q,GACrB,MAAOv5B,GAAE+oC,KAAKp9B,KAAK4tB,GAAKn1B,MAAM,QAG/B8lC,WAAY,SAAUf,EAAK7wB,GAE1B,MADA6wB,GAAI7wB,QAAUtY,EAAEsF,UAAW6jC,EAAI7wB,QAASA,GACjC6wB,EAAI7wB,SAGZ6xB,eAAgB,SAAUhB,EAAKiB,EAAaC,GAC3C,GAAIjG,KACJ,KAAK,GAAIrgC,KAAKolC,GACb/E,EAAO74B,KAAKmiB,mBAAmB2c,EAAYtmC,EAAE6G,cAAgB7G,GAAK,IAAM2pB,mBAAmByb,EAAIplC,IAEhG,QAAUqmC,GAAeA,EAAYv+B,QAAQ,QAAS,EAAY,IAAN,KAAau4B,EAAOz2B,KAAK,MAEtFkrB,SAAU,SAAUU,EAAKnxB,GACxB,MAAOmxB,GAAIj1B,QAAQ,oBAAqB,SAAUi1B,EAAKC,GACtD,GAAI9xB,GAAQU,EAAKoxB,EACjB,IAAI9xB,IAAUozB,EACb,KAAM,IAAIhsB,OAAM,kCAAoCyqB,EAIrD,OAH4B,kBAAV7xB,KACjBA,EAAQA,EAAMU,IAERV,KAIT1C,QAASsG,MAAMtG,SAAW,SAAUmkC,GACnC,MAAgD,mBAAxCn+B,OAAOC,UAAUC,SAAStC,KAAKugC,IAGxCmB,cAAe,8DAGf,WAIA,QAASC,GAAY7zB,GACpB,GAAI3S,GAAGoG,EACHqgC,GAAY,SAAU,MAAO,IAAK,KAEtC,KAAKzmC,EAAI,EAAGA,EAAIymC,EAASxmC,SAAWmG,EAAIpG,IACvCoG,EAAKwE,EAAO67B,EAASzmC,GAAK2S,EAG3B,OAAOvM,GAKR,QAASsgC,GAAatgC,GACrB,GAAIq/B,IAAQ,GAAIv5B,MACZy6B,EAAa96B,KAAKC,IAAI,EAAG,IAAM25B,EAAOmB,GAG1C,OADAA,GAAWnB,EAAOkB,EACX/7B,EAAO9L,WAAWsH,EAAIugC,GAP9B,GAAIC,GAAW,EAUXC,EAAYj8B,EAAOk8B,uBACfN,EAAY,0BAA4BE,EAE5CK,EAAWn8B,EAAOo8B,sBACdR,EAAY,yBACZA,EAAY,gCACZ,SAAU19B,GAAM8B,EAAO0I,aAAaxK,GAG5C7M,GAAE+oC,KAAKiC,iBAAmB,SAAU7gC,EAAI6B,EAASi/B,EAAWvH,GAG3D,MAFAv5B,GAAKnK,EAAEyf,KAAKtV,EAAI6B,GAEZi/B,GAAaL,IAAcH,MAC9BtgC,KAEOygC,EAAUhiC,KAAK+F,EAAQxE,EAAIu5B,IAIpC1jC,EAAE+oC,KAAKmC,gBAAkB,SAAUr+B,GAC9BA,GACHi+B,EAASliC,KAAK+F,EAAQ9B,OAOzB7M,EAAEsF,OAAStF,EAAE+oC,KAAKzjC,OAClBtF,EAAEyf,KAAOzf,EAAE+oC,KAAKtpB,KAChBzf,EAAEopC,MAAQppC,EAAE+oC,KAAKK,MACjBppC,EAAEkqC,WAAalqC,EAAE+oC,KAAKmB,WAQtBlqC,EAAEmrC,MAAQ,aAEVnrC,EAAEmrC,MAAM7lC,OAAS,SAAUqX,GAG1B,GAAIyuB,GAAW,WAGVxrC,KAAK+8B,YACR/8B,KAAK+8B,WAAWn6B,MAAM5C,KAAM8N,WAIzB9N,KAAKyrC,YACRzrC,KAAK0rC,iBAKH9/B,EAAI,YACRA,GAAEP,UAAYrL,KAAKqL,SAEnB,IAAIsgC,GAAQ,GAAI//B,EAChB+/B,GAAMx/B,YAAcq/B,EAEpBA,EAASngC,UAAYsgC,CAGrB,KAAK,GAAIxnC,KAAKnE,MACTA,KAAKwL,eAAerH,IAAY,cAANA,IAC7BqnC,EAASrnC,GAAKnE,KAAKmE,GAKjB4Y,GAAM6uB,UACTxrC,EAAEsF,OAAO8lC,EAAUzuB,EAAM6uB,eAClB7uB,GAAM6uB,SAIV7uB,EAAM8uB,WACTzrC,EAAE+oC,KAAKzjC,OAAO9C,MAAM,MAAO+oC,GAAOhpC,OAAOoa,EAAM8uB,iBACxC9uB,GAAM8uB,UAIV9uB,EAAMrE,SAAWizB,EAAMjzB,UAC1BqE,EAAMrE,QAAUtY,EAAEsF,UAAWimC,EAAMjzB,QAASqE,EAAMrE,UAInDtY,EAAEsF,OAAOimC,EAAO5uB,GAEhB4uB,EAAMF,aAEN,IAAIppB,GAASriB,IAoBb,OAlBAwrC,GAAS1G,UAAYziB,EAAOhX,UAG5BsgC,EAAMD,cAAgB,WAErB,IAAI1rC,KAAK8rC,iBAAT,CAEIzpB,EAAOhX,UAAUqgC,eACpBrpB,EAAOhX,UAAUqgC,cAAc1iC,KAAKhJ,MAGrCA,KAAK8rC,kBAAmB,CAExB,KAAK,GAAI3nC,GAAI,EAAGklC,EAAMsC,EAAMF,WAAWrnC,OAAQD,EAAIklC,EAAKllC,IACvDwnC,EAAMF,WAAWtnC,GAAG6E,KAAKhJ,QAIpBwrC,GAKRprC,EAAEmrC,MAAMlX,QAAU,SAAUtX,GAC3B3c,EAAEsF,OAAO1F,KAAKqL,UAAW0R,IAI1B3c,EAAEmrC,MAAMQ,aAAe,SAAUrzB,GAChCtY,EAAEsF,OAAO1F,KAAKqL,UAAUqN,QAASA,IAIlCtY,EAAEmrC,MAAMS,YAAc,SAAUzhC,GAC/B,GAAI6xB,GAAO1wB,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,GAE7CtD,EAAqB,kBAAPD,GAAoBA,EAAK,WAC1CvK,KAAKuK,GAAI3H,MAAM5C,KAAMo8B,GAGtBp8B,MAAKqL,UAAUogC,WAAazrC,KAAKqL,UAAUogC,eAC3CzrC,KAAKqL,UAAUogC,WAAW9/B,KAAKnB,GAQhC,IAAIyhC,GAAY,iBAEhB7rC,GAAE8rC,SAEF9rC,EAAE8rC,MAAMrQ,QAEPjtB,iBAAkB,SAAUu9B,EAAO5hC,EAAI6B,GAGtC,GAAIhM,EAAE+oC,KAAKO,WAAWyC,EAAOnsC,KAAK4O,iBAAkB5O,KAAMuK,EAAI6B,GAAY,MAAOpM,KAEjF,IAEImE,GAAGklC,EAAK/gC,EAAOhD,EAAM8mC,EAAUC,EAAaC,EAF5ClkC,EAASpI,KAAKisC,GAAajsC,KAAKisC,OAChCM,EAAYngC,GAAWA,IAAYpM,MAAQI,EAAEopC,MAAMp9B,EAMvD,KAFA+/B,EAAQ/rC,EAAE+oC,KAAKkB,WAAW8B,GAErBhoC,EAAI,EAAGklC,EAAM8C,EAAM/nC,OAAQD,EAAIklC,EAAKllC,IACxCmE,GACCkkC,OAAQjiC,EACR6B,QAASA,GAAWpM,MAErBsF,EAAO6mC,EAAMhoC,GAETooC,GAIHH,EAAW9mC,EAAO,OAClB+mC,EAAcD,EAAW,OAEzBE,EAAYlkC,EAAOgkC,GAAYhkC,EAAOgkC,OAEjCE,EAAUC,KACdD,EAAUC,MAGVnkC,EAAOikC,IAAgBjkC,EAAOikC,IAAgB,GAAK,GAGpDC,EAAUC,GAAW5gC,KAAKrD,KAI1BF,EAAO9C,GAAQ8C,EAAO9C,OACtB8C,EAAO9C,GAAMqG,KAAKrD,GAIpB,OAAOtI,OAGRysC,kBAAmB,SAAUnnC,GAC5B,GAAI8C,GAASpI,KAAKisC,EAClB,SAAS7jC,IAAY9C,IAAQ8C,IAAUA,EAAO9C,GAAMlB,OAAS,GACxCkB,EAAO,QAAU8C,IAAUA,EAAO9C,EAAO,YAAc,IAG7EwL,oBAAqB,SAAUq7B,EAAO5hC,EAAI6B,GAEzC,IAAKpM,KAAKisC,GACT,MAAOjsC,KAGR,KAAKmsC,EACJ,MAAOnsC,MAAK0sC,wBAGb,IAAItsC,EAAE+oC,KAAKO,WAAWyC,EAAOnsC,KAAK8Q,oBAAqB9Q,KAAMuK,EAAI6B,GAAY,MAAOpM,KAEpF,IAEImE,GAAGklC,EAAK/jC,EAAMqnC,EAAW/oC,EAAGwoC,EAAUC,EAAaC,EAAWM,EAF9DxkC,EAASpI,KAAKisC,GACdM,EAAYngC,GAAWA,IAAYpM,MAAQI,EAAEopC,MAAMp9B,EAKvD,KAFA+/B,EAAQ/rC,EAAE+oC,KAAKkB,WAAW8B,GAErBhoC,EAAI,EAAGklC,EAAM8C,EAAM/nC,OAAQD,EAAIklC,EAAKllC,IAOxC,GANAmB,EAAO6mC,EAAMhoC,GACbioC,EAAW9mC,EAAO,OAClB+mC,EAAcD,EAAW,OAEzBE,EAAYlkC,EAAOgkC,GAEd7hC,GASJ,GAFAoiC,EAAYJ,GAAaD,EAAYA,EAAUC,GAAankC,EAAO9C,GAEpD,CACd,IAAK1B,EAAI+oC,EAAUvoC,OAAS,EAAGR,GAAK,EAAGA,IACjC+oC,EAAU/oC,GAAG4oC,SAAWjiC,GAAS6B,GAAYugC,EAAU/oC,GAAGwI,UAAYA,IAC1EwgC,EAAUD,EAAUx+B,OAAOvK,EAAG,GAG9BgpC,EAAQ,GAAGJ,OAASpsC,EAAE+oC,KAAKY,QAIzB39B,IAAWkgC,GAAmC,IAArBK,EAAUvoC,eAC/BkoC,GAAUC,GACjBnkC,EAAOikC,kBAnBFjkC,GAAO9C,SACP8C,GAAOgkC,SACPhkC,GAAOikC,EAuBhB,OAAOrsC,OAGR0sC,uBAAwB,WAEvB,aADO1sC,MAAKisC,GACLjsC,MAGRsU,UAAW,SAAUhP,EAAMkD,GAC1B,IAAKxI,KAAKysC,kBAAkBnnC,GAC3B,MAAOtF,KAGR,IAGI2sC,GAAWxoC,EAAGklC,EAAKiD,EAAWC,EAH9BjkC,EAAQlI,EAAE+oC,KAAKzjC,UAAW8C,GAAQlD,KAAMA,EAAMyW,OAAQ/b,OAEtDoI,EAASpI,KAAKisC,EAGlB,IAAI7jC,EAAO9C,GAIV,IAFAqnC,EAAYvkC,EAAO9C,GAAMzC,QAEpBsB,EAAI,EAAGklC,EAAMsD,EAAUvoC,OAAQD,EAAIklC,EAAKllC,IAC5CwoC,EAAUxoC,GAAGqoC,OAAOxjC,KAAK2jC,EAAUxoC,GAAGiI,QAAS9D,EAKjDgkC,GAAYlkC,EAAO9C,EAAO,OAE1B,KAAKinC,IAAaD,GAGjB,GAFAK,EAAYL,EAAUC,GAAW1pC,QAGhC,IAAKsB,EAAI,EAAGklC,EAAMsD,EAAUvoC,OAAQD,EAAIklC,EAAKllC,IAC5CwoC,EAAUxoC,GAAGqoC,OAAOxjC,KAAK2jC,EAAUxoC,GAAGiI,QAAS9D,EAKlD,OAAOtI,OAGR6sC,wBAAyB,SAAUV,EAAO5hC,EAAI6B,GAE7C,GAAIhM,EAAE+oC,KAAKO,WAAWyC,EAAOnsC,KAAK6sC,wBAAyB7sC,KAAMuK,EAAI6B,GAAY,MAAOpM,KAExF,IAAIwa,GAAUpa,EAAEyf,KAAK,WACpB7f,KACK8Q,oBAAoBq7B,EAAO5hC,EAAI6B,GAC/B0E,oBAAoBq7B,EAAO3xB,EAASpO,IACvCpM,KAEH,OAAOA,MACF4O,iBAAiBu9B,EAAO5hC,EAAI6B,GAC5BwC,iBAAiBu9B,EAAO3xB,EAASpO,KAIxChM,EAAE8rC,MAAMrQ,OAAOlc,GAAKvf,EAAE8rC,MAAMrQ,OAAOjtB,iBACnCxO,EAAE8rC,MAAMrQ,OAAOptB,IAAMrO,EAAE8rC,MAAMrQ,OAAO/qB,oBACpC1Q,EAAE8rC,MAAMrQ,OAAOzqB,KAAOhR,EAAE8rC,MAAMrQ,OAAOgR,wBACrCzsC,EAAE8rC,MAAMrQ,OAAOpyB,KAAOrJ,EAAE8rC,MAAMrQ,OAAOvnB,UAOpC,WAEA,GAAIw4B,GAAK,iBAAmB/9B,GAC3Bg+B,EAAQD,IAAO5qC,EAAS0M,iBAGrBo+B,EAAKljC,UAAUoB,UAAU3G,cACzBqM,EAASo8B,EAAG/gC,QAAQ,aAAc,EAClCghC,EAASD,EAAG/gC,QAAQ,aAAc,EAClCihC,EAAYF,EAAG/gC,QAAQ,cAAe,EACtCkhC,EAAUH,EAAG/gC,QAAQ,cAAe,EACpCmhC,EAAYJ,EAAGtL,OAAO,mBAAoB,EAC7C2L,EAAQL,EAAG/gC,QAAQ,YAAa,EAE7BqhC,QAAgBC,cAAgBrS,EAAY,GAC5CsS,EAAYz+B,EAAOjF,WAAaiF,EAAOjF,UAAU2jC,kBACvC1+B,EAAOjF,UAAU4jC,mBAAqB3+B,EAAO4+B,aAC1DC,EAAW7+B,EAAO4+B,cAAgB5+B,EAAOjF,UAAU+jC,gBAAkB9+B,EAAOjF,UAAUgkC,gBAClFN,EACDO,EAAU,oBAAsBh/B,IAAUA,EAAOi/B,iBAAmB,GAC1D,cAAgBj/B,IAAUA,EAAOk/B,WAAW,4BAC5Cl/B,EAAOk/B,WAAW,2BAA2BxxB,QAEvDyxB,EAAMhsC,EAAS+H,gBACfkkC,EAAOrB,GAAO,cAAgBoB,GAAI3nC,MAClC6nC,EAAY,mBAAqBr/B,IAAY,OAAS,IAAIA,GAAOs/B,kBAAuBjB,EACxFkB,EAAU,kBAAoBJ,GAAI3nC,MAClCgoC,EAAU,eAAiBL,GAAI3nC,MAC/BioC,GAASz/B,EAAO0/B,eAAiBN,GAAQC,GAAYE,GAAWC,KAAarB,EAM7EwB,GAAS3/B,EAAO4/B,aAAezB,GAAc,WAEhD,GAAI0B,GAAY,cAGhB,IAAIhB,GAAYgB,IAAaV,GAC5B,OAAO,CAIR,IAAIW,GAAM3sC,EAASR,cAAc,OAC7BotC,GAAY,CAEhB,SAAKD,EAAIj8B,eAGTi8B,EAAIj8B,aAAag8B,EAAW,WAEE,kBAAnBC,GAAID,KACdE,GAAY,GAGbD,EAAI9mC,gBAAgB6mC,GACpBC,EAAM,KAECC,KAIR1uC,GAAE2uC,SACDjC,GAAIA,EACJC,MAAOA,EACPn8B,OAAQA,EACRy8B,MAAOA,IAAUz8B,IAAW7B,EAAOigC,QAAUlC,EAE7CK,QAASA,EACTC,UAAWA,EAEXH,OAAQA,EAERkB,KAAMA,EACNC,SAAUA,EACVE,QAASA,EACTC,QAASA,EACTC,MAAOA,EAEPlB,OAAQA,EACR2B,aAAc3B,GAAU18B,EACxBs+B,eAAgB5B,GAAUc,EAC1Be,YAAa7B,GAAUv+B,EAAOigC,MAE9BN,MAAOA,EACPlB,UAAWA,EACXI,QAASA,EAETG,OAAQA,MAUV3tC,EAAEgvC,MAAQ,SAAqBrkC,EAAcE,EAAem/B,GAC3DpqC,KAAK+K,EAAKq/B,EAAQp6B,KAAKo6B,MAAMr/B,GAAKA,EAClC/K,KAAKiL,EAAKm/B,EAAQp6B,KAAKo6B,MAAMn/B,GAAKA,GAGnC7K,EAAEgvC,MAAM/jC,WAEPuB,MAAO,WACN,MAAO,IAAIxM,GAAEgvC,MAAMpvC,KAAK+K,EAAG/K,KAAKiL,IAIjC1C,IAAK,SAAU8mC,GACd,MAAOrvC,MAAK4M,QAAQ0iC,KAAKlvC,EAAEivC,MAAMA,KAIlCC,KAAM,SAAUD,GAGf,MAFArvC,MAAK+K,GAAKskC,EAAMtkC,EAChB/K,KAAKiL,GAAKokC,EAAMpkC,EACTjL,MAGRuvC,SAAU,SAAUF,GACnB,MAAOrvC,MAAK4M,QAAQ4iC,UAAUpvC,EAAEivC,MAAMA,KAGvCG,UAAW,SAAUH,GAGpB,MAFArvC,MAAK+K,GAAKskC,EAAMtkC,EAChB/K,KAAKiL,GAAKokC,EAAMpkC,EACTjL,MAGRyvC,SAAU,SAAUxF,GACnB,MAAOjqC,MAAK4M,QAAQ8iC,UAAUzF,IAG/ByF,UAAW,SAAUzF,GAGpB,MAFAjqC,MAAK+K,GAAKk/B,EACVjqC,KAAKiL,GAAKg/B,EACHjqC,MAGR2vC,WAAY,SAAU1F,GACrB,MAAOjqC,MAAK4M,QAAQgjC,YAAY3F,IAGjC2F,YAAa,SAAU3F,GAGtB,MAFAjqC,MAAK+K,GAAKk/B,EACVjqC,KAAKiL,GAAKg/B,EACHjqC,MAGRoqC,MAAO,WACN,MAAOpqC,MAAK4M,QAAQijC,UAGrBA,OAAQ,WAGP,MAFA7vC,MAAK+K,EAAIiF,KAAKo6B,MAAMpqC,KAAK+K,GACzB/K,KAAKiL,EAAI+E,KAAKo6B,MAAMpqC,KAAKiL,GAClBjL,MAGR83B,MAAO,WACN,MAAO93B,MAAK4M,QAAQkjC,UAGrBA,OAAQ,WAGP,MAFA9vC,MAAK+K,EAAIiF,KAAK8nB,MAAM93B,KAAK+K,GACzB/K,KAAKiL,EAAI+E,KAAK8nB,MAAM93B,KAAKiL,GAClBjL,MAGR+vC,WAAY,SAAUV,GACrBA,EAAQjvC,EAAEivC,MAAMA,EAEhB,IAAItkC,GAAIskC,EAAMtkC,EAAI/K,KAAK+K,EACnBE,EAAIokC,EAAMpkC,EAAIjL,KAAKiL,CAEvB,OAAO+E,MAAKggC,KAAKjlC,EAAIA,EAAIE,EAAIA,IAG9BglC,OAAQ,SAAUZ,GAGjB,MAFAA,GAAQjvC,EAAEivC,MAAMA,GAETA,EAAMtkC,IAAM/K,KAAK+K,GACjBskC,EAAMpkC,IAAMjL,KAAKiL,GAGzBmU,SAAU,SAAUiwB,GAGnB,MAFAA,GAAQjvC,EAAEivC,MAAMA,GAETr/B,KAAKkgC,IAAIb,EAAMtkC,IAAMiF,KAAKkgC,IAAIlwC,KAAK+K,IACnCiF,KAAKkgC,IAAIb,EAAMpkC,IAAM+E,KAAKkgC,IAAIlwC,KAAKiL,IAG3CK,SAAU,WACT,MAAO,SACClL,EAAE+oC,KAAKa,UAAUhqC,KAAK+K,GAAK,KAC3B3K,EAAE+oC,KAAKa,UAAUhqC,KAAKiL,GAAK,MAIrC7K,EAAEivC,MAAQ,SAAUtkC,EAAGE,EAAGm/B,GACzB,MAAIr/B,aAAa3K,GAAEgvC,MACXrkC,EAEJ3K,EAAE+oC,KAAK/jC,QAAQ2F,GACX,GAAI3K,GAAEgvC,MAAMrkC,EAAE,GAAIA,EAAE,IAExBA,IAAMmwB,GAAmB,OAANnwB,EACfA,EAED,GAAI3K,GAAEgvC,MAAMrkC,EAAGE,EAAGm/B,IAQ1BhqC,EAAE+vC,OAAS,SAAU3vC,EAAGC,GACvB,GAAKD,EAIL,IAAK,GAFD4vC,GAAS3vC,GAAKD,EAAGC,GAAKD,EAEjB2D,EAAI,EAAGklC,EAAM+G,EAAOhsC,OAAQD,EAAIklC,EAAKllC,IAC7CnE,KAAK0F,OAAO0qC,EAAOjsC,KAIrB/D,EAAE+vC,OAAO9kC,WAER3F,OAAQ,SAAU2pC,GAYjB,MAXAA,GAAQjvC,EAAEivC,MAAMA,GAEXrvC,KAAK40B,KAAQ50B,KAAKiQ,KAItBjQ,KAAK40B,IAAI7pB,EAAIiF,KAAK4kB,IAAIya,EAAMtkC,EAAG/K,KAAK40B,IAAI7pB,GACxC/K,KAAKiQ,IAAIlF,EAAIiF,KAAKC,IAAIo/B,EAAMtkC,EAAG/K,KAAKiQ,IAAIlF,GACxC/K,KAAK40B,IAAI3pB,EAAI+E,KAAK4kB,IAAIya,EAAMpkC,EAAGjL,KAAK40B,IAAI3pB,GACxCjL,KAAKiQ,IAAIhF,EAAI+E,KAAKC,IAAIo/B,EAAMpkC,EAAGjL,KAAKiQ,IAAIhF,KANxCjL,KAAK40B,IAAMya,EAAMziC,QACjB5M,KAAKiQ,IAAMo/B,EAAMziC,SAOX5M,MAGRqwC,UAAW,SAAUjG,GACpB,MAAO,IAAIhqC,GAAEgvC,OACJpvC,KAAK40B,IAAI7pB,EAAI/K,KAAKiQ,IAAIlF,GAAK,GAC3B/K,KAAK40B,IAAI3pB,EAAIjL,KAAKiQ,IAAIhF,GAAK,EAAGm/B,IAGxCkG,cAAe,WACd,MAAO,IAAIlwC,GAAEgvC,MAAMpvC,KAAK40B,IAAI7pB,EAAG/K,KAAKiQ,IAAIhF,IAGzCslC,YAAa,WACZ,MAAO,IAAInwC,GAAEgvC,MAAMpvC,KAAKiQ,IAAIlF,EAAG/K,KAAK40B,IAAI3pB,IAGzCulC,QAAS,WACR,MAAOxwC,MAAKiQ,IAAIs/B,SAASvvC,KAAK40B,MAG/BxV,SAAU,SAAUmqB,GACnB,GAAI3U,GAAK3kB,CAeT,OAZCs5B,GADqB,gBAAXA,GAAI,IAAmBA,YAAenpC,GAAEgvC,MAC5ChvC,EAAEivC,MAAM9F,GAERnpC,EAAEqwC,OAAOlH,GAGZA,YAAenpC,GAAE+vC,QACpBvb,EAAM2U,EAAI3U,IACV3kB,EAAMs5B,EAAIt5B,KAEV2kB,EAAM3kB,EAAMs5B,EAGL3U,EAAI7pB,GAAK/K,KAAK40B,IAAI7pB,GAClBkF,EAAIlF,GAAK/K,KAAKiQ,IAAIlF,GAClB6pB,EAAI3pB,GAAKjL,KAAK40B,IAAI3pB,GAClBgF,EAAIhF,GAAKjL,KAAKiQ,IAAIhF,GAG3BylC,WAAY,SAAUD,GACrBA,EAASrwC,EAAEqwC,OAAOA,EAElB,IAAI7b,GAAM50B,KAAK40B,IACX3kB,EAAMjQ,KAAKiQ,IACX0gC,EAAOF,EAAO7b,IACdgc,EAAOH,EAAOxgC,IACd4gC,EAAeD,EAAK7lC,GAAK6pB,EAAI7pB,GAAO4lC,EAAK5lC,GAAKkF,EAAIlF,EAClD+lC,EAAeF,EAAK3lC,GAAK2pB,EAAI3pB,GAAO0lC,EAAK1lC,GAAKgF,EAAIhF,CAEtD,OAAO4lC,IAAeC,GAGvBhS,QAAS,WACR,SAAU9+B,KAAK40B,MAAO50B,KAAKiQ,OAI7B7P,EAAEqwC,OAAS,SAAUjwC,EAAGC,GACvB,OAAKD,GAAKA,YAAaJ,GAAE+vC,OACjB3vC,EAED,GAAIJ,GAAE+vC,OAAO3vC,EAAGC,IAQxBL,EAAE2wC,eAAiB,SAAUvwC,EAAGC,EAAGS,EAAGE,GACrCpB,KAAKgxC,GAAKxwC,EACVR,KAAKixC,GAAKxwC,EACVT,KAAKkxC,GAAKhwC,EACVlB,KAAKmxC,GAAK/vC,GAGXhB,EAAE2wC,eAAe1lC,WAChB+lC,UAAW,SAAU/B,EAAOgC,GAC3B,MAAOrxC,MAAKsxC,WAAWjC,EAAMziC,QAASykC,IAIvCC,WAAY,SAAUjC,EAAOgC,GAI5B,MAHAA,GAAQA,GAAS,EACjBhC,EAAMtkC,EAAIsmC,GAASrxC,KAAKgxC,GAAK3B,EAAMtkC,EAAI/K,KAAKixC,IAC5C5B,EAAMpkC,EAAIomC,GAASrxC,KAAKkxC,GAAK7B,EAAMpkC,EAAIjL,KAAKmxC,IACrC9B,GAGRkC,YAAa,SAAUlC,EAAOgC,GAE7B,MADAA,GAAQA,GAAS,EACV,GAAIjxC,GAAEgvC,OACJC,EAAMtkC,EAAIsmC,EAAQrxC,KAAKixC,IAAMjxC,KAAKgxC,IAClC3B,EAAMpkC,EAAIomC,EAAQrxC,KAAKmxC,IAAMnxC,KAAKkxC,MAS7C9wC,EAAEoxC,SACDjkC,IAAK,SAAUN,GACd,MAAsB,gBAAPA,GAAkB/K,EAAS8K,eAAeC,GAAMA,GAGhEwkC,SAAU,SAAU7N,EAAIr9B,GAEvB,GAAIuB,GAAQ87B,EAAGr9B,MAAMA,EAMrB,KAJKuB,GAAS87B,EAAGpa,eAChB1hB,EAAQ87B,EAAGpa,aAAajjB,MAGnBuB,GAAmB,SAAVA,IAAqB5F,EAASpB,YAAa,CACzD,GAAIS,GAAMW,EAASpB,YAAYoU,iBAAiB0uB,EAAI,KACpD97B,GAAQvG,EAAMA,EAAIgF,GAAS,KAG5B,MAAiB,SAAVuB,EAAmB,KAAOA,GAGlC4pC,kBAAmB,SAAU5N,GAE5B,GAKIvS,GALAzb,EAAM,EACN2T,EAAO,EACPma,EAAKE,EACL6N,EAAUzvC,EAASf,KACnBywC,EAAQ1vC,EAAS+H,eAGrB,GAAG,CAUF,GATA6L,GAAQ8tB,EAAGjuB,WAAc,EACzB8T,GAAQma,EAAGrR,YAAc,EAGzBzc,GAAOV,SAAShV,EAAEoxC,QAAQC,SAAS7N,EAAI,kBAAmB,KAAO,EACjEna,GAAQrU,SAAShV,EAAEoxC,QAAQC,SAAS7N,EAAI,mBAAoB,KAAO,EAEnErS,EAAMnxB,EAAEoxC,QAAQC,SAAS7N,EAAI,YAEzBA,EAAGtR,eAAiBqf,GAAmB,aAARpgB,EAAsB,KAEzD,IAAY,UAARA,EAAiB,CACpBzb,GAAQ67B,EAAQ9zB,WAAc+zB,EAAM/zB,WAAc,EAClD4L,GAAQkoB,EAAQl0B,YAAcm0B,EAAMn0B,YAAc,CAClD,OAGD,GAAY,aAAR8T,IAAuBqS,EAAGrR,WAAY,CACzC,GAAI3wB,GAAQxB,EAAEoxC,QAAQC,SAAS7N,EAAI,SAC/BiO,EAAWzxC,EAAEoxC,QAAQC,SAAS7N,EAAI,aAClCl5B,EAAIk5B,EAAGzR,uBAEG,UAAVvwB,GAAiC,SAAbiwC,IACvBpoB,GAAQ/e,EAAE+e,KAAOma,EAAGlmB,YAIrB5H,GAAOpL,EAAEoL,KAAO67B,EAAQ9zB,WAAc+zB,EAAM/zB,WAAc,EAE1D,OAGD+lB,EAAKA,EAAGtR,mBAEAsR,EAETA,GAAKE,CAEL,GAAG,CACF,GAAIF,IAAO+N,EAAW,KAEtB77B,IAAQ8tB,EAAG/lB,WAAc,EACzB4L,GAAQma,EAAGnmB,YAAc,EAEzBmmB,EAAKA,EAAGv6B,iBACAu6B,EAET,OAAO,IAAIxjC,GAAEgvC,MAAM3lB,EAAM3T,IAG1Bg8B,cAAe,WAKd,MAJK1xC,GAAEoxC,QAAQO,kBACd3xC,EAAEoxC,QAAQO,iBAAkB,EAC5B3xC,EAAEoxC,QAAQQ,UAA+D,QAAnD5xC,EAAEoxC,QAAQC,SAASvvC,EAASf,KAAM,cAElDf,EAAEoxC,QAAQQ,WAGlBjS,OAAQ,SAAUwD,EAASjwB,EAAW2+B,GAErC,GAAIrO,GAAK1hC,EAASR,cAAc6hC,EAOhC,OANAK,GAAGtwB,UAAYA,EAEX2+B,GACHA,EAAUnwC,YAAY8hC,GAGhBA,GAGR1rB,SAAU,SAAU0rB,EAAI9sB,GACvB,GAAI8sB,EAAGsO,YAAchX,EACpB,MAAO0I,GAAGsO,UAAU9yB,SAAStI,EAE9B,IAAIxD,GAAYlT,EAAEoxC,QAAQW,UAAUvO,EACpC,OAAOtwB,GAAUlP,OAAS,GAAK,GAAIiW,QAAO,UAAYvD,EAAO,WAAW7R,KAAKqO,IAG9EyE,SAAU,SAAU6rB,EAAI9sB,GACvB,GAAI8sB,EAAGsO,YAAchX,EAEpB,IAAK,GADDkX,GAAUhyC,EAAE+oC,KAAKkB,WAAWvzB,GACvB3S,EAAI,EAAGklC,EAAM+I,EAAQhuC,OAAQD,EAAIklC,EAAKllC,IAC9Cy/B,EAAGsO,UAAU3pC,IAAI6pC,EAAQjuC,QAEpB,KAAK/D,EAAEoxC,QAAQt5B,SAAS0rB,EAAI9sB,GAAO,CACzC,GAAIxD,GAAYlT,EAAEoxC,QAAQW,UAAUvO,EACpCxjC,GAAEoxC,QAAQa,UAAUzO,GAAKtwB,EAAYA,EAAY,IAAM,IAAMwD,KAI/DkB,YAAa,SAAU4rB,EAAI9sB,GACtB8sB,EAAGsO,YAAchX,EACpB0I,EAAGsO,UAAU1wC,OAAOsV,GAEpB1W,EAAEoxC,QAAQa,UAAUzO,EAAIxjC,EAAE+oC,KAAKp9B,MAAM,IAAM3L,EAAEoxC,QAAQW,UAAUvO,GAAM,KAAKl/B,QAAQ,IAAMoS,EAAO,IAAK,QAItGu7B,UAAW,SAAUzO,EAAI9sB,GACpB8sB,EAAGtwB,UAAUg/B,UAAYpX,EAC5B0I,EAAGtwB,UAAYwD,EAGf8sB,EAAGtwB,UAAUg/B,QAAUx7B,GAIzBq7B,UAAW,SAAUvO,GACpB,MAAOA,GAAGtwB,UAAUg/B,UAAYpX,EAAY0I,EAAGtwB,UAAYswB,EAAGtwB,UAAUg/B,SAGzEC,WAAY,SAAU3O,EAAI97B,GAEzB,GAAI,WAAa87B,GAAGr9B,MACnBq9B,EAAGr9B,MAAM0M,QAAUnL,MAEb,IAAI,UAAY87B,GAAGr9B,MAAO,CAEhC,GAAI2C,IAAS,EACTspC,EAAa,kCAGjB,KACCtpC,EAAS06B,EAAGzhB,QAAQswB,KAAKD,GACxB,MAAOlxC,GAGR,GAAc,IAAVwG,EAAe,OAGpBA,EAAQkI,KAAKo6B,MAAc,IAARtiC,GAEfoB,GACHA,EAAOwpC,QAAqB,MAAV5qC,EAClBoB,EAAOypC,QAAU7qC,GAEjB87B,EAAGr9B,MAAM2C,QAAU,WAAaspC,EAAa,YAAc1qC,EAAQ,MAKtE8qC,SAAU,SAAU71B,GAInB,IAAK,GAFDxW,GAAQrE,EAAS+H,gBAAgB1D,MAE5BpC,EAAI,EAAGA,EAAI4Y,EAAM3Y,OAAQD,IACjC,GAAI4Y,EAAM5Y,IAAMoC,GACf,MAAOwW,GAAM5Y,EAGf,QAAO,GAGR0uC,mBAAoB,SAAUxD,GAK7B,GAAIyD,GAAO1yC,EAAE2uC,QAAQX,SACjBpf,EAAO,aAAe8jB,EAAO,KAAO,IAAM,IAC1CxwC,GAASwwC,EAAO,KAAO,IAAM,GAEjC,OAAO9jB,GAAOqgB,EAAMtkC,EAAI,MAAQskC,EAAMpkC,EAAI,KAAO3I,GAGlDywC,eAAgB,SAAU1B,EAAO2B,GAEhC,GAAIC,GAAkB7yC,EAAEoxC,QAAQqB,mBAAmBG,EAAOzqC,IAAIyqC,EAAOrD,YAAW,EAAK0B,KACjF6B,EAAW,UAAY7B,EAAQ,IAEnC,OAAO4B,GAAkBC,GAG1BC,YAAa,SAAUvP,EAAIyL,EAAO+D,GAGjCxP,EAAGyP,aAAehE,GAEb+D,GAAahzC,EAAE2uC,QAAQP,MAC3B5K,EAAGr9B,MAAMnG,EAAEoxC,QAAQ8B,WAAclzC,EAAEoxC,QAAQqB,mBAAmBxD,IAE9DzL,EAAGr9B,MAAMkjB,KAAO4lB,EAAMtkC,EAAI,KAC1B64B,EAAGr9B,MAAMuP,IAAMu5B,EAAMpkC,EAAI,OAI3BsoC,YAAa,SAAU3P,GAKtB,MAAOA,GAAGyP,eAOZjzC,EAAEoxC,QAAQ8B,UAAYlzC,EAAEoxC,QAAQoB,UACvB,YAAa,kBAAmB,aAAc,eAAgB,gBAKvExyC,EAAEoxC,QAAQgC,WAAapzC,EAAEoxC,QAAQoB,UACxB,mBAAoB,aAAc,cAAe,gBAAiB,iBAE3ExyC,EAAEoxC,QAAQiC,eACuB,qBAAzBrzC,EAAEoxC,QAAQgC,YAA8D,gBAAzBpzC,EAAEoxC,QAAQgC,WACzDpzC,EAAEoxC,QAAQgC,WAAa,MAAQ,gBAEvC,WACI,GAAI,iBAAmBtxC,GACnB9B,EAAEsF,OAAOtF,EAAEoxC,SACPkC,qBAAsB,WAClBtzC,EAAEuzC,SAASh0B,GAAG5Q,EAAQ,cAAe3O,EAAEuzC,SAASz3B,iBAGpD03B,oBAAqB,WACjBxzC,EAAEuzC,SAASllC,IAAIM,EAAQ,cAAe3O,EAAEuzC,SAASz3B,uBAGtD,CACH,GAAI23B,GAAqBzzC,EAAEoxC,QAAQoB,UAC9B,aAAc,mBAAoB,cAAe,gBAAiB,gBAEvExyC,GAAEsF,OAAOtF,EAAEoxC,SACPkC,qBAAsB,WAClB,GAAIG,EAAoB,CACpB,GAAIttC,GAAQrE,EAAS+H,gBAAgB1D,KACrCvG,MAAK8zC,YAAcvtC,EAAMstC,GACzBttC,EAAMstC,GAAsB,SAIpCD,oBAAqB,WACbC,IACA3xC,EAAS+H,gBAAgB1D,MAAMstC,GAAsB7zC,KAAK8zC,kBACnD9zC,MAAK8zC,gBAM/B1zC,EAAEsF,OAAOtF,EAAEoxC,SACVuC,iBAAkB,WACjB3zC,EAAEuzC,SAASh0B,GAAG5Q,EAAQ,YAAa3O,EAAEuzC,SAASz3B,iBAG/C83B,gBAAiB,WAChB5zC,EAAEuzC,SAASllC,IAAIM,EAAQ,YAAa3O,EAAEuzC,SAASz3B,sBAUlD9b,EAAE6zC,OAAS,SAAUC,EAAKC,EAAKC,GAI9B,GAHAF,EAAM9tC,WAAW8tC,GACjBC,EAAM/tC,WAAW+tC,GAEbnlC,MAAMklC,IAAQllC,MAAMmlC,GACvB,KAAM,IAAIjlC,OAAM,2BAA6BglC,EAAM,KAAOC,EAAM,IAGjEn0C,MAAKk0C,IAAMA,EACXl0C,KAAKm0C,IAAMA,EAEPC,IAAQlZ,IACXl7B,KAAKo0C,IAAMhuC,WAAWguC,KAIxBh0C,EAAEsF,OAAOtF,EAAE6zC,QACVI,WAAYrkC,KAAKihB,GAAK,IACtBqjB,WAAY,IAAMtkC,KAAKihB,GACvBsjB,WAAY,OAGbn0C,EAAE6zC,OAAO5oC,WACR4kC,OAAQ,SAAU1G,GACjB,IAAKA,EAAO,OAAO,CAEnBA,GAAMnpC,EAAEo0C,OAAOjL,EAEf,IAAIxf,GAAS/Z,KAAKC,IACVD,KAAKkgC,IAAIlwC,KAAKk0C,IAAM3K,EAAI2K,KACxBlkC,KAAKkgC,IAAIlwC,KAAKm0C,IAAM5K,EAAI4K,KAEhC,OAAOpqB,IAAU3pB,EAAE6zC,OAAOM,YAG3BjpC,SAAU,SAAUmpC,GACnB,MAAO,UACCr0C,EAAE+oC,KAAKa,UAAUhqC,KAAKk0C,IAAKO,GAAa,KACxCr0C,EAAE+oC,KAAKa,UAAUhqC,KAAKm0C,IAAKM,GAAa,KAKjD1E,WAAY,SAAU2E,GACrBA,EAAQt0C,EAAEo0C,OAAOE,EAEjB,IAAIvwB,GAAI,QACJwwB,EAAMv0C,EAAE6zC,OAAOI,WACfO,GAAQF,EAAMR,IAAMl0C,KAAKk0C,KAAOS,EAChCE,GAAQH,EAAMP,IAAMn0C,KAAKm0C,KAAOQ,EAChCG,EAAO90C,KAAKk0C,IAAMS,EAClBI,EAAOL,EAAMR,IAAMS,EACnBK,EAAOhlC,KAAKilC,IAAIL,EAAO,GACvBM,EAAOllC,KAAKilC,IAAIJ,EAAO,GAEvBr0C,EAAIw0C,EAAOA,EAAOE,EAAOA,EAAOllC,KAAKghB,IAAI8jB,GAAQ9kC,KAAKghB,IAAI+jB,EAE9D,OAAW,GAAJ5wB,EAAQnU,KAAKmlC,MAAMnlC,KAAKggC,KAAKxvC,GAAIwP,KAAKggC,KAAK,EAAIxvC,KAGvDwmB,KAAM,SAAUxmB,EAAGC,GAClB,GAAI0zC,GAAMn0C,KAAKm0C,GAOf,OALA3zC,GAAIA,IAAK,IACTC,EAAIA,GAAM,IAEV0zC,GAAOA,EAAM1zC,IAAMA,EAAID,IAAM2zC,EAAM3zC,GAAK2zC,IAAQ1zC,EAAIA,EAAID,GAEjD,GAAIJ,GAAE6zC,OAAOj0C,KAAKk0C,IAAKC,KAIhC/zC,EAAEo0C,OAAS,SAAUh0C,EAAGC,GACvB,MAAID,aAAaJ,GAAE6zC,OACXzzC,EAEJJ,EAAE+oC,KAAK/jC,QAAQ5E,GACE,gBAATA,GAAE,IAAmC,gBAATA,GAAE,GACjC,GAAIJ,GAAE6zC,OAAOzzC,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAE3B,KAGLA,IAAM06B,GAAmB,OAAN16B,EACfA,EAES,gBAANA,IAAkB,OAASA,GAC9B,GAAIJ,GAAE6zC,OAAOzzC,EAAE0zC,IAAK,OAAS1zC,GAAIA,EAAE2zC,IAAM3zC,EAAE40C,KAE/C30C,IAAMy6B,EACF,KAED,GAAI96B,GAAE6zC,OAAOzzC,EAAGC,IASxBL,EAAEi1C,aAAe,SAAUC,EAAWC,GACrC,GAAKD,EAIL,IAAK,GAFDE,GAAUD,GAAaD,EAAWC,GAAaD,EAE1CnxC,EAAI,EAAGklC,EAAMmM,EAAQpxC,OAAQD,EAAIklC,EAAKllC,IAC9CnE,KAAK0F,OAAO8vC,EAAQrxC,KAItB/D,EAAEi1C,aAAahqC,WAEd3F,OAAQ,SAAU6jC,GACjB,IAAKA,EAAO,MAAOvpC,KAEnB,IAAIw0C,GAASp0C,EAAEo0C,OAAOjL,EAsBtB,OApBCA,GADc,OAAXiL,EACGA,EAEAp0C,EAAEq1C,aAAalM,GAGlBA,YAAenpC,GAAE6zC,OACfj0C,KAAK01C,YAAe11C,KAAK21C,YAI7B31C,KAAK01C,WAAWxB,IAAMlkC,KAAK4kB,IAAI2U,EAAI2K,IAAKl0C,KAAK01C,WAAWxB,KACxDl0C,KAAK01C,WAAWvB,IAAMnkC,KAAK4kB,IAAI2U,EAAI4K,IAAKn0C,KAAK01C,WAAWvB,KAExDn0C,KAAK21C,WAAWzB,IAAMlkC,KAAKC,IAAIs5B,EAAI2K,IAAKl0C,KAAK21C,WAAWzB,KACxDl0C,KAAK21C,WAAWxB,IAAMnkC,KAAKC,IAAIs5B,EAAI4K,IAAKn0C,KAAK21C,WAAWxB,OAPxDn0C,KAAK01C,WAAa,GAAIt1C,GAAE6zC,OAAO1K,EAAI2K,IAAK3K,EAAI4K,KAC5Cn0C,KAAK21C,WAAa,GAAIv1C,GAAE6zC,OAAO1K,EAAI2K,IAAK3K,EAAI4K,MAQnC5K,YAAenpC,GAAEi1C,eAC3Br1C,KAAK0F,OAAO6jC,EAAImM,YAChB11C,KAAK0F,OAAO6jC,EAAIoM,aAEV31C,MAIR41C,IAAK,SAAUC,GACd,GAAIC,GAAK91C,KAAK01C,WACVK,EAAK/1C,KAAK21C,WACVK,EAAehmC,KAAKkgC,IAAI4F,EAAG5B,IAAM6B,EAAG7B,KAAO2B,EAC3CI,EAAcjmC,KAAKkgC,IAAI4F,EAAG3B,IAAM4B,EAAG5B,KAAO0B,CAE9C,OAAO,IAAIz1C,GAAEi1C,aACL,GAAIj1C,GAAE6zC,OAAO6B,EAAG5B,IAAM8B,EAAcF,EAAG3B,IAAM8B,GAC7C,GAAI71C,GAAE6zC,OAAO8B,EAAG7B,IAAM8B,EAAcD,EAAG5B,IAAM8B,KAGtD5F,UAAW,WACV,MAAO,IAAIjwC,GAAE6zC,QACJj0C,KAAK01C,WAAWxB,IAAMl0C,KAAK21C,WAAWzB,KAAO,GAC7Cl0C,KAAK01C,WAAWvB,IAAMn0C,KAAK21C,WAAWxB,KAAO,IAGvD+B,aAAc,WACb,MAAOl2C,MAAK01C,YAGbS,aAAc,WACb,MAAOn2C,MAAK21C,YAGbS,aAAc,WACb,MAAO,IAAIh2C,GAAE6zC,OAAOj0C,KAAKq2C,WAAYr2C,KAAKs2C,YAG3CC,aAAc,WACb,MAAO,IAAIn2C,GAAE6zC,OAAOj0C,KAAKw2C,WAAYx2C,KAAKy2C,YAG3CH,QAAS,WACR,MAAOt2C,MAAK01C,WAAWvB,KAGxBqC,SAAU,WACT,MAAOx2C,MAAK01C,WAAWxB,KAGxBuC,QAAS,WACR,MAAOz2C,MAAK21C,WAAWxB,KAGxBkC,SAAU,WACT,MAAOr2C,MAAK21C,WAAWzB,KAGxB90B,SAAU,SAAUmqB,GAElBA,EADqB,gBAAXA,GAAI,IAAmBA,YAAenpC,GAAE6zC,OAC5C7zC,EAAEo0C,OAAOjL,GAETnpC,EAAEq1C,aAAalM,EAGtB,IAEImN,GAAKC,EAFLb,EAAK91C,KAAK01C,WACVK,EAAK/1C,KAAK21C,UAUd,OAPIpM,aAAenpC,GAAEi1C,cACpBqB,EAAMnN,EAAI2M,eACVS,EAAMpN,EAAI4M,gBAEVO,EAAMC,EAAMpN,EAGLmN,EAAIxC,KAAO4B,EAAG5B,KAASyC,EAAIzC,KAAO6B,EAAG7B,KACrCwC,EAAIvC,KAAO2B,EAAG3B,KAASwC,EAAIxC,KAAO4B,EAAG5B,KAG9CzD,WAAY,SAAUD,GACrBA,EAASrwC,EAAEq1C,aAAahF,EAExB,IAAIqF,GAAK91C,KAAK01C,WACVK,EAAK/1C,KAAK21C,WACVe,EAAMjG,EAAOyF,eACbS,EAAMlG,EAAO0F,eAEbS,EAAiBD,EAAIzC,KAAO4B,EAAG5B,KAASwC,EAAIxC,KAAO6B,EAAG7B,IACtD2C,EAAiBF,EAAIxC,KAAO2B,EAAG3B,KAASuC,EAAIvC,KAAO4B,EAAG5B,GAE1D,OAAOyC,IAAiBC,GAGzBC,aAAc,WACb,OAAQ92C,KAAKs2C,UAAWt2C,KAAKw2C,WAAYx2C,KAAKy2C,UAAWz2C,KAAKq2C,YAAYtoC,KAAK,MAGhFkiC,OAAQ,SAAUQ,GACjB,QAAKA,IAELA,EAASrwC,EAAEq1C,aAAahF,GAEjBzwC,KAAK01C,WAAWzF,OAAOQ,EAAOyF,iBAC9Bl2C,KAAK21C,WAAW1F,OAAOQ,EAAO0F,kBAGtCrX,QAAS,WACR,SAAU9+B,KAAK01C,aAAc11C,KAAK21C,cAMpCv1C,EAAEq1C,aAAe,SAAUj1C,EAAGC,GAC7B,OAAKD,GAAKA,YAAaJ,GAAEi1C,aACjB70C,EAED,GAAIJ,GAAEi1C,aAAa70C,EAAGC,IAQ9BL,EAAE22C,cAOF32C,EAAE22C,WAAWC,mBACZC,aAAc,cAEdC,QAAS,SAAUC,GAClB,GAAI/1C,GAAIhB,EAAE6zC,OAAOI,WACbpkC,EAAMjQ,KAAKi3C,aACX/C,EAAMlkC,KAAKC,IAAID,KAAK4kB,IAAI3kB,EAAKknC,EAAOjD,MAAOjkC,GAC3ClF,EAAIosC,EAAOhD,IAAM/yC,EACjB6J,EAAIipC,EAAM9yC,CAId,OAFA6J,GAAI+E,KAAKonC,IAAIpnC,KAAKqnC,IAAKrnC,KAAKihB,GAAK,EAAMhmB,EAAI,IAEpC,GAAI7K,GAAEgvC,MAAMrkC,EAAGE,IAGvBqsC,UAAW,SAAUjI,GACpB,GAAIjuC,GAAIhB,EAAE6zC,OAAOK,WACbH,EAAM9E,EAAMtkC,EAAI3J,EAChB8yC,GAAO,EAAIlkC,KAAKunC,KAAKvnC,KAAKwnC,IAAInI,EAAMpkC,IAAO+E,KAAKihB,GAAK,GAAM7vB,CAE/D,OAAO,IAAIhB,GAAE6zC,OAAOC,EAAKC,KAS3B/zC,EAAE22C,WAAWU,QACZP,QAAS,SAAUC,GAClB,MAAO,IAAI/2C,GAAEgvC,MAAM+H,EAAOhD,IAAKgD,EAAOjD,MAGvCoD,UAAW,SAAUjI,GACpB,MAAO,IAAIjvC,GAAE6zC,OAAO5E,EAAMpkC,EAAGokC,EAAMtkC,KASrC3K,EAAEs3C,KACDC,cAAe,SAAUR,EAAQ9hC,GAChC,GAAIuiC,GAAiB53C,KAAK63C,WAAWX,QAAQC,GACzC9F,EAAQrxC,KAAKqxC,MAAMh8B,EAEvB,OAAOrV,MAAK83C,eAAexG,WAAWsG,EAAgBvG,IAGvD0G,cAAe,SAAU1I,EAAOh6B,GAC/B,GAAIg8B,GAAQrxC,KAAKqxC,MAAMh8B,GACnB2iC,EAAqBh4C,KAAK83C,eAAevG,YAAYlC,EAAOgC,EAEhE,OAAOrxC,MAAK63C,WAAWP,UAAUU,IAGlCd,QAAS,SAAUC,GAClB,MAAOn3C,MAAK63C,WAAWX,QAAQC,IAGhC9F,MAAO,SAAUh8B,GAChB,MAAO,KAAMrF,KAAKm6B,IAAI,EAAG90B,IAG1Bm7B,QAAS,SAAUn7B,GAClB,GAAIxV,GAAIG,KAAKqxC,MAAMh8B,EACnB,OAAOjV,GAAEivC,MAAMxvC,EAAGA,KASpBO,EAAEs3C,IAAIO,OAAS73C,EAAEsF,UAAWtF,EAAEs3C,KAC7BG,WAAYz3C,EAAE22C,WAAWU,OACzBK,eAAgB,GAAI13C,GAAE2wC,eAAe,EAAG,GAAG,EAAI,GAE/CM,MAAO,SAAUh8B,GAChB,MAAOrF,MAAKm6B,IAAI,EAAG90B,MAUrBjV,EAAEs3C,IAAIQ,SAAW93C,EAAEsF,UAAWtF,EAAEs3C,KAC/BS,KAAM,YAENN,WAAYz3C,EAAE22C,WAAWC,kBACzBc,eAAgB,GAAI13C,GAAE2wC,eAAe,GAAM/gC,KAAKihB,GAAI,IAAK,GAAOjhB,KAAKihB,GAAI,IAEzEimB,QAAS,SAAUC,GAClB,GAAIS,GAAiB53C,KAAK63C,WAAWX,QAAQC,GACzCiB,EAAc,OAClB,OAAOR,GAAejI,WAAWyI,MAInCh4C,EAAEs3C,IAAIW,WAAaj4C,EAAEsF,UAAWtF,EAAEs3C,IAAIQ,UACrCC,KAAM,gBAQP/3C,EAAEs3C,IAAIY,SAAWl4C,EAAEsF,UAAWtF,EAAEs3C,KAC/BS,KAAM,YAENN,WAAYz3C,EAAE22C,WAAWU,OACzBK,eAAgB,GAAI13C,GAAE2wC,eAAe,EAAI,IAAK,IAAK,EAAK,IAAK,MAQ9D3wC,EAAEm4C,IAAMn4C,EAAEmrC,MAAM7lC,QAEfmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElBnjB,SACC8/B,IAAKp4C,EAAEs3C,IAAIQ,SAQXO,cAAer4C,EAAEoxC,QAAQgC,aAAepzC,EAAE2uC,QAAQ3B,UAClDsL,aAAa,EACbC,oBAAqBv4C,EAAEoxC,QAAQgC,YAAcpzC,EAAE2uC,QAAQP,OAGxDzR,WAAY,SAAU9vB,EAAIyL,GACzBA,EAAUtY,EAAEkqC,WAAWtqC,KAAM0Y,GAG7B1Y,KAAK44C,eAAe3rC,GACpBjN,KAAK64C,cAGL74C,KAAK84C,UAAY14C,EAAEyf,KAAK7f,KAAK84C,UAAW94C,MAExCA,KAAK+4C,cAEDrgC,EAAQsgC,WACXh5C,KAAKi5C,aAAavgC,EAAQsgC,WAGvBtgC,EAAQwgC,QAAUxgC,EAAQrD,OAAS6lB,GACtCl7B,KAAKm5C,QAAQ/4C,EAAEo0C,OAAO97B,EAAQwgC,QAASxgC,EAAQrD,MAAOuN,OAAO,IAG9D5iB,KAAKo5C,aAELp5C,KAAKq5C,WACLr5C,KAAKs5C,oBACLt5C,KAAKu5C,eAAiB,EAEtBv5C,KAAK0rC,gBAEL1rC,KAAKw5C,WAAW9gC,EAAQ+gC,SAOzBN,QAAS,SAAUD,EAAQ7jC,GAG1B,MAFAA,GAAOA,IAAS6lB,EAAYl7B,KAAK05C,UAAYrkC,EAC7CrV,KAAK25C,WAAWv5C,EAAEo0C,OAAO0E,GAASl5C,KAAK45C,WAAWvkC,IAC3CrV,MAGR65C,QAAS,SAAUxkC,EAAMqD,GACxB,MAAK1Y,MAAK85C,QAIH95C,KAAKm5C,QAAQn5C,KAAKqwC,YAAah7B,GAAOA,KAAMqD,KAHlD1Y,KAAK+5C,MAAQ/5C,KAAK45C,WAAWvkC,GACtBrV,OAKTg6C,OAAQ,SAAUC,EAAOvhC,GACxB,MAAO1Y,MAAK65C,QAAQ75C,KAAK+5C,OAASE,GAAS,GAAIvhC,IAGhDwhC,QAAS,SAAUD,EAAOvhC,GACzB,MAAO1Y,MAAK65C,QAAQ75C,KAAK+5C,OAASE,GAAS,GAAIvhC,IAGhDyhC,cAAe,SAAUhD,EAAQ9hC,EAAMqD,GACtC,GAAI24B,GAAQrxC,KAAKo6C,aAAa/kC,GAC1BglC,EAAWr6C,KAAKwwC,UAAUf,SAAS,GACnC6K,EAAiBnD,YAAkB/2C,GAAEgvC,MAAQ+H,EAASn3C,KAAKu6C,uBAAuBpD,GAElFqD,EAAeF,EAAe/K,SAAS8K,GAAU1K,WAAW,EAAI,EAAI0B,GACpEoJ,EAAYz6C,KAAK06C,uBAAuBL,EAAS9xC,IAAIiyC,GAEzD,OAAOx6C,MAAKm5C,QAAQsB,EAAWplC,GAAOA,KAAMqD,KAG7CiiC,UAAW,SAAUlK,EAAQ/3B,GAE5BA,EAAUA,MACV+3B,EAASA,EAAOmK,UAAYnK,EAAOmK,YAAcx6C,EAAEq1C,aAAahF,EAEhE,IAAIoK,GAAYz6C,EAAEivC,MAAM32B,EAAQoiC,gBAAkBpiC,EAAQpD,UAAY,EAAG,IACrEylC,EAAY36C,EAAEivC,MAAM32B,EAAQsiC,oBAAsBtiC,EAAQpD,UAAY,EAAG,IAEzED,EAAOrV,KAAKi7C,cAAcxK,GAAQ,EAAOoK,EAAUtyC,IAAIwyC,IACvDG,EAAgBH,EAAUxL,SAASsL,GAAWpL,SAAS,GAEvD0L,EAAUn7C,KAAKk3C,QAAQzG,EAAOyF,eAAgB7gC,GAC9C+lC,EAAUp7C,KAAKk3C,QAAQzG,EAAO0F,eAAgB9gC,GAC9C6jC,EAASl5C,KAAKs3C,UAAU6D,EAAQ5yC,IAAI6yC,GAAS3L,SAAS,GAAGlnC,IAAI2yC,GAAgB7lC,EAIjF,OAFAA,GAAOqD,GAAWA,EAAQ2iC,QAAUrrC,KAAK4kB,IAAIlc,EAAQ2iC,QAAShmC,GAAQA,EAE/DrV,KAAKm5C,QAAQD,EAAQ7jC,EAAMqD,IAGnC4iC,SAAU,SAAU5iC,GACnB,MAAO1Y,MAAK26C,aAAY,IAAK,MAAQ,GAAI,MAAOjiC,IAGjD6iC,MAAO,SAAUrC,EAAQxgC,GACxB,MAAO1Y,MAAKm5C,QAAQD,EAAQl5C,KAAK+5C,OAAQyB,IAAK9iC,KAG/C+iC,MAAO,SAAU5iC,GAOhB,MALA7Y,MAAKyJ,KAAK,aAEVzJ,KAAK07C,UAAUt7C,EAAEivC,MAAMx2B,IAEvB7Y,KAAKyJ,KAAK,QACHzJ,KAAKyJ,KAAK,YAGlBwvC,aAAc,SAAUxI,GAKvB,MAJAA,GAASrwC,EAAEq1C,aAAahF,GAExBzwC,KAAK0Y,QAAQsgC,UAAYvI,EAEpBA,GAIDzwC,KAAK85C,SACR95C,KAAK27C,sBAGC37C,KAAK2f,GAAG,UAAW3f,KAAK27C,oBAAqB37C,OAP5CA,KAAKyO,IAAI,UAAWzO,KAAK27C,oBAAqB37C,OAUvD47C,gBAAiB,SAAUnL,EAAQ/3B,GAClC,GAAIwgC,GAASl5C,KAAKqwC,YACjBoK,EAAYz6C,KAAK67C,aAAa3C,EAAQl5C,KAAK+5C,MAAOtJ,EAEnD,OAAIyI,GAAOjJ,OAAOwK,GAAqBz6C,KAEhCA,KAAKu7C,MAAMd,EAAW/hC,IAG9BojC,SAAU,SAAUC,GAGnB,GAAI9uC,GAAK7M,EAAEopC,MAAMuS,EAEjB,OAAI/7C,MAAKq5C,QAAQpsC,GAAcjN,MAE/BA,KAAKq5C,QAAQpsC,GAAM8uC,GAGfA,EAAMrjC,SAAa1J,MAAM+sC,EAAMrjC,QAAQ2iC,UAAarsC,MAAM+sC,EAAMrjC,QAAQsjC,WAC3Eh8C,KAAKs5C,iBAAiBrsC,GAAM8uC,EAC5B/7C,KAAKi8C,qBAIFj8C,KAAK0Y,QAAQwjC,eAAiB97C,EAAE+7C,WAAcJ,YAAiB37C,GAAE+7C,YACpEn8C,KAAKu5C,iBACLv5C,KAAKo8C,oBACLL,EAAMp8B,GAAG,OAAQ3f,KAAKq8C,iBAAkBr8C,OAGrCA,KAAK85C,SACR95C,KAAKs8C,UAAUP,GAGT/7C,OAGRu8C,YAAa,SAAUR,GACtB,GAAI9uC,GAAK7M,EAAEopC,MAAMuS,EAEjB,OAAK/7C,MAAKq5C,QAAQpsC,IAEdjN,KAAK85C,SACRiC,EAAMS,SAASx8C,YAGTA,MAAKq5C,QAAQpsC,GAEhBjN,KAAK85C,SACR95C,KAAKyJ,KAAK,eAAgBsyC,MAAOA,IAG9B/7C,KAAKs5C,iBAAiBrsC,WAClBjN,MAAKs5C,iBAAiBrsC,GAC7BjN,KAAKi8C,qBAIFj8C,KAAK0Y,QAAQwjC,eAAiB97C,EAAE+7C,WAAcJ,YAAiB37C,GAAE+7C,YACpEn8C,KAAKu5C,iBACLv5C,KAAKo8C,oBACLL,EAAMttC,IAAI,OAAQzO,KAAKq8C,iBAAkBr8C,OAGnCA,MAxByBA,MA2BjCy8C,SAAU,SAAUV,GACnB,QAAKA,GAEG37C,EAAEopC,MAAMuS,IAAU/7C,MAAKq5C,SAGhCqD,UAAW,SAAUze,EAAQ7xB,GAC5B,IAAK,GAAIjI,KAAKnE,MAAKq5C,QAClBpb,EAAOj1B,KAAKoD,EAASpM,KAAKq5C,QAAQl1C,GAEnC,OAAOnE,OAGR28C,eAAgB,SAAUjkC,GACzB,IAAK1Y,KAAK85C,QAAW,MAAO95C,KAE5B0Y,GAAUtY,EAAEsF,QACX8pB,SAAS,EACTgsB,KAAK,GACH9iC,KAAY,GAAQ8W,SAAS,GAAQ9W,EAExC,IAAIkkC,GAAU58C,KAAKwwC,SACnBxwC,MAAK68C,cAAe,EACpB78C,KAAK88C,eAAiB,IAEtB,IAAIC,GAAU/8C,KAAKwwC,UACfwM,EAAYJ,EAAQnN,SAAS,GAAGrF,QAChCqQ,EAAYsC,EAAQtN,SAAS,GAAGrF,QAChCvxB,EAASmkC,EAAUzN,SAASkL,EAEhC,OAAK5hC,GAAO9N,GAAM8N,EAAO5N,GAErByN,EAAQ8W,SAAW9W,EAAQ8iC,IAC9Bx7C,KAAKy7C,MAAM5iC,IAGPH,EAAQ8iC,KACXx7C,KAAK07C,UAAU7iC,GAGhB7Y,KAAKyJ,KAAK,QAENiP,EAAQukC,iBACXxlC,aAAazX,KAAKk9C,YAClBl9C,KAAKk9C,WAAaj6C,WAAW7C,EAAEyf,KAAK7f,KAAKyJ,KAAMzJ,KAAM,WAAY,MAEjEA,KAAKyJ,KAAK,YAILzJ,KAAKyJ,KAAK,UAChBmzC,QAASA,EACTG,QAASA,KAtB2B/8C,MA2BtCm9C,WAAY,SAAUrmC,EAAMsmC,GAC3B,IAAKA,EAAgB,MAAOp9C,KAE5B,IAAIwa,GAAUxa,KAAK8W,GAAQ,GAAIsmC,GAAap9C,KAQ5C,OANAA,MAAKo5C,UAAUztC,KAAK6O,GAEhBxa,KAAK0Y,QAAQ5B,IAChB0D,EAAQ6iC,SAGFr9C,MAGRwB,OAAQ,WACHxB,KAAK85C,SACR95C,KAAKyJ,KAAK,UAGXzJ,KAAK+4C,YAAY,MAEjB,WAEQ/4C,MAAKs9C,WAAWC,SACtB,MAAOj8C,GACRtB,KAAKs9C,WAAWC,SAAWriB,EAU5B,MAPAl7B,MAAKw9C,cACDx9C,KAAKy9C,kBACRz9C,KAAKy9C,mBAGNz9C,KAAK09C,iBAEE19C,MAMRqwC,UAAW,WAGV,MAFArwC,MAAK29C,iBAED39C,KAAK88C,iBAAmB98C,KAAK49C,SACzB59C,KAAK88C,eAEN98C,KAAK69C,mBAAmB79C,KAAK89C,yBAGrCpE,QAAS,WACR,MAAO15C,MAAK+5C,OAGba,UAAW,WACV,GAAInK,GAASzwC,KAAK+9C,iBACdjI,EAAK91C,KAAKs3C,UAAU7G,EAAOH,iBAC3ByF,EAAK/1C,KAAKs3C,UAAU7G,EAAOF,cAE/B,OAAO,IAAInwC,GAAEi1C,aAAaS,EAAIC,IAG/BiI,WAAY,WACX,MAAOh+C,MAAK0Y,QAAQsjC,UAAY9gB,EAC9Bl7B,KAAKi+C,iBAAmB/iB,EAAY,EAAIl7B,KAAKi+C,eAC9Cj+C,KAAK0Y,QAAQsjC,SAGfkC,WAAY,WACX,MAAOl+C,MAAK0Y,QAAQ2iC,UAAYngB,EAC9Bl7B,KAAKm+C,iBAAmBjjB,EAAYvJ,EAAAA,EAAW3xB,KAAKm+C,eACrDn+C,KAAK0Y,QAAQ2iC,SAGfJ,cAAe,SAAUxK,EAAQ2N,EAAQ9oC,GACxCm7B,EAASrwC,EAAEq1C,aAAahF,EAExB,IAQI4N,GARAhpC,EAAOrV,KAAKg+C,cAAgBI,EAAS,EAAI,GACzC/C,EAAUr7C,KAAKk+C,aACf7wC,EAAOrN,KAAKwwC,UAEZ8N,EAAK7N,EAAO2F,eACZmI,EAAK9N,EAAO8F,eAEZiI,GAAe,CAGnBlpC,GAAUlV,EAAEivC,MAAM/5B,IAAY,EAAG,GAEjC,GACCD,KACAgpC,EAAar+C,KAAKk3C,QAAQqH,EAAIlpC,GAAMk6B,SAASvvC,KAAKk3C,QAAQoH,EAAIjpC,IAAO9M,IAAI+M,GACzEkpC,EAAgBJ,EAAqCC,EAAWtzC,EAAIsC,EAAKtC,GAAKszC,EAAWpzC,EAAIoC,EAAKpC,EAAzEoC,EAAK+R,SAASi/B,SAE/BG,GAAgBnpC,GAAQgmC,EAEjC,OAAImD,IAAgBJ,EACZ,KAGDA,EAAS/oC,EAAOA,EAAO,GAG/Bm7B,QAAS,WAQR,MAPKxwC,MAAKy+C,QAASz+C,KAAK68C,eACvB78C,KAAKy+C,MAAQ,GAAIr+C,GAAEgvC,MAClBpvC,KAAKs9C,WAAWoB,YAChB1+C,KAAKs9C,WAAWqB,cAEjB3+C,KAAK68C,cAAe,GAEd78C,KAAKy+C,MAAM7xC,SAGnBmxC,eAAgB,WACf,GAAIa,GAAe5+C,KAAK6+C,kBACxB,OAAO,IAAIz+C,GAAE+vC,OAAOyO,EAAcA,EAAar2C,IAAIvI,KAAKwwC,aAGzDsO,eAAgB,WAEf,MADA9+C,MAAK29C,iBACE39C,KAAK++C,sBAGbC,SAAU,WACT,MAAOh/C,MAAKi/C,QAGbC,aAAc,WACb,MAAOl/C,MAAKs9C,YAMblD,aAAc,SAAU+E,GACvB,GAAI3G,GAAMx4C,KAAK0Y,QAAQ8/B,GACvB,OAAOA,GAAInH,MAAM8N,GAAU3G,EAAInH,MAAMrxC,KAAK+5C,QAG3CqF,aAAc,SAAU/N,GACvB,MAAOrxC,MAAK+5C,MAAS/pC,KAAKonC,IAAI/F,GAASrhC,KAAKqvC,KAM7CnI,QAAS,SAAUC,EAAQ9hC,GAE1B,MADAA,GAAOA,IAAS6lB,EAAYl7B,KAAK+5C,MAAQ1kC,EAClCrV,KAAK0Y,QAAQ8/B,IAAIb,cAAcv3C,EAAEo0C,OAAO2C,GAAS9hC,IAGzDiiC,UAAW,SAAUjI,EAAOh6B,GAE3B,MADAA,GAAOA,IAAS6lB,EAAYl7B,KAAK+5C,MAAQ1kC,EAClCrV,KAAK0Y,QAAQ8/B,IAAIT,cAAc33C,EAAEivC,MAAMA,GAAQh6B,IAGvDwoC,mBAAoB,SAAUxO,GAC7B,GAAIuI,GAAiBx3C,EAAEivC,MAAMA,GAAO9mC,IAAIvI,KAAK8+C,iBAC7C,OAAO9+C,MAAKs3C,UAAUM,IAGvB0H,mBAAoB,SAAUnI,GAC7B,GAAIS,GAAiB53C,KAAKk3C,QAAQ92C,EAAEo0C,OAAO2C,IAAStH,QACpD,OAAO+H,GAAepI,UAAUxvC,KAAK8+C,mBAGtCS,2BAA4B,SAAUlQ,GACrC,MAAOjvC,GAAEivC,MAAMA,GAAOE,SAASvvC,KAAKw/C,mBAGrCC,2BAA4B,SAAUpQ,GACrC,MAAOjvC,GAAEivC,MAAMA,GAAO9mC,IAAIvI,KAAKw/C,mBAGhC9E,uBAAwB,SAAUrL,GACjC,GAAIqQ,GAAa1/C,KAAKu/C,2BAA2Bn/C,EAAEivC,MAAMA,GACzD,OAAOrvC,MAAK69C,mBAAmB6B,IAGhCnF,uBAAwB,SAAUpD,GACjC,MAAOn3C,MAAKy/C,2BAA2Bz/C,KAAKs/C,mBAAmBl/C,EAAEo0C,OAAO2C,MAGzEwI,2BAA4B,SAAUr+C,GACrC,MAAOlB,GAAEuzC,SAASiM,iBAAiBt+C,EAAGtB,KAAKs9C,aAG5CuC,uBAAwB,SAAUv+C,GACjC,MAAOtB,MAAKu/C,2BAA2Bv/C,KAAK2/C,2BAA2Br+C,KAGxEw+C,mBAAoB,SAAUx+C,GAC7B,MAAOtB,MAAK69C,mBAAmB79C,KAAK6/C,uBAAuBv+C,KAM5Ds3C,eAAgB,SAAU3rC,GACzB,GAAIglC,GAAYjyC,KAAKs9C,WAAal9C,EAAEoxC,QAAQjkC,IAAIN,EAEhD,KAAKglC,EACJ,KAAM,IAAI/iC,OAAM,2BACV,IAAI+iC,EAAUsL,SACpB,KAAM,IAAIruC,OAAM,wCAGjB+iC,GAAUsL,UAAW,GAGtB1E,YAAa,WACZ,GAAI5G,GAAYjyC,KAAKs9C,UAErBl9C,GAAEoxC,QAAQz5B,SAASk6B,EAAW,qBAC5B7xC,EAAE2uC,QAAQL,MAAQ,iBAAmB,KACrCtuC,EAAE2uC,QAAQhB,OAAS,kBAAoB,KACvC3tC,EAAE2uC,QAAQhC,MAAQ,iBAAmB,KACrC/sC,KAAK0Y,QAAQ+/B,cAAgB,qBAAuB,IAEtD,IAAI5iC,GAAWzV,EAAEoxC,QAAQC,SAASQ,EAAW,WAE5B,cAAbp8B,GAAwC,aAAbA,GAAwC,UAAbA,IACzDo8B,EAAU1rC,MAAMsP,SAAW,YAG5B7V,KAAK+/C,aAED//C,KAAKggD,iBACRhgD,KAAKggD,mBAIPD,WAAY,WACX,GAAIE,GAAQjgD,KAAKi/C,SAEjBj/C,MAAKkgD,SAAWD,EAAME,QAAUngD,KAAKogD,YAAY,mBAAoBpgD,KAAKs9C,YAE1Et9C,KAAKqgD,UAAYJ,EAAMK,SAAWtgD,KAAKogD,YAAY,oBAAqBpgD,KAAKkgD,UAC7ED,EAAMM,YAAcvgD,KAAKogD,YAAY,uBAAwBpgD,KAAKkgD,UAClED,EAAMO,WAAaxgD,KAAKogD,YAAY,uBACpCH,EAAMQ,YAAczgD,KAAKogD,YAAY,wBACrCH,EAAMS,WAAa1gD,KAAKogD,YAAY,uBACpCH,EAAMU,UAAY3gD,KAAKogD,YAAY,qBAEnC,IAAIQ,GAAW,oBAEV5gD,MAAK0Y,QAAQigC,sBACjBv4C,EAAEoxC,QAAQz5B,SAASkoC,EAAMS,WAAYE,GACrCxgD,EAAEoxC,QAAQz5B,SAASkoC,EAAMO,WAAYI,GACrCxgD,EAAEoxC,QAAQz5B,SAASkoC,EAAMU,UAAWC,KAItCR,YAAa,SAAU9sC,EAAW2+B,GACjC,MAAO7xC,GAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAW2+B,GAAajyC,KAAKi/C,OAAOsB,cAGpE/C,YAAa,WACZx9C,KAAKs9C,WAAW/6C,YAAYvC,KAAKkgD,WAGlC1G,WAAY,SAAUC,GACrBA,EAASA,EAAUr5C,EAAE+oC,KAAK/jC,QAAQq0C,GAAUA,GAAUA,KAEtD,KAAK,GAAIt1C,GAAI,EAAGklC,EAAMoQ,EAAOr1C,OAAQD,EAAIklC,EAAKllC,IAC7CnE,KAAK87C,SAASrC,EAAOt1C,KAOvBw1C,WAAY,SAAUT,EAAQ7jC,EAAMwrC,EAAmBC,GAEtD,GAAIC,GAAe/gD,KAAK+5C,QAAU1kC,CAE7ByrC,KACJ9gD,KAAKyJ,KAAK,aAENs3C,GACH/gD,KAAKyJ,KAAK,cAIZzJ,KAAK+5C,MAAQ1kC,EACbrV,KAAK88C,eAAiB5D,EAEtBl5C,KAAK++C,qBAAuB/+C,KAAKghD,oBAAoB9H,GAEhD2H,EAGJ7gD,KAAK++C,qBAAqBzP,KAAKtvC,KAAKw/C,kBAFpCp/C,EAAEoxC,QAAQ2B,YAAYnzC,KAAKkgD,SAAU,GAAI9/C,GAAEgvC,MAAM,EAAG,IAKrDpvC,KAAKo8C,kBAAoBp8C,KAAKu5C,cAE9B,IAAI0H,IAAWjhD,KAAK85C,OACpB95C,MAAK85C,SAAU,EAEf95C,KAAKyJ,KAAK,aAAcy3C,MAAOL,IAE3BI,IACHjhD,KAAKyJ,KAAK,QACVzJ,KAAK08C,UAAU18C,KAAKs8C,UAAWt8C,OAGhCA,KAAKyJ,KAAK,SAENs3C,GAAeD,IAClB9gD,KAAKyJ,KAAK,WAGXzJ,KAAKyJ,KAAK,WAAYy3C,MAAOL,KAG9BnF,UAAW,SAAU7iC,GACpBzY,EAAEoxC,QAAQ2B,YAAYnzC,KAAKkgD,SAAUlgD,KAAKw/C,iBAAiBjQ,SAAS12B,KAGrEsoC,aAAc,WACb,MAAOnhD,MAAKk+C,aAAel+C,KAAKg+C,cAGjC/B,kBAAmB,WAClB,GAAI93C,GACH63C,EAAUrqB,EAAAA,EACV0pB,IAAW1pB,EAAAA,GACXyvB,EAAcphD,KAAKmhD,cAEpB,KAAKh9C,IAAKnE,MAAKs5C,iBAAkB,CAChC,GAAIyC,GAAQ/7C,KAAKs5C,iBAAiBn1C,EAC7B6K,OAAM+sC,EAAMrjC,QAAQsjC,WACxBA,EAAUhsC,KAAK4kB,IAAIonB,EAASD,EAAMrjC,QAAQsjC;AAEtChtC,MAAM+sC,EAAMrjC,QAAQ2iC,WACxBA,EAAUrrC,KAAKC,IAAIorC,EAASU,EAAMrjC,QAAQ2iC,UAIxCl3C,IAAM+2B,EACTl7B,KAAKm+C,eAAiBn+C,KAAKi+C,eAAiB/iB,GAE5Cl7B,KAAKm+C,eAAiB9C,EACtBr7C,KAAKi+C,eAAiBjC,GAGnBoF,IAAgBphD,KAAKmhD,gBACxBnhD,KAAKyJ,KAAK,qBAIZkyC,oBAAqB,WACpB37C,KAAK47C,gBAAgB57C,KAAK0Y,QAAQsgC,YAGnC2E,eAAgB,WACf,IAAK39C,KAAK85C,QACT,KAAM,IAAI5qC,OAAM,mCAMlB6pC,YAAa,SAAUsI,GACtB,GAAKjhD,EAAEuzC,SAAP,CAEA0N,EAAQA,GAAS,KAEjBjhD,EAAEuzC,SAAS0N,GAAOrhD,KAAKs9C,WAAY,QAASt9C,KAAKshD,cAAethD,KAEhE,IAEImE,GAAGklC,EAFHjhC,GAAU,WAAY,YAAa,UAAW,aACpC,aAAc,YAAa,cAGzC,KAAKjE,EAAI,EAAGklC,EAAMjhC,EAAOhE,OAAQD,EAAIklC,EAAKllC,IACzC/D,EAAEuzC,SAAS0N,GAAOrhD,KAAKs9C,WAAYl1C,EAAOjE,GAAInE,KAAKuhD,gBAAiBvhD,KAGjEA,MAAK0Y,QAAQggC,aAChBt4C,EAAEuzC,SAAS0N,GAAOtyC,EAAQ,SAAU/O,KAAK84C,UAAW94C,QAItD84C,UAAW,WACV14C,EAAE+oC,KAAKmC,gBAAgBtrC,KAAKwhD,gBAC5BxhD,KAAKwhD,eAAiBphD,EAAE+oC,KAAKiC,iBACrB,WAAcprC,KAAK28C,gBAAgBM,iBAAiB,KAAWj9C,MAAM,EAAOA,KAAKs9C,aAG1FgE,cAAe,SAAUhgD,IACnBtB,KAAK85C,UAAax4C,EAAEmgD,aACfzhD,KAAK0hD,UAAY1hD,KAAK0hD,SAASC,SAC/B3hD,KAAK4hD,SAAY5hD,KAAK4hD,QAAQD,UAC5BvhD,EAAEuzC,SAASkO,SAASvgD,KAEhCtB,KAAKyJ,KAAK,YACVzJ,KAAKuhD,gBAAgBjgD,KAGtBigD,gBAAiB,SAAUjgD,GAC1B,GAAKtB,KAAK85C,UAAW15C,EAAEuzC,SAASkO,SAASvgD,GAAzC,CAEA,GAAIgE,GAAOhE,EAAEgE,IAIb,IAFAA,EAAiB,eAATA,EAAwB,YAAwB,eAATA,EAAwB,WAAaA,EAE/EtF,KAAKysC,kBAAkBnnC,GAA5B,CAEa,gBAATA,GACHlF,EAAEuzC,SAASz3B,eAAe5a,EAG3B,IAAIg5C,GAAiBt6C,KAAK2/C,2BAA2Br+C,GACjDo+C,EAAa1/C,KAAKu/C,2BAA2BjF,GAC7CnD,EAASn3C,KAAK69C,mBAAmB6B,EAErC1/C,MAAKyJ,KAAKnE,GACT6xC,OAAQA,EACRuI,WAAYA,EACZpF,eAAgBA,EAChB37B,cAAerd,OAIjB+6C,iBAAkB,WACjBr8C,KAAKo8C,oBACDp8C,KAAKu5C,iBAAmBv5C,KAAKo8C,mBAChCp8C,KAAKyJ,KAAK,mBAIZi0C,eAAgB,WACf,IAAK,GAAIv5C,GAAI,EAAGklC,EAAMrpC,KAAKo5C,UAAUh1C,OAAQD,EAAIklC,EAAKllC,IACrDnE,KAAKo5C,UAAUj1C,GAAGkN,WAIpBywC,UAAW,SAAUhmB,EAAU1vB,GAM9B,MALIpM,MAAK85C,QACRhe,EAAS9yB,KAAKoD,GAAWpM,KAAMA,MAE/BA,KAAK2f,GAAG,OAAQmc,EAAU1vB,GAEpBpM,MAGRs8C,UAAW,SAAUP,GACpBA,EAAMgG,MAAM/hD,MACZA,KAAKyJ,KAAK,YAAasyC,MAAOA,KAM/ByD,eAAgB,WACf,MAAOp/C,GAAEoxC,QAAQ+B,YAAYvzC,KAAKkgD,WAGnCtC,OAAQ,WACP,GAAIrsB,GAAMvxB,KAAKw/C,gBACf,OAAOjuB,KAAQA,EAAI0e,QAAQ,EAAG,KAG/B4O,iBAAkB,WACjB,MAAO7+C,MAAK8+C,iBAAiBvP,SAASvvC,KAAKw/C,mBAG5CwB,oBAAqB,SAAU9H,EAAQ7jC,GACtC,GAAIglC,GAAWr6C,KAAKwwC,UAAUd,UAAU,EAExC,OAAO1vC,MAAKk3C,QAAQgC,EAAQ7jC,GAAMm6B,UAAU6K,GAAUxK,UAGvDmS,uBAAwB,SAAU7K,EAAQ8K,EAASxH,GAClD,GAAIyH,GAAUliD,KAAKghD,oBAAoBvG,EAAWwH,GAAS15C,IAAIvI,KAAKw/C,iBACpE,OAAOx/C,MAAKk3C,QAAQC,EAAQ8K,GAASzS,UAAU0S,IAIhDpE,qBAAsB,WACrB,MAAO99C,MAAKu/C,2BAA2Bv/C,KAAKwwC,UAAUd,UAAU,KAIjEyS,iBAAkB,SAAUhL,GAC3B,MAAOn3C,MAAKs/C,mBAAmBnI,GAAQ5H,SAASvvC,KAAK89C,yBAItDjC,aAAc,SAAU3C,EAAQ7jC,EAAMo7B,GAErC,IAAKA,EAAU,MAAOyI,EAEtB,IAAIkJ,GAAcpiD,KAAKk3C,QAAQgC,EAAQ7jC,GACnCglC,EAAWr6C,KAAKwwC,UAAUf,SAAS,GACnC4S,EAAa,GAAIjiD,GAAE+vC,OAAOiS,EAAY7S,SAAS8K,GAAW+H,EAAY75C,IAAI8xC,IAC1ExhC,EAAS7Y,KAAKsiD,iBAAiBD,EAAY5R,EAAQp7B,EAEvD,OAAOrV,MAAKs3C,UAAU8K,EAAY75C,IAAIsQ,GAASxD,IAIhDktC,aAAc,SAAU1pC,EAAQ43B,GAC/B,IAAKA,EAAU,MAAO53B,EAEtB,IAAIwpC,GAAariD,KAAK+9C,iBAClByE,EAAY,GAAIpiD,GAAE+vC,OAAOkS,EAAWztB,IAAIrsB,IAAIsQ,GAASwpC,EAAWpyC,IAAI1H,IAAIsQ,GAE5E,OAAOA,GAAOtQ,IAAIvI,KAAKsiD,iBAAiBE,EAAW/R,KAIpD6R,iBAAkB,SAAUG,EAAUzJ,EAAW3jC,GAChD,GAAIqtC,GAAW1iD,KAAKk3C,QAAQ8B,EAAU5C,eAAgB/gC,GAAMk6B,SAASkT,EAAS7tB,KAC1E+tB,EAAW3iD,KAAKk3C,QAAQ8B,EAAUzC,eAAgBlhC,GAAMk6B,SAASkT,EAASxyC,KAE1E2yC,EAAK5iD,KAAK6iD,SAASH,EAAS33C,GAAI43C,EAAS53C,GACzC+3C,EAAK9iD,KAAK6iD,SAASH,EAASz3C,GAAI03C,EAAS13C,EAE7C,OAAO,IAAI7K,GAAEgvC,MAAMwT,EAAIE,IAGxBD,SAAU,SAAUp5B,EAAMs5B,GACzB,MAAOt5B,GAAOs5B,EAAQ,EACrB/yC,KAAKo6B,MAAM3gB,EAAOs5B,GAAS,EAC3B/yC,KAAKC,IAAI,EAAGD,KAAKkmB,KAAKzM,IAASzZ,KAAKC,IAAI,EAAGD,KAAK8nB,MAAMirB,KAGxDnJ,WAAY,SAAUvkC,GACrB,GAAIuf,GAAM50B,KAAKg+C,aACX/tC,EAAMjQ,KAAKk+C,YAEf,OAAOluC,MAAKC,IAAI2kB,EAAK5kB,KAAK4kB,IAAI3kB,EAAKoF,OAIrCjV,EAAE4N,IAAM,SAAUf,EAAIyL,GACrB,MAAO,IAAItY,GAAEm4C,IAAItrC,EAAIyL,IAStBtY,EAAE22C,WAAWiM,UACZ/L,aAAc,cAEdgM,QAAS,kBACTC,QAAS,QAEThM,QAAS,SAAUC,GAClB,GAAI/1C,GAAIhB,EAAE6zC,OAAOI,WACbpkC,EAAMjQ,KAAKi3C,aACX/C,EAAMlkC,KAAKC,IAAID,KAAK4kB,IAAI3kB,EAAKknC,EAAOjD,MAAOjkC,GAC3CvF,EAAI1K,KAAKkjD,QACTC,EAAKnjD,KAAKijD,QACVl4C,EAAIosC,EAAOhD,IAAM/yC,EAAIsJ,EACrBO,EAAIipC,EAAM9yC,EACVgiD,EAAMD,EAAKz4C,EACX24C,EAASrzC,KAAKggC,KAAK,EAAMoT,EAAMA,GAC/BE,EAAMD,EAASrzC,KAAKilC,IAAIhqC,EAE5Bq4C,GAAMtzC,KAAKm6B,KAAK,EAAImZ,IAAQ,EAAIA,GAAe,GAATD,EAEtC,IAAIE,GAAKvzC,KAAKqnC,IAAI,IAAkB,GAAVrnC,KAAKihB,GAAYhmB,IAAMq4C,CAGjD,OAFAr4C,IAAKP,EAAIsF,KAAKonC,IAAImM,GAEX,GAAInjD,GAAEgvC,MAAMrkC,EAAGE,IAGvBqsC,UAAW,SAAUjI,GAepB,IAdA,GAYIiU,GAZAliD,EAAIhB,EAAE6zC,OAAOK,WACb5pC,EAAI1K,KAAKkjD,QACTC,EAAKnjD,KAAKijD,QACV9O,EAAM9E,EAAMtkC,EAAI3J,EAAIsJ,EACpB04C,EAAMD,EAAKz4C,EACX24C,EAASrzC,KAAKggC,KAAK,EAAKoT,EAAMA,GAC9BG,EAAKvzC,KAAKwnC,KAAMnI,EAAMpkC,EAAIP,GAC1B84C,EAAOxzC,KAAKihB,GAAK,EAAK,EAAIjhB,KAAKunC,KAAKgM,GACpCE,EAAU,GACVC,EAAM,KACNv/C,EAAIs/C,EACJE,EAAO,GAGH3zC,KAAKkgC,IAAIyT,GAAQD,KAAWv/C,EAAI,GACvCm/C,EAAMD,EAASrzC,KAAKilC,IAAIuO,GACxBG,EAAQ3zC,KAAKihB,GAAK,EAAK,EAAIjhB,KAAKunC,KAAKgM,EACzBvzC,KAAKm6B,KAAK,EAAMmZ,IAAQ,EAAMA,GAAM,GAAMD,IAAWG,EACjEA,GAAOG,CAGR,OAAO,IAAIvjD,GAAE6zC,OAAOuP,EAAMpiD,EAAG+yC,KAM/B/zC,EAAEs3C,IAAIkM,SAAWxjD,EAAEsF,UAAWtF,EAAEs3C,KAC/BS,KAAM,YAENN,WAAYz3C,EAAE22C,WAAWiM,SAEzBlL,eAAiB,WAChB,GAAIh0C,GAAI1D,EAAE22C,WAAWiM,SACjBt4C,EAAI5G,EAAEo/C,QACN7R,EAAQ,IAAOrhC,KAAKihB,GAAKvmB,EAE7B,OAAO,IAAItK,GAAE2wC,eAAeM,EAAO,IAAMA,EAAO,SASlDjxC,EAAE+7C,UAAY/7C,EAAEmrC,MAAM7lC,QACrBmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElBnjB,SACCsjC,QAAS,EACTX,QAAS,GACTwI,SAAU,IACVC,WAAY,MACZC,aAAc,GACdC,YAAa,GACbC,WAAY,EACZhxC,QAAS,EAYTixC,qBAAsB9jD,EAAE2uC,QAAQzB,OAChC6W,eAAgB/jD,EAAE2uC,QAAQzB,QAG3BvQ,WAAY,SAAUnV,EAAKlP,GAC1BA,EAAUtY,EAAEkqC,WAAWtqC,KAAM0Y,GAGzBA,EAAQ0rC,cAAgBhkD,EAAE2uC,QAAQhB,QAAUr1B,EAAQ2iC,QAAU,IAEjE3iC,EAAQmrC,SAAW7zC,KAAK8nB,MAAMpf,EAAQmrC,SAAW,GACjDnrC,EAAQurC,aAEJvrC,EAAQsjC,QAAU,GACrBtjC,EAAQsjC,UAETh8C,KAAK0Y,QAAQ2iC,WAGV3iC,EAAQ+3B,SACX/3B,EAAQ+3B,OAASrwC,EAAEq1C,aAAa/8B,EAAQ+3B,SAGzCzwC,KAAKqkD,KAAOz8B,CAEZ,IAAIk8B,GAAa9jD,KAAK0Y,QAAQorC,UAEJ,iBAAfA,KACV9jD,KAAK0Y,QAAQorC,WAAaA,EAAWt/C,MAAM,MAI7Cu9C,MAAO,SAAU/zC,GAChBhO,KAAKskD,KAAOt2C,EACZhO,KAAKukD,UAAYv2C,EAAIw2C,cAGrBxkD,KAAK44C,iBAGL5qC,EAAI2R,IACH8kC,UAAazkD,KAAKm/B,OAClBulB,QAAW1kD,KAAK2kD,SACd3kD,MAECA,KAAKukD,WACRv2C,EAAI2R,IACHilC,SAAY5kD,KAAK6kD,aACjBC,QAAW9kD,KAAK+kD,cACd/kD,MAGCA,KAAK0Y,QAAQyrC,iBACjBnkD,KAAKglD,eAAiB5kD,EAAE+oC,KAAKQ,oBAAoB3pC,KAAK2kD,QAAS,IAAK3kD,MACpEgO,EAAI2R,GAAG,OAAQ3f,KAAKglD,eAAgBhlD,OAGrCA,KAAKm/B,SACLn/B,KAAK2kD,WAGNM,MAAO,SAAUj3C,GAEhB,MADAA,GAAI8tC,SAAS97C,MACNA,MAGRw8C,SAAU,SAAUxuC,GACnBhO,KAAKs9C,WAAWj0C,WAAW9G,YAAYvC,KAAKs9C,YAE5CtvC,EAAIS,KACHg2C,UAAazkD,KAAKm/B,OAClBulB,QAAW1kD,KAAK2kD,SACd3kD,MAECA,KAAKukD,WACRv2C,EAAIS,KACHm2C,SAAY5kD,KAAK6kD,aACjBC,QAAW9kD,KAAK+kD,cACd/kD,MAGCA,KAAK0Y,QAAQyrC,gBACjBn2C,EAAIS,IAAI,OAAQzO,KAAKglD,eAAgBhlD,MAGtCA,KAAKs9C,WAAa,KAClBt9C,KAAKskD,KAAO,MAGbY,aAAc,WACb,GAAIC,GAAOnlD,KAAKskD,KAAKrF,OAAOqB,QAO5B,OALItgD,MAAKs9C,aACR6H,EAAKrjD,YAAY9B,KAAKs9C,YACtBt9C,KAAKolD,eAAeD,EAAMn1C,KAAKC,MAGzBjQ,MAGRqlD,YAAa,WACZ,GAAIF,GAAOnlD,KAAKskD,KAAKrF,OAAOqB,QAO5B,OALItgD,MAAKs9C,aACR6H,EAAKpwC,aAAa/U,KAAKs9C,WAAY6H,EAAKt+C,YACxC7G,KAAKolD,eAAeD,EAAMn1C,KAAK4kB,MAGzB50B,MAGRslD,eAAgB,WACf,MAAOtlD,MAAK0Y,QAAQsrC,aAGrB9E,aAAc,WACb,MAAOl/C,MAAKs9C,YAGb/K,WAAY,SAAUt/B,GAOrB,MANAjT,MAAK0Y,QAAQzF,QAAUA,EAEnBjT,KAAKskD,MACRtkD,KAAKulD,iBAGCvlD,MAGRwlD,UAAW,SAAUt8B,GAIpB,MAHAlpB,MAAK0Y,QAAQwQ,OAASA,EACtBlpB,KAAKylD,gBAEEzlD,MAGR0lD,OAAQ,SAAU99B,EAAK+9B,GAOtB,MANA3lD,MAAKqkD,KAAOz8B,EAEP+9B,GACJ3lD,KAAK4lD,SAGC5lD,MAGR4lD,OAAQ,WAKP,MAJI5lD,MAAKskD,OACRtkD,KAAKm/B,QAAQ+hB,MAAM,IACnBlhD,KAAK2kD,WAEC3kD,MAGRylD,cAAe,WACVzlD,KAAKs9C,YAAct9C,KAAK0Y,QAAQwQ,SAAWgS,IAC9Cl7B,KAAKs9C,WAAW/2C,MAAM2iB,OAASlpB,KAAK0Y,QAAQwQ,SAI9Ck8B,eAAgB,SAAUD,EAAMU,GAE/B,GAEI38B,GAAQ/kB,EAAGklC,EAFXoQ,EAAS0L,EAAK/gC,SACd0hC,GAAcD,EAAQl0B,EAAAA,IAAWA,EAAAA,GAGrC,KAAKxtB,EAAI,EAAGklC,EAAMoQ,EAAOr1C,OAAQD,EAAIklC,EAAKllC,IAErCs1C,EAAOt1C,KAAOnE,KAAKs9C,aACtBp0B,EAAS9T,SAASqkC,EAAOt1C,GAAGoC,MAAM2iB,OAAQ,IAErCla,MAAMka,KACV48B,EAAaD,EAAQC,EAAY58B,IAKpClpB,MAAK0Y,QAAQwQ,OAASlpB,KAAKs9C,WAAW/2C,MAAM2iB,QACnCja,SAAS62C,GAAcA,EAAa,GAAKD,EAAQ,GAAG,IAG9DN,eAAgB,WACf,GAAIphD,GACA4hD,EAAQ/lD,KAAKgmD,MAEjB,IAAI5lD,EAAE2uC,QAAQhC,MACb,IAAK5oC,IAAK4hD,GACT3lD,EAAEoxC,QAAQe,WAAWwT,EAAM5hD,GAAInE,KAAK0Y,QAAQzF,aAG7C7S,GAAEoxC,QAAQe,WAAWvyC,KAAKs9C,WAAYt9C,KAAK0Y,QAAQzF,UAIrD2lC,eAAgB,WACf,GAAI0H,GAAWtgD,KAAKskD,KAAKrF,OAAOqB,QAEhC,KAAKtgD,KAAKs9C,WAAY,CAKrB,GAJAt9C,KAAKs9C,WAAal9C,EAAEoxC,QAAQzR,OAAO,MAAO,iBAE1C//B,KAAKylD,gBAEDzlD,KAAKukD,UAAW,CACnB,GAAIjxC,GAAY,wBAEhBtT,MAAKimD,UAAY7lD,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAWtT,KAAKs9C,YACzDt9C,KAAKkmD,eAAiB9lD,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAWtT,KAAKs9C,gBAG9Dt9C,MAAKkmD,eAAiBlmD,KAAKs9C,UAG5BgD,GAASx+C,YAAY9B,KAAKs9C,YAEtBt9C,KAAK0Y,QAAQzF,QAAU,GAC1BjT,KAAKulD,mBAKRpmB,OAAQ,SAAU79B,GACjB,IAAK,GAAIs4B,KAAO55B,MAAKgmD,OACpBhmD,KAAKyJ,KAAK,cAAe08C,KAAMnmD,KAAKgmD,OAAOpsB,IAG5C55B,MAAKgmD,UACLhmD,KAAKomD,aAAe,EAEhBpmD,KAAK0Y,QAAQ2tC,aAChBrmD,KAAKsmD,iBAGNtmD,KAAKkmD,eAAev/C,UAAY,GAE5B3G,KAAKukD,WAAajjD,GAAKA,EAAE4/C,MAC5BlhD,KAAKumD,iBAGNvmD,KAAK44C,kBAGN4N,aAAc,WACb,GAAIx4C,GAAMhO,KAAKskD,KACXjvC,EAAOrH,EAAI0rC,UAAY15C,KAAK0Y,QAAQurC,WACpCwC,EAAQzmD,KAAK0Y,QAAQguC,cACrB7C,EAAW7jD,KAAK0Y,QAAQmrC,QAM5B,OAJI4C,IAASpxC,EAAOoxC,IACnB5C,EAAW7zC,KAAKo6B,MAAMp8B,EAAIosC,aAAa/kC,GAAQrH,EAAIosC,aAAaqM,GAAS5C,IAGnEA,GAGRc,QAAS,WAER,GAAK3kD,KAAKskD,KAAV,CAEA,GAAIt2C,GAAMhO,KAAKskD,KACX7T,EAASziC,EAAI+vC,iBACb1oC,EAAOrH,EAAI0rC,UACXmK,EAAW7jD,KAAKwmD,cAEpB,MAAInxC,EAAOrV,KAAK0Y,QAAQ2iC,SAAWhmC,EAAOrV,KAAK0Y,QAAQsjC,SAAvD,CAIA,GAAI2K,GAAavmD,EAAEqwC,OACXA,EAAO7b,IAAI6a,SAASoU,GAAU/T,SAC9BW,EAAOxgC,IAAIw/B,SAASoU,GAAU/T,SAEtC9vC,MAAK4mD,uBAAuBD,IAExB3mD,KAAK0Y,QAAQwrC,sBAAwBlkD,KAAK0Y,QAAQ2tC,aACrDrmD,KAAK6mD,kBAAkBF,MAIzBC,uBAAwB,SAAUnW,GACjC,GAGI7sC,GAAGO,EAAGkrC,EAHNl4B,KACA+hC,EAASzI,EAAOJ,WAIpB,KAAKzsC,EAAI6sC,EAAO7b,IAAI3pB,EAAGrH,GAAK6sC,EAAOxgC,IAAIhF,EAAGrH,IACzC,IAAKO,EAAIssC,EAAO7b,IAAI7pB,EAAG5G,GAAKssC,EAAOxgC,IAAIlF,EAAG5G,IACzCkrC,EAAQ,GAAIjvC,GAAEgvC,MAAMjrC,EAAGP,GAEnB5D,KAAK8mD,oBAAoBzX,IAC5Bl4B,EAAMxL,KAAK0jC,EAKd,IAAI0X,GAAc5vC,EAAM/S,MAExB,IAAoB,IAAhB2iD,EAAJ,CAGA5vC,EAAMjJ,KAAK,SAAU1N,EAAGC,GACvB,MAAOD,GAAEuvC,WAAWmJ,GAAUz4C,EAAEsvC,WAAWmJ,IAG5C,IAAIrsC,GAAW3K,EAAS2G,wBASxB,KANK7I,KAAKomD,cACTpmD,KAAKyJ,KAAK,WAGXzJ,KAAKomD,cAAgBW,EAEhB5iD,EAAI,EAAGA,EAAI4iD,EAAa5iD,IAC5BnE,KAAKgnD,SAAS7vC,EAAMhT,GAAI0I,EAGzB7M,MAAKkmD,eAAepkD,YAAY+K,KAGjCi6C,oBAAqB,SAAUG,GAC9B,GAAKA,EAAUl8C,EAAI,IAAMk8C,EAAUh8C,IAAMjL,MAAKgmD,OAC7C,OAAO,CAGR,IAAIttC,GAAU1Y,KAAK0Y,OAEnB,KAAKA,EAAQwuC,gBAAiB,CAC7B,GAAIC,GAAQnnD,KAAKonD,iBAGjB,IAAK1uC,EAAQ2uC,SAAWJ,EAAUl8C,EAAI,GAAKk8C,EAAUl8C,GAAKo8C,EAAMp8C,IAC/Dk8C,EAAUh8C,EAAI,GAAKg8C,EAAUh8C,GAAKk8C,EAAMl8C,EAAK,OAAO,EAGtD,GAAIyN,EAAQ+3B,OAAQ,CACnB,GAAIoT,GAAWnrC,EAAQmrC,SACnByD,EAAUL,EAAUtX,WAAWkU,GAC/B0D,EAAUD,EAAQ/+C,KAAKs7C,EAAUA,IACjCvF,EAAKt+C,KAAKskD,KAAKhN,UAAUgQ,GACzB/I,EAAKv+C,KAAKskD,KAAKhN,UAAUiQ,EAS7B,IALK7uC,EAAQwuC,iBAAoBxuC,EAAQ2uC,SACxC/I,EAAKA,EAAGt3B,OACRu3B,EAAKA,EAAGv3B,SAGJtO,EAAQ+3B,OAAOC,YAAY4N,EAAIC,IAAQ,OAAO,EAGpD,OAAO,GAGRsI,kBAAmB,SAAUpW,GAC5B,GAAI+W,GAAMz8C,EAAGE,EAAG2uB,CAEhB,KAAKA,IAAO55B,MAAKgmD,OAChBwB,EAAO5tB,EAAIp1B,MAAM,KACjBuG,EAAIqK,SAASoyC,EAAK,GAAI,IACtBv8C,EAAImK,SAASoyC,EAAK,GAAI,KAGlBz8C,EAAI0lC,EAAO7b,IAAI7pB,GAAKA,EAAI0lC,EAAOxgC,IAAIlF,GAAKE,EAAIwlC,EAAO7b,IAAI3pB,GAAKA,EAAIwlC,EAAOxgC,IAAIhF,IAC9EjL,KAAKynD,YAAY7tB,IAKpB6tB,YAAa,SAAU7tB,GACtB,GAAIusB,GAAOnmD,KAAKgmD,OAAOpsB,EAEvB55B,MAAKyJ,KAAK,cAAe08C,KAAMA,EAAMv+B,IAAKu+B,EAAKz+B,MAE3C1nB,KAAK0Y,QAAQ2tC,YAChBjmD,EAAEoxC,QAAQx5B,YAAYmuC,EAAM,uBAC5BnmD,KAAKsmD,aAAa36C,KAAKw6C,IAEbA,EAAK98C,aAAerJ,KAAKkmD,gBACnClmD,KAAKkmD,eAAe3jD,YAAY4jD,GAI5B/lD,EAAE2uC,QAAQ5B,UACdgZ,EAAK33B,OAAS,KACd23B,EAAKz+B,IAAMtnB,EAAE+oC,KAAKuB,qBAGZ1qC,MAAKgmD,OAAOpsB,IAGpBotB,SAAU,SAAUC,EAAWhV,GAC9B,GAAIyV,GAAU1nD,KAAK2nD,YAAYV,GAG3Bd,EAAOnmD,KAAK4nD,UAOhBxnD,GAAEoxC,QAAQ2B,YAAYgT,EAAMuB,EAAStnD,EAAE2uC,QAAQ9B,QAE/CjtC,KAAKgmD,OAAOiB,EAAUl8C,EAAI,IAAMk8C,EAAUh8C,GAAKk7C,EAE/CnmD,KAAK6nD,UAAU1B,EAAMc,GAEjBd,EAAK98C,aAAerJ,KAAKkmD,gBAC5BjU,EAAUnwC,YAAYqkD,IAIxB2B,eAAgB,WAEf,GAAIpvC,GAAU1Y,KAAK0Y,QACfrD,EAAOrV,KAAKskD,KAAK5K,SAQrB,OANIhhC,GAAQqvC,cACX1yC,EAAOqD,EAAQ2iC,QAAUhmC,GAG1BA,GAAQqD,EAAQurC,WAETvrC,EAAQguC,cAAgB12C,KAAK4kB,IAAIvf,EAAMqD,EAAQguC,eAAiBrxC,GAGxEsyC,YAAa,SAAUV,GACtB,GAAIjU,GAAShzC,KAAKskD,KAAKxF,iBACnB+E,EAAW7jD,KAAKwmD,cAEpB,OAAOS,GAAUtX,WAAWkU,GAAUtU,SAASyD,IAKhDgV,WAAY,SAAUf,GACrB,MAAO7mD,GAAE+oC,KAAKlQ,SAASj5B,KAAKqkD,KAAMjkD,EAAEsF,QACnC7F,EAAGG,KAAKioD,cAAchB,GACtB78C,EAAG68C,EAAU78C,EACbW,EAAGk8C,EAAUl8C,EACbE,EAAGg8C,EAAUh8C,GACXjL,KAAK0Y,WAGT0uC,gBAAiB,WAChB,GAAI5O,GAAMx4C,KAAKskD,KAAK5rC,QAAQ8/B,IACxBnrC,EAAOmrC,EAAIhI,QAAQxwC,KAAKskD,KAAK5K,UACjC,OAAOrsC,GAAKoiC,SAASzvC,KAAKwmD,gBAAgB1W,UAG3CoY,iBAAkB,SAAUjB,GAE3B,GAAIE,GAAQnnD,KAAKonD,iBAGZpnD,MAAK0Y,QAAQwuC,iBAAoBlnD,KAAK0Y,QAAQ2uC,SAClDJ,EAAUl8C,GAAMk8C,EAAUl8C,EAAIo8C,EAAMp8C,EAAKo8C,EAAMp8C,GAAKo8C,EAAMp8C,GAGvD/K,KAAK0Y,QAAQyvC,MAChBlB,EAAUh8C,EAAIk8C,EAAMl8C,EAAIg8C,EAAUh8C,EAAI,GAGvCg8C,EAAU78C,EAAIpK,KAAK8nD,kBAGpBG,cAAe,SAAUhB,GACxB,GAAIziC,GAAQxU,KAAKkgC,IAAI+W,EAAUl8C,EAAIk8C,EAAUh8C,GAAKjL,KAAK0Y,QAAQorC,WAAW1/C,MAC1E,OAAOpE,MAAK0Y,QAAQorC,WAAWt/B,IAGhCojC,SAAU,WACT,GAAI5nD,KAAK0Y,QAAQ2tC,YAAcrmD,KAAKsmD,aAAaliD,OAAS,EAAG,CAC5D,GAAI+hD,GAAOnmD,KAAKsmD,aAAax9C,KAE7B,OADA9I,MAAKooD,WAAWjC,GACTA,EAER,MAAOnmD,MAAKqoD,eAIbD,WAAY,aAEZC,YAAa,WACZ,GAAIlC,GAAO/lD,EAAEoxC,QAAQzR,OAAO,MAAO,eAcnC,OAbAomB,GAAK5/C,MAAM3E,MAAQukD,EAAK5/C,MAAM1E,OAAS7B,KAAKwmD,eAAiB,KAC7DL,EAAKmC,WAAa,KAElBnC,EAAKoC,cAAgBpC,EAAKqC,YAAcpoD,EAAE+oC,KAAKY,QAE3C3pC,EAAE2uC,QAAQhC,OAAS/sC,KAAK0Y,QAAQzF,UAAYioB,GAC/C96B,EAAEoxC,QAAQe,WAAW4T,EAAMnmD,KAAK0Y,QAAQzF,SAIrC7S,EAAE2uC,QAAQG,iBACbiX,EAAK5/C,MAAMkiD,yBAA2B,UAEhCtC,GAGR0B,UAAW,SAAU1B,EAAMc,GAC1Bd,EAAKuC,OAAU1oD,KACfmmD,EAAK33B,OAAUxuB,KAAK2oD,YACpBxC,EAAKyC,QAAU5oD,KAAK6oD,aAEpB7oD,KAAKkoD,iBAAiBjB,GACtBd,EAAKz+B,IAAU1nB,KAAKgoD,WAAWf,GAE/BjnD,KAAKyJ,KAAK,iBACT08C,KAAMA,EACNv+B,IAAKu+B,EAAKz+B,OAIZohC,YAAa,WACZ9oD,KAAKomD,eAEDpmD,KAAKukD,WACRnkD,EAAEoxC,QAAQz5B,SAAS/X,KAAKkmD,eAAgB,yBAGpClmD,KAAKomD,eACTpmD,KAAKyJ,KAAK,QAENzJ,KAAKukD,YAER9sC,aAAazX,KAAK+oD,qBAClB/oD,KAAK+oD,oBAAsB9lD,WAAW7C,EAAEyf,KAAK7f,KAAKumD,eAAgBvmD,MAAO,QAK5E2oD,YAAa,WACZ,GAAI5M,GAAQ/7C,KAAK0oD,MAGb1oD,MAAK0nB,MAAQtnB,EAAE+oC,KAAKuB,gBACvBtqC,EAAEoxC,QAAQz5B,SAAS/X,KAAM,uBAEzB+7C,EAAMtyC,KAAK,YACV08C,KAAMnmD,KACN4nB,IAAK5nB,KAAK0nB,OAIZq0B,EAAM+M,eAGPD,aAAc,WACb,GAAI9M,GAAQ/7C,KAAK0oD,MAEjB3M,GAAMtyC,KAAK,aACV08C,KAAMnmD,KACN4nB,IAAK5nB,KAAK0nB,KAGX,IAAIshC,GAASjN,EAAMrjC,QAAQqrC,YACvBiF,KACHhpD,KAAK0nB,IAAMshC,GAGZjN,EAAM+M,iBAIR1oD,EAAE6oD,UAAY,SAAUrhC,EAAKlP,GAC5B,MAAO,IAAItY,GAAE+7C,UAAUv0B,EAAKlP,IAQ7BtY,EAAE+7C,UAAU+M,IAAM9oD,EAAE+7C,UAAUz2C,QAE7ByjD,kBACCC,QAAS,MACTC,QAAS,SACT54C,QAAS,QACTgpC,OAAQ,GACR6P,OAAQ,GACRC,OAAQ,aACRC,aAAa,GAGdzsB,WAAY,SAAUnV,EAAKlP,GAE1B1Y,KAAKqkD,KAAOz8B,CAEZ,IAAI6hC,GAAYrpD,EAAEsF,UAAW1F,KAAKmpD,kBAC9BtF,EAAWnrC,EAAQmrC,UAAY7jD,KAAK0Y,QAAQmrC,QAE5CnrC,GAAQ0rC,cAAgBhkD,EAAE2uC,QAAQhB,OACrC0b,EAAU7nD,MAAQ6nD,EAAU5nD,OAAoB,EAAXgiD,EAErC4F,EAAU7nD,MAAQ6nD,EAAU5nD,OAASgiD,CAGtC,KAAK,GAAI1/C,KAAKuU,GAER1Y,KAAK0Y,QAAQlN,eAAerH,IAAY,QAANA,IACtCslD,EAAUtlD,GAAKuU,EAAQvU,GAIzBnE,MAAKypD,UAAYA,EAEjBrpD,EAAEkqC,WAAWtqC,KAAM0Y,IAGpBqpC,MAAO,SAAU/zC,GAEhBhO,KAAK0pD,KAAO1pD,KAAK0Y,QAAQ8/B,KAAOxqC,EAAI0K,QAAQ8/B,IAE5Cx4C,KAAK2pD,YAAcvjD,WAAWpG,KAAKypD,UAAUh5C,QAE7C,IAAIm5C,GAAgB5pD,KAAK2pD,aAAe,IAAM,MAAQ,KACtD3pD,MAAKypD,UAAUG,GAAiB5pD,KAAK0pD,KAAKvR,KAE1C/3C,EAAE+7C,UAAU9wC,UAAU02C,MAAM/4C,KAAKhJ,KAAMgO,IAGxCg6C,WAAY,SAAUf,GAErB,GAAIj5C,GAAMhO,KAAKskD,KACXT,EAAW7jD,KAAK0Y,QAAQmrC,SAExByD,EAAUL,EAAUtX,WAAWkU,GAC/B0D,EAAUD,EAAQ/+C,KAAKs7C,EAAUA,IAEjCvF,EAAKt+C,KAAK0pD,KAAKxS,QAAQlpC,EAAIspC,UAAUgQ,EAASL,EAAU78C,IACxDm0C,EAAKv+C,KAAK0pD,KAAKxS,QAAQlpC,EAAIspC,UAAUiQ,EAASN,EAAU78C,IACxDy/C,EAAO7pD,KAAK2pD,aAAe,KAAO3pD,KAAK0pD,OAAStpD,EAAEs3C,IAAIY,UACjDiG,EAAGtzC,EAAGqzC,EAAGvzC,EAAGuzC,EAAGrzC,EAAGszC,EAAGxzC,GAAGgD,KAAK,MAC7BuwC,EAAGvzC,EAAGwzC,EAAGtzC,EAAGszC,EAAGxzC,EAAGuzC,EAAGrzC,GAAG8C,KAAK,KAElC6Z,EAAMxnB,EAAE+oC,KAAKlQ,SAASj5B,KAAKqkD,MAAOxkD,EAAGG,KAAKioD,cAAchB,IAE5D,OAAOr/B,GAAMxnB,EAAE+oC,KAAKoB,eAAevqC,KAAKypD,UAAW7hC,GAAK,GAAQ,SAAWiiC,GAG5EC,UAAW,SAAUtlB,EAAQmhB,GAQ5B,MANAvlD,GAAEsF,OAAO1F,KAAKypD,UAAWjlB,GAEpBmhB,GACJ3lD,KAAK4lD,SAGC5lD,QAITI,EAAE6oD,UAAUc,IAAM,SAAUniC,EAAKlP,GAChC,MAAO,IAAItY,GAAE+7C,UAAU+M,IAAIthC,EAAKlP,IASjCtY,EAAE+7C,UAAU6N,OAAS5pD,EAAE+7C,UAAUz2C,QAChCgT,SACCjJ,OAAO,GAGRstB,WAAY,SAAUrkB,GACrBtY,EAAEkqC,WAAWtqC,KAAM0Y,IAGpBktC,OAAQ,WACH5lD,KAAKskD,OACRtkD,KAAKm/B,QAAQ+hB,MAAM,IACnBlhD,KAAK2kD,UAGN,KAAK,GAAIxgD,KAAKnE,MAAKgmD,OAClBhmD,KAAKiqD,YAAYjqD,KAAKgmD,OAAO7hD,GAE9B,OAAOnE,OAGRiqD,YAAa,SAAU9D,GACtBnmD,KAAKkqD,SAAS/D,EAAMA,EAAKgE,WAAYnqD,KAAKskD,KAAKvK,QAGhDsO,YAAa,WACZ,GAAIlC,GAAO/lD,EAAEoxC,QAAQzR,OAAO,SAAU,eAGtC,OAFAomB,GAAKvkD,MAAQukD,EAAKtkD,OAAS7B,KAAK0Y,QAAQmrC,SACxCsC,EAAKoC,cAAgBpC,EAAKqC,YAAcpoD,EAAE+oC,KAAKY,QACxCoc,GAGR0B,UAAW,SAAU1B,EAAMc,GAC1Bd,EAAKuC,OAAS1oD,KACdmmD,EAAKgE,WAAalD,EAElBjnD,KAAKiqD,YAAY9D,GAEZnmD,KAAK0Y,QAAQjJ,OACjBzP,KAAKoqD,UAAUjE,IAIjB+D,SAAU,aAIVE,UAAW,SAAUjE,GACpBnmD,KAAK2oD,YAAY3/C,KAAKm9C,MAKxB/lD,EAAE6oD,UAAUoB,OAAS,SAAU3xC,GAC9B,MAAO,IAAItY,GAAE+7C,UAAU6N,OAAOtxC,IAQ/BtY,EAAEkqD,aAAelqD,EAAEmrC,MAAM7lC,QACxBmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElBnjB,SACCzF,QAAS,GAGV8pB,WAAY,SAAUnV,EAAK6oB,EAAQ/3B,GAClC1Y,KAAKqkD,KAAOz8B,EACZ5nB,KAAKuqD,QAAUnqD,EAAEq1C,aAAahF,GAE9BrwC,EAAEkqC,WAAWtqC,KAAM0Y,IAGpBqpC,MAAO,SAAU/zC,GAChBhO,KAAKskD,KAAOt2C,EAEPhO,KAAKwqD,QACTxqD,KAAKyqD,aAGNz8C,EAAIixC,OAAOwB,YAAY3+C,YAAY9B,KAAKwqD,QAExCx8C,EAAI2R,GAAG,YAAa3f,KAAKm/B,OAAQn/B,MAE7BgO,EAAI0K,QAAQwjC,eAAiB97C,EAAE2uC,QAAQP,OAC1CxgC,EAAI2R,GAAG,WAAY3f,KAAK6kD,aAAc7kD,MAGvCA,KAAKm/B,UAGNqd,SAAU,SAAUxuC,GACnBA,EAAIgxC,WAAWyB,YAAYl+C,YAAYvC,KAAKwqD,QAE5Cx8C,EAAIS,IAAI,YAAazO,KAAKm/B,OAAQn/B,MAE9BgO,EAAI0K,QAAQwjC,eACfluC,EAAIS,IAAI,WAAYzO,KAAK6kD,aAAc7kD,OAIzCilD,MAAO,SAAUj3C,GAEhB,MADAA,GAAI8tC,SAAS97C,MACNA,MAGRuyC,WAAY,SAAUt/B,GAGrB,MAFAjT,MAAK0Y,QAAQzF,QAAUA,EACvBjT,KAAKulD,iBACEvlD,MAIRklD,aAAc,WAIb,MAHIllD,MAAKwqD,QACRxqD,KAAKskD,KAAKrF,OAAOwB,YAAY3+C,YAAY9B,KAAKwqD,QAExCxqD,MAGRqlD,YAAa,WACZ,GAAIF,GAAOnlD,KAAKskD,KAAKrF,OAAOwB,WAI5B,OAHIzgD,MAAKwqD,QACRrF,EAAKpwC,aAAa/U,KAAKwqD,OAAQrF,EAAKt+C,YAE9B7G,MAGR0lD,OAAQ,SAAU99B,GACjB5nB,KAAKqkD,KAAOz8B,EACZ5nB,KAAKwqD,OAAO9iC,IAAM1nB,KAAKqkD,MAGxBiB,eAAgB,WACf,MAAOtlD,MAAK0Y,QAAQsrC,aAGrByG,WAAY,WACXzqD,KAAKwqD,OAASpqD,EAAEoxC,QAAQzR,OAAO,MAAO,uBAElC//B,KAAKskD,KAAK5rC,QAAQwjC,eAAiB97C,EAAE2uC,QAAQP,MAChDpuC,EAAEoxC,QAAQz5B,SAAS/X,KAAKwqD,OAAQ,yBAEhCpqD,EAAEoxC,QAAQz5B,SAAS/X,KAAKwqD,OAAQ,qBAGjCxqD,KAAKulD,iBAGLnlD,EAAEsF,OAAO1F,KAAKwqD,QACblC,WAAY,KACZC,cAAenoD,EAAE+oC,KAAKY,QACtBye,YAAapoD,EAAE+oC,KAAKY,QACpBvb,OAAQpuB,EAAEyf,KAAK7f,KAAK0qD,aAAc1qD,MAClC0nB,IAAK1nB,KAAKqkD,QAIZQ,aAAc,SAAUvjD,GACvB,GAAI0M,GAAMhO,KAAKskD,KACX3hC,EAAQ3iB,KAAKwqD,OACbnZ,EAAQrjC,EAAIosC,aAAa94C,EAAE+T,MAC3BipC,EAAKt+C,KAAKuqD,QAAQnU,eAClBmI,EAAKv+C,KAAKuqD,QAAQhU,eAElB2L,EAAUl0C,EAAIg0C,uBAAuB1D,EAAIh9C,EAAE+T,KAAM/T,EAAE43C,QACnD7rC,EAAOW,EAAIg0C,uBAAuBzD,EAAIj9C,EAAE+T,KAAM/T,EAAE43C,QAAQ1J,UAAU0S,GAClElP,EAASkP,EAAQ5S,KAAKjiC,EAAKuiC,YAAY,IAAW,EAAI,EAAIyB,IAE9D1uB,GAAMpc,MAAMnG,EAAEoxC,QAAQ8B,WACdlzC,EAAEoxC,QAAQqB,mBAAmBG,GAAU,UAAY3B,EAAQ,MAGpElS,OAAQ,WACP,GAAIxc,GAAU3iB,KAAKwqD,OACftI,EAAUliD,KAAKskD,KAAKhF,mBAAmBt/C,KAAKuqD,QAAQnU,gBACpD/oC,EAAOrN,KAAKskD,KAAKhF,mBAAmBt/C,KAAKuqD,QAAQhU,gBAAgB/G,UAAU0S,EAE/E9hD,GAAEoxC,QAAQ2B,YAAYxwB,EAAOu/B,GAE7Bv/B,EAAMpc,MAAM3E,MAASyL,EAAKtC,EAAI,KAC9B4X,EAAMpc,MAAM1E,OAASwL,EAAKpC,EAAI,MAG/By/C,aAAc,WACb1qD,KAAKyJ,KAAK,SAGX87C,eAAgB,WACfnlD,EAAEoxC,QAAQe,WAAWvyC,KAAKwqD,OAAQxqD,KAAK0Y,QAAQzF,YAIjD7S,EAAEuqD,aAAe,SAAU/iC,EAAK6oB,EAAQ/3B,GACvC,MAAO,IAAItY,GAAEkqD,aAAa1iC,EAAK6oB,EAAQ/3B,IAQxCtY,EAAEwqD,KAAOxqD,EAAEmrC,MAAM7lC,QAChBgT,SAYCpF,UAAW,IAGZypB,WAAY,SAAUrkB,GACrBtY,EAAEkqC,WAAWtqC,KAAM0Y,IAGpBmyC,WAAY,SAAUC,GACrB,MAAO9qD,MAAK+qD,YAAY,OAAQD,IAGjCE,aAAc,SAAUF,GACvB,MAAO9qD,MAAK+qD,YAAY,SAAUD,IAGnCC,YAAa,SAAUj0C,EAAMg0C,GAC5B,GAAIpjC,GAAM1nB,KAAKirD,YAAYn0C,EAE3B,KAAK4Q,EAAK,CACT,GAAa,SAAT5Q,EACH,KAAM,IAAI5H,OAAM,kDAEjB,OAAO,MAGR,GAAIg8C,EAQJ,OAJCA,GAHIJ,GAA+B,QAApBA,EAAQvnB,QAGjBvjC,KAAKmrD,WAAWzjC,EAAKojC,GAFrB9qD,KAAKmrD,WAAWzjC,GAIvB1nB,KAAKorD,eAAeF,EAAKp0C,GAElBo0C,GAGRE,eAAgB,SAAUF,EAAKp0C,GAC9B,GAEIu0C,GAFA3yC,EAAU1Y,KAAK0Y,QACfrL,EAAOjN,EAAEivC,MAAM32B,EAAQ5B,EAAO,QAIjCu0C,GADY,WAATv0C,EACM1W,EAAEivC,MAAM32B,EAAQ4yC,cAAgB5yC,EAAQ6yC,YAExCnrD,EAAEivC,MAAM32B,EAAQ6yC,aAGrBF,GAAUh+C,IACdg+C,EAASh+C,EAAKoiC,SAAS,GAAG,IAG3Byb,EAAI53C,UAAY,kBAAoBwD,EAAO,IAAM4B,EAAQpF,UAErD+3C,IACHH,EAAI3kD,MAAMilD,YAAeH,EAAOtgD,EAAK,KACrCmgD,EAAI3kD,MAAM2P,WAAem1C,EAAOpgD,EAAK,MAGlCoC,IACH69C,EAAI3kD,MAAM3E,MAASyL,EAAKtC,EAAI,KAC5BmgD,EAAI3kD,MAAM1E,OAASwL,EAAKpC,EAAI,OAI9BkgD,WAAY,SAAUzjC,EAAKkc,GAG1B,MAFAA,GAAKA,GAAM1hC,EAASR,cAAc,OAClCkiC,EAAGlc,IAAMA,EACFkc,GAGRqnB,YAAa,SAAUn0C,GACtB,MAAI1W,GAAE2uC,QAAQhB,QAAU/tC,KAAK0Y,QAAQ5B,EAAO,aACpC9W,KAAK0Y,QAAQ5B,EAAO,aAErB9W,KAAK0Y,QAAQ5B,EAAO,UAI7B1W,EAAEqrD,KAAO,SAAU/yC,GAClB,MAAO,IAAItY,GAAEwqD,KAAKlyC,IAQnBtY,EAAEwqD,KAAKc,QAAUtrD,EAAEwqD,KAAKllD,QAEvBgT,SACCizC,UAAW,GAAI,IACfJ,YAAa,GAAI,IACjBK,aAAc,GAAG,IAEjBC,YAAa,GAAI,KAGlBZ,YAAa,SAAUn0C,GACtB,GAAI8iB,GAAM9iB,EAAO,KAEjB,IAAI9W,KAAK0Y,QAAQkhB,GAChB,MAAO55B,MAAK0Y,QAAQkhB,EAGjBx5B,GAAE2uC,QAAQhB,QAAmB,SAATj3B,IACvBA,GAAQ,MAGT,IAAIg1C,GAAO1rD,EAAEwqD,KAAKc,QAAQK,SAE1B,KAAKD,EACJ,KAAM,IAAI58C,OAAM,iEAGjB,OAAO48C,GAAO,WAAah1C,EAAO,UAIpC1W,EAAEwqD,KAAKc,QAAQK,UAAa,WAC3B,GAGI5nD,GAAGklC,EAAK3hB,EAAKjL,EAASqvC,EAHtBE,EAAU9pD,EAAS+E,qBAAqB,UACxCglD,EAAY,yCAIhB,KAAK9nD,EAAI,EAAGklC,EAAM2iB,EAAQ5nD,OAAQD,EAAIklC,EAAKllC,IAI1C,GAHAujB,EAAMskC,EAAQ7nD,GAAGujB,IACjBjL,EAAUiL,EAAIlH,MAAMyrC,GAInB,MADAH,GAAOpkC,EAAIljB,MAAMynD,GAAW,IACpBH,EAAOA,EAAO,IAAM,IAAM,YAUrC1rD,EAAE8rD,OAAS9rD,EAAEmrC,MAAM7lC,QAElBmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElBnjB,SACC+yC,KAAM,GAAIrrD,GAAEwqD,KAAKc,QACjBlpB,MAAO,GACP4R,IAAK,GACL+X,WAAW,EACXC,WAAW,EACXC,UAAU,EACVC,aAAc,EACdr5C,QAAS,EACTs5C,aAAa,EACbC,WAAY,KAGbzvB,WAAY,SAAUoa,EAAQz+B,GAC7BtY,EAAEkqC,WAAWtqC,KAAM0Y,GACnB1Y,KAAKysD,QAAUrsD,EAAEo0C,OAAO2C,IAGzB4K,MAAO,SAAU/zC,GAChBhO,KAAKskD,KAAOt2C,EAEZA,EAAI2R,GAAG,YAAa3f,KAAKmxB,OAAQnxB,MAEjCA,KAAK0sD,YACL1sD,KAAKmxB,SACLnxB,KAAKyJ,KAAK,OAENuE,EAAI0K,QAAQwjC,eAAiBluC,EAAI0K,QAAQigC,qBAC5C3qC,EAAI2R,GAAG,WAAY3f,KAAK6kD,aAAc7kD,OAIxCilD,MAAO,SAAUj3C,GAEhB,MADAA,GAAI8tC,SAAS97C,MACNA,MAGRw8C,SAAU,SAAUxuC,GACfhO,KAAK0hD,UACR1hD,KAAK0hD,SAASrwC,UAGfrR,KAAK2sD,cACL3sD,KAAK4sD,gBAEL5sD,KAAKyJ,KAAK,UAEVuE,EAAIS,KACHg2C,UAAazkD,KAAKmxB,OAClByzB,SAAY5kD,KAAK6kD,cACf7kD,MAEHA,KAAKskD,KAAO,MAGbuI,UAAW,WACV,MAAO7sD,MAAKysD,SAGbK,UAAW,SAAU3V,GAKpB,MAJAn3C,MAAKysD,QAAUrsD,EAAEo0C,OAAO2C,GAExBn3C,KAAKmxB,SAEEnxB,KAAKyJ,KAAK,QAAU0tC,OAAQn3C,KAAKysD,WAGzCM,gBAAiB,SAAUl0C,GAI1B,MAHA7Y,MAAK0Y,QAAQ4zC,aAAezzC,EAC5B7Y,KAAKmxB,SAEEnxB,MAGRgtD,QAAS,SAAUvB,GAalB,MAXAzrD,MAAK0Y,QAAQ+yC,KAAOA,EAEhBzrD,KAAKskD,OACRtkD,KAAK0sD,YACL1sD,KAAKmxB,UAGFnxB,KAAKitD,QACRjtD,KAAKktD,UAAUltD,KAAKitD,QAGdjtD,MAGRmxB,OAAQ,WACP,GAAInxB,KAAKmtD,MAAO,CACf,GAAI57B,GAAMvxB,KAAKskD,KAAKhF,mBAAmBt/C,KAAKysD,SAASriB,OACrDpqC,MAAKotD,QAAQ77B,GAGd,MAAOvxB,OAGR0sD,UAAW,WACV,GAAIh0C,GAAU1Y,KAAK0Y,QACf1K,EAAMhO,KAAKskD,KACX+I,EAAar/C,EAAI0K,QAAQwjC,eAAiBluC,EAAI0K,QAAQigC,oBACtD2U,EAAaD,EAAY,wBAA0B,oBAEnD5B,EAAO/yC,EAAQ+yC,KAAKZ,WAAW7qD,KAAKmtD,OACvCI,GAAU,CAGP9B,KAASzrD,KAAKmtD,QACbntD,KAAKmtD,OACRntD,KAAK2sD,cAENY,GAAU,EAEN70C,EAAQ8pB,QACXipB,EAAKjpB,MAAQ9pB,EAAQ8pB,OAGlB9pB,EAAQ07B,MACXqX,EAAKrX,IAAM17B,EAAQ07B,MAIrBh0C,EAAEoxC,QAAQz5B,SAAS0zC,EAAM6B,GAErB50C,EAAQ2zC,WACXZ,EAAK5xC,SAAW,KAGjB7Z,KAAKmtD,MAAQ1B,EAEbzrD,KAAKwtD,mBAED90C,EAAQ6zC,aACXnsD,EAAEuzC,SACAh0B,GAAG8rC,EAAM,YAAazrD,KAAKytD,cAAeztD,MAC1C2f,GAAG8rC,EAAM,WAAYzrD,KAAK0tD,aAAc1tD,KAG3C,IAAI2tD,GAAYj1C,EAAQ+yC,KAAKT,aAAahrD,KAAK4tD,SAC9CC,GAAY,CAETF,KAAc3tD,KAAK4tD,UACtB5tD,KAAK4sD,gBACLiB,GAAY,GAGTF,GACHvtD,EAAEoxC,QAAQz5B,SAAS41C,EAAWL,GAE/BttD,KAAK4tD,QAAUD,EAGXj1C,EAAQzF,QAAU,GACrBjT,KAAKulD,gBAIN,IAAItF,GAAQjgD,KAAKskD,KAAKrF,MAElBsO,IACHtN,EAAMS,WAAW5+C,YAAY9B,KAAKmtD,OAG/BQ,GAAaE,GAChB5N,EAAMO,WAAW1+C,YAAY9B,KAAK4tD,UAIpCjB,YAAa,WACR3sD,KAAK0Y,QAAQ6zC,aAChBnsD,EAAEuzC,SACGllC,IAAIzO,KAAKmtD,MAAO,YAAantD,KAAKytD,eAClCh/C,IAAIzO,KAAKmtD,MAAO,WAAYntD,KAAK0tD,cAGvC1tD,KAAKskD,KAAKrF,OAAOyB,WAAWn+C,YAAYvC,KAAKmtD,OAE7CntD,KAAKmtD,MAAQ,MAGdP,cAAe,WACV5sD,KAAK4tD,SACR5tD,KAAKskD,KAAKrF,OAAOuB,WAAWj+C,YAAYvC,KAAK4tD,SAE9C5tD,KAAK4tD,QAAU,MAGhBR,QAAS,SAAU77B,GAClBnxB,EAAEoxC,QAAQ2B,YAAYnzC,KAAKmtD,MAAO57B,GAE9BvxB,KAAK4tD,SACRxtD,EAAEoxC,QAAQ2B,YAAYnzC,KAAK4tD,QAASr8B,GAGrCvxB,KAAK8tD,QAAUv8B,EAAItmB,EAAIjL,KAAK0Y,QAAQ4zC,aAEpCtsD,KAAK0tD,gBAGNjI,cAAe,SAAU5sC,GACxB7Y,KAAKmtD,MAAM5mD,MAAM2iB,OAASlpB,KAAK8tD,QAAUj1C,GAG1CgsC,aAAc,SAAUkJ,GACvB,GAAIx8B,GAAMvxB,KAAKskD,KAAKtC,uBAAuBhiD,KAAKysD,QAASsB,EAAI14C,KAAM04C,EAAI7U,QAAQ9O,OAE/EpqC,MAAKotD,QAAQ77B,IAGdi8B,iBAAkB,WAEjB,GAAKxtD,KAAK0Y,QAAQyzC,UAAlB,CAIA,GAAIV,GAAOzrD,KAAKmtD,MACZ/kD,GAAU,WAAY,YAAa,YAAa,WAAY,cAEhEhI,GAAEoxC,QAAQz5B,SAAS0zC,EAAM,qBACzBrrD,EAAEuzC,SAASh0B,GAAG8rC,EAAM,QAASzrD,KAAKshD,cAAethD,MACjDI,EAAEuzC,SAASh0B,GAAG8rC,EAAM,WAAYzrD,KAAKguD,YAAahuD,KAElD,KAAK,GAAImE,GAAI,EAAGA,EAAIiE,EAAOhE,OAAQD,IAClC/D,EAAEuzC,SAASh0B,GAAG8rC,EAAMrjD,EAAOjE,GAAInE,KAAKuhD,gBAAiBvhD,KAGlDI,GAAE6tD,QAAQC,aACbluD,KAAK0hD,SAAW,GAAIthD,GAAE6tD,QAAQC,WAAWluD,MAErCA,KAAK0Y,QAAQ0zC,WAChBpsD,KAAK0hD,SAASrE,YAKjBiE,cAAe,SAAUhgD,GACxB,GAAI6sD,GAAanuD,KAAK0hD,UAAY1hD,KAAK0hD,SAASC,SAE5C3hD,KAAKysC,kBAAkBnrC,EAAEgE,OAAS6oD,IACrC/tD,EAAEuzC,SAAS92B,gBAAgBvb,GAGxB6sD,IAEEnuD,KAAK0hD,UAAa1hD,KAAK0hD,SAAS0M,WAAapuD,KAAKskD,KAAK5C,WAAY1hD,KAAKskD,KAAK5C,SAASC,UAE5F3hD,KAAKyJ,KAAKnI,EAAEgE,MACXqZ,cAAerd,EACf61C,OAAQn3C,KAAKysD,WAIfuB,YAAa,SAAU1sD,GACJ,KAAdA,EAAE8b,SACLpd,KAAKyJ,KAAK,SACTkV,cAAerd,EACf61C,OAAQn3C,KAAKysD,WAKhBlL,gBAAiB,SAAUjgD,GAE1BtB,KAAKyJ,KAAKnI,EAAEgE,MACXqZ,cAAerd,EACf61C,OAAQn3C,KAAKysD,UAKC,gBAAXnrD,EAAEgE,MAA0BtF,KAAKysC,kBAAkBnrC,EAAEgE,OACxDlF,EAAEuzC,SAASz3B,eAAe5a,GAEZ,cAAXA,EAAEgE,KACLlF,EAAEuzC,SAAS92B,gBAAgBvb,GAE3BlB,EAAEuzC,SAASz3B,eAAe5a,IAI5BixC,WAAY,SAAUt/B,GAMrB,MALAjT,MAAK0Y,QAAQzF,QAAUA,EACnBjT,KAAKskD,MACRtkD,KAAKulD,iBAGCvlD,MAGRulD,eAAgB,WACfnlD,EAAEoxC,QAAQe,WAAWvyC,KAAKmtD,MAAOntD,KAAK0Y,QAAQzF,SAC1CjT,KAAK4tD,SACRxtD,EAAEoxC,QAAQe,WAAWvyC,KAAK4tD,QAAS5tD,KAAK0Y,QAAQzF,UAIlDw6C,cAAe,WACdztD,KAAKylD,cAAczlD,KAAK0Y,QAAQ8zC,aAGjCkB,aAAc,WACb1tD,KAAKylD,cAAc,MAIrBrlD,EAAEiuD,OAAS,SAAUlX,EAAQz+B,GAC5B,MAAO,IAAItY,GAAE8rD,OAAO/U,EAAQz+B,IAS7BtY,EAAEkuD,QAAUluD,EAAEwqD,KAAKllD,QAClBgT,SACCizC,UAAW,GAAI,IAOfr4C,UAAW,mBACXsF,MAAM,GAGPiyC,WAAY,SAAUC,GACrB,GAAIjc,GAAOic,GAA+B,QAApBA,EAAQvnB,QAAqBunB,EAAU5oD,EAASR,cAAc,OAChFgX,EAAU1Y,KAAK0Y,OAcnB,OAZIA,GAAQE,QAAS,EACpBi2B,EAAIloC,UAAY+R,EAAQE,KAExBi2B,EAAIloC,UAAY,GAGb+R,EAAQ61C,QACX1f,EAAItoC,MAAMioD,oBACA91C,EAAQ61C,MAAMxjD,EAAK,OAAU2N,EAAQ61C,MAAMtjD,EAAK,MAG3DjL,KAAKorD,eAAevc,EAAK,QAClBA,GAGRmc,aAAc,WACb,MAAO,SAIT5qD,EAAEquD,QAAU,SAAU/1C,GACrB,MAAO,IAAItY,GAAEkuD,QAAQ51C,IAQtBtY,EAAEm4C,IAAIxM,cACL2iB,mBAAmB,IAGpBtuD,EAAEuuD,MAAQvuD,EAAEmrC,MAAM7lC,QACjBmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElBnjB,SACCk2C,SAAU,GACV/c,SAAU,IAEVgd,SAAS,EACTC,aAAa,EACbj2C,QAAS,EAAG,GACZk2C,gBAAiB,EAAG,GAGpBC,YAAY,EACZ17C,UAAW,GACX4oC,eAAe,GAGhBnf,WAAY,SAAUrkB,EAAS4K,GAC9BljB,EAAEkqC,WAAWtqC,KAAM0Y,GAEnB1Y,KAAKivD,QAAU3rC,EACftjB,KAAKukD,UAAYnkD,EAAE2uC,QAAQP,OAASxuC,KAAK0Y,QAAQwjC,cACjDl8C,KAAKkvD,SAAU,GAGhBnN,MAAO,SAAU/zC,GAChBhO,KAAKskD,KAAOt2C,EAEPhO,KAAKs9C,YACTt9C,KAAK64C,aAGN,IAAIsW,GAAWnhD,EAAI0K,QAAQ+/B,aAEvB0W,IACH/uD,EAAEoxC,QAAQe,WAAWvyC,KAAKs9C,WAAY,GAEvCtvC,EAAIixC,OAAO0B,UAAU7+C,YAAY9B,KAAKs9C,YAEtCtvC,EAAI2R,GAAG3f,KAAKovD,aAAcpvD,MAE1BA,KAAKmxB,SAEDg+B,GACH/uD,EAAEoxC,QAAQe,WAAWvyC,KAAKs9C,WAAY,GAGvCt9C,KAAKyJ,KAAK,QAEVuE,EAAIvE,KAAK,aAAc4lD,MAAOrvD,OAE1BA,KAAKivD,SACRjvD,KAAKivD,QAAQxlD,KAAK,aAAc4lD,MAAOrvD,QAIzCilD,MAAO,SAAUj3C,GAEhB,MADAA,GAAI8tC,SAAS97C,MACNA,MAGRsvD,OAAQ,SAAUthD,GAEjB,MADAA,GAAIuhD,UAAUvvD,MACPA,MAGRw8C,SAAU,SAAUxuC,GACnBA,EAAIixC,OAAO0B,UAAUp+C,YAAYvC,KAAKs9C,YAEtCl9C,EAAE+oC,KAAKY,QAAQ/pC,KAAKs9C,WAAWp3C,aAE/B8H,EAAIS,IAAIzO,KAAKovD,aAAcpvD,MAEvBgO,EAAI0K,QAAQ+/B,eACfr4C,EAAEoxC,QAAQe,WAAWvyC,KAAKs9C,WAAY,GAGvCt9C,KAAKskD,KAAO,KAEZtkD,KAAKyJ,KAAK,SAEVuE,EAAIvE,KAAK,cAAe4lD,MAAOrvD,OAE3BA,KAAKivD,SACRjvD,KAAKivD,QAAQxlD,KAAK,cAAe4lD,MAAOrvD,QAI1C6sD,UAAW,WACV,MAAO7sD,MAAKysD,SAGbK,UAAW,SAAU3V,GAMpB,MALAn3C,MAAKysD,QAAUrsD,EAAEo0C,OAAO2C,GACpBn3C,KAAKskD,OACRtkD,KAAKwvD,kBACLxvD,KAAKyvD,cAECzvD,MAGR0vD,WAAY,WACX,MAAO1vD,MAAK2vD,UAGbC,WAAY,SAAUjsB,GAGrB,MAFA3jC,MAAK2vD,SAAWhsB,EAChB3jC,KAAKmxB,SACEnxB,MAGRmxB,OAAQ,WACFnxB,KAAKskD,OAEVtkD,KAAKs9C,WAAW/2C,MAAMmiB,WAAa,SAEnC1oB,KAAK6vD,iBACL7vD,KAAK8vD,gBACL9vD,KAAKwvD,kBAELxvD,KAAKs9C,WAAW/2C,MAAMmiB,WAAa,GAEnC1oB,KAAKyvD,eAGNL,WAAY,WACX,GAAIhnD,IACHq8C,UAAWzkD,KAAKwvD,gBAajB,OAVIxvD,MAAKukD,YACRn8C,EAAOw8C,SAAW5kD,KAAK+vD,iBAEpB,gBAAkB/vD,MAAK0Y,QAAU1Y,KAAK0Y,QAAQs3C,aAAehwD,KAAKskD,KAAK5rC,QAAQg2C,qBAClFtmD,EAAO6nD,SAAWjwD,KAAKkwD,QAEpBlwD,KAAK0Y,QAAQs2C,aAChB5mD,EAAOs8C,QAAU1kD,KAAKyvD,YAGhBrnD,GAGR8nD,OAAQ,WACHlwD,KAAKskD,MACRtkD,KAAKskD,KAAK6L,WAAWnwD,OAIvB64C,YAAa,WACZ,GAICiW,GAJGsB,EAAS,gBACZC,EAAiBD,EAAS,IAAMpwD,KAAK0Y,QAAQpF,UAAY,kBAChDtT,KAAKukD,UAAY,WAAa,QACvCtS,EAAYjyC,KAAKs9C,WAAal9C,EAAEoxC,QAAQzR,OAAO,MAAOswB,EAGnDrwD,MAAK0Y,QAAQo2C,cAChBA,EAAc9uD,KAAKswD,aACXlwD,EAAEoxC,QAAQzR,OAAO,IAAKqwB,EAAS,gBAAiBne,GACxD6c,EAAY/0C,KAAO,SACnB+0C,EAAYnoD,UAAY,SACxBvG,EAAEuzC,SAAS4c,wBAAwBzB,GAEnC1uD,EAAEuzC,SAASh0B,GAAGmvC,EAAa,QAAS9uD,KAAKwwD,oBAAqBxwD,MAG/D,IAAIywD,GAAUzwD,KAAK0wD,SACXtwD,EAAEoxC,QAAQzR,OAAO,MAAOqwB,EAAS,mBAAoBne,EAC7D7xC,GAAEuzC,SAAS4c,wBAAwBE,GAEnCzwD,KAAK2wD,aAAevwD,EAAEoxC,QAAQzR,OAAO,MAAOqwB,EAAS,WAAYK,GAEjErwD,EAAEuzC,SAASid,yBAAyB5wD,KAAK2wD,cACzCvwD,EAAEuzC,SAASh0B,GAAG8wC,EAAS,cAAerwD,EAAEuzC,SAAS92B,iBAEjD7c,KAAK6wD,cAAgBzwD,EAAEoxC,QAAQzR,OAAO,MAAOqwB,EAAS,iBAAkBne,GACxEjyC,KAAK8wD,KAAO1wD,EAAEoxC,QAAQzR,OAAO,MAAOqwB,EAAS,OAAQpwD,KAAK6wD,gBAG3DhB,eAAgB,WACf,GAAK7vD,KAAK2vD,SAAV,CAEA,GAA6B,gBAAlB3vD,MAAK2vD,SACf3vD,KAAK2wD,aAAahqD,UAAY3G,KAAK2vD,aAC7B,CACN,KAAO3vD,KAAK2wD,aAAaI,iBACxB/wD,KAAK2wD,aAAapuD,YAAYvC,KAAK2wD,aAAa9pD,WAEjD7G,MAAK2wD,aAAa7uD,YAAY9B,KAAK2vD,UAEpC3vD,KAAKyJ,KAAK,mBAGXqmD,cAAe,WACd,GAAI7d,GAAYjyC,KAAK2wD,aACjBpqD,EAAQ0rC,EAAU1rC,KAEtBA,GAAM3E,MAAQ,GACd2E,EAAMyqD,WAAa,QAEnB,IAAIpvD,GAAQqwC,EAAU/rC,WACtBtE,GAAQoO,KAAK4kB,IAAIhzB,EAAO5B,KAAK0Y,QAAQm5B,UACrCjwC,EAAQoO,KAAKC,IAAIrO,EAAO5B,KAAK0Y,QAAQk2C,UAErCroD,EAAM3E,MAASA,EAAQ,EAAK,KAC5B2E,EAAMyqD,WAAa,GAEnBzqD,EAAM1E,OAAS,EAEf,IAAIA,GAASowC,EAAU9rC,aACnB8qD,EAAYjxD,KAAK0Y,QAAQu4C,UACzBC,EAAgB,wBAEhBD,IAAapvD,EAASovD,GACzB1qD,EAAM1E,OAASovD,EAAY,KAC3B7wD,EAAEoxC,QAAQz5B,SAASk6B,EAAWif,IAE9B9wD,EAAEoxC,QAAQx5B,YAAYi6B,EAAWif,GAGlClxD,KAAKmxD,gBAAkBnxD,KAAKs9C,WAAWp3C,aAGxCspD,gBAAiB,WAChB,GAAKxvD,KAAKskD,KAAV,CAEA,GAAI/yB,GAAMvxB,KAAKskD,KAAKhF,mBAAmBt/C,KAAKysD,SACxC16B,EAAW/xB,KAAKukD,UAChB1rC,EAASzY,EAAEivC,MAAMrvC,KAAK0Y,QAAQG,OAE9BkZ,IACH3xB,EAAEoxC,QAAQ2B,YAAYnzC,KAAKs9C,WAAY/rB,GAGxCvxB,KAAKoxD,kBAAoBv4C,EAAO5N,GAAK8mB,EAAW,EAAIR,EAAItmB,GACxDjL,KAAKqxD,gBAAkBrhD,KAAKo6B,MAAMpqC,KAAKmxD,gBAAkB,GAAKt4C,EAAO9N,GAAKgnB,EAAW,EAAIR,EAAIxmB,GAG7F/K,KAAKs9C,WAAW/2C,MAAM+qD,OAAStxD,KAAKoxD,iBAAmB,KACvDpxD,KAAKs9C,WAAW/2C,MAAMkjB,KAAOzpB,KAAKqxD,eAAiB,OAGpDtB,eAAgB,SAAUhC,GACzB,GAAIx8B,GAAMvxB,KAAKskD,KAAKtC,uBAAuBhiD,KAAKysD,QAASsB,EAAI14C,KAAM04C,EAAI7U,OAEvE94C,GAAEoxC,QAAQ2B,YAAYnzC,KAAKs9C,WAAY/rB,IAGxCk+B,WAAY,WACX,GAAKzvD,KAAK0Y,QAAQm2C,QAAlB,CAEA,GAAI7gD,GAAMhO,KAAKskD,KACXiN,EAAkBvxD,KAAKs9C,WAAWn3C,aAClCqrD,EAAiBxxD,KAAKmxD,gBAEtBM,EAAW,GAAIrxD,GAAEgvC,MAAMpvC,KAAKqxD,gBAAiBE,EAAkBvxD,KAAKoxD,iBAEpEpxD,MAAKukD,WACRkN,EAASniB,KAAKlvC,EAAEoxC,QAAQ+B,YAAYvzC,KAAKs9C,YAG1C,IAAIoU,GAAe1jD,EAAIyxC,2BAA2BgS,GAC9Cn8C,EAAUlV,EAAEivC,MAAMrvC,KAAK0Y,QAAQq2C,gBAC/BlU,EAAYz6C,EAAEivC,MAAMrvC,KAAK0Y,QAAQi5C,uBAAyBr8C,GAC1DylC,EAAY36C,EAAEivC,MAAMrvC,KAAK0Y,QAAQk5C,2BAA6Bt8C,GAC9DjI,EAAOW,EAAIwiC,UACXoS,EAAK,EACLE,EAAK,CAEL4O,GAAa3mD,EAAIymD,EAAiBzW,EAAUhwC,EAAIsC,EAAKtC,IACxD63C,EAAK8O,EAAa3mD,EAAIymD,EAAiBnkD,EAAKtC,EAAIgwC,EAAUhwC,GAEvD2mD,EAAa3mD,EAAI63C,EAAK/H,EAAU9vC,EAAI,IACvC63C,EAAK8O,EAAa3mD,EAAI8vC,EAAU9vC,GAE7B2mD,EAAazmD,EAAIsmD,EAAkBxW,EAAU9vC,EAAIoC,EAAKpC,IACzD63C,EAAK4O,EAAazmD,EAAIsmD,EAAkBlkD,EAAKpC,EAAI8vC,EAAU9vC,GAExDymD,EAAazmD,EAAI63C,EAAKjI,EAAU5vC,EAAI,IACvC63C,EAAK4O,EAAazmD,EAAI4vC,EAAU5vC,IAG7B23C,GAAME,IACT90C,EACKvE,KAAK,gBACLgyC,OAAOmH,EAAIE,MAIlB0N,oBAAqB,SAAUlvD,GAC9BtB,KAAKkwD,SACL9vD,EAAEuzC,SAASn8B,KAAKlW,MAIlBlB,EAAEivD,MAAQ,SAAU32C,EAAS4K,GAC5B,MAAO,IAAIljB,GAAEuuD,MAAMj2C,EAAS4K,IAI7BljB,EAAEm4C,IAAIlkB,SACLk7B,UAAW,SAAUF,EAAOlY,EAAQz+B,GAGnC,GAFA1Y,KAAKmwD,eAECd,YAAiBjvD,GAAEuuD,OAAQ,CAChC,GAAIhrB,GAAU0rB,CAEdA,GAAQ,GAAIjvD,GAAEuuD,MAAMj2C,GACfo0C,UAAU3V,GACVyY,WAAWjsB,GAKjB,MAHA0rB,GAAMH,SAAU,EAEhBlvD,KAAKitD,OAASoC,EACPrvD,KAAK87C,SAASuT,IAGtBc,WAAY,SAAUd,GASrB,MARKA,IAASA,IAAUrvD,KAAKitD,SAC5BoC,EAAQrvD,KAAKitD,OACbjtD,KAAKitD,OAAS,MAEXoC,IACHrvD,KAAKu8C,YAAY8S,GACjBA,EAAMH,SAAU,GAEVlvD,QASTI,EAAE8rD,OAAO73B,SACRk7B,UAAW,WAMV,MALIvvD,MAAKitD,QAAUjtD,KAAKskD,OAAStkD,KAAKskD,KAAK7H,SAASz8C,KAAKitD,UACxDjtD,KAAKitD,OAAOH,UAAU9sD,KAAKysD,SAC3BzsD,KAAKskD,KAAKiL,UAAUvvD,KAAKitD,SAGnBjtD,MAGRmwD,WAAY,WAIX,MAHInwD,MAAKitD,QACRjtD,KAAKitD,OAAOiD,SAENlwD,MAGR6xD,YAAa,WAQZ,MAPI7xD,MAAKitD,SACJjtD,KAAKitD,OAAOiC,QACflvD,KAAKmwD,aAELnwD,KAAKuvD,aAGAvvD,MAGRktD,UAAW,SAAUvpB,EAASjrB,GAC7B,GAAI2yC,GAASjrD,EAAEivC,MAAMrvC,KAAK0Y,QAAQ+yC,KAAK/yC,QAAQkzC,cAAgB,EAAG,GA0BlE,OAxBAP,GAASA,EAAO9iD,IAAInI,EAAEuuD,MAAMtjD,UAAUqN,QAAQG,QAE1CH,GAAWA,EAAQG,SACtBwyC,EAASA,EAAO9iD,IAAImQ,EAAQG,SAG7BH,EAAUtY,EAAEsF,QAAQmT,OAAQwyC,GAAS3yC,GAEhC1Y,KAAK8xD,sBACT9xD,KACK2f,GAAG,QAAS3f,KAAK6xD,YAAa7xD,MAC9B2f,GAAG,SAAU3f,KAAKmwD,WAAYnwD,MAC9B2f,GAAG,OAAQ3f,KAAK+xD,WAAY/xD,MACjCA,KAAK8xD,qBAAsB,GAGxBnuB,YAAmBvjC,GAAEuuD,OACxBvuD,EAAEkqC,WAAW3G,EAASjrB,GACtB1Y,KAAKitD,OAAStpB,GAEd3jC,KAAKitD,OAAS,GAAI7sD,GAAEuuD,MAAMj2C,EAAS1Y,MACjC4vD,WAAWjsB,GAGP3jC,MAGRgyD,gBAAiB,SAAUruB,GAI1B,MAHI3jC,MAAKitD,QACRjtD,KAAKitD,OAAO2C,WAAWjsB,GAEjB3jC,MAGRiyD,YAAa,WASZ,MARIjyD,MAAKitD,SACRjtD,KAAKitD,OAAS,KACdjtD,KACKyO,IAAI,QAASzO,KAAK6xD,YAAa7xD,MAC/ByO,IAAI,SAAUzO,KAAKmwD,WAAYnwD,MAC/ByO,IAAI,OAAQzO,KAAK+xD,WAAY/xD,MAClCA,KAAK8xD,qBAAsB,GAErB9xD,MAGRkyD,SAAU,WACT,MAAOlyD,MAAKitD,QAGb8E,WAAY,SAAUzwD,GACrBtB,KAAKitD,OAAOH,UAAUxrD,EAAE61C,WAU1B/2C,EAAE+xD,WAAa/xD,EAAEmrC,MAAM7lC,QACtBq3B,WAAY,SAAU0c,GACrBz5C,KAAKq5C,UAEL,IAAIl1C,GAAGklC,CAEP,IAAIoQ,EACH,IAAKt1C,EAAI,EAAGklC,EAAMoQ,EAAOr1C,OAAQD,EAAIklC,EAAKllC,IACzCnE,KAAK87C,SAASrC,EAAOt1C,KAKxB23C,SAAU,SAAUC,GACnB,GAAI9uC,GAAKjN,KAAKoyD,WAAWrW,EAQzB,OANA/7C,MAAKq5C,QAAQpsC,GAAM8uC,EAEf/7C,KAAKskD,MACRtkD,KAAKskD,KAAKxI,SAASC,GAGb/7C,MAGRu8C,YAAa,SAAUR,GACtB,GAAI9uC,GAAK8uC,IAAS/7C,MAAKq5C,QAAU0C,EAAQ/7C,KAAKoyD,WAAWrW,EAQzD,OANI/7C,MAAKskD,MAAQtkD,KAAKq5C,QAAQpsC,IAC7BjN,KAAKskD,KAAK/H,YAAYv8C,KAAKq5C,QAAQpsC,UAG7BjN,MAAKq5C,QAAQpsC,GAEbjN,MAGRy8C,SAAU,SAAUV,GACnB,QAAKA,IAEGA,IAAS/7C,MAAKq5C,SAAWr5C,KAAKoyD,WAAWrW,IAAU/7C,MAAKq5C,UAGjEgZ,YAAa,WAEZ,MADAryD,MAAK08C,UAAU18C,KAAKu8C,YAAav8C,MAC1BA,MAGRs0B,OAAQ,SAAUg+B,GACjB,GACInuD,GAAG43C,EADH3f,EAAO1wB,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,EAGjD,KAAK3J,IAAKnE,MAAKq5C,QACd0C,EAAQ/7C,KAAKq5C,QAAQl1C,GAEjB43C,EAAMuW,IACTvW,EAAMuW,GAAY1vD,MAAMm5C,EAAO3f,EAIjC,OAAOp8B,OAGR+hD,MAAO,SAAU/zC,GAChBhO,KAAKskD,KAAOt2C,EACZhO,KAAK08C,UAAU1uC,EAAI8tC,SAAU9tC,IAG9BwuC,SAAU,SAAUxuC,GACnBhO,KAAK08C,UAAU1uC,EAAIuuC,YAAavuC,GAChChO,KAAKskD,KAAO,MAGbW,MAAO,SAAUj3C,GAEhB,MADAA,GAAI8tC,SAAS97C,MACNA,MAGR08C,UAAW,SAAUze,EAAQ7xB,GAC5B,IAAK,GAAIjI,KAAKnE,MAAKq5C,QAClBpb,EAAOj1B,KAAKoD,EAASpM,KAAKq5C,QAAQl1C,GAEnC,OAAOnE,OAGRuyD,SAAU,SAAUtlD,GACnB,MAAOjN,MAAKq5C,QAAQpsC,IAGrBulD,UAAW,WACV,GAAI/Y,KAEJ,KAAK,GAAIt1C,KAAKnE,MAAKq5C,QAClBI,EAAO9tC,KAAK3L,KAAKq5C,QAAQl1C,GAE1B,OAAOs1C,IAGR+L,UAAW,SAAUt8B,GACpB,MAAOlpB,MAAKs0B,OAAO,YAAapL,IAGjCkpC,WAAY,SAAUrW,GACrB,MAAO37C,GAAEopC,MAAMuS,MAIjB37C,EAAEqyD,WAAa,SAAUhZ,GACxB,MAAO,IAAIr5C,GAAE+xD,WAAW1Y,IASzBr5C,EAAEsyD,aAAetyD,EAAE+xD,WAAWzsD,QAC7BmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElB+P,SACC+mB,OAAQ,gFAGT7W,SAAU,SAAUC,GACnB,MAAI/7C,MAAKy8C,SAASV,GACV/7C,MAGJ,MAAQ+7C,IACXA,EAAMp8B,GAAGvf,EAAEsyD,aAAaC,OAAQ3yD,KAAK4yD,gBAAiB5yD,MAGvDI,EAAE+xD,WAAW9mD,UAAUywC,SAAS9yC,KAAKhJ,KAAM+7C,GAEvC/7C,KAAK6yD,eAAiB9W,EAAMmR,WAC/BnR,EAAMmR,UAAUltD,KAAK6yD,cAAe7yD,KAAK8yD,eAGnC9yD,KAAKyJ,KAAK,YAAasyC,MAAOA,MAGtCQ,YAAa,SAAUR,GACtB,MAAK/7C,MAAKy8C,SAASV,IAGfA,IAAS/7C,MAAKq5C,UACjB0C,EAAQ/7C,KAAKq5C,QAAQ0C,IAGtBA,EAAMttC,IAAIrO,EAAEsyD,aAAaC,OAAQ3yD,KAAK4yD,gBAAiB5yD,MAEvDI,EAAE+xD,WAAW9mD,UAAUkxC,YAAYvzC,KAAKhJ,KAAM+7C,GAE1C/7C,KAAK6yD,eACR7yD,KAAKs0B,OAAO,eAGNt0B,KAAKyJ,KAAK,eAAgBsyC,MAAOA,KAdhC/7C,MAiBTktD,UAAW,SAAUvpB,EAASjrB,GAG7B,MAFA1Y,MAAK6yD,cAAgBlvB,EACrB3jC,KAAK8yD,cAAgBp6C,EACd1Y,KAAKs0B,OAAO,YAAaqP,EAASjrB,IAG1C62C,UAAW,SAAUpY,GAEpB,IAAK,GAAIlqC,KAAMjN,MAAKq5C,QAAS,CAC5Br5C,KAAKq5C,QAAQpsC,GAAIsiD,UAAUpY,EAC3B,OAED,MAAOn3C,OAGR+yD,SAAU,SAAUxsD,GACnB,MAAOvG,MAAKs0B,OAAO,WAAY/tB,IAGhC2+C,aAAc,WACb,MAAOllD,MAAKs0B,OAAO,iBAGpB+wB,YAAa,WACZ,MAAOrlD,MAAKs0B,OAAO,gBAGpBsmB,UAAW,WACV,GAAInK,GAAS,GAAIrwC,GAAEi1C,YAMnB,OAJAr1C,MAAK08C,UAAU,SAAUX,GACxBtL,EAAO/qC,OAAOq2C,YAAiB37C,GAAE8rD,OAASnQ,EAAM8Q,YAAc9Q,EAAMnB,eAG9DnK,GAGRmiB,gBAAiB,SAAUtxD,GAC1BA,EAAIlB,EAAEsF,QACLq2C,MAAOz6C,EAAEya,OACTA,OAAQ/b,MACNsB,GACHtB,KAAKyJ,KAAKnI,EAAEgE,KAAMhE,MAIpBlB,EAAE4yD,aAAe,SAAUvZ,GAC1B,MAAO,IAAIr5C,GAAEsyD,aAAajZ,IAQ3Br5C,EAAE6yD,KAAO7yD,EAAEmrC,MAAM7lC,QAChBmmC,UAAWzrC,EAAE8rC,MAAMrQ,QAEnB+P,SAICsnB,aAAc,WACb,GAAIjjD,GAAM7P,EAAE2uC,QAAQzB,OAAS,KAAO,IAChCvxB,GAAU9L,EAAMD,KAAKC,IAAIlB,EAAOokD,WAAYpkD,EAAOqkD,aAAe,GAAK,CAC3E,OAAOpjD,MAAKC,IAAI,EAAGD,KAAK4kB,IAAI,GAAK7Y,QAInCrD,SACC26C,QAAQ,EACRC,MAAO,UACPC,UAAW,KACXC,QAAS,KACTC,SAAU,KACVC,OAAQ,EACRzgD,QAAS,GAET0gD,MAAM,EACNC,UAAW,KACX/qC,YAAa,GAEbsjC,WAAW,GAGZpvB,WAAY,SAAUrkB,GACrBtY,EAAEkqC,WAAWtqC,KAAM0Y,IAGpBqpC,MAAO,SAAU/zC,GAChBhO,KAAKskD,KAAOt2C;AAEPhO,KAAKs9C,aACTt9C,KAAK6zD,gBACL7zD,KAAK+4C,eAGN/4C,KAAK8zD,iBACL9zD,KAAK+zD,cAED/zD,KAAKs9C,YACRt9C,KAAKskD,KAAK0P,UAAUlyD,YAAY9B,KAAKs9C,YAGtCt9C,KAAKyJ,KAAK,OAEVuE,EAAI2R,IACH8kC,UAAazkD,KAAK8zD,eAClBpP,QAAW1kD,KAAK+zD,aACd/zD,OAGJilD,MAAO,SAAUj3C,GAEhB,MADAA,GAAI8tC,SAAS97C,MACNA,MAGRw8C,SAAU,SAAUxuC,GACnBA,EAAIgmD,UAAUzxD,YAAYvC,KAAKs9C,YAG/Bt9C,KAAKyJ,KAAK,UACVzJ,KAAKskD,KAAO,KAERlkD,EAAE2uC,QAAQklB,MACbj0D,KAAKs9C,WAAa,KAClBt9C,KAAKk0D,QAAU,KACfl0D,KAAKm0D,MAAQ,MAGdnmD,EAAIS,KACHg2C,UAAazkD,KAAK8zD,eAClBpP,QAAW1kD,KAAK+zD,aACd/zD,OAGJ8zD,eAAgB,aAIhBf,SAAU,SAAUxsD,GAOnB,MANAnG,GAAEkqC,WAAWtqC,KAAMuG,GAEfvG,KAAKs9C,YACRt9C,KAAKo0D,eAGCp0D,MAGR4lD,OAAQ,WAKP,MAJI5lD,MAAKskD,OACRtkD,KAAK8zD,iBACL9zD,KAAK+zD,eAEC/zD,QAITI,EAAEm4C,IAAIlkB,SACLggC,oBAAqB,WACpB,GAAIpwD,GAAI7D,EAAE6yD,KAAKC,aACX7lD,EAAOrN,KAAKwwC,UACZ8jB,EAAUl0D,EAAEoxC,QAAQ+B,YAAYvzC,KAAKkgD,UACrCtrB,EAAM0/B,EAAQ3kB,YAAW,GAAIH,UAAUniC,EAAKsiC,WAAW1rC,GAAG4rC,UAC1D5/B,EAAM2kB,EAAIrsB,IAAI8E,EAAKsiC,WAAW,EAAQ,EAAJ1rC,GAAO4rC,SAE7C7vC,MAAKu0D,cAAgB,GAAIn0D,GAAE+vC,OAAOvb,EAAK3kB,MASzC7P,EAAE6yD,KAAKuB,OAAS,6BAEhBp0D,EAAE2uC,QAAQ0lB,OAASvyD,EAASwyD,kBAAmBxyD,EAASwyD,gBAAgBt0D,EAAE6yD,KAAKuB,OAAQ,OAAOG,eAE9Fv0D,EAAE6yD,KAAO7yD,EAAE6yD,KAAKvtD,QACfkmC,SACCgpB,IAAKx0D,EAAE2uC,QAAQ0lB,KAGhBvP,aAAc,WACb,GAAInlD,GAAOC,KAAKskD,KAAK0P,UACjBlI,EAAO9rD,KAAKs9C,UAKhB,OAHIwO,IAAQ/rD,EAAKyU,YAAcs3C,GAC9B/rD,EAAK+B,YAAYgqD,GAEX9rD,MAGRqlD,YAAa,WACZ,GAAItlD,GAAOC,KAAKskD,KAAK0P,UACjBlI,EAAO9rD,KAAKs9C,WACZ1vC,EAAQ7N,EAAK8G,UAKjB,OAHIilD,IAAQl+C,IAAUk+C,GACrB/rD,EAAKgV,aAAa+2C,EAAMl+C,GAElB5N,MAGR60D,cAAe,aAIfC,eAAgB,SAAUh+C,GACzB,MAAO5U,GAASwyD,gBAAgBt0D,EAAE6yD,KAAKuB,OAAQ19C,IAGhD+8C,cAAe,WACd7zD,KAAKskD,KAAKyQ,gBACV/0D,KAAKg1D,YACLh1D,KAAKi1D,cAGND,UAAW,WACVh1D,KAAKs9C,WAAat9C,KAAK80D,eAAe,KAEtC90D,KAAKk1D,MAAQl1D,KAAK80D,eAAe,QAE7B90D,KAAK0Y,QAAQpF,WAChBlT,EAAEoxC,QAAQz5B,SAAS/X,KAAKk1D,MAAOl1D,KAAK0Y,QAAQpF,WAG7CtT,KAAKs9C,WAAWx7C,YAAY9B,KAAKk1D,QAGlCD,WAAY,WACPj1D,KAAK0Y,QAAQ26C,SAChBrzD,KAAKk1D,MAAMtiD,aAAa,kBAAmB,SAC3C5S,KAAKk1D,MAAMtiD,aAAa,iBAAkB,UAEvC5S,KAAK0Y,QAAQi7C,MAChB3zD,KAAKk1D,MAAMtiD,aAAa,YAAa,WAElC5S,KAAK0Y,QAAQy8C,eAChBn1D,KAAKk1D,MAAMtiD,aAAa,iBAAkB5S,KAAK0Y,QAAQy8C,eAEnDn1D,KAAK0Y,QAAQyzC,WAAcnsD,KAAK0Y,QAAQy8C,eAC5Cn1D,KAAKk1D,MAAMtiD,aAAa,iBAAkB,QAE3C5S,KAAKo0D,gBAGNA,aAAc,WACTp0D,KAAK0Y,QAAQ26C,QAChBrzD,KAAKk1D,MAAMtiD,aAAa,SAAU5S,KAAK0Y,QAAQ46C,OAC/CtzD,KAAKk1D,MAAMtiD,aAAa,iBAAkB5S,KAAK0Y,QAAQzF,SACvDjT,KAAKk1D,MAAMtiD,aAAa,eAAgB5S,KAAK0Y,QAAQg7C,QACjD1zD,KAAK0Y,QAAQ66C,UAChBvzD,KAAKk1D,MAAMtiD,aAAa,mBAAoB5S,KAAK0Y,QAAQ66C,WAEzDvzD,KAAKk1D,MAAMntD,gBAAgB,oBAExB/H,KAAK0Y,QAAQ86C,SAChBxzD,KAAKk1D,MAAMtiD,aAAa,iBAAkB5S,KAAK0Y,QAAQ86C,SAEpDxzD,KAAK0Y,QAAQ+6C,UAChBzzD,KAAKk1D,MAAMtiD,aAAa,kBAAmB5S,KAAK0Y,QAAQ+6C,WAGzDzzD,KAAKk1D,MAAMtiD,aAAa,SAAU,QAE/B5S,KAAK0Y,QAAQi7C,MAChB3zD,KAAKk1D,MAAMtiD,aAAa,OAAQ5S,KAAK0Y,QAAQk7C,WAAa5zD,KAAK0Y,QAAQ46C,OACvEtzD,KAAKk1D,MAAMtiD,aAAa,eAAgB5S,KAAK0Y,QAAQmQ,cAErD7oB,KAAKk1D,MAAMtiD,aAAa,OAAQ,SAIlCmhD,YAAa,WACZ,GAAIp6B,GAAM35B,KAAK60D,eACVl7B,KAEJA,EAAM,QAEP35B,KAAKk1D,MAAMtiD,aAAa,IAAK+mB,IAI9Bof,YAAa,WACZ,GAAI/4C,KAAK0Y,QAAQyzC,UAAW,EACvB/rD,EAAE2uC,QAAQ0lB,KAAQr0D,EAAE2uC,QAAQklB,KAC/B7zD,EAAEoxC,QAAQz5B,SAAS/X,KAAKk1D,MAAO,qBAGhC90D,EAAEuzC,SAASh0B,GAAG3f,KAAKs9C,WAAY,QAASt9C,KAAKshD,cAAethD,KAI5D,KAAK,GAFDoI,IAAU,WAAY,YAAa,YACzB,WAAY,YAAa,eAC9BjE,EAAI,EAAGA,EAAIiE,EAAOhE,OAAQD,IAClC/D,EAAEuzC,SAASh0B,GAAG3f,KAAKs9C,WAAYl1C,EAAOjE,GAAInE,KAAKuhD,gBAAiBvhD,QAKnEshD,cAAe,SAAUhgD,GACpBtB,KAAKskD,KAAK5C,UAAY1hD,KAAKskD,KAAK5C,SAASC,SAE7C3hD,KAAKuhD,gBAAgBjgD,IAGtBigD,gBAAiB,SAAUjgD,GAC1B,GAAKtB,KAAKysC,kBAAkBnrC,EAAEgE,MAA9B,CAEA,GAAI0I,GAAMhO,KAAKskD,KACXhK,EAAiBtsC,EAAI2xC,2BAA2Br+C,GAChDo+C,EAAa1xC,EAAIuxC,2BAA2BjF,GAC5CnD,EAASnpC,EAAI6vC,mBAAmB6B,EAEpC1/C,MAAKyJ,KAAKnI,EAAEgE,MACX6xC,OAAQA,EACRuI,WAAYA,EACZpF,eAAgBA,EAChB37B,cAAerd,IAGD,gBAAXA,EAAEgE,MACLlF,EAAEuzC,SAASz3B,eAAe5a,GAEZ,cAAXA,EAAEgE,MACLlF,EAAEuzC,SAAS92B,gBAAgBvb,OAK9BlB,EAAEm4C,IAAIlkB,SACL0gC,cAAe,WACT/0D,KAAKg0D,YACTh0D,KAAKg0D,UAAY5zD,EAAE6yD,KAAK5nD,UAAUypD,eAAe,OACjD90D,KAAKi/C,OAAOwB,YAAY3+C,YAAY9B,KAAKg0D,WAErCh0D,KAAK0Y,QAAQwjC,eAAiB97C,EAAE2uC,QAAQP,OAC3CpuC,EAAEoxC,QAAQz5B,SAAS/X,KAAKg0D,UAAW,yBAEnCh0D,KAAK2f,IACJilC,SAAY5kD,KAAKo1D,iBACjBtQ,QAAW9kD,KAAKq1D,gBAGjBj1D,EAAEoxC,QAAQz5B,SAAS/X,KAAKg0D,UAAW,qBAGpCh0D,KAAK2f,GAAG,UAAW3f,KAAKs1D,oBACxBt1D,KAAKs1D,uBAIPF,iBAAkB,SAAU9zD,GAC3B,GAAI+vC,GAAQrxC,KAAKo6C,aAAa94C,EAAE+T,MAC5BwD,EAAS7Y,KAAKmiD,iBAAiB7gD,EAAE43C,QAAQtJ,aAAayB,GAAO/B,KAAKtvC,KAAKu0D,cAAc3/B,IAEzF50B,MAAKg0D,UAAUztD,MAAMnG,EAAEoxC,QAAQ8B,WACvBlzC,EAAEoxC,QAAQqB,mBAAmBh6B,GAAU,UAAYw4B,EAAQ,KAEnErxC,KAAKu1D,cAAe,GAGrBF,aAAc,WACbr1D,KAAKu1D,cAAe,GAGrBD,mBAAoB,WAEnB,IAAIt1D,KAAKu1D,aAAT,CAOAv1D,KAAKq0D,qBAEL,IAAImB,GAAKx1D,KAAKu0D,cACV3/B,EAAM4gC,EAAG5gC,IACT3kB,EAAMulD,EAAGvlD,IACTrO,EAAQqO,EAAIlF,EAAI6pB,EAAI7pB,EACpBlJ,EAASoO,EAAIhF,EAAI2pB,EAAI3pB,EACrBlL,EAAOC,KAAKg0D,UACZ7O,EAAOnlD,KAAKi/C,OAAOwB,WAGnBrgD,GAAE2uC,QAAQE,cACbkW,EAAK5iD,YAAYxC,GAGlBK,EAAEoxC,QAAQ2B,YAAYpzC,EAAM60B,GAC5B70B,EAAK6S,aAAa,QAAShR,GAC3B7B,EAAK6S,aAAa,SAAU/Q,GAC5B9B,EAAK6S,aAAa,WAAYgiB,EAAI7pB,EAAG6pB,EAAI3pB,EAAGrJ,EAAOC,GAAQkM,KAAK,MAE5D3N,EAAE2uC,QAAQE,cACbkW,EAAKrjD,YAAY/B,OAUpBK,EAAE6yD,KAAK5+B,SAEN64B,UAAW,SAAUvpB,EAASjrB,GAmB7B,MAjBIirB,aAAmBvjC,GAAEuuD,MACxB3uD,KAAKitD,OAAStpB,GAET3jC,KAAKitD,SAAUv0C,IACnB1Y,KAAKitD,OAAS,GAAI7sD,GAAEuuD,MAAMj2C,EAAS1Y,OAEpCA,KAAKitD,OAAO2C,WAAWjsB,IAGnB3jC,KAAK8xD,sBACT9xD,KACK2f,GAAG,QAAS3f,KAAKy1D,WAAYz1D,MAC7B2f,GAAG,SAAU3f,KAAKmwD,WAAYnwD,MAEnCA,KAAK8xD,qBAAsB,GAGrB9xD,MAGRiyD,YAAa,WASZ,MARIjyD,MAAKitD,SACRjtD,KAAKitD,OAAS,KACdjtD,KACKyO,IAAI,QAASzO,KAAKy1D,YAClBhnD,IAAI,SAAUzO,KAAKmwD,YAExBnwD,KAAK8xD,qBAAsB,GAErB9xD,MAGRuvD,UAAW,SAAUpY,GAUpB,MARIn3C,MAAKitD,SAER9V,EAASA,GAAUn3C,KAAKysD,SACfzsD,KAAK01D,SAAS1lD,KAAK8nB,MAAM93B,KAAK01D,SAAStxD,OAAS,IAEzDpE,KAAKy1D,YAAYte,OAAQA,KAGnBn3C,MAGRmwD,WAAY,WAIX,MAHInwD,MAAKitD,QACRjtD,KAAKitD,OAAOiD,SAENlwD,MAGRy1D,WAAY,SAAUn0D,GACrBtB,KAAKitD,OAAOH,UAAUxrD,EAAE61C,QACxBn3C,KAAKskD,KAAKiL,UAAUvvD,KAAKitD,WAU3B7sD,EAAE2uC,QAAQklB,KAAO7zD,EAAE2uC,QAAQ0lB,KAAQ,WAClC,IACC,GAAI5lB,GAAM3sC,EAASR,cAAc,MACjCmtC,GAAIloC,UAAY,oBAEhB,IAAIgvD,GAAQ9mB,EAAIhoC,UAGhB,OAFA8uD,GAAMpvD,MAAMqvD,SAAW,oBAEhBD,GAA+B,gBAAdA,GAAME,IAE7B,MAAOv0D,GACR,OAAO,MAITlB,EAAE6yD,KAAO7yD,EAAE2uC,QAAQ0lB,MAAQr0D,EAAE2uC,QAAQklB,IAAM7zD,EAAE6yD,KAAO7yD,EAAE6yD,KAAKvtD,QAC1DkmC,SACCkqB,KAAK,EACL5C,aAAc,KAGf4B,eAAiB,WAChB,IAEC,MADA5yD,GAAS6zD,WAAWxtD,IAAI,OAAQ,iCACzB,SAAUuO,GAChB,MAAO5U,GAASR,cAAc,SAAWoV,EAAO,mBAEhD,MAAOxV,GACR,MAAO,UAAUwV,GAChB,MAAO5U,GAASR,cACR,IAAMoV,EAAO,6DAKxBk+C,UAAW,WACV,GAAI/iB,GAAYjyC,KAAKs9C,WAAat9C,KAAK80D,eAAe,QAEtD10D,GAAEoxC,QAAQz5B,SAASk6B,EAAW,qBAC5BjyC,KAAK0Y,QAAQpF,UAAY,IAAMtT,KAAK0Y,QAAQpF,UAAY,KAEtDtT,KAAK0Y,QAAQyzC,WAChB/rD,EAAEoxC,QAAQz5B,SAASk6B,EAAW,qBAG/BA,EAAU+jB,UAAY,MAEtBh2D,KAAKk1D,MAAQl1D,KAAK80D,eAAe,QACjC7iB,EAAUnwC,YAAY9B,KAAKk1D,OAE3Bl1D,KAAKskD,KAAK0P,UAAUlyD,YAAYmwC,IAGjCgjB,WAAY,WACXj1D,KAAKo0D,gBAGNA,aAAc,WACb,GAAIf,GAASrzD,KAAKk0D,QACdP,EAAO3zD,KAAKm0D,MACZz7C,EAAU1Y,KAAK0Y,QACfu5B,EAAYjyC,KAAKs9C,UAErBrL,GAAUgkB,QAAUv9C,EAAQ26C,OAC5BphB,EAAUikB,OAASx9C,EAAQi7C,KAEvBj7C,EAAQ26C,QACNA,IACJA,EAASrzD,KAAKk0D,QAAUl0D,KAAK80D,eAAe,UAC5CzB,EAAO8C,OAAS,QAChBlkB,EAAUnwC,YAAYuxD,IAEvBA,EAAOK,OAASh7C,EAAQg7C,OAAS,KACjCL,EAAOC,MAAQ56C,EAAQ46C,MACvBD,EAAOpgD,QAAUyF,EAAQzF,QAErByF,EAAQ66C,UACXF,EAAO+C,UAAYh2D,EAAE+oC,KAAK/jC,QAAQsT,EAAQ66C,WACtC76C,EAAQ66C,UAAUxlD,KAAK,KACvB2K,EAAQ66C,UAAU7uD,QAAQ,WAAY,KAE1C2uD,EAAO+C,UAAY,GAEhB19C,EAAQ86C,UACXH,EAAO8C,OAASz9C,EAAQ86C,QAAQ9uD,QAAQ,OAAQ,SAE7CgU,EAAQ+6C,WACXJ,EAAOgD,UAAY39C,EAAQ+6C,WAGlBJ,IACVphB,EAAU1vC,YAAY8wD,GACtBrzD,KAAKk0D,QAAU,MAGZx7C,EAAQi7C,MACNA,IACJA,EAAO3zD,KAAKm0D,MAAQn0D,KAAK80D,eAAe,QACxC7iB,EAAUnwC,YAAY6xD,IAEvBA,EAAKL,MAAQ56C,EAAQk7C,WAAal7C,EAAQ46C,MAC1CK,EAAK1gD,QAAUyF,EAAQmQ,aAEb8qC,IACV1hB,EAAU1vC,YAAYoxD,GACtB3zD,KAAKm0D,MAAQ,OAIfJ,YAAa,WACZ,GAAIxtD,GAAQvG,KAAKs9C,WAAW/2C,KAE5BA,GAAMyO,QAAU,OAChBhV,KAAKk1D,MAAMrqD,EAAI7K,KAAK60D,gBAAkB,IACtCtuD,EAAMyO,QAAU,MAIlB5U,EAAEm4C,IAAIlkB,QAAQj0B,EAAE2uC,QAAQ0lB,MAAQr0D,EAAE2uC,QAAQklB,QACzCc,cAAe,WACd,IAAI/0D,KAAKg0D,UAAT,CAEA,GAAIj0D,GAAOC,KAAKg0D,UAAY9xD,EAASR,cAAc,MACnD3B,GAAKuT,UAAY,wBACjBtT,KAAKi/C,OAAOwB,YAAY3+C,YAAY/B,GAEpCC,KAAK2f,GAAG,UAAW3f,KAAKq0D,qBACxBr0D,KAAKq0D,0BASPj0D,EAAE2uC,QAAQsb,OAAU,WACnB,QAASnoD,EAASR,cAAc,UAAU40D,cAG3Cl2D,EAAE6yD,KAAQ7yD,EAAE6yD,KAAK2B,MAAQ7lD,EAAOwnD,kBAAqBn2D,EAAE2uC,QAAQsb,OAASjqD,EAAE6yD,KAAO7yD,EAAE6yD,KAAKvtD,QACvFkmC,SAEC4qB,QAAQ,EACR5B,KAAK,GAGNhP,OAAQ,WAKP,MAJI5lD,MAAKskD,OACRtkD,KAAK8zD,iBACL9zD,KAAKy2D,kBAECz2D,MAGR+yD,SAAU,SAAUxsD,GAOnB,MANAnG,GAAEkqC,WAAWtqC,KAAMuG,GAEfvG,KAAKskD,OACRtkD,KAAKo0D,eACLp0D,KAAKy2D,kBAECz2D,MAGRw8C,SAAU,SAAUxuC,GACnBA,EACKS,IAAI,YAAazO,KAAK8zD,eAAgB9zD,MACtCyO,IAAI,UAAWzO,KAAK+zD,YAAa/zD,MAElCA,KAAK0Y,QAAQyzC,YAChBnsD,KAAKskD,KAAK71C,IAAI,QAASzO,KAAK02D,SAAU12D,MACtCA,KAAKskD,KAAK71C,IAAI,YAAazO,KAAK22D,aAAc32D,OAG/CA,KAAKy2D,iBAELz2D,KAAKyJ,KAAK,UACVzJ,KAAKskD,KAAO,MAGbmS,eAAgB,WACXz2D,KAAKskD,OAASlkD,EAAE6yD,KAAK2D,iBACxBx2D,EAAE6yD,KAAK2D,eAAiBx2D,EAAE+oC,KAAKiC,iBAAiBprC,KAAK62D,gBAAiB72D,KAAKskD,QAI7EuS,gBAAiB,WAChBz2D,EAAE6yD,KAAK2D,eAAiB,KACxB52D,KAAKyJ,KAAK,YAGXoqD,cAAe,WACd7zD,KAAKskD,KAAKyQ,gBACV/0D,KAAK82D,KAAO92D,KAAKskD,KAAKyS,YAGvB3C,aAAc,WACb,GAAI17C,GAAU1Y,KAAK0Y,OAEfA,GAAQ26C,SACXrzD,KAAK82D,KAAKE,UAAYt+C,EAAQg7C,OAC9B1zD,KAAK82D,KAAKG,YAAcv+C,EAAQ46C,OAE7B56C,EAAQi7C,OACX3zD,KAAK82D,KAAKI,UAAYx+C,EAAQk7C,WAAal7C,EAAQ46C,QAIrD6D,UAAW,WACV,GAAIhzD,GAAGP,EAAGylC,EAAK+tB,EAAM/nB,EAAOgoB,CAI5B,KAFAr3D,KAAK82D,KAAKQ,YAELnzD,EAAI,EAAGklC,EAAMrpC,KAAKu3D,OAAOnzD,OAAQD,EAAIklC,EAAKllC,IAAK,CACnD,IAAKP,EAAI,EAAGwzD,EAAOp3D,KAAKu3D,OAAOpzD,GAAGC,OAAQR,EAAIwzD,EAAMxzD,IACnDyrC,EAAQrvC,KAAKu3D,OAAOpzD,GAAGP,GACvByzD,GAAoB,IAANzzD,EAAU,OAAS,QAAU,KAE3C5D,KAAK82D,KAAKO,GAAYhoB,EAAMtkC,EAAGskC,EAAMpkC,EAGlCjL,gBAAgBI,GAAEo3D,SACrBx3D,KAAK82D,KAAKW,cAKbC,cAAe,WACd,OAAQ13D,KAAKu3D,OAAOnzD,QAGrB2vD,YAAa,WACZ,IAAI/zD,KAAK03D,gBAAT,CAEA,GAAIv7B,GAAMn8B,KAAK82D,KACXp+C,EAAU1Y,KAAK0Y,OAEnB1Y,MAAKm3D,YACLh7B,EAAIyB,OACJ59B,KAAKo0D,eAED17C,EAAQi7C,OACXx3B,EAAIw7B,YAAcj/C,EAAQmQ,YAC1BsT,EAAIw3B,QAGDj7C,EAAQ26C,SACXl3B,EAAIw7B,YAAcj/C,EAAQzF,QAC1BkpB,EAAIk3B,UAGLl3B,EAAIy7B,YAKL7e,YAAa,WACR/4C,KAAK0Y,QAAQyzC,YAEhBnsD,KAAKskD,KAAK3kC,GAAG,YAAa3f,KAAK22D,aAAc32D,MAC7CA,KAAKskD,KAAK3kC,GAAG,QAAS3f,KAAK02D,SAAU12D,QAIvC02D,SAAU,SAAUp1D,GACftB,KAAK63D,eAAev2D,EAAEo+C,aACzB1/C,KAAKyJ,KAAK,QAASnI,IAIrBq1D,aAAc,SAAUr1D,GAClBtB,KAAKskD,OAAQtkD,KAAKskD,KAAKwT,iBAGxB93D,KAAK63D,eAAev2D,EAAEo+C,aACzB1/C,KAAK82D,KAAKzM,OAAO9jD,MAAMwxD,OAAS,UAChC/3D,KAAKg4D,cAAe,EACpBh4D,KAAKyJ,KAAK,YAAanI,IAEbtB,KAAKg4D,eACfh4D,KAAK82D,KAAKzM,OAAO9jD,MAAMwxD,OAAS,GAChC/3D,KAAKg4D,cAAe,EACpBh4D,KAAKyJ,KAAK,WAAYnI,QAKzBlB,EAAEm4C,IAAIlkB,QAASj0B,EAAE6yD,KAAK2B,MAAQ7lD,EAAOwnD,kBAAqBn2D,EAAE2uC,QAAQsb,WACnE0K,cAAe,WACd,GACI54B,GADAp8B,EAAOC,KAAKg0D,SAGXj0D,KACJA,EAAOC,KAAKg0D,UAAY9xD,EAASR,cAAc,UAC/C3B,EAAKwG,MAAMsP,SAAW,WACtBsmB,EAAMn8B,KAAK+2D,WAAah3D,EAAKu2D,WAAW,MAExCn6B,EAAIq3B,QAAU,QACdr3B,EAAIs3B,SAAW,QAEfzzD,KAAKi/C,OAAOwB,YAAY3+C,YAAY/B,GAEhCC,KAAK0Y,QAAQwjC,gBAChBl8C,KAAKg0D,UAAU1gD,UAAY,wBAC3BtT,KAAK2f,GAAG,WAAY3f,KAAKo1D,kBACzBp1D,KAAK2f,GAAG,UAAW3f,KAAKq1D,eAEzBr1D,KAAK2f,GAAG,UAAW3f,KAAKi4D,uBACxBj4D,KAAKi4D,0BAIPA,sBAAuB,WAEtB,IAAIj4D,KAAKu1D,aAAT,CACAv1D,KAAKq0D,qBAEL,IAAImB,GAAKx1D,KAAKu0D,cACV3/B,EAAM4gC,EAAG5gC,IACTvnB,EAAOmoD,EAAGvlD,IAAIs/B,SAAS3a,GACvB70B,EAAOC,KAAKg0D,SAGhB5zD,GAAEoxC,QAAQ2B,YAAYpzC,EAAM60B,GAC5B70B,EAAK6B,MAAQyL,EAAKtC,EAClBhL,EAAK8B,OAASwL,EAAKpC,EACnBlL,EAAKu2D,WAAW,MAAM4B,WAAWtjC,EAAI7pB,GAAI6pB,EAAI3pB,OAY/C7K,EAAE+3D,UAKDC,SAAU,SAAsBhoB,EAAmBioB,GAClD,IAAKA,IAAcjoB,EAAOhsC,OACzB,MAAOgsC,GAAOvtC,OAGf,IAAIy1D,GAAcD,EAAYA,CAQ9B,OALAjoB,GAASpwC,KAAKu4D,cAAcnoB,EAAQkoB,GAGpCloB,EAASpwC,KAAKw4D,YAAYpoB,EAAQkoB,IAMnCG,uBAAyB,SAAoBx0D,EAAay0D,EAAcC,GACvE,MAAO3oD,MAAKggC,KAAKhwC,KAAK44D,yBAAyB30D,EAAGy0D,EAAIC,GAAI,KAG3DE,sBAAuB,SAAoB50D,EAAay0D,EAAcC,GACrE,MAAO34D,MAAK44D,yBAAyB30D,EAAGy0D,EAAIC,IAI7CH,YAAa,SAAUpoB,EAAQkoB,GAE9B,GAAIjvB,GAAM+G,EAAOhsC,OACb00D,QAA0BC,aAAe79B,EAAY,GAAK69B,WAAartD,MACvEstD,EAAU,GAAIF,GAAiBzvB,EAEnC2vB,GAAQ,GAAKA,EAAQ3vB,EAAM,GAAK,EAEhCrpC,KAAKi5D,gBAAgB7oB,EAAQ4oB,EAASV,EAAa,EAAGjvB,EAAM,EAE5D,IAAIllC,GACA+0D,IAEJ,KAAK/0D,EAAI,EAAGA,EAAIklC,EAAKllC,IAChB60D,EAAQ70D,IACX+0D,EAAUvtD,KAAKykC,EAAOjsC,GAIxB,OAAO+0D,IAGRD,gBAAiB,SAAU7oB,EAAQ4oB,EAASV,EAAa1qD,EAAOC,GAE/D,GACI2W,GAAOrgB,EAAGg1D,EADVC,EAAY,CAGhB,KAAKj1D,EAAIyJ,EAAQ,EAAGzJ,GAAK0J,EAAO,EAAG1J,IAClCg1D,EAASn5D,KAAK44D,yBAAyBxoB,EAAOjsC,GAAIisC,EAAOxiC,GAAQwiC,EAAOviC,IAAO,GAE3EsrD,EAASC,IACZ50C,EAAQrgB,EACRi1D,EAAYD,EAIVC,GAAYd,IACfU,EAAQx0C,GAAS,EAEjBxkB,KAAKi5D,gBAAgB7oB,EAAQ4oB,EAASV,EAAa1qD,EAAO4W,GAC1DxkB,KAAKi5D,gBAAgB7oB,EAAQ4oB,EAASV,EAAa9zC,EAAO3W,KAK5D0qD,cAAe,SAAUnoB,EAAQkoB,GAGhC,IAAK,GAFDe,IAAiBjpB,EAAO,IAEnBjsC,EAAI,EAAGmgB,EAAO,EAAG+kB,EAAM+G,EAAOhsC,OAAQD,EAAIklC,EAAKllC,IACnDnE,KAAKs5D,QAAQlpB,EAAOjsC,GAAIisC,EAAO9rB,IAASg0C,IAC3Ce,EAAc1tD,KAAKykC,EAAOjsC,IAC1BmgB,EAAOngB,EAMT,OAHImgB,GAAO+kB,EAAM,GAChBgwB,EAAc1tD,KAAKykC,EAAO/G,EAAM,IAE1BgwB,GAMRE,YAAa,SAAU/4D,EAAGC,EAAGgwC,EAAQ+oB,GACpC,GAGIC,GAASx1D,EAAGy1D,EAHZC,EAAQH,EAAcx5D,KAAK45D,UAAY55D,KAAK65D,YAAYr5D,EAAGiwC,GAC3DqpB,EAAQ95D,KAAK65D,YAAYp5D,EAAGgwC,EAOhC,KAFAzwC,KAAK45D,UAAYE,IAEJ,CAEZ,KAAMH,EAAQG,GACb,OAAQt5D,EAAGC,EAEL,IAAIk5D,EAAQG,EAClB,OAAO,CAGPL,GAAUE,GAASG,EACnB71D,EAAIjE,KAAK+5D,qBAAqBv5D,EAAGC,EAAGg5D,EAAShpB,GAC7CipB,EAAU15D,KAAK65D,YAAY51D,EAAGwsC,GAE1BgpB,IAAYE,GACfn5D,EAAIyD,EACJ01D,EAAQD,IAERj5D,EAAIwD,EACJ61D,EAAQJ,KAMZK,qBAAsB,SAAUv5D,EAAGC,EAAG03C,EAAM1H,GAC3C,GAAImS,GAAKniD,EAAEsK,EAAIvK,EAAEuK,EACb+3C,EAAKriD,EAAEwK,EAAIzK,EAAEyK,EACb2pB,EAAM6b,EAAO7b,IACb3kB,EAAMwgC,EAAOxgC,GAEjB,OAAW,GAAPkoC,EACI,GAAI/3C,GAAEgvC,MAAM5uC,EAAEuK,EAAI63C,GAAM3yC,EAAIhF,EAAIzK,EAAEyK,GAAK63C,EAAI7yC,EAAIhF,GACrC,EAAPktC,EACH,GAAI/3C,GAAEgvC,MAAM5uC,EAAEuK,EAAI63C,GAAMhuB,EAAI3pB,EAAIzK,EAAEyK,GAAK63C,EAAIluB,EAAI3pB,GACrC,EAAPktC,EACH,GAAI/3C,GAAEgvC,MAAMn/B,EAAIlF,EAAGvK,EAAEyK,EAAI63C,GAAM7yC,EAAIlF,EAAIvK,EAAEuK,GAAK63C,GACpC,EAAPzK,EACH,GAAI/3C,GAAEgvC,MAAMxa,EAAI7pB,EAAGvK,EAAEyK,EAAI63C,GAAMluB,EAAI7pB,EAAIvK,EAAEuK,GAAK63C,GAD/C,QAKRiX,YAAa,SAAoB51D,EAAGwsC,GACnC,GAAI0H,GAAO,CAaX,OAXIl0C,GAAE8G,EAAI0lC,EAAO7b,IAAI7pB,EACpBotC,GAAQ,EACEl0C,EAAE8G,EAAI0lC,EAAOxgC,IAAIlF,IAC3BotC,GAAQ,GAELl0C,EAAEgH,EAAIwlC,EAAO7b,IAAI3pB,EACpBktC,GAAQ,EACEl0C,EAAEgH,EAAIwlC,EAAOxgC,IAAIhF,IAC3BktC,GAAQ,GAGFA,GAIRmhB,QAAS,SAAUZ,EAAIC,GACtB,GAAI/V,GAAK+V,EAAG5tD,EAAI2tD,EAAG3tD,EACf+3C,EAAK6V,EAAG1tD,EAAIytD,EAAGztD,CACnB,OAAO23C,GAAKA,EAAKE,EAAKA,GAIvB8V,yBAA0B,SAAU30D,EAAGy0D,EAAIC,EAAIQ,GAC9C,GAKIxuD,GALAI,EAAI2tD,EAAG3tD,EACPE,EAAIytD,EAAGztD,EACP23C,EAAK+V,EAAG5tD,EAAIA,EACZ+3C,EAAK6V,EAAG1tD,EAAIA,EACZ+uD,EAAMpX,EAAKA,EAAKE,EAAKA,CAkBzB,OAfIkX,GAAM,IACTrvD,IAAM1G,EAAE8G,EAAIA,GAAK63C,GAAM3+C,EAAEgH,EAAIA,GAAK63C,GAAMkX,EAEpCrvD,EAAI,GACPI,EAAI4tD,EAAG5tD,EACPE,EAAI0tD,EAAG1tD,GACGN,EAAI,IACdI,GAAK63C,EAAKj4C,EACVM,GAAK63C,EAAKn4C,IAIZi4C,EAAK3+C,EAAE8G,EAAIA,EACX+3C,EAAK7+C,EAAEgH,EAAIA,EAEJkuD,EAASvW,EAAKA,EAAKE,EAAKA,EAAK,GAAI1iD,GAAEgvC,MAAMrkC,EAAGE,KASrD7K,EAAE65D,SAAW75D,EAAE6yD,KAAKvtD,QACnBq3B,WAAY,SAAUyY,EAAS98B,GAC9BtY,EAAE6yD,KAAK5nD,UAAU0xB,WAAW/zB,KAAKhJ,KAAM0Y,GAEvC1Y,KAAK01D,SAAW11D,KAAKk6D,gBAAgB1kB,IAGtC98B,SAGCyhD,aAAc,EACdC,QAAQ,GAGTtG,eAAgB,WACf9zD,KAAKq6D,kBAEL,KAAK,GAAIl2D,GAAI,EAAGklC,EAAMrpC,KAAK01D,SAAStxD,OAAQD,EAAIklC,EAAKllC,IACpDnE,KAAKq6D,gBAAgBl2D,GAAKnE,KAAKskD,KAAKhF,mBAAmBt/C,KAAK01D,SAASvxD,KAIvE0wD,cAAe,WACd,IAAK,GAAI1wD,GAAI,EAAGklC,EAAMrpC,KAAKu3D,OAAOnzD,OAAQu1B,EAAM,GAAIx1B,EAAIklC,EAAKllC,IAC5Dw1B,GAAO35B,KAAKs6D,gBAAgBt6D,KAAKu3D,OAAOpzD,GAEzC,OAAOw1B,IAGR4gC,WAAY,WACX,MAAOv6D,MAAK01D,UAGb8E,WAAY,SAAUhlB,GAErB,MADAx1C,MAAK01D,SAAW11D,KAAKk6D,gBAAgB1kB,GAC9Bx1C,KAAK4lD,UAGb6U,UAAW,SAAUtjB,GAEpB,MADAn3C,MAAK01D,SAAS/pD,KAAKvL,EAAEo0C,OAAO2C,IACrBn3C,KAAK4lD,UAGb8U,cAAe,WACd,GAAI9tB,MAAaz+B,OAAOvL,MAAM5C,KAAK01D,SAAU5nD,UAG7C,OAFA9N,MAAKk6D,gBAAgBl6D,KAAK01D,UAAU,GACpC11D,KAAK4lD,SACEhZ,GAGR+tB,kBAAmB,SAAU12D,GAG5B,IAAK,GAF4Cy0D,GAAIC,EAAjDiC,EAAcjpC,EAAAA,EAAUkpC,EAAQ76D,KAAKu3D,OAAgBuD,EAAW,KAE3Dl3D,EAAI,EAAGm3D,EAAOF,EAAMz2D,OAAQR,EAAIm3D,EAAMn3D,IAE9C,IAAK,GADDwsC,GAASyqB,EAAMj3D,GACVO,EAAI,EAAGklC,EAAM+G,EAAOhsC,OAAQD,EAAIklC,EAAKllC,IAAK,CAClDu0D,EAAKtoB,EAAOjsC,EAAI,GAChBw0D,EAAKvoB,EAAOjsC,EACZ,IAAIg1D,GAAS/4D,EAAE+3D,SAASS,yBAAyB30D,EAAGy0D,EAAIC,GAAI,EACxDQ,GAASyB,IACZA,EAAczB,EACd2B,EAAW16D,EAAE+3D,SAASS,yBAAyB30D,EAAGy0D,EAAIC,IAOzD,MAHImC,KACHA,EAASE,SAAWhrD,KAAKggC,KAAK4qB,IAExBE,GAGRlgB,UAAW,WACV,MAAO,IAAIx6C,GAAEi1C,aAAar1C,KAAKu6D,eAGhCL,gBAAiB,SAAU1kB,EAASylB,GACnC,GAAI92D,GAAGklC,EAAKttB,EAASk/C,EAAYzlB,IAEjC,KAAKrxC,EAAI,EAAGklC,EAAMmM,EAAQpxC,OAAQD,EAAIklC,EAAKllC,IAAK,CAC/C,GAAI/D,EAAE+oC,KAAK/jC,QAAQowC,EAAQrxC,KAAgC,gBAAlBqxC,GAAQrxC,GAAG,GACnD,MAED4X,GAAO5X,GAAK/D,EAAEo0C,OAAOgB,EAAQrxC,IAE9B,MAAO4X,IAGRg9B,YAAa,WACZ34C,EAAE6yD,KAAK5nD,UAAU0tC,YAAY/vC,KAAKhJ,OAGnCs6D,gBAAiB,SAAUlqB,GAG1B,IAAK,GAA2CnsC,GAF5CmmC,EAAQhqC,EAAE6yD,KAAK6C,IAEVlyD,EAAI,EAAGwzD,EAAOhnB,EAAOhsC,OAAQu1B,EAAM,GAAO/1B,EAAIwzD,EAAMxzD,IAC5DK,EAAImsC,EAAOxsC,GACPwmC,GACHnmC,EAAE4rC,SAEHlW,IAAQ/1B,EAAI,IAAM,KAAOK,EAAE8G,EAAI,IAAM9G,EAAEgH,CAExC,OAAO0uB,IAGRuhC,YAAa,WACZ,GAEI/2D,GAAGE,EAAG82D,EAFN/qB,EAASpwC,KAAKq6D,gBACdhxB,EAAM+G,EAAOhsC,MAGjB,IAAIpE,KAAK0Y,QAAQ0hD,OAEhB,YADAp6D,KAAKu3D,QAAUnnB,GAIhBpwC,MAAKu3D,SAEL,IAAIsD,GAAQ76D,KAAKu3D,OACb/B,EAAKx1D,KAAKskD,KAAKiQ,cACf6G,EAAKh7D,EAAE+3D,QAEX,KAAKh0D,EAAI,EAAGE,EAAI,EAAGF,EAAIklC,EAAM,EAAGllC,IAC/Bg3D,EAAUC,EAAG7B,YAAYnpB,EAAOjsC,GAAIisC,EAAOjsC,EAAI,GAAIqxD,EAAIrxD,GAClDg3D,IAILN,EAAMx2D,GAAKw2D,EAAMx2D,OACjBw2D,EAAMx2D,GAAGsH,KAAKwvD,EAAQ,IAGjBA,EAAQ,KAAO/qB,EAAOjsC,EAAI,IAAQA,IAAMklC,EAAM,IAClDwxB,EAAMx2D,GAAGsH,KAAKwvD,EAAQ,IACtB92D,OAMHg3D,gBAAiB,WAIhB,IAAK,GAHDR,GAAQ76D,KAAKu3D,OACb6D,EAAKh7D,EAAE+3D,SAEFh0D,EAAI,EAAGklC,EAAMwxB,EAAMz2D,OAAQD,EAAIklC,EAAKllC,IAC5C02D,EAAM12D,GAAKi3D,EAAGhD,SAASyC,EAAM12D,GAAInE,KAAK0Y,QAAQyhD,eAIhDpG,YAAa,WACP/zD,KAAKskD,OAEVtkD,KAAKk7D,cACLl7D,KAAKq7D,kBAELj7D,EAAE6yD,KAAK5nD,UAAU0oD,YAAY/qD,KAAKhJ,UAIpCI,EAAEk7D,SAAW,SAAU9lB,EAAS98B,GAC/B,MAAO,IAAItY,GAAE65D,SAASzkB,EAAS98B,IAUhCtY,EAAEm7D,YAMFn7D,EAAEm7D,SAASC,YAAc,SAAUprB,EAAQK,GAC1C,GAAIgrB,GAEAt3D,EAAGP,EAAGS,EACN7D,EAAGC,EACH4oC,EAAKqyB,EAAMz3D,EAHX03D,GAAS,EAAG,EAAG,EAAG,GAIlBP,EAAKh7D,EAAE+3D,QAEX,KAAKh0D,EAAI,EAAGklC,EAAM+G,EAAOhsC,OAAQD,EAAIklC,EAAKllC,IACzCisC,EAAOjsC,GAAGy3D,MAAQR,EAAGvB,YAAYzpB,EAAOjsC,GAAIssC,EAI7C,KAAKpsC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAIvB,IAHAq3D,EAAOC,EAAMt3D,GACbo3D,KAEKt3D,EAAI,EAAGklC,EAAM+G,EAAOhsC,OAAQR,EAAIylC,EAAM,EAAGllC,EAAIklC,EAAKzlC,EAAIO,IAC1D3D,EAAI4vC,EAAOjsC,GACX1D,EAAI2vC,EAAOxsC,GAGLpD,EAAEo7D,MAAQF,EAUHj7D,EAAEm7D,MAAQF,IACtBz3D,EAAIm3D,EAAGrB,qBAAqBt5D,EAAGD,EAAGk7D,EAAMjrB,GACxCxsC,EAAE23D,MAAQR,EAAGvB,YAAY51D,EAAGwsC,GAC5BgrB,EAAc9vD,KAAK1H,KAXfxD,EAAEm7D,MAAQF,IACbz3D,EAAIm3D,EAAGrB,qBAAqBt5D,EAAGD,EAAGk7D,EAAMjrB,GACxCxsC,EAAE23D,MAAQR,EAAGvB,YAAY51D,EAAGwsC,GAC5BgrB,EAAc9vD,KAAK1H,IAEpBw3D,EAAc9vD,KAAKnL,GASrB4vC,GAASqrB,EAGV,MAAOrrB,IAQRhwC,EAAEo3D,QAAUp3D,EAAE65D,SAASv0D,QACtBgT,SACCi7C,MAAM,GAGP52B,WAAY,SAAUyY,EAAS98B,GAC9BtY,EAAE65D,SAAS5uD,UAAU0xB,WAAW/zB,KAAKhJ,KAAMw1C,EAAS98B,GACpD1Y,KAAK67D,eAAermB,IAGrBqmB,eAAgB,SAAUrmB,GACzB,GAAIrxC,GAAGklC,EAAKyyB,CACZ,IAAItmB,GAAWp1C,EAAE+oC,KAAK/jC,QAAQowC,EAAQ,KAAiC,gBAAlBA,GAAQ,GAAG,GAI/D,IAHAx1C,KAAK01D,SAAW11D,KAAKk6D,gBAAgB1kB,EAAQ,IAC7Cx1C,KAAK+7D,OAASvmB,EAAQ3yC,MAAM,GAEvBsB,EAAI,EAAGklC,EAAMrpC,KAAK+7D,OAAO33D,OAAQD,EAAIklC,EAAKllC,IAC9C23D,EAAO97D,KAAK+7D,OAAO53D,GAAKnE,KAAKk6D,gBAAgBl6D,KAAK+7D,OAAO53D,IACrD23D,EAAK,GAAG7rB,OAAO6rB,EAAKA,EAAK13D,OAAS,KACrC03D,EAAKhzD,KAMR0sC,GAAUx1C,KAAK01D,SAEXlgB,EAAQpxC,QAAU,GAAKoxC,EAAQ,GAAGvF,OAAOuF,EAAQA,EAAQpxC,OAAS,KACrEoxC,EAAQ1sC,OAIVgrD,eAAgB,WAOf,GANA1zD,EAAE65D,SAAS5uD,UAAUyoD,eAAe9qD,KAAKhJ,MAIzCA,KAAKg8D,eAEAh8D,KAAK+7D,OAAV,CAEA,GAAI53D,GAAGP,EAAGylC,EAAK+tB,CAEf,KAAKjzD,EAAI,EAAGklC,EAAMrpC,KAAK+7D,OAAO33D,OAAQD,EAAIklC,EAAKllC,IAG9C,IAFAnE,KAAKg8D,YAAY73D,MAEZP,EAAI,EAAGwzD,EAAOp3D,KAAK+7D,OAAO53D,GAAGC,OAAQR,EAAIwzD,EAAMxzD,IACnD5D,KAAKg8D,YAAY73D,GAAGP,GAAK5D,KAAKskD,KAAKhF,mBAAmBt/C,KAAK+7D,OAAO53D,GAAGP,MAKxE42D,WAAY,SAAUhlB,GACrB,MAAIA,IAAWp1C,EAAE+oC,KAAK/jC,QAAQowC,EAAQ,KAAiC,gBAAlBA,GAAQ,GAAG,IAC/Dx1C,KAAK67D,eAAermB,GACbx1C,KAAK4lD,UAELxlD,EAAE65D,SAAS5uD,UAAUmvD,WAAWxxD,KAAKhJ,KAAMw1C,IAIpD0lB,YAAa,WACZ,GAAI9qB,GAASpwC,KAAKq6D,gBACd4B,IAIJ,IAFAj8D,KAAKu3D,QAAUnnB,GAAQztC,OAAO3C,KAAKg8D,cAE/Bh8D,KAAK0Y,QAAQ0hD,OAAjB,CAEA,IAAK,GAAIj2D,GAAI,EAAGklC,EAAMrpC,KAAKu3D,OAAOnzD,OAAQD,EAAIklC,EAAKllC,IAAK,CACvD,GAAI+3D,GAAU97D,EAAEm7D,SAASC,YAAYx7D,KAAKu3D,OAAOpzD,GAAInE,KAAKskD,KAAKiQ,cAC3D2H,GAAQ93D,QACX63D,EAAStwD,KAAKuwD,GAIhBl8D,KAAKu3D,OAAS0E,IAGf3B,gBAAiB,SAAUlqB,GAC1B,GAAIzW,GAAMv5B,EAAE65D,SAAS5uD,UAAUivD,gBAAgBtxD,KAAKhJ,KAAMowC,EAC1D,OAAOzW,IAAOv5B,EAAE2uC,QAAQ0lB,IAAM,IAAM,QAItCr0D,EAAE+7D,QAAU,SAAU3mB,EAAS98B,GAC9B,MAAO,IAAItY,GAAEo3D,QAAQhiB,EAAS98B,IAQ9B,WACA,QAAS0jD,GAAYC,GAEpB,MAAOj8D,GAAEsyD,aAAahtD,QAErBq3B,WAAY,SAAUyY,EAAS98B,GAC9B1Y,KAAKq5C,WACLr5C,KAAKs8D,SAAW5jD,EAChB1Y,KAAKw6D,WAAWhlB,IAGjBglB,WAAY,SAAUhlB,GACrB,GAAIrxC,GAAI,EACJklC,EAAMmM,EAAQpxC,MAUlB,KARApE,KAAK08C,UAAU,SAAUX,GACpB53C,EAAIklC,EACP0S,EAAMye,WAAWhlB,EAAQrxC,MAEzBnE,KAAKu8C,YAAYR,IAEhB/7C,MAEImE,EAAIklC,GACVrpC,KAAK87C,SAAS,GAAIugB,GAAM7mB,EAAQrxC,KAAMnE,KAAKs8D,UAG5C,OAAOt8D,OAGRu6D,WAAY,WACX,GAAI/kB,KAMJ,OAJAx1C,MAAK08C,UAAU,SAAUX,GACxBvG,EAAQ7pC,KAAKowC,EAAMwe,gBAGb/kB,KAKVp1C,EAAEm8D,cAAgBH,EAAYh8D,EAAE65D,UAChC75D,EAAEo8D,aAAeJ,EAAYh8D,EAAEo3D,SAE/Bp3D,EAAEq8D,cAAgB,SAAUjnB,EAAS98B,GACpC,MAAO,IAAItY,GAAEm8D,cAAc/mB,EAAS98B,IAGrCtY,EAAEs8D,aAAe,SAAUlnB,EAAS98B,GACnC,MAAO,IAAItY,GAAEo8D,aAAahnB,EAAS98B,OASrCtY,EAAEu8D,UAAYv8D,EAAEo3D,QAAQ9xD,QACvBq3B,WAAY,SAAU0Y,EAAc/8B,GACnCtY,EAAEo3D,QAAQnsD,UAAU0xB,WAAW/zB,KAAKhJ,KAAMA,KAAK48D,iBAAiBnnB,GAAe/8B,IAGhFmkD,UAAW,SAAUpnB,GACpBz1C,KAAKw6D,WAAWx6D,KAAK48D,iBAAiBnnB,KAGvCmnB,iBAAkB,SAAUnnB,GAE3B,MADAA,GAAer1C,EAAEq1C,aAAaA,IAE7BA,EAAaS,eACbT,EAAaW,eACbX,EAAaU,eACbV,EAAac,mBAKhBn2C,EAAE08D,UAAY,SAAUrnB,EAAc/8B,GACrC,MAAO,IAAItY,GAAEu8D,UAAUlnB,EAAc/8B,IAQtCtY,EAAE28D,OAAS38D,EAAE6yD,KAAKvtD,QACjBq3B,WAAY,SAAUoa,EAAQ6lB,EAAQtkD,GACrCtY,EAAE6yD,KAAK5nD,UAAU0xB,WAAW/zB,KAAKhJ,KAAM0Y,GAEvC1Y,KAAKysD,QAAUrsD,EAAEo0C,OAAO2C,GACxBn3C,KAAKi9D,SAAWD,GAGjBtkD,SACCi7C,MAAM,GAGP7G,UAAW,SAAU3V,GAEpB,MADAn3C,MAAKysD,QAAUrsD,EAAEo0C,OAAO2C,GACjBn3C,KAAK4lD,UAGbsX,UAAW,SAAUF,GAEpB,MADAh9D,MAAKi9D,SAAWD,EACTh9D,KAAK4lD,UAGbkO,eAAgB,WACf,GAAIqJ,GAAYn9D,KAAKo9D,gBACjBjmB,EAASn3C,KAAKysD,QACd4Q,EAAYr9D,KAAKskD,KAAKhF,oBAAoBnI,EAAOjD,IAAKiD,EAAOhD,IAAMgpB,GAEvEn9D,MAAKs9D,OAASt9D,KAAKskD,KAAKhF,mBAAmBnI,GAC3Cn3C,KAAKu9D,QAAUvtD,KAAKC,IAAIjQ,KAAKs9D,OAAOvyD,EAAIsyD,EAAUtyD,EAAG,IAGtD6vC,UAAW,WACV,GAAIuiB,GAAYn9D,KAAKo9D,gBACjBI,EAAax9D,KAAKi9D,SAAW,SAAY,IACzC9lB,EAASn3C,KAAKysD,OAElB,OAAO,IAAIrsD,GAAEi1C,cACJ8B,EAAOjD,IAAMspB,EAAWrmB,EAAOhD,IAAMgpB,IACrChmB,EAAOjD,IAAMspB,EAAWrmB,EAAOhD,IAAMgpB,KAG/CtQ,UAAW,WACV,MAAO7sD,MAAKysD,SAGboI,cAAe,WACd,GAAI5wD,GAAIjE,KAAKs9D,OACT5yD,EAAI1K,KAAKu9D,OAEb,OAAIv9D,MAAK03D,gBACD,GAGJt3D,EAAE2uC,QAAQ0lB,IACN,IAAMxwD,EAAE8G,EAAI,KAAO9G,EAAEgH,EAAIP,GACzB,IAAMA,EAAI,IAAMA,EAAI,WACnBzG,EAAE8G,EAAI,IAAO,KAAO9G,EAAEgH,EAAIP,GAAK,MAEvCzG,EAAE4rC,SACFnlC,EAAIsF,KAAKo6B,MAAM1/B,GACR,MAAQzG,EAAE8G,EAAI,IAAM9G,EAAEgH,EAAI,IAAMP,EAAI,IAAMA,EAAI,gBAIvD+yD,UAAW,WACV,MAAOz9D,MAAKi9D,UAKbS,cAAe,WACd,MAAQ19D,MAAKi9D,SAAW,SAAY,KAGrCG,cAAe,WACd,MAAOp9D,MAAK09D,gBAAkB1tD,KAAKghB,IAAI5wB,EAAE6zC,OAAOI,WAAar0C,KAAKysD,QAAQvY,MAG3EwjB,cAAe,WACd,IAAK13D,KAAKskD,KACT,OAAO,CAER,IAAIkR,GAAKx1D,KAAKskD,KAAKiQ,cACf7pD,EAAI1K,KAAKu9D,QACTt5D,EAAIjE,KAAKs9D,MAEb,OAAOr5D,GAAE8G,EAAIL,EAAI8qD,EAAGvlD,IAAIlF,GAAK9G,EAAEgH,EAAIP,EAAI8qD,EAAGvlD,IAAIhF,GACvChH,EAAE8G,EAAIL,EAAI8qD,EAAG5gC,IAAI7pB,GAAK9G,EAAEgH,EAAIP,EAAI8qD,EAAG5gC,IAAI3pB,KAIhD7K,EAAEu9D,OAAS,SAAUxmB,EAAQ6lB,EAAQtkD,GACpC,MAAO,IAAItY,GAAE28D,OAAO5lB,EAAQ6lB,EAAQtkD,IAQrCtY,EAAEw9D,aAAex9D,EAAE28D,OAAOr3D,QACzBgT,SACCskD,OAAQ,GACRtJ,OAAQ,GAGT32B,WAAY,SAAUoa,EAAQz+B,GAC7BtY,EAAE28D,OAAO1xD,UAAU0xB,WAAW/zB,KAAKhJ,KAAMm3C,EAAQ,KAAMz+B,GACvD1Y,KAAKu9D,QAAUv9D,KAAK0Y,QAAQskD,QAG7BlJ,eAAgB,WACf9zD,KAAKs9D,OAASt9D,KAAKskD,KAAKhF,mBAAmBt/C,KAAKysD,UAGjD2H,aAAe,WACdh0D,EAAE28D,OAAO1xD,UAAU+oD,aAAaprD,KAAKhJ,MACrCA,KAAKk9D,UAAUl9D,KAAK0Y,QAAQskD,SAG7BlQ,UAAW,SAAU3V,GAKpB,MAJA/2C,GAAE28D,OAAO1xD,UAAUyhD,UAAU9jD,KAAKhJ,KAAMm3C,GACpCn3C,KAAKitD,QAAUjtD,KAAKitD,OAAOiC,SAC9BlvD,KAAKitD,OAAOH,UAAU3V,GAEhBn3C,MAGRk9D,UAAW,SAAUF,GAEpB,MADAh9D,MAAK0Y,QAAQskD,OAASh9D,KAAKu9D,QAAUP,EAC9Bh9D,KAAK4lD,UAGb6X,UAAW,WACV,MAAOz9D,MAAKu9D,WAIdn9D,EAAEy9D,aAAe,SAAU1mB,EAAQz+B,GAClC,MAAO,IAAItY,GAAEw9D,aAAazmB,EAAQz+B,IAQnCtY,EAAE65D,SAAS5lC,QAASj0B,EAAE6yD,KAAKuD,QAC1BqB,eAAgB,SAAU5zD,EAAG65D,GAC5B,GAAI35D,GAAGP,EAAGS,EAAGglC,EAAK+tB,EAAM2G,EAAMC,EAC1BlzD,EAAI9K,KAAK0Y,QAAQg7C,OAAS,CAM9B,KAJItzD,EAAE2uC,QAAQL,QACb5jC,GAAK,IAGD3G,EAAI,EAAGklC,EAAMrpC,KAAKu3D,OAAOnzD,OAAQD,EAAIklC,EAAKllC,IAE9C,IADA65D,EAAOh+D,KAAKu3D,OAAOpzD,GACdP,EAAI,EAAGwzD,EAAO4G,EAAK55D,OAAQC,EAAI+yD,EAAO,EAAGxzD,EAAIwzD,EAAM/yD,EAAIT,IAC3D,IAAKk6D,GAAiB,IAANl6D,KAIhBm6D,EAAO39D,EAAE+3D,SAASM,uBAAuBx0D,EAAG+5D,EAAK35D,GAAI25D,EAAKp6D,IAEtDm6D,GAAQjzD,GACX,OAAO,CAIV,QAAO,QAST1K,EAAEo3D,QAAQnjC,QAASj0B,EAAE6yD,KAAKuD,QACzBqB,eAAgB,SAAU5zD,GACzB,GACI+5D,GAAMtF,EAAIC,EACVx0D,EAAGP,EAAGS,EACNglC,EAAK+tB,EAHLhZ,GAAS,CAOb,IAAIh+C,EAAE65D,SAAS5uD,UAAUwsD,eAAe7uD,KAAKhJ,KAAMiE,GAAG,GAErD,OAAO,CAKR,KAAKE,EAAI,EAAGklC,EAAMrpC,KAAKu3D,OAAOnzD,OAAQD,EAAIklC,EAAKllC,IAG9C,IAFA65D,EAAOh+D,KAAKu3D,OAAOpzD,GAEdP,EAAI,EAAGwzD,EAAO4G,EAAK55D,OAAQC,EAAI+yD,EAAO,EAAGxzD,EAAIwzD,EAAM/yD,EAAIT,IAC3D80D,EAAKsF,EAAKp6D,GACV+0D,EAAKqF,EAAK35D,GAEJq0D,EAAGztD,EAAIhH,EAAEgH,GAAQ0tD,EAAG1tD,EAAIhH,EAAEgH,GAC7BhH,EAAE8G,GAAK4tD,EAAG5tD,EAAI2tD,EAAG3tD,IAAM9G,EAAEgH,EAAIytD,EAAGztD,IAAM0tD,EAAG1tD,EAAIytD,EAAGztD,GAAKytD,EAAG3tD,IAC1DqzC,GAAUA,EAKb,OAAOA,SASTh+C,EAAE28D,OAAO1oC,QAASj0B,EAAE6yD,KAAKuD,QACxBW,UAAW,WACV,GAAIlzD,GAAIjE,KAAKs9D,MACbt9D,MAAK82D,KAAKQ,YACVt3D,KAAK82D,KAAKmH,IAAIh6D,EAAE8G,EAAG9G,EAAEgH,EAAGjL,KAAKu9D,QAAS,EAAa,EAAVvtD,KAAKihB,IAAQ,IAGvD4mC,eAAgB,SAAU5zD,GACzB,GAAIi1C,GAASl5C,KAAKs9D,OACdY,EAAKl+D,KAAK0Y,QAAQ26C,OAASrzD,KAAK0Y,QAAQg7C,OAAS,EAAI,CAEzD,OAAQzvD,GAAE8rC,WAAWmJ,IAAWl5C,KAAKu9D,QAAUW,QASjD99D,EAAEw9D,aAAavpC,QAASj0B,EAAE6yD,KAAKuD,QAC9BpC,aAAc,WACbh0D,EAAE6yD,KAAK5nD,UAAU+oD,aAAaprD,KAAKhJ,YASrCI,EAAE+9D,QAAU/9D,EAAEsyD,aAAahtD,QAE1Bq3B,WAAY,SAAUqhC,EAAS1lD,GAC9BtY,EAAEkqC,WAAWtqC,KAAM0Y,GAEnB1Y,KAAKq5C,WAED+kB,GACHp+D,KAAKq+D,QAAQD,IAIfC,QAAS,SAAUD,GAClB,GACIj6D,GAAGklC,EAAKi1B,EADRC,EAAWn+D,EAAE+oC,KAAK/jC,QAAQg5D,GAAWA,EAAUA,EAAQG,QAG3D,IAAIA,EAAU,CACb,IAAKp6D,EAAI,EAAGklC,EAAMk1B,EAASn6D,OAAQD,EAAIklC,EAAKllC,IAE3Cm6D,EAAUC,EAASp6D,IACfm6D,EAAQE,YAAcF,EAAQG,UAAYH,EAAQC,UAAYD,EAAQI,cACzE1+D,KAAKq+D,QAAQE,EAASp6D,GAGxB,OAAOnE,MAGR,GAAI0Y,GAAU1Y,KAAK0Y,OAEnB,KAAIA,EAAQxP,QAAWwP,EAAQxP,OAAOk1D,GAAtC,CAEA,GAAIriB,GAAQ37C,EAAE+9D,QAAQQ,gBAAgBP,EAAS1lD,EAAQkmD,aAAclmD,EAAQmmD,eAAgBnmD,EAU7F,OATAqjC,GAAMuiB,QAAUl+D,EAAE+9D,QAAQW,UAAUV,GAEpCriB,EAAMgjB,eAAiBhjB,EAAMrjC,QAC7B1Y,KAAKg/D,WAAWjjB,GAEZrjC,EAAQumD,eACXvmD,EAAQumD,cAAcb,EAASriB,GAGzB/7C,KAAK87C,SAASC,KAGtBijB,WAAY,SAAUjjB,GACrB,GAAIx1C,GAAQvG,KAAK0Y,QAAQnS,KACrBA,KAEHnG,EAAE+oC,KAAKzjC,OAAOq2C,EAAMrjC,QAASqjC,EAAMgjB,gBAEnC/+D,KAAKk/D,eAAenjB,EAAOx1C,KAI7BwsD,SAAU,SAAUxsD,GACnBvG,KAAK08C,UAAU,SAAUX,GACxB/7C,KAAKk/D,eAAenjB,EAAOx1C,IACzBvG,OAGJk/D,eAAgB,SAAUnjB,EAAOx1C,GACX,kBAAVA,KACVA,EAAQA,EAAMw1C,EAAMuiB,UAEjBviB,EAAMgX,UACThX,EAAMgX,SAASxsD,MAKlBnG,EAAEsF,OAAOtF,EAAE+9D,SACVQ,gBAAiB,SAAUP,EAASQ,EAAcC,EAAgBM,GACjE,GAGIhoB,GAAQ3B,EAASrxC,EAAGklC,EAHpBo1B,EAA4B,YAAjBL,EAAQ94D,KAAqB84D,EAAQK,SAAWL,EAC3DnkD,EAASwkD,EAASC,YAClBjlB,IAKJ,QAFAolB,EAAiBA,GAAkB7+D,KAAK6+D,eAEhCJ,EAASn5D,MACjB,IAAK,QAEJ,MADA6xC,GAAS0nB,EAAe5kD,GACjB2kD,EAAeA,EAAaR,EAASjnB,GAAU,GAAI/2C,GAAE8rD,OAAO/U,EAEpE,KAAK,aACJ,IAAKhzC,EAAI,EAAGklC,EAAMpvB,EAAO7V,OAAQD,EAAIklC,EAAKllC,IACzCgzC,EAAS0nB,EAAe5kD,EAAO9V,IAC/Bs1C,EAAO9tC,KAAKizD,EAAeA,EAAaR,EAASjnB,GAAU,GAAI/2C,GAAE8rD,OAAO/U,GAEzE,OAAO,IAAI/2C,GAAEsyD,aAAajZ,EAE3B,KAAK,aAEJ,MADAjE,GAAUx1C,KAAKo/D,gBAAgBnlD,EAAQ,EAAG4kD,GACnC,GAAIz+D,GAAE65D,SAASzkB,EAAS2pB,EAEhC,KAAK,UACJ,GAAsB,IAAlBllD,EAAO7V,SAAiB6V,EAAO,GAAG7V,OACrC,KAAM,IAAI8K,OAAM,0BAGjB,OADAsmC,GAAUx1C,KAAKo/D,gBAAgBnlD,EAAQ,EAAG4kD,GACnC,GAAIz+D,GAAEo3D,QAAQhiB,EAAS2pB,EAE/B,KAAK,kBAEJ,MADA3pB,GAAUx1C,KAAKo/D,gBAAgBnlD,EAAQ,EAAG4kD,GACnC,GAAIz+D,GAAEm8D,cAAc/mB,EAAS2pB,EAErC,KAAK,eAEJ,MADA3pB,GAAUx1C,KAAKo/D,gBAAgBnlD,EAAQ,EAAG4kD,GACnC,GAAIz+D,GAAEo8D,aAAahnB,EAAS2pB,EAEpC,KAAK,qBACJ,IAAKh7D,EAAI,EAAGklC,EAAMo1B,EAASD,WAAWp6D,OAAQD,EAAIklC,EAAKllC,IAEtDs1C,EAAO9tC,KAAK3L,KAAK2+D,iBAChBF,SAAUA,EAASD,WAAWr6D,GAC9BmB,KAAM,UACN+5D,WAAYjB,EAAQiB,YAClBT,EAAcC,EAAgBM,GAElC,OAAO,IAAI/+D,GAAEsyD,aAAajZ,EAE3B,SACC,KAAM,IAAIvqC,OAAM,6BAIlB2vD,eAAgB,SAAU5kD,GACzB,MAAO,IAAI7Z,GAAE6zC,OAAOh6B,EAAO,GAAIA,EAAO,GAAIA,EAAO,KAGlDmlD,gBAAiB,SAAUnlD,EAAQqlD,EAAYT,GAC9C,GAAI1nB,GAAQhzC,EAAGklC,EACXmM,IAEJ,KAAKrxC,EAAI,EAAGklC,EAAMpvB,EAAO7V,OAAQD,EAAIklC,EAAKllC,IACzCgzC,EAASmoB,EACDt/D,KAAKo/D,gBAAgBnlD,EAAO9V,GAAIm7D,EAAa,EAAGT,IAC/CA,GAAkB7+D,KAAK6+D,gBAAgB5kD,EAAO9V,IAEvDqxC,EAAQ7pC,KAAKwrC,EAGd,OAAO3B,IAGR+pB,eAAgB,SAAUpoB,GACzB,GAAIl9B,IAAUk9B,EAAOhD,IAAKgD,EAAOjD,IAKjC,OAHIiD,GAAO/C,MAAQlZ,GAClBjhB,EAAOtO,KAAKwrC,EAAO/C,KAEbn6B,GAGRulD,gBAAiB,SAAUC,GAG1B,IAAK,GAFDxlD,MAEK9V,EAAI,EAAGklC,EAAMo2B,EAAQr7D,OAAQD,EAAIklC,EAAKllC,IAC9C8V,EAAOtO,KAAKvL,EAAE+9D,QAAQoB,eAAeE,EAAQt7D,IAG9C,OAAO8V,IAGRylD,WAAY,SAAU3jB,EAAO4jB,GAC5B,MAAO5jB,GAAMuiB,QAAUl+D,EAAEsF,UAAWq2C,EAAMuiB,SAAUG,SAAUkB,IAAgBv/D,EAAE+9D,QAAQW,UAAUa,IAGnGb,UAAW,SAAUc,GACpB,MAAqB,YAAjBA,EAAQt6D,KACJs6D,GAIPt6D,KAAM,UACN+5D,cACAZ,SAAUmB,KAKb,IAAIC,IACHC,UAAW,WACV,MAAO1/D,GAAE+9D,QAAQuB,WAAW1/D,MAC3BsF,KAAM,QACNo5D,YAAat+D,EAAE+9D,QAAQoB,eAAev/D,KAAK6sD,gBAK9CzsD,GAAE8rD,OAAO73B,QAAQwrC,GACjBz/D,EAAE28D,OAAO1oC,QAAQwrC,GACjBz/D,EAAEw9D,aAAavpC,QAAQwrC,GAEvBz/D,EAAE65D,SAAS5lC,SACVyrC,UAAW,WACV,MAAO1/D,GAAE+9D,QAAQuB,WAAW1/D,MAC3BsF,KAAM,aACNo5D,YAAat+D,EAAE+9D,QAAQqB,gBAAgBx/D,KAAKu6D,mBAK/Cn6D,EAAEo3D,QAAQnjC,SACTyrC,UAAW,WACV,GACI37D,GAAGklC,EAAKyyB,EADR7hD,GAAU7Z,EAAE+9D,QAAQqB,gBAAgBx/D,KAAKu6D,cAK7C,IAFAtgD,EAAO,GAAGtO,KAAKsO,EAAO,GAAG,IAErBja,KAAK+7D,OACR,IAAK53D,EAAI,EAAGklC,EAAMrpC,KAAK+7D,OAAO33D,OAAQD,EAAIklC,EAAKllC,IAC9C23D,EAAO17D,EAAE+9D,QAAQqB,gBAAgBx/D,KAAK+7D,OAAO53D,IAC7C23D,EAAKnwD,KAAKmwD,EAAK,IACf7hD,EAAOtO,KAAKmwD,EAId,OAAO17D,GAAE+9D,QAAQuB,WAAW1/D,MAC3BsF,KAAM,UACNo5D,YAAazkD,OAKf,WACA,QAAS8lD,GAAez6D,GACvB,MAAO,YACN,GAAI2U,KAMJ,OAJAja,MAAK08C,UAAU,SAAUX,GACxB9hC,EAAOtO,KAAKowC,EAAM+jB,YAAYrB,SAASC,eAGjCt+D,EAAE+9D,QAAQuB,WAAW1/D,MAC3BsF,KAAMA,EACNo5D,YAAazkD,KAKhB7Z,EAAEm8D,cAAcloC,SAASyrC,UAAWC,EAAe,qBACnD3/D,EAAEo8D,aAAanoC,SAASyrC,UAAWC,EAAe,kBAElD3/D,EAAE+xD,WAAW99B,SACZyrC,UAAW,WAEV,GAEC1zC,GAFGqyC,EAAWz+D,KAAKs+D,SAAWt+D,KAAKs+D,QAAQG,SAC3CuB,IAGD,IAAIvB,GAA8B,eAAlBA,EAASn5D,KACxB,MAAOy6D,GAAe,cAAc/2D,KAAKhJ,KAG1C,IAAIigE,GAAuBxB,GAA8B,uBAAlBA,EAASn5D,IAShD,OAPAtF,MAAK08C,UAAU,SAAUX,GACpBA,EAAM+jB,YACT1zC,EAAO2vB,EAAM+jB,YACbE,EAAMr0D,KAAKs0D,EAAuB7zC,EAAKqyC,SAAWr+D,EAAE+9D,QAAQW,UAAU1yC,OAIpE6zC,EACI7/D,EAAE+9D,QAAQuB,WAAW1/D,MAC3Bw+D,WAAYwB,EACZ16D,KAAM,wBAKPA,KAAM,oBACNi5D,SAAUyB,SAMd5/D,EAAE8/D,QAAU,SAAU9B,EAAS1lD,GAC9B,MAAO,IAAItY,GAAE+9D,QAAQC,EAAS1lD,IAQ/BtY,EAAEuzC,UAEDwsB,YAAa,SAAU52B,EAAKjkC,EAAMiF,EAAI6B,GAErC,GAEIoO,GAAS4lD,EAAiBC,EAF1BpzD,EAAK7M,EAAEopC,MAAMj/B,GACbqvB,EAAM,YAAct0B,EAAO2H,CAG/B,OAAIs8B,GAAI3P,GAAe55B,MAEvBwa,EAAU,SAAUlZ,GACnB,MAAOiJ,GAAGvB,KAAKoD,GAAWm9B,EAAKjoC,GAAKlB,EAAEuzC,SAAS2sB,cAG5ClgE,EAAE2uC,QAAQnB,SAAqC,IAA1BtoC,EAAK2G,QAAQ,SAC9BjM,KAAKugE,mBAAmBh3B,EAAKjkC,EAAMkV,EAASvN,IAEhD7M,EAAE2uC,QAAQL,OAAmB,aAATppC,GAAwBtF,KAAKwgE,sBACpDxgE,KAAKwgE,qBAAqBj3B,EAAK/uB,EAASvN,GAGrC,oBAAsBs8B,GAEZ,eAATjkC,GACHikC,EAAI36B,iBAAiB,iBAAkB4L,GAAS,GAChD+uB,EAAI36B,iBAAiBtJ,EAAMkV,GAAS,IAEhB,eAATlV,GAAoC,eAATA,GAEtC86D,EAAkB5lD,EAClB6lD,EAAoB,eAAT/6D,EAAwB,YAAc,WAEjDkV,EAAU,SAAUlZ,GACnB,GAAKlB,EAAEuzC,SAAS8sB,YAAYl3B,EAAKjoC,GACjC,MAAO8+D,GAAgB9+D,IAGxBioC,EAAI36B,iBAAiByxD,EAAS7lD,GAAS,IAEpB,UAATlV,GAAoBlF,EAAE2uC,QAAQ5B,SACxCizB,EAAkB5lD,EAClBA,EAAU,SAAUlZ,GACnB,MAAOlB,GAAEuzC,SAAS+sB,aAAap/D,EAAG8+D,IAGnC72B,EAAI36B,iBAAiBtJ,EAAMkV,GAAS,IAEpC+uB,EAAI36B,iBAAiBtJ,EAAMkV,GAAS,GAG3B,eAAiB+uB,IAC3BA,EAAI16B,YAAY,KAAOvJ,EAAMkV,GAG9B+uB,EAAI3P,GAAOpf,EAEJxa,QAGR2gE,eAAgB,SAAUp3B,EAAKjkC,EAAMiF,GAEpC,GAAI0C,GAAK7M,EAAEopC,MAAMj/B,GACbqvB,EAAM,YAAct0B,EAAO2H,EAC3BuN,EAAU+uB,EAAI3P,EAElB,OAAKpf,IAEDpa,EAAE2uC,QAAQnB,SAAqC,IAA1BtoC,EAAK2G,QAAQ,SACrCjM,KAAK4gE,sBAAsBr3B,EAAKjkC,EAAM2H,GAC5B7M,EAAE2uC,QAAQL,OAAmB,aAATppC,GAAwBtF,KAAK6gE,wBAC3D7gE,KAAK6gE,wBAAwBt3B,EAAKt8B,GAExB,uBAAyBs8B,GAEtB,eAATjkC,GACHikC,EAAIz4B,oBAAoB,iBAAkB0J,GAAS,GACnD+uB,EAAIz4B,oBAAoBxL,EAAMkV,GAAS,IAEnB,eAATlV,GAAoC,eAATA,EACtCikC,EAAIz4B,oBAA8B,eAATxL,EAAwB,YAAc,WAAakV,GAAS,GAErF+uB,EAAIz4B,oBAAoBxL,EAAMkV,GAAS,GAE9B,eAAiB+uB,IAC3BA,EAAIx4B,YAAY,KAAOzL,EAAMkV,GAG9B+uB,EAAI3P,GAAO,KAEJ55B,MAxBgBA,MA2BxB6c,gBAAiB,SAAUvb,GAS1B,MAPIA,GAAEub,gBACLvb,EAAEub,kBAEFvb,EAAE0d,cAAe,EAElB5e,EAAEuzC,SAASkO,SAASvgD,GAEbtB,MAGR4wD,yBAA0B,SAAUhtB,GACnC,GAAIpsB,GAAOpX,EAAEuzC,SAAS92B,eAEtB,OAAOzc,GAAEuzC,SACPh0B,GAAGikB,EAAI,aAAcpsB,GACrBmI,GAAGikB,EAAI,sBAAuBpsB,IAGjC+4C,wBAAyB,SAAU3sB,GAGlC,IAAK,GAFDpsB,GAAOpX,EAAEuzC,SAAS92B,gBAEb1Y,EAAI/D,EAAE0gE,UAAUC,MAAM38D,OAAS,EAAGD,GAAK,EAAGA,IAClD/D,EAAEuzC,SAASh0B,GAAGikB,EAAIxjC,EAAE0gE,UAAUC,MAAM58D,GAAIqT,EAGzC,OAAOpX,GAAEuzC,SACPh0B,GAAGikB,EAAI,QAASxjC,EAAEuzC,SAASqtB,WAC3BrhD,GAAGikB,EAAI,WAAYpsB,IAGtB0E,eAAgB,SAAU5a,GAOzB,MALIA,GAAE4a,eACL5a,EAAE4a,iBAEF5a,EAAEud,aAAc,EAEV7e,MAGRwX,KAAM,SAAUlW,GACf,MAAOlB,GAAEuzC,SACPz3B,eAAe5a,GACfub,gBAAgBvb,IAGnBs+C,iBAAkB,SAAUt+C,EAAG2wC,GAC9B,IAAKA,EACJ,MAAO,IAAI7xC,GAAEgvC,MAAM9tC,EAAEkc,QAASlc,EAAEsc,QAGjC,IAAIqjD,GAAOhvB,EAAU9f,uBAErB,OAAO,IAAI/xB,GAAEgvC,MACZ9tC,EAAEkc,QAAUyjD,EAAKx3C,KAAOwoB,EAAUv0B,WAClCpc,EAAEsc,QAAUqjD,EAAKnrD,IAAMm8B,EAAUn0B,YAGnCojD,cAAe,SAAU5/D,GAExB,GAAI24C,GAAQ,CAQZ,OANI34C,GAAE6/D,aACLlnB,EAAQ34C,EAAE6/D,WAAa,KAEpB7/D,EAAE8/D,SACLnnB,GAAS34C,EAAE8/D,OAAS,GAEdnnB,GAGRonB,eAEAL,UAAW,SAAU1/D,GAEpBlB,EAAEuzC,SAAS0tB,YAAY//D,EAAEgE,OAAQ,GAGlCu8C,SAAU,SAAUvgD,GACnB,GAAIggE,GAAUthE,KAAKqhE,YAAY//D,EAAEgE,KAGjC,OADAtF,MAAKqhE,YAAY//D,EAAEgE,OAAQ,EACpBg8D,GAIRb,YAAa,SAAU78B,EAAItiC,GAE1B,GAAIigE,GAAUjgE,EAAEyc,aAEhB,KAAKwjD,EAAW,OAAO,CAEvB,KACC,KAAOA,GAAYA,IAAY39B,GAC9B29B,EAAUA,EAAQl4D,WAElB,MAAOm4D,GACR,OAAO,EAER,MAAQD,KAAY39B,GAGrB08B,UAAW,WAEV,GAAIh/D,GAAIyN,EAAOzG,KACf,KAAKhH,EAEJ,IADA,GAAImgE,GAAS3zD,UAAU4zD,OAAOD,OACvBA,IACNngE,EAAImgE,EAAkB,UAAE,IACpBngE,GAAKyN,EAAO2M,QAAUpa,EAAE6K,cAG5Bs1D,EAASA,EAAOA,MAGlB,OAAOngE,IAIRo/D,aAAc,SAAUp/D,EAAGkZ,GAC1B,GAAIuE,GAAazd,EAAEyd,WAAazd,EAAEqd,cAAcI,UAC/C4iD,EAAUvhE,EAAEuzC,SAASiuB,YAAe7iD,EAAY3e,EAAEuzC,SAASiuB,UAO5D,OAAKD,IAAWA,EAAU,KAAOA,EAAU,KAASrgE,EAAEya,OAAO8lD,kBAAoBvgE,EAAEmgD,eAClFrhD,GAAEuzC,SAASn8B,KAAKlW,IAGjBlB,EAAEuzC,SAASiuB,WAAa7iD,EAEjBvE,EAAQlZ,MAIjBlB,EAAEuzC,SAASh0B,GAAKvf,EAAEuzC,SAASwsB,YAC3B//D,EAAEuzC,SAASllC,IAAMrO,EAAEuzC,SAASgtB,eAO5BvgE,EAAE0gE,UAAY1gE,EAAEmrC,MAAM7lC,QACrBmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElB+P,SACCm1B,MAAO3gE,EAAE2uC,QAAQL,OAAS,aAAc,cAAgB,aACxDozB,KACCC,UAAW,UACXC,WAAY,WACZC,YAAa,WACbC,cAAe,YAEhBC,MACCJ,UAAW,YACXC,WAAY,YACZC,YAAa,YACbC,cAAe,cAIjBnlC,WAAY,SAAU+G,EAASs+B,GAC9BpiE,KAAKqiE,SAAWv+B,EAChB9jC,KAAKsiE,iBAAmBF,GAAmBt+B,GAG5CuZ,OAAQ,WACP,IAAIr9C,KAAKouD,SAAT,CAEA,IAAK,GAAIjqD,GAAI/D,EAAE0gE,UAAUC,MAAM38D,OAAS,EAAGD,GAAK,EAAGA,IAClD/D,EAAEuzC,SAASh0B,GAAG3f,KAAKsiE,iBAAkBliE,EAAE0gE,UAAUC,MAAM58D,GAAInE,KAAKuiE,QAASviE,KAG1EA,MAAKouD,UAAW,IAGjB/8C,QAAS,WACR,GAAKrR,KAAKouD,SAAV,CAEA,IAAK,GAAIjqD,GAAI/D,EAAE0gE,UAAUC,MAAM38D,OAAS,EAAGD,GAAK,EAAGA,IAClD/D,EAAEuzC,SAASllC,IAAIzO,KAAKsiE,iBAAkBliE,EAAE0gE,UAAUC,MAAM58D,GAAInE,KAAKuiE,QAASviE,KAG3EA,MAAKouD,UAAW,EAChBpuD,KAAK49C,QAAS,IAGf2kB,QAAS,SAAUjhE,GAGlB,GAFAtB,KAAK49C,QAAS,GAEVt8C,EAAEkhE,WAA0B,IAAZlhE,EAAE4b,OAA8B,IAAb5b,EAAE4Y,QAAkB5Y,EAAEmhE,WAE7DriE,EAAEuzC,SAAS92B,gBAAgBvb,IAEvBlB,EAAE0gE,UAAU4B,YAEhBtiE,EAAEoxC,QAAQuC,mBACV3zC,EAAEoxC,QAAQkC,wBAEN1zC,KAAK2iE,UAAT,CAEA,GAAI/0D,GAAQtM,EAAEmhE,QAAUnhE,EAAEmhE,QAAQ,GAAKnhE,CAEvCtB,MAAK4iE,YAAc,GAAIxiE,GAAEgvC,MAAMxhC,EAAM4P,QAAS5P,EAAMgQ,SACpD5d,KAAK6iE,UAAY7iE,KAAK8iE,QAAU1iE,EAAEoxC,QAAQ+B,YAAYvzC,KAAKqiE,UAE3DjiE,EAAEuzC,SACGh0B,GAAGzd,EAAU9B,EAAE0gE,UAAUqB,KAAK7gE,EAAEgE,MAAOtF,KAAK+iE,QAAS/iE,MACrD2f,GAAGzd,EAAU9B,EAAE0gE,UAAUgB,IAAIxgE,EAAEgE,MAAOtF,KAAKgjE,MAAOhjE,QAGxD+iE,QAAS,SAAUzhE,GAClB,GAAIA,EAAEmhE,SAAWnhE,EAAEmhE,QAAQr+D,OAAS,EAEnC,YADApE,KAAK49C,QAAS,EAIf,IAAIhwC,GAAStM,EAAEmhE,SAAgC,IAArBnhE,EAAEmhE,QAAQr+D,OAAe9C,EAAEmhE,QAAQ,GAAKnhE,EAC9D2hE,EAAW,GAAI7iE,GAAEgvC,MAAMxhC,EAAM4P,QAAS5P,EAAMgQ,SAC5C/E,EAASoqD,EAAS1zB,SAASvvC,KAAK4iE,cAE/B/pD,EAAO9N,GAAM8N,EAAO5N,KACrB7K,EAAE2uC,QAAQL,OAAS1+B,KAAKkgC,IAAIr3B,EAAO9N,GAAKiF,KAAKkgC,IAAIr3B,EAAO5N,GAAK,IAEjE7K,EAAEuzC,SAASz3B,eAAe5a,GAErBtB,KAAK49C,SACT59C,KAAKyJ,KAAK,aAEVzJ,KAAK49C,QAAS,EACd59C,KAAK6iE,UAAYziE,EAAEoxC,QAAQ+B,YAAYvzC,KAAKqiE,UAAU9yB,SAAS12B,GAE/DzY,EAAEoxC,QAAQz5B,SAAS7V,EAASf,KAAM,oBAClCnB,KAAKkjE,YAAc5hE,EAAEya,QAAUza,EAAE2c,WACjC7d,EAAEoxC,QAAQz5B,SAAS/X,KAAKkjE,YAAa,wBAGtCljE,KAAK8iE,QAAU9iE,KAAK6iE,UAAUt6D,IAAIsQ,GAClC7Y,KAAK2iE,SAAU,EAEfviE,EAAE+oC,KAAKmC,gBAAgBtrC,KAAKmjE,cAC5BnjE,KAAKmjE,aAAe/iE,EAAE+oC,KAAKiC,iBAAiBprC,KAAKwvD,gBAAiBxvD,MAAM,EAAMA,KAAKsiE,qBAGpF9S,gBAAiB,WAChBxvD,KAAKyJ,KAAK,WACVrJ,EAAEoxC,QAAQ2B,YAAYnzC,KAAKqiE,SAAUriE,KAAK8iE,SAC1C9iE,KAAKyJ,KAAK,SAGXu5D,MAAO,WACN5iE,EAAEoxC,QAAQx5B,YAAY9V,EAASf,KAAM,oBAEjCnB,KAAKkjE,cACR9iE,EAAEoxC,QAAQx5B,YAAYhY,KAAKkjE,YAAa,uBACxCljE,KAAKkjE,YAAc,KAGpB,KAAK,GAAI/+D,KAAK/D,GAAE0gE,UAAUqB,KACzB/hE,EAAEuzC,SACGllC,IAAIvM,EAAU9B,EAAE0gE,UAAUqB,KAAKh+D,GAAInE,KAAK+iE,SACxCt0D,IAAIvM,EAAU9B,EAAE0gE,UAAUgB,IAAI39D,GAAInE,KAAKgjE,MAG7C5iE,GAAEoxC,QAAQwC,kBACV5zC,EAAEoxC,QAAQoC,sBAEN5zC,KAAK49C,QAAU59C,KAAK2iE,UAEvBviE,EAAE+oC,KAAKmC,gBAAgBtrC,KAAKmjE,cAE5BnjE,KAAKyJ,KAAK,WACTuxD,SAAUh7D,KAAK8iE,QAAQ/yB,WAAW/vC,KAAK6iE,cAIzC7iE,KAAK2iE,SAAU,KAUjBviE,EAAE6tD,QAAU7tD,EAAEmrC,MAAM7lC,QACnBq3B,WAAY,SAAU/uB,GACrBhO,KAAKskD,KAAOt2C,GAGbqvC,OAAQ,WACHr9C,KAAKouD,WAETpuD,KAAKouD,UAAW,EAChBpuD,KAAKojE,aAGN/xD,QAAS,WACHrR,KAAKouD,WAEVpuD,KAAKouD,UAAW,EAChBpuD,KAAKqjE,gBAGNjhD,QAAS,WACR,QAASpiB,KAAKouD,YAShBhuD,EAAEm4C,IAAIxM,cACL2V,UAAU,EAEV4hB,SAAUljE,EAAE2uC,QAAQ3B,UACpBm2B,oBAAqB,KACrBC,gBAAiB7xC,EAAAA,EACjB8xC,iBAAkBrjE,EAAE2uC,QAAQL,MAAQ,GAAK,GACzCg1B,cAAe,IAGfC,eAAe,IAGhBvjE,EAAEm4C,IAAIqrB,KAAOxjE,EAAE6tD,QAAQvoD,QACtB09D,SAAU,WACT,IAAKpjE,KAAK6jE,WAAY,CACrB,GAAI71D,GAAMhO,KAAKskD,IAEftkD,MAAK6jE,WAAa,GAAIzjE,GAAE0gE,UAAU9yD,EAAIkyC,SAAUlyC,EAAIsvC,YAEpDt9C,KAAK6jE,WAAWlkD,IACfmkD,UAAa9jE,KAAK+jE,aAClBC,KAAQhkE,KAAKikE,QACbC,QAAWlkE,KAAKmkE,YACdnkE,MAECgO,EAAI0K,QAAQirD,gBACf3jE,KAAK6jE,WAAWlkD,GAAG,UAAW3f,KAAKokE,WAAYpkE,MAC/CgO,EAAI2R,GAAG,YAAa3f,KAAKqkE,aAAcrkE,MAEvCgO,EAAI8zC,UAAU9hD,KAAKqkE,aAAcrkE,OAGnCA,KAAK6jE,WAAWxmB,UAGjBgmB,YAAa,WACZrjE,KAAK6jE,WAAWxyD,WAGjBswC,MAAO,WACN,MAAO3hD,MAAK6jE,YAAc7jE,KAAK6jE,WAAWjmB,QAG3CmmB,aAAc,WACb,GAAI/1D,GAAMhO,KAAKskD,IAEXt2C,GAAIs2D,UACPt2D,EAAIs2D,SAAS9sD,OAGdxJ,EACKvE,KAAK,aACLA,KAAK,aAENuE,EAAI0K,QAAQ4qD,UACftjE,KAAKukE,cACLvkE,KAAKwkE,YAIPP,QAAS,WACR,GAAIjkE,KAAKskD,KAAK5rC,QAAQ4qD,QAAS,CAC9B,GAAI15B,GAAO5pC,KAAKykE,WAAa,GAAIp0D,MAC7BkhB,EAAMvxB,KAAK0kE,SAAW1kE,KAAK6jE,WAAWf,OAE1C9iE,MAAKukE,WAAW54D,KAAK4lB,GACrBvxB,KAAKwkE,OAAO74D,KAAKi+B,GAEbA,EAAO5pC,KAAKwkE,OAAO,GAAK,MAC3BxkE,KAAKukE,WAAWz/D,QAChB9E,KAAKwkE,OAAO1/D,SAId9E,KAAKskD,KACA76C,KAAK,QACLA,KAAK,SAGX46D,aAAc,WAEb,GAAIM,GAAW3kE,KAAKskD,KAAK9T,UAAUd,UAAU,GACzCk1B,EAAgB5kE,KAAKskD,KAAKhF,oBAAoB,EAAG,GAErDt/C,MAAK6kE,oBAAsBD,EAAcr1B,SAASo1B,GAAU55D,EAC5D/K,KAAK8kE,YAAc9kE,KAAKskD,KAAKpN,SAAS,EAAG,MAAMnsC,GAGhDq5D,WAAY,WAEX,GAAIW,GAAa/kE,KAAK8kE,YAClBE,EAAYh1D,KAAKo6B,MAAM26B,EAAa,GACpCniB,EAAK5iD,KAAK6kE,oBACV95D,EAAI/K,KAAK6jE,WAAWf,QAAQ/3D,EAC5Bk6D,GAASl6D,EAAIi6D,EAAYpiB,GAAMmiB,EAAaC,EAAYpiB,EACxDsiB,GAASn6D,EAAIi6D,EAAYpiB,GAAMmiB,EAAaC,EAAYpiB,EACxDuiB,EAAOn1D,KAAKkgC,IAAI+0B,EAAQriB,GAAM5yC,KAAKkgC,IAAIg1B,EAAQtiB,GAAMqiB,EAAQC;AAEjEllE,KAAK6jE,WAAWf,QAAQ/3D,EAAIo6D,GAG7BhB,WAAY,SAAU7iE,GACrB,GAAI0M,GAAMhO,KAAKskD,KACX5rC,EAAU1K,EAAI0K,QACdrB,GAAS,GAAIhH,MAASrQ,KAAKykE,UAE3BW,GAAa1sD,EAAQ4qD,SAAWjsD,EAAQqB,EAAQ+qD,mBAAqBzjE,KAAKukE,WAAW,EAIzF,IAFAv2D,EAAIvE,KAAK,UAAWnI,GAEhB8jE,EACHp3D,EAAIvE,KAAK,eAEH,CAEN,GAAI47D,GAAYrlE,KAAK0kE,SAASn1B,SAASvvC,KAAKukE,WAAW,IACnD3zC,GAAY5wB,KAAKykE,UAAYptD,EAAQrX,KAAKwkE,OAAO,IAAM,IACvDc,EAAO5sD,EAAQgrD,cAEf6B,EAAcF,EAAU11B,WAAW21B,EAAO10C,GAC1CT,EAAQo1C,EAAYx1B,YAAY,EAAG,IAEnCy1B,EAAex1D,KAAK4kB,IAAIlc,EAAQ8qD,gBAAiBrzC,GACjDs1C,EAAqBF,EAAY51B,WAAW61B,EAAer1C,GAE3Du1C,EAAuBF,GAAgB9sD,EAAQ6qD,oBAAsB+B,GACrEzsD,EAAS4sD,EAAmB91B,YAAY+1B,EAAuB,GAAGt7B,OAEjEvxB,GAAO9N,GAAM8N,EAAO5N,GAIxB4N,EAAS7K,EAAIu0C,aAAa1pC,EAAQ7K,EAAI0K,QAAQsgC,WAE9C54C,EAAE+oC,KAAKiC,iBAAiB,WACvBp9B,EAAIytC,MAAM5iC,GACT+X,SAAU80C,EACVhC,cAAe4B,EACfK,aAAa,OATf33D,EAAIvE,KAAK,eAiBbrJ,EAAEm4C,IAAIvM,YAAY,aAAc,WAAY5rC,EAAEm4C,IAAIqrB,MAOlDxjE,EAAEm4C,IAAIxM,cACL65B,iBAAiB,IAGlBxlE,EAAEm4C,IAAIstB,gBAAkBzlE,EAAE6tD,QAAQvoD,QACjC09D,SAAU,WACTpjE,KAAKskD,KAAK3kC,GAAG,WAAY3f,KAAK8lE,eAAgB9lE,OAG/CqjE,YAAa,WACZrjE,KAAKskD,KAAK71C,IAAI,WAAYzO,KAAK8lE,eAAgB9lE,OAGhD8lE,eAAgB,SAAUxkE,GACzB,GAAI0M,GAAMhO,KAAKskD,KACXjvC,EAAOrH,EAAI0rC,WAAap4C,EAAEqd,cAAc6jD,UAAW,EAAK,EAExB,YAAhCx0D,EAAI0K,QAAQktD,gBACf53D,EAAI6rC,QAAQxkC,GAEZrH,EAAImsC,cAAc74C,EAAEg5C,eAAgBjlC,MAKvCjV,EAAEm4C,IAAIvM,YAAY,aAAc,kBAAmB5rC,EAAEm4C,IAAIstB,iBAOzDzlE,EAAEm4C,IAAIxM,cACLg6B,iBAAiB,IAGlB3lE,EAAEm4C,IAAIytB,gBAAkB5lE,EAAE6tD,QAAQvoD,QACjC09D,SAAU,WACThjE,EAAEuzC,SAASh0B,GAAG3f,KAAKskD,KAAKhH,WAAY,aAAct9C,KAAKimE,eAAgBjmE,MACvEI,EAAEuzC,SAASh0B,GAAG3f,KAAKskD,KAAKhH,WAAY,sBAAuBl9C,EAAEuzC,SAASz3B,gBACtElc,KAAKkmE,OAAS,GAGf7C,YAAa,WACZjjE,EAAEuzC,SAASllC,IAAIzO,KAAKskD,KAAKhH,WAAY,aAAct9C,KAAKimE,gBACxD7lE,EAAEuzC,SAASllC,IAAIzO,KAAKskD,KAAKhH,WAAY,sBAAuBl9C,EAAEuzC,SAASz3B,iBAGxE+pD,eAAgB,SAAU3kE,GACzB,GAAI24C,GAAQ75C,EAAEuzC,SAASutB,cAAc5/D,EAErCtB,MAAKkmE,QAAUjsB,EACfj6C,KAAKmmE,cAAgBnmE,KAAKskD,KAAK3E,2BAA2Br+C,GAErDtB,KAAKomE,aACTpmE,KAAKomE,YAAc,GAAI/1D,MAGxB,IAAIoZ,GAAOzZ,KAAKC,IAAI,KAAO,GAAII,MAASrQ,KAAKomE,YAAa,EAE1D3uD,cAAazX,KAAKqmE,QAClBrmE,KAAKqmE,OAASpjE,WAAW7C,EAAEyf,KAAK7f,KAAKsmE,aAActmE,MAAOypB,GAE1DrpB,EAAEuzC,SAASz3B,eAAe5a,GAC1BlB,EAAEuzC,SAAS92B,gBAAgBvb,IAG5BglE,aAAc,WACb,GAAIt4D,GAAMhO,KAAKskD,KACXrK,EAAQj6C,KAAKkmE,OACb7wD,EAAOrH,EAAI0rC,SAEfO,GAAQA,EAAQ,EAAIjqC,KAAKkmB,KAAK+jB,GAASjqC,KAAK8nB,MAAMmiB,GAClDA,EAAQjqC,KAAKC,IAAID,KAAK4kB,IAAIqlB,EAAO,IAAI,GACrCA,EAAQjsC,EAAI4rC,WAAWvkC,EAAO4kC,GAAS5kC,EAEvCrV,KAAKkmE,OAAS,EACdlmE,KAAKomE,WAAa,KAEbnsB,IAE+B,WAAhCjsC,EAAI0K,QAAQqtD,gBACf/3D,EAAI6rC,QAAQxkC,EAAO4kC,GAEnBjsC,EAAImsC,cAAcn6C,KAAKmmE,cAAe9wD,EAAO4kC,OAKhD75C,EAAEm4C,IAAIvM,YAAY,aAAc,kBAAmB5rC,EAAEm4C,IAAIytB,iBAOzD5lE,EAAEsF,OAAOtF,EAAEuzC,UAEV4yB,YAAanmE,EAAE2uC,QAAQvB,UAAY,gBAAkBptC,EAAE2uC,QAAQnB,QAAU,cAAgB,aACzF44B,UAAWpmE,EAAE2uC,QAAQvB,UAAY,cAAgBptC,EAAE2uC,QAAQnB,QAAU,YAAc,WAGnF4yB,qBAAsB,SAAUj3B,EAAK/uB,EAASvN,GAU7C,QAASw5D,GAAanlE,GACrB,GAAIolE,EAQJ,IANItmE,EAAE2uC,QAAQnB,SACb+4B,EAAeh7D,KAAKrK,EAAEslE,WACtBF,EAAQC,EAAeviE,QAEvBsiE,EAAQplE,EAAEmhE,QAAQr+D,SAEfsiE,EAAQ,GAAZ,CAIA,GAAIxjE,GAAMmN,KAAKnN,MACd+2C,EAAQ/2C,GAAO2K,GAAQ3K,EAExBwrC,GAAQptC,EAAEmhE,QAAUnhE,EAAEmhE,QAAQ,GAAKnhE,EACnCulE,EAAa5sB,EAAQ,GAAKA,GAAS5iC,EACnCxJ,EAAO3K,GAGR,QAAS4jE,GAAWxlE,GACnB,GAAIlB,EAAE2uC,QAAQnB,QAAS,CACtB,GAAIm5B,GAAMJ,EAAe16D,QAAQ3K,EAAEslE,UACnC,IAAIG,KAAQ,EACX,MAEDJ,GAAex4D,OAAO44D,EAAK,GAG5B,GAAIF,EAAW,CACd,GAAIzmE,EAAE2uC,QAAQnB,QAAS,CAEtB,GACCh2B,GADGovD,IAIJ,KAAK,GAAI7iE,KAAKuqC,GACb92B,EAAO82B,EAAMvqC,GACO,kBAATyT,GACVovD,EAAS7iE,GAAKyT,EAAKiI,KAAK6uB,GAExBs4B,EAAS7iE,GAAKyT,CAGhB82B,GAAQs4B,EAETt4B,EAAMppC,KAAO,WACbkV,EAAQk0B,GACR7gC,EAAO,MA1DT,GAAIA,GAGA6gC,EAFAm4B,GAAY,EACZxvD,EAAQ,IAER4vD,EAAM,YACNjF,EAAahiE,KAAKumE,YAClBW,EAAWlnE,KAAKwmE,UAChBG,IAsDJp9B,GAAI09B,EAAMjF,EAAa/0D,GAAMw5D,EAC7Bl9B,EAAI09B,EAAMC,EAAWj6D,GAAM65D,CAI3B,IAAIK,GAAa/mE,EAAE2uC,QAAQnB,QAAU1rC,EAAS+H,gBAAkBs/B,CAShE,OAPAA,GAAI36B,iBAAiBozD,EAAYyE,GAAc,GAC/CU,EAAWv4D,iBAAiBs4D,EAAUJ,GAAY,GAE9C1mE,EAAE2uC,QAAQnB,SACbu5B,EAAWv4D,iBAAiBxO,EAAEuzC,SAASyzB,eAAgBN,GAAY,GAG7D9mE,MAGR6gE,wBAAyB,SAAUt3B,EAAKt8B,GACvC,GAAIg6D,GAAM,WAWV,OATA19B,GAAIz4B,oBAAoB9Q,KAAKumE,YAAah9B,EAAI09B,EAAMjnE,KAAKumE,YAAct5D,IAAK,IAC3E7M,EAAE2uC,QAAQnB,QAAU1rC,EAAS+H,gBAAkBs/B,GAAKz4B,oBAC7C9Q,KAAKwmE,UAAWj9B,EAAI09B,EAAMjnE,KAAKwmE,UAAYv5D,IAAK,GAEpD7M,EAAE2uC,QAAQnB,SACb1rC,EAAS+H,gBAAgB6G,oBAAoB1Q,EAAEuzC,SAASyzB,eAAgB79B,EAAI09B,EAAMjnE,KAAKwmE,UAAYv5D,IAClG,GAGKjN,QASTI,EAAEsF,OAAOtF,EAAEuzC,UAGV0zB,aAAcjnE,EAAE2uC,QAAQvB,UAAY,gBAAkB,cACtD85B,aAAclnE,EAAE2uC,QAAQvB,UAAY,gBAAkB,cACtD+5B,WAAYnnE,EAAE2uC,QAAQvB,UAAY,cAAgB,YAClD45B,eAAgBhnE,EAAE2uC,QAAQvB,UAAY,kBAAoB,gBAE1Dg6B,aACAC,0BAA0B,EAM1BlH,mBAAoB,SAAUh3B,EAAKjkC,EAAMkV,EAASvN,GAEjD,OAAQ3H,GACR,IAAK,aACJ,MAAOtF,MAAK0nE,wBAAwBn+B,EAAKjkC,EAAMkV,EAASvN,EACzD,KAAK,WACJ,MAAOjN,MAAK2nE,sBAAsBp+B,EAAKjkC,EAAMkV,EAASvN,EACvD,KAAK,YACJ,MAAOjN,MAAK4nE,uBAAuBr+B,EAAKjkC,EAAMkV,EAASvN,EACxD,SACC,KAAM,6BAIRy6D,wBAAyB,SAAUn+B,EAAKjkC,EAAMkV,EAASvN,GACtD,GAAIg6D,GAAM,YACNY,EAAW7nE,KAAKwnE,UAEhBjkE,EAAK,SAAUjC,GAElBlB,EAAEuzC,SAASz3B,eAAe5a,EAG1B,KAAK,GADDwmE,IAAiB,EACZ3jE,EAAI,EAAGA,EAAI0jE,EAASzjE,OAAQD,IACpC,GAAI0jE,EAAS1jE,GAAGyiE,YAActlE,EAAEslE,UAAW,CAC1CkB,GAAiB,CACjB,OAGGA,GACJD,EAASl8D,KAAKrK,GAGfA,EAAEmhE,QAAUoF,EAAShlE,QACrBvB,EAAEymE,gBAAkBzmE,GAEpBkZ,EAAQlZ,GAQT,IALAioC,EAAI09B,EAAM,aAAeh6D,GAAM1J,EAC/BgmC,EAAI36B,iBAAiB5O,KAAKqnE,aAAc9jE,GAAI,IAIvCvD,KAAKynE,yBAA0B,CACnC,GAAIO,GAAa,SAAU1mE,GAC1B,IAAK,GAAI6C,GAAI,EAAGA,EAAI0jE,EAASzjE,OAAQD,IACpC,GAAI0jE,EAAS1jE,GAAGyiE,YAActlE,EAAEslE,UAAW,CAC1CiB,EAAS15D,OAAOhK,EAAG,EACnB,QAKHjC,GAAS+H,gBAAgB2E,iBAAiB5O,KAAKunE,WAAYS,GAAY,GACvE9lE,EAAS+H,gBAAgB2E,iBAAiB5O,KAAKonE,eAAgBY,GAAY,GAE3EhoE,KAAKynE,0BAA2B,EAGjC,MAAOznE,OAGR4nE,uBAAwB,SAAUr+B,EAAKjkC,EAAMkV,EAASvN,GAIrD,QAAS1J,GAAGjC,GAGX,GAAKA,EAAE2mE,cAAgB3mE,EAAE4mE,sBAA0C,UAAlB5mE,EAAE2mE,aAA0C,IAAd3mE,EAAE6mE,QAAjF,CAEA,IAAK,GAAIhkE,GAAI,EAAGA,EAAIs+D,EAAQr+D,OAAQD,IACnC,GAAIs+D,EAAQt+D,GAAGyiE,YAActlE,EAAEslE,UAAW,CACzCnE,EAAQt+D,GAAK7C,CACb,OAIFA,EAAEmhE,QAAUA,EAAQ5/D,QACpBvB,EAAEymE,gBAAkBzmE,GAEpBkZ,EAAQlZ,IAlBT,GAAI2lE,GAAM,YACNxE,EAAUziE,KAAKwnE,SAuBnB,OAHAj+B,GAAI09B,EAAM,YAAch6D,GAAM1J,EAC9BgmC,EAAI36B,iBAAiB5O,KAAKsnE,aAAc/jE,GAAI,GAErCvD,MAGR2nE,sBAAuB,SAAUp+B,EAAKjkC,EAAMkV,EAASvN,GACpD,GAAIg6D,GAAM,YACNxE,EAAUziE,KAAKwnE,UAEfjkE,EAAK,SAAUjC,GAClB,IAAK,GAAI6C,GAAI,EAAGA,EAAIs+D,EAAQr+D,OAAQD,IACnC,GAAIs+D,EAAQt+D,GAAGyiE,YAActlE,EAAEslE,UAAW,CACzCnE,EAAQt0D,OAAOhK,EAAG,EAClB,OAIF7C,EAAEmhE,QAAUA,EAAQ5/D,QACpBvB,EAAEymE,gBAAkBzmE,GAEpBkZ,EAAQlZ,GAOT,OAJAioC,GAAI09B,EAAM,WAAah6D,GAAM1J,EAC7BgmC,EAAI36B,iBAAiB5O,KAAKunE,WAAYhkE,GAAI,GAC1CgmC,EAAI36B,iBAAiB5O,KAAKonE,eAAgB7jE,GAAI,GAEvCvD,MAGR4gE,sBAAuB,SAAUr3B,EAAKjkC,EAAM2H,GAC3C,GAAIg6D,GAAM,YACN1jE,EAAKgmC,EAAI09B,EAAM3hE,EAAO2H,EAE1B,QAAQ3H,GACR,IAAK,aACJikC,EAAIz4B,oBAAoB9Q,KAAKqnE,aAAc9jE,GAAI,EAC/C,MACD,KAAK,YACJgmC,EAAIz4B,oBAAoB9Q,KAAKsnE,aAAc/jE,GAAI,EAC/C,MACD,KAAK,WACJgmC,EAAIz4B,oBAAoB9Q,KAAKunE,WAAYhkE,GAAI,GAC7CgmC,EAAIz4B,oBAAoB9Q,KAAKonE,eAAgB7jE,GAAI,GAIlD,MAAOvD,SASTI,EAAEm4C,IAAIxM,cACLq8B,UAAWhoE,EAAE2uC,QAAQL,QAAUtuC,EAAE2uC,QAAQ3B,UACzCi7B,oBAAoB,IAGrBjoE,EAAEm4C,IAAI+vB,UAAYloE,EAAE6tD,QAAQvoD,QAC3B09D,SAAU,WACThjE,EAAEuzC,SAASh0B,GAAG3f,KAAKskD,KAAKhH,WAAY,aAAct9C,KAAKuoE,cAAevoE,OAGvEqjE,YAAa,WACZjjE,EAAEuzC,SAASllC,IAAIzO,KAAKskD,KAAKhH,WAAY,aAAct9C,KAAKuoE,cAAevoE,OAGxEuoE,cAAe,SAAUjnE,GACxB,GAAI0M,GAAMhO,KAAKskD,IAEf,IAAKhjD,EAAEmhE,SAAgC,IAArBnhE,EAAEmhE,QAAQr+D,SAAgB4J,EAAI8pD,iBAAkB93D,KAAKwoE,SAAvE,CAEA,GAAI9P,GAAK1qD,EAAI6xC,uBAAuBv+C,EAAEmhE,QAAQ,IAC1C9J,EAAK3qD,EAAI6xC,uBAAuBv+C,EAAEmhE,QAAQ,IAC1CgG,EAAaz6D,EAAI8vC,sBAErB99C,MAAK0oE,aAAehQ,EAAGnwD,IAAIowD,GAAIjpB,UAAU,GACzC1vC,KAAK2oE,WAAajQ,EAAG3oB,WAAW4oB,GAEhC34D,KAAK49C,QAAS,EACd59C,KAAKwoE,UAAW,EAEhBxoE,KAAK4oE,cAAgBH,EAAWl5B,SAASvvC,KAAK0oE,cAE1C16D,EAAIs2D,UACPt2D,EAAIs2D,SAAS9sD,OAGdpX,EAAEuzC,SACGh0B,GAAGzd,EAAU,YAAalC,KAAK6oE,aAAc7oE,MAC7C2f,GAAGzd,EAAU,WAAYlC,KAAK8oE,YAAa9oE,MAEhDI,EAAEuzC,SAASz3B,eAAe5a,KAG3BunE,aAAc,SAAUvnE,GACvB,GAAI0M,GAAMhO,KAAKskD,IAEf,IAAKhjD,EAAEmhE,SAAgC,IAArBnhE,EAAEmhE,QAAQr+D,QAAiBpE,KAAKwoE,SAAlD,CAEA,GAAI9P,GAAK1qD,EAAI6xC,uBAAuBv+C,EAAEmhE,QAAQ,IAC1C9J,EAAK3qD,EAAI6xC,uBAAuBv+C,EAAEmhE,QAAQ,GAE9CziE,MAAK+oE,OAASrQ,EAAG3oB,WAAW4oB,GAAM34D,KAAK2oE,WACvC3oE,KAAKkmE,OAASxN,EAAGppB,KAAKqpB,GAAIjpB,UAAU,GAAGF,UAAUxvC,KAAK0oE,cAElC,IAAhB1oE,KAAK+oE,UAEJ/6D,EAAI0K,QAAQ2vD,qBACXr6D,EAAI0rC,YAAc1rC,EAAIgwC,cAAgBh+C,KAAK+oE,OAAS,GACpD/6D,EAAI0rC,YAAc1rC,EAAIkwC,cAAgBl+C,KAAK+oE,OAAS,KAGrD/oE,KAAK49C,SACTx9C,EAAEoxC,QAAQz5B,SAAS/J,EAAIkyC,SAAU,oBAEjClyC,EACKvE,KAAK,aACLA,KAAK,aAEVzJ,KAAK49C,QAAS,GAGfx9C,EAAE+oC,KAAKmC,gBAAgBtrC,KAAKmjE,cAC5BnjE,KAAKmjE,aAAe/iE,EAAE+oC,KAAKiC,iBACnBprC,KAAKgpE,cAAehpE,MAAM,EAAMA,KAAKskD,KAAKhH,YAElDl9C,EAAEuzC,SAASz3B,eAAe5a,OAG3B0nE,cAAe,WACd,GAAIh7D,GAAMhO,KAAKskD,KACXtR,EAAShzC,KAAKipE,kBACd/vB,EAASlrC,EAAI6vC,mBAAmB7K,GAChC39B,EAAOrH,EAAIoxC,aAAap/C,KAAK+oE,OAEjC/6D,GAAI62C,aAAa3L,EAAQ7jC,EAAMrV,KAAK0oE,aAAc1oE,KAAK+oE,OAAQ/oE,KAAKkmE,QAAQ,GAAO,IAGpF4C,YAAa,WACZ,IAAK9oE,KAAK49C,SAAW59C,KAAKwoE,SAEzB,YADAxoE,KAAKwoE,UAAW,EAIjB,IAAIx6D,GAAMhO,KAAKskD,IAEftkD,MAAKwoE,UAAW,EAChBpoE,EAAEoxC,QAAQx5B,YAAYhK,EAAIkyC,SAAU,oBACpC9/C,EAAE+oC,KAAKmC,gBAAgBtrC,KAAKmjE,cAE5B/iE,EAAEuzC,SACGllC,IAAIvM,EAAU,YAAalC,KAAK6oE,cAChCp6D,IAAIvM,EAAU,WAAYlC,KAAK8oE,YAEpC,IAAI91B,GAAShzC,KAAKipE,kBACd/vB,EAASlrC,EAAI6vC,mBAAmB7K,GAEhCk2B,EAAUl7D,EAAI0rC,UACdyvB,EAAiBn7D,EAAIoxC,aAAap/C,KAAK+oE,QAAUG,EACjDE,EAAkBD,EAAiB,EAC3Bn5D,KAAKkmB,KAAKizC,GAAkBn5D,KAAK8nB,MAAMqxC,GAE/C9zD,EAAOrH,EAAI4rC,WAAWsvB,EAAUE,GAChC/3B,EAAQrjC,EAAIosC,aAAa/kC,GAAQrV,KAAK+oE,MAE1C/6D,GAAI62C,aAAa3L,EAAQ7jC,EAAM29B,EAAQ3B,IAGxC43B,gBAAiB,WAChB,GAAIzuB,GAAex6C,KAAK4oE,cAAcr5B,SAASvvC,KAAKkmE,QAAQz2B,SAASzvC,KAAK+oE,OAC1E,OAAO/oE,MAAK0oE,aAAangE,IAAIiyC,MAI/Bp6C,EAAEm4C,IAAIvM,YAAY,aAAc,YAAa5rC,EAAEm4C,IAAI+vB,WAOnDloE,EAAEm4C,IAAIxM,cACL7U,KAAK,EACLmyC,aAAc,KAGfjpE,EAAEm4C,IAAI+wB,IAAMlpE,EAAE6tD,QAAQvoD,QACrB09D,SAAU,WACThjE,EAAEuzC,SAASh0B,GAAG3f,KAAKskD,KAAKhH,WAAY,aAAct9C,KAAKuiE,QAASviE,OAGjEqjE,YAAa,WACZjjE,EAAEuzC,SAASllC,IAAIzO,KAAKskD,KAAKhH,WAAY,aAAct9C,KAAKuiE,QAASviE,OAGlEuiE,QAAS,SAAUjhE,GAClB,GAAKA,EAAEmhE,QAAP,CAOA,GALAriE,EAAEuzC,SAASz3B,eAAe5a,GAE1BtB,KAAKupE,YAAa,EAGdjoE,EAAEmhE,QAAQr+D,OAAS,EAGtB,MAFApE,MAAKupE,YAAa,MAClB9xD,cAAazX,KAAKwpE,aAInB,IAAI57D,GAAQtM,EAAEmhE,QAAQ,GAClB7+B,EAAKh2B,EAAMmO,MAEf/b,MAAK6iE,UAAY7iE,KAAK8iE,QAAU,GAAI1iE,GAAEgvC,MAAMxhC,EAAM4P,QAAS5P,EAAMgQ,SAG7DgmB,EAAGL,SAAwC,MAA7BK,EAAGL,QAAQh/B,eAC5BnE,EAAEoxC,QAAQz5B,SAAS6rB,EAAI,kBAIxB5jC,KAAKwpE,aAAevmE,WAAW7C,EAAEyf,KAAK,WACjC7f,KAAKypE,gBACRzpE,KAAKupE,YAAa,EAClBvpE,KAAKgjE,QACLhjE,KAAK0pE,eAAe,cAAe97D,KAElC5N,MAAO,KAEVI,EAAEuzC,SACAh0B,GAAGzd,EAAU,YAAalC,KAAK+iE,QAAS/iE,MACxC2f,GAAGzd,EAAU,WAAYlC,KAAKgjE,MAAOhjE,QAGxCgjE,MAAO,SAAU1hE,GAOhB,GANAmW,aAAazX,KAAKwpE,cAElBppE,EAAEuzC,SACAllC,IAAIvM,EAAU,YAAalC,KAAK+iE,QAAS/iE,MACzCyO,IAAIvM,EAAU,WAAYlC,KAAKgjE,MAAOhjE,MAEpCA,KAAKupE,YAAcjoE,GAAKA,EAAEymE,eAAgB,CAE7C,GAAIn6D,GAAQtM,EAAEymE,eAAe,GACzBnkC,EAAKh2B,EAAMmO,MAEX6nB,IAAMA,EAAGL,SAAwC,MAA7BK,EAAGL,QAAQh/B,eAClCnE,EAAEoxC,QAAQx5B,YAAY4rB,EAAI,kBAIvB5jC,KAAKypE,eACRzpE,KAAK0pE,eAAe,QAAS97D,KAKhC67D,YAAa,WACZ,MAAOzpE,MAAK8iE,QAAQ/yB,WAAW/vC,KAAK6iE,YAAc7iE,KAAKskD,KAAK5rC,QAAQ2wD,cAGrEtG,QAAS,SAAUzhE,GAClB,GAAIsM,GAAQtM,EAAEmhE,QAAQ,EACtBziE,MAAK8iE,QAAU,GAAI1iE,GAAEgvC,MAAMxhC,EAAM4P,QAAS5P,EAAMgQ,UAGjD8rD,eAAgB,SAAUpkE,EAAMhE,GAC/B,GAAIqoE,GAAiBznE,EAAS0nE,YAAY,cAE1CD,GAAeloB,YAAa,EAC5BngD,EAAEya,OAAO8lD,iBAAkB,EAE3B8H,EAAeE,eACPvkE,GAAM,GAAM,EAAMyJ,EAAQ,EAC1BzN,EAAEwoE,QAASxoE,EAAEyoE,QACbzoE,EAAEkc,QAASlc,EAAEsc,SACb,GAAO,GAAO,GAAO,EAAO,EAAG,MAEvCtc,EAAEya,OAAOiuD,cAAcL,MAIrBvpE,EAAE2uC,QAAQL,QAAUtuC,EAAE2uC,QAAQnB,SACjCxtC,EAAEm4C,IAAIvM,YAAY,aAAc,MAAO5rC,EAAEm4C,IAAI+wB,KAS9ClpE,EAAEm4C,IAAIxM,cACL6V,SAAS,IAGVxhD,EAAEm4C,IAAI0xB,QAAU7pE,EAAE6tD,QAAQvoD,QACzBq3B,WAAY,SAAU/uB,GACrBhO,KAAKskD,KAAOt2C,EACZhO,KAAKs9C,WAAatvC,EAAIsvC,WACtBt9C,KAAKkqE,MAAQl8D,EAAIixC,OAAOwB,YACxBzgD,KAAK49C,QAAS,GAGfwlB,SAAU,WACThjE,EAAEuzC,SAASh0B,GAAG3f,KAAKs9C,WAAY,YAAat9C,KAAKmqE,aAAcnqE,OAGhEqjE,YAAa,WACZjjE,EAAEuzC,SAASllC,IAAIzO,KAAKs9C,WAAY,YAAat9C,KAAKmqE,cAClDnqE,KAAK49C,QAAS,GAGf+D,MAAO,WACN,MAAO3hD,MAAK49C,QAGbusB,aAAc,SAAU7oE,GAGvB,MAFAtB,MAAK49C,QAAS,KAETt8C,EAAEkhE,UAA0B,IAAZlhE,EAAE4b,OAA8B,IAAb5b,EAAE4Y,UAE1C9Z,EAAEoxC,QAAQkC,uBACVtzC,EAAEoxC,QAAQuC,mBAEV/zC,KAAKoqE,iBAAmBpqE,KAAKskD,KAAKzE,uBAAuBv+C,OAEzDlB,GAAEuzC,SACGh0B,GAAGzd,EAAU,YAAalC,KAAK22D,aAAc32D,MAC7C2f,GAAGzd,EAAU,UAAWlC,KAAKqqE,WAAYrqE,MACzC2f,GAAGzd,EAAU,UAAWlC,KAAKsqE,WAAYtqE,QAG/C22D,aAAc,SAAUr1D,GAClBtB,KAAK49C,SACT59C,KAAKuqE,KAAOnqE,EAAEoxC,QAAQzR,OAAO,MAAO,mBAAoB//B,KAAKkqE,OAC7D9pE,EAAEoxC,QAAQ2B,YAAYnzC,KAAKuqE,KAAMvqE,KAAKoqE,kBAGtCpqE,KAAKs9C,WAAW/2C,MAAMwxD,OAAS,YAC/B/3D,KAAKskD,KAAK76C,KAAK,gBAGhB,IAAI+gE,GAAaxqE,KAAKoqE,iBAClBK,EAAMzqE,KAAKuqE,KAEX7qB,EAAa1/C,KAAKskD,KAAKzE,uBAAuBv+C,GAC9CuX,EAAS6mC,EAAWnQ,SAASi7B,GAE7BE,EAAS,GAAItqE,GAAEgvC,MACXp/B,KAAK4kB,IAAI8qB,EAAW30C,EAAGy/D,EAAWz/D,GAClCiF,KAAK4kB,IAAI8qB,EAAWz0C,EAAGu/D,EAAWv/D,GAE1C7K,GAAEoxC,QAAQ2B,YAAYs3B,EAAKC,GAE3B1qE,KAAK49C,QAAS,EAGd6sB,EAAIlkE,MAAM3E,MAAUoO,KAAKC,IAAI,EAAGD,KAAKkgC,IAAIr3B,EAAO9N,GAAK,GAAM,KAC3D0/D,EAAIlkE,MAAM1E,OAAUmO,KAAKC,IAAI,EAAGD,KAAKkgC,IAAIr3B,EAAO5N,GAAK,GAAM,MAG5D0/D,QAAS,WACJ3qE,KAAK49C,SACR59C,KAAKkqE,MAAM3nE,YAAYvC,KAAKuqE,MAC5BvqE,KAAKs9C,WAAW/2C,MAAMwxD,OAAS,IAGhC33D,EAAEoxC,QAAQoC,sBACVxzC,EAAEoxC,QAAQwC,kBAEV5zC,EAAEuzC,SACGllC,IAAIvM,EAAU,YAAalC,KAAK22D,cAChCloD,IAAIvM,EAAU,UAAWlC,KAAKqqE,YAC9B57D,IAAIvM,EAAU,UAAWlC,KAAKsqE,aAGpCD,WAAY,SAAU/oE,GAErBtB,KAAK2qE,SAEL,IAAI38D,GAAMhO,KAAKskD,KACX5E,EAAa1xC,EAAI6xC,uBAAuBv+C,EAE5C,KAAItB,KAAKoqE,iBAAiBn6B,OAAOyP,GAAjC,CAEA,GAAIjP,GAAS,GAAIrwC,GAAEi1C,aACXrnC,EAAI6vC,mBAAmB79C,KAAKoqE,kBAC5Bp8D,EAAI6vC,mBAAmB6B,GAE/B1xC,GAAI2sC,UAAUlK,GAEdziC,EAAIvE,KAAK,cACRmhE,cAAen6B,MAIjB65B,WAAY,SAAUhpE,GACH,KAAdA,EAAE8b,SACLpd,KAAK2qE,aAKRvqE,EAAEm4C,IAAIvM,YAAY,aAAc,UAAW5rC,EAAEm4C,IAAI0xB,SAOjD7pE,EAAEm4C,IAAIxM,cACLsgB,UAAU,EACVwe,kBAAmB,GACnBC,mBAAoB,IAGrB1qE,EAAEm4C,IAAIwyB,SAAW3qE,EAAE6tD,QAAQvoD,QAE1BslE,UACCvhD,MAAU,IACVs5B,OAAU,IACVkoB,MAAU,IACVC,IAAU,IACVlxB,QAAU,IAAK,IAAK,GAAI,KACxBE,SAAU,IAAK,IAAK,MAGrBnd,WAAY,SAAU/uB,GACrBhO,KAAKskD,KAAOt2C,EAEZhO,KAAKmrE,cAAcn9D,EAAI0K,QAAQmyD,mBAC/B7qE,KAAKorE,eAAep9D,EAAI0K,QAAQoyD,qBAGjC1H,SAAU,WACT,GAAInxB,GAAYjyC,KAAKskD,KAAKhH,UAGtBrL,GAAUp4B,YAAa,IAC1Bo4B,EAAUp4B,SAAW,KAGtBzZ,EAAEuzC,SACGh0B,GAAGsyB,EAAW,QAASjyC,KAAKqrE,SAAUrrE,MACtC2f,GAAGsyB,EAAW,OAAQjyC,KAAKsrE,QAAStrE,MACpC2f,GAAGsyB,EAAW,YAAajyC,KAAKmqE,aAAcnqE,MAEnDA,KAAKskD,KACA3kC,GAAG,QAAS3f,KAAKurE,UAAWvrE,MAC5B2f,GAAG,OAAQ3f,KAAKwrE,aAAcxrE,OAGpCqjE,YAAa,WACZrjE,KAAKwrE,cAEL,IAAIv5B,GAAYjyC,KAAKskD,KAAKhH,UAE1Bl9C,GAAEuzC,SACGllC,IAAIwjC,EAAW,QAASjyC,KAAKqrE,SAAUrrE,MACvCyO,IAAIwjC,EAAW,OAAQjyC,KAAKsrE,QAAStrE,MACrCyO,IAAIwjC,EAAW,YAAajyC,KAAKmqE,aAAcnqE,MAEpDA,KAAKskD,KACA71C,IAAI,QAASzO,KAAKurE,UAAWvrE,MAC7ByO,IAAI,OAAQzO,KAAKwrE,aAAcxrE,OAGrCmqE,aAAc,WACb,IAAInqE,KAAKyrE,SAAT,CAEA,GAAItqE,GAAOe,EAASf,KAChBywC,EAAQ1vC,EAAS+H,gBACjB6L,EAAM3U,EAAK0c,WAAa+zB,EAAM/zB,UAC9B4L,EAAOtoB,EAAKsc,YAAcm0B,EAAMn0B,UAEpCzd,MAAKskD,KAAKhH,WAAWj/B,QAErBtP,EAAO8jB,SAASpJ,EAAM3T,KAGvBu1D,SAAU,WACTrrE,KAAKyrE,UAAW,EAChBzrE,KAAKskD,KAAK76C,KAAK,UAGhB6hE,QAAS,WACRtrE,KAAKyrE,UAAW,EAChBzrE,KAAKskD,KAAK76C,KAAK,SAGhB0hE,cAAe,SAAU3vB,GACxB,GAEIr3C,GAAGklC,EAFH9V,EAAOvzB,KAAK0rE,YACZC,EAAQ3rE,KAAKgrE,QAGjB,KAAK7mE,EAAI,EAAGklC,EAAMsiC,EAAMliD,KAAKrlB,OAAQD,EAAIklC,EAAKllC,IAC7CovB,EAAKo4C,EAAMliD,KAAKtlB,MAAO,EAAKq3C,EAAK,EAElC,KAAKr3C,EAAI,EAAGklC,EAAMsiC,EAAM5oB,MAAM3+C,OAAQD,EAAIklC,EAAKllC,IAC9CovB,EAAKo4C,EAAM5oB,MAAM5+C,KAAOq3C,EAAK,EAE9B,KAAKr3C,EAAI,EAAGklC,EAAMsiC,EAAMV,KAAK7mE,OAAQD,EAAIklC,EAAKllC,IAC7CovB,EAAKo4C,EAAMV,KAAK9mE,KAAO,EAAGq3C,EAE3B,KAAKr3C,EAAI,EAAGklC,EAAMsiC,EAAMT,GAAG9mE,OAAQD,EAAIklC,EAAKllC,IAC3CovB,EAAKo4C,EAAMT,GAAG/mE,KAAO,GAAG,EAAKq3C,IAI/B4vB,eAAgB,SAAU/1D,GACzB,GAEIlR,GAAGklC,EAFH9V,EAAOvzB,KAAK4rE,aACZD,EAAQ3rE,KAAKgrE,QAGjB,KAAK7mE,EAAI,EAAGklC,EAAMsiC,EAAM3xB,OAAO51C,OAAQD,EAAIklC,EAAKllC,IAC/CovB,EAAKo4C,EAAM3xB,OAAO71C,IAAMkR,CAEzB,KAAKlR,EAAI,EAAGklC,EAAMsiC,EAAMzxB,QAAQ91C,OAAQD,EAAIklC,EAAKllC,IAChDovB,EAAKo4C,EAAMzxB,QAAQ/1C,KAAOkR,GAI5Bk2D,UAAW,WACVnrE,EAAEuzC,SAASh0B,GAAGzd,EAAU,UAAWlC,KAAKsqE,WAAYtqE,OAGrDwrE,aAAc,WACbprE,EAAEuzC,SAASllC,IAAIvM,EAAU,UAAWlC,KAAKsqE,WAAYtqE,OAGtDsqE,WAAY,SAAUhpE,GACrB,GAAIs4B,GAAMt4B,EAAE8b,QACRpP,EAAMhO,KAAKskD,IAEf,IAAI1qB,IAAO55B,MAAK0rE,SAAU,CAEzB,GAAI19D,EAAIs2D,UAAYt2D,EAAIs2D,SAASuH,YAAe,MAEhD79D,GAAIytC,MAAMz7C,KAAK0rE,SAAS9xC,IAEpB5rB,EAAI0K,QAAQsgC,WACfhrC,EAAI4tC,gBAAgB5tC,EAAI0K,QAAQsgC,eAG3B,CAAA,KAAIpf,IAAO55B,MAAK4rE,WAItB,MAHA59D,GAAI6rC,QAAQ7rC,EAAI0rC,UAAY15C,KAAK4rE,UAAUhyC,IAM5Cx5B,EAAEuzC,SAASn8B,KAAKlW,MAIlBlB,EAAEm4C,IAAIvM,YAAY,aAAc,WAAY5rC,EAAEm4C,IAAIwyB,UAOlD3qE,EAAE6tD,QAAQC,WAAa9tD,EAAE6tD,QAAQvoD,QAChCq3B,WAAY,SAAUsxB,GACrBruD,KAAK8rE,QAAUzd,GAGhB+U,SAAU,WACT,GAAI3X,GAAOzrD,KAAK8rE,QAAQ3e,KACnBntD,MAAK6jE,aACT7jE,KAAK6jE,WAAa,GAAIzjE,GAAE0gE,UAAUrV,EAAMA,IAGzCzrD,KAAK6jE,WACHlkD,GAAG,YAAa3f,KAAK+jE,aAAc/jE,MACnC2f,GAAG,OAAQ3f,KAAKikE,QAASjkE,MACzB2f,GAAG,UAAW3f,KAAKmkE,WAAYnkE,MACjCA,KAAK6jE,WAAWxmB,SAChBj9C,EAAEoxC,QAAQz5B,SAAS/X,KAAK8rE,QAAQ3e,MAAO,6BAGxCkW,YAAa,WACZrjE,KAAK6jE,WACHp1D,IAAI,YAAazO,KAAK+jE,aAAc/jE,MACpCyO,IAAI,OAAQzO,KAAKikE,QAASjkE,MAC1ByO,IAAI,UAAWzO,KAAKmkE,WAAYnkE,MAElCA,KAAK6jE,WAAWxyD,UAChBjR,EAAEoxC,QAAQx5B,YAAYhY,KAAK8rE,QAAQ3e,MAAO,6BAG3CxL,MAAO,WACN,MAAO3hD,MAAK6jE,YAAc7jE,KAAK6jE,WAAWjmB,QAG3CmmB,aAAc,WACb/jE,KAAK8rE,QACA3b,aACA1mD,KAAK,aACLA,KAAK,cAGXw6D,QAAS,WACR,GAAI5V,GAASruD,KAAK8rE,QACdC,EAAS1d,EAAOT,QAChBoe,EAAU5rE,EAAEoxC,QAAQ+B,YAAY8a,EAAOlB,OACvChW,EAASkX,EAAO/J,KAAKzG,mBAAmBmuB,EAGxCD,IACH3rE,EAAEoxC,QAAQ2B,YAAY44B,EAAQC,GAG/B3d,EAAO5B,QAAUtV,EAEjBkX,EACK5kD,KAAK,QAAS0tC,OAAQA,IACtB1tC,KAAK,SAGX06D,WAAY,SAAU7iE,GACrBtB,KAAK8rE,QACAriE,KAAK,WACLA,KAAK,UAAWnI,MAUvBlB,EAAE6rE,QAAU7rE,EAAEmrC,MAAM7lC,QACnBgT,SACC7C,SAAU,YAGXknB,WAAY,SAAUrkB,GACrBtY,EAAEkqC,WAAWtqC,KAAM0Y,IAGpB66B,YAAa,WACZ,MAAOvzC,MAAK0Y,QAAQ7C,UAGrBs9B,YAAa,SAAUt9B,GACtB,GAAI7H,GAAMhO,KAAKskD,IAYf,OAVIt2C,IACHA,EAAIk+D,cAAclsE,MAGnBA,KAAK0Y,QAAQ7C,SAAWA,EAEpB7H,GACHA,EAAIm+D,WAAWnsE,MAGTA,MAGRk/C,aAAc,WACb,MAAOl/C,MAAKs9C,YAGb2H,MAAO,SAAUj3C,GAChBhO,KAAKskD,KAAOt2C,CAEZ,IAAIikC,GAAYjyC,KAAKs9C,WAAat9C,KAAK+hD,MAAM/zC,GACzCujB,EAAMvxB,KAAKuzC,cACX64B,EAASp+D,EAAIq+D,gBAAgB96C,EAUjC,OARAnxB,GAAEoxC,QAAQz5B,SAASk6B,EAAW,mBAE1B1gB,EAAItlB,QAAQ,aAAc,EAC7BmgE,EAAOr3D,aAAak9B,EAAWm6B,EAAOvlE,YAEtCulE,EAAOtqE,YAAYmwC,GAGbjyC,MAGRssE,WAAY,SAAUt+D,GACrB,GAAIujB,GAAMvxB,KAAKuzC,cACX64B,EAASp+D,EAAIq+D,gBAAgB96C,EASjC,OAPA66C,GAAO7pE,YAAYvC,KAAKs9C,YACxBt9C,KAAKskD,KAAO,KAERtkD,KAAKw8C,UACRx8C,KAAKw8C,SAASxuC,GAGRhO,MAGRusE,cAAe,WACVvsE,KAAKskD,MACRtkD,KAAKskD,KAAKpF,eAAe7gC,WAK5Bje,EAAEosE,QAAU,SAAU9zD,GACrB,MAAO,IAAItY,GAAE6rE,QAAQvzD,IAMtBtY,EAAEm4C,IAAIlkB,SACL83C,WAAY,SAAUK,GAErB,MADAA,GAAQvnB,MAAMjlD,MACPA,MAGRksE,cAAe,SAAUM,GAExB,MADAA,GAAQF,WAAWtsE,MACZA,MAGRggD,gBAAiB,WAMhB,QAASysB,GAAaC,EAAOC,GAC5B,GAAIr5D,GAAYzP,EAAI6oE,EAAQ,IAAM7oE,EAAI8oE,CAEtCC,GAAQF,EAAQC,GAASvsE,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAW2+B,GAR7D,GAAI26B,GAAU5sE,KAAKqsE,mBACfxoE,EAAI,WACJouC,EAAYjyC,KAAK6sE,kBACTzsE,EAAEoxC,QAAQzR,OAAO,MAAOl8B,EAAI,oBAAqB7D,KAAKs9C,WAQlEmvB,GAAa,MAAO,QACpBA,EAAa,MAAO,SACpBA,EAAa,SAAU,QACvBA,EAAa,SAAU,UAGxBhvB,iBAAkB,WACjBz9C,KAAKs9C,WAAW/6C,YAAYvC,KAAK6sE,sBASnCzsE,EAAE6rE,QAAQa,KAAO1sE,EAAE6rE,QAAQvmE,QAC1BgT,SACC7C,SAAU,UACVk3D,WAAY,IACZC,YAAa,UACbC,YAAa,IACbC,aAAc,YAGfnrB,MAAO,SAAU/zC,GAChB,GAAIm/D,GAAW,uBACXl7B,EAAY7xC,EAAEoxC,QAAQzR,OAAO,MAAOotC,EAAW,eAcnD,OAZAntE,MAAKskD,KAAOt2C,EAEZhO,KAAKotE,cAAiBptE,KAAKqtE,cACnBrtE,KAAK0Y,QAAQq0D,WAAY/sE,KAAK0Y,QAAQs0D,YACtCG,EAAW,MAAQl7B,EAAWjyC,KAAKstE,QAAUttE,MACrDA,KAAKutE,eAAiBvtE,KAAKqtE,cACnBrtE,KAAK0Y,QAAQu0D,YAAajtE,KAAK0Y,QAAQw0D,aACvCC,EAAW,OAAQl7B,EAAWjyC,KAAKwtE,SAAUxtE,MAErDA,KAAKytE,kBACLz/D,EAAI2R,GAAG,2BAA4B3f,KAAKytE,gBAAiBztE,MAElDiyC,GAGRuK,SAAU,SAAUxuC,GACnBA,EAAIS,IAAI,2BAA4BzO,KAAKytE,gBAAiBztE,OAG3DstE,QAAS,SAAUhsE,GAClBtB,KAAKskD,KAAKtK,OAAO14C,EAAEkhE,SAAW,EAAI,IAGnCgL,SAAU,SAAUlsE,GACnBtB,KAAKskD,KAAKpK,QAAQ54C,EAAEkhE,SAAW,EAAI,IAGpC6K,cAAe,SAAUz0D,EAAM4pB,EAAOlvB,EAAW2+B,EAAW1nC,EAAI6B,GAC/D,GAAIshE,GAAOttE,EAAEoxC,QAAQzR,OAAO,IAAKzsB,EAAW2+B,EAC5Cy7B,GAAK/mE,UAAYiS,EACjB80D,EAAK3zD,KAAO,IACZ2zD,EAAKlrC,MAAQA,CAEb,IAAIhrB,GAAOpX,EAAEuzC,SAAS92B,eAUtB,OARAzc,GAAEuzC,SACGh0B,GAAG+tD,EAAM,QAASl2D,GAClBmI,GAAG+tD,EAAM,YAAal2D,GACtBmI,GAAG+tD,EAAM,WAAYl2D,GACrBmI,GAAG+tD,EAAM,QAASttE,EAAEuzC,SAASz3B,gBAC7ByD,GAAG+tD,EAAM,QAASnjE,EAAI6B,GACtBuT,GAAG+tD,EAAM,QAAS1tE,KAAKusE,cAAengE,GAEpCshE,GAGRD,gBAAiB,WAChB,GAAIz/D,GAAMhO,KAAKskD,KACdhxC,EAAY,kBAEblT,GAAEoxC,QAAQx5B,YAAYhY,KAAKotE,cAAe95D,GAC1ClT,EAAEoxC,QAAQx5B,YAAYhY,KAAKutE,eAAgBj6D,GAEvCtF,EAAI+rC,QAAU/rC,EAAIgwC,cACrB59C,EAAEoxC,QAAQz5B,SAAS/X,KAAKutE,eAAgBj6D,GAErCtF,EAAI+rC,QAAU/rC,EAAIkwC,cACrB99C,EAAEoxC,QAAQz5B,SAAS/X,KAAKotE,cAAe95D,MAK1ClT,EAAEm4C,IAAIxM,cACL4hC,aAAa,IAGdvtE,EAAEm4C,IAAIvM,YAAY,WACbhsC,KAAK0Y,QAAQi1D,cAChB3tE,KAAK2tE,YAAc,GAAIvtE,GAAE6rE,QAAQa,KACjC9sE,KAAKmsE,WAAWnsE,KAAK2tE,gBAIvBvtE,EAAEosE,QAAQn3D,KAAO,SAAUqD,GAC1B,MAAO,IAAItY,GAAE6rE,QAAQa,KAAKp0D,IAS3BtY,EAAE6rE,QAAQ2B,YAAcxtE,EAAE6rE,QAAQvmE,QACjCgT,SACC7C,SAAU,cACVu6C,OAAQ,wFAGTrzB,WAAY,SAAUrkB,GACrBtY,EAAEkqC,WAAWtqC,KAAM0Y,GAEnB1Y,KAAK6tE,kBAGN9rB,MAAO,SAAU/zC,GAChBhO,KAAKs9C,WAAal9C,EAAEoxC,QAAQzR,OAAO,MAAO,+BAC1C3/B,EAAEuzC,SAAS4c,wBAAwBvwD,KAAKs9C,WAExC,KAAK,GAAIn5C,KAAK6J,GAAIqrC,QACbrrC,EAAIqrC,QAAQl1C,GAAGmhD,gBAClBtlD,KAAK8tE,eAAe9/D,EAAIqrC,QAAQl1C,GAAGmhD,iBAUrC,OANAt3C,GACK2R,GAAG,WAAY3f,KAAK+tE,YAAa/tE,MACjC2f,GAAG,cAAe3f,KAAKguE,eAAgBhuE,MAE5CA,KAAK2kD,UAEE3kD,KAAKs9C,YAGbd,SAAU,SAAUxuC,GACnBA,EACKS,IAAI,WAAYzO,KAAK+tE,aACrBt/D,IAAI,cAAezO,KAAKguE,iBAI9BC,UAAW,SAAU7d,GAGpB,MAFApwD,MAAK0Y,QAAQ03C,OAASA,EACtBpwD,KAAK2kD,UACE3kD,MAGR8tE,eAAgB,SAAUjmE,GACzB,GAAKA,EASL,MAPK7H,MAAK6tE,cAAchmE,KACvB7H,KAAK6tE,cAAchmE,GAAQ,GAE5B7H,KAAK6tE,cAAchmE,KAEnB7H,KAAK2kD,UAEE3kD,MAGRkuE,kBAAmB,SAAUrmE,GAC5B,GAAKA,EAOL,MALI7H,MAAK6tE,cAAchmE,KACtB7H,KAAK6tE,cAAchmE,KACnB7H,KAAK2kD,WAGC3kD,MAGR2kD,QAAS,WACR,GAAK3kD,KAAKskD,KAAV,CAEA,GAAI6pB,KAEJ,KAAK,GAAIhqE,KAAKnE,MAAK6tE,cACd7tE,KAAK6tE,cAAc1pE,IACtBgqE,EAAQxiE,KAAKxH,EAIf,IAAIiqE,KAEApuE,MAAK0Y,QAAQ03C,QAChBge,EAAiBziE,KAAK3L,KAAK0Y,QAAQ03C,QAEhC+d,EAAQ/pE,QACXgqE,EAAiBziE,KAAKwiE,EAAQpgE,KAAK,OAGpC/N,KAAKs9C,WAAW32C,UAAYynE,EAAiBrgE,KAAK,SAGnDggE,YAAa,SAAUzsE,GAClBA,EAAEy6C,MAAMuJ,gBACXtlD,KAAK8tE,eAAexsE,EAAEy6C,MAAMuJ,mBAI9B0oB,eAAgB,SAAU1sE,GACrBA,EAAEy6C,MAAMuJ,gBACXtlD,KAAKkuE,kBAAkB5sE,EAAEy6C,MAAMuJ,qBAKlCllD,EAAEm4C,IAAIxM,cACLsiC,oBAAoB,IAGrBjuE,EAAEm4C,IAAIvM,YAAY,WACbhsC,KAAK0Y,QAAQ21D,qBAChBruE,KAAKquE,oBAAqB,GAAKjuE,GAAE6rE,QAAQ2B,aAAe3oB,MAAMjlD,SAIhEI,EAAEosE,QAAQxoB,YAAc,SAAUtrC,GACjC,MAAO,IAAItY,GAAE6rE,QAAQ2B,YAAYl1D,IAQlCtY,EAAE6rE,QAAQqC,MAAQluE,EAAE6rE,QAAQvmE,QAC3BgT,SACC7C,SAAU,aACVg8B,SAAU,IACV08B,QAAQ,EACRC,UAAU,EACVrqB,gBAAgB,GAGjBpC,MAAO,SAAU/zC,GAChBhO,KAAKskD,KAAOt2C,CAEZ,IAAIsF,GAAY,wBACZ2+B,EAAY7xC,EAAEoxC,QAAQzR,OAAO,MAAOzsB,GACpCoF,EAAU1Y,KAAK0Y,OAOnB,OALA1Y,MAAKyuE,WAAW/1D,EAASpF,EAAW2+B,GAEpCjkC,EAAI2R,GAAGjH,EAAQyrC,eAAiB,UAAY,OAAQnkD,KAAK2kD,QAAS3kD,MAClEgO,EAAI8zC,UAAU9hD,KAAK2kD,QAAS3kD,MAErBiyC,GAGRuK,SAAU,SAAUxuC,GACnBA,EAAIS,IAAIzO,KAAK0Y,QAAQyrC,eAAiB,UAAY,OAAQnkD,KAAK2kD,QAAS3kD,OAGzEyuE,WAAY,SAAU/1D,EAASpF,EAAW2+B,GACrCv5B,EAAQ61D,SACXvuE,KAAK0uE,QAAUtuE,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAY,QAAS2+B,IAEzDv5B,EAAQ81D,WACXxuE,KAAK2uE,QAAUvuE,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAY,QAAS2+B,KAI9D0S,QAAS,WACR,GAAIlU,GAASzwC,KAAKskD,KAAK1J,YACnBg0B,EAAYn+B,EAAOJ,YAAY6D,IAC/B26B,EAAkB,QAAU7+D,KAAKihB,GAAKjhB,KAAKghB,IAAI49C,EAAY5+D,KAAKihB,GAAK,KACrE8sC,EAAO8Q,GAAmBp+B,EAAO0F,eAAehC,IAAM1D,EAAOyF,eAAe/B,KAAO,IAEnF9mC,EAAOrN,KAAKskD,KAAK9T,UACjB93B,EAAU1Y,KAAK0Y,QACfo2D,EAAY,CAEZzhE,GAAKtC,EAAI,IACZ+jE,EAAY/Q,GAAQrlD,EAAQm5B,SAAWxkC,EAAKtC,IAG7C/K,KAAK+uE,cAAcr2D,EAASo2D,IAG7BC,cAAe,SAAUr2D,EAASo2D,GAC7Bp2D,EAAQ61D,QAAUO,GACrB9uE,KAAKgvE,cAAcF,GAGhBp2D,EAAQ81D,UAAYM,GACvB9uE,KAAKivE,gBAAgBH,IAIvBE,cAAe,SAAUF,GACxB,GAAII,GAASlvE,KAAKmvE,aAAaL,EAE/B9uE,MAAK0uE,QAAQnoE,MAAM3E,MAAQ5B,KAAKovE,eAAeF,EAASJ,GAAa,KACrE9uE,KAAK0uE,QAAQ/nE,UAAYuoE,EAAS,IAAOA,EAAS,KAAQA,EAAS,IAAQ,OAG5ED,gBAAiB,SAAUH,GAC1B,GAEIO,GAAUC,EAAOC,EAFjBC,EAAsB,UAAZV,EACVz9B,EAAQrxC,KAAK2uE,OAGba,GAAU,MACbH,EAAWG,EAAU,KACrBF,EAAQtvE,KAAKmvE,aAAaE,GAE1Bh+B,EAAM9qC,MAAM3E,MAAQ5B,KAAKovE,eAAeE,EAAQD,GAAY,KAC5Dh+B,EAAM1qC,UAAY2oE,EAAQ,QAG1BC,EAAOvvE,KAAKmvE,aAAaK,GAEzBn+B,EAAM9qC,MAAM3E,MAAQ5B,KAAKovE,eAAeG,EAAOC,GAAW,KAC1Dn+B,EAAM1qC,UAAY4oE,EAAO,QAI3BH,eAAgB,SAAUK,GACzB,MAAOz/D,MAAKo6B,MAAMpqC,KAAK0Y,QAAQm5B,SAAW49B,GAAS,IAGpDN,aAAc,SAAUllC,GACvB,GAAIylC,GAAQ1/D,KAAKm6B,IAAI,IAAKn6B,KAAK8nB,MAAMmS,GAAO,IAAI7lC,OAAS,GACrDhD,EAAI6oC,EAAMylC,CAId,OAFAtuE,GAAIA,GAAK,GAAK,GAAKA,GAAK,EAAI,EAAIA,GAAK,EAAI,EAAIA,GAAK,EAAI,EAAI,EAEnDsuE,EAAQtuE,KAIjBhB,EAAEosE,QAAQn7B,MAAQ,SAAU34B,GAC3B,MAAO,IAAItY,GAAE6rE,QAAQqC,MAAM51D,IAQ5BtY,EAAE6rE,QAAQ0D,OAASvvE,EAAE6rE,QAAQvmE,QAC5BgT,SACCk3D,WAAW,EACX/5D,SAAU,WACVg6D,YAAY,GAGb9yC,WAAY,SAAU+yC,EAAYC,EAAUr3D,GAC3CtY,EAAEkqC,WAAWtqC,KAAM0Y,GAEnB1Y,KAAKq5C,WACLr5C,KAAKgwE,YAAc,EACnBhwE,KAAKiwE,gBAAiB,CAEtB,KAAK,GAAI9rE,KAAK2rE,GACb9vE,KAAKkwE,UAAUJ,EAAW3rE,GAAIA,EAG/B,KAAKA,IAAK4rE,GACT/vE,KAAKkwE,UAAUH,EAAS5rE,GAAIA,GAAG,IAIjC49C,MAAO,SAAU/zC,GAQhB,MAPAhO,MAAK64C,cACL74C,KAAK2kD,UAEL32C,EACK2R,GAAG,WAAY3f,KAAKmwE,eAAgBnwE,MACpC2f,GAAG,cAAe3f,KAAKmwE,eAAgBnwE,MAErCA,KAAKs9C,YAGbd,SAAU,SAAUxuC,GACnBA,EACKS,IAAI,WAAYzO,KAAKmwE,eAAgBnwE,MACrCyO,IAAI,cAAezO,KAAKmwE,eAAgBnwE,OAG9CowE,aAAc,SAAUr0B,EAAOjlC,GAG9B,MAFA9W,MAAKkwE,UAAUn0B,EAAOjlC,GACtB9W,KAAK2kD,UACE3kD,MAGRqwE,WAAY,SAAUt0B,EAAOjlC,GAG5B,MAFA9W,MAAKkwE,UAAUn0B,EAAOjlC,GAAM,GAC5B9W,KAAK2kD,UACE3kD,MAGRu8C,YAAa,SAAUR,GACtB,GAAI9uC,GAAK7M,EAAEopC,MAAMuS,EAGjB,cAFO/7C,MAAKq5C,QAAQpsC,GACpBjN,KAAK2kD,UACE3kD,MAGR64C,YAAa,WACZ,GAAIvlC,GAAY,yBACZ2+B,EAAYjyC,KAAKs9C,WAAal9C,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAG1D2+B,GAAUr/B,aAAa,iBAAiB,GAEnCxS,EAAE2uC,QAAQL,MAKdtuC,EAAEuzC,SAASh0B,GAAGsyB,EAAW,QAAS7xC,EAAEuzC,SAAS92B,iBAJ7Czc,EAAEuzC,SACA4c,wBAAwBte,GACxB2e,yBAAyB3e,EAK5B,IAAI5yB,GAAOrf,KAAKswE,MAAQlwE,EAAEoxC,QAAQzR,OAAO,OAAQzsB,EAAY,QAE7D,IAAItT,KAAK0Y,QAAQk3D,UAAW,CACtBxvE,EAAE2uC,QAAQ5B,SACd/sC,EAAEuzC,SACGh0B,GAAGsyB,EAAW,YAAajyC,KAAKuwE,QAASvwE,MACzC2f,GAAGsyB,EAAW,WAAYjyC,KAAKwwE,UAAWxwE,KAEhD,IAAI0tE,GAAO1tE,KAAKywE,YAAcrwE,EAAEoxC,QAAQzR,OAAO,IAAKzsB,EAAY,UAAW2+B,EAC3Ey7B,GAAK3zD,KAAO,IACZ2zD,EAAKlrC,MAAQ,SAETpiC,EAAE2uC,QAAQL,MACbtuC,EAAEuzC,SACGh0B,GAAG+tD,EAAM,QAASttE,EAAEuzC,SAASn8B,MAC7BmI,GAAG+tD,EAAM,QAAS1tE,KAAKuwE,QAASvwE,MAGrCI,EAAEuzC,SAASh0B,GAAG+tD,EAAM,QAAS1tE,KAAKuwE,QAASvwE,MAG5CI,EAAEuzC,SAASh0B,GAAGN,EAAM,QAAS,WAC5Bpc,WAAW7C,EAAEyf,KAAK7f,KAAK0wE,cAAe1wE,MAAO,IAC3CA,MAEHA,KAAKskD,KAAK3kC,GAAG,QAAS3f,KAAKwwE,UAAWxwE,UAGtCA,MAAKuwE,SAGNvwE,MAAK2wE,gBAAkBvwE,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAY,QAAS+L,GACpErf,KAAK4wE,WAAaxwE,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAY,aAAc+L,GACpErf,KAAK6wE,cAAgBzwE,EAAEoxC,QAAQzR,OAAO,MAAOzsB,EAAY,YAAa+L,GAEtE4yB,EAAUnwC,YAAYud,IAGvB6wD,UAAW,SAAUn0B,EAAOjlC,EAAMg6D,GACjC,GAAI7jE,GAAK7M,EAAEopC,MAAMuS,EAEjB/7C,MAAKq5C,QAAQpsC,IACZ8uC,MAAOA,EACPjlC,KAAMA,EACNg6D,QAASA,GAGN9wE,KAAK0Y,QAAQm3D,YAAc9zB,EAAMyJ,YACpCxlD,KAAKgwE,cACLj0B,EAAMyJ,UAAUxlD,KAAKgwE,eAIvBrrB,QAAS,WACR,GAAK3kD,KAAKs9C,WAAV,CAIAt9C,KAAK2wE,gBAAgBhqE,UAAY,GACjC3G,KAAK6wE,cAAclqE,UAAY,EAE/B,IAEIxC,GAAGolC,EAFHwnC,GAAoB,EACpBC,GAAkB,CAGtB,KAAK7sE,IAAKnE,MAAKq5C,QACd9P,EAAMvpC,KAAKq5C,QAAQl1C,GACnBnE,KAAKixE,SAAS1nC,GACdynC,EAAkBA,GAAmBznC,EAAIunC,QACzCC,EAAoBA,IAAsBxnC,EAAIunC,OAG/C9wE,MAAK4wE,WAAWrqE,MAAMyO,QAAUg8D,GAAmBD,EAAoB,GAAK,SAG7EZ,eAAgB,SAAU7uE,GACzB,GAAIioC,GAAMvpC,KAAKq5C,QAAQj5C,EAAEopC,MAAMloC,EAAEy6C,OAEjC,IAAKxS,EAAL,CAEKvpC,KAAKiwE,gBACTjwE,KAAK2kD,SAGN,IAAIr/C,GAAOikC,EAAIunC,QACF,aAAXxvE,EAAEgE,KAAsB,aAAe,gBAC5B,aAAXhE,EAAEgE,KAAsB,kBAAoB,IAE1CA,IACHtF,KAAKskD,KAAK76C,KAAKnE,EAAMikC,KAKvB2nC,oBAAqB,SAAUp6D,EAAM1P,GAEpC,GAAI+pE,GAAY,qEAAuEr6D,EAAO,GAC1F1P,KACH+pE,GAAa,sBAEdA,GAAa,IAEb,IAAIC,GAAgBlvE,EAASR,cAAc,MAG3C,OAFA0vE,GAAczqE,UAAYwqE,EAEnBC,EAAcvqE,YAGtBoqE,SAAU,SAAU1nC,GACnB,GACI1mB,GADAwuD,EAAQnvE,EAASR,cAAc,SAE/B0F,EAAUpH,KAAKskD,KAAK7H,SAASlT,EAAIwS,MAEjCxS,GAAIunC,SACPjuD,EAAQ3gB,EAASR,cAAc,SAC/BmhB,EAAMvd,KAAO,WACbud,EAAMvP,UAAY,kCAClBuP,EAAM1b,eAAiBC,GAEvByb,EAAQ7iB,KAAKkxE,oBAAoB,sBAAuB9pE,GAGzDyb,EAAMyuD,QAAUlxE,EAAEopC,MAAMD,EAAIwS,OAE5B37C,EAAEuzC,SAASh0B,GAAGkD,EAAO,QAAS7iB,KAAK0wE,cAAe1wE,KAElD,IAAI8W,GAAO5U,EAASR,cAAc,OAClCoV,GAAKnQ,UAAY,IAAM4iC,EAAIzyB,KAE3Bu6D,EAAMvvE,YAAY+gB,GAClBwuD,EAAMvvE,YAAYgV,EAElB,IAAIm7B,GAAY1I,EAAIunC,QAAU9wE,KAAK6wE,cAAgB7wE,KAAK2wE,eAGxD,OAFA1+B,GAAUnwC,YAAYuvE,GAEfA,GAGRX,cAAe,WACd,GAAIvsE,GAAG0e,EAAO0mB,EACVgoC,EAASvxE,KAAKswE,MAAMrpE,qBAAqB,SACzCuqE,EAAYD,EAAOntE,MAIvB,KAFApE,KAAKiwE,gBAAiB,EAEjB9rE,EAAI,EAAGA,EAAIqtE,EAAWrtE,IAC1B0e,EAAQ0uD,EAAOptE,GACfolC,EAAMvpC,KAAKq5C,QAAQx2B,EAAMyuD,SAErBzuD,EAAMzb,UAAYpH,KAAKskD,KAAK7H,SAASlT,EAAIwS,OAC5C/7C,KAAKskD,KAAKxI,SAASvS,EAAIwS,QAEZl5B,EAAMzb,SAAWpH,KAAKskD,KAAK7H,SAASlT,EAAIwS,QACnD/7C,KAAKskD,KAAK/H,YAAYhT,EAAIwS,MAI5B/7C,MAAKiwE,gBAAiB,EAEtBjwE,KAAKusE,iBAGNgE,QAAS,WACRnwE,EAAEoxC,QAAQz5B,SAAS/X,KAAKs9C,WAAY,oCAGrCkzB,UAAW,WACVxwE,KAAKs9C,WAAWhqC,UAAYtT,KAAKs9C,WAAWhqC,UAAU5O,QAAQ,mCAAoC,OAIpGtE,EAAEosE,QAAQ/yB,OAAS,SAAUq2B,EAAYC,EAAUr3D,GAClD,MAAO,IAAItY,GAAE6rE,QAAQ0D,OAAOG,EAAYC,EAAUr3D,IAQnDtY,EAAEqxE,aAAerxE,EAAEmrC,MAAM7lC,QACxBmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElB61C,IAAK,SAAU9tC,EAAI8mC,EAAQ95C,EAAU8yC,GACpC1jE,KAAKwX,OAELxX,KAAK2xE,IAAM/tC,EACX5jC,KAAK6rE,aAAc,EACnB7rE,KAAK8iE,QAAU4H,EAEf1qE,KAAKyJ,KAAK,SAEVm6B,EAAGr9B,MAAMnG,EAAEoxC,QAAQgC,YAAc,QAAU5iB,GAAY,KAC/C,uBAAyB8yC,GAAiB,IAAO,MAEzDtjE,EAAEuzC,SAASh0B,GAAGikB,EAAIxjC,EAAEoxC,QAAQiC,eAAgBzzC,KAAK4xE,iBAAkB5xE,MACnEI,EAAEoxC,QAAQ2B,YAAYvP,EAAI8mC,GAG1BtqE,EAAE+oC,KAAKY,QAAQnG,EAAG19B,aAGlBlG,KAAK6xE,WAAaj7D,YAAYxW,EAAEyf,KAAK7f,KAAK8xE,QAAS9xE,MAAO,KAG3DwX,KAAM,WACAxX,KAAK6rE,cAKVzrE,EAAEoxC,QAAQ2B,YAAYnzC,KAAK2xE,IAAK3xE,KAAK+xE,WACrC/xE,KAAK4xE,mBACLxxE,EAAE+oC,KAAKY,QAAQ/pC,KAAK2xE,IAAIzrE,eAGzB4rE,QAAS,WACR,GAAIE,GAAUhyE,KAAK+xE,SACnB,OAAKC,IAMLhyE,KAAK2xE,IAAIt+B,aAAe2+B,MAExBhyE,MAAKyJ,KAAK,aAPTzJ,MAAK4xE,oBAaPK,aAAc,qDAEdF,QAAS,WACR,GAAItoD,GAAM3T,EAAK2G,EACXmnB,EAAK5jC,KAAK2xE,IACVprE,EAAQwI,EAAOmG,iBAAiB0uB,EAEpC,IAAIxjC,EAAE2uC,QAAQP,MAAO,CAEpB,GADA/xB,EAAUlW,EAAMnG,EAAEoxC,QAAQ8B,WAAW9yB,MAAMxgB,KAAKiyE,eAC3Cx1D,EAAW,MAChBgN,GAAOrjB,WAAWqW,EAAQ,IAC1B3G,EAAO1P,WAAWqW,EAAQ,QAE1BgN,GAAOrjB,WAAWG,EAAMkjB,MACxB3T,EAAO1P,WAAWG,EAAMuP,IAGzB,OAAO,IAAI1V,GAAEgvC,MAAM3lB,EAAM3T,GAAK,IAG/B87D,iBAAkB,WACjBxxE,EAAEuzC,SAASllC,IAAIzO,KAAK2xE,IAAKvxE,EAAEoxC,QAAQiC,eAAgBzzC,KAAK4xE,iBAAkB5xE,MAErEA,KAAK6rE,cACV7rE,KAAK6rE,aAAc,EAEnB7rE,KAAK2xE,IAAIprE,MAAMnG,EAAEoxC,QAAQgC,YAAc,GAIvCxzC,KAAK2xE,IAAIt+B,aAAerzC,KAAK8iE,QAE7BlxC,cAAc5xB,KAAK6xE,YAEnB7xE,KAAKyJ,KAAK,QAAQA,KAAK,WAUzBrJ,EAAEm4C,IAAIlkB,SAEL8kB,QAAS,SAAUD,EAAQ7jC,EAAMqD,GAUhC,GARArD,EAAOA,IAAS6lB,EAAYl7B,KAAK+5C,MAAQ/5C,KAAK45C,WAAWvkC,GACzD6jC,EAASl5C,KAAK67C,aAAaz7C,EAAEo0C,OAAO0E,GAAS7jC,EAAMrV,KAAK0Y,QAAQsgC,WAChEtgC,EAAUA,MAEN1Y,KAAKskE,UACRtkE,KAAKskE,SAAS9sD,OAGXxX,KAAK85C,UAAYphC,EAAQkK,OAASlK,KAAY,EAAM,CAEnDA,EAAQ8W,UAAY0L,IACvBxiB,EAAQrD,KAAOjV,EAAEsF,QAAQ8pB,QAAS9W,EAAQ8W,SAAU9W,EAAQrD,MAC5DqD,EAAQ8iC,IAAMp7C,EAAEsF,QAAQ8pB,QAAS9W,EAAQ8W,SAAU9W,EAAQ8iC,KAI5D,IAAIzpB,GAAY/xB,KAAK+5C,QAAU1kC,EAC9BrV,KAAKkyE,kBAAoBlyE,KAAKkyE,iBAAiBh5B,EAAQ7jC,EAAMqD,EAAQrD,MACrErV,KAAKmyE,gBAAgBj5B,EAAQxgC,EAAQ8iC,IAEtC,IAAIzpB,EAGH,MADAta,cAAazX,KAAKk9C,YACXl9C,KAOT,MAFAA,MAAK25C,WAAWT,EAAQ7jC,GAEjBrV,MAGRy7C,MAAO,SAAU5iC,EAAQH,GAIxB,GAHAG,EAASzY,EAAEivC,MAAMx2B,GAAQuxB,QACzB1xB,EAAUA,OAELG,EAAO9N,IAAM8N,EAAO5N,EACxB,MAAOjL,KAkBR,IAfKA,KAAKskE,WACTtkE,KAAKskE,SAAW,GAAIlkE,GAAEqxE,aAEtBzxE,KAAKskE,SAAS3kD,IACbyR,KAAQpxB,KAAKoyE,qBACbnkE,IAAOjO,KAAKqyE,qBACVryE,OAIC0Y,EAAQitD,aACZ3lE,KAAKyJ,KAAK,aAIPiP,EAAQ8W,WAAY,EAAO,CAC9BpvB,EAAEoxC,QAAQz5B,SAAS/X,KAAKkgD,SAAU,mBAElC,IAAIwqB,GAAS1qE,KAAKw/C,iBAAiBjQ,SAAS12B,EAC5C7Y,MAAKskE,SAASoN,IAAI1xE,KAAKkgD,SAAUwqB,EAAQhyD,EAAQkY,UAAY,IAAMlY,EAAQgrD,mBAE3E1jE,MAAK07C,UAAU7iC,GACf7Y,KAAKyJ,KAAK,QAAQA,KAAK,UAGxB,OAAOzJ,OAGRoyE,qBAAsB,WACrBpyE,KAAKyJ,KAAK,SAGX4oE,oBAAqB,WACpBjyE,EAAEoxC,QAAQx5B,YAAYhY,KAAKkgD,SAAU,oBACrClgD,KAAKyJ,KAAK,YAGX0oE,gBAAiB,SAAUj5B,EAAQxgC,GAElC,GAAIG,GAAS7Y,KAAKmiD,iBAAiBjJ,GAAQpJ,QAG3C,UAAKp3B,GAAWA,EAAQ8W,YAAa,IAASxvB,KAAKwwC,UAAUpxB,SAASvG,MAEtE7Y,KAAKy7C,MAAM5iC,EAAQH,IAEZ,MAUTtY,EAAEqxE,aAAerxE,EAAEoxC,QAAQgC,WAAapzC,EAAEqxE,aAAerxE,EAAEqxE,aAAa/rE,QAEvEgsE,IAAK,SAAU9tC,EAAI8mC,EAAQ95C,EAAU8yC,GACpC1jE,KAAKwX,OAELxX,KAAK2xE,IAAM/tC,EACX5jC,KAAK6rE,aAAc,EACnB7rE,KAAKsyE,UAAY1hD,GAAY,IAC7B5wB,KAAKuyE,cAAgB,EAAIviE,KAAKC,IAAIyzD,GAAiB,GAAK,IAExD1jE,KAAK6iE,UAAYziE,EAAEoxC,QAAQ+B,YAAY3P,GACvC5jC,KAAKwyE,QAAU9H,EAAOn7B,SAASvvC,KAAK6iE,WACpC7iE,KAAKomE,YAAc,GAAI/1D,MAEvBrQ,KAAKyJ,KAAK,SAEVzJ,KAAKyyE,YAGNj7D,KAAM,WACAxX,KAAK6rE,cAEV7rE,KAAK0yE,QACL1yE,KAAK2yE,cAGNF,SAAU,WAETzyE,KAAK4yE,QAAUxyE,EAAE+oC,KAAKiC,iBAAiBprC,KAAKyyE,SAAUzyE,MACtDA,KAAK0yE,SAGNA,MAAO,WACN,GAAI/Q,IAAY,GAAItxD,MAAUrQ,KAAKomE,WAC/Bx1C,EAA4B,IAAjB5wB,KAAKsyE,SAEhB3Q,GAAU/wC,EACb5wB,KAAK6yE,UAAU7yE,KAAK8yE,SAASnR,EAAU/wC,KAEvC5wB,KAAK6yE,UAAU,GACf7yE,KAAK2yE,cAIPE,UAAW,SAAU5gE,GACpB,GAAIsf,GAAMvxB,KAAK6iE,UAAUt6D,IAAIvI,KAAKwyE,QAAQ7iC,WAAW19B,GACrD7R,GAAEoxC,QAAQ2B,YAAYnzC,KAAK2xE,IAAKpgD,GAEhCvxB,KAAKyJ,KAAK,SAGXkpE,UAAW,WACVvyE,EAAE+oC,KAAKmC,gBAAgBtrC,KAAK4yE,SAE5B5yE,KAAK6rE,aAAc,EACnB7rE,KAAKyJ,KAAK,QAGXqpE,SAAU,SAAUnoE,GACnB,MAAO,GAAIqF,KAAKm6B,IAAI,EAAIx/B,EAAG3K,KAAKuyE,kBASlCnyE,EAAEm4C,IAAIxM,cACLmQ,eAAe,EACf62B,uBAAwB,IAGrB3yE,EAAEoxC,QAAQgC,YAEbpzC,EAAEm4C,IAAIvM,YAAY,WAEjBhsC,KAAKwkD,cAAgBxkD,KAAK0Y,QAAQwjC,eAAiB97C,EAAEoxC,QAAQgC,YAC3DpzC,EAAE2uC,QAAQP,QAAUpuC,EAAE2uC,QAAQ3B,YAAchtC,EAAE2uC,QAAQI,YAIpDnvC,KAAKwkD,eACRpkD,EAAEuzC,SAASh0B,GAAG3f,KAAKkgD,SAAU9/C,EAAEoxC,QAAQiC,eAAgBzzC,KAAKgzE,oBAAqBhzE,QAKpFI,EAAEm4C,IAAIlkB,QAASj0B,EAAEoxC,QAAQgC,YAExBw/B,oBAAqB,SAAU1xE,GAC1BtB,KAAK83D,gBAAkBx2D,EAAEke,aAAavT,QAAQ,cAAgB,GACjEjM,KAAKizE,wBAIPC,kBAAmB,WAClB,OAAQlzE,KAAKs9C,WAAW35B,uBAAuB,yBAAyBvf,QAGzE8tE,iBAAkB,SAAUh5B,EAAQ7jC,EAAMqD,GAEzC,GAAI1Y,KAAK83D,eAAkB,OAAO,CAKlC,IAHAp/C,EAAUA,OAGL1Y,KAAKwkD,eAAiB9rC,EAAQ8W,WAAY,GAASxvB,KAAKkzE,qBACrDljE,KAAKkgC,IAAI76B,EAAOrV,KAAK+5C,OAAS/5C,KAAK0Y,QAAQq6D,uBAA0B,OAAO,CAGpF,IAAI1hC,GAAQrxC,KAAKo6C,aAAa/kC,GAC1BwD,EAAS7Y,KAAKmiD,iBAAiBjJ,GAAQxJ,UAAU,EAAI,EAAI2B,GAC5D2B,EAAShzC,KAAK89C,uBAAuBxO,KAAKz2B,EAG3C,SAAIH,EAAQ8W,WAAY,IAASxvB,KAAKwwC,UAAUpxB,SAASvG,MAEzD7Y,KACKyJ,KAAK,aACLA,KAAK,aAEVzJ,KAAK6kD,aAAa3L,EAAQ7jC,EAAM29B,EAAQ3B,EAAO,MAAM,IAE9C,IAGRwT,aAAc,SAAU3L,EAAQ7jC,EAAM29B,EAAQ3B,EAAO4I,EAAOk5B,EAAWC,GAEjEA,IACJpzE,KAAK83D,gBAAiB,GAIvB13D,EAAEoxC,QAAQz5B,SAAS/X,KAAKkgD,SAAU,qBAGlClgD,KAAKqzE,iBAAmBn6B,EACxBl5C,KAAKszE,eAAiBj+D,EAGlBjV,EAAE0gE,YACL1gE,EAAE0gE,UAAU4B,WAAY,GAGzBtiE,EAAE+oC,KAAKiC,iBAAiB,WACvBprC,KAAKyJ,KAAK,YACTyvC,OAAQA,EACR7jC,KAAMA,EACN29B,OAAQA,EACR3B,MAAOA,EACP4I,MAAOA,EACPk5B,UAAWA,KAEVnzE,OAGJizE,qBAAsB,WAErBjzE,KAAK83D,gBAAiB,EAEtB13D,EAAEoxC,QAAQx5B,YAAYhY,KAAKkgD,SAAU,qBAErClgD,KAAK25C,WAAW35C,KAAKqzE,iBAAkBrzE,KAAKszE,gBAAgB,GAAM,GAE9DlzE,EAAE0gE,YACL1gE,EAAE0gE,UAAU4B,WAAY,SAU3BtiE,EAAE+7C,UAAU9nB,SACXwwB,aAAc,SAAUvjD,GAClBtB,KAAKuzE,aACTvzE,KAAKuzE,YAAa,EAClBvzE,KAAKwzE,mBAGN,IAAIxtD,GAAKhmB,KAAKimD,UACV7U,EAAYhxC,EAAEoxC,QAAQ8B,UACtBmgC,EAAmBnyE,EAAE24C,MAAQ75C,EAAEoxC,QAAQqB,mBAAmBvxC,EAAE24C,OAASj0B,EAAGzf,MAAM6qC,GAC9E8B,EAAW9yC,EAAEoxC,QAAQuB,eAAezxC,EAAE+vC,MAAO/vC,EAAE0xC,OAEnDhtB,GAAGzf,MAAM6qC,GAAa9vC,EAAE6xE,UACtBjgC,EAAW,IAAMugC,EACjBA,EAAmB,IAAMvgC,GAG5B6R,aAAc,WACb,GAAI2uB,GAAQ1zE,KAAKkmD,eACblgC,EAAKhmB,KAAKimD,SAEdytB,GAAMntE,MAAMmiB,WAAa,GACzBgrD,EAAMrqE,WAAWvH,YAAY4xE,GAG7BtzE,EAAE+oC,KAAKY,QAAQ/jB,EAAG9f,aAElBlG,KAAKuzE,YAAa,GAGnBhtB,eAAgB,WACf,GAAIv4C,GAAMhO,KAAKskD,MAEXt2C,GAAQA,EAAI8pD,gBAAmB9pD,EAAIo6D,UAAUI,WAChDxoE,KAAKimD,UAAUt/C,UAAY,GAC3B3G,KAAKimD,UAAU1/C,MAAMnG,EAAEoxC,QAAQ8B,WAAa,KAI9CkgC,iBAAkB,WAEjB,GAAIE,GAAQ1zE,KAAKkmD,eACblgC,EAAKhmB,KAAKimD,UAKV0tB,EAAW3zE,KAAK4zE,0BAA0B5tD,GAC1C6tD,EAAc7zE,KAAK4zE,0BAA0BF,EAEjD,OAAI1tD,IAAM2tD,EAAW,IAAOE,EAAc,IAEzCH,EAAMntE,MAAMmiB,WAAa,aACzB1oB,MAAK8zE,mBAAmBJ,KAKzB1tD,EAAGzf,MAAMmiB,WAAa,SACtB1C,EAAGzf,MAAMnG,EAAEoxC,QAAQ8B,WAAa,GAGhCtzC,KAAKkmD,eAAiBlgC,EACtBA,EAAKhmB,KAAKimD,UAAYytB,EAEtB1zE,KAAK8zE,mBAAmB9tD,OAGxBvO,cAAazX,KAAK+oD,uBAGnB6qB,0BAA2B,SAAU3hC,GACpC,GACI9tC,GAAGklC,EADH0c,EAAQ9T,EAAUhrC,qBAAqB,OAC/By/D,EAAQ,CAEpB,KAAKviE,EAAI,EAAGklC,EAAM0c,EAAM3hD,OAAQD,EAAIklC,EAAKllC,IACpC4hD,EAAM5hD,GAAGmnB,UACZo7C,GAGF,OAAOA,GAAQr9B,GAIhByqC,mBAAoB,SAAU7hC,GAC7B,GACI9tC,GAAGklC,EAAK8c,EADRJ,EAAQr6C,MAAML,UAAUxI,MAAMmG,KAAKipC,EAAUhrC,qBAAqB,OAGtE,KAAK9C,EAAI,EAAGklC,EAAM0c,EAAM3hD,OAAQD,EAAIklC,EAAKllC,IACxCgiD,EAAOJ,EAAM5hD,GAERgiD,EAAK76B,WACT66B,EAAK33B,OAASpuB,EAAE+oC,KAAKY,QACrBoc,EAAKyC,QAAUxoD,EAAE+oC,KAAKY,QACtBoc,EAAKz+B,IAAMtnB,EAAE+oC,KAAKuB,cAElByb,EAAK98C,WAAW9G,YAAY4jD,OAWhC/lD,EAAEm4C,IAAIlkB,SACL0/C,uBACCC,OAAO,EACP76B,SAAS,EACTkC,QAAS1pB,EAAAA,EACT/D,QAAS,IACTqmD,WAAY,EACZC,oBAAoB,GAGrBC,OAAQ,SAAqBz7D,GAI5B,GAFAA,EAAU1Y,KAAKo0E,eAAiBh0E,EAAEsF,OAAO1F,KAAK+zE,sBAAuBr7D,IAEhE5O,UAAUuqE,YAKd,MAJAr0E,MAAKs0E;AACJn8B,KAAM,EACNo8B,QAAS,+BAEHv0E,IAGR,IAAIw0E,GAAap0E,EAAEyf,KAAK7f,KAAKy0E,2BAA4Bz0E,MACxD0kC,EAAUtkC,EAAEyf,KAAK7f,KAAKs0E,wBAAyBt0E,KAQhD,OANI0Y,GAAQs7D,MACXh0E,KAAK00E,iBACG5qE,UAAUuqE,YAAYM,cAAcH,EAAY9vC,EAAShsB,GAEjE5O,UAAUuqE,YAAYO,mBAAmBJ,EAAY9vC,EAAShsB,GAExD1Y,MAGR60E,WAAY,WAOX,MANI/qE,WAAUuqE,aACbvqE,UAAUuqE,YAAYS,WAAW90E,KAAK00E,kBAEnC10E,KAAKo0E,iBACRp0E,KAAKo0E,eAAej7B,SAAU,GAExBn5C,MAGRs0E,wBAAyB,SAAU7vE,GAClC,GAAIvD,GAAIuD,EAAM0zC,KACVo8B,EAAU9vE,EAAM8vE,UACD,IAANrzE,EAAU,oBACJ,IAANA,EAAU,uBAAyB,UAE5ClB,MAAKo0E,eAAej7B,UAAYn5C,KAAK85C,SACxC95C,KAAKs7C,WAGNt7C,KAAKyJ,KAAK,iBACT0uC,KAAMj3C,EACNqzE,QAAS,sBAAwBA,EAAU,OAI7CE,2BAA4B,SAAUljD,GACrC,GAAI2iB,GAAM3iB,EAAItX,OAAO86D,SACjB5gC,EAAM5iB,EAAItX,OAAO+6D,UACjB79B,EAAS,GAAI/2C,GAAE6zC,OAAOC,EAAKC,GAE3B8gC,EAAc,IAAM1jD,EAAItX,OAAOi7D,SAAW,SAC1CC,EAAcF,EAAcjlE,KAAKghB,IAAI5wB,EAAE6zC,OAAOI,WAAaH,GAE3DzD,EAASrwC,EAAEq1C,cACFvB,EAAM+gC,EAAa9gC,EAAMghC,IACzBjhC,EAAM+gC,EAAa9gC,EAAMghC,IAElCz8D,EAAU1Y,KAAKo0E,cAEnB,IAAI17D,EAAQygC,QAAS,CACpB,GAAI9jC,GAAOrF,KAAK4kB,IAAI50B,KAAKi7C,cAAcxK,GAAS/3B,EAAQ2iC,QACxDr7C,MAAKm5C,QAAQhC,EAAQ9hC,GAGtB,GAAI7M,IACH2uC,OAAQA,EACR1G,OAAQA,EACR2kC,UAAW7jD,EAAI6jD,UAGhB,KAAK,GAAIjxE,KAAKotB,GAAItX,OACY,gBAAlBsX,GAAItX,OAAO9V,KACrBqE,EAAKrE,GAAKotB,EAAItX,OAAO9V,GAIvBnE,MAAKyJ,KAAK,gBAAiBjB,OAK3BuG,OAAQ7M,WAIT,SAAU4U,EAAM1K,EAASipE,GAIxBjpE,EAAQ0K,GAAQu+D,EAAWv+D,EAAM1K,IACjC,OAAQpM,KAAM,SAAU8W,EAAM1K,GAC9B,GAAIkpE,GAAMvmE,OACN8hB,EAAMzkB,EAAQ0K,GACdy+D,EAAU,WACVC,EAAiB,sBACjBC,EAAY,OACZC,EAAW,mBACX7mE,EAAc,cACdwM,EAAc,sBACdtK,EAAc,cACdm9B,EAAMhsC,aACNnC,EAAOmuC,EAAIjkC,oBACX0rE,EAAY51E,EAAK21E,GACjBE,EAAeD,EAAYD,EAAW7mE,EACtChM,EAAQ6I,MAAML,UAAUxI,MACxBgzE,EAAiB,kDACjBC,EAAsB,yBACtBC,EAAgB,SAChBC,EAAiB,mBACjBC,GAAQr2D,IAAK,GAEbs2D,EAAe,SAAW5zC,EAAMl6B,EAAQjE,GACtC,IAAKA,EAAI,EAAGA,EAAIiE,EAAOhE,OAAQD,IAC7Bm+B,EAAKl6B,EAAOjE,IAAM,CACpB,OAAOm+B,QAEL,uTAQCqzC,EAEC,soBAgBK,KACPnxE,MAAM,MAGV2xE,EAAe,WACb,QAASC,GAAa/zD,EAAQ2Z,GAC5B,KAAoC,QAA5BA,EAAOA,EAAK3yB,aAClB,GAAI2yB,IAAS3Z,EAAQ,OAAO,CAE9B,QAAO,EAGT,QAASg0D,GAAM/tE,GACb,GAAIi5D,GAAUj5D,EAAMyV,aACpB,OAAKwjD,GACGA,IAAYvhE,MAA2B,QAAnBuhE,EAAQnR,SAAqB,WAAWnrD,KAAKjF,KAAKsL,cAAgB8qE,EAAap2E,KAAMuhE,GADhF,OAAZA,EAIvB,OACIriD,YAAcmf,KAAM,YAAai4C,UAAWD,GAC5Cl3D,YAAckf,KAAM,WAAYi4C,UAAWD,GAC3CE,YAAcl4C,KAAM,UAAUp5B,KAAK6E,UAAUoB,WAAa,iBAAmB,kBAInFsrE,EAAW,WACT,GAAIC,GAAc,0MAA0MjyE,MAAM,KAC9NkyE,EAAaD,EAAY9zE,OAAO,gHAAgH6B,MAAM,MACtJmyE,EAAkBD,EAAW/zE,OAAO,sDAAsD6B,MAAM,MAChGoyE,EAAWH,EAAY9zE,OAAO,sDAAsD6B,MAAM,MAC1FqyE,EAAYJ,EAAY9zE,QAAQ,SAChCm0E,EAAaL,EAAY9zE,OAAO,sDAAsD6B,MAAM,MAC5F0X,EAAiB,iBACjB66D,EAAuB,SAAUzuE,GAC/B,MAAO,YACDA,EAAM4T,GACR5T,EAAM4T,KAEN5T,EAAMuW,aAAc,IAG1BhC,EAAkB,kBAClBm6D,EAAwB,SAAU1uE,GAChC,MAAO,YACDA,EAAMuU,GACRvU,EAAMuU,KAENvU,EAAM0W,cAAe,IAG3Bi4D,EAAa,SAAUC,GACrB,MAAO,YACLA,EAASh7D,KACTg7D,EAASr6D,KACTq6D,EAASC,SAAU,IAGvBC,EAAY,SAAU9uE,EAAOwT,EAAQiB,GACnC,GAAI5Y,GAAGF,CACP,KAAKE,EAAI4Y,EAAM3Y,OAAQD,KACrBF,EAAI8Y,EAAM5Y,KACJF,IAAK6X,KAAW7X,IAAKqE,KAAOwT,EAAO7X,GAAKqE,EAAMrE,IAI5D,OAAO,UAAUqE,EAAO+uE,GACtB,GAAIv7D,IAAW6C,cAAerW,EAAO+uE,SAAUA,EAC/C,KAAK/uE,EACH,MAAOwT,EAET,IAAIiB,GACAzX,EAAOgD,EAAMhD,KACbyW,EAASzT,EAAMyT,QAAUzT,EAAM2V,UAiCnC,OA/BAnC,GAAOI,GAAkB66D,EAAqBzuE,GAC9CwT,EAAOe,GAAmBm6D,EAAsB1uE,GAChDwT,EAAOtE,KAAOy/D,EAAWn7D,GACzBA,EAAOC,OAASA,GAA8B,IAApBA,EAAOlb,SAAiBkb,EAAO1S,WAAa0S,EAElEs7D,IACE/xE,EAAK2G,QAAQ,UAAW,GAC1B8Q,EAAQ65D,EACR96D,EAAOsB,QAAU9U,EAAM4U,OAAS5U,EAAM8U,SAC7By4D,EAAe5wE,KAAKK,IAC7ByX,EAAQ25D,EACR56D,EAAOw7D,WAA6B,IAAhBhvE,EAAM4U,OAAgC,IAAjB5U,EAAM4R,OAC/C4B,EAAOyV,KAAQxmB,EAAG,EAAGE,EAAG,GACpB3C,EAAMiV,OAASjV,EAAMqV,OACvB7B,EAAO0B,QAAUlV,EAAMiV,MACvBzB,EAAO8B,QAAUtV,EAAMqV,QACdrV,EAAMkV,SAAWlV,EAAMsV,WAChC9B,EAAO0B,QAAUlV,EAAMkV,QAAU0wB,EAAI/sC,KAAKsc,WAAa1d,EAAK0d,WAC5D3B,EAAO8B,QAAUtV,EAAMsV,QAAUswB,EAAI/sC,KAAK0c,UAAY9d,EAAK8d,WAEzD03D,EAAQtwE,KAAKK,KACfwW,EAAOiC,cAAgBzV,EAAMyV,eAAiBzV,GAAgB,cAAThD,EAAuB,OAAS,MAAQ,aACtF0wE,EAAe/wE,KAAKK,GAC7ByX,EAAQ+5D,EACChB,EAAoB7wE,KAAKK,GAClCyX,EAAQ45D,EACCZ,EAAc9wE,KAAKK,KAC5ByX,EAAQ85D,GAEVO,EAAU9uE,EAAOwT,EAAQiB,GAAS05D,IAE7B36D,MAKXy7D,EAAgB,SAAUzzC,EAASuzC,GACjC,MAAQ1B,IAAc0B,GAAavzC,IAAYoK,GAAOpK,IAAYwxC,EAAcxxC,EAAP/jC,GAI3Ey3E,EAAW,WACT,QAASC,GAAM3zC,EAASx+B,EAAMkV,EAASk9D,EAAU3hB,GAC/C/1D,KAAK8jC,QAAUA,EACf9jC,KAAKsF,KAAOA,EACZtF,KAAKwa,QAAUA,EACfxa,KAAK03E,SAAWA,EAChB13E,KAAK+1D,WAAaA,EAClB/1D,KAAKkwB,OAASimD,EAAa7wE,GAC3BtF,KAAKq3E,SAAWnB,EAAa5wE,IAASw+B,EAAQ8xC,GAC9C51E,KAAK23E,UAAYhC,GAAa31E,KAAKq3E,SAAW/xE,EAAO,iBACrDtF,KAAK43E,YAAcjC,IAAc31E,KAAKq3E,UAAY/xE,EAClDtF,KAAK+b,OAASw7D,EAAczzC,EAAS9jC,KAAKq3E,UAC1Cr3E,KAAK41E,aAAe51E,KAAK+b,OAAO65D,GA4BlC,MAzBA6B,GAAMpsE,WAEFwsE,aAAc,SAAUC,GACtB,GAAI3zE,GAAGP,CACP,KAAKk0E,EACH,OAAO,CACT,KAAK93E,KAAK+1D,WACR,OAAO,CACT,KAAK5xD,EAAI2zE,EAAgB1zE,OAAQD,KAC/B,IAAKP,EAAI5D,KAAK+1D,WAAW3xD,OAAQR,KAC/B,GAAIk0E,EAAgB3zE,KAAOnE,KAAK+1D,WAAWnyD,GACzC,OAAO,CAGb,QAAO,GAIT6Y,QAAS,SAAUs7D,EAAcC,EAAeC,GAC9C,QAAOj4E,KAAK8jC,UAAYi0C,GACpBC,GAAiBh4E,KAAK03E,WAAaM,GACnCC,GAAgBj4E,KAAKwa,UAAYy9D,KAIpCR,KAGTS,EAAW,WAGT,GAAIlqE,MAIAmqE,EAAS,SAAUr0C,EAASx+B,EAAMoyE,EAAUl9D,EAASjQ,GACnD,GAAKjF,GAAiB,MAATA,EAMN,CACL,GAAWzB,GAAPM,EAAI,EAAM83B,EAAOjuB,EAAI,IAAM1I,GAAO4uB,EAAkB,MAAZ4P,CAC5C,KAAK7H,EACH,MACF,KAAKp4B,EAAIo4B,EAAK73B,OAAQD,EAAIN,EAAGM,IAC3B,IAAI+vB,GAAO+H,EAAK93B,GAAGsY,QAAQqnB,EAAS4zC,EAAUl9D,MACvCjQ,EAAG0xB,EAAK93B,GAAI83B,EAAM93B,EAAGmB,GACxB,WAXN,KAAK,GAAIqF,KAAKqD,GACQ,MAAhBrD,EAAE2B,OAAO,IACX6rE,EAAOr0C,EAASn5B,EAAE3E,OAAO,GAAI0xE,EAAUl9D,EAASjQ,IAcxD0G,EAAM,SAAU6yB,EAASx+B,EAAMoyE,GAG7B,GAAIvzE,GAAG83B,EAAOjuB,EAAI,IAAM1I,EACxB,IAAI22B,EACF,IAAK93B,EAAI83B,EAAK73B,OAAQD,KACpB,GAAI83B,EAAK93B,GAAGsY,QAAQqnB,EAAS4zC,EAAU,MACrC,OAAO,CAGb,QAAO,GAGTnqE,EAAM,SAAUu2B,EAASx+B,EAAMoyE,GAC7B,GAAIU,KAEJ,OADAD,GAAOr0C,EAASx+B,EAAMoyE,EAAU,KAAM,SAAUD,GAAS,MAAOW,GAAQzsE,KAAK8rE,KACtEW,GAGTC,EAAM,SAAUZ,GAEd,OADCzpE,EAAI,IAAMypE,EAAMnyE,QAAU0I,EAAI,IAAMypE,EAAMnyE,WAAaqG,KAAK8rE,GACtDA,GAGTa,EAAM,SAAUb,GACdU,EAAOV,EAAM3zC,QAAS2zC,EAAMnyE,KAAM,KAAMmyE,EAAMj9D,QAAS,SAAUi9D,EAAOx7C,EAAM93B,GAI5E,MAHA83B,GAAK9tB,OAAOhK,EAAG,GACK,IAAhB83B,EAAK73B,cACA4J,GAAI,IAAMypE,EAAMnyE,OAClB,KAKX8yE,EAAU,WACR,GAAIztE,GAAGytE,IACP,KAAKztE,IAAKqD,GACY,MAAhBrD,EAAE2B,OAAO,KACX8rE,EAAUA,EAAQz1E,OAAOqL,EAAIrD,IAEjC,OAAOytE,GAGb,QAASnnE,IAAKA,EAAK1D,IAAKA,EAAK8qE,IAAKA,EAAKC,IAAKA,EAAKF,QAASA,MAI5DG,EAAW5C,EAAY,SAAU7xC,EAASx+B,EAAMiF,EAAIhC,GAClDu7B,EAAQv7B,EAAMmtE,EAAWr6D,GAAa/V,EAAMiF,GAAI,IAC9C,SAAUu5B,EAASx+B,EAAMiF,EAAIhC,EAAK2nB,GAChCA,GAAU3nB,GAAmC,OAA5Bu7B,EAAQ,MAAQ5T,KACnC4T,EAAQ,MAAQ5T,GAAU,GAC5B4T,EAAQv7B,EAAMsG,EAAckC,GAAa,KAAOzL,EAAMiF,IAGxDiuE,EAAgB,SAAU10C,EAASv5B,EAAI6xB,GACrC,MAAO,UAAU9zB,GAEf,MADAA,GAAQkuE,EAASluE,KAAWtI,KAAK0I,eAAiB1I,KAAKkC,UAAYlC,MAAMe,cAAgBu0E,GAAKhtE,OAAO,GAC9FiC,EAAG3H,MAAMkhC,GAAUx7B,GAAO3F,OAAOy5B,MAI5Cq8C,EAAgB,SAAU30C,EAASv5B,EAAIjF,EAAMgxE,EAAWl6C,EAAMi7C,GAC5D,MAAO,UAAU/uE,IACXguE,EAAYA,EAAU1zE,MAAM5C,KAAM8N,aAAa6nE,IAAmBrtE,GAASA,EAAMkX,eAAiB,MAAQla,IAASgD,MACjHA,IACFA,EAAQkuE,EAASluE,KAAWtI,KAAK0I,eAAiB1I,KAAKkC,UAAYlC,MAAMe,cAAgBu0E,GAAKhtE,MAAO+uE,IACvG9sE,EAAG3H,MAAMkhC,GAASx7B,GAAW8zB,GAAwB,IAAhBA,EAAKh4B,OAA4BvB,EAAMmG,KAAK8E,UAAWxF,EAAQ,EAAI,GAAG3F,OAAOy5B,GAAxDtuB,cAKhEsD,EAAO,SAAUsnE,EAAI50C,EAASx+B,EAAMiF,EAAIouE,GAEtC,MAAO,YACLD,EAAG50C,EAASx+B,EAAMqzE,GAClBpuE,EAAG3H,MAAM5C,KAAM8N,aAInB6yD,EAAiB,SAAU78B,EAAS80C,EAASp+D,EAASu7C,GACpD,GAAI5xD,GAAGN,EAAG4zE,EACNnyE,EAAQszE,GAAWA,EAAQl0E,QAAQ+wE,EAAW,IAC9C10C,EAAWm3C,EAAS3qE,IAAIu2B,EAASx+B,EAAMkV,EAE3C,KAAKrW,EAAI,EAAGN,EAAIk9B,EAAS38B,OAAQD,EAAIN,EAAGM,IAClC48B,EAAS58B,GAAG0zE,aAAa9hB,MACtB0hB,EAAQ12C,EAAS58B,IAAIyxE,cACxB2C,EAASd,EAAM17D,OAAQ07D,EAAME,UAAWF,EAAMj9D,SAAS,EAAOi9D,EAAMnyE,MAMtE4yE,EAASI,IAAIb,KAKnBtX,EAAc,SAAUr8B,EAAS80C,EAASruE,EAAIouE,EAAYv8C,GACxD,GAAIq7C,GACAnyE,EAAOszE,EAAQl0E,QAAQ+wE,EAAW,IAClC1f,EAAa6iB,EAAQl0E,QAAQ8wE,EAAgB,IAAIhxE,MAAM,IAE3D,OAAI0zE,GAASjnE,IAAI6yB,EAASx+B,EAAMiF,GACvBu5B,GACI,WAATx+B,IACFiF,EAAK6G,EAAKuvD,EAAgB78B,EAASx+B,EAAMiF,EAAIouE,IAC3CxC,EAAa7wE,KACX6wE,EAAa7wE,GAAMgxE,YACrB/rE,EAAKkuE,EAAc30C,EAASv5B,EAAIjF,EAAM6wE,EAAa7wE,GAAMgxE,WAAW,IACtEhxE,EAAO6wE,EAAa7wE,GAAM+4B,MAAQ/4B,GAEpCmyE,EAAQS,EAASG,IAAI,GAAIb,GAAS1zC,EAASx+B,EAAMiF,EAAIouE,EAAY5iB,EAAW,IAAMA,IAClF0hB,EAAMj9D,QAAUi9D,EAAMJ,SACpBmB,EAAc10C,EAAS2zC,EAAMj9D,QAAS4hB,GACtCq8C,EAAc30C,EAAS2zC,EAAMj9D,QAASlV,GAAM,EAAO82B,GAAM,QACvDq7C,EAAM7B,cACR2C,EAASd,EAAM17D,OAAQ07D,EAAME,UAAWF,EAAMj9D,SAAS,EAAMi9D,EAAMG,eAGvEU,EAAM,SAAUjsE,EAAU9B,EAAIpK,GAC5B,MAAO,UAAUmB,GACf,GAAIya,GAAQ5X,EAAG00E,EAA4B,gBAAbxsE,GAAwBlM,EAAEkM,EAAUrM,MAAQqM,CAC1E,KAAK0P,EAASza,EAAEya,OAAQA,GAAUA,IAAW/b,KAAM+b,EAASA,EAAO1S,WACjE,IAAKlF,EAAI00E,EAAMz0E,OAAQD,KACrB,GAAI00E,EAAM10E,KAAO4X,EACf,MAAOxR,GAAG3H,MAAMmZ,EAAQjO,aAOlCtM,EAAS,SAAUsiC,EAASg1C,EAAUvuE,GACpC,GAAIlG,GAAMiB,EAAMywD,EAAY5xD,EACxBu0E,EAAK/X,EACLrpC,EAAWwhD,GAAgC,gBAAbA,EAElC,IAAIxhD,GAAYwhD,EAAS7sE,QAAQ,KAAO,EAAG,CAGzC,IADA6sE,EAAWA,EAASt0E,MAAM,KACrBL,EAAI20E,EAAS10E,OAAQD,KACxB3C,EAAOsiC,EAASg1C,EAAS30E,GAAIoG,EAC/B,OAAOu5B,GAKT,GAHAx+B,EAAOgyB,GAAYwhD,EAASp0E,QAAQ+wE,EAAW,IAC3CnwE,GAAQ6wE,EAAa7wE,KACvBA,EAAO6wE,EAAa7wE,GAAMA,OACvBwzE,GAAYxhD,GAEXy+B,EAAaz+B,GAAYwhD,EAASp0E,QAAQ8wE,EAAgB,OAC5Dzf,EAAaA,EAAWvxD,MAAM,MAChCk0E,EAAG50C,EAASx+B,EAAMiF,EAAIwrD,OACjB,IAAwB,kBAAb+iB,GAEhBJ,EAAG50C,EAAS,KAAMg1C,OAGlB,KAAKz0E,IAAKy0E,GACJA,EAASttE,eAAenH,IAC1B7C,EAAOsiC,EAASz/B,EAAGy0E,EAASz0E,GAGlC,OAAOy/B,IAGTv7B,EAAM,SAAUu7B,EAAS17B,EAAQmC,EAAIwuE,EAAO54E,GAC1C,GAAImF,GAAM6mC,EAAOhoC,EAAGi4B,EAChBu8C,EAAapuE,EACbyuE,EAAQzuE,GAAoB,gBAAPA,EAEzB,IAAInC,IAAWmC,GAAwB,gBAAXnC,GAC1B,IAAK9C,IAAQ8C,GACPA,EAAOoD,eAAelG,IACxBiD,EAAI3F,MAAM5C,MAAQ8jC,EAASx+B,EAAM8C,EAAO9C,SAQ5C,KALA82B,EAAOtuB,UAAU1J,OAAS,EAAIvB,EAAMmG,KAAK8E,UAAW,MACpDq+B,GAAS6sC,EAAQzuE,EAAKnC,GAAQ5D,MAAM,KACpCw0E,IAAUzuE,EAAK+tE,EAAIlwE,EAASuwE,EAAaI,EAAQ54E,MAAQi8B,EAAOv5B,EAAMmG,KAAKozB,EAAM,IAEjFp8B,OAASi2E,IAAQ1rE,EAAK6G,EAAK5P,EAAQsiC,EAAS17B,EAAQmC,EAAIouE,IACnDx0E,EAAIgoC,EAAM/nC,OAAQD,KAAMg8D,EAAYr8B,EAASqI,EAAMhoC,GAAIoG,EAAIouE,EAAYv8C,EAE9E,OAAO0H,IAGTlkB,EAAM,WACJ,MAAOrX,GAAI3F,MAAMqzE,EAAKnoE,YAGxBmrE,EAAetD,EAAY,SAAU0B,EAAU/xE,EAAMw+B,GACnD,GAAIo1C,GAAMhrC,EAAI07B,YAAYyN,EAAW,aAAe,WACpD6B,GAAI7B,EAAW,YAAc,eAAe/xE,GAAM,GAAM,EAAMgwE,EAAK,GACnExxC,EAAQkmC,cAAckP,IACpB,SAAU7B,EAAU/xE,EAAMw+B,GAC5BA,EAAUyzC,EAAczzC,EAASuzC,GAEjCA,EAAWvzC,EAAQxvB,UAAU,KAAOhP,EAAM4oC,EAAIirC,qBAAuBr1C,EAAQ,MAAQx+B,MAGvFmE,EAAO,SAAUq6B,EAASx+B,EAAM82B,GAC9B,GAAIj4B,GAAGP,EAAGC,EAAGokC,EAAOlH,EAChBoL,EAAQ7mC,EAAKd,MAAM,IAEvB,KAAKL,EAAIgoC,EAAM/nC,OAAQD,KAIrB,GAHAmB,EAAO6mC,EAAMhoC,GAAGO,QAAQ+wE,EAAW,KAC/BxtC,EAAQkE,EAAMhoC,GAAGO,QAAQ8wE,EAAgB,OAC3CvtC,EAAQA,EAAMzjC,MAAM,MACjByjC,GAAU7L,IAAQ0H,EAAQ8xC,GAO7B,IAFA70C,EAAWm3C,EAAS3qE,IAAIu2B,EAASx+B,GACjC82B,IAAQ,GAAOz5B,OAAOy5B,GACjBx4B,EAAI,EAAGC,EAAIk9B,EAAS38B,OAAQR,EAAIC,EAAGD,IAClCm9B,EAASn9B,GAAGi0E,aAAa5vC,IAC3BlH,EAASn9B,GAAG4W,QAAQ5X,MAAMkhC,EAAS1H,OARvC68C,GAAa/C,EAAa5wE,GAAOA,EAAMw+B,EAY3C,OAAOA,IAGTl3B,EAAQ,SAAUk3B,EAASs1C,EAAM9zE,GAK/B,IAJA,GAAInB,GAAI,EACJ48B,EAAWm3C,EAAS3qE,IAAI6rE,EAAM9zE,GAC9BzB,EAAIk9B,EAAS38B,OAEXD,EAAIN,EAAGM,IACX48B,EAAS58B,GAAGuzE,UAAYnvE,EAAIu7B,EAAS/C,EAAS58B,GAAGmB,KAAMy7B,EAAS58B,GAAGuzE,SACrE,OAAO5zC,IAGTu1C,GACI9wE,IAAKA,EACLqX,IAAKA,EACLpe,OAAQA,EACRoL,MAAOA,EACPnD,KAAMA,EACN2E,WAAY,WAEV,MADAhC,GAAQ0K,GAAQ+Z,EACT7wB,MAIjB,IAAIs1E,EAAIzmE,GAAc,CAEpB,GAAIyqE,GAAU,WACZ,GAAIn1E,GAAGi0E,EAAUF,EAASE,SAC1B,KAAKj0E,IAAKi0E,GACJA,EAAQj0E,GAAGmB,MAA4B,WAApB8yE,EAAQj0E,GAAGmB,MAChC9D,EAAO42E,EAAQj0E,GAAG2/B,QAASs0C,EAAQj0E,GAAGmB,KAE1CgwE,GAAIvkE,GAAa,WAAYuoE,GAC7BhE,EAAIiE,gBAAkBjE,EAAIiE,iBAE5BjE,GAAIzmE,GAAa,WAAYyqE,GAG/B,MAAOD,IAMT,IAAIG,SACJA,OAAMC,OACJC,KAAM,EACNC,IAAK,EACLC,aAAc,GACdC,OAAQ,EACRC,MAAO,EACPr5D,GAAI,EACJs5D,MAAO,EACPC,OAAQ,EACRC,YAAa,EACbC,WAAY,EACZC,QAAS,EACTC,aAAc,IAEhBZ,MAAMa,SACJC,WAAY,EACZC,SAAU,EACVC,QAAS,EACTC,UAAW,EACXC,aAAc,EACdC,gBAAiB,EACjBC,eAAgB,EAChBC,gBAAiB,EACjBC,aAAc,EACdC,YAAa,EACbC,iBAAkB,EAClBC,iBAAkB,EAClBC,gBAAiB,EACjBC,iBAAkB,EAClBC,eAAgB,EAChBC,WAAY,EACZC,WAAY,EACZC,eAAgB,EAChBC,YAAa,EACbC,UAAW,EACXC,cAAe,EACfC,UAAW,EACXC,YAAa,EACbC,aAAc,EACdC,SAAU,EACVC,SAAU,EACVC,WAAY,EACZC,cAAe,EACfC,YAAa,GACbC,UAAW,EACXC,kBAAmB,EACnBC,YAAa,EACbC,eAAgB,EAChBC,aAAc,EACdC,eAAgB,EAChBC,eAAgB,EAChBC,gBAAiB,EACjBC,cAAe,EACfC,iBAAkB,EAClBC,eAAgB,GAChBC,WAAY,EACZC,mBAAoB,EACpBC,YAAa,EACbC,oBAAqB,EACrBC,mBAAoB,EACpBC,eAAgB,EAChBC,iBAAkB,EAClBC,kBAAmB,EACnBC,mBAAoB,EACpBC,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClBC,gBAAiB,EACjBC,iBAAkB,EAClBC,aAAc,EACdC,YAAa,EACbC,eAAgB,EAChBC,YAAa,EACbC,cAAe,EACfC,aAAc,EACdC,kBAAmB,EACnBC,iBAAkB,EAClBC,oBAAqB,EACrBC,iBAAkB,EAClBC,mBAAoB,EACpBC,kBAAmB,EACnBC,YAAa,EACbC,gBAAiB,EACjBC,eAAgB,EAChBC,aAAc,EACdC,cAAe,EACfC,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,eAAgB,EAChBC,eAAgB,EAChBC,qBAAsB,EACtBC,gBAAiB,EACjBC,eAAgB,EAChBC,aAAc,EACdC,gBAAiB,EACjBC,iBAAkB,EAClBC,eAAgB,GAChBC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,gBAAiB,EACjBC,sBAAuB,EACvBC,iBAAkB,EAClBC,uBAAwB,EACxBC,sBAAuB,EACvBC,gBAAiB,EACjBC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfC,aAAc,EACdC,YAAa,EACbC,WAAY,EACZC,cAAe,GACfC,cAAe,EACfC,aAAc,EACdC,gBAAiB,EACjBC,mBAAoB,EACpBC,eAAgB,EAChBC,aAAc,EACdC,sBAAuB,EACvBC,iBAAkB,EAClBC,kBAAmB,EACnBC,eAAgB,EAChBC,mBAAoB,EACpBC,cAAe,EACfC,gBAAiB,EACjBC,kBAAmB,EACnBC,iBAAkB,EAClBC,kBAAmB,EACnBC,kBAAmB,EACnBC,cAAe,EACfC,aAAc,EACdC,kBAAmB,EACnBC,cAAe,EACfC,gBAAiB,GACjBC,eAAgB,EAChBC,YAAa,EACbC,gBAAiB,EACjBC,mBAAoB,EACpBC,aAAc,EACdC,gBAAiB,EACjBC,iBAAkB,EAClBC,oBAAqB,EACrBC,gBAAiB,EACjBC,WAAY,EACZC,YAAa,EACbC,YAAa,EACbC,gBAAiB,EACjBC,cAAe,EACfC,YAAa,EACbC,WAAY,EACZC,qBAAsB,EACtBC,kBAAmB,EACnBC,mBAAoB,EACpBC,gBAAiB,EACjBC,mBAAoB,EACpBC,gBAAiB,EACjBC,WAAY,EACZC,aAAc,EACdC,UAAW,EACXC,mBAAoB,EACpBC,mBAAoB,EACpBC,eAAgB,EAChBC,iBAAkB,EAClBC,mBAAoB,EACpBC,kBAAmB,EACnBC,eAAgB,EAChBC,mBAAoB,EACpBC,eAAgB,EAChBC,iBAAkB,EAClBC,gBAAiB,EACjBC,qBAAsB,EACtBC,qBAAsB,EACtBC,eAAgB,EAChBC,eAAgB,EAChBC,iBAAkB,EAClBC,eAAgB,EAChBC,eAAgB,EAChBC,cAAe,EACfC,iBAAkB,EAClBC,gBAAiB,EACjBC,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdC,YAAa,EACbC,sBAAuB,EACvBC,iBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,EAClBC,mBAAoB,EACpBC,qBAAsB,EACtBC,oBAAqB,EACrBC,qBAAsB,EACtBC,qBAAsB,EACtBC,iBAAkB,EAClBC,qBAAsB,EACtBC,eAAgB,EAChBC,cAAe,EACfC,iBAAkB,EAClBC,gBAAiB,EACjBC,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdC,YAAa,EACbC,eAAgB,EAChBC,cAAe,EACfC,iBAAkB,EAClBC,gBAAiB,EACjBC,YAAa,EACbC,cAAe,EACfC,WAAY,EACZC,cAAe,EACfC,aAAc,EACdC,cAAe,EACfC,WAAY,GAEdnP,MAAMoP,QACJC,gBAAiB,EACjBC,MAAO,EACPC,MAAO,EACPC,OAAQ,EACRC,OAAQ,GACRC,SAAU,GACVrP,OAAQ,GACRC,MAAO,KAETN,MAAM2P,UACJ3oF,EAAK,EACL4oF,KAAQ,EACRC,QAAW,EACXC,QAAW,EACX7yE,OAAU,GACV6P,KAAQ,EACR7lB,EAAK,EACL49B,KAAQ,GACRkrD,SAAY,GACZC,IAAO,EACPC,IAAO,EACPC,WAAc,EACdvoF,KAAQ,GACRknB,GAAM,EACNnO,OAAU,EACVmwC,OAAU,EACV3jC,QAAW,EACXwyB,OAAU,EACVywC,KAAQ,EACRxxC,KAAQ,EACR9xB,IAAO,EACPI,SAAY,EACZmjE,GAAM,EACNtR,IAAO,EACPuR,IAAO,EACP/kE,IAAO,EACP+pB,IAAO,EACPi7C,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,SAAY,EACZC,KAAQ,EACR7qE,KAAQ,EACR8qE,MAAS,GACTC,SAAY,GACZC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNr8D,KAAQ,GACRs8D,GAAM,EACN/xE,KAAQ,GACRzU,EAAK,EACL+9B,OAAU,EACVgpB,IAAO,EACProC,MAAS,EACT+nE,IAAO,EACPC,QAAW,GACXC,IAAO,EACPzZ,MAAS,EACTprD,OAAU,EACV8kE,GAAM,EACNrd,KAAQ,GACR1/D,IAAO,EACPg9E,KAAQ,EACRvxD,KAAQ,GACRwxD,KAAQ,EACRC,QAAW,EACXC,SAAY,GACZC,SAAY,GACZ50E,OAAU,GACV60E,GAAM,EACN9kE,SAAY,EACZjO,OAAU,EACVrU,EAAK,EACLmnB,MAAS,GACT67C,IAAO,EACPx8D,EAAK,EACL5K,EAAK,EACLyrF,KAAQ,EACRn9D,OAAU,GACV3V,OAAU,EACV+yE,MAAS,EACTC,KAAQ,EACRC,OAAU,EACVC,OAAU,EACVnlF,MAAS,IACTmK,IAAO,EACPi7E,IAAO,EACPC,MAAS,EACT94E,MAAS,EACTsT,GAAM,EACNylE,SAAY,EACZrlE,MAAS,EACTG,GAAM,EACNT,MAAS,EACTsc,MAAS,GACTrc,GAAM,EACN2lE,GAAM,EACNlhF,EAAK,EACLmhF,GAAM,EACNC,IAAO,GAETxS,MAAMyS,UACJC,WAAY,EACZC,cAAe,EACfC,aAAc,GAEhB5S,MAAM6S,YACJ5Q,UAAW,EACXc,aAAc,EACdQ,mBAAoB,EACpBuP,mBAAoB,EACpB9N,YAAa,EACbS,eAAgB,EAChB+B,WAAY,EACZoB,aAAc,EACdK,YAAa,EACbuB,UAAW,GAEbxK,MAAM+S,QACJC,YAAa,EACbC,UAAW,EACXC,KAAM,GAERlT,MAAMmT,aACJlR,UAAW,EACXc,aAAc,EACdQ,mBAAoB,EACpBuP,mBAAoB,EACpB9N,YAAa,EACbS,eAAgB,EAChB+B,WAAY,EACZoB,aAAc,EACdK,YAAa,EACbuB,UAAW,EAiCb,IAAIprE,MAAO,SAAW4gE,GAwEpB,QAASoT,GAAa91E,GAEpB,GADAA,EAAO+1E,EAAM/1E,GACTg2E,EAASthF,eAAesL,GAAS,MAAOg2E,GAASh2E,EACrD,IAAIhT,GAAIgT,EAAK0J,MAAMusE,EACnB,OAAIjpF,GACKgI,OAAOkhF,aAAa53E,SAAStR,EAAE,GAAI,MAC9BA,EAAIgT,EAAK0J,MAAMysE,IACpBnhF,OAAOkhF,aAAa53E,SAAStR,EAAE,GAAI,KAErC,GAGT,QAASopF,GAAgB3sF,EAAGuW,GAC1B,MAAO81E,GAAa91E,GAItB,QAASq2E,GAAUttF,GACjB,MAAOA,GAAE6E,QAAQ0oF,EAAO,IAyB1B,QAASC,GAAiBxtF,GACxB,MAAOA,GAAE6E,QAAQ4oF,EAAUJ,GAsB7B,QAASK,GAAa1tF,GAEpB,MAAOA,GAAE6E,QAAQ8oF,EAAO,SAAS9oF,QAAQ+oF,EAAM,QAAQ/oF,QAAQgpF,EAAM,QAChEhpF,QAAQipF,EAAQ,SAASjpF,QAAQkpF,EAAM,SAU9C,QAASC,GAAgBC,GACvB,MAAOA,GACFppF,QAAQqpF,EAAY,WACpBrpF,QAAQ+oF,EAAM,QACd/oF,QAAQgpF,EAAM,QAmFrB,QAASM,GAAcxzE,GACrB,MAAO,UAAeyzE,EAAU7iE,GAC9B6iE,EAAWniF,OAAOmiF,EAClB,IAAIC,GAAY,KAEZC,GAAQ,EACRhgB,KACA5qC,EAAU,OACVqlD,EAAS,OACTwF,EAAU,MAId,KAFI5zE,EAAQ6zE,UAAY7zE,EAAQ6zE,SAASjjE,GAElC6iE,GAAU,CACf,GAAInqF,GAAImqF,EAASztE,MAAM2tE,EAAQG,EAAmBC,EAGlD,IAFAN,EAAWA,EAASl3E,UAAUjT,EAAE,GAAGM,QAE/B+pF,GACF,GAAIrqF,EAAE,GAAI,CAER,GACI0qF,GADAC,EAAa5B,EAAM/oF,EAAE,GAEzB,IAAIA,EAAE,GAAI,CACR,GAAI4qF,GAAe5qF,EAAE,EACrB,QAAQ4qF,EAAah1D,WAAW,IAC9B,IAAK,IAAI,IAAK,IACZg1D,EAAeA,EAAa33E,UACxB,EAAG23E,EAAatqF,OAAS,GAGjCoqF,EAAenB,EAAiBF,EAAUuB,QAK1CF,GAAeC,CAEjBtgB,GAAQxiE,KAAK8iF,EAAYD,OACpB,IAAI1qF,EAAE,GAAI,CAaf,GAZe,SAAX8kF,IACEwF,EACE5zE,EAAQm0E,UACVn0E,EAAQm0E,SAASprD,EAAS4qC,EAAS/iD,GAGjC5Q,EAAQo0E,QACVp0E,EAAQo0E,OAAOrrD,EAASnY,IAK1BgjE,GACIxF,GAAUpP,EAAMoP,OAAOG,MAAQvP,EAAMoP,OAAOI,QAAU,CAE1DkF,EADgB,OAAdA,EACUrB,EAAMoB,GAENC,EAAUn3E,UAClBm3E,EAAU9pF,OAAS6pF,EAAS7pF,OAElC,IAAIyqF,GAAUX,EAAUjiF,QAAQ,KAAOs3B,EACnCsrD,GAAU,IAAKA,EAAUZ,EAAS7pF,QAClCyqF,IACEjG,EAASpP,EAAMoP,OAAOG,MACpBvuE,EAAQs0E,OACVt0E,EAAQs0E,MAAMb,EAASl3E,UAAU,EAAG83E,GAAUzjE,GAEvC5Q,EAAQszE,QACjBtzE,EAAQszE,OACND,EAAgBI,EAASl3E,UAAU,EAAG83E,IAAWzjE,GAErD6iE,EAAWA,EAASl3E,UAAU83E,IAIlCtrD,EAAUqlD,EAASwF,EAAU,OAC7BjgB,EAAQ/pE,OAAS,EACjB+pF,GAAQ,OAGV,IAAIrqF,EAAE,GACA0W,EAAQu0E,QAAUv0E,EAAQu0E,OAAOjrF,EAAE,GAAIsnB,OACtC,IAAItnB,EAAE,GACXsqF,GAAWtqF,EAAE,GACbqqF,GAAQ,EACR5qD,EAAUspD,EAAM/oF,EAAE,IAClB8kF,EAASpP,EAAM2P,SAAS39E,eAAe+3B,GACjCi2C,EAAM2P,SAAS5lD,GAAW,WAC3B,IAAIz/B,EAAE,GACP0W,EAAQu0E,QAAUv0E,EAAQu0E,OAAOjrF,EAAE,GAAIsnB,OACtC,IAAItnB,EAAE,IACP0W,EAAQu0E,OAAQ,CAClB,GAAI1rF,GAAKS,EAAE,EACX0W,GAAQu0E,OACG,MAAP1rF,EAAa,OAAgB,MAAPA,EAAa,OAAS,QAC5C+nB,IAMR5Q,EAAQw0E,QAAUx0E,EAAQw0E,OAAO5jE,IAYzC,QAAS6jE,GAAkBC,GACzB,GAAIC,GACAC,CACJ,OAAOpB,IACHK,SAAU,SAAU9tF,GAClB4uF,KACAC,GAAW,GAEbT,SAAU,SAAUprD,EAAS4qC,EAASkhB,GACpC,IAAID,GACC5V,EAAM2P,SAAS39E,eAAe+3B,GAAnC,CACA,GAAIqlD,GAASpP,EAAM2P,SAAS5lD,EAC5B,MAAIqlD,EAASpP,EAAMoP,OAAOM,UAA1B,CAEO,GAAIN,EAASpP,EAAMoP,OAAOK,OAE/B,YADAmG,IAAaxG,EAASpP,EAAMoP,OAAOE,OAMrC,IAHA3a,EAAU+gB,EAAmB3rD,EAAS4qC,GAGzB,CACLya,EAASpP,EAAMoP,OAAOE,OAC1BqG,EAAMxjF,KAAK43B,GAGb8rD,EAAI1jF,KAAK,IAAK43B,EACd,KAAK,GAAIp/B,GAAI,EAAGJ,EAAIoqE,EAAQ/pE,OAAQD,EAAIJ,EAAGI,GAAK,EAAG,CACjD,GAAIsqF,GAAatgB,EAAQhqE,GACrB2D,EAAQqmE,EAAQhqE,EAAI,EACV,QAAV2D,GAA4B,SAAVA,GACpBunF,EAAI1jF,KAAK,IAAK8iF,EAAY,KAAMlB,EAAazlF,GAAQ,KAGzDunF,EAAI1jF,KAAK,SAGbijF,OAAQ,SAAUrrD,EAAS8rD,GACzB,GAAID,EAEF,YADAA,GAAW,EAGb,IAAK5V,EAAM2P,SAAS39E,eAAe+3B,GAAnC,CACA,GAAIqlD,GAASpP,EAAM2P,SAAS5lD,EAC5B,MAAMqlD,GAAUpP,EAAMoP,OAAOK,OAASzP,EAAMoP,OAAOE,MACjCtP,EAAMoP,OAAOM,WAAY,CACzC,GAAI1kE,EACJ,IAAIokE,EAASpP,EAAMoP,OAAOC,gBACxB,IAAKrkE,EAAQ2qE,EAAM/qF,SAAUogB,GAAS,GAAI,CACxC,GAAI8qE,GAAUH,EAAM3qE,EACpB,IAAI8qE,IAAY/rD,EAAW,KAC3B,MAAMi2C,EAAM2P,SAASmG,GACb9V,EAAMoP,OAAOC,iBAEnB,WAIJ,KAAKrkE,EAAQ2qE,EAAM/qF,SAAUogB,GAAS,GAChC2qE,EAAM3qE,KAAW+e,IAGzB,GAAI/e,EAAQ,EAAK,MACjB,KAAK,GAAIrgB,GAAIgrF,EAAM/qF,SAAUD,EAAIqgB,GAAQ,CACvC,GAAI8qE,GAAUH,EAAMhrF,EACdq1E,GAAM2P,SAASmG,GACb9V,EAAMoP,OAAOC,iBACnBwG,EAAI1jF,KAAK,KAAM2jF,EAAS,KAG5BH,EAAM/qF,OAASogB,EACf6qE,EAAI1jF,KAAK,KAAM43B,EAAS,QAG5BwrD,OAAQ,SAAUlnF,EAAMwnF,GACjBD,GAAYC,EAAI1jF,KAAK9D,IAE5BimF,OAAQ,SAAUjmF,EAAMwnF,GACjBD,GAAYC,EAAI1jF,KAAK9D,IAE5BinF,MAAO,SAAUjnF,EAAMwnF,GAChBD,GAAYC,EAAI1jF,KAAK9D,IAE5BmnF,OAAQ,SAAUK,GAChB,IAAK,GAAIlrF,GAAIgrF,EAAM/qF,SAAUD,GAAK,GAChCkrF,EAAI1jF,KAAK,KAAMwjF,EAAMhrF,GAAI,IAE3BgrF,GAAM/qF,OAAS,KAyBvB,QAASmrF,GAAStB,EAAUuB,EAAeC,GACzC,GAAIJ,KA0DJ,OAzDAJ,GACE,SAAyB1rD,EAAS4qC,GAChC,IAAK,GAAIhqE,GAAI,EAAGA,EAAIgqE,EAAQ/pE,OAAQD,GAAK,EAAG,CAC1C,GAEkBurF,GAFdjB,EAAatgB,EAAQhqE,GACrB2D,EAAQqmE,EAAQhqE,EAAI,GACpBs1E,EAAQ,IAOZ,IANKiW,EAAYnsD,EAAU,KAAOkrD,GAC7BjV,EAAMa,QAAQ7uE,eAAekkF,KAC1BA,EAAY,MAAQjB,EACpBjV,EAAMa,QAAQ7uE,eAAekkF,OACnCjW,EAAQD,EAAMa,QAAQqV,IAEV,OAAVjW,EACF,OAAQA,GACN,IAAKD,GAAMC,MAAMC,KAAM,KACvB,KAAKF,GAAMC,MAAMI,OACjB,IAAKL,GAAMC,MAAMK,MACfhyE,EAAQ,IACR,MACF,KAAK0xE,GAAMC,MAAMh5D,GACjB,IAAK+4D,GAAMC,MAAMM,MACjB,IAAKP,GAAMC,MAAMO,OACjB,IAAKR,GAAMC,MAAMQ,YACjB,IAAKT,GAAMC,MAAMS,WACjB,IAAKV,GAAMC,MAAMU,QACfryE,EAAQ2nF,EAAoBA,EAAkB3nF,GAASA,CACvD,MACF,KAAK0xE,GAAMC,MAAME,IACf,GAAIgW,IAAa,GAAK7nF,GAAO0Y,MAAMovE,EAKjC9nF,GAJG6nF,KAEOA,EAAU,IAClBE,EAAoB5qF,KAAK0qF,EAAU,KAC7BH,GAAiBA,EAAc1nF,GAH/B,IAOV,MACF,KAAK0xE,GAAMC,MAAMG,aACX9xE,GAAS,MAAQA,EAAMwE,OAAO,IAChCxE,EAAQ2nF,EAAoBA,EAAkB3nF,GAASA,EACnDA,IAASA,EAAQ,IAAMA,IAE3BA,EAAQ,IAEV,MACF,SACEA,EAAQ,SAIZA,GAAQ,IAEVqmE,GAAQhqE,EAAI,GAAK2D,EAEnB,MAAOqmE,KACN8f,EAAUoB,GACRA,EAAIthF,KAAK,IAxgBlB,GAAI8+E,EAGFA,GADE,WAAa,SAAStoF,cAChB,SAAU1E,GAAK,MAAOA,GAAE0E,eAUxB,SAAU1E,GAChB,MAAOA,GAAE6E,QACL,SACA,SAAUrB,GACR,MAAOyI,QAAOkhF,aAAgC,GAAnB3pF,EAAGq2B,WAAW,MAKnD,IAAIozD,IACF5pE,GAAO,IACPC,GAAO,IACP2sE,IAAO,IACPC,KAAO,IACPC,KAAO,IACPC,KAAO,KAILJ,EAAsB,4BAEtB9C,EAAkB,WAClBE,EAAc,qBAoDdG,EAAQ,MAKRE,EAAW,+BA0BXE,EAAQ,KACRO,EAAa,iDACbN,EAAO,KACPC,EAAO,KACPC,EAAS,MACTC,EAAO,MA0CPU,EAAmB,GAAIj0E,QAEvB,0HA+BA,KAEAk0E,EAAoB,GAAIl0E,QACxB,4HAWA,KAsOAu1E,EAAgB,GAAIv1E,QAClB,oBAgFN,QACEkzE,aAAcA,EACd0B,kBAAmBA,EACnBjB,cAAeA,EACfH,gBAAiBA,EACjB0B,SAAUA,EACVlC,iBAAkBA,IAEnB7T,OAEC0W,cAAgBt3E,KAAK22E,QAIH,oBAAXxgF,UACTA,OAAa,KAAI6J,KACjB7J,OAAsB,cAAImhF,eAI5B1W,MAAMa,QAAQ,YAAc,EAC5Bb,MAAM2P,SAAgB,MAAI,EAE1B3P,MAAMa,QAAQ,aAAe,EAE7Bb,MAAM2P,SAAgB,MAAI,EAC1B3P,MAAMa,QAAQ,cAAgB,EAC9Bb,MAAMa,QAAQ,iBAAmB,EACjCb,MAAMa,QAAQ,mBAAqB,EAEnCb,MAAM2P,SAAgB,MAAI,EAC1B3P,MAAMa,QAAQ,cAAgB,EAC9Bb,MAAMa,QAAQ,mBAAqB,EACnCb,MAAMa,QAAQ,mBAAqB,EAOlC,SAAWvjE,EAAM1K,EAASipE,GACzBjpE,EAAQ0K,GAAQu+D,KACf,UAAWr1E,KAAM,WA2ClB,QAASmwF,kBAAkBzlF,EAAGihB,EAASlnB,GACrC,MAAO,YAGL,MAAIiG,GAAE0lF,SAAiB3rF,EAAMiG,EAAE2+C,cAC3B3+C,EAAE2+C,SAAoC,GAAzB3+C,EAAE2+C,QAAQ16C,cACzBjE,EAAE2+C,QAAQ56B,mBAAqB9e,KAC3B0gF,SAASprF,KAAKyF,EAAE2+C,QAAQt8B,QAC1BpB,EAAQjhB,EAAE2+C,SAEV5kD,EAAMiG,EAAE2+C,YAKhB,QAASinC,YAAYC,EAAMvsF,GACzB,GACIL,GADA+pB,EAAU1pB,EAAE0pB,WAGhBA,GAAQ8iE,OAAS9iE,EAAQ8iE,QACpBC,eAAeC,OAAO1sF,EAAEsB,OACxBmrF,eAAeC,OAAO,KAGtB1sF,EAAE2sF,aAAgBjjE,EAAQkjE,iBAAgBljE,EAAQkjE,eAAiBH,eAAeG,eAClFljE,EAAQ1B,eAAc0B,EAAQ1B,aAAehoB,EAAEgoB,aAAeykE,eAAezkE,YAClF,KAAKroB,IAAK+pB,GACRA,EAAQliB,eAAe7H,IAAM4sF,EAAKnjE,iBAAiBzpB,EAAG+pB,EAAQ/pB,IAGlE,QAASktF,gBAAgBN,EAAMvsF,GACI,mBAAtBA,GAAE8sF,iBAAmE,mBAAzBP,GAAKO,kBAC1DP,EAAKO,kBAAoB9sF,EAAE8sF,iBAI/B,QAASC,iBAAiBvoF,GACxBwoF,UAAYxoF,EAGd,QAASyoF,WAAWrpE,EAAK/nB,GACvB,MAAO+nB,IAAO,KAAK3iB,KAAK2iB,GAAO,IAAM,KAAO/nB,EAG9C,QAASqxF,aAAaltF,EAAGuG,EAAIi3D,EAAK55C,GAChC,GAAIupE,GAAQC,SACRC,EAAQrtF,EAAEkqB,eAAiB,WAC3BojE,EAAQttF,EAAEutF,mBAAqBC,QAAQC,kBAAkBN,GAEzDO,EAAQ,GAAIr3E,QAAO,aAAeg3E,EAAQ,aAC1C7wE,EAAQoH,EAAIpH,MAAMkxE,GAClBvjE,EAAS+f,IAAIxsC,cAAc,UAC3BiwF,EAAS,EACTC,EAAS9nF,UAAUoB,UAAUe,QAAQ,gBAAiB,CA6C1D,OA3CIuU,GACe,MAAbA,EAAM,GACRoH,EAAMA,EAAIljB,QAAQgtF,EAAO,MAAQJ,GAEjCA,EAAQ9wE,EAAM,GAGhBoH,EAAMqpE,UAAUrpE,EAAKypE,EAAQ,IAAMC,GAGrChc,IAAIgc,GAASP,gBAEb5iE,EAAO7oB,KAAO,kBAC2B,mBAA9B6oB,GAAOM,oBAAuCmjE,IAMvDzjE,EAAO7lB,MAAQ,UACf6lB,EAAO0jE,QAAU1jE,EAAOlhB,GAAK,YAAckkF,GAG7ChjE,EAAOK,OAASL,EAAOM,mBAAqB,WAC1C,QAAKN,EAAOxf,aAAsC,aAAvBwf,EAAOxf,aAAqD,WAAvBwf,EAAOxf,aAA6BgjF,KAGpGxjE,EAAOK,OAASL,EAAOM,mBAAqB,KAC5CN,EAAO2jE,SAAW3jE,EAAO2jE,UAEzB9tF,EAAE2nB,SAAW3nB,EAAE2nB,QAAQqlE,WACvBA,UAAY91D,OACZ7M,KAAK9rB,YAAY4rB,QACjBwjE,EAAS,KAGXxjE,EAAOzG,IAAME,EACbuG,EAAO1e,OAAQ,EAGf4e,KAAKvsB,YAAYqsB,IAIfZ,MAAO,WACLY,EAAOK,OAASL,EAAOM,mBAAqB,KAC5CzqB,EAAES,OAAST,EAAES,SAAU,kCACvBusF,UAAY91D,OACZ7M,KAAK9rB,YAAY4rB,GACjBwjE,EAAS,IAKf,QAASI,YAAYxnF,EAAIi3D,GACvB,GAOI+uB,GAPAvsF,EAAIhE,KAAKgE,EACTi6B,GAAUj6B,EAAEi6B,QAAU,OAAOjzB,cAC7B4c,EAAmB,gBAAN5jB,GAAiBA,EAAIA,EAAE4jB,IAEpCpf,EAAQxE,EAAEioB,eAAgB,GAASjoB,EAAEwE,MAA0B,gBAAXxE,GAAEwE,KACpDgpF,QAAQQ,cAAchuF,EAAEwE,MACvBxE,EAAEwE,MAAQ,IAUjB,OALe,SAAVxE,EAAEsB,MAA6B,OAAV24B,IAAoBz1B,IAC5Cof,EAAMqpE,UAAUrpE,EAAKpf,GACrBA,EAAO,MAGK,SAAVxE,EAAEsB,KAAwB4rF,YAAYltF,EAAGuG,EAAIi3D,EAAK55C,IAEtD2oE,EAAO1hE,MACP0hE,EAAKvhE,KAAKiP,EAAQrW,GAAK,GACvB0oE,WAAWC,EAAMvsF,GACjB6sF,eAAeN,EAAMvsF,GACrBusF,EAAK9hE,mBAAqB0hE,iBAAiBnwF,KAAMuK,EAAIi3D,GACrDx9D,EAAEqjB,QAAUrjB,EAAEqjB,OAAOkpE,GACrBA,EAAK1iE,KAAKrlB,GACH+nF,GAGT,QAAS0B,SAASjuF,EAAGuG,GACnBvK,KAAKgE,EAAIA,EACThE,KAAKuK,GAAKA,EAEVC,KAAK5H,MAAM5C,KAAM8N,WAGnB,QAASokF,SAAStqE,GAChB,GAAI9jB,GAAI8jB,EAAIpH,MAAM,gCAClB,OAAO1c,GAAIA,EAAE,GAAK,KAGpB,QAAS0G,MAAMxG,EAAGuG,IA8ChB,QAAS+gB,UAAUmS,GAGjB,IAFAz5B,EAAE4pB,SAAWnW,aAAasxB,KAAKnb,SAC/Bmb,KAAKnb,QAAU,KACRmb,KAAKopD,kBAAkB/tF,OAAS,GACrC2kC,KAAKopD,kBAAkBrtF,QAAQ24B,GAInC,QAAS9R,SAAS8R,MAChB,GAAI/yB,GAAI+yB,KAAKlS,YACb,IAAI7gB,EACF,OAAQpF,MACR,IAAK,OACH,IACEm4B,KAAO63C,IAAInmE,KAAOmmE,IAAInmE,KAAKC,MAAM1E,GAAKoF,KAAK,IAAMpF,EAAI,KACrD,MAAO82D,GACP,MAAO/8D,OAAMg5B,KAAM,mCAAoC+jC,GAEzD,KACF,KAAK,KACH/jC,KAAO3tB,KAAKpF,EACZ,MACF,KAAK,OACH+yB,KAAO/yB,CACP,MACF,KAAK,MACH+yB,KAAOA,KAAKvO,aACLuO,KAAKvO,YAAYkjE,YACjB30D,KAAKvO,YAAYkjE,WAAWC,WAC5B50D,KAAKvO,YAAYkjE,WAAWE,OAC/B,KACA70D,KAAKvO,YAQb,IAHA6Z,KAAKwpD,cAAc90D,KAAOA,KAC1BsL,KAAKypD,YAAa,EAClBjoF,GAAGkzB,MACIsL,KAAK0pD,qBAAqBruF,OAAS,GACxC2kC,KAAK0pD,qBAAqB3tF,QAAQ24B,KAGpCnS,UAASmS,MAGX,QAASh5B,OAAOg5B,EAAMi1D,EAAK/nF,GAKzB,IAJAo+B,KAAKwpD,cAAc90D,KAAOA,EAC1BsL,KAAKwpD,cAAcG,IAAMA,EACzB3pD,KAAKwpD,cAAc5nF,EAAIA,EACvBo+B,KAAK4pD,QAAS,EACP5pD,KAAK6pD,eAAexuF,OAAS,GAClC2kC,KAAK6pD,eAAe9tF,QAAQ24B,EAAMi1D,EAAK/nF,EAEzC2gB,UAASmS,GAlGXz9B,KAAK4nB,IAAkB,gBAAL5jB,GAAgBA,EAAIA,EAAE4jB,IACxC5nB,KAAK4tB,QAAU,KAIf5tB,KAAKwyF,YAAa,EAElBxyF,KAAKyyF,wBAELzyF,KAAK4yF,kBAEL5yF,KAAKmyF,qBACLnyF,KAAK2yF,QAAS,EACd3yF,KAAKuyF,gBAEL,IAAIxpD,MAAO/oC,KACPsF,KAAOtB,EAAEsB,MAAQ4sF,QAAQlyF,KAAK4nB,IAElCrd,IAAKA,IAAM,aAEPvG,EAAE4pB,UACJ5tB,KAAK4tB,QAAU3qB,WAAW,WACxB8lC,KAAKxb,SACJvpB,EAAE4pB,UAGH5pB,EAAE2nB,SACJ3rB,KAAKyyF,qBAAqB9mF,KAAK,WAC7B3H,EAAE2nB,QAAQ/oB,MAAMoB,EAAG8J,aAInB9J,EAAES,OACJzE,KAAK4yF,eAAejnF,KAAK,WACvB3H,EAAES,MAAM7B,MAAMoB,EAAG8J,aAIjB9J,EAAEsnB,UACJtrB,KAAKmyF,kBAAkBxmF,KAAK,WAC1B3H,EAAEsnB,SAAS1oB,MAAMoB,EAAG8J,aA6DxB9N,KAAKqpD,QAAU0oC,WAAW/oF,KAAKhJ,KAAM2rB,QAASlnB,OA0DhD,QAAS+sF,SAASxtF,EAAGuG,GACnB,MAAO,IAAI0nF,SAAQjuF,EAAGuG,GAIxB,QAASsoF,WAAWhzF,GAClB,MAAOA,GAAIA,EAAE6E,QAAQ,SAAU,QAAU,GAG3C,QAASouF,QAAQlvD,EAAIrgC,GACnB,GAQIF,GAAI0vF,EAAI56E,EAAKhU,EARbJ,EAAI6/B,EAAG9sB,KACPnM,EAAIi5B,EAAGL,QAAQh/B,cACfyuF,EAAQ,SAAUhvF,GAGZA,IAAMA,EAAEuN,UACVhO,EAAGQ,EAAG8uF,UAAU7uF,EAAE6S,WAAW/O,OAAS9D,EAAE6S,WAAW/O,MAAMyQ,UAAYvU,EAAE8D,MAAQ9D,EAAE6D,OAKzF,KAAI+7B,EAAGryB,UAAaxN,EAEpB,OAAQ4G,GACR,IAAK,QACE,2BAA2B1F,KAAK2+B,EAAGt+B,QACtCjC,EAAK,YAAY4B,KAAK2+B,EAAGt+B,MACzBytF,EAAK,SAAS9tF,KAAK2+B,EAAGt+B,MACtB6S,EAAMyrB,EAAG97B,SAELzE,GAAM0vF,IAAOnvD,EAAGx8B,UAAY7D,EAAGQ,EAAG8uF,UAAUxvF,GAAc,KAAR8U,EAAa,KAAOA,IAE5E,MACF,KAAK,WACH5U,EAAGQ,EAAG8uF,UAAUjvD,EAAG97B,OACnB,MACF,KAAK,SACH,GAA8B,eAA1B87B,EAAGt+B,KAAKf,cACVyuF,EAAMpvD,EAAGnrB,eAAiB,EAAImrB,EAAGlrB,QAAQkrB,EAAGnrB,eAAiB,UAE7D,KAAKtU,EAAI,EAAGy/B,EAAGx/B,QAAUD,EAAIy/B,EAAGx/B,OAAQD,IACtCy/B,EAAGlrB,QAAQvU,GAAGuD,UAAYsrF,EAAMpvD,EAAGlrB,QAAQvU,KAUnD,QAAS8uF,mBACP,GACI3xF,GAAG6C,EADHZ,EAAKvD,KAELkzF,EAAmB,SAAU5xF,EAAGmkC,GAC9B,GAAIthC,GAAGP,EAAGuvF,CACV,KAAKhvF,EAAI,EAAGA,EAAIshC,EAAKrhC,OAAQD,IAE3B,IADAgvF,EAAK7xF,EAAE8xF,OAAO3tD,EAAKthC,IACdP,EAAI,EAAGA,EAAIuvF,EAAG/uF,OAAQR,IAAKkvF,OAAOK,EAAGvvF,GAAIL,GAItD,KAAKY,EAAI,EAAGA,EAAI2J,UAAU1J,OAAQD,IAChC7C,EAAIwM,UAAU3J,GACV,yBAAyBc,KAAK3D,EAAEiiC,UAAUuvD,OAAOxxF,EAAGiC,GACxD2vF,EAAiB5xF,GAAK,QAAS,SAAU,aAK7C,QAAS+xF,wBACP,MAAO7B,SAAQQ,cAAcR,QAAQ/lE,eAAe7oB,MAAM,KAAMkL,YAIlE,QAASwlF,iBACP,GAAIhxD,KAOJ,OANA2wD,iBAAgBrwF,MAAM,SAAUkU,EAAMhP,GAChCgP,IAAQwrB,IACVA,EAAKxrB,KAAU1R,QAAQk9B,EAAKxrB,MAAWwrB,EAAKxrB,IAASwrB,EAAKxrB,KAC1DwrB,EAAKxrB,GAAMnL,KAAK7D,IACXw6B,EAAKxrB,GAAQhP,GACnBgG,WACIw0B,EAnbT,GAAIgzC,KAAMvmE,OACNm/B,IAAMhsC,SACNmuF,SAAW,SACX+C,MAAQ,uBACRzkF,WAAa,aACbqd,YAAc,eACd4kE,cAAgB,mBAChBviE,KAAO6f,IAAIklD,OAAO,QAAQ,GAC1BhC,OAAS,EACTmC,eAAiB,aAAe,GAAIljF,MACpC2gF,UACAwC,eAAiB,iBACjB7jF,KAAO,aAEPvK,QAAkC,kBAAjBsG,OAAMtG,QACnBsG,MAAMtG,QACN,SAAU5E,GACR,MAAOA,aAAakL,QAG1B+kF,gBACIzkE,YAAa,oCACb4kE,cAAe4C,eACf9C,QACIrkE,IAAM,6DACNF,IAAM,4BACNvT,KAAM,YACN/Q,KAAM,aACNukB,KAAM,oCACNqnE,GAAM,4CAId5kE,IAAMymD,IAAIke,gBACN,WACE,MAAO,IAAIlwF,iBAEb,WACE,MAAO,IAAIF,eAAc,qBAidnC,OA9MA6uF,SAAQ5mF,WACNkiB,MAAO,WACLvtB,KAAKowF,UAAW,EAChBpwF,KAAKqpD,QAAQ97B,SAGfmmE,MAAO,WACLlpF,KAAKxB,KAAKhJ,KAAMA,KAAKgE,EAAGhE,KAAKuK,KAW/B8H,KAAM,SAAUsZ,EAAS3Z,GASvB,MARIhS,MAAKwyF,WACP7mE,EAAQ3rB,KAAKuyF,cAAc90D,MAClBz9B,KAAK2yF,OACd3gF,EAAKhS,KAAKuyF,cAAc90D,KAAMz9B,KAAKuyF,cAAcG,IAAK1yF,KAAKuyF,cAAc5nF,IAEzE3K,KAAKyyF,qBAAqB9mF,KAAKggB,GAC/B3rB,KAAK4yF,eAAejnF,KAAKqG,IAEpBhS,MAMTsS,OAAQ,SAAU/H,GAMhB,MALIvK,MAAKwyF,YAAcxyF,KAAK2yF,OAC1BpoF,EAAGvK,KAAKuyF,cAAc90D,MAEtBz9B,KAAKmyF,kBAAkBxmF,KAAKpB,GAEvBvK,MAMTgS,KAAM,SAAUzH,GAMd,MALIvK,MAAK2yF,OACPpoF,EAAGvK,KAAKuyF,cAAc90D,KAAMz9B,KAAKuyF,cAAcG,IAAK1yF,KAAKuyF,cAAc5nF,GAEvE3K,KAAK4yF,eAAejnF,KAAKpB,GAEpBvK,OA2FXwxF,QAAQ/lE,eAAiB,WACvB,GAAIkoE,KAIJ,OAHAV,iBAAgBrwF,MAAM,SAAUkU,EAAMhP,GACpC6rF,EAAIhoF,MAAMmL,KAAMA,EAAMhP,MAAOA,KAC5BgG,WACI6lF,GAGTnC,QAAQhmE,UAAY,WAClB,GAAyB,IAArB1d,UAAU1J,OAAc,MAAO,EACnC,IAAI2pD,GAAKxjD,EACL6xB,EAAO1wB,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,EAUjD,OARAigD,GAAM3xB,EAAKtzB,MACXilD,GAAOA,EAAIltD,UAAYu7B,EAAKzwB,KAAKoiD,KAASA,EAAM,MAChDA,IAAQA,EAAMA,EAAIzoD,MAEAiF,EAAP,OAAPwjD,EAAmBulC,cACP,SAAPvlC,EAAqByjC,QAAQ/lE,eAC5B4nE,qBAEH9oF,EAAG3H,MAAM,KAAMw5B,IAGxBo1D,QAAQQ,cAAgB,SAAUhuF,GAChC,GAAaG,GAKTE,EAAGwG,EALH+oF,EAAK,GACLC,EAAM/lE,mBACNniB,EAAO,SAAUtH,EAAGwG,GAClB+oF,GAAMC,EAAIxvF,GAAK,IAAMwvF,EAAIhpF,GAAK,IAIpC,IAAIzF,QAAQpB,GACV,IAAKG,EAAI,EAAGH,GAAKG,EAAIH,EAAEI,OAAQD,IAAKwH,EAAK3H,EAAEG,GAAG2S,KAAM9S,EAAEG,GAAG2D,WAEzD,KAAKzD,IAAKL,GACR,GAAKoH,OAAOI,eAAexC,KAAKhF,EAAGK,GAEnC,GADAwG,EAAI7G,EAAEK,GACFe,QAAQyF,GACV,IAAK1G,EAAI,EAAGA,EAAI0G,EAAEzG,OAAQD,IAAKwH,EAAKtH,EAAGwG,EAAE1G,QACpCwH,GAAKtH,EAAGL,EAAEK,GAKrB,OAAOuvF,GAAGlvF,QAAQ,KAAM,IAAIA,QAAQ,OAAQ,MAG9C8sF,QAAQC,kBAAoB,WAC1B,MAAO8B,iBAKT/B,QAAQsC,OAAS,SAAU9vF,EAAGuG,GAO5B,MANIvG,KACFA,EAAEsB,OAAStB,EAAEi6B,OAASj6B,EAAEsB,aAAgBtB,GAAEsB,KAC1CtB,EAAEP,WAAaO,EAAEsB,KAAOtB,EAAEP,UAC1BO,EAAEkqB,gBAAkBlqB,EAAEutF,kBAAoBvtF,EAAEkqB,sBAAyBlqB,GAAEkqB,cACvElqB,EAAEiqB,QAAUjqB,EAAEkqB,cAAgBlqB,EAAEiqB,QAE3B,GAAIgkE,SAAQjuF,EAAGuG,IAGjBinF,UAERuC,IAAMA,QAIPA,IAAI/vC,YAAc,WACd,GAAIxjD,MAEAyxC,EAAY/vC,SAASR,cAAc,MAiBvC,OAhBAuwC,GAAU3+B,UAAY,kBAEtB9S,EAAEmjC,QAAU,SAAS54B,GACjB,MAAiB,mBAANA,GAA0BknC,EAAUtrC,WAC/CsrC,EAAUtrC,UAAYotF,IAAInpF,EAAE2kF,SAASxkF,GAC9B/K,OAGXQ,EAAEsjC,QAAU,WACR,MAAOmO,IAGXzxC,EAAEgK,KAAO,WACL,MAAOxK,OAGJQ,GAEXuzF,IAAMA,QAINA,IAAIC,SAAW,SAASt7E,EAASojB,GAY7B,QAASm4D,KACLF,IAAItrE,IAAK,CACT,IAAIyrE,GAAK,GAAIC,MACbD,GAAGxsE,IAAM0sE,CACT,IAAIxmF,IAAQ,EACRggB,EAAU3qB,WAAW,WACjB2K,GAASmmF,IAAItrE,KAAM,IACnB4rE,EAAS5rE,GAAG,GACZ7a,GAAQ,IAEb0mF,EACHJ,GAAG1lE,OAAS,WACJ5gB,GAASmmF,IAAItrE,KAAM,IACnBhR,aAAamW,GACbymE,EAAS5rE,GAAG,GACZ7a,GAAQ,IA1BpB,GAAIymF,MACAC,EAAY57E,EAAQ47E,WAAa,IAEjCF,EAAY,8FAAgG,GAAI/jF,MAIhHoY,EAAK,EAEL8rE,EAAwBr5D,SAAjBxiB,EAAQ67E,MAA4B77E,EAAQ67E,IAkDvD,OA5BAF,GAAS5rE,GAAK,SAAS1d,GACnB,IAAK+C,UAAU1J,OAAQ,MAAOqkB,EAE1BsrE,KAAIS,aAAeT,IAAIS,YAAYpwF,QAAQ,WAG3C,IAFAuoC,UAAYonD,IAAIS,YAChBT,IAAIS,eACCrwF,EAAI,EAAGA,EAAIwoC,UAAWxoC,IACvBwoC,UAAUxoC,GAAG4G,MAGrBgpF,IAAItrE,GAAK1d,EAEL0d,IAAOA,EAAK1d,IAAI+wB,EAAS/wB,IAGjCspF,EAAS9rF,IAAM,WAEX,MADIgsF,IAAMN,IACHj0F,MAGP+zF,IAAItrE,KAAM,GACZsrE,IAAIS,YAAcT,IAAIS,gBACtBT,IAAIS,YAAY7oF,KAAK0oF,EAAS5rE,KACVyS,SAAX64D,IAAItrE,GACX4rE,EAAS5rE,GAAGsrE,IAAItrE,IAEhB4rE,EAAS9rF,MAEN8rF,GAOXN,IAAIU,UAAY,SAAS1pF,GACrB,GAAI0pF,cACA9zF,CAGJ,IAAIoK,GAAkB,gBAANA,GACZ,IAEI+E,KAAK,OAAS/E,GAChB,MAAOzJ,GACDozF,SAASA,QAAQt9C,IAAI91C,OAG7BX,GADOoK,GAAkB,kBAANA,GACfA,EAEA,YAaR,OARA0pF,WAAUlrC,OAAS,SAAS7wC,EAASlQ,GACjC,IACI,MAAOurF,KAAInpF,EAAE2kF,SAAS5uF,EAAE+X,EAASlQ,IACnC,MAAOlH,GACDozF,SAASA,QAAQt9C,IAAI91C,KAI1BmzF,WAQXV,IAAIY,GAAK,SAASC,EAAWl8E,GAYzB,QAASm8E,GAAYj7D,GAIjB,MAHIA,IAAO,IAAIA,IACXA,GAAO,IAAIA,IACfA,GAAO,GAdXlhB,EAAUA,KAGV,IAAIo8E,MACAC,EAAar8E,EAAQq8E,YAAc,EACnClxC,EAAWnrC,EAAQmrC,UAAY,GAyDnC,OA5CAixC,GAASF,UAAY,WACjB,MAAOA,IAGXE,EAASE,OAAS,SAASjqF,EAAGE,GAC1B,GAAM2pF,GAAaA,EAAUK,QACxBhqF,EAAI,GAAOF,EAAI,GACfiF,KAAK8nB,MAAM7sB,IAAM44C,GACjB7zC,KAAK8nB,MAAM/sB,IAAM84C,GAGtB,MAAOgxC,GAAYD,EAAUK,KAC1BjlF,KAAK8nB,MAAM,EAAMi9D,IAClBr7D,WACC1pB,KAAK8nB,MAAM,EAAMi9D,MAMxBD,EAASI,YAAc,SAASnqF,EAAGE,GAG/B,GAAI2uB,GAAM55B,KAAKg1F,OAAOjqF,EAAGE,GACrBsoB,EAAOqhE,EAAUrhE,IAErB,IAAIA,GACAA,EAAKqG,IACLg7D,EAAUpsF,KAAK+qB,EAAKqG,IACpB,MAAOg7D,GAAUpsF,KAAK+qB,EAAKqG,KAOnCk7D,EAASK,YAAc,SAASpqF,EAAGE,EAAGmqF,GAClC,GAAKR,EAAL,CAEA,GAAI/7E,GAASk7E,IAAInpF,EAAEiO,OAAOu8E,EAE1B,OADI92B,SAAUt+D,KAAKk1F,YAAYnqF,EAAI8N,EAAO4Q,KAAMxe,EAAI4N,EAAO/C,KACpDwoD,UAGJw2B,GASXf,IAAIsB,GAAK,WAcL,QAASC,GAAiBr8D,GAEtB,MADwB,gBAAbA,KAAuBA,GAAYA,IACvC,SAA6BrR,GAChC,GAAKA,EAAL,CACA,GAAI2tE,GAAK,GAAIl7E,QAAOm7E,EAAQC,cACxBC,EAAMH,EAAGhpF,KAAKqb,EAClB,IAAK8tE,EACL,MAAOz8D,GAAS7jB,SAASsgF,EAAI,GAAI,IAAMz8D,EAAS70B,QAC3CM,QAAQ,SAAUgxF,EAAI,IACtBhxF,QAAQ,SAAUgxF,EAAI,IACtBhxF,QAAQ,SAAUgxF,EAAI,MAtBnC,GAGIC,GACAlB,EAJAM,EAAa,EAEbS,KAIAI,EAAU,SAAShuE,GACnB,GAAIA,EACA,MAAOA,GAAIljB,QAAQ,4BAA6B,cAuHxD,OApGA8wF,GAAQC,WAAa,WACnB,GAAII,GAAeF,EAAS5vC,MAAM,GAE9B9hD,EAAI4xF,EAAa5pF,QAAQ,IAC1BhI,MAAM,IACP4xF,EAAeA,EAAa7vF,OAAO,EAAG/B,IAIxC4xF,EAAeA,EACGnxF,QAAQ,oBAAoB,KAIT,IAAlCmxF,EAAa5pF,QAAQ,SACtB4pF,EAAeA,EAAanxF,QAAQ,OAAQ,WACH,IAAjCmxF,EAAa5pF,QAAQ,UAC7B4pF,EAAeA,EAAanxF,QAAQ,MAAO,WAG7C,IAAIgG,GAAI,EACR,IAAGirF,EAAS5vC,MAAM3hD,OAAS,EAIzB,IAAI,GAHA0xF,GAAKH,EAAS5vC,MAAM,GACpBgwC,EAAKJ,EAAS5vC,MAAM,GAEhB5hD,EAAI,EAAGA,EAAI2xF,EAAG1xF,SAAUD,EAE5BuG,GADCorF,EAAGxpF,OAAOnI,IAAM4xF,EAAGzpF,OAAOnI,GACtB,IAEA0xF,EAAavpF,OAAOnI,IAAM,OAInCuG,GAAImrF,CAIN,OAAOnrF,GACJhG,QAAQ,QAAQ,UAChBA,QAAQ,QAAQ,UAChBA,QAAQ,QAAQ,WAGrB8wF,EAAQf,UAAY,SAAS1pF,GACzB,MAAK+C,WAAU1J,QACfqwF,EAAaV,IAAIU,UAAU1pF,GACpByqF,GAFuBf,GAKlCe,EAAQv8D,SAAW,SAASluB,GACxB,MAAK+C,WAAU1J,QACfqwF,EAAYV,IAAI96D,SAASluB,GAClByqF,GAFuBf,GAKlCe,EAAQI,QAAU,SAAS7qF,GAEvB,MAAK+C,WAAU1J,QAMXwxF,EAHC7qF,EAGsB,kBAANA,GACbA,EAAIuqF,EAAiBvqF,GAHf,WAAa,MAAO,OAK3ByqF,GATuBI,GAYlCJ,EAAQQ,QAAU,SAASpuE,EAAKkU,GAC5B,GAAIm6D,GAAOL,EAAQhuE,EACnB,OAAK6sE,IAAcwB,GAEnBlC,IAAI1qC,QAAQ97C,IAAI0oF,EAAM,SAASz0B,EAAK72D,GAChC,MAAI62D,GAAY1lC,EAAS0lC,EAAK,UAC9B1lC,GAAS,KAAMi4D,IAAIY,GAAGhqF,GAClB8pF,UAAWA,EACXM,WAAYA,OAGbS,GATyB15D,EAAS,KAAM,OAYnD05D,EAAQG,SAAW,SAAS5qF,GACxB,MAAK+C,WAAU1J,QAEX2G,EAAEkuB,SACFu8D,EAAQv8D,SAASluB,EAAEkuB,UACZluB,EAAE0pF,UACTe,EAAQf,UAAU1pF,EAAE0pF,WAGpBA,EAAYv5D,OAEhBs6D,EAAQI,QAAQ7qF,EAAEmrF,OACdnrF,EAAEgqF,aAAYA,EAAahqF,EAAEgqF,YACjCY,EAAW5qF,EACJyqF,GAbuBG,GAgB3BH,GAEXzB,IAAMA,QAINA,IAAIzxD,KAAO,SAAS5pB,GAOhB,QAASy9E,KACL,MAAOpsF,UAASu4B,KAAKvrB,UAAU,GAGnC,QAAS+qB,GAAU5vB,GACf,GAAIrO,GAAIkL,OAAOhF,QACflG,GAAEa,QAAQb,EAAEyH,WAAW5G,QAASb,EAAEy+B,MAAQ,IAAM,IAAMpwB,IAG1D,QAASkkF,GAAUv2F,GAEf,IAAK,GADDu8B,GAAOv8B,EAAE2E,MAAM,KACVL,EAAI,EAAGA,EAAIi4B,EAAKh4B,OAAQD,IAE7B,GADAi4B,EAAKj4B,GAAKs2B,OAAO2B,EAAKj4B,IAClB6K,MAAMotB,EAAKj4B,IAAK,OAAO,CAE/B,OAAIi4B,GAAKh4B,OAAS,QAGQ,GAAfg4B,EAAKh4B,QACZsU,EAAQ29E,cAAcj6D,IAI9B,QAASk6D,KACL,GAAIC,GAAK79E,EAAQ89E,eACbC,KAAOF,IACPE,EAAKF,EAELz0D,EAAU20D,IAIlB,QAASC,GAAYxkF,GAEbA,IAAUukF,GACVL,EAAUK,EAAKvkF,IAEfokF,IA3CR59E,EAAUA,KAEV,IAAI+9E,GACAn0D,KA4CAq0D,EAAQ5C,IAAInpF,EAAE4rB,SAAS8/D,EAAM,IAajC,OAXAh0D,GAAK/5B,IAAM,WAGP,MAFAmuF,GAAYP,KACZz9E,EAAQk+E,WAAWD,GACZr0D,GAGXA,EAAK9gC,OAAS,WAEV,MADAkX,GAAQm+E,aAAaF,GACdr0D,GAGJA,GAEXyxD,IAAMA,QAENA,IAAI+C,YAAc,WA+Cd,QAASC,GAAQz1F,GAGb,IAAK,GAFDoC,GAAIuxF,IACJ+B,EAAS,GAAI38E,QAAOg7E,EAAGI,cAClBtxF,EAAI,EAAGA,EAAIT,EAAEU,OAAQD,IAC1B,GAAI7C,EAAG,CACH,GAAI21F,GAAavzF,EAAES,GAAG,IAAM7C,EAAE2J,GACvBvH,EAAES,GAAG,GAAK,IAAO7C,EAAE2J,GACnBvH,EAAES,GAAG,IAAM7C,EAAEyJ,GACbrH,EAAES,GAAG,GAAK,IAAO7C,EAAEyJ,CAC1B,IAAGksF,GAAYD,EAAOzqF,KAAK7I,EAAES,GAAG,GAAGujB,KAC/B,MAAOhkB,GAAES,GAAG,GAIxB,OAAO,EAKX,QAAS+yF,KACL,QAAIC,IACApoF,OAAO0I,aAAa0/E,GACpBA,EAAgB,MACT,GAMf,QAASC,GAAO91F,GAGZ,IAAI+1F,EAAJ,CAEA,GAAIC,GAAiB,kBAAXh2F,EAAEgE,MAAuC,gBAAXhE,EAAEgE,KAAyBhE,EAAIA,EAAEqd,cACrE4S,EAAMwiE,IAAInpF,EAAE2sF,YAAYD,EAE5BR,GAAYU,eAAejmE,EAAK,SAAS+sC,GACjCA,EACA+a,KAAK5vE,KAAKqtF,EAAa,MACnBz0E,OAAQA,IACR7Z,KAAM81D,EACNm2B,UAAWY,EAAGZ,YAAYlrC,OAC1BjoD,EAAGA,IAGP+3E,KAAK5vE,KAAKqtF,EAAa,UAMnC,QAASW,GAAOn2F,GAOZ+1F,GAAY,CACZ,IAAIC,GAAiB,kBAAXh2F,EAAEgE,MAAuC,gBAAXhE,EAAEgE,KAAyBhE,EAAIA,EAAEqd,aACzEwyB,GAAK4iD,IAAInpF,EAAE2sF,YAAYD,GACR,cAAXh2F,EAAEgE,MACF+zE,KAAK9wE,IAAIrG,SAASf,KAAM,QAASu2F,GAEjCre,KAAK9wE,IAAIrG,SAASf,KAAM,UAAWw2F,IAIjB,eAAXr2F,EAAEgE,MAA8C,IAArBhE,EAAEmhE,QAAQr+D,QAE5Ci1E,KAAK73E,OAAOU,SAASf,KAAM,QAASu2F,GAGpCre,KAAK9wE,IAAIrG,SAASf,KAAM,QAASu2F,GACjCre,KAAK9wE,IAAIrG,SAASf,KAAM,WAAYw2F,IACJ,kBAAzBr2F,EAAEqd,cAAcrZ,MAA4BhE,EAAEqd,cAAc8jD,SAA8C,IAAnCnhE,EAAEqd,cAAc8jD,QAAQr+D,QAEtGi1E,KAAK5vE,KAAKqtF,EAAa,OAEvBzd,KAAK9wE,IAAI8Z,IAAUu1E,IACD,gBAAXt2F,EAAEgE,MAA0BhE,EAAEqd,cAAc8jD,SAA8C,IAAnCnhE,EAAEqd,cAAc8jD,QAAQr+D,QAEtFi1E,KAAK5vE,KAAKqtF,EAAa,OAEvBzd,KAAK9wE,IAAI8Z,IAAUw1E,IAKnBR,GAAY,EAKpB,QAASM,KACLN,GAAY,EAGhB,QAASS,KACLze,KAAK73E,OAAO6gB,IAAU01E,GACtB1e,KAAK73E,OAAO6gB,IAAUu1E,GACtBve,KAAK73E,OAAO6gB,IAAUw1E,GACtBR,GAAY,EAGhB,QAASK,GAAKp2F,GACV,GAAI43E,MACAoe,EAAiB,kBAAXh2F,EAAEgE,MAAuC,gBAAXhE,EAAEgE,MAAqC,cAAXhE,EAAEgE,MAAmC,gBAAXhE,EAAEgE,KAAyBhE,EAAIA,EAAEqd,cAC3H4S,EAAMwiE,IAAInpF,EAAE2sF,YAAYD,EAC5BD,IAAY,CAEZ,KAAK,GAAIz9D,KAAO09D,GACdpe,EAAIt/C,GAAO09D,EAAG19D,EAYhB,IALAy/C,KAAK73E,OAAOU,SAASf,KAAM,UAAWu2F,GACtCre,KAAK73E,OAAO6gB,IAAU01E,GACtB1e,KAAK73E,OAAO6gB,IAAUu1E,GACtBve,KAAK73E,OAAO6gB,IAAUw1E,GAEP,aAAXv2F,EAAEgE,KAIFwxF,EAAY12E,MAAM9e,EAAG6vC,OAClB,IAAI5f,GAAO4f,EAIhB,GAAiB,kBAAb+nC,EAAI5zE,MAAyC,gBAAb4zE,EAAI5zE,KACtC4zE,EAAInR,kBACJ+uB,EAAY12E,MAAM84D,EAAK3nD,OAClB,IAAiB,gBAAb2nD,EAAI5zE,MAAuC,cAAb4zE,EAAI5zE,KAC3CwxF,EAAY12E,MAAM84D,EAAK3nD,OAClB,IAAIvhB,KAAKo6B,MAAM7Y,EAAItmB,EAAIy4C,KAAS1zC,KAAKo6B,MAAM+G,EAAGlmC,EAAIy4C,IACvD1zC,KAAKo6B,MAAM7Y,EAAIxmB,EAAI24C,KAAS1zC,KAAKo6B,MAAM+G,EAAGpmC,EAAI24C,GAAM;AAKpD,GAAIs0C,GAAkC,cAAb9e,EAAI5zE,KAAsB,MAAOoyF,EAItDP,GAMFD,IALAC,EAAgBpoF,OAAO9L,WAAW,WAC9Bk0F,EAAgB,KAChBL,EAAY12E,MAAM84D,EAAK3nD,IACxB,KAQT,MAAOmmE,GA/MX,GAMIvmD,GAGA8jD,EACAgD,EACAxwE,EACApF,EACArU,EAbAqnF,EAAKtB,IAAIsB,KACTyB,KACAO,GAAY,EACZF,EAAgB,KAKhBzzC,EAAM,EAUNs0C,GAAoB,EAEpBE,GACAC,UAAWf,EACXp1B,WAAYy1B,EACZ11B,UAAW01B,GAGXM,GACA7wB,SAAUwwB,EACVU,UAAWV,EACXW,YAAaP,GAGbF,GACAU,YAAaZ,EACba,cAAeb,EACfc,gBAAiBV,GAGjBD,GACAY,UAAWf,EACXgB,YAAahB,EACbiB,cAAeb,EAqRnB,OA5GAhB,GAAY8B,iBAAmB,SAASr4F,GACtC,MAAKuN,WAAU1J,QACf4zF,EAAoBz3F,EACbu2F,GAFuBkB,GAMhClB,EAAY12E,MAAQ,SAAS9e,EAAGiwB,GAC5BulE,EAAYU,eAAejmE,EAAK,SAAS+sC,GACjCA,GAAS+a,KAAK5vE,KAAKqtF,EAAa,MAChCz0E,OAAQA,IACR7Z,KAAM81D,EACNm2B,UAAWY,EAAGZ,YAAYlrC,OAC1BjoD,EAAGA,OAKfw1F,EAAYU,eAAiB,SAASjmE,EAAKuK,GACvC,GAAIqqB,GAAO4wC,EAAQxlE,EACd40B,IAAMrqB,EAAS,MACpBu5D,EAAGW,QAAQ7vC,EAAKz+B,IAAK,SAAS85C,EAAK99D,GAC/B,GAAI89D,IAAQ99D,EAAG,MAAOo4B,GAAS,KAC/B,IAAIwiC,GAAU56D,EAAEyxF,YAAY5jE,EAAIxmB,EAAGwmB,EAAItmB,EAAGk7C,EAC1CrqB,GAASwiC,MAMjBw4B,EAAYmB,OAAS,SAASltF,GAC1B,MAAK+C,WAAU1J,QACf6zF,EAASltF,EACF+rF,GAFuBmB,GAKlCnB,EAAYrvE,OAAS,SAAS1c,GAC1B,MAAK+C,WAAU1J,QACfqjB,EAAS1c,EACF+rF,GAFuBrvE,GAMlCqvE,EAAY9oF,IAAM,SAASjD,GACvB,MAAK+C,WAAU1J,QACf4J,EAAMjD,EACFktF,GAAQA,EAAOjqF,GACnBqrE,KAAK9wE,IAAI8Z,IAAU61E,GACnB7e,KAAK9wE,IAAI8Z,IAAU,aAAco1E,GACjCpe,KAAK9wE,IAAI8Z,IAAU,gBAAiBo1E,GACpCpe,KAAK9wE,IAAI8Z,IAAU,cAAeo1E,GAC3BX,GAPuB9oF,GAWlC8oF,EAAY7B,KAAO,SAASlqF,GACxB,MAAK+C,WAAU1J,QACf6wF,EAAOlqF,EACA+rF,GAFuB7B,GAMlC6B,EAAYt1F,OAAS,SAASuJ,GAI1B,MAHI0c,IAAQA,EAAOzZ,GACnBqrE,KAAK73E,OAAO6gB,IAAU61E,GACtB7e,KAAK5vE,KAAKqtF,EAAa,UAChBA,GAIXA,EAAYnB,SAAW,SAAS5qF,GAC5B,MAAK+C,WAAU1J,QACfixF,EAAGM,SAAS5qF,GACL+rF,GAFuBzB,EAAGM,YAOrCmB,EAAYrC,UAAY,WACpB,MAAOY,GAAGZ,aAIdqC,EAAYn3E,GAAK,SAASk5E,EAAItuF,GAE1B,MADA8uE,MAAK9wE,IAAIuuF,EAAa+B,EAAItuF,GACnBusF,GAIXA,EAAYroF,IAAM,SAASoqF,EAAItuF,GAE3B,MADA8uE,MAAK73E,OAAOs1F,EAAa+B,EAAItuF,GACtBusF,GAIXA,EAAYgC,YAAc,SAAS/tF,GAC/B,MAAK+C,WAAU1J,QACfixF,EAAKtqF,EACE+rF,GAFuBzB,GAOlCyB,EAAYz0E,OAAU,SAAStX,GAE3B,MADAsX,GAAStX,EACF+rF,GAGJA,EAEX,IAAI/C,KAAMA,OAEVA,KAAIhqF,SAAW,WAIX,QAAS4V,GAAG3b,GACR,GAAkB,cAAbA,EAAE1C,EAAEgE,MAAyBtB,EAAE1C,EAAEgE,KAAtC,CAGI,GAAI+7B,GAAMr9B,EAAEywF,WAAYlrC,OAAQ,YAAcvlD,EAAEwE,KAC5C64B,KACAtyB,OAAOhF,SAASgQ,KAAOsnB,IARnC,GAAI12B,KAmBJ,OANAA,GAAEvC,OAAS,WACP,OACIuX,GAAIA,IAILhV,EAOX,IAAIopF,KAAMA,OAoEV,IA/DAA,IAAI1qC,SACAlzC,SACA4iF,SACAC,YACAzrF,IAAK,SAASqa,EAAKkU,GAEf,GAAI97B,KAAKmW,MAAMyR,GACX,MAAOkU,GAAS97B,KAAKmW,MAAMyR,GAAK,GAAI5nB,KAAKmW,MAAMyR,GAAK,GAMpD,IAHA5nB,KAAKg5F,SAASpxE,GAAO5nB,KAAKg5F,SAASpxE,OACnC5nB,KAAKg5F,SAASpxE,GAAKjc,KAAKmwB,IAEpB97B,KAAK+4F,MAAMnxE,GAAf,CAEA,GAAIqxE,GAAOj5F,IACXA,MAAK+4F,MAAMnxE,IAAO,EAClB4pE,SACI5pE,IAAKA,IAAQA,EAAI3b,QAAQ,KAAO,IAAM,KAAO,gBAC7C3G,KAAM,QACN4oB,cAAe,WACfvC,QAAS,SAASnjB,GACdywF,EAAKF,MAAMnxE,IAAO,EAClBqxE,EAAK9iF,MAAMyR,IAAQ,KAAMpf,EACzB,KAAK,GAAIrE,GAAI,EAAGA,EAAI80F,EAAKD,SAASpxE,GAAKxjB,OAAQD,IAC3C80F,EAAKD,SAASpxE,GAAKzjB,GAAG80F,EAAK9iF,MAAMyR,GAAK,GAAIqxE,EAAK9iF,MAAMyR,GAAK,KAGlEnjB,MAAO,SAAS+8D,GACZy3B,EAAKF,MAAMnxE,IAAO,EAClBqxE,EAAK9iF,MAAMyR,IAAQ45C,EAAK,KACxB,KAAK,GAAIr9D,GAAI,EAAGA,EAAI80F,EAAKD,SAASpxE,GAAKxjB,OAAQD,IAC3C80F,EAAKD,SAASpxE,GAAKzjB,GAAG80F,EAAK9iF,MAAMyR,GAAK,GAAIqxE,EAAK9iF,MAAMyR,GAAK,UASlFmsE,IAAI96D,SAAW,SAASluB,GACpB,GAAIkuB,KAmBJ,OAfAA,GAASswB,OAAS,SAAS7wC,EAASlQ,GAGhC,KAAM,IAAI0G,OAAM,kDAYb+pB,IAEN86D,IAAK,GAAIA,OAGdA,KAAI4B,SAAW,SAAS/tE,EAAKkU,GACzB01D,SACI5pE,IAAKA,IAAQA,EAAI3b,QAAQ,KAAO,IAAM,KAAO,gBAC7C3G,KAAM,QACN4oB,cAAe,WACfvC,QAASmQ,EACTr3B,MAAOq3B,IAGf,IAAIi4D,KAAMA,OAIVA,KAAInpF,GAEAiO,OAAQ,SAAS+qB,GA0Cb,QAASs1D,KACPC,EAAgBv1D,EAChB,KACI,KAAOA,EAAKA,EAAGtR,cAAgB6mE,EAAgBv1D,GACjD,MAAMtiC,KAzCV,GAAIM,GAAQgiC,EAAG19B,aAAekP,SAASwuB,EAAGr9B,MAAM3E,MAAO,IACnDC,EAAS+hC,EAAGz9B,cAAgBiP,SAASwuB,EAAGr9B,MAAM1E,OAAQ,IACtDu3F,EAAWl3F,SAASf,KACpB2U,EAAM,EACN2T,EAAO,EAEP0vE,EAAkB,SAASv1D,GAC3B,GAAIA,IAAOw1D,GAAYx1D,IAAO1hC,SAAS+H,gBAAvC,CACA6L,GAAO8tB,EAAGjuB,UACV8T,GAAQma,EAAGrR,UAEX,IAAIhsB,GAAQq9B,EAAGr9B,MAAM6qC,WACjBxN,EAAGr9B,MAAM8yF,iBACTz1D,EAAGr9B,MAAM+yF,YACT11D,EAAGr9B,MAAMgzF,cACT31D,EAAGr9B,MAAMizF,WAEb,IAAIjzF,EAAO,CACP,GAAIia,EACJ,IAAIA,EAAQja,EAAMia,MAAM,+BACpB1K,GAAOV,SAASoL,EAAM,GAAI,IAC1BiJ,GAAQrU,SAASoL,EAAM,GAAI,QACxB,IAAIA,EAAQja,EAAMia,MAAM,yCAC3B1K,GAAOV,SAASoL,EAAM,GAAI,IAC1BiJ,GAAQrU,SAASoL,EAAM,GAAI,QACxB,IAAIA,EAAQja,EAAMia,MAAM,4BAA6B,CACxD,GAAIi5E,GAAMj5E,EAAM,GAAGhc,MAAM,IACzBsR,IAAOV,SAASqkF,EAAI,IAAK,IACzBhwE,GAAQrU,SAASqkF,EAAI,IAAK,SACnBj5E,EAAQja,EAAMia,MAAM,2CAC3B1K,GAAOV,SAASoL,EAAM,GAAI,IAC1BiJ,GAAQrU,SAASoL,EAAM,GAAI,OAgBvC,IAAyC,mBAA7BojB,GAAGzR,sBAAwC,CACrD,GAAIhxB,GAAOe,SAASf,KAChB+sC,EAAMtK,EAAGl7B,cAAcuB,gBACvB6T,EAAa5b,SAAS4b,WAAc3c,EAAK2c,WAAc,EACvDJ,EAAaxb,SAASwb,YAAcvc,EAAKuc,YAAc,EACvDG,EAAa9O,OAAOqjB,aAAe8b,EAAIrwB,UACvCJ,EAAa1O,OAAOsjB,aAAe6b,EAAIzwB,UAI3C,KACI,GAAIgtD,GAAM7mC,EAAGzR,uBACbrc,GAAM20D,EAAI30D,IAAM+H,EAAaC,EAC7B2L,EAAOghD,EAAIhhD,KAAOhM,EAAaC,EACjC,MAAMpc,GACJ43F,SAGJA,IAIFpjF,IAAOsjF,EAASzjF,UAChB8T,GAAQ2vE,EAAS7mE,WAEjBzc,GAAOsjF,EAAS/vF,WAAWsM,UAC3B8T,GAAQ2vE,EAAS/vF,WAAWkpB,UAI5B,IAAImnE,GAAex3F,SAASpB,YACxBiO,OAAOmG,iBAAiBkkF,EAAS/vF,WAAY,MAC7C+vF,EAAS/vF,WAAWmgB,YAQxB,OAPI4vE,GAAS/vF,WAAWsM,YACpBP,SAASskF,EAAaxjF,UAAW,KAChClH,MAAMoG,SAASskF,EAAaxjF,UAAW,OACxCJ,GAAOV,SAASskF,EAAaxjF,UAAW,IACxCuT,GAAQrU,SAASskF,EAAaluC,WAAY,MAI1C11C,IAAKA,EACL2T,KAAMA,EACN5nB,OAAQA,EACRD,MAAOA,IAIfzB,EAAK,SAAS4K,GACV,MAAqB,gBAANA,GACX7I,SAAS8K,eAAejC,GACxBA,GAKRwsF,YAAa,SAASj2F,GAIlB,MADKA,KAAKA,EAAIyN,OAAOzG,OACP,iBAAVhH,EAAEgE,MAAqC,iBAAVhE,EAAEgE,MAAqC,eAAVhE,EAAEgE,MAE5DyF,EAAGzJ,EAAEic,MAAQxO,OAAOsjB,YACpBpnB,EAAG3J,EAAEqc,MAAQ5O,OAAOqjB,aAGpB9wB,EAAEic,OAASjc,EAAEqc,OAGT5S,EAAGzJ,EAAEic,MACLtS,EAAG3J,EAAEqc,OAEFrc,EAAEkc,SAAWlc,EAAEsc,SAGlB7S,EAAGzJ,EAAEkc,QACLvS,EAAG3J,EAAEsc,SAEFtc,EAAEmhE,SAAgC,IAArBnhE,EAAEmhE,QAAQr+D,QAG1B2G,EAAGzJ,EAAEmhE,QAAQ,GAAGllD,MAChBtS,EAAG3J,EAAEmhE,QAAQ,GAAG9kD,OAJjB,QAWXwpC,MAAO,SAASwyC,EAAM77D,EAAMrH,GACxB,GAAI7I,EACJ,OAAO,YACH,GAAIxhB,GAAUpM,KAAMo8B,EAAOtuB,UACvB8rF,EAAY,WACZhsE,EAAU,KACV+rE,EAAK/2F,MAAMwJ,EAASgwB,GAEpB3F,IAAUhf,aAAamW,IACvB6I,GAAa7I,IAASA,EAAU3qB,WAAW22F,EAAW97D,MAMlEtH,SAAU,SAASmjE,EAAM77D,GACrB,MAAO99B,MAAKmnD,MAAMwyC,EAAM77D,GAAM,IAGlCyxD,SAAU,SAAS5rD,GAGf,QAASk2D,GAAKjyE,GAMV,GAAI,4BAA4B3iB,KAAK2iB,GACjC,MAAOA,GAIf,QAASkyE,GAAI7sF,GAAM,MAAOA,GAb1B,MAAK02B,GAeEusD,cAAcvsD,EAASk2D,EAAMC,GAff,KAkB7B/F,IAAMA,QACNA,IAAIgG,KAAOhG,IAAIgG,SAEfhG,IAAIgG,KAAKz3D,KAAO,SAASt0B,GACrB,MAAO+lF,KAAIzxD,MACPk0D,cAAe,WACX,GAAIt9C,GAASlrC,EAAIqiC,YACbh7B,EAAOrH,EAAI0rC,UACXjF,EAAYzkC,KAAKC,IACb,EACAD,KAAKkmB,KAAKlmB,KAAKonC,IAAI/hC,GAAQrF,KAAKqvC,KAExC,QACIhqC,EACA6jC,EAAOhF,IAAI8lD,QAAQvlD,GACnByE,EAAO/E,IAAI6lD,QAAQvlD,IACrB1mC,KAAK,MAGXsoF,cAAe,SAAUj6D,GACrBpuB,EAAImrC,QAAQ,GAAI/4C,GAAE6zC,OAAO7X,EAAK,GAAIA,EAAK,IAAKA,EAAK,KAGrDw6D,WAAY,SAAUrsF,GAClByD,EAAI2R,GAAG,UAAWpV,IAGtBssF,aAAc,SAAUtsF,GACpByD,EAAIS,IAAI,UAAWlE,OAI/BwpF,IAAMA,QACNA,IAAIgG,KAAOhG,IAAIgG,SAEfhG,IAAIgG,KAAKjD,YAAc,WAGnB,QAASmD,KAAaC,GAAQ,EAE9B,QAASjF,KAML,OAAKiF,GAASC,EACHA,EAECA,EAAQ,SAAU1gD,GACtB,GAAIz1C,KACJ,KAAK,GAAIstE,KAAW73B,GAEhB,GAAIA,EAAO63B,GAAStrB,OAChB,IAAK,GAAIG,KAAQ1M,GAAO63B,GAAStrB,OAAQ,CACrC,GAAIo0C,GAAQ3gD,EAAO63B,GAAStrB,OAAOG,EAEnC,IAAGi0C,EAAM1yE,IAAK,CACZ,GAAI7O,GAASk7E,IAAInpF,EAAEiO,OAAOuhF,EAC1Bp2F,GAAE2H,MAAMkN,EAAO/C,IAAK+C,EAAO4Q,KAAM2wE,KAK/C,MAAOp2F,IACRgK,EAAIqrC,SAIf,QAAS4+C,GAAOltF,GACZ,IAAK+C,UAAU1J,OAAQ,MAAO4J,EAC9BA,GAAMjD,CAEN,KAAK,GADDlH,IAAK,WACAM,EAAI,EAAGA,EAAIN,EAAEO,OAAQD,IAC1B6J,EAAI2R,GAAG9b,EAAEM,GAAI81F,GAIrB,QAASxyE,GAAO1c,GACZ,IAAK+C,UAAU1J,OAAQ,MAAO4J,EAC9BA,GAAMjD,CAEN,KAAK,GADDlH,IAAK,WACAM,EAAI,EAAGA,EAAIN,EAAEO,OAAQD,IAC1B6J,EAAIS,IAAI5K,EAAEM,GAAI81F,GA/CtB,GAAmBE,GAAOnsF,EAAtBksF,GAAQ,CAmDZ,OAAOnG,KAAI+C,cACNmB,OAAOA,GACPxwE,OAAOA,GACPpF,OAAO,WACN,MAAOrU,GAAIsvC,aAEZ23C,KAAKA,IAEdlB,IAAMA,QACNA,IAAIgG,KAAOhG,IAAIgG,SAEfhG,IAAIgG,KAAKM,UAAYj6F,EAAE+7C,UAAUz2C,QAC7Bq3B,WAAY,SAASrkB,GACjBA,EAAUA,MACVA,EAAQsjC,QAAUtjC,EAAQ4hF,SAAW,EACrC5hF,EAAQ2iC,QAAU3iC,EAAQ6hF,SAAW,GACrCn6F,EAAE+7C,UAAU9wC,UAAU0xB,WAAW/zB,KAAKhJ,KAAM0Y,EAAQqtC,MAAM,GAAIrtC,MAGtEq7E,IAAMA,QACNA,IAAIrwF,EAAIqwF,IAAIrwF,MAKZqwF,IAAIrwF,EAAEsgD,YAAc,SAASh2C,EAAK2nF,GAC9BA,EAAWA,KACX,IAAIn1F,GACAwjD,IAkBJ,OAhBAA,GAAYlgB,QAAU,WAClB,MAAOtjC,GAAEsjC,WAGbkgB,EAAY3iD,SAAW,SAASsZ,GAE5B,MADAo5E,KAAInpF,EAAEzK,EAAEwa,GAAM7Y,YAAYtB,EAAEsjC,WACrB9jC,MAGXgkD,EAAYx5C,KAAO,WAIf,MAHAhK,GAAIuzF,IAAI/vC,cACRxjD,EAAEmjC,QAAQgyD,EAAS3xC,aACnBxjD,EAAEsjC,UAAUxwB,UAAY,wBACjBtT,MAGJgkD,EAAYx5C,QAEvBupF,IAAMA,QACNA,IAAIrwF,EAAIqwF,IAAIrwF,MAIZqwF,IAAIrwF,EAAEswF,SAAW,SAAShmF,EAAK0K,GAC3BA,EAAUA,KACV,IAAI8hF,GAAS9hF,EAAQ+hF,KAAO,UACxBC,EAAShiF,EAAQiiF,KAAO,QAG5B,KAAK3sF,EAAI4sF,SAAS,UAAW,CAWzB,IAAK,GAVDC,GAAK7sF,EAAI4sF,SAASC,GAClBlF,GACA5vC,SACA+0C,OAAQD,EAAGniF,QAAQoiF,OACnBC,WAAYF,EAAGniF,QAAQqiF,WACvBT,QAASO,EAAG7+C,QACZu+C,QAASM,EAAGx/C,QACZvkC,KAAM+jF,EAAG/jF,KACTkkF,YAAaH,EAAGG,aAEX72F,EAAI,EAAGA,EAAI02F,EAAGniF,QAAQqtC,MAAM3hD,OAAQD,IACzCwxF,EAAS5vC,MAAMp6C,KAAKkvF,EAAGniF,QAAQqtC,MAAM5hD,GAChCO,QAAQ,OAAQ81F,GAChB91F,QAAQ,OAAQg2F,GAEzB52F,GAAE82F,SAASviF,IAAI,SAAU,GAAI07E,KAAIrwF,EAAE22F,UAAU1E,IAGjD,MAAO5B,KAAIC,SAASt7E,EAAS,SAAS+P,GACpCza,EAAIitF,aAAaxyE,EAAK,KAAO,aAGnCsrE,IAAMA,QACNA,IAAIrwF,EAAIqwF,IAAIrwF,MAEZqwF,IAAIrwF,EAAE4+B,KAAO,SAASt0B,GAClB,MAAO+lF,KAAIzxD,MACPk0D,cAAe,WACX,GAAIt9C,GAASlrC,EAAIqiC,YACbh7B,EAAOrH,EAAI0rC,UACXjF,EAAYzkC,KAAKC,IACb,EACAD,KAAKkmB,KAAKlmB,KAAKonC,IAAI/hC,GAAQrF,KAAKqvC,KACxC,QAAQhqC,EAAK2kF,QAAQ,GACjB9gD,EAAOhF,MAAM8lD,QAAQvlD,GACrByE,EAAO/E,MAAM6lD,QAAQvlD,IACvB1mC,KAAK,MAEXsoF,cAAe,SAAuBj6D,GAClCpuB,EAAIktF,UAAU,GAAIC,QAAOC,KAAKnnD,OAAO7X,EAAK,GAAIA,EAAK,KACnDpuB,EAAI6rC,QAAQzd,EAAK,KAErBw6D,WAAY,SAASrsF,GACjB4wF,OAAOC,KAAK9yF,MAAM63D,YAAYnyD,EAAK,OAAQzD,IAE/CssF,aAAc,SAAStsF,GACnB4wF,OAAOC,KAAK9yF,MAAMq4D,eAAe3yD,EAAK,OAAQzD,OAI1DwpF,IAAMA,QACNA,IAAIrwF,EAAIqwF,IAAIrwF,MAEZqwF,IAAIrwF,EAAEozF,YAAc,WAKhB,QAASmD,KAAaC,GAAQ,EAE9B,QAASjF,KAGL,IAAKiF,GAASC,IAAUA,EAAM/1F,OAAS,IAAMi3F,GACzC,MAAOlB,EAEPA,KACA,IAAI9kF,GAAOrH,EAAI0rC,UAEXnsC,GADYwmF,IAAInpF,EAAEiO,OAAO7K,EAAIstF,UACvB,SAASC,GACf,GAAKA,GAAYA,EAAQC,YAAzB,CACAH,GAAqB,CACrB,KAAK,GAAIzhE,KAAO2hE,GAAQplF,MACpB,GAAIyjB,EAAIp1B,MAAM,KAAK,IAAM6Q,EAAzB,CACA,GAAIomF,GAAa1H,IAAInpF,EAAEiO,OAAO0iF,EAAQplF,MAAMyjB,GAC5CugE,GAAMxuF,MACF8vF,EAAW3lF,IACX2lF,EAAWhyE,KACX8xE,EAAQplF,MAAMyjB,QAK1B,KAAK,GAAIz1B,KAAK6J,GAAI4sF,SAAUrtF,EAAIS,EAAI4sF,SAASz2F,GAGjD,OAFI6J,GAAI0tF,gBAAgBzoE,QAAQ1lB,GAEzB4sF,EAGX,QAASlC,GAAOltF,GACZ,MAAK+C,WAAU1J,QACf4J,EAAMjD,EACN4wF,EAAmBR,OAAOC,KAAK9yF,MAAM63D,YAAYnyD,EAAK,aAClDisF,QACJ2B,EAAeT,OAAOC,KAAK9yF,MAAM63D,YAAYnyD,EAAK,OAC9CisF,KAL0BjsF,EAQlC,QAASyZ,GAAO1c,GACT4wF,GACDR,OAAOC,KAAK9yF,MAAMq4D,eAAeg7B,GAChCC,GACDT,OAAOC,KAAK9yF,MAAMq4D,eAAei7B,GAhDvC,GAAmBzB,GAAOnsF,EAAtBksF,GAAQ,EAAmBmB,GAAqB,EAChDM,EAAmB,KACnBC,EAAe,IAmDnB,OAAO7H,KAAI+C,cACNmB,OAAOA,GACPxwE,OAAOA,GACPmxE,kBAAiB,GACjBv2E,OAAO,WACN,MAAOrU,GAAIstF,WAEZrG,KAAKA,GAMd,IAAIlB,KAAMA,OACVA,KAAIrwF,EAAIqwF,IAAIrwF,MAYZqwF,IAAIrwF,EAAE22F,UAAY,SAAS3hF,GACvBA,EAAUA,MAEV1Y,KAAK0Y,SACDqtC,MAAOrtC,EAAQqtC,MACf+0C,OAAQpiF,EAAQoiF,QAAU,MAC1BC,WAAYriF,EAAQqiF,YAAc,8DAGtC/6F,KAAKiT,QAAUyF,EAAQzF,SAAW,EAClCjT,KAAKg8C,QAAUtjC,EAAQ4hF,SAAW,EAClCt6F,KAAKq7C,QAAU3iC,EAAQ6hF,SAAW,GAElCv6F,KAAK8W,KAAO4B,EAAQ5B,MAAQ,GAC5B9W,KAAKg7F,YAActiF,EAAQsiF,aAAe,GAG1Ch7F,KAAKw7F,aAAc,EACnBx7F,KAAK6jD,SAAW,GAAIs3C,QAAOC,KAAKS,KAAK,IAAK,KAG1C77F,KAAKmW,UAIT49E,IAAIrwF,EAAE22F,UAAUhvF,UAAU0rF,QAAU,SAAS+E,EAAOzmF,EAAM3M,GACtD,GAAIkxB,GAAMvkB,EAAO,IAAMymF,EAAM/wF,EAAI,IAAM+wF,EAAM7wF,CAC7C,KAAKjL,KAAKmW,MAAMyjB,GAAM,CAClB,GAAIsxB,GAAMlrD,KAAKmW,MAAMyjB,GAAO,GAAIu6D,OAAM,IAAK,IAC3Cn0F,MAAKmW,MAAMyjB,GAAKlS,IAAM1nB,KAAKgoD,WAAW8zC,EAAOzmF,GAC7CrV,KAAKmW,MAAMyjB,GAAKhnB,aAAa,WAAYgnB,GACzC55B,KAAKmW,MAAMyjB,GAAKhnB,aAAa,QAAQ,YAAY5S,KAAKiT,QAAQ,2BAAyC,IAAbjT,KAAKiT,QAAa,MAC5GjT,KAAKmW,MAAMyjB,GAAKgvB,QAAU,WAAasC,EAAI3kD,MAAMyO,QAAU,QAE/D,MAAOhV,MAAKmW,MAAMyjB,IAMtBm6D,IAAIrwF,EAAE22F,UAAUhvF,UAAU0wF,YAAc,SAAS51C,GAC7C,GAAIvsB,GAAMusB,EAAKx8C,aAAa,WACxB3J,MAAKmW,MAAMyjB,UAAa55B,MAAKmW,MAAMyjB,GACnCusB,EAAK98C,YAAY88C,EAAK98C,WAAW9G,YAAY4jD,IAIrD4tC,IAAIrwF,EAAE22F,UAAUhvF,UAAU28C,WAAa,SAAS8zC,EAAO1xF,GAEnD,GAAI4xF,GAAMhsF,KAAKm6B,IAAI,EAAG//B,GAClBa,EAA6B,QAAxBjL,KAAK0Y,QAAQoiF,OACbkB,EAAM,EAAKF,EAAM7wF,EAClB6wF,EAAM7wF,EACVF,EAAK+wF,EAAM/wF,EAAIixF,CAInB,OAFAjxF,GAAKA,EAAI,EAAM+wF,EAAM/wF,EAAIixF,EAAOA,EAAMjxF,EAElCE,EAAI,EAAUjL,KAAK0Y,QAAQqiF,WAExB/6F,KAAK0Y,QAAQqtC,MACf3wC,SAASrK,EAAIE,EAAG,IACbjL,KAAK0Y,QAAQqtC,MAAM3hD,QACdM,QAAQ,SAAU0F,GAClB1F,QAAQ,SAAUqG,GAClBrG,QAAQ,SAAUuG,GAEnC,IAAIkzD,SAAU,SAAUC,EAAS1lD,GAE/B,GAiLI6wB,GAjLA0yD,EAAwB,SAAUC,EAAiBC,EAAMC,GAE3D,GAAIC,EAEJ,QAASH,EAAgB52F,MACvB,IAAK,QACH62F,EAAKtmF,SAAW,GAAIslF,QAAOC,KAAKnnD,OAAOioD,EAAgBx9B,YAAY,GAAIw9B,EAAgBx9B,YAAY,IACnG29B,EAAY,GAAIlB,QAAOC,KAAKlvC,OAAOiwC,GAC/BC,GACFC,EAAUhkF,IAAI,oBAAqB+jF,EAErC,MAEF,KAAK,aACHC,IACA,KAAK,GAAIl4F,GAAI,EAAGA,EAAI+3F,EAAgBx9B,YAAYt6D,OAAQD,IACtDg4F,EAAKtmF,SAAW,GAAIslF,QAAOC,KAAKnnD,OAAOioD,EAAgBx9B,YAAYv6D,GAAG,GAAI+3F,EAAgBx9B,YAAYv6D,GAAG,IACzGk4F,EAAU1wF,KAAK,GAAIwvF,QAAOC,KAAKlvC,OAAOiwC,GAExC,IAAIC,EACF,IAAK,GAAI/3F,GAAI,EAAGA,EAAIg4F,EAAUj4F,OAAQC,IACpCg4F,EAAUh4F,GAAGgU,IAAI,oBAAqB+jF,EAG1C,MAEF,KAAK,aAEH,IAAK,GADDtwC,MACK3nD,EAAI,EAAGA,EAAI+3F,EAAgBx9B,YAAYt6D,OAAQD,IAAI,CAC1D,GAAI23F,GAAQI,EAAgBx9B,YAAYv6D,GACpCm4F,EAAK,GAAInB,QAAOC,KAAKnnD,OAAO6nD,EAAM,GAAIA,EAAM,GAChDhwC,GAAKngD,KAAK2wF,GAEZH,EAAKrwC,KAAOA,EACZuwC,EAAY,GAAIlB,QAAOC,KAAKnhC,SAASkiC,GACjCC,GACFC,EAAUhkF,IAAI,oBAAqB+jF,EAErC,MAEF,KAAK,kBACHC,IACA,KAAK,GAAIl4F,GAAI,EAAGA,EAAI+3F,EAAgBx9B,YAAYt6D,OAAQD,IAAI,CAE1D,IAAK,GADD2nD,MACKloD,EAAI,EAAGA,EAAIs4F,EAAgBx9B,YAAYv6D,GAAGC,OAAQR,IAAI,CAC7D,GAAIk4F,GAAQI,EAAgBx9B,YAAYv6D,GAAGP,GACvC04F,EAAK,GAAInB,QAAOC,KAAKnnD,OAAO6nD,EAAM,GAAIA,EAAM,GAChDhwC,GAAKngD,KAAK2wF,GAEZH,EAAKrwC,KAAOA,EACZuwC,EAAU1wF,KAAK,GAAIwvF,QAAOC,KAAKnhC,SAASkiC,IAE1C,GAAIC,EACF,IAAK,GAAI/3F,GAAI,EAAGA,EAAIg4F,EAAUj4F,OAAQC,IACpCg4F,EAAUh4F,GAAGgU,IAAI,oBAAqB+jF,EAG1C,MAEF,KAAK,UAIH,IAAK,GAFDG,GACAC,EAFAC,KAGKt4F,EAAI,EAAGA,EAAI+3F,EAAgBx9B,YAAYt6D,OAAQD,IAAI,CAE1D,IAAK,GADD2nD,MACKloD,EAAI,EAAGA,EAAIs4F,EAAgBx9B,YAAYv6D,GAAGC,OAAQR,IAAI,CAC7D,GAAI04F,GAAK,GAAInB,QAAOC,KAAKnnD,OAAOioD,EAAgBx9B,YAAYv6D,GAAGP,GAAG,GAAIs4F,EAAgBx9B,YAAYv6D,GAAGP,GAAG,GACxGkoD,GAAKngD,KAAK2wF,GAERn4F,EAGU,GAALA,GACPq4F,EAAoBE,EAAK5wC,GACtBywC,GAAqBC,EACtBC,EAAM9wF,KAAKmgD,EAAKzmC,WAEhBo3E,EAAM9wF,KAAKmgD,IAGVywC,GAAqBC,EACtBC,EAAM9wF,KAAKmgD,EAAKzmC,WAEhBo3E,EAAM9wF,KAAKmgD,IAbbywC,EAAoBG,EAAK5wC,GACzB2wC,EAAM9wF,KAAKmgD,IAgBfqwC,EAAKM,MAAQA,EACbJ,EAAY,GAAIlB,QAAOC,KAAK5jC,QAAQ2kC,GAChCC,GACFC,EAAUhkF,IAAI,oBAAqB+jF,EAErC,MAEF,KAAK,eACHC,IACA,KAAK,GAAIl4F,GAAI,EAAGA,EAAI+3F,EAAgBx9B,YAAYt6D,OAAQD,IAAI,CAI1D,IAAK,GAFDo4F,GACAC,EAFAC,KAGK74F,EAAI,EAAGA,EAAIs4F,EAAgBx9B,YAAYv6D,GAAGC,OAAQR,IAAI,CAE7D,IAAK,GADDkoD,MACKznD,EAAI,EAAGA,EAAI63F,EAAgBx9B,YAAYv6D,GAAGP,GAAGQ,OAAS,EAAGC,IAAI,CACpE,GAAIi4F,GAAK,GAAInB,QAAOC,KAAKnnD,OAAOioD,EAAgBx9B,YAAYv6D,GAAGP,GAAGS,GAAG,GAAI63F,EAAgBx9B,YAAYv6D,GAAGP,GAAGS,GAAG,GAC9GynD,GAAKngD,KAAK2wF,GAER14F,EAGU,GAALA,GACP44F,EAAoBE,EAAK5wC,GACtBywC,GAAqBC,EACtBC,EAAM9wF,KAAKmgD,EAAKzmC,WAEhBo3E,EAAM9wF,KAAKmgD,IAGVywC,GAAqBC,EACtBC,EAAM9wF,KAAKmgD,EAAKzmC,WAEhBo3E,EAAM9wF,KAAKmgD,IAbbywC,EAAoBG,EAAK5wC,GACzB2wC,EAAM9wF,KAAKmgD,IAgBfqwC,EAAKM,MAAQA,EACbJ,EAAU1wF,KAAK,GAAIwvF,QAAOC,KAAK5jC,QAAQ2kC,IAEzC,GAAIC,EACF,IAAK,GAAI/3F,GAAI,EAAGA,EAAIg4F,EAAUj4F,OAAQC,IACpCg4F,EAAUh4F,GAAGgU,IAAI,oBAAqB+jF,EAG1C,MAEF,KAAK,qBAEH,GADAC,KACKH,EAAgB19B,WAGnB,IAAK,GAAIr6D,GAAI,EAAGA,EAAI+3F,EAAgB19B,WAAWp6D,OAAQD,IACrDk4F,EAAU1wF,KAAKswF,EAAsBC,EAAgB19B,WAAWr6D,GAAIg4F,EAAMC,GAAqB,WAHjGC,GAAYM,EAAO,iFAMrB,MAEF,SACEN,EAAYM,EAAO,8GAGvB,MAAON,IAILM,EAAS,SAAUpoB,GAErB,OACJjvE,KAAM,QACEivE,QAASA,IAKXmoB,EAAO,SAAU5wC,GAGnB,IAAK,GAFD8wC,GACAp8F,EAAI,EACC2D,EAAI,EAAGA,EAAI2nD,EAAK1nD,OAAO,EAAGD,IACjC3D,IAAOsrD,EAAK3nD,EAAE,GAAG+vC,MAAQ4X,EAAK3nD,GAAG+vC,QAAU4X,EAAK3nD,EAAE,GAAGgwC,MAAQ2X,EAAK3nD,GAAGgwC,QAAU2X,EAAK3nD,EAAE,GAAG+vC,MAAQ4X,EAAK3nD,GAAG+vC,QAAU4X,EAAK3nD,EAAE,GAAGgwC,MAAQ2X,EAAK3nD,GAAGgwC,MAQ/I,OALEyoD,GADCp8F,EAAI,GAWL27F,EAAOzjF,KAEX,QAAS0lD,EAAQ94D,MAEf,IAAK,oBACH,GAAK84D,EAAQG,SAER,CACHh1B,IACA,KAAK,GAAIplC,GAAI,EAAGA,EAAIi6D,EAAQG,SAASn6D,OAAQD,IAC3ColC,EAAI59B,KAAKswF,EAAsB79B,EAAQG,SAASp6D,GAAGs6D,SAAU09B,EAAM/9B,EAAQG,SAASp6D,GAAGk7D,iBAJzF91B,GAAMozD,EAAO,8EAOf,MAEF,KAAK,qBACH,GAAKv+B,EAAQI,WAER,CACHj1B,IACA,KAAK,GAAIplC,GAAI,EAAGA,EAAIi6D,EAAQI,WAAWp6D,OAAQD,IAC7ColC,EAAI59B,KAAKswF,EAAsB79B,EAAQI,WAAWr6D,GAAIg4F,QAJxD5yD,GAAMozD,EAAO,iFAOf,MAEF,KAAK,UAIDpzD,EAHK60B,EAAQiB,YAAcjB,EAAQK,SAG7Bw9B,EAAsB79B,EAAQK,SAAU09B,EAAM/9B,EAAQiB,YAFtDs9B,EAAO,oFAIf,MAEF,KAAK,QAAS,IAAK,aAAc,IAAK,aAAc,IAAK,kBAAmB,IAAK,UAAW,IAAK,eAC/FpzD,EAAM60B,EAAQM,YACVn1B,EAAM0yD,EAAsB79B,EAAS+9B,GACrCQ,EAAO,wEACX,MAEF,SACEpzD,EAAMozD,EAAO,mKAIjB,MAAOpzD,KA2DT,SAAUppC,EAAE4O,EAAOmsB,GAEjB/6B,EAAEoK,GAAGsyF,YAAc,SAASC,GAG1B,QAASC,GAAYpiF,EAAM9a,GAmBzB,QAASm9F,GAAWn9F,GAGlB,GAA+Bo9F,GAAsBC,EAAcC,EAC/DC,EAA2BC,EAAmBC,EAC9CC,GAAmB,EAAOC,GAAkB,CAIhD,IAFAV,EAAWj9F,EAEPslD,IAASjqB,EACXmiE,EAAoB1iF,EAAKkD,YACzBy/E,EAAqB3iF,EAAK8C,aAE1B9C,EAAKpZ,KAEDiU,SAAU,SACVF,QAAS,IAKbmoF,EAAY9iF,EAAK+iF,aAAeC,GAChCC,EAAajjF,EAAKkjF,cAElBljF,EAAK/Y,MAAM67F,GAEXt4C,EAAOhlD,EAAE,2BAA2BoB,IAAI,UAAWu8F,IAAiBl3E,OAAOjM,EAAKyJ,YAChF6tB,EAAY9xC,EAAE,gCACXoB,KACCK,MAAS67F,EAAY,KACrB57F,OAAU+7F,EAAa,OAEzBh3E,OAAOu+B,GAAM9jD,SAASsZ,OAgBnB,CAkBL,GAjBAA,EAAKpZ,IAAI,QAAS,IAElBg8F,EAAmBT,EAASiB,eAAiBC,IAC7CR,EAAmBV,EAASmB,cAAiBC,IAE7Cd,EAA4BziF,EAAK+iF,aAAeC,IAA6BF,GAAa9iF,EAAKy4C,eAAiBwqC,EAE5GR,IACFK,EAAY9iF,EAAK+iF,aAAeC,GAChCC,EAAajjF,EAAKkjF,cAClB5rD,EAAU1wC,KACRK,MAAO67F,EAAY,KACnB57F,OAAQ+7F,EAAa,SAKpBR,GAA6Be,IAAwBC,GAAgBj5C,EAAKiO,eAAiBirC,EAE9F,WADA1jF,GAAK/Y,MAAM67F,EAGbU,IAAuBC,EAEvBj5C,EAAK5jD,IAAI,QAAS,IAClBoZ,EAAK/Y,MAAM67F,GAEXxrD,EAAU/kC,KAAK,uCAAuC1L,SAASyM,MAGjEk3C,EAAK5jD,IAAI,WAAY,QAEnB68F,EADEv+F,EAAEu+F,aACWv+F,EAAEu+F,aAEFj5C,EAAK,GAAGm5C,YAEzBD,EAAgBl5C,EAAK,GAAGo5C,aACxBp5C,EAAK5jD,IAAI,WAAY,IAErBi9F,EAAiBJ,EAAeX,EAChCgB,EAAiBJ,EAAgBT,EACjCc,EAAgBD,EAAiB,EAEjCE,EAAgBH,EAAiB,EAI3BG,GAAiBD,GAWrB/jF,EAAK5C,SAAS,iBAEdklF,EAAuBH,EAAS8B,mBAAqBC,IAAwBC,IACzE7B,IACFC,EAAe6B,IACf5B,EAAe6B,KAGjBC,IACAC,IACAC,IAEIlC,IACFmC,EAAU5B,EAAoBY,EAAgBX,EAAcP,GAAc,GAC1EmC,EAAU9B,EAAoBc,EAAgBT,EAAcT,GAAc,IAG5EmC,IACAC,IACAC,IAEI1C,EAAS2C,0BACXC,IAEE5C,EAAS6C,cACXC,IAGFC,IACI/C,EAASgD,qBACXA,MAxCFnlF,EAAK3C,YAAY,iBACjBmtC,EAAK5jD,KACHuU,IAAK,EACLlU,MAAOqwC,EAAUrwC,QAAU+7F,KAE7BoC,IACAC,IACAC,IACAC,KAoCEpD,EAASqD,mBAAqBC,GAChCA,GAAuBxpF,YACrB,WAEEomF,EAAWF,IAEbA,EAASuD,wBAEDvD,EAASqD,kBAAoBC,IACvCxuE,cAAcwuE,IAGhB/C,GAAqB1iF,EAAKkD,UAAU,IAAMwhF,EAAUhC,GAAmB,GACvEC,GAAsB3iF,EAAK8C,WAAW,IAAM2hF,EAAU9B,GAAoB,GAE1E3iF,EAAKnM,QAAQ,mBAAoBmwF,GAAiBD,IAGpD,QAASO,KAEHP,IAEFzsD,EAAUrrB,OACRzmB,EAAE,kCAAkCymB,OAClCzmB,EAAE,oCACFA,EAAE,4BAA4BymB,OAC5BzmB,EAAE,2BAA2BymB,OAC3BzmB,EAAE,8BACFA,EAAE,mCAGNA,EAAE,yCAINmgG,GAAcruD,EAAU/kC,KAAK,oBAC7BqzF,GAAgBD,GAAYpzF,KAAK,cACjCszF,EAAeD,GAAcrzF,KAAK,aAE9B4vF,EAAS2D,aACXC,GAAUvgG,EAAE,qCAAqC0f,KAC/C,gBAAiB8gF,EAAe,GAAG,IACnC9gF,KAAK,YAAa+gF,GACpBC,GAAY1gG,EAAE,uCAAuC0f,KACnD,gBAAiB8gF,EAAe,EAAG,IACnC9gF,KAAK,YAAa+gF,GAChB9D,EAASgE,qBACXJ,GAAQ7gF,KAAK,gBAAiB8gF,EAAe,GAAG,EAAID,KACpDG,GAAUhhF,KAAK,gBAAiB8gF,EAAe,EAAG,EAAGE,MAGvDE,EAAaR,GAAezD,EAASkE,uBAAwBN,GAASG,KAGxEI,GAAsBrD,EACtB3rD,EAAU/kC,KAAK,+DAA+DzK,KAC5E,WAEEw+F,IAAuB9gG,EAAEH,MAAMozD,gBAKnCotC,EAAajmF,MACX,WAEEimF,EAAazoF,SAAS,aAExB,WAEEyoF,EAAaxoF,YAAY,cAE3B6H,KACA,gBACA,SAASve,GAGPnB,EAAE,QAAQ0f,KAAK,gCAAiC+gF,GAEhDJ,EAAazoF,SAAS,YAEtB,IAAImpF,GAAS5/F,EAAEqc,MAAQ6iF,EAAa3qF,WAAWC,GAS/C,OAPA3V,GAAE,QAAQ0f,KACR,gBACA,SAASve,GAEP6/F,EAAc7/F,EAAEqc,MAAQujF,GAAQ,KAElCrhF,KAAK,6BAA8BuhF,IAC9B,IAGXC,KAIJ,QAASA,KAEPd,GAAc1+F,OAAOo/F,GAAsB,MAC3CpC,GAAuB,EACvByC,GAAiBxE,EAASyE,eAAiBhB,GAAcptC,aAGzDhO,EAAKvjD,MAAM67F,EAAY6D,GAAiB3D,GAIxC,KACsC,IAAhC2C,GAAYzqF,WAAW4T,MACzB07B,EAAK5jD,IAAI,cAAe+/F,GAAiB,MAE3C,MAAO9/B,KAIX,QAAS09B,KAEHP,IAEF1sD,EAAUrrB,OACRzmB,EAAE,oCAAoCymB,OACpCzmB,EAAE,qCACFA,EAAE,4BAA4BymB,OAC5BzmB,EAAE,2BAA2BymB,OAC3BzmB,EAAE,+BACFA,EAAE,kCAGNA,EAAE,wCAINqhG,GAAgBvvD,EAAU/kC,KAAK,sBAC/Bu0F,GAAkBD,GAAct0F,KAAK,cACrCw0F,GAAiBD,GAAgBv0F,KAAK,aAElC4vF,EAAS2D,aACXkB,GAAYxhG,EAAE,uCAAuC0f,KACnD,gBAAiB8gF,GAAe,EAAI,IACpC9gF,KAAK,YAAa+gF,GACpBgB,GAAazhG,EAAE,wCAAwC0f,KACrD,gBAAiB8gF,EAAe,EAAG,IACnC9gF,KAAK,YAAa+gF,GAChB9D,EAASgE,qBACXa,GAAU9hF,KAAK,gBAAiB8gF,GAAe,EAAI,EAAGgB,KACtDC,GAAW/hF,KAAK,gBAAiB8gF,EAAe,EAAG,EAAGiB,MAExDb,EAAaU,GAAiB3E,EAAS+E,yBAA0BF,GAAWC,KAG9EF,GAAennF,MACb,WAEEmnF,GAAe3pF,SAAS,aAE1B,WAEE2pF,GAAe1pF,YAAY,cAE7B6H,KACA,gBACA,SAASve,GAGPnB,EAAE,QAAQ0f,KAAK,gCAAiC+gF,GAEhDc,GAAe3pF,SAAS,YAExB,IAAI+pF,GAASxgG,EAAEic,MAAQmkF,GAAe7rF,WAAW4T,IASjD,OAPAtpB,GAAE,QAAQ0f,KACR,gBACA,SAASve,GAEPygG,EAAczgG,EAAEic,MAAQukF,GAAQ,KAElCjiF,KAAK,6BAA8BuhF,IAC9B,IAGXY,GAAuB/vD,EAAUyrD,aACjCuE,KAIJ,QAASA,KAEPhwD,EAAU/kC,KAAK,mEAAmEzK,KAChF,WAEEu/F,IAAwB7hG,EAAEH,MAAMmzD,eAIpCsuC,GAAgB7/F,MAAMogG,GAAuB,MAC7ClD,GAAyB,EAG3B,QAASK,KAEP,GAAIR,GAAiBD,EAAe,CAClC,GAAIwD,GAAwBT,GAAgBruC,cAC1C+uC,EAAqB5B,GAAcptC,YACrC8tC,KAAuBiB,EACvB/hG,EAAEqhG,IAAet0F,KAAK,+BAA+BzK,KACnD,WAEEu/F,IAAwB7hG,EAAEH,MAAMmzD,eAGpC6uC,IAAwBG,EACxBvE,GAAcuE,EACd1E,GAAayE,EACbT,GAAgBp/E,SAASuE,OACvBzmB,EAAE,6BAA6BoB,IAAI,QAAS2gG,EAAwB,OAEtEb,IACAY,IAGEtD,GACFx5C,EAAKvjD,MAAOqwC,EAAUkhB,aAAewqC,GAA6B,MAEpEU,EAAgBl5C,EAAKiO,cACrBqrC,EAAiBJ,EAAgBT,EAE7Be,IACFyD,GAAsBpyF,KAAKkmB,KAAK,EAAIsoE,EAAiBwD,IACjDI,GAAsBtF,EAASuF,uBACjCD,GAAsBtF,EAASuF,uBACtBD,GAAsBtF,EAASwF,yBACxCF,GAAsBtF,EAASwF,wBAEjCZ,GAAe9/F,MAAMwgG,GAAsB,MAC3CG,GAAWP,GAAuBI,GAClCI,EAAe1D,KAEbJ,IACF+D,GAAqBzyF,KAAKkmB,KAAK,EAAIuoE,EAAiBwC,IAChDwB,GAAqB3F,EAAS4F,sBAChCD,GAAqB3F,EAAS4F,sBACrBD,GAAqB3F,EAAS6F,wBACvCF,GAAqB3F,EAAS6F,uBAEhCnC,EAAa3+F,OAAO4gG,GAAqB,MACzCG,EAAW3B,GAAsBwB,GACjCI,EAAehE,KAInB,QAASkC,GAAa+B,EAAK7+F,EAAG8+F,EAAIC,GAEhC,GAAiCC,GAA7BvqC,EAAK,SAAUC,EAAK,OAIf,OAAL10D,IACFA,EAAI,MAAMgB,KAAK6E,UAAUo5F,UAAY,QAAU,SAE7Cj/F,GAAKy0D,EACPC,EAAK10D,EACIA,GAAK00D,IACdD,EAAKz0D,EACLg/F,EAAQF,EACRA,EAAKC,EACLA,EAAKC,GAGPH,EAAIpqC,GAAIqqC,GAAIpqC,GAAIqqC,GAGlB,QAASrC,GAAewC,EAAMC,EAAMN,GAElC,MAAO,YAIL,MAFAO,GAAYF,EAAMC,EAAMpjG,KAAM8iG,GAC9B9iG,KAAKse,QACE,GAIX,QAAS+kF,GAAYF,EAAMC,EAAME,EAAOR,GAEtCQ,EAAQnjG,EAAEmjG,GAAOvrF,SAAS,YAE1B,IAAIwrF,GACFC,EACAC,GAAU,EACVv5F,EAAW,WAEI,IAATi5F,GACFO,GAAIC,UAAUR,EAAOrG,EAAS8G,kBAEnB,IAATR,GACFM,GAAIG,UAAUT,EAAOtG,EAAS8G,kBAEhCJ,EAAgBvgG,WAAWiH,EAAUu5F,EAAU3G,EAASgH,aAAehH,EAASiH,iBAChFN,GAAU,EAGdv5F,KAEAq5F,EAAMT,EAAM,eAAiB,cAC7BA,EAAMA,GAAO3iG,EAAE,QACf2iG,EAAIjjF,KACF0jF,EACA,WAEED,EAAMtrF,YAAY,aAClBwrF,GAAiB/rF,aAAa+rF,GAC9BA,EAAgB,KAChBV,EAAIhjF,OAAOyjF,KAKjB,QAAS3D,KAEPM,IACIxB,GACF6B,GAAc1gF,KACZ,gBACA,SAASve,GAEP,GAAIA,EAAE0iG,iBAAmB9oE,GAAa55B,EAAE0iG,gBAAkB1iG,EAAEob,cAAe,CACzE,GAGE8mF,GAHES,EAAe9jG,EAAEH,MACnB6Y,EAASorF,EAAaprF,SACtBwsD,EAAY/jE,EAAEqc,MAAQ9E,EAAO/C,IAAM+oF,GAEnC4E,GAAU,EACVv5F,EAAW,WAET,GAAI2O,GAASorF,EAAaprF,SACxB0Y,EAAMjwB,EAAEqc,MAAQ9E,EAAO/C,IAAM2sF,GAAqB,EAClDyB,EAAetG,EAAad,EAASqH,kBACrCC,EAAQxB,EAAWsB,GAAgB7F,EAAgBT,EACrD,IAAIv4B,EAAY,EACVw5B,GAAuBuF,EAAQ7yE,EACjCmyE,GAAIG,WAAWK,GAEf/C,EAAc5vE,OAEX,CAAA,KAAI8zC,EAAY,GAQrB,WADAg/B,IANIxF,IAAuBuF,EAAQ7yE,EACjCmyE,GAAIG,UAAUK,GAEd/C,EAAc5vE,GAMlBiyE,EAAgBvgG,WAAWiH,EAAUu5F,EAAU3G,EAASgH,aAAehH,EAASwH,sBAChFb,GAAU,GAEZY,EAAc,WAEZb,GAAiB/rF,aAAa+rF,GAC9BA,EAAgB,KAChBrjG,EAAE+B,UAAU4d,OAAO,cAAeukF,GAItC,OAFAn6F,KACA/J,EAAE+B,UAAU2d,KAAK,cAAewkF,IACzB,KAMX1F,GACF8C,GAAgB5hF,KACd,gBACA,SAASve,GAEP,GAAIA,EAAE0iG,iBAAmB9oE,GAAa55B,EAAE0iG,gBAAkB1iG,EAAEob,cAAe,CACzE,GAGE8mF,GAHES,EAAe9jG,EAAEH,MACnB6Y,EAASorF,EAAaprF,SACtBwsD,EAAY/jE,EAAEic,MAAQ1E,EAAO4Q,KAAOq1E,GAEpC2E,GAAU,EACVv5F,EAAW,WAET,GAAI2O,GAASorF,EAAaprF,SACxB0Y,EAAMjwB,EAAEic,MAAQ1E,EAAO4Q,KAAO24E,GAAsB,EACpDmC,EAAe9G,EAAYX,EAASqH,kBACpCK,EAAQjC,GAAWgC,GAAgBnG,EAAeX,EACpD,IAAIp4B,EAAY,EACVy5B,GAAyB0F,EAAQjzE,EACnCmyE,GAAIC,WAAWY,GAEfxC,EAAcxwE,OAEX,CAAA,KAAI8zC,EAAY,GAQrB,WADAg/B,IANIvF,IAAyB0F,EAAQjzE,EACnCmyE,GAAIC,UAAUY,GAEdxC,EAAcxwE,GAMlBiyE,EAAgBvgG,WAAWiH,EAAUu5F,EAAU3G,EAASgH,aAAehH,EAASwH,sBAChFb,GAAU,GAEZY,EAAc,WAEZb,GAAiB/rF,aAAa+rF,GAC9BA,EAAgB,KAChBrjG,EAAE+B,UAAU4d,OAAO,cAAeukF,GAItC,OAFAn6F,KACA/J,EAAE+B,UAAU2d,KAAK,cAAewkF,IACzB,KAOjB,QAASnE,KAEHuB,IACFA,GAAgB3hF,OAAO,iBAErBygF,IACFA,GAAczgF,OAAO,iBAIzB,QAASshF,KAEPjhG,EAAE,QAAQ2f,OAAO,0EAEb0gF,GACFA,EAAaxoF,YAAY,aAEvB0pF,IACFA,GAAe1pF,YAAY,aAI/B,QAASmpF,GAAcsD,EAAOj1E,GAEvBkvE,IAGD+F,EAAQ,EACVA,EAAQ,EACCA,EAAQ7B,IACjB6B,EAAQ7B,GAINpzE,IAAY0L,IACd1L,EAAUstE,EAAS4H,eAEjBl1E,EACFk0E,GAAIl0E,QAAQgxE,EAAc,MAAOiE,EAAO5B,IAExCrC,EAAaj/F,IAAI,MAAOkjG,GACxB5B,EAAe4B,KAKnB,QAAS5B,GAAe4B,GAElBA,IAAUvpE,IACZupE,EAAQjE,EAAa3qF,WAAWC,KAGlCm8B,EAAUp0B,UAAU,GACpBghF,GAAuB4F,CAEvB,IAAIE,GAAmC,IAAzB9F,GACZ+F,EAAa/F,IAAwB+D,EACrCiC,EAAkBJ,EAAO7B,EACzBkC,GAAWD,GAAmBxG,EAAgBT,EAE5CmH,KAAYJ,GAAWK,IAAeJ,IACxCG,GAAWJ,EACXK,GAAcJ,EACdjqF,EAAKnM,QAAQ,oBAAqBu2F,GAAUC,GAAaC,GAAWC,MAGtEC,EAAqBR,EAASC,GAC9Bz/C,EAAK5jD,IAAI,MAAOujG,GAChBnqF,EAAKnM,QAAQ,iBAAkBs2F,EAASH,EAASC,IAAap2F,QAAQ,UAGxE,QAASuzF,GAAcqD,EAAO51E,GAEvBmvE,IAGDyG,EAAQ,EACVA,EAAQ,EACCA,EAAQ7C,KACjB6C,EAAQ7C,IAGN/yE,IAAY0L,IACd1L,EAAUstE,EAAS4H,eAEjBl1E,EACFk0E,GAAIl0E,QAAQkyE,GAAgB,OAAQ0D,EAAQ5C,IAE5Cd,GAAengG,IAAI,OAAQ6jG,GAC3B5C,EAAe4C,KAInB,QAAS5C,GAAe4C,GAElBA,IAAUlqE,IACZkqE,EAAQ1D,GAAe7rF,WAAW4T,MAGpCwoB,EAAUp0B,UAAU,GACpBihF,GAAyBsG,CAEzB,IAAIC,GAAsC,IAA3BvG,GACbwG,EAAYxG,IAA0ByD,GACtCsC,EAAkBO,EAAQ7C,GAC1BgD,GAAYV,GAAmBzG,EAAeX,EAE5CwH,KAAaI,GAAYH,IAAcI,IACzCL,GAAYI,EACZH,GAAaI,EACb3qF,EAAKnM,QAAQ,oBAAqBu2F,GAAUC,GAAaC,GAAWC,MAGtEM,EAAuBH,EAAUC,GACjCngD,EAAK5jD,IAAI,OAAQgkG,GACjB5qF,EAAKnM,QAAQ,iBAAkB+2F,EAAUF,EAAUC,IAAY92F,QAAQ,UAGzE,QAAS22F,GAAqBR,EAASC,GAEjC9H,EAAS2D,aACXC,GAAQiE,EAAU,WAAa,eAAe,eAC9C9D,GAAU+D,EAAa,WAAa,eAAe,gBAIvD,QAASY,GAAuBH,EAAUC,GAEpCxI,EAAS2D,aACXkB,GAAU0D,EAAW,WAAa,eAAe,eACjDzD,GAAW0D,EAAY,WAAa,eAAe,gBAIvD,QAASjG,GAAUoF,EAAOj1E,GAExB,GAAIq1E,GAAkBJ,GAASpG,EAAgBT,EAC/CuD,GAAc0D,EAAkBjC,EAAUpzE,GAG5C,QAAS4vE,GAAUgG,EAAO51E,GAExB,GAAIq1E,GAAkBO,GAAShH,EAAeX,EAC9CsE,GAAc8C,EAAkBtC,GAAU/yE,GAG5C,QAASi2E,GAAgB3C,EAAK4C,EAAYl2E,GAExC,GAAIluB,GAAGqkG,EAAWC,EAAmCC,EAAaC,EAAcC,EAAkBC,EAAmBvB,EAAOW,EAAhGa,EAAS,EAAGC,EAAU,CAIlD,KACE5kG,EAAInB,EAAE2iG,GACN,MAAOthC,GACP,OAWF,IATAmkC,EAAYrkG,EAAE8xD,cACdwyC,EAAUtkG,EAAE6xD,aAEZlhB,EAAUp0B,UAAU,GACpBo0B,EAAUx0B,WAAW,IAKbnc,EAAEkb,GAAG,aAIX,GAHAypF,GAAU3kG,EAAEuU,WAAWC,IACvBowF,GAAW5kG,EAAEuU,WAAW4T,KACxBnoB,EAAIA,EAAEgxB,eACF,eAAertB,KAAK3D,EAAE,GAAGyF,UAE3B,MAIJ8+F,GAAc7G,IACd+G,EAAmBF,EAAcjI,EAC7BqI,EAASJ,GAAeH,EAC1BjB,EAAQwB,EAASnJ,EAASyE,eACjB0E,EAASN,EAAYI,IAC9BtB,EAAQwB,EAASrI,EAAa+H,EAAY7I,EAASyE,gBAEjDkD,GACFpF,EAAUoF,EAAOj1E,GAGnBs2E,EAAe/G,IACTiH,EAAoBF,EAAerI,EAC/ByI,EAAUJ,GAAgBJ,EAC1BN,EAAQc,EAAUpJ,EAASqJ,iBACpBD,EAAUN,EAAWI,IAC5BZ,EAAQc,EAAUzI,EAAYmI,EAAW9I,EAASqJ,kBAElDf,GACAhG,EAAUgG,EAAO51E,GAK7B,QAASuvE,KAEP,OAAQ55C,EAAKtvC,WAAW4T,KAG1B,QAASu1E,KAEP,OAAQ75C,EAAKtvC,WAAWC,IAG1B,QAASkoF,KAEP,GAAIoI,GAAmB/H,EAAgBT,CACvC,OAAQwI,GAAmB,IAAQA,EAAmBpH,IAAqB,GAG7E,QAASd,KAEP,GAAImI,GAAkBjI,EAAeX,CACrC,OAAQ4I,GAAkB,IAAQA,EAAkBtH,IAAqB,GAG3E,QAASQ,KAEPttD,EAAUnyB,OAAOwmF,IAASzmF,KACxBymF,GACA,SAAUh+F,EAAO2xC,EAAOssD,EAAQC,GAC9B,GAAIC,GAAK3H,GAAwB4H,EAAK7H,EAGtC,OAFA6E,IAAIiD,SAASJ,EAASzJ,EAAS8J,iBAAkBJ,EAAS1J,EAAS8J,iBAAiB,GAE7EH,GAAM3H,IAA0B4H,GAAM7H,KAKnD,QAASkB,KAEP9tD,EAAUnyB,OAAOwmF,IAGnB,QAAS1F,KAEP,OAAO,EAGT,QAAStB,KAEPn6C,EAAKj4C,KAAK,YAAY4S,OAAO,aAAaD,KACxC,YACA,SAASve,GAEPmkG,EAAgBnkG,EAAEya,QAAQ,KAKhC,QAASikF,KAEP76C,EAAKj4C,KAAK,YAAY4S,OAAO,aAG/B,QAAS4/E,KAuEP,QAASmH,KAEP,GAAIJ,GAAK3H,GAAwB4H,EAAK7H,EACtC,QAAOiI,GACL,IAAK,IACHpD,GAAIG,UAAU/G,EAASiK,eAAe,EACtC,MACF,KAAK,IACHrD,GAAIG,WAAW/G,EAASiK,eAAe,EACvC,MACF,KAAK,IACL,IAAK,IACHrD,GAAIG,UAAUjG,EAAad,EAASqH,mBAAmB,EACvD,MACF,KAAK,IACHT,GAAIG,WAAWjG,EAAad,EAASqH,mBAAmB,EACxD,MACF,KAAK,IACHT,GAAIC,UAAU7G,EAASiK,eAAe,EACtC,MACF,KAAK,IACHrD,GAAIC,WAAW7G,EAASiK,eAAe,GAK3C,MADAC,GAAqBP,GAAM3H,IAA0B4H,GAAM7H,GA9F7D,GAAIiI,GAASE,EAAoBC,IACjCtI,IAAiBsI,EAAat7F,KAAK61F,GAAc,IACjD9C,GAAiBuI,EAAat7F,KAAK20F,GAAY,IAG/Cn7C,EAAK9mC,MACH,WAEE1D,EAAK0D,UAIT1D,EAAKlO,KAAK,WAAY,GACnBqT,OAAO,4BACPD,KACC,cACA,SAASve,GAEP,GAAIA,EAAEya,SAAW/b,MAAUinG,EAAa7iG,QAAUjE,EAAEmB,EAAEya,QAAQ0I,QAAQwiF,GAAc7iG,OAApF,CAGA,GAAIqiG,GAAK3H,GAAwB4H,EAAK7H,EACtC,QAAOv9F,EAAE8b,SACP,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACH0pF,EAAUxlG,EAAE8b,QACZypF,GACA,MACF,KAAK,IACHxH,EAAUhB,EAAgBT,GAC1BkJ,EAAU,IACV,MACF,KAAK,IACHzH,EAAU,GACVyH,EAAU,KAKd,MADAE,GAAqB1lG,EAAE8b,SAAW0pF,GAAWL,GAAM3H,IAA0B4H,GAAM7H,IAC3EmI,KAEVnnF,KACA,eACA,SAASve,GAKP,MAHIA,GAAE8b,SAAW0pF,GACfD,KAEMG,IAIVlK,EAASoK,WACXvsF,EAAKpZ,IAAI,UAAW,QAChB,aAAe0wC,GAAU,IAC3Bt3B,EAAKlO,KAAK,aAAa,KAGzBkO,EAAKpZ,IAAI,UAAW,IAChB,aAAe0wC,GAAU,IAC3Bt3B,EAAKlO,KAAK,aAAa,IAkC7B,QAASwzF,KAEPtlF,EAAKlO,KAAK,WAAY,MACnBkL,WAAW,YACXmI,OAAO,4BAGZ,QAAS+/E,KAEP,GAAI91F,SAASu4B,MAAQv4B,SAASu4B,KAAKl+B,OAAS,EAAG,CAC7C,GAAI9C,GACF6lG,EACA7kE,EAAOvK,OAAOhuB,SAASu4B,KAAKt8B,OAAO,GAErC,KACE1E,EAAInB,EAAE,IAAMmiC,EAAO,aAAeA,EAAO,MACzC,MAAOk/B,GACP,OAGElgE,EAAE8C,QAAU+gD,EAAKj4C,KAAKo1B,KAGM,IAA1B2P,EAAUp0B,YACZspF,EAAWvwF,YACT,WAEMq7B,EAAUp0B,YAAc,IAC1B4nF,EAAgBnkG,GAAG,GACnBnB,EAAE+B,UAAU2b,UAAUo0B,EAAUp8B,WAAWC,KAC3C8b,cAAcu1E,KAGlB,KAGF1B,EAAgBnkG,GAAG,GACnBnB,EAAE+B,UAAU2b,UAAUo0B,EAAUp8B,WAAWC,QAMnD,QAASgqF,KAGH3/F,EAAE+B,SAASf,MAAMqH,KAAK,eAK1BrI,EAAE+B,SAASf,MAAMqH,KAAK,aAAa,GAGnCrI,EAAE+B,SAASf,MAAM8e,SAAS,aAAc,QAAS,SAAS3X,GAIxD,GAEEg6B,GACAwB,EACAmO,EACAyxD,EACA7lF,EACAupF,EAPErtF,EAAO/Z,KAAK+Z,KAAK/T,OAAO,EAAGhG,KAAK+Z,KAAK9N,QAAQ,MAC/Co7F,EAAet9F,SAASgQ,IAU1B,IAHIhQ,SAASgQ,KAAK9N,QAAQ,QAAS,IACjCo7F,EAAet9F,SAASgQ,KAAK/T,OAAO,EAAG+D,SAASgQ,KAAK9N,QAAQ,OAE3D8N,IAASstF,EAAb,CAMA/kE,EAAOvK,OAAO/3B,KAAK+Z,KAAK/T,OAAOhG,KAAK+Z,KAAK9N,QAAQ,KAAO,GAIxD,KACE63B,EAAU3jC,EAAE,IAAMmiC,EAAO,aAAeA,EAAO,MAC/C,MAAOhhC,GAEP,OAGGwiC,EAAQ1/B,SAKb6tC,EAAYnO,EAAQrf,QAAQ,kBAC5Bi/E,EAAMzxD,EAAUzpC,KAAK,OAIrBk7F,EAAI+B,gBAAgB3hE,GAAS,GAEzBmO,EAAU,GAAGq1D,iBAEfzpF,EAAY1d,EAAE4O,GAAQ8O,YACtBupF,EAAatjE,EAAQjrB,SAAS/C,KAC1BsxF,EAAavpF,GAAaupF,EAAavpF,EAAY1d,EAAE4O,GAAQlN,WAC/DowC,EAAU,GAAGq1D,kBAKjBh/F,EAAM4T,sBAKV,QAASsjF,KAEP,GAAIsC,GACFZ,EACAqG,EACAC,EACA7lD,EACA8lD,GAAS,CAEXx1D,GAAUnyB,OAAO,kEAAkED,KACjF,iBACA,SAASve,GAEP,GAAIotC,GAAQptC,EAAEqd,cAAc8jD,QAAQ,EACpCq/B,GAAS/C,IACTmC,EAASlC,IACTuI,EAAc74D,EAAMnxB,MACpBiqF,EAAc94D,EAAM/wB,MACpBgkC,GAAQ,EACR8lD,GAAS,IAEX5nF,KACA,gBACA,SAASg5E,GAEP,GAAI4O,EAAJ,CAIA,GAAIC,GAAW7O,EAAGl6E,cAAc8jD,QAAQ,GACtCgkC,EAAK3H,GAAwB4H,EAAK7H,EAOpC,OALA6E,IAAI7wE,SAASivE,EAASyF,EAAcG,EAASnqF,MAAO2jF,EAASsG,EAAcE,EAAS/pF,OAEpFgkC,EAAQA,GAAS3xC,KAAKkgC,IAAIq3D,EAAcG,EAASnqF,OAAS,GAAKvN,KAAKkgC,IAAIs3D,EAAcE,EAAS/pF,OAAS,EAGjG8oF,GAAM3H,IAA0B4H,GAAM7H,MAE/Ch/E,KACA,eACA,SAASve,GAEPmmG,GAAS,IAKX5nF,KACA,uBACA,SAASve,GAEP,GAAGqgD,EAED,MADAA,IAAQ,GACD,IAMf,QAASxjB,KACP,GAAIwpE,GAAW3I,IACb4I,EAAW7I,GACbpkF,GAAK3C,YAAY,iBAAiB8H,OAAO,QACzCnF,EAAKuM,YAAY2gF,GAAgBjhF,OAAOu+B,EAAK/gC,aAC7CyjF,GAAgBhqF,UAAU8pF,GAC1BE,GAAgBpqF,WAAWmqF,GAGvBxH,IACFxuE,cAAcwuE,IAnmClB,GAAItD,GAAsB33C,EAAMs4C,EAAWG,EAAY3rD,EAAWmsD,EAAcC,EAC9EG,EAAgBC,EAAgBC,EAAeC,EAAe6B,EAAcoC,EAC5E/D,GAAsB6C,GAAgBa,GAAUzD,GAChDwB,GAAaC,GAAee,GAAgBL,GAAqBwB,GAAoB/B,GAASG,GAC9FW,GAAeC,GAAiBO,GAAsBI,GAAqBT,GAAWC,GACtFxB,GAAsBtC,GAAiBH,GAA2BQ,GALtDuF,GAAM1jG,KAMlB+kG,IAAW,EAAME,IAAY,EAAMD,IAAc,EAAOE,IAAa,EACrE2C,GAAkBltF,EAAK/N,OAAM,GAAO,GAAO0E,QAC3Cg1F,GAAUnmG,EAAEoK,GAAGu9F,aAAe,mBAAqB,gBAErDhK,IAAkBnjF,EAAKpZ,IAAI,cAAgB,IACjCoZ,EAAKpZ,IAAI,gBAAkB,IAC3BoZ,EAAKpZ,IAAI,iBAAmB,IAC5BoZ,EAAKpZ,IAAI,eACnBo8F,IAA6BvoF,SAASuF,EAAKpZ,IAAI,eAAgB,KAAO,IACvD6T,SAASuF,EAAKpZ,IAAI,gBAAiB,KAAO,GAylCzDpB,EAAEuF,OACAg+F,IAMEqE,aAAc,SAASloG,GAErBA,EAAIM,EAAEuF,UAAWo3F,EAAUj9F,GAC3Bm9F,EAAWn9F,IAOb4lG,gBAAiB,SAAS3C,EAAK4C,EAAYl2E,GAEzCi2E,EAAgB3C,EAAK4C,EAAYl2E,IAKnCqD,SAAU,SAASuyE,EAAOX,EAAOj1E,GAE/B4vE,EAAUgG,EAAO51E,GACjB6vE,EAAUoF,EAAOj1E,IAKnB4vE,UAAW,SAASgG,EAAO51E,GAEzB4vE,EAAUgG,EAAO51E,IAKnB6vE,UAAW,SAASoF,EAAOj1E,GAEzB6vE,EAAUoF,EAAOj1E,IAKnBw4E,iBAAkB,SAASC,EAAcz4E,GAEvC4vE,EAAU6I,GAAgB7J,EAAeX,GAAYjuE,IAKvD04E,iBAAkB,SAASC,EAAc34E,GAEvC6vE,EAAU8I,GAAgB9J,EAAgBT,GAAapuE,IAIzDm3E,SAAU,SAASJ,EAAQC,EAAQh3E,GAEjCk0E,GAAIC,UAAU4C,EAAQ/2E,GACtBk0E,GAAIG,UAAU2C,EAAQh3E,IAIxBm0E,UAAW,SAAS4C,EAAQ/2E,GAE1B,GAAI41E,GAAQrG,IAAqB/uF,KAAKu2F,EAAO,EAAI,QAAU,QAAQA,GACjE1B,EAAkBO,GAAShH,EAAeX,EAC5CsE,GAAc8C,EAAkBtC,GAAU/yE,IAI5Cq0E,UAAW,SAAS2C,EAAQh3E,GAE1B,GAAIi1E,GAAQzF,IAAqBhvF,KAAKw2F,EAAO,EAAI,QAAU,QAAQA,GACjE3B,EAAkBJ,GAASpG,EAAgBT,EAC7CuD,GAAc0D,EAAkBjC,EAAUpzE,IAK5CuyE,cAAe,SAASh3F,EAAGykB,GAEzBuyE,EAAch3F,EAAGykB,IAKnB2xE,cAAe,SAASl2F,EAAGukB,GAEzB2xE,EAAcl2F,EAAGukB,IASnBA,QAAS,SAASszE,EAAKlrF,EAAM9P,EAAOsgG,GAElC,GAAI5jE,KACJA,GAAO5sB,GAAQ9P,EACfg7F,EAAItzE,QACFgV,GAEE5T,SAAcksE,EAASuL,gBACvBv4E,OAAYgtE,EAASwL,YACrBnxF,OAAY,EACZia,KAAYg3E,KAKlBG,oBAAqB,WAEnB,MAAOxJ,MAGTyJ,oBAAqB,WAEnB,MAAOxJ,MAGTyJ,gBAAiB,WAEf,MAAOrK,IAGTsK,iBAAkB,WAEhB,MAAOrK,IAGTsK,oBAAqB,WAEnB,MAAO5J,MAAsBX,EAAeX,IAG9CmL,oBAAqB,WAEnB,MAAO5J,MAAsBX,EAAgBT,IAG/CiL,iBAAkB,WAEhB,MAAOlK,IAGTmK,iBAAkB,WAEhB,MAAOpK,IAMTqK,eAAgB,WAEd,MAAO5jD,IAIT6jD,eAAgB,SAASx5E,GAEvB2xE,EAAcyB,EAAUpzE,IAK1BswE,oBAAqB3/F,EAAEwP,KAGvBwuB,QAAS,WAELA,OAKR6+D,EAAWn9F,GAWb,MAPAi9F,GAAW38F,EAAEuF,UAAWvF,EAAEoK,GAAGsyF,YAAY7lE,SAAU8lE,GAGnD38F,EAAEsC,MAAM,kBAAmB,mBAAoB,kBAAmB,iBAAkB,WAClFq6F,EAAS98F,MAAQ88F,EAAS98F,OAAS88F,EAAS3sE,QAGvCnwB,KAAKyC,KACV,WAEE,GAAIkY,GAAOxa,EAAEH,MAAOipG,EAAStuF,EAAKnS,KAAK,MACnCygG,GACFA,EAAOlB,aAAajL,IAEpB38F,EAAE,SAASwa,GAAMzR,OAAO,yCAAyC1H,SACjEynG,EAAS,GAAIlM,GAAYpiF,EAAMmiF,GAC/BniF,EAAKnS,KAAK,MAAOygG,OAMzB9oG,EAAEoK,GAAGsyF,YAAY7lE,UACfypE,YAAsB,EACtB7B,kBAAwB,EACxBb,eAAsB,EACtBE,cAAsB,EACtB0B,cAAsB,EACtBQ,kBAAwB,EACxBE,sBAA0B,IAC1BsC,sBAA0B,EAC1BD,sBAA0B,MAC1BJ,uBAA4B,EAC5BD,uBAA4B,MAC5BjE,aAAsBljE,EACtBwpE,eAAsB,EACtB2D,gBAAwB,IACxBC,YAAsB,SACtBxI,qBAA0B,EAC1ByB,eAAwB,EACxB4E,iBAAwB,EACxBS,gBAAwB,EACxBhD,iBAAwB,EACxBG,gBAAwB,GACxBjD,oBAA0B,EAC1BoI,gBAAwB,EACxB5E,qBAA0B,GAC1BtD,uBAA4B,QAC5Ba,yBAA4B,QAC5BpC,0BAA4B,EAC5ByH,WAAoB,EACpBH,cAAsB,EACtBjD,aAA8B,IAC9B3zE,MAAkB,GAClBg0E,kBAAwB,KAGzBjkG,OAAOF,MAaV,SAAUG,GA2CV,QAASqa,GAAQlS,GACb,GAAI6gG,GAAW7gG,GAASyG,OAAOzG,MAAO8zB,KAAUv5B,MAAMmG,KAAM8E,UAAW,GAAKmsC,EAAQ,EAAuBssD,EAAS,EAAGC,EAAS,CAwBhI,OAvBAl+F,GAAQnI,EAAEmI,MAAM+T,IAAI8sF,GACpB7gG,EAAMhD,KAAO,aAGR6jG,EAAShoC,aAAelnB,EAAQkvD,EAAShoC,WAAW,KACpDgoC,EAAS/nC,SAAennB,GAASkvD,EAAS/nC,OAAO,GAGtDolC,EAASvsD,EAGc/e,SAAlBiuE,EAASC,MAAsBD,EAASC,OAASD,EAASE,kBAC3D7C,EAAS,EACTD,GAAS,EAAGtsD,GAIc/e,SAAzBiuE,EAASG,cAA8B9C,EAAS2C,EAASG,YAAY,KAC5CpuE,SAAzBiuE,EAASI,cAA8BhD,GAAS,EAAG4C,EAASI,YAAY,KAG7EntE,EAAKl3B,QAAQoD,EAAO2xC,EAAOssD,EAAQC,IAE3BrmG,EAAEmI,MAAMoS,UAAYva,EAAEmI,MAAMD,QAAQzF,MAAM5C,KAAMo8B,GAlE5D,GAAI+P,IAAS,iBAAkB,aAE/B,IAAIhsC,EAAEmI,MAAM0U,SACR,IAAM,GAAI7Y,GAAEgoC,EAAM/nC,OAAQD,GACtBhE,EAAEmI,MAAM0U,SAAUmvB,IAAQhoC,IAAOhE,EAAEmI,MAAM+U,UAIjDld,GAAEmI,MAAMgS,QAAQi8D,YACZr7D,MAAO,WACH,GAAKlb,KAAK4O,iBACN,IAAM,GAAIzK,GAAEgoC,EAAM/nC,OAAQD,GACtBnE,KAAK4O,iBAAkBu9B,IAAQhoC,GAAIqW,GAAS,OAGhDxa,MAAKwpG,aAAehvF,GAI5BY,SAAU,WACN,GAAKpb,KAAK8Q,oBACN,IAAM,GAAI3M,GAAEgoC,EAAM/nC,OAAQD,GACtBnE,KAAK8Q,oBAAqBq7B,IAAQhoC,GAAIqW,GAAS,OAGnDxa,MAAKwpG,aAAe,OAKhCrpG,EAAEoK,GAAG7E,QACD6wE,WAAY,SAAShsE,GACjB,MAAOA,GAAKvK,KAAK6f,KAAK,aAActV,GAAMvK,KAAKwO,QAAQ,eAG3Di7F,aAAc,SAASl/F,GACnB,MAAOvK,MAAK8f,OAAO,aAAcvV,OAiCtCrK,QAIH,SAAUC,GAYV,QAASupG,KACJ1pG,OAAS2pG,EAAQhvF,OAClBgvF,EAAQp4E,MAAO,KAAM,KACrBo4E,EAAQhvF,MAAO,EACfivF,EAAS,GAdb,GAOEC,GAAWC,EAPTH,GACEp4E,MAAM,KAAM,MAEhBq4E,EAAU,EACV17D,EAAQhsC,SACRnC,EAAQmuC,EAAIjkC,gBACZ9I,EAAQ+sC,EAAI/sC,IAYdhB,GAAEmI,MAAMgS,QAAQwtF,cACd5sF,MAAO,WACL,GAAI6uF,GAAO5pG,EAAEH,MAAM6f,KAAK,aAAc1f,EAAEmI,MAAMgS,QAAQwtF,aAAattF,QAK/D,OAJAxa,QAASkuC,GAAOluC,OAASD,GAAQC,OAASmB,GAC5C4oG,EAAKlqF,KAAK,aAAc6pF,GAE1BK,EAAO,MACI,GAEb3uF,SAAU,WAKJ,MAJAjb,GAAEH,MACH8f,OAAO,aAAc3f,EAAEmI,MAAMgS,QAAQwtF,aAAattF,SAClDsF,OAAO,aAAc4pF,IAEb,GAEXlvF,QAAS,SAASlZ,EAAGF,GACrB,GAAImwB,IAAOjwB,EAAEkc,QAASlc,EAAEsc,QACxB,IAAI5d,OAAS2pG,EAAQhvF,MAAQ3K,KAAKkgC,IAAIy5D,EAAQp4E,IAAI,GAAKA,EAAI,IAAMq4E,GAAU55F,KAAKkgC,IAAIy5D,EAAQp4E,IAAI,GAAKA,EAAI,IAAMq4E,EAcvG,MAbAD,GAAQhvF,KAAO3a,KACrB2pG,EAAQp4E,IAAMA,EACdq4E,EAAS,IAETnyF,aAAaqyF,GACbA,EAAa7mG,WAAW,WACtB2mG,EAAS,IACR,KACHnyF,aAAaoyF,GACbA,EAAY5mG,WAAW,WACrB2mG,EAAS,GACR,MACHtoG,EAAInB,EAAEuF,UAAWpE,GAAIgE,KAAM,kBACbnF,EAAEmI,MAAMoS,UAAYva,EAAEmI,MAAMD,QAAQzF,MAAM5C,KAAM8N,aAIpE3N,EAAEoK,GAAG7E,QACHoiG,aAAc,SAASv9F,GACrB,MAAOA,GAAKvK,KAAK6f,KAAK,eAAgBtV,GAAMvK,KAAKwO,QAAQ,iBAG3Dw7F,eAAgB,SAASz/F,GACvB,MAAOvK,MAAK8f,OAAO,eAAgBvV,MAIvCpK,EAAE,WACAgB,EAAO+sC,EAAI/sC,KAEXhB,EAAE+tC,GAAKruB,KAAK,mCAAoC1f,EAAEwP,SAEjDzP,QAEH,SAAUM,EAAEC,EAAES,GAAG,QAASwC,GAAElD,EAAEU,GAAG,GAAgCI,GAA5BF,EAAEX,EAAEiB,cAAclB,GAAG,MAAS,KAAIc,IAAKJ,GAAEE,EAAEE,GAAGJ,EAAEI,EAAG,OAAOF,GAAE,QAASuC,GAAEnD,GAAG,IAAI,GAAIC,GAAE,EAAES,EAAE4M,UAAU1J,OAAO3D,EAAES,EAAET,IAAID,EAAEsB,YAAYgM,UAAUrN,GAAI,OAAOD,GAAE,QAASoD,GAAEpD,EAAEC,EAAES,EAAEE,GAAG,GAAIsC,IAAG,UAAUjD,KAAO,IAAFD,GAAOU,EAAEE,GAAG2M,KAAK,KAAKpK,EAAE,IAAIzC,EAAEE,EAAE,IAAIwC,EAAEoM,KAAKC,IAAI,GAAG,EAAEzP,GAAGC,GAAG,IAAIkD,GAAGnD,GAAG6D,EAAE1D,EAAEoW,UAAU,EAAEpW,EAAEsL,QAAQ,cAAc1H,cAAcV,EAAEQ,GAAG,IAAIA,EAAE,KAAK,EAAG,OAAO/C,GAAEoC,KAAKS,EAAE8lG,WAAW,IAAIpmG,EAAE,aAAaH,EAAE,eAAkBE,EAAE,IAAID,EAAE,aAAanD,EAAE,KAAKmD,EAAE,KAAK,gBAAgBA,EAAElD,GAAG,IAAI,aAAaD,EAAE,iBAAoBoD,EAAE,KAAQ,GAAGtC,EAAEoC,GAAG,GAAGA,EAAE,QAASW,GAAE7D,EAAEC,GAAG,GAAcE,GAAE+C,EAAZpC,EAAEd,EAAE+F,KAAU,IAAGjF,EAAEb,KAAKS,EAAE,MAAOT,EAAyC,KAAvCA,EAAEA,EAAE6L,OAAO,GAAGtB,cAAcvK,EAAEoC,MAAM,GAAOa,EAAE,EAAEA,EAAEtC,EAAEgD,OAAOV,IAAc,GAAT/C,EAAES,EAAEsC,GAAGjD,EAAKa,EAAEX,KAAKO,EAAE,MAAOP,GAAG,QAASkD,GAAErD,EAAEC,GAAG,IAAI,GAAIS,KAAKT,GAAED,EAAE+F,MAAMlC,EAAE7D,EAAEU,IAAIA,GAAGT,EAAES,EAAG,OAAOV,GAAE,QAASsD,GAAEtD,GAAG,IAAI,GAAIC,GAAE,EAAEA,EAAEqN,UAAU1J,OAAO3D,IAAI,CAAC,GAAIW,GAAE0M,UAAUrN,EAAG,KAAI,GAAIa,KAAKF,GAAEZ,EAAEc,KAAKJ,IAAIV,EAAEc,GAAGF,EAAEE,IAAI,MAAOd,GAAE,QAASuD,GAAEvD,GAAwC,IAArC,GAAIC,IAAGsK,EAAEvK,EAAE+xB,WAAWtnB,EAAEzK,EAAEmV,WAAiBnV,EAAEA,EAAE8xB,cAAa7xB,EAAEsK,GAAGvK,EAAE+xB,WAAW9xB,EAAEwK,GAAGzK,EAAEmV,SAAU,OAAOlV,GAAE,GAAqCE,GAAjCS,GAAG,SAAS,MAAM,KAAK,KAAKE,KAAO6C,EAAE,WAAW,GAAI3D,GAAEkD,EAAE,QAAS,OAAOC,GAAElD,EAAEwG,qBAAqB,QAAQ,GAAGzG,GAAGA,EAAE0pG,OAAO1pG,EAAE2pG,cAAcnmG,GAAGomG,MAAM,GAAGhmG,OAAO,EAAExC,MAAM,EAAEo7D,OAAO,GAAGqtC,OAAO,EAAE/2C,MAAM,OAAOnjC,MAAM,EAAEm6E,MAAM,IAAIr3F,QAAQ,IAAIs3F,IAAI,GAAGrhF,OAAO,IAAI5V,UAAU,UAAUwC,IAAI,OAAO2T,KAAK,QAAQxlB,EAAE,QAASwG,GAAEjK,GAAG,MAAIR,MAAKwqG,UAAqBxqG,KAAKm8F,KAAKr4F,EAAEtD,MAAMiK,EAAEusB,SAAShzB,IAAtC,GAAIyG,GAAEjK,GAAoCyD,GAAE+yB,YAAYlzB,EAAEG,EAAEoH,WAAWm/F,KAAK,SAAShqG,GAAGR,KAAKwX,MAAO,IAA6H7T,GAAEQ,EAA3H1D,EAAET,KAAKkB,EAAET,EAAE07F,KAAK/6F,EAAEX,EAAEmjC,GAAG//B,EAAEH,EAAE,GAAG4P,UAAUpS,EAAEoS,aAAauC,SAAS,WAAWqT,OAAOhoB,EAAEgoB,SAAS5nB,EAAEJ,EAAE87D,OAAO97D,EAAEkD,OAAOlD,EAAEU,KAAiQ,IAAvPpB,IAAIA,EAAEuU,aAAa3T,EAAEZ,EAAEqG,YAAY,MAAM1C,EAAEJ,EAAEvD,GAAGmD,EAAEI,EAAE3C,GAAGyC,EAAEzC,GAAGqoB,MAAc,QAARvoB,EAAEuoB,KAAatlB,EAAE4G,EAAEpH,EAAEoH,GAAGvK,EAAE0F,aAAa,GAAGhF,EAAEuoB,KAAKnoB,GAAG,KAAKwU,KAAY,QAAP5U,EAAE4U,IAAY3R,EAAE8G,EAAEtH,EAAEsH,GAAGzK,EAAE2F,cAAc,GAAGjF,EAAE4U,IAAIxU,GAAG,QAAQF,EAAEwR,aAAa,YAAY,eAAenS,EAAE2pG,MAAMhpG,EAAEX,EAAE07F,OAAUx7F,EAAE,CAAC,GAAIiD,GAAE,EAAES,EAAEnD,EAAEqpG,IAAIzmG,EAAEO,EAAEnD,EAAEivB,MAAMnsB,GAAG,EAAE9C,EAAE+R,UAAUnP,EAAE5C,EAAEopG,MAAM,KAAKrmG,EAAEH,EAAE5C,EAAEkpG,OAAO,QAAS3/F,KAAI7G,GAAI,KAAI,GAAIpD,GAAEU,EAAEkpG,MAAM5pG,EAAEA,IAAI,CAAC,GAAIc,GAAE0O,KAAKC,IAAI,GAAGrM,EAAEpD,EAAEyD,GAAGH,EAAEE,EAAE9C,EAAE+R,QAASxS,GAAEwS,QAAQ7R,EAAEF,EAAEkpG,MAAM5pG,EAAEc,EAAEJ,GAAGT,EAAEmtB,QAAQntB,EAAEmjC,IAAI3gC,WAAWwH,KAAK,IAAIpG,OAAO,MAAO5D,IAAG+W,KAAK,WAAW,GAAIhX,GAAER,KAAK4jC,EAAG,OAAOpjC,KAAIiX,aAAazX,KAAK4tB,SAASptB,EAAE6I,YAAY7I,EAAE6I,WAAW9G,YAAY/B,GAAGR,KAAK4jC,GAAG1iC,GAAGlB,MAAMoqG,MAAM,SAAS5pG,EAAEC,GAAG,QAASa,GAAEd,EAAEY,GAAG,MAAOyC,GAAEH,KAAKmS,SAAS,WAAWjU,MAAMnB,EAAE2D,OAAO3D,EAAEmB,MAAM,KAAKC,OAAOpB,EAAEmB,MAAM,KAAK6oG,WAAWjqG,EAAEkqG,UAAUtpG,EAAEupG,gBAAgB,OAAOv5D,UAAU,aAAa,IAAI3wC,EAAE2pG,MAAMlpG,EAAET,EAAE4pG,QAAQ,kBAAkB5pG,EAAEu8D,OAAO,QAAW4tC,cAAcnqG,EAAEmB,OAAO,GAAG,OAAiB,IAAV,GAAQR,GAAJF,EAAE,EAASA,EAAET,EAAE2pG,MAAMlpG,IAAIE,EAAEyC,EAAEH,KAAKmS,SAAS,WAAWC,IAAI,IAAIrV,EAAEmB,MAAM,GAAG,KAAKwvC,UAAU3wC,EAAEoqG,QAAQ,qBAAqB,GAAG53F,QAAQxS,EAAEwS,QAAQo6C,UAAU1sD,GAAGiD,EAAEnD,EAAEwS,QAAQxS,EAAE6pG,MAAMppG,EAAET,EAAE2pG,OAAO,IAAI,EAAE3pG,EAAE0vB,MAAM,sBAAsB1vB,EAAEsrE,QAAQpoE,EAAEvC,EAAEyC,EAAEvC,EAAE,OAAO,iBAAiBwU,IAAI,SAASnS,EAAEnD,EAAEmD,EAAEvC,EAAEE,EAAEb,EAAE6yD,MAAM,2BAA4B,OAAO9yD,IAAGyS,QAAQ,SAASzS,EAAEC,EAAES,GAAGT,EAAED,EAAEsM,WAAW1I,SAAS5D,EAAEsM,WAAWrM,GAAG8F,MAAM0M,QAAQ/R,OAAO,WAAW,QAASV,GAAEA,EAAEC,GAAG,MAAOiD,GAAE,IAAIlD,EAAE,2DAA2DC,GAAG,GAAIA,GAAEoD,EAAEH,EAAE,UAAUkyD,SAAS,uBAAuBvxD,EAAE5D,EAAE,cAAcA,EAAEo1D,KAAK1xD,EAAE2mG,QAAQ,YAAY,8BAA8B7mG,EAAEoH,UAAU++F,MAAM,SAAS3pG,EAAES,GAAG,QAASP,KAAI,MAAOkD,GAAErD,EAAE,SAASw1D,UAAU10D,EAAE,IAAIA,EAAEypG,aAAa3pG,EAAE,KAAMA;IAAKQ,MAAMN,EAAEO,OAAOP,IAAI,QAAS+C,GAAE5D,EAAEa,EAAEoC,GAAGC,EAAEQ,EAAER,EAAEE,EAAElD,KAAKqqG,SAAS,IAAI9pG,EAAEkpG,MAAM3pG,EAAE,MAAMgpB,OAAOnoB,IAAIqC,EAAEE,EAAErD,EAAE,aAAayqG,QAAQ,KAAKrpG,MAAMR,EAAES,OAAOX,EAAEU,MAAM6nB,KAAKvoB,EAAE87D,OAAOlnD,KAAK5U,EAAEU,OAAO,EAAEsH,OAAOxF,IAAIlD,EAAE,QAAQ8yD,MAAMpyD,EAAEoyD,MAAMrgD,QAAQ/R,EAAE+R,UAAUzS,EAAE,UAAUyS,QAAQ,OAAO,GAAsGrP,GAAlGxC,EAAEF,EAAEkD,OAAOlD,EAAEU,MAAMN,EAAE,EAAEF,EAAEsC,EAAsB,IAAlBxC,EAAEU,MAAMV,EAAEkD,QAAU,KAAKD,EAAEN,EAAElD,KAAKkV,SAAS,WAAWC,IAAIpS,EAAE+lB,KAAK/lB,GAAM,IAAGxC,EAAE6qE,OAAO,IAAInoE,EAAE,EAAEA,GAAG1C,EAAEkpG,MAAMxmG,IAAIS,EAAET,GAAE,EAAG,sFAAuF,KAAIA,EAAE,EAAEA,GAAG1C,EAAEkpG,MAAMxmG,IAAIS,EAAET,EAAG,OAAOD,GAAElD,EAAE0D,IAAIF,EAAEoH,UAAU4H,QAAQ,SAASzS,EAAEC,EAAES,EAAEE,GAAG,GAAIE,GAAEd,EAAEqG,UAAWzF,GAAEA,EAAE2qE,QAAQ3qE,EAAEgpG,OAAO,EAAE9oG,GAAGb,EAAEW,EAAEE,EAAEwL,WAAW1I,SAAS9C,EAAEA,EAAEwL,WAAWrM,EAAEW,GAAGE,EAAEA,GAAGA,EAAEuF,WAAWvF,EAAEA,GAAGA,EAAEuF,WAAWvF,IAAIA,EAAE2R,QAAQ/R,MAAMP,EAAE0D,EAAE5D,EAAE,gBAAgBD,EAAE0qG,QAAQjnG,GAAI8K,OAAO7M,SAC94H,IAAIipG,MAAQ,WAKX,QAASC,GAAgBC,EAASC,GAEjCC,aACC/+D,OAAQ,EACR8+D,aAAcA,EACdxvF,OAAQuvF,IAmBV,QAASG,KACR,MAAOC,IAGR,QAASC,MAOT,QAASC,KACR,MAAOC,IAGR,QAASC,MAOT,QAASC,KACR,MAAOC,IAGR,QAASC,MAMT,QAASC,GAAkBC,EAAa33B,GAEvC,MADA23B,GAAYC,cAAgB53B,EACrB23B,EAGR,QAASE,KACR,MAAOC,IAGR,QAASC,MAMT,QAASC,GAAqBL,EAAa5qG,GAC1C,MAAO4qG,GAGR,QAASM,KACR,MAAOC,IAGR,QAASC,MAMT,QAASC,GAAQnsG,EAAGuK,GACnBvK,EAAEA,EAAEosG,kBAAoB7hG,EAGzB,QAAS8hG,GAAersG,EAAGuK,GAC1BvK,EAAEA,EAAEosG,kBAAoB7hG,EAGzB,QAAS+hG,GAAUtsG,GAClB,GAAIusG,GAAKltG,CAGT,OAFOA,GAAIW,EAAEuN,KAAK,IAAMvN,EAAE4D,OAAS5D,EAAEosG,eAAiB,EAAtDG,EAA0DltG,EAC1DW,EAAEA,EAAEosG,kBAAoBG,EACjBA,EAGR,QAASC,GAAeC,EAAUC,GACjC,GAAIr0B,GAAQ,GAAIntE,OAAMwhG,EACtB,IAAID,EAAW,EAEd,IAAK,GADDnlG,IAAS,KAAM,GAAG,GAAQ,EAAG,IAAImlG,GAC5B9oG,EAAI,EAAGA,EAAI+oG,IAAY/oG,EAC/B00E,EAAM10E,GAAK2D,CAGb,OAAO+wE,GAGR,QAASs0B,KACR,MAAOntG,MAAKotG,YAGb,QAASC,GAAQC,EAAYC,EAAQC,EAASN,EAAUD,GACvD,GAAInxF,EAOJ,OANAA,GAASkxF,EAAeC,EAAUC,GAClCO,IACAC,EAAU5xF,EAAQ6xF,GAAgBC,IAClC9xF,EAAOsxF,YAAcE,EACrBxxF,EAAO+xF,QAAUN,EACjBzxF,EAAOgyF,SAAWN,EACX1xF,EAGR,QAASiyF,GAAWT,EAAYC,EAAQC,EAAS30B,GAMhD,MALA40B,KACAC,EAAU70B,EAAO80B,GAAgBC,IACjC/0B,EAAMu0B,YAAcE,EACpBz0B,EAAMg1B,QAAUN,EAChB10B,EAAMi1B,SAAWN,EACV30B,EAGR,QAASm1B,GAASn1B,EAAOr0D,EAAO1c,GAC/B,GAAa,MAATA,EAAe,CAClB,GAAI+wE,EAAMi1B,SAAW,IAAMG,EAAcnmG,EAAM+lG,QAASh1B,EAAMi1B,UAC9D,KAAM,IAAII,GAEV,IAAIr1B,EAAMi1B,SAAW,IAAMhmG,EAAMqmG,aAAeC,IAA+B,GAAjBtmG,EAAM+lG,SACpE,KAAM,IAAIK,IAGX,MAAOr1B,GAAMr0D,GAAS1c,EAGvB,QAASumG,MAST,QAASZ,KACRA,EAAYW,GACZT,MACAC,MACAU,EAAa,GAAID,GAAWV,GAAgBC,IAG7C,QAASU,GAAaC,EAAWC,EAAcC,GAC9C,GAAW3mG,GAAP3D,EAAI,CACR,KAAK,GAAIuqG,KAAUH,IACdzmG,EAAQymG,EAAUG,MACtBF,EAAarqG,GAAKuqG,EAClBD,EAActqG,GAAK2D,IACjB3D,GAKJ,QAASupG,GAAU70B,EAAO21B,EAAcC,GACvChB,GACA,KAAK,GAAItpG,GAAI,EAAGjD,EAAIstG,EAAapqG,OAAQD,EAAIjD,IAAKiD,EACjD00E,EAAM21B,EAAarqG,IAAMsqG,EAActqG,GAKzC,QAASwqG,GAAQC,EAAOC,GACvB,MAAOD,MAAWE,GAAYF,GAAOC,GAGtC,QAASZ,GAAcW,EAAOC,GAC7B,MAAOD,IAASE,GAAYF,GAAOC,GAGpC,QAASE,GAAYrnF,EAAKmnF,GACzB,GAAW,MAAPnnF,IAAgBumF,EAAcvmF,EAAImmF,QAASgB,GAC9C,KAAM,IAAIG,GAEX,OAAOtnF,GAGR,QAASunF,GAAWvnF,EAAKmnF,GACxB,MAAc,OAAPnnF,GAAeinF,EAAQjnF,EAAImmF,QAASgB,GAG5C,QAASK,GAAUnkG,GAClB,QAASiF,KAAKC,IAAID,KAAK4kB,IAAI7pB,EAAG,aAAa,YA6B5C,QAASokG,GAAO7tG,GACf,MAAS,OAALA,GAAaqtG,EAAQrtG,EAAEusG,QAAS,GAC5BvsG,EAEDirG,EAAqB,GAAIG,GAAuBprG,GAGxD,QAASiH,GAAI/H,EAAGC,GACf,GAAI2uG,GAASC,CAGb,OAFAD,GAAU5uG,EAAE,GAAKC,EAAE,GACnB4uG,EAAS7uG,EAAE,GAAKC,EAAE,GACXs/B,EAAOsvE,EAAQD,GAGvB,QAASE,GAASC,EAAO/uG,EAAGC,GAC3B,MAAS,IAALD,EACI+uG,EAEC,GAAL9uG,EACI8uG,EAEDhnG,EAAIgnG,EAAOxvE,EAAOv/B,EAAIC,EAAG,IAGjC,QAAS+uG,GAAIhvG,EAAGC,GACf,MAAOgvG,KAAez/F,KAAKC,IAAID,KAAK4kB,IAAIp0B,EAAE,GAAK,WAAY,aAAa,cAAiBwP,KAAKC,IAAID,KAAK4kB,IAAIn0B,EAAE,GAAK,WAAY,aAAa,YAAcivG,EAAUlvG,GAAKkvG,EAAUjvG,IAGnL,QAASolD,GAAQrlD,EAAGC,GACnB,GAAIkvG,GAAMC,CACV,OAAIpvG,GAAE,IAAMC,EAAE,IAAMD,EAAE,IAAMC,EAAE,GACtB,GAERkvG,EAAOnvG,EAAE,GAAK,EACdovG,EAAOnvG,EAAE,GAAK,EACVkvG,IAASC,GACL,GAEHD,GAAQC,EACL,EAEJl/F,EAAIlQ,EAAGC,GAAG,GAAK,GACX,EAGA,GAIT,QAASs/B,GAAO8vE,EAAUC,GACzB,GAAIC,GAAUC,CAOd,KANAF,GAAa,oBACbD,GAAY,oBACZE,EAAWD,EAAY,WACvBE,EAA8C,WAApChgG,KAAK8nB,MAAM+3E,EAAW,YAChCC,EAAYA,EAAYC,EAAWC,EACnCH,EAAWA,EAAWG,EAAUD,EACzBF,EAAW,GACjBA,GAAY,WACZC,GAAa,UAEd,MAAOD,EAAW,YACjBA,GAAY,WACZC,GAAa,UAGd,KADAA,GAAwB,oBACjBA,EAAY,oBAClBA,GAAa,mBAEd,MAAOA,GAAY,oBAClBA,GAAa,mBAEd,QAAQD,EAAUC,GAGnB,QAASjhE,GAAIruC,EAAGC,GACf,GAAIwvG,GAAQC,EAAUC,EAAaC,EAAOC,EAAKv0F,CAC/C,IAAY,GAARrb,EAAE,IAAmB,GAARA,EAAE,GAClB,KAAM6vG,IAAqB,GAAIC,IAAuB,YAEvD,IAAY,GAAR/vG,EAAE,IAAmB,GAARA,EAAE,GAClB,MAAOgwG,MAAeC,EAEvB,IAAI9iG,EAAGnN,GAAIgwG,KAAeE,KACzB,MAAI/iG,GAAGlN,EAAGw1E,KAAQtoE,EAAGlN,EAAGkwG,IAChBD,IAERN,EAAQQ,EAAIpwG,EAAG,GACfyvG,EAASY,EAAIhiE,EAAIuhE,EAAO3vG,GAAI,GAC5B4vG,EAAM3/F,EAAIlQ,EAAGswG,EAAIrwG,EAAGwvG,IACb1nG,EAAI0nG,EAAQphE,EAAIwhE,EAAK5vG,IAE7B,IAAIkN,EAAGlN,EAAGiwG,IACT,MAAOD,GAER,IAAIjwG,EAAE,GAAK,EACV,MAAIC,GAAE,GAAK,EACHouC,EAAIkiE,EAAIvwG,GAAIuwG,EAAItwG,IAEhBswG,EAAIliE,EAAIkiE,EAAIvwG,GAAIC,GAGzB,IAAIA,EAAE,GAAK,EACV,MAAOswG,GAAIliE,EAAIruC,EAAGuwG,EAAItwG,IAIvB,KAFAqb,EAAS20F,GACTJ,EAAM7vG,EACCqlD,EAAQwqD,EAAK5vG,IAAM,GACzB0vG,EAAca,EAAWhhG,KAAK8nB,MAAMm5E,EAAkBZ,GAAOa,EAAgBzwG,KACvD,GAAlB0vG,EAAY,IAA6B,GAAlBA,EAAY,KACtCA,EAAcl6B,IAEfi6B,EAAWY,EAAIX,EAAa1vG,GAC5Bqb,EAASvT,EAAIuT,EAAQq0F,GACrBE,EAAM3/F,EAAI2/F,EAAKH,EAEhB,OAAOp0F,GAGR,QAASnO,GAAGnN,EAAGC,GACd,MAAOD,GAAE,IAAMC,EAAE,IAAMD,EAAE,IAAMC,EAAE,GAGlC,QAASuwG,GAAWlpG,GACnB,MAAIkH,OAAMlH,IACF0oG,KAAeC,IAEnB3oG,GAAQ,oBACJ0oG,KAAeE,IAEnB5oG,GAAS,oBACL0oG,KAAeW,IAEnBrpG,EAAQ,EACJi4B,EAAO/vB,KAAK8nB,MAAMhwB,GAAQ,GAE1Bi4B,EAAO/vB,KAAKkmB,KAAKpuB,GAAQ,GAIlC,QAASspG,GAAQtpG,GAChB,GAAIupG,GAAQv1F,CACZ,OAAIhU,IAAQ,KAAQA,EAAQ,KAC3BupG,EAASvpG,EAAQ,IACjBgU,GAAUw1F,KAAcC,IAAaF,GACvB,MAAVv1F,IACHA,EAASy1F,GAAYF,GAAUG,EAAgB1pG,IAEzCgU,GAED01F,EAAgB1pG,GAGxB,QAAS0pG,GAAgB1pG,GACxB,MAAIA,IAAS,GACJA,EAAO,IAEPA,EAAQ,YAAY,YAI9B,QAAS4nG,GAAUlvG,GAClB,MAAIA,GAAE,IAAM,aACFwP,KAAKC,IAAID,KAAK4kB,IAAIp0B,EAAE,GAAK,WAAY,aAAa,cAElDwP,KAAKC,IAAID,KAAK4kB,IAAIp0B,EAAE,GAAI,aAAa,YAIhD,QAASivG,GAAagC,EAAUC,GAC/B,GAAIC,GAAMC,CAMV,OALAD,GAAkB,WAAXF,EACPG,EAAMF,EACFA,EAAU,IACbE,GAAO,aAEAA,EAAKD,GAGd,QAASb,GAAItwG,EAAGC,GACf,GAAIsiG,GAAIC,EAAI6O,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,CACpC,OAAY,IAAR3xG,EAAE,IAAmB,GAARA,EAAE,IACXgwG,KAAeC,IAEX,GAARhwG,EAAE,IAAmB,GAARA,EAAE,IACX+vG,KAAeC,IAEnB9iG,EAAGnN,GAAIgwG,KAAeE,KAClB0B,EAAe3xG,GAEnBkN,EAAGlN,EAAGiwG,IACF0B,EAAe5xG,GAEnBA,EAAE,GAAK,EACNC,EAAE,GAAK,EACHqwG,EAAIC,EAAIvwG,GAAIuwG,EAAItwG,IAEhBswG,EAAID,EAAIC,EAAIvwG,GAAIC,IAGrBA,EAAE,GAAK,EACHswG,EAAID,EAAItwG,EAAGuwG,EAAItwG,KAEnBolD,EAAQrlD,EAAG6xG,IAAc,GAAKxsD,EAAQplD,EAAG4xG,IAAc,EACnDtyE,GAAQv/B,EAAE,GAAKA,EAAE,KAAOC,EAAE,GAAKA,EAAE,IAAK,IAE9CoxG,EAAKrxG,EAAE,GAAK,gBACZsxG,EAAKtxG,EAAE,GAAKqxG,EACZ9O,EAAKviG,EAAE,GAAK,MACZwiG,EAAKxiG,EAAE,GAAKuiG,EACZkP,EAAKxxG,EAAE,GAAK,gBACZyxG,EAAKzxG,EAAE,GAAKwxG,EACZF,EAAKtxG,EAAE,GAAK,MACZuxG,EAAKvxG,EAAE,GAAKsxG,EACZI,EAAM1B,GACN0B,EAAM7C,EAAS6C,EAAKL,EAAIC,GACxBI,EAAM7C,EAAS6C,EAAKN,EAAIG,GACxBG,EAAM7C,EAAS6C,EAAKN,EAAIE,GACxBI,EAAM7C,EAAS6C,EAAKnP,EAAIiP,GACxBE,EAAM7C,EAAS6C,EAAKnP,EAAIgP,GACxBG,EAAM7C,EAAS6C,EAAKnP,EAAI+O,GACxBI,EAAM7C,EAAS6C,EAAKpP,EAAImP,GACxBC,EAAM7C,EAAS6C,EAAKpP,EAAIkP,GACxBE,EAAM7C,EAAS6C,EAAKpP,EAAIiP,GACxBG,EAAM7C,EAAS6C,EAAKpP,EAAIgP,IAIzB,QAASK,GAAe5xG,GACvB,MAA0B,KAAN,EAAfkvG,EAAUlvG,KACPgwG,KAAeE,KAEfF,KAAeC,IAIxB,QAASM,GAAIvwG,GACZ,GAAI4uG,GAASC,CACb,OAAI1hG,GAAGnN,GAAIgwG,KAAeE,KAClBA,IAERtB,GAAW5uG,EAAE,GACb6uG,GAAU7uG,EAAE,GACR6uG,EAAS,aACZA,GAAU,WACVD,GAAW,YAERC,EAAS,IACZA,GAAU,WACVD,GAAW,aAEJC,EAAQD,IAGjB,QAASkD,GAAYvuG,GACpB,MAAIA,IAAK,GACD,GAAKA,EAELuuG,EAAY,IAAMA,EAAYvuG,EAAI,IAI3C,QAAS8sG,GAAIrwG,EAAGuD,GACf,GAAI46B,GAAMywE,EAASC,EAAQkD,CAE3B,OADAxuG,IAAK,GACD4J,EAAGnN,GAAIgwG,KAAeE,KAChB,GAAL3sG,EACIvD,EAEAiwG,GAGLjwG,EAAE,GAAK,EACHuwG,EAAIF,EAAIE,EAAIvwG,GAAIuD,KAExBwuG,EAASD,EAAYvuG,GACrBqrG,EAAU5uG,EAAE,GAAK+xG,EAAS,oBAC1BlD,EAAS7uG,EAAE,GAAK+xG,EAChB5zE,EAAO0wE,EAASA,EAAS,WACzBD,GAAWzwE,EACX0wE,GAAU1wE,EACNywE,GAAW,qBACdA,GAAW,sBAEJC,EAAQD,IAGjB,QAASwB,GAAIpwG,EAAGuD,GACf,GAAIqrG,GAASC,EAAQmD,CAKrB,OAJAzuG,IAAK,GACLyuG,EAAYF,EAAYvuG,GACxBqrG,EAAU5uG,EAAE,GAAKgyG,EACjBnD,EAASr/F,KAAK8nB,MAAMt3B,EAAE,GAAKgyG,GACpBzyE,EAAOsvE,EAAQD,GAGvB,QAASqD,GAAKjyG,EAAGuD,GAChB,GAAI2uG,EAMJ,OALA3uG,IAAK,GACL2uG,EAAK9B,EAAIpwG,EAAGuD,GACRvD,EAAE,GAAK,IACVkyG,EAAKnqG,EAAImqG,EAAI7B,GAAKL,KAAemC,IAAM,GAAK5uG,KAEtC2uG,EAGR,QAAShiG,GAAIlQ,EAAGC,GACf,GAAI2uG,GAASC,CAGb,OAFAD,GAAU5uG,EAAE,GAAKC,EAAE,GACnB4uG,EAAS7uG,EAAE,GAAKC,EAAE,GACXs/B,EAAOsvE,EAAQD,GAGvB,QAAS6B,GAAkBzwG,GAC1B,GAAIm+B,GAAMi0E,EAAWC,CAErB,OADAD,GAAY1D,EAAUl/F,KAAKonC,IAAI52C,EAAE,KAAOgwG,KAAesC,KACnDF,GAAa,GACTpyG,EAAE,GAAKA,EAAE,IAEhBm+B,EAAOi0E,EAAY,GACnBC,GAAc,GAAKl0E,GAAQ,EACpBn+B,EAAE,IAAMA,EAAE,GAAKqyG,IAIxB,QAAS3B,GAAgB1wG,GACxB,GAAIm+B,GAAMi0E,EAAWG,CAErB,OADAH,GAAY1D,EAAUl/F,KAAKonC,IAAI52C,EAAE,KAAOgwG,KAAesC,KACnDF,GAAa,GACTpyG,EAAE,GAAKA,EAAE,IAEhBm+B,EAAOi0E,EAAY,GACnBG,GAAS,GAAKp0E,GAAQ,EACfn+B,EAAE,IAAMA,EAAE,GAAKuyG,IAIxB,QAASC,GAAWxyG,GACnB,GAAI0pC,GAAQmmE,EAAK4C,EAAgBd,EAAKe,EAAcC,CACpD,IAAY,GAAR3yG,EAAE,IAAmB,GAARA,EAAE,GAClB,MAAO,GAER,IAAImN,EAAGnN,GAAIgwG,KAAeE,KACzB,MAAO,sBAER,IAAIlwG,EAAE,GAAK,EACV,MAAO,IAAMwyG,EAAWjC,EAAIvwG,GAI7B,KAFA6vG,EAAM7vG,EACN2xG,EAAM,GACa,GAAV9B,EAAI,IAAqB,GAAVA,EAAI,IAAU,CAKrC,GAJA6C,EAAe9B,EAAQ,KACvB6B,EAAiBpkE,EAAIwhE,EAAK6C,GAC1BhpE,EAAS,GAAKwlE,EAAUh/F,EAAI2/F,EAAKS,EAAImC,EAAgBC,KACrD7C,EAAM4C,EACU,GAAV5C,EAAI,IAAqB,GAAVA,EAAI,GAExB,IADA8C,EAAe,EAAIjpE,EAAO9lC,OACnB+uG,EAAe,IAAKA,EAC1BjpE,EAAS,IAAMA,CAGjBioE,GAAMjoE,EAASioE,EAEhB,MAAOA,GAGR,QAASb,MACRA,GAAYlD,GACZmD,GAAclE,EAAQ+F,GAAgB,EAAG,EAAG,IAAK,GAIlD,QAAS5C,MACRA,GAAapC,GACb0E,GAAO9iG,KAAKonC,IAAI,GAChB+5D,GAAYkC,GACZ3C,GAAY4C,GACZ3C,GAAUS,GAAQ,GAClBn7B,GAAMm7B,EAAQ,GACduB,GAAMvB,EAAQ,GACdiB,GAAakB,GACb9C,GAAOW,EAAQ,GAIhB,QAASoC,MACR,MAAOC,IAGR,QAASC,OAMT,QAASC,IAAsBzH,EAAa0H,GAE3C,MADAC,IAAwB3H,EAAa0H,EAAK,EAAGA,EAAIxvG,QAC1C8nG,EAGR,QAAS2H,IAAwB3H,EAAa0H,EAAKnlG,EAAK46B,GAMvD,MALA6iE,GAAY0H,IAAMA,EAClB1H,EAAY36E,IAAM9iB,EAClBy9F,EAAYxlC,MAAQj4D,EAAM46B,EACtB6iE,EAAYxlC,MAAQktC,EAAIxvG,SAC3B8nG,EAAYxlC,MAAQktC,EAAIxvG,QAClB8nG,EAGR,QAAS4H,IAAM5H,GACd,MAAIA,GAAY36E,KAAO26E,EAAYxlC,OAC3B,EACoC,IAArCwlC,EAAY0H,IAAI1H,EAAY36E,OAGpC,QAASwiF,IAAQ7H,EAAa0H,EAAKnlG,EAAK46B,GACvC,MAAI6iE,GAAY36E,KAAO26E,EAAYxlC,OAC3B,GACRr9B,EAAMzU,GAAIyU,EAAK6iE,EAAYxlC,MAAQwlC,EAAY36E,KAC/CyiF,GAAU9H,EAAY0H,IAAK1H,EAAY36E,IAAKqiF,EAAKnlG,EAAK46B,GACtD6iE,EAAY36E,KAAO8X,EACZA,GAGR,QAAS4qE,MACR,MAAOC,IAGR,QAASC,OAST,QAASC,MACR,MAAOC,IAGR,QAASC,OAMT,QAASC,IAAuBrI,GAE/B,MADAA,GAAY0H,IAAMvG,EAAQmH,GAAc,GAAG,EAAI,GAAI,GAC5CtI,EAGR,QAASuI,IAAgBvI,EAAa7iE,GACrC,GAAIqrE,EACArrE,IAAO6iE,EAAY0H,IAAIxvG,SAE3BilC,EAAMp5B,GAAIo5B,EAA8B,EAAzB6iE,EAAY0H,IAAIxvG,QAC/BswG,EAASrH,EAAQmH,GAAc,GAAG,EAAInrE,EAAK,GAC3C2qE,GAAU9H,EAAY0H,IAAK,EAAGc,EAAQ,EAAGxI,EAAY0H,IAAIxvG,QACzD8nG,EAAY0H,IAAMc,GAGnB,QAASC,IAAazI,GACrB,GAAI1jG,EAGJ,OAFAA,GAAO6kG,EAAQmH,GAAc,GAAG,EAAItI,EAAYxlC,MAAO,GACvDstC,GAAU9H,EAAY0H,IAAK,EAAGprG,EAAM,EAAG0jG,EAAYxlC,OAC5Cl+D,EAGR,QAASosG,IAAO1I,EAAazrG,GAC5Bg0G,GAAgBvI,EAAaA,EAAYxlC,MAAQ,GACjDwlC,EAAY0H,IAAI1H,EAAYxlC,SAAWjmE,GAAK,IAAM,GAGnD,QAASo0G,IAAS3I,EAAa0H,EAAKnlG,EAAK46B,GACxCorE,GAAgBvI,EAAaA,EAAYxlC,MAAQr9B,GACjD2qE,GAAUJ,EAAKnlG,EAAKy9F,EAAY0H,IAAK1H,EAAYxlC,MAAOr9B,GACxD6iE,EAAYxlC,OAASr9B,EAGtB,QAASyrE,MACR,MAAOC,IAGR,QAASC,OAQT,QAASC,IAAa/I,EAAa33B,GAElC,MADA23B,GAAYC,cAAgB53B,EACrB23B,EAGR,QAASgJ,MACR,MAAOC,IAGR,QAASC,OAMT,QAAS9E,IAAqBpE,EAAamJ,GAE1C,MADAnJ,GAAYC,cAAgBkJ,EACrBnJ,EAGR,QAASoJ,MACR,MAAOC,IAGR,QAAShF,OAMT,QAASiF,IAAqBtJ,EAAa33B,GAE1C,MADA23B,GAAYC,cAAgB53B,EACrB23B,EAGR,QAASuJ,MACR,MAAOC,IAGR,QAASxH,OAMT,QAASyH,IAAeC,EAAatiG,GACpC,GAAIuiG,EAGJ,OAFAA,GAAQ,GAAItqE,IACZsqE,EAAMC,SAAWF,EAActiG,EACxBuiG,EAGR,QAASE,IAAeH,EAAatiG,GACpC,GAAIuiG,EAGJ,OAFAA,GAAQ,GAAItqE,IACZsqE,EAAMC,SAAWF,EAActiG,EACxBuiG,EAGR,QAASG,IAAcJ,EAAatiG,GACnC,GAAIuiG,EAGJ,OAFAA,GAAQ,GAAItqE,IACZsqE,EAAMC,SAAWF,EAActiG,EACxBuiG,EAGR,QAASI,MACR,MAAOC,IAGR,QAAS3qE,OAOT,QAAS4qE,MACR,MAAOC,IAGR,QAASpH,OAMT,QAASqH,MACR,MAAOC,IAGR,QAASC,OAMT,QAASC,IAA0BtK,EAAa33B,GAE/C,MADA23B,GAAYC,cAAgB53B,EACrB23B,EAGR,QAASuK,MACR,MAAOC,IAGR,QAASC,OAMT,QAASC,MACR,MAAOC,IAGR,QAASC,OAMT,QAASC,MACR,MAAOC,IAGR,QAASC,OAMT,QAAShnG,IAAIlF,EAAGE,GACf,MAAOF,GAAIE,EAAEF,EAAEE,EAGhB,QAAS2pB,IAAI7pB,EAAGE,GACf,MAAOF,GAAIE,EAAEF,EAAEE,EAGhB,QAASisG,MACR,MAAOC,IAGR,QAASC,OAMT,QAASC,IAAQnL,EAAax3D,GAC7B,MAAa,OAATA,GAGG5oC,OAAOogG,IAAgBx3D,EAG/B,QAAS4iE,IAAUpL,EAAaqL,EAAUC,EAAQC,EAAKC,GACtD,GAAIC,EACJ,KAAKA,EAASJ,EAAUI,EAASH,IAAUG,EAC1CF,EAAIC,KAAcxL,EAAYxyE,WAAWi+E,GAI3C,QAASC,MACR,MAAOC,IAMR,QAASC,IAAe5L,GACvB,GAAIrzB,EAEJ,OADAqzB,GAAY1jG,MAAQqwE,KAAaA,EAAM+zB,eAAiB,EAAI/zB,GACrDqzB,EAGR,QAAS6L,MACR,MAAOC,IAGR,QAASC,OAMT,QAASjE,IAAUtsF,EAAKwwF,EAAQ9uE,EAAM+uE,EAAS9uE,GAC9C,GAAI+uE,GAAWC,EAASC,EAAcC,EAASp0G,EAAGq0G,EAAUC,EAAaC,CAEzE,IAAW,MAAPhxF,GAAuB,MAAR0hB,EAClB,KAAM,IAAIguE,GAMX,IAHAqB,GAAgB/wF,EAAIymF,aAAgBC,IAA8B,GAAhB1mF,EAAImmF,QAAgBnmF,EAAIixF,YAAeC,IAAyD9C,SAClJwC,GAAgBlvE,EAAK+kE,aAAeC,IAA8B,GAAhBhlE,EAAKykE,QAAezkE,EAAKuvE,YAAcC,IAAyD9C,SAEjH,IAA7B2C,EAAY/+E,WAAW,IAA0C,IAA9B4+E,EAAa5+E,WAAW,GAC9D,KAAM87E,IAAqB,GAAItH,IAAuB,sBAEvD,IAAIuK,EAAY/+E,WAAW,IAAM4+E,EAAa5+E,WAAW,GACxD,KAAM87E,IAAqB,GAAItH,IAAuB,yBAKvD,IAFAwK,EAAUhxF,EAAItjB,OACdm0G,EAAUnvE,EAAKhlC,OACX8zG,EAAS,GAAKC,EAAU,GAAK9uE,EAAM,GAAK6uE,EAAS7uE,EAAMqvE,GAAUP,EAAU9uE,EAAMkvE,EACpF,KAAM,IAAItB,GAEX,IAAkC,IAA7BwB,EAAY/+E,WAAW,IAAyC,IAA7B++E,EAAY/+E,WAAW,IAAc29E,GAAQoB,EAAaH,GAcjG,IAAKn0G,EAAI,EAAGA,EAAIklC,IAAOllC,EACtBilC,EAAK+uE,EAAUh0G,GAAKujB,EAAIwwF,EAAS/zG,OAZlC,IAFAq0G,EAAYzJ,EAAYrnF,EAAK,GAC7B0wF,EAAYrJ,EAAY3lE,EAAM,IAClB,MAAP1hB,EAAc,KAAOA,MAAkB,MAAR0hB,EAAe,KAAOA,IAAS8uE,EAASC,EAE3E,IADAD,GAAU7uE,EACLgvE,EAAUF,EAAU9uE,EAAKgvE,KAAYF,GACzCnK,EAASoK,EAAWC,EAASG,IAAWN,QAGzC,KAAKG,EAAUF,EAAU9uE,EAAK8uE,EAAUE,GACvCrK,EAASoK,EAAWD,IAAWK,EAASN,MAW5C,QAASW,IAAW3M,EAAa4M,GACjC,IAAKC,GAAqBD,EAAS,GAAK5M,EAAY8M,gBACnD,KAAM/M,GAAkB,GAAIK,GAAoB,qBACjD,KAAK2M,GAAiBH,EAAS5M,EAAYgN,IAC1C,KAAMjN,GAAkB,GAAIK,GAAoB,qBACjD,KAAK6M,GAAgBL,EAAS5M,EAAYkN,aACzC,KAAMnN,GAAkB,GAAIK,GAAoB,qBACjD,KAAK+M,GAAaP,EAAS5M,EAAYoN,GAAIpN,EAAYqN,GAAIrN,EAAYsN,IACtE,KAAMvN,GAAkB,GAAIK,GAAoB,sBAGjD,QAASmN,MACR,MAAOC,IAGR,QAASC,OAaT,QAASC,IAAS1N,GAEjB,IACC,MAAO2N,IAAc3N,EAAY4N,SAElC,MAAOC,GAEN,GADAA,EAAM5K,EAAO4K,GACT9K,EAAW8K,EAAK,IACnB,OAAO,CAEP,MAAMA,IAKT,QAASC,IAAM9N,EAAarpF,EAAOo3F,EAAQ/M,EAAUgN,GACpD,GAAIpB,GAAS30G,CACb,KAAK+1G,EACJ,KAAM1D,IAA0B,GAAIG,IAA4B,YACjE,IAAI9wD,EAAQqnD,EAAUiN,IAAc,EACnC,KAAM3D,IAA0B,GAAIG,IAA4B,kBAAoB3D,EAAW9F,GAMhG,KALAhB,EAAYgB,SAAWA,EACvB4L,EAAUsB,GAAS,GAAIC,KACvBxB,GAAWqB,EAAMpB,GACjBA,EAAQwB,eAAgB,EACxBC,GAAsBzB,EAASmB,GAC1B91G,EAAI,EAAGA,EAAI,GAAIA,GAAK,EACxBywG,GAAOqF,EAAsC,IAA9BvK,EAAUkB,EAAI1D,EAAU/oG,IACxC+nG,GAAY4N,SAAWhB,EAAQ0B,sBAAuB,EAAS1B,EAAQ2B,UAAY53F,EAAQi2F,EAAQ4B,WAAY,EAAQC,GAAU7B,GAAWA,EAAQ8B,cAAcC,OAASZ,EAASa,GAAQhC,GAAWiC,GAAqBjC,GAAWkC,GAAiBlC,GAAWA,EAAQmC,YAAYC,WAAapC,EAAQqC,cAAgB,EAAI,EAAIC,GAActC,EAAQmC,YAAa,GAAKnC,EAAQuC,eAAiBvC,EAAQwC,oBAAoBJ,WAAapC,EAAQqC,cAAgB,EAAI,EAAIC,GAActC,EAAQwC,oBAAqB,GAAKxC,EAAQuC,oBAAiBvC,EAAQyC,SAAWC,IAA0BC,GAAW,GAAIC,IAAW5C,IAG/lB,QAAS6C,MACR,MAAOC,IAGR,QAASC,OAQT,QAASC,IAAyB5P,EAAa1jG,EAAM0xG,GAEpDhO,EAAY+N,OAAS1F,GAAuB,GAAIS,IAChD,KACCgF,GAAM9N,EAAayH,GAAsB,GAAIQ,IAAwB3rG,GAAO0jG,EAAY+N,OAAQ7I,EAAQ5oG,EAAKpE,QAAS81G,GACrH,MAAOH,GAER,KADAA,GAAM5K,EAAO4K,GACT9K,EAAW8K,EAAK,IACb9N,EAAkB,GAAIK,GAAoB,wBAE1CyN,EAGR,MAAO7N,GAGR,QAAS6P,MACR,MAAOC,IAGR,QAASC,OAOT,QAASC,IAAWhQ,GACnB,GAAS5qG,EACT,KACC,MAAOu4G,IAAc3N,EAAY4N,SAElC,MAAOC,GAEN,GADAA,EAAM5K,EAAO4K,GACT9K,EAAW8K,EAAK,IAGnB,MAFAz4G,GAAIy4G,EACJ7N,EAAYiQ,UAAY76G,GACjB,CAEP,MAAMy4G,IAKT,QAASqC,IAAQlQ,EAAarpF,EAAOo3F,GACpC,GAAIoC,GAEHl4G,EACAk7D,EACA30D,EACA4xG,EAJAC,EAAa,EAOd,KADAl9C,EAAaguC,EAAQmH,GAAc,GAAG,EAAI,EAAG,GACxCrwG,EAAI,EAAGA,EAAIk7D,EAAWj7D,SAAUD,EAAG,CAEvC,GADAuG,EAAIopG,GAAMjxF,GACNnY,IAAK,EACR,KAAMuqG,IAAa,GAAIG,IAAe,kBACvC/1C,GAAWl7D,GAAKuG,GAAK,IAAM,GAG5B,GADA2xG,EAAUG,GAAS,GAAIC,MAClBC,GAAsBL,EAASh9C,GACnC,KAAM41C,IAAa,GAAIG,IAAe,kBAEvC,KAAKjxG,EAAI,EAAGA,EAAI,GAAIA,GAAK,EAAG,CAE3B,GADAuG,EAAIopG,GAAMjxF,GACNnY,IAAK,EACR,KAAMuqG,IAAa,GAAIG,IAAe,kBACvC1qG,GAAIA,EAAEY,SAAS,IACC,GAAZZ,EAAEtG,SAAasG,EAAI,IAAMA,GAC7B6xG,EAAa7xG,EAAI,GAAK6xG,EAIS,sBAA5BA,EAAWh4G,eAAuD,GAAdg4G,EAEvDrQ,EAAYgB,SAAWiN,IAGvBmC,EAAalnG,SAASmnG,EAAY,IAE9BD,EAAa,WAChBpQ,EAAYgB,SAAWiN,GAEvBjO,EAAYgB,SAAW8D,EAAWsL,IAIpCpQ,EAAY4N,QAAU6C,GAAcN,EAASx5F,EAAOo3F,EAAQ/N,EAAYgB,UAGzE,QAAS0P,MACR,MAAOC,IAGR,QAASC,OAST,QAASC,IAA2B7Q,EAAa1jG,GAGhD,MAFA0jG,GAAY+N,OAAS1F,GAAuB,GAAIS,KAChDoH,GAAQlQ,EAAayH,GAAsB,GAAIQ,IAAwB3rG,GAAO0jG,EAAY+N,QACnF/N,EAGR,QAAS8Q,MACR,MAAOC,IAGR,QAASC,OAOT,QAASC,IAAUjR,EAAakR,EAAgBC,EAAeC,GAC9D,GAAIC,EACJrR,GAAYsR,gBAAkBJ,EAC9BlR,EAAYuR,eAAiBJ,EAC7BE,EAAYH,EAAiBC,EAAgBC,EACd,MAA3BpR,EAAYwR,aAAuBxR,EAAYyR,YAAcJ,IAChErR,EAAYwR,YAAc,KAC1BxR,EAAYyR,WAAaJ,EACzBrR,EAAYwR,YAAcrQ,EAAQmH,GAAc,GAAG,EAAItI,EAAYyR,WAAY,IAEhFzR,EAAY0R,2BAA6B1R,EAAYyR,WAAaN,EAGnE,QAASQ,IAAc3R,EAAa1nF,GACnC,MAAO0nF,GAAYwR,YAAYxR,EAAY4R,cAAgB5R,EAAY6R,KAAOv5F,GAG/E,QAASw5F,IAAa9R,EAAa1nF,EAAOw2C,EAAU7T,GACnD,GAAIhjD,GAAG85G,CAQP,KAPI/R,EAAYgS,sBACXhS,EAAY6R,KAAOv5F,EAAQ2iC,EAAQ+kD,EAAYiS,aAClDh3D,EAAQ+kD,EAAYiS,YAAcjS,EAAY6R,KAAOv5F,MAGrDw2C,EACFijD,EAAM/R,EAAY4R,cAAgB5R,EAAY6R,KAAOv5F,EAChDrgB,EAAI,EAAGA,EAAIgjD,GAAS+kD,EAAYwR,YAAYO,EAAM95G,IAAM+nG,EAAYwR,YAAYO,EAAM95G,EAAI62D,KAAa72D,GAE5G,MAAOA,GAGR,QAASi6G,IAAsBlS,GAC9B,MAAOA,GAAYiS,WAAajS,EAAY6R,KAG7C,QAASM,IAAWnS,GACnB,GAAI/nG,GAAGm6G,EAAUzlG,CAMjB,KALAA,EAASqzF,EAAY4R,cAAgB5R,EAAY6R,KAAO7R,EAAYsR,gBAChE3kG,EAAS,KACVA,EAEHylG,EAAWpS,EAAY4R,cAAgB5R,EAAYiS,WAAatlG,EAC3D1U,EAAI,EAAGA,EAAIm6G,IAAYn6G,EAC3B+nG,EAAYwR,YAAYv5G,GAAK+nG,EAAYwR,YAAY7kG,EAAS1U,EAE/D+nG,GAAY4R,eAAiBjlG,EAG9B,QAAS0lG,IAAWrS,GACnB,GAAIsS,KACFtS,EAAY6R,KACV7R,EAAY6R,KAAO7R,EAAYuS,YAClCD,EAAmBtS,EAAY4R,cAAgB5R,EAAY6R,KACvDS,EAAmBtS,EAAY0R,4BAClCS,GAAWnS,GAEZwS,GAAWxS,IAIb,QAASwS,IAAWxS,GACnB,GAAIyS,GAAcH,EAAkBnxG,CACpC,KAAI6+F,EAAYgS,qBAEhB,OAAa,CAEZ,GADA7wG,GAAQ6+F,EAAY4R,cAAgB5R,EAAYyR,WAAazR,EAAYiS,WAC7D,GAAR9wG,EACH,MAED,IADAsxG,EAAe5K,GAAQ7H,EAAY0S,QAAS1S,EAAYwR,YAAaxR,EAAY4R,cAAgB5R,EAAYiS,WAAY9wG,GACrHsxG,IAAgB,EAOnB,MANAzS,GAAYuS,UAAYvS,EAAYiS,WACpCK,EAAmBtS,EAAY4R,cAAgB5R,EAAYuS,UACvDD,EAAmBtS,EAAY0R,6BAClC1R,EAAYuS,UAAYvS,EAAY0R,2BAA6B1R,EAAY4R,oBAE9E5R,EAAYgS,sBAAuB,EAGpChS,GAAYiS,YAAcQ,EACtBzS,EAAYiS,YAAcjS,EAAY6R,KAAO7R,EAAYuR,iBAC5DvR,EAAYuS,UAAYvS,EAAYiS,WAAajS,EAAYuR,iBAKhE,QAASoB,IAAe3S,EAAa4S,GACpC5S,EAAY4R,eAAiBgB,EAC7B5S,EAAYuS,WAAaK,EACzB5S,EAAY6R,MAAQe,EACpB5S,EAAYiS,YAAcW,EAG3B,QAASC,MACR,MAAOC,IAGR,QAASC,OAiBT,QAASC,MACRA,GAAa9Q,EACb,IAAIjqG,GAAGP,EAAG8G,CAEV,KADAy0G,GAAW9R,EAAQ+R,GAAc,GAAG,EAAI,IAAK,GACxCj7G,EAAI,EAAGA,EAAI,MAAOA,EAAG,CAEzB,IADAuG,EAAIvG,EACCP,EAAI,EAAGA,EAAI,IAAKA,EACN,IAAN,EAAJ8G,GACJA,EAAIA,IAAM,GAAI,UAEdA,KAAO,CAERy0G,IAASh7G,GAAKuG,GAIhB,QAAS20G,IAAUnT,EAAaoT,EAAaC,EAAqBC,EAAaC,GAC9E,GAAIC,GAAkBC,EAAIC,CAC1B,SAAIN,EAAc,cAIlBpT,EAAY2T,UAAY,IAAML,GAAe,GAC7CI,MAAuBN,EAAcC,EAAsBC,EAAcC,GAAsB,GAAK,IACpGtC,GAAUjR,EAAaoT,EAAcC,EAAqBC,EAAcC,EAAoBG,GAC5F1T,EAAY4T,aAAeN,EAC3BE,EAAmBJ,EAAc,EAC7BpT,EAAY6T,mBAAqBL,IACpCxT,EAAY8T,KAAO3S,EAAQ+R,GAAc,GAAG,EAAyD,GAApDlT,EAAY6T,kBAAoBL,GAAuB,IAGzGC,EAAK,MACDzT,EAAY+T,aACfN,EAAKL,EAAc,EACnBK,GAAMA,GAAM,EACZA,GAAMA,GAAM,EACZA,GAAMA,GAAM,EACZA,GAAMA,GAAM,EACZA,IAAO,EACPA,GAAM,MACFA,EAAK,WACTA,IAAO,GACPzT,EAAYgU,UAAYP,IACtBA,EACFA,GAAMzT,EAAYiU,cAGfR,GAAMzT,EAAYkU,eACrBlU,EAAYmU,MAAQhT,EAAQ+R,GAAc,GAAG,EAAIlT,EAAYkU,aAAeT,EAAI,KAE1E,GAGR,QAASW,IAAYpU,EAAaqU,GACjC,GAAI75C,GAAOz2C,EAAKuwF,EAAUC,EAAWC,EAAWC,EAAW1mE,EAAO2mE,EAAYC,EAAYC,EAAWz3E,EAAK03E,EAAMC,EAAMC,EAAUC,EAAaC,EAAQtoG,EAAQuoG,EAAMC,EAAMC,EAAMC,CAC/K,IAAIrV,EAAY6R,KAAO7R,EAAY4T,cAAgB5T,EAAYiS,WAC9D8C,EAAW/U,EAAY4T,iBAGvB,IADAmB,EAAW/U,EAAYiS,WAAajS,EAAY6R,KAC5CkD,EAAW/U,EAAYsV,eAE1B,MADAC,IAAWvV,GACJ,CA2DT,KAxDArzF,EAAS,EACTqoG,EAAchV,EAAY6R,KAAO7R,EAAY6T,kBAAkB7T,EAAY6R,KAAO7R,EAAY6T,kBAAkB,EAChH9vF,EAAMi8E,EAAY4R,cAAgB5R,EAAY6R,KAC9CoD,EAAS,EACTP,EAAa,EACbC,EAAa,EACT3U,EAAY+T,YACfsB,EAAOpC,GAAwC,IAA/BjT,EAAYwR,YAAYztF,IAAiD,IAAnCi8E,EAAYwR,YAAYztF,EAAM,GACpF2wF,EAAoB,KAAPW,EACbA,IAA4C,IAAnCrV,EAAYwR,YAAYztF,EAAM,KAAa,EACpD4wF,EAAoB,MAAPU,EACbT,GAAaS,EAAOpC,GAA4C,IAAnCjT,EAAYwR,YAAYztF,EAAM,KAAa,GAAKi8E,EAAYgU,WAEzFY,EAA2C,IAA/B5U,EAAYwR,YAAYztF,IAAiD,IAAnCi8E,EAAYwR,YAAYztF,EAAM,KAAa,EAG9FuwF,EAAWtU,EAAYmU,MAAMnU,EAAYiU,aAAeW,GACpD5U,EAAY+T,aACfQ,EAAYvU,EAAYmU,MAAMO,GAC9BF,EAAYxU,EAAYmU,MAAM,KAAOQ,GACrC3U,EAAYmU,MAAMO,GAAc1U,EAAY6R,KAC5C7R,EAAYmU,MAAM,KAAOQ,GAAc3U,EAAY6R,KAC/C0C,EAAYS,GACXhV,EAAYwR,YAAYxR,EAAY4R,cAAgB2C,IAAcvU,EAAYwR,YAAYztF,KAC7FswF,EAAU1nG,KAAYsoG,EAAS,EAC/BZ,EAAU1nG,KAAYqzF,EAAY6R,KAAO0C,EAAY,GAGnDC,EAAYQ,GACXhV,EAAYwR,YAAYxR,EAAY4R,cAAgB4C,IAAcxU,EAAYwR,YAAYztF,KACzFywF,GAAaD,IAChB5nG,GAAU,GAEX0nG,EAAU1nG,KAAYsoG,EAAS,EAC/BZ,EAAU1nG,KAAYqzF,EAAY6R,KAAO2C,EAAY,EACrDD,EAAYC,GAGA,GAAV7nG,GAAe4nG,GAAaD,IAC/B3nG,GAAU,EACVsoG,EAAS,IAGXjV,EAAYmU,MAAMnU,EAAYiU,aAAeW,GAAa5U,EAAY6R,KACtEsD,GAAQnV,EAAYwV,kBAAoB,GAAK,EAC7CJ,EAAOpV,EAAYwV,kBAAoB,EACvCX,EAAOC,EAAO9U,EAAYyV,oBACa,GAAnCzV,EAAYyV,qBACXnB,EAAWU,GACVhV,EAAYwR,YAAYxR,EAAY4R,cAAgB0C,EAAWtU,EAAYyV,sBAAwBzV,EAAYwR,YAAYztF,EAAMi8E,EAAYyV,uBAChJpB,EAAU1nG,KAAYsoG,EAASjV,EAAYyV,oBAC3CpB,EAAU1nG,KAAYqzF,EAAY6R,KAAOyC,EAAW,GAIvD95C,EAAQwlC,EAAY2T,YACP,CACZ,GAAIW,GAAYU,GAA0B,GAAXx6C,IAAc,CAC5CwlC,EAAY8T,KAAKqB,GAAQnV,EAAY8T,KAAKsB,GAAQ,CAClD,OAMD,GAJArnE,EAAQiyD,EAAY6R,KAAOyC,EAC3BG,GAAa1mE,GAASiyD,EAAYwV,iBAAiBxV,EAAYwV,iBAAmBznE,EAAMiyD,EAAYwV,iBAAmBznE,EAAQiyD,EAAY6T,oBAAsB,EACjKqB,EAAOlV,EAAY4R,cAAgB0C,EACnCn3E,EAAM03E,EAAOC,EAAKD,EAAKC,EACnB9U,EAAYwR,YAAY0D,EAAO/3E,IAAQ6iE,EAAYwR,YAAYztF,EAAMoZ,GAAM,CAC9E,OAASA,GAAO43E,GACX/U,EAAYwR,YAAY0D,EAAO/3E,IAAQ6iE,EAAYwR,YAAYztF,EAAMoZ,KAI1E,GAAI83E,EAAS93E,IACZk3E,EAAU1nG,KAAYsoG,EAAS93E,EAC/Bk3E,EAAU1nG,KAAYohC,EAAQ,EAC1B5Q,GAAO43E,GAAU,CACrB/U,EAAY8T,KAAKsB,GAAQpV,EAAY8T,KAAKW,GAC1CzU,EAAY8T,KAAKqB,GAAQnV,EAAY8T,KAAKW,EAAY,EACtD,SAIyC,IAAtCzU,EAAYwR,YAAY0D,EAAO/3E,KAAoD,IAArC6iE,EAAYwR,YAAYztF,EAAMoZ,KAChF6iE,EAAY8T,KAAKsB,GAAQd,EACzBc,EAAOX,EAAY,EACnBH,EAAWtU,EAAY8T,KAAKsB,GAC5BN,EAAO33E,IAEP6iE,EAAY8T,KAAKqB,GAAQb,EACzBa,EAAOV,EACPH,EAAWtU,EAAY8T,KAAKqB,GAC5BN,EAAO13E,GAIT,MADAo4E,IAAWvV,GACJrzF,EAGR,QAAS+oG,IAAQ1V,GAChB,GAAI/nG,EAMJ,KALA+nG,EAAY4R,cAAgB,EAC5B5R,EAAY6R,KAAO,EACnB7R,EAAYiS,WAAa,EACzBjS,EAAYgS,sBAAuB,EACnCQ,GAAWxS,GACN/nG,EAAI,EAAGA,EAAI+nG,EAAYkU,eAAgBj8G,EAC3C+nG,EAAYmU,MAAMl8G,GAAK,CAExB+nG,GAAYwV,iBAAmB,EAC/B7C,GAAe3S,GAAa,GAG7B,QAASuV,IAAWvV,GACnB,GAAI4S,KACE5S,EAAYwV,kBAAoBxV,EAAY6T,oBACjD7T,EAAYwV,iBAAmB,GAEhCnD,GAAWrS,GACa,YAApBA,EAAY6R,OACfe,EAAW5S,EAAY6R,KAAO7R,EAAY6T,kBAC1C8B,GAAgB3V,EAAY8T,KAAsC,EAAhC9T,EAAY6T,kBAAuBjB,GACrE+C,GAAgB3V,EAAYmU,MAAOnU,EAAYkU,aAActB,GAC7DD,GAAe3S,EAAa4S,IAI9B,QAAS+C,IAAgBC,EAAOC,EAAUjD,GACzC,GAAI36G,GAAG2D,CACP,KAAK3D,EAAI,EAAGA,EAAI49G,IAAY59G,EAC3B2D,EAAQg6G,EAAM39G,GACV2D,GAASg3G,EACZh3G,EAAQ,EAERA,GAASg3G,EAEVgD,EAAM39G,GAAK2D,EAIb,QAASk6G,IAAS9V,EAAa+V,GAC9B/V,EAAY+T,WAAagC,EAAe,EACpC/V,EAAY+T,YACf/T,EAAYyV,oBAAsB,EAClCzV,EAAYsV,eAAiB,EAC7BtV,EAAYiU,aAAe,QAE3BjU,EAAYyV,oBAAsB,EAClCzV,EAAYsV,eAAiB,EAC7BtV,EAAYiU,aAAe,GAI7B,QAAS+B,IAAMhW,EAAajiE,GAC3B,GAAIy8B,GAAOz2C,EAAKuwF,EAAUG,EAAW1mE,EAAO2mE,EAAYC,EAAYC,EAAWz3E,EAAK03E,EAAMC,EAAMC,EAAUC,EAAaE,EAAMC,EAAMC,EAAMC,CACzI,GAAG,CACF,GAAIrV,EAAY6R,KAAO7R,EAAY4T,cAAgB5T,EAAYiS,WAC9D8C,EAAW/U,EAAY4T,iBAGvB,IADAmB,EAAW/U,EAAYiS,WAAajS,EAAY6R,KAC5CkD,EAAW/U,EAAYsV,eAAgB,CAC1CC,GAAWvV,EACX,UAsBF,IAnBAgV,EAAchV,EAAY6R,KAAO7R,EAAY6T,kBAAkB7T,EAAY6R,KAAO7R,EAAY6T,kBAAkB,EAChH9vF,EAAMi8E,EAAY4R,cAAgB5R,EAAY6R,KAC1C7R,EAAY+T,YACfsB,EAAOpC,GAAwC,IAA/BjT,EAAYwR,YAAYztF,IAAiD,IAAnCi8E,EAAYwR,YAAYztF,EAAM,GACpF2wF,EAAoB,KAAPW,EACbrV,EAAYmU,MAAMO,GAAc1U,EAAY6R,KAC5CwD,IAA4C,IAAnCrV,EAAYwR,YAAYztF,EAAM,KAAa,EACpD4wF,EAAoB,MAAPU,EACbrV,EAAYmU,MAAM,KAAOQ,GAAc3U,EAAY6R,KACnD+C,GAAaS,EAAOpC,GAA4C,IAAnCjT,EAAYwR,YAAYztF,EAAM,KAAa,GAAKi8E,EAAYgU,WAEzFY,EAA2C,IAA/B5U,EAAYwR,YAAYztF,IAAiD,IAAnCi8E,EAAYwR,YAAYztF,EAAM,KAAa,EAE9FuwF,EAAWtU,EAAYmU,MAAMnU,EAAYiU,aAAeW,GACxD5U,EAAYmU,MAAMnU,EAAYiU,aAAeW,GAAa5U,EAAY6R,KACtEsD,GAAQnV,EAAYwV,kBAAoB,GAAK,EAC7CJ,EAAOpV,EAAYwV,kBAAoB,EACvCX,EAAOC,EAAO9U,EAAYyV,oBAC1Bj7C,EAAQwlC,EAAY2T,YACP,CACZ,GAAIW,GAAYU,GAA0B,GAAXx6C,IAAc,CAC5CwlC,EAAY8T,KAAKqB,GAAQnV,EAAY8T,KAAKsB,GAAQ,CAClD,OAMD,GAJArnE,EAAQiyD,EAAY6R,KAAOyC,EAC3BG,GAAa1mE,GAASiyD,EAAYwV,iBAAiBxV,EAAYwV,iBAAmBznE,EAAMiyD,EAAYwV,iBAAmBznE,EAAQiyD,EAAY6T,oBAAsB,EACjKqB,EAAOlV,EAAY4R,cAAgB0C,EACnCn3E,EAAM03E,EAAOC,EAAKD,EAAKC,EACnB9U,EAAYwR,YAAY0D,EAAO/3E,IAAQ6iE,EAAYwR,YAAYztF,EAAMoZ,GAAM,CAC9E,OAASA,GAAO43E,GACX/U,EAAYwR,YAAY0D,EAAO/3E,IAAQ6iE,EAAYwR,YAAYztF,EAAMoZ,KAI1E,GAAIA,GAAO43E,EAAU,CACpB/U,EAAY8T,KAAKsB,GAAQpV,EAAY8T,KAAKW,GAC1CzU,EAAY8T,KAAKqB,GAAQnV,EAAY8T,KAAKW,EAAY,EACtD,SAGyC,IAAtCzU,EAAYwR,YAAY0D,EAAO/3E,KAAoD,IAArC6iE,EAAYwR,YAAYztF,EAAMoZ,KAChF6iE,EAAY8T,KAAKsB,GAAQd,EACzBc,EAAOX,EAAY,EACnBH,EAAWtU,EAAY8T,KAAKsB,GAC5BN,EAAO33E,IAEP6iE,EAAY8T,KAAKqB,GAAQb,EACzBa,EAAOV,EACPH,EAAWtU,EAAY8T,KAAKqB,GAC5BN,EAAO13E,GAGTo4E,GAAWvV,SAEI,KAAPjiE,GAGV,QAASk4E,MACR,MAAOC,IAGR,QAASC,OAmBT,QAASC,IAAWpW,EAAalxC,EAAU3xB,GAC1C,GAAI9X,EAKJ,KAJAA,EAAM26E,EAAY6R,KAAO/iD,EAAW,EAChCzpC,EAAM,IACTA,GAAO26E,EAAYqW,aAEN,GAAPl5E,IAAYA,EACd9X,GAAO26E,EAAYqW,cACtBhxF,EAAM,GAEP26E,EAAYsW,QAAQtW,EAAY6R,QAAU7R,EAAYsW,QAAQjxF,KAC1D26E,EAAY6R,MAAQ7R,EAAYqW,aACnCE,GAASvW,GAKZ,QAASwW,IAAUxW,EAAayW,GACJ,MAAvBzW,EAAYsW,SAAmBtW,EAAYqW,aAAeI,IAC7DzW,EAAYsW,QAAUnV,EAAQmH,GAAc,GAAG,EAAImO,EAAY,IAEhEzW,EAAYqW,YAAcI,EAC1BzW,EAAY6R,KAAO,EACnB7R,EAAYiS,WAAa,EAG1B,QAASsE,IAASvW,GACjB,GAAI7+F,EACJA,GAAO6+F,EAAY6R,KAAO7R,EAAYiS,WAC1B,GAAR9wG,IAGJwnG,GAAS3I,EAAY0S,QAAS1S,EAAYsW,QAAStW,EAAYiS,WAAY9wG,GACvE6+F,EAAY6R,MAAQ7R,EAAYqW,cACnCrW,EAAY6R,KAAO,GAEpB7R,EAAYiS,WAAajS,EAAY6R,MAGtC,QAAS6E,IAAS1W,EAAalxC,GAC9B,GAAIzpC,EAKJ,OAJAA,GAAM26E,EAAY6R,KAAO/iD,EAAW,EAChCzpC,EAAM,IACTA,GAAO26E,EAAYqW,aAEbrW,EAAYsW,QAAQjxF,GAG5B,QAASsxF,IAAQ3W,EAAa4W,GACxBA,IACJ5W,EAAYiS,WAAa,EACzBjS,EAAY6R,KAAO,GAIrB,QAASgF,IAAS7W,EAAazrG,GAC9ByrG,EAAYsW,QAAQtW,EAAY6R,QAAUt9G,EACtCyrG,EAAY6R,MAAQ7R,EAAYqW,aACnCE,GAASvW,GAIX,QAAS8W,IAAe9W,GACvBuW,GAASvW,GACTA,EAAY0S,QAAU,KAGvB,QAASqE,IAAa/W,EAAagX,GAClCT,GAASvW,GACTA,EAAY0S,QAAU,KACtB1S,EAAY0S,QAAUsE,EAGvB,QAASC,MACR,MAAOC,IAGR,QAASC,OAWT,QAASC,IAAiBj6E,GAEzB,MADAA,IAAO,EACHA,EAAM,EACFA,EAED,EAGR,QAASk6E,IAAgB/+F,GACxB,MAAIA,GAAQ,EACJ,EAEJA,EAAQ,GACJA,EAAQ,EAETA,EAAQ,EAGhB,QAASi3F,IAAWvP,EAAa4M,GAIhC,MAHA5M,GAAY4M,QAAUA,EACtB5M,EAAYmQ,QAAU,KACtBnQ,EAAYsX,OAAQ,EACbtX,EAGR,QAASuX,IAASvX,EAAamQ,GAI9B,MAHAnQ,GAAYmQ,QAAUA,EACtBnQ,EAAY4M,QAAU,KACtB5M,EAAYsX,OAAQ,EACbtX,EAGR,QAAS2N,IAAc3N,GACtB,GAAIiQ,EACJ,KAAKjQ,EAAYsX,MAChB,KAAM,IAAI1M,GAEXqF,IAAY,CACZ,KAOC,MANIjQ,GAAY4M,QACf4K,GAAqBxX,GAErByX,GAAqBzX,GAEtBiQ,GAAY,EACLjQ,EAAYsX,MAClB,QACGrH,IACHjQ,EAAYsX,OAAQ,IAKvB,QAASG,IAAqBzX,GAC7B,GAAIpwF,EAEJ,IADAA,EAAS8nG,GAAc1X,EAAYmQ,SAC/BvgG,IAAU,EACb,KAAMm5F,IAAa,GAAIG,IAAe,kBAEvClJ,GAAY2X,iBAAmB1J,GAC/BjO,EAAY4X,kBAAoB5X,EAAYmQ,QAAQd,UACtC,GAAVz/F,GAAe+pC,EAAQqmD,EAAYmQ,QAAQ0H,QAASvI,KAAe,GAAK31D,EAAQqmD,EAAYmQ,QAAQd,SAAUrP,EAAYmQ,QAAQ0H,UAAY,KACjJC,GAAY9X,EAAYmQ,SACxBnQ,EAAYsX,OAAQ,GAItB,QAASE,IAAqBxX,GAC7B+X,GAAc/X,EAAY4M,QAAS5M,EAAY4M,QAAQoL,gBAAiBhY,EAAY4M,QAAQqL,iBAAkBjY,EAAY4M,QAAQsL,UAClIlY,EAAY2X,iBAAmB3X,EAAY4M,QAAQoL,gBAAgB,GAC/DhY,EAAY4M,QAAQsL,SAAS,KAChCC,GAAgBnY,EAAY4M,SAC5B5M,EAAYsX,OAAQ,GAItB,QAASc,MACR,MAAOC,IAGR,QAAS7I,OAST,QAASsI,IAAY9X,GACpBuW,GAASvW,EAAYsY,aACrBxB,GAAe9W,EAAYsY,aAC3BtY,EAAYuY,eAAe5J,OAAS,KAGrC,QAAS8B,IAAczQ,EAAawY,EAAUC,EAAWZ,GAYxD,MAXA7X,GAAYuY,eAAe5J,OAAS6J,EACpCzB,GAAa/W,EAAYsY,YAAaG,GACtCC,GAAQ1Y,GACRA,EAAYh6F,MAAQ,EACpBg6F,EAAY2Y,KAAO,EACnB3Y,EAAY4Y,KAAO,EACnB5Y,EAAY6Y,KAAO,EACnB7Y,EAAY8Y,KAAO,EACnB9Y,EAAY6X,QAAUA,EACtB7X,EAAYqP,SAAWC,GACvBtP,EAAY+Y,SAAW,EAChBxB,GAAS,GAAI/H,IAAWxP,GAGhC,QAAS0X,IAAc1X,GACvB,GAAIgZ,GAAUlqD,EAAU3xB,EAAK87E,EAAeC,EAASC,CAErD,IADAA,EAAW3V,EAAUxD,EAAYqP,UAAYrP,EAAYoZ,eACyD,GAA9GC,GAAWrZ,EAAYuY,eAAgBvY,EAAYsZ,mBAAoBtZ,EAAYh6F,OAAS,GAAKmzG,GACpGH,EAAWO,GAAYvZ,EAAYwZ,iBAAkBhW,EAAUxD,EAAYqP,UAAWrP,EAAY+Y,UAC9F/Y,EAAYh6F,MAAQ,EACxBg6F,EAAY+Y,SAAWU,GAAcT,EAAUhZ,EAAYuY,gBAG3DvY,EAAY+Y,SAAWW,GAAqBV,EAAUhZ,EAAYuY,eAAgB7B,GAAS1W,EAAYsY,YAAatY,EAAY2Y,OAEhI9B,GAAS7W,EAAYsY,YAAatY,EAAY+Y,UAC9C/Y,EAAYh6F,MAAQqxG,GAAgBrX,EAAYh6F,OAChDg6F,EAAYqP,SAAWhzG,EAAI2jG,EAAYqP,SAAUsK,QAC3C,CACN,GAA8F,GAA1FN,GAAWrZ,EAAYuY,eAAgBvY,EAAY4Z,gBAAiB5Z,EAAYh6F,OACnFm3B,EAAM,EAC0F,GAA5Fk8E,GAAWrZ,EAAYuY,eAAgBvY,EAAY6Z,kBAAmB7Z,EAAYh6F,OACgC,GAAjHqzG,GAAWrZ,EAAYuY,eAAgBvY,EAAY8Z,sBAAuB9Z,EAAYh6F,OAAS,GAAKmzG,KACvGnZ,EAAYh6F,MAAQg6F,EAAYh6F,MAAQ,EAAE,EAAE,GAC5Cm3B,EAAM,IAGyF,GAA5Fk8E,GAAWrZ,EAAYuY,eAAgBvY,EAAY+Z,kBAAmB/Z,EAAYh6F,OACrF8oD,EAAWkxC,EAAY4Y,MAEyE,GAA5FS,GAAWrZ,EAAYuY,eAAgBvY,EAAYga,kBAAmBha,EAAYh6F,OACrF8oD,EAAWkxC,EAAY6Y,MAEvB/pD,EAAWkxC,EAAY8Y,KACvB9Y,EAAY8Y,KAAO9Y,EAAY6Y,MAEhC7Y,EAAY6Y,KAAO7Y,EAAY4Y,MAEhC5Y,EAAY4Y,KAAO5Y,EAAY2Y,KAC/B3Y,EAAY2Y,KAAO7pD,GAET,GAAP3xB,IACHA,EAAM88E,GAAQja,EAAYka,gBAAiBla,EAAYuY,eAAgBY,GAAY,EACnFnZ,EAAYh6F,MAAQg6F,EAAYh6F,MAAQ,EAAE,EAAE,QAS7C,IANAg6F,EAAY8Y,KAAO9Y,EAAY6Y,KAC/B7Y,EAAY6Y,KAAO7Y,EAAY4Y,KAC/B5Y,EAAY4Y,KAAO5Y,EAAY2Y,KAC/Bx7E,EAAM,EAAI88E,GAAQja,EAAYma,aAAcna,EAAYuY,eAAgBY,GACxEnZ,EAAYh6F,MAAQg6F,EAAYh6F,MAAQ,EAAE,EAAE,GAC5CkzG,EAAUkB,GAAUpa,EAAYqa,iBAAiBjD,GAAiBj6E,IAAO6iE,EAAYuY,gBACjFW,GAAW,GAGd,GAFAD,GAAiBC,GAAW,GAAK,EACjClZ,EAAY2Y,MAAQ,EAAc,EAAVO,IAAgBD,EACpCC,EAAU,GACblZ,EAAY2Y,MAAQ2B,GAActa,EAAYua,cAAeva,EAAY2Y,KAAOO,EAAU,EAAGlZ,EAAYuY,eAAgBU,OAIzH,IAFAjZ,EAAY2Y,MAAQ6B,GAAkBxa,EAAYuY,eAAgBU,EAAgB,IAAM,EACxFjZ,EAAY2Y,MAAQ8B,GAAeza,EAAY0a,kBAAmB1a,EAAYuY,gBAC1EvY,EAAY2Y,KAAO,EACtB,MAAI3Y,GAAY2Y,OAAQ,EAChB,GAED,MAIT3Y,GAAY2Y,KAAOO,CAEpB,IAAIv/D,EAAQurD,EAAQlF,EAAY2Y,MAAO3Y,EAAYqP,WAAa,GAAKrP,EAAY2Y,MAAQ3Y,EAAY2a,sBACpG,OAAO,CAERvE,IAAWpW,EAAYsY,YAAatY,EAAY2Y,KAAMx7E,GACtD6iE,EAAYqP,SAAWhzG,EAAI2jG,EAAYqP,SAAUnK,EAAQ/nE,IACzD6iE,EAAY+Y,SAAWrC,GAAS1W,EAAYsY,YAAa,GAE1D,MAAO,GAGR,QAAShI,IAAStQ,GACjB,GAAI/nG,EAeJ,KAdA+nG,EAAYsY,YAAc,GAAInB,IAC9BnX,EAAYuY,eAAiB,GAAIqC,IACjC5a,EAAYsZ,kBAAoBnY,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GAClE7a,EAAY4Z,gBAAkBzY,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GAC/D7a,EAAY6Z,kBAAoB1Y,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GACjE7a,EAAY+Z,kBAAoB5Y,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GACjE7a,EAAYga,kBAAoB7Y,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GACjE7a,EAAY8Z,qBAAuB3Y,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GACrE7a,EAAYqa,iBAAmBlZ,EAAQ2Z,GAAuF,EAAG,EAAG,EAAG,GACvI9a,EAAYua,cAAgBpZ,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GAC9D7a,EAAY0a,kBAAoBK,GAAgB,GAAIC,IAAkB,GACtEhb,EAAYma,aAAec,GAAoB,GAAIC,KACnDlb,EAAYka,gBAAkBe,GAAoB,GAAIC,KACtDlb,EAAYwZ,iBAAmB,GAAI2B,IAC9BljH,EAAI,EAAGA,EAAI,IAAKA,EACpB+nG,EAAYqa,iBAAiBpiH,GAAK8iH,GAAgB,GAAIC,IAAkB,EAEzE,OAAOhb,GAGR,QAAS0Y,IAAQ1Y,GAChB,GAAI/nG,EAUJ,KATA0+G,GAAQ3W,EAAYsY,aAAa,GACjC8C,GAAcpb,EAAYsZ,mBAC1B8B,GAAcpb,EAAY8Z,sBAC1BsB,GAAcpb,EAAY4Z,iBAC1BwB,GAAcpb,EAAY6Z,mBAC1BuB,GAAcpb,EAAY+Z,mBAC1BqB,GAAcpb,EAAYga,mBAC1BoB,GAAcpb,EAAYua,eAC1Bc,GAAQrb,EAAYwZ,kBACfvhH,EAAI,EAAGA,EAAI,IAAKA,EACpBmjH,GAAcpb,EAAYqa,iBAAiBpiH,GAAGqjH,OAE/CC,IAAMvb,EAAYma,cAClBoB,GAAMvb,EAAYka,iBAClBkB,GAAcpb,EAAY0a,kBAAkBY,QAC5CE,GAAQxb,EAAYuY,gBAGrB,QAAS/H,IAAsBxQ,EAAa7sC,GAC3C,GAAI25C,GAAgB70G,EAAGm1G,EAAIC,EAAIC,EAAImO,EAAWxvG,CAC9C,IAAIknD,EAAWj7D,OAAS,EACvB,OAAO,CAOR,KANA+T,EAAsB,IAAhBknD,EAAW,GACjBi6C,EAAKnhG,EAAM,EACXwvG,KAAexvG,EAAM,GACrBohG,EAAKoO,EAAY,EACjBnO,KAAQmO,EAAY,GACpB3O,EAAiB,EACZ70G,EAAI,EAAGA,EAAI,IAAKA,EACpB60G,IAAuC,IAApB35C,EAAW,EAAIl7D,KAAiB,EAAJA,CAEhD,SAAKyjH,GAAW1b,EAAaoN,EAAIC,EAAIC,IAG9BqO,GAAmB3b,EAAa8M,GAGxC,QAAS6O,IAAmB3b,EAAa8M,GACxC,QAAIA,EAAiB,KAGjB9M,EAAY4b,kBAAoB9O,IACnC9M,EAAY4b,iBAAmB9O,EAC/B9M,EAAY2a,sBAAwB52G,GAAIi8F,EAAY4b,iBAAkB,GACtEpF,GAAUxW,EAAYsY,YAAav0G,GAAIi8F,EAAY2a,sBAAuB,SAEpE,GAGR,QAASe,IAAW1b,EAAaoN,EAAIC,EAAIC,GACxC,GAAIuO,EACJ,SAAIzO,EAAK,GAAKC,EAAK,GAAKC,EAAK,KAG7BwO,GAAU9b,EAAYwZ,iBAAkBnM,EAAID,GAC5CyO,EAAe,GAAKvO,EACpByO,GAAQ/b,EAAYma,aAAc0B,GAClCE,GAAQ/b,EAAYka,gBAAiB2B,GACrC7b,EAAYoZ,eAAiByC,EAAe,GACrC,GAGR,QAASG,MACR,MAAOC,IAGR,QAAS1L,OAiBT,QAASwL,IAAQ/b,EAAa6b,GAC7B,KAAO7b,EAAYkc,eAAiBL,IAAgB7b,EAAYkc,eAC/Dlc,EAAYmc,WAAWnc,EAAYkc,gBAAkBnB,GAAgB,GAAIC,IAAkB,GAC3Fhb,EAAYoc,WAAWpc,EAAYkc,gBAAkBnB,GAAgB,GAAIC,IAAkB,GAI7F,QAASf,IAAQja,EAAaqc,EAAclD,GAC3C,GAAI/8E,EACJ,OAAyD,IAArDi9E,GAAWgD,EAAcrc,EAAYsc,SAAU,GAC3ClC,GAAUpa,EAAYmc,WAAWhD,GAAWkD,IAEpDjgF,EAAS,EAERA,GADwD,GAArDi9E,GAAWgD,EAAcrc,EAAYsc,SAAU,GACxClC,GAAUpa,EAAYoc,WAAWjD,GAAWkD,GAE5C,EAAIjC,GAAUpa,EAAYuc,YAAaF,IAKnD,QAASpB,IAAoBjb,GAK5B,MAJAA,GAAYsc,SAAWnb,EAAQ0Z,GAAc,GAAG,EAAI,EAAG,GACvD7a,EAAYmc,WAAahb,EAAQ2Z,GAAuF,EAAG,EAAG,GAAI,GAClI9a,EAAYoc,WAAajb,EAAQ2Z,GAAuF,EAAG,EAAG,GAAI,GAClI9a,EAAYuc,YAAcxB,GAAgB,GAAIC,IAAkB,GACzDhb,EAGR,QAASub,IAAMvb,GACd,GAAImZ,EAEJ,KADAiC,GAAcpb,EAAYsc,UACrBnD,EAAW,EAAGA,EAAWnZ,EAAYkc,iBAAkB/C,EAC3DiC,GAAcpb,EAAYmc,WAAWhD,GAAUmC,QAC/CF,GAAcpb,EAAYoc,WAAWjD,GAAUmC,OAEhDF,IAAcpb,EAAYuc,YAAYjB,QAGvC,QAASkB,MACR,MAAOC,IAGR,QAASvB,OAOT,QAASY,IAAU9b,EAAa0c,EAAYC,GAC5C,GAAI1kH,GAAG2kH,CACP,IAA4B,MAAxB5c,EAAY6c,UAAoB7c,EAAY8c,eAAiBH,GAAe3c,EAAY+c,cAAgBL,EAO5G,IALA1c,EAAY+c,aAAeL,EAC3B1c,EAAYgd,WAAa,GAAKN,GAAc,EAC5C1c,EAAY8c,cAAgBH,EAC5BC,EAAY,GAAK5c,EAAY8c,cAAgB9c,EAAY+c,aACzD/c,EAAY6c,SAAW1b,EAAQ8b,GAAkG,EAAG,EAAGL,EAAW,GAC7I3kH,EAAI,EAAGA,EAAI2kH,IAAa3kH,EAC5B+nG,EAAY6c,SAAS5kH,GAAKilH,GAAiC,GAAIC,KAGhE,QAAS5D,IAAYvZ,EAAa36E,EAAK0zF,GACtC,MAAO/Y,GAAY6c,WAAWx3F,EAAM26E,EAAYgd,YAAchd,EAAY8c,iBAA8B,IAAX/D,KAAoB,EAAI/Y,EAAY8c,gBAGlI,QAASzB,IAAQrb,GAChB,GAAI/nG,GAAG2kH,CAEP,KADAA,EAAY,GAAK5c,EAAY8c,cAAgB9c,EAAY+c,aACpD9kH,EAAI,EAAGA,EAAI2kH,IAAa3kH,EAC5BmjH,GAAcpb,EAAY6c,SAAS5kH,GAAGmlH,YAIxC,QAASC,MACR,MAAOC,IAGR,QAASnC,OAUT,QAAS1B,IAAczZ,EAAaqc,GACnC,GAAIjgF,EACJA,GAAS,CACT,GACCA,GAASA,GAAU,EAAIi9E,GAAWgD,EAAcrc,EAAYod,WAAYhhF,SAChEA,EAAS,IAClB,OAAOA,IAAU,IAAM,GAGxB,QAASs9E,IAAqB1Z,EAAaqc,EAAckB,GACxD,GAAIC,GAAKC,EAAUrhF,CACnBA,GAAS,CACT,GAKC,IAJAqhF,EAAWF,GAAa,EAAI,EAC5BA,IAAc,EACdC,EAAMnE,GAAWgD,EAAcrc,EAAYod,YAAa,EAAIK,GAAY,GAAKrhF,GAC7EA,EAASA,GAAU,EAAIohF,EACnBC,GAAYD,EAAK,CACpB,KAAOphF,EAAS,KACfA,EAASA,GAAU,EAAIi9E,GAAWgD,EAAcrc,EAAYod,WAAYhhF,EAE1E,aAEQA,EAAS,IAClB,OAAOA,IAAU,IAAM,GAGxB,QAAS8gF,IAAiCld,GAEzC,MADAA,GAAYod,WAAajc,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GACpD7a,EAGR,QAAS0d,MACR,MAAOC,IAGR,QAASR,OAMT,QAASS,MACRA,GAAa1b,EACb,IAAIltG,GAAG0C,EAAGS,EAAG0lH,CAKb,KAJAC,GAAY3c,EAAQmH,GAAc,GAAG,EAAI,KAAM,GAC/CtzG,EAAI,EACJ8oH,GAAU,GAAK,EACfA,GAAU,GAAK,EACVD,EAAW,EAAGA,EAAW,KAAMA,EAEnC,IADA1lH,EAAI,IAAM0lH,GAAY,GAAK,EACtBnmH,EAAI,EAAGA,EAAIS,IAAKT,IAAM1C,EAC3B8oH,GAAU9oH,GAAK6oH,GAAY,IAAM,GAInC,QAASE,IAAU/d,EAAaj8E,GAC/B,GAAIi6F,GAASC,EAASC,EAAQC,CAC9Bne,GAAYoe,iBAAmBr6F,EAC/Bm6F,EAASle,EAAYqe,SAASt6F,GAAKu6F,QACnCL,EAAUje,EAAYqe,SAASt6F,GAAKw6F,QACpC,GACKve,GAAYqe,SAASt6F,GAAKy6F,cAC7BC,GAAYze,EAAYqe,SAASH,IACjCle,EAAYqe,SAASH,GAAQI,QAAUJ,EAAS,EAC5Cle,EAAYqe,SAASt6F,GAAK26F,QAC7B1e,EAAYqe,SAASH,EAAS,GAAGM,aAAc,EAC/Cxe,EAAYqe,SAASH,EAAS,GAAGI,QAAUte,EAAYqe,SAASt6F,GAAK46F,SACrE3e,EAAYqe,SAASH,EAAS,GAAGK,SAAWve,EAAYqe,SAASt6F,GAAK66F,YAGxET,EAAUD,EACVF,EAAUC,EACVA,EAAUje,EAAYqe,SAASF,GAASI,SACxCL,EAASle,EAAYqe,SAASF,GAASG,QACvCte,EAAYqe,SAASF,GAASI,SAAWP,EACzChe,EAAYqe,SAASF,GAASG,QAAUv6F,EACxCA,EAAMo6F,QACEp6F,EAAM,EAGf,OAFAi8E,GAAY6e,QAAU7e,EAAYqe,SAAS,GAAGE,SAC9Cve,EAAY8e,qBAAuB9e,EAAYqe,SAAS,GAAGC,QACpDte,EAAY8e,qBAGpB,QAASC,IAAU/e,GAClB,GAAI/nG,EAGJ,KAFA+nG,EAAYgf,OAAS,EACrBhf,EAAYif,cAAgB,EACvBhnH,EAAI,EAAGA,EAAI,IAAKA,EACpB+nG,EAAYkf,cAAcjnH,GAAK,EAIjC,QAAS8/G,IAAc/X,EAAamf,EAAQtH,EAASK,GACpD,GAAI9xE,GAASg5E,EAAcC,EAASvwD,EAAUwwD,EAAYrnH,EAAGklC,EAAKoiF,EAAehC,EAAWl4F,EAAKm6F,EAAYtG,EAASC,EAAUsG,EAAsBC,CAUtJ,IATAP,EAAO,GAAK7P,GACZuI,EAAQ,GAAKvI,GACb4I,EAAS,IAAK,EACVlY,EAAYuO,YACfvO,EAAY2f,aAAajN,QAAU1S,EAAYuO,UAC/CmH,GAAQ1V,EAAY2f,cACpB3f,EAAYsO,sBAAuB,EACnCtO,EAAYuO,UAAY,OAErBvO,EAAYwO,UAAhB,CAKA,GAFAxO,EAAYwO,WAAY,EACxBiR,EAAuBzf,EAAYqP,SAC/B5tG,EAAGu+F,EAAYqP,SAAUC,IAAa,CACzC,GAAuD,GAAnD4C,GAAsBlS,EAAY2f,cAErC,WADAC,IAAO5f,EAAawD,EAAUxD,EAAYqP,UAG3CwQ,IAAoB7f,GACpBmZ,EAAW3V,EAAUxD,EAAYqP,UAAYrP,EAAY8f,cACzDC,GAAU/f,EAAY0O,cAAe1O,EAAYggB,UAAWhgB,EAAYgf,QAAU,GAAK7F,EAAU,GACjGnZ,EAAYgf,OAAS3H,GAAgBrX,EAAYgf,QACjDK,EAAU1N,GAAc3R,EAAY2f,cAAe3f,EAAYigB,mBAC/DC,GAAUC,GAAangB,EAAYogB,gBAAiB5c,EAAUxD,EAAYqP,UAAWrP,EAAYif,eAAgBjf,EAAY0O,cAAe2Q,GAC5Irf,EAAYif,cAAgBI,IAC1Brf,EAAYigB,kBACdjgB,EAAYqP,SAAWhzG,EAAI2jG,EAAYqP,SAAUsK,IAElD,GAAuD,GAAnDzH,GAAsBlS,EAAY2f,cAErC,WADAC,IAAO5f,EAAawD,EAAUxD,EAAYqP,UAG3C,QAAa,CAKZ,GAJAlyE,EAAMkjF,GAAYrgB,EAAawD,EAAUxD,EAAYqP,WACrDhqF,EAAM26E,EAAY6e,QAClB1F,EAAW3V,EAAUxD,EAAYqP,UAAYrP,EAAY8f,cACzDV,GAAgBpf,EAAYgf,QAAU,GAAK7F,EAChC,GAAPh8E,GAAY9X,IAAO,EACtB06F,GAAU/f,EAAY0O,cAAe1O,EAAYggB,SAAUZ,EAAc,GACzEC,EAAU1N,GAAc3R,EAAY2f,cAAe3f,EAAYigB,mBAC/DP,EAAWS,GAAangB,EAAYogB,gBAAiB5c,EAAUxD,EAAYqP,UAAWrP,EAAYif,eAC9Fjf,EAAYgf,OAAS,EACxBkB,GAAUR,EAAU1f,EAAY0O,cAAe2Q,IAE/C9B,EAAY5L,GAAc3R,EAAY2f,cAAe3f,EAAYkf,cAAc,GAAK,EAAIlf,EAAYigB,mBACpGK,GAAeZ,EAAU1f,EAAY0O,cAAe6O,EAAW8B,IAEhErf,EAAYif,cAAgBI,EAC5Brf,EAAYgf,OAAS3H,GAAgBrX,EAAYgf,YAC3C,CAEN,GADAe,GAAU/f,EAAY0O,cAAe1O,EAAYggB,SAAUZ,EAAc,GACrE/5F,EAAM,GAyBT,GAxBA06F,GAAU/f,EAAY0O,cAAe1O,EAAYugB,OAAQvgB,EAAYgf,OAAQ,GAClE,GAAP35F,GACH06F,GAAU/f,EAAY0O,cAAe1O,EAAYwgB,SAAUxgB,EAAYgf,OAAQ,GACpE,GAAP7hF,EACH4iF,GAAU/f,EAAY0O,cAAe1O,EAAYygB,YAAarB,EAAc,GAE5EW,GAAU/f,EAAY0O,cAAe1O,EAAYygB,YAAarB,EAAc,KAG7EW,GAAU/f,EAAY0O,cAAe1O,EAAYwgB,SAAUxgB,EAAYgf,OAAQ,GACpE,GAAP35F,EACH06F,GAAU/f,EAAY0O,cAAe1O,EAAY0gB,SAAU1gB,EAAYgf,OAAQ,IAE/Ee,GAAU/f,EAAY0O,cAAe1O,EAAY0gB,SAAU1gB,EAAYgf,OAAQ,GAC/Ee,GAAU/f,EAAY0O,cAAe1O,EAAY2gB,SAAU3gB,EAAYgf,OAAQ35F,EAAM,KAG5E,GAAP8X,EACH6iE,EAAYgf,OAAShf,EAAYgf,OAAS,EAAE,EAAE,IAE9C4B,GAAU5gB,EAAYoP,oBAAqBpP,EAAY0O,cAAevxE,EAAM,EAAGg8E,GAC/EnZ,EAAYgf,OAAShf,EAAYgf,OAAS,EAAE,EAAE,IAE/ClwD,EAAWkxC,EAAYkf,cAAc75F,GAC1B,GAAPA,EAAU,CACb,IAAKptB,EAAIotB,EAAKptB,GAAK,IAAKA,EACvB+nG,EAAYkf,cAAcjnH,GAAK+nG,EAAYkf,cAAcjnH,EAAI,EAE9D+nG,GAAYkf,cAAc,GAAKpwD,OAE1B,CAqBN,IApBAixD,GAAU/f,EAAY0O,cAAe1O,EAAYugB,OAAQvgB,EAAYgf,OAAQ,GAC7Ehf,EAAYgf,OAAShf,EAAYgf,OAAS,EAAE,EAAE,GAC9C4B,GAAU5gB,EAAY+O,YAAa/O,EAAY0O,cAAevxE,EAAM,EAAGg8E,GACvE9zF,GAAO,EACP6zF,EAAU2H,GAAWx7F,GACrBk6F,EAAgBnI,GAAiBj6E,GACjC2jF,GAAU9gB,EAAY+gB,gBAAgBxB,GAAgBvf,EAAY0O,cAAewK,GAC7EA,GAAW,IACdoG,GAAcpG,GAAW,GAAK,EAC9B9yE,GAAW,EAAc,EAAV8yE,IAAgBoG,EAC/BE,EAAan6F,EAAM+gB,EACf8yE,EAAU,GACb8H,GAAchhB,EAAYihB,aAAc76E,EAAU8yE,EAAU,EAAGlZ,EAAY0O,cAAe4Q,EAAYE,IAEtG0B,GAAkBlhB,EAAY0O,cAAe8Q,GAAc,EAAGF,EAAa,GAC3E6B,GAAenhB,EAAYohB,iBAAkBphB,EAAY0O,cAA4B,GAAb8Q,KACtExf,EAAYqhB,mBAGhBvyD,EAAWzpC,EACNptB,EAAI,EAAGA,GAAK,IAAKA,EACrB+nG,EAAYkf,cAAcjnH,GAAK+nG,EAAYkf,cAAcjnH,EAAI,EAE9D+nG,GAAYkf,cAAc,GAAKpwD,IAC7BkxC,EAAYshB,iBAEfthB,EAAYif,cAAgBtN,GAAc3R,EAAY2f,aAAcxiF,EAAM,EAAI6iE,EAAYigB,mBAI3F,GAFAjgB,EAAYigB,mBAAqB9iF,EACjC6iE,EAAYqP,SAAWhzG,EAAI2jG,EAAYqP,SAAUnK,EAAQ/nE,IACpB,GAAjC6iE,EAAYigB,kBAAwB,CASvC,GARIjgB,EAAYshB,kBAAoB,KACnCzS,GAAqB7O,GAElBA,EAAYqhB,kBAAoB,IACnCvS,GAAiB9O,GAElBmf,EAAO,GAAKnf,EAAYqP,SACxBwI,EAAQ,GAAK0J,GAAqBvhB,EAAY0O,eACS,GAAnDwD,GAAsBlS,EAAY2f,cAErC,WADAC,IAAO5f,EAAawD,EAAUxD,EAAYqP,UAG3C,IAAI11D,EAAQn1C,EAAIw7F,EAAYqP,SAAUoQ,GAAuB+B,KAAkB,EAG9E,MAFAxhB,GAAYwO,WAAY,OACxB0J,EAAS,IAAK,MAOlB,QAASzJ,IAAUzO,GAClB,GAAI1lG,GAAIy7G,CACH/V,GAAY2f,eACV3M,KAAN14G,EAAqB,GAAI67G,IACzBJ,EAAe,EACqB,GAAhC/V,EAAYyhB,mBACf1L,EAAe,GAEhBD,GAASx7G,EAAIy7G,GACb/V,EAAY2f,aAAerlH,GAE5BonH,GAAU1hB,EAAYogB,gBAAiBpgB,EAAY2hB,wBAAyB3hB,EAAY4hB,wBACpF5hB,EAAY6hB,iBAAmB7hB,EAAY8hB,qBAAuB9hB,EAAY+hB,mBAAqB/hB,EAAYiP,gBAGnHkE,GAAUnT,EAAY2f,aAAc3f,EAAY6hB,gBAAiB,KAAM7hB,EAAYiP,cAAe,KAClGjP,EAAY8hB,oBAAsB9hB,EAAY6hB,gBAC9C7hB,EAAY+hB,kBAAoB/hB,EAAYiP,eAG7C,QAASf,IAASlO,GACjB,GAAI/nG,EA4BJ,KA3BA2lH,KACA5d,EAAYkf,cAAgB/d,EAAQ+R,GAAc,GAAG,EAAI,EAAG,GAC5DlT,EAAYqe,SAAWld,EAAQ6gB,GAAkF,EAAG,EAAG,KAAM,GAC7HhiB,EAAY0O,eAAiBuT,KAAe,GAAIC,KAChDliB,EAAYggB,SAAW7e,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GACzD7a,EAAYugB,OAASpf,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GACtD7a,EAAYwgB,SAAWrf,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GACxD7a,EAAY0gB,SAAWvf,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GACxD7a,EAAY2gB,SAAWxf,EAAQ0Z,GAAc,GAAG,EAAI,GAAI,GACxD7a,EAAYygB,YAActf,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GAC5D7a,EAAY+gB,gBAAkB5f,EAAQghB,GAAuF,EAAG,EAAG,EAAG,GACtIniB,EAAYihB,aAAe9f,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GAC7D7a,EAAYohB,iBAAmBgB,GAAgB,GAAIC,IAAkB,GACrEriB,EAAY+O,YAAcuT,GAA8B,GAAIC,KAC5DviB,EAAYoP,oBAAsBkT,GAA8B,GAAIC,KACpEviB,EAAYogB,gBAAkB,GAAIoC,IAClCxiB,EAAYyiB,gBAAkBthB,EAAQ+R,GAAc,GAAG,EAAI,IAAK,GAChElT,EAAY0iB,eAAiBvhB,EAAQ+R,GAAc,GAAG,EAAI,IAAK,GAC/DlT,EAAY2iB,iBAAmBxhB,EAAQ+R,GAAc,GAAG,EAAI,IAAK,GACjElT,EAAY4iB,aAAezhB,EAAQ+R,GAAc,GAAG,EAAI,GAAI,GAC5DlT,EAAY6iB,KAAO1hB,EAAQ+R,GAAc,GAAG,EAAI,EAAG,GACnDlT,EAAY8iB,QAAU3hB,EAAQ+R,GAAc,GAAG,EAAI,EAAG,GACtDlT,EAAYgY,gBAAkB7W,EAAQ4hB,GAAc,GAAG,EAAI,EAAG,GAC9D/iB,EAAYiY,iBAAmB9W,EAAQ4hB,GAAc,GAAG,EAAI,EAAG,GAC/D/iB,EAAYkY,SAAW/W,EAAQ6hB,GAAc,GAAG,EAAI,EAAG,GACvDhjB,EAAY7sC,WAAaguC,EAAQmH,GAAc,GAAG,EAAI,EAAG,GACzDtI,EAAYijB,WAAa9hB,EAAQ+R,GAAc,GAAG,EAAI,IAAK,GACtDj7G,EAAI,EAAGA,EAAI,OAAQA,EACvB+nG,EAAYqe,SAASpmH,GAAK,GAAIirH,GAE/B,KAAKjrH,EAAI,EAAGA,EAAI,IAAKA,EACpB+nG,EAAY+gB,gBAAgB9oH,GAAKmqH,GAAgB,GAAIC,IAAkB,EAExE,OAAOriB,GAGR,QAAS8O,IAAiB9O,GACzB,GAAI/nG,EACJ,KAAKA,EAAI,EAAGA,EAAI,KAAMA,EACrB+nG,EAAY4iB,aAAa3qH,GAAKkrH,GAAiBnjB,EAAYohB,iBAAkBnpH,EAE9E+nG,GAAYqhB,iBAAmB,EAGhC,QAASxS,IAAqB7O,GAC7B,GAAI55D,GAASwmE,EAAS0S,EAAYrnH,EAAGsnH,EAAerG,EAASkK,EAAIC,CACjE,KAAKprH,EAAI,EAAGA,EAAI,MAAOA,EACtBihH,EAAU2H,GAAW5oH,GACrBqnH,GAAcpG,GAAW,GAAK,EAC9B9yE,GAAW,EAAc,EAAV8yE,IAAgBoG,EAC/Btf,EAAYijB,WAAWhrH,GAAKqrH,GAAgBtjB,EAAYihB,aAAc76E,EAAU8yE,EAAU,EAAGoG,EAAYrnH,EAAImuC,EAE9G,KAAKm5E,EAAgB,EAAGA,EAAgB,IAAKA,EAAe,CAG3D,IAFA3S,EAAU5M,EAAY+gB,gBAAgBxB,GACtC6D,EAAK7D,GAAiB,EACjBrG,EAAU,EAAGA,EAAUlZ,EAAYujB,iBAAkBrK,EACzDlZ,EAAY0iB,eAAeU,EAAKlK,GAAWsK,GAAY5W,EAASsM,EAEjE,KAAKA,EAAU,GAAIA,EAAUlZ,EAAYujB,iBAAkBrK,EAC1DlZ,EAAY0iB,eAAeU,EAAKlK,KAAaA,GAAW,GAAK,EAAI,GAAK,CAGvE,KADAmK,EAAsB,IAAhB9D,EACDtnH,EAAI,EAAGA,EAAI,IAAKA,EACpB+nG,EAAY2iB,iBAAiBU,EAAMprH,GAAK+nG,EAAY0iB,eAAeU,EAAKnrH,EAEzE,MAAOA,EAAI,MAAOA,EACjB+nG,EAAY2iB,iBAAiBU,EAAMprH,GAAK+nG,EAAY0iB,eAAeU,EAAKvC,GAAW5oH,IAAM+nG,EAAYijB,WAAWhrH,GAGlH+nG,EAAYshB,iBAAmB,EAGhC,QAAS1B,IAAO5f,EAAayjB,GAC5BC,GAAiB1jB,GACjB2jB,GAAgB3jB,EAAayjB,EAASzjB,EAAY8f,eAClD8D,GAAW5jB,EAAY0O,eAGxB,QAAS2R,IAAYrgB,EAAar2F,GACjC,GAAIoa,GAAK8/F,EAAcC,EAAoBC,EAAgBC,EAASC,EAAUC,EAAap1D,EAAU72D,EAAGklC,EAAKgnF,EAAQC,EAASC,EAAQC,EAASC,EAAUC,EAAajH,EAAWkH,EAAYC,EAAQC,EAAYC,EAAgBC,EAAaC,EAAmBC,EAAkBC,EAAmBC,EAAuBC,EAAkBC,EAAMx4G,EAAQk1C,EAAKujE,EAAS//F,EAAK84F,EAAShF,EAAUkM,EAAcC,EAASC,EAAUC,EAAQC,EAAeC,EAAaC,EAAeC,EAAU5/G,EAAO6/G,EAAQpnH,EAAGqnH,EAAOC,EAASC,EAASC,EAASC,CACrhB,IAAIlmB,EAAYoe,kBAAoBpe,EAAY8e,qBAI/C,MAHAuF,GAASrkB,EAAYqe,SAASre,EAAY8e,sBAAsBR,QAAUte,EAAY8e,qBACtF9e,EAAY6e,QAAU7e,EAAYqe,SAASre,EAAY8e,sBAAsBP,SAC7Eve,EAAY8e,qBAAuB9e,EAAYqe,SAASre,EAAY8e,sBAAsBR,QACnF+F,CAWR,IATArkB,EAAY8e,qBAAuB9e,EAAYoe,iBAAmB,EAC9Dpe,EAAYmmB,uBACf/B,EAAUpkB,EAAYomB,oBACtBpmB,EAAYmmB,uBAAwB,GAEpC/B,EAAUvE,GAAoB7f,GAE/BklB,EAAmBllB,EAAYqmB,kBAC/BrB,EAAoB9S,GAAsBlS,EAAY2f,cAAgB,EAClEqF,EAAoB,EAEvB,MADAhlB,GAAY6e,SAAU,EACf,CAMR,KAJImG,EAAoB,MACvBA,EAAoB,KAErBU,EAAc,EACTztH,EAAI,EAAGA,EAAI,IAAKA,EACpB+nG,EAAY6iB,KAAK5qH,GAAK+nG,EAAYkf,cAAcjnH,GAChD+nG,EAAY8iB,QAAQ7qH,GAAK65G,GAAa9R,EAAY2f,cAAc,EAAI3f,EAAY6iB,KAAK5qH,GAAI,KACrF+nG,EAAY8iB,QAAQ7qH,GAAK+nG,EAAY8iB,QAAQ4C,KAChDA,EAAcztH,EAGhB,IAAI+nG,EAAY8iB,QAAQ4C,IAAgB1lB,EAAYiP,cAInD,MAHAjP,GAAY6e,QAAU6G,EACtBrB,EAASrkB,EAAY8iB,QAAQ4C,GAC7BY,GAAStmB,EAAaqkB,EAAS,GACxBA,CAER,IAAID,GAAWpkB,EAAYiP,cAG1B,MAFAjP,GAAY6e,QAAU7e,EAAYyiB,gBAAgByC,EAAmB,GAAK,EAC1EoB,GAAStmB,EAAaokB,EAAU,GACzBA,CAIR,IAFAF,EAAcvS,GAAc3R,EAAY2f,cAAc,GACtDpC,EAAY5L,GAAc3R,EAAY2f,cAAe3f,EAAYkf,cAAc,GAAK,EAAI,GACpFkF,EAAU,GAAKF,GAAe3G,GAAavd,EAAY8iB,QAAQ4C,GAAe,EAEjF,MADA1lB,GAAY6e,SAAU,EACf,CAgBR,IAdA7e,EAAYqe,SAAS,GAAGkI,MAAQvmB,EAAYgf,OAC5C7F,EAAWxvG,EAAWq2F,EAAY8f,cAClC9f,EAAYqe,SAAS,GAAGmI,OAASvE,KAAewE,GAAWzmB,EAAYggB,UAAUhgB,EAAYgf,QAAU,GAAK7F,KAAc,GAAMuN,GAAYvG,GAAangB,EAAYogB,gBAAiBz2G,EAAUq2F,EAAYif,eAAgBjf,EAAYgf,QAAU,EAAGzB,EAAW2G,IAChQzF,GAAYze,EAAYqe,SAAS,IACjCoG,EAAagC,GAAW,KAAOzmB,EAAYggB,UAAUhgB,EAAYgf,QAAU,GAAK7F,KAAc,GAC9FsM,EAAgBhB,EAAagC,GAAW,KAAOzmB,EAAYugB,OAAOvgB,EAAYgf,UAAY,GACtFzB,GAAa2G,IAChByB,EAAgBF,EAAgBkB,GAAiB3mB,EAAaA,EAAYgf,OAAQ7F,GAC9EwM,EAAgB3lB,EAAYqe,SAAS,GAAGmI,QAC3CxmB,EAAYqe,SAAS,GAAGmI,MAAQb,EAChCiB,GAAgB5mB,EAAYqe,SAAS,MAGvC8F,EAASC,GAAWpkB,EAAY8iB,QAAQ4C,GAAatB,EAAQpkB,EAAY8iB,QAAQ4C,GAC7EvB,EAAS,EAEZ,MADAnkB,GAAY6e,QAAU7e,EAAYqe,SAAS,GAAGE,SACvC,CAERve,GAAYqe,SAAS,GAAGC,QAAU,EAClCte,EAAYqe,SAAS,GAAGwI,OAAS7mB,EAAY6iB,KAAK,GAClD7iB,EAAYqe,SAAS,GAAGyI,OAAS9mB,EAAY6iB,KAAK,GAClD7iB,EAAYqe,SAAS,GAAG0I,OAAS/mB,EAAY6iB,KAAK,GAClD7iB,EAAYqe,SAAS,GAAG2I,OAAShnB,EAAY6iB,KAAK,GAClD1lF,EAAMgnF,CACN,GACCnkB,GAAYqe,SAASlhF,KAAOqpF,MAAQ,gBAC5BrpF,GAAO,EAChB,KAAKllC,EAAI,EAAGA,EAAI,IAAKA,EAEpB,GADAutH,EAASxlB,EAAY8iB,QAAQ7qH,KACzButH,EAAS,GAAb,CAGAF,EAAUG,EAAgBwB,GAAiBjnB,EAAa/nG,EAAG+nG,EAAYgf,OAAQ7F,EAC/E,GACC4K,GAAiBuB,EAAU4B,GAAUlnB,EAAYoP,oBAAqBoW,EAAS,EAAGrM,GAClFiM,EAAUplB,EAAYqe,SAASmH,GAC3BzB,EAAiBqB,EAAQoB,QAC5BpB,EAAQoB,MAAQzC,EAChBqB,EAAQ9G,QAAU,EAClB8G,EAAQ7G,SAAWtmH,EACnBmtH,EAAQ5G,aAAc,WAEbgH,GAAU,GAItB,GAFAT,EAAmBN,EAAagC,GAAWzmB,EAAYugB,OAAOvgB,EAAYgf,UAAY,GACtF7hF,EAAM6iE,EAAY8iB,QAAQ,IAAM,EAAE9iB,EAAY8iB,QAAQ,GAAK,EAAE,EACzD3lF,GAAOinF,EAAS,CAEnB,IADAe,EAAO,EACAhoF,EAAM6iE,EAAYyiB,gBAAgB0C,IACxCA,GAAQ,CAET,MACCr2D,EAAWkxC,EAAYyiB,gBAAgB0C,EAAO,GAC9CpB,EAAiBgB,EAAmBoC,GAAgBnnB,EAAalxC,EAAU3xB,EAAKg8E,GAChFiM,EAAUplB,EAAYqe,SAASlhF,GAC3B4mF,EAAiBqB,EAAQoB,QAC5BpB,EAAQoB,MAAQzC,EAChBqB,EAAQ9G,QAAU,EAClB8G,EAAQ7G,SAAWzvD,EAAW,EAC9Bs2D,EAAQ5G,aAAc,GAEnBrhF,GAAO6iE,EAAYyiB,gBAAgB0C,KACtCA,GAAQ,EACJA,GAAQD,KAZJ/nF,IAmBX,IADApZ,EAAM,IACO,CAEZ,KADEA,EACEA,GAAOogG,EACV,MAAOpG,IAAU/d,EAAaj8E,EAI/B,IAFA2gG,EAAS7E,GAAoB7f,GAC7BklB,EAAmBllB,EAAYqmB,kBAC3B3B,GAAU1kB,EAAYiP,cAGzB,MAFAjP,GAAYomB,oBAAsB1B,EAClC1kB,EAAYmmB,uBAAwB,EAC7BpI,GAAU/d,EAAaj8E,EAuG/B,MArGEpa,EACFw0G,EAAUne,EAAYqe,SAASt6F,GAAKu6F,QAChCte,EAAYqe,SAASt6F,GAAKy6F,eAC3BL,EACEne,EAAYqe,SAASt6F,GAAK26F,OAC7B14G,EAAQg6F,EAAYqe,SAASre,EAAYqe,SAASt6F,GAAK46F,UAAU4H,MAEhEvgH,EADGg6F,EAAYqe,SAASt6F,GAAK66F,UAAY,EAChC54G,EAAQ,EAAK,EAAI,GAEjBA,EAAQ,EAAK,EAAI,IAG3BA,EAAQg6F,EAAYqe,SAASF,GAASoI,MAEvCvgH,EAAQqxG,GAAgBrxG,IAExBA,EAAQg6F,EAAYqe,SAASF,GAASoI,MAEnCpI,GAAWp6F,EAAM,EAEnB/d,EADyC,GAAtCg6F,EAAYqe,SAASt6F,GAAKw6F,SACrBv4G,EAAQ,EAAE,EAAE,GAEZqxG,GAAgBrxG,IAGrBg6F,EAAYqe,SAASt6F,GAAKy6F,aAAexe,EAAYqe,SAASt6F,GAAK26F,OACtEP,EAAUne,EAAYqe,SAASt6F,GAAK46F,SACpCt5F,EAAM26E,EAAYqe,SAASt6F,GAAK66F,UAChC54G,EAAQA,EAAQ,EAAE,EAAE,KAEpBqf,EAAM26E,EAAYqe,SAASt6F,GAAKw6F,SAE/Bv4G,EADGqf,EAAM,EACDrf,EAAQ,EAAE,EAAE,GAEZA,EAAQ,EAAE,EAAE,IAGtB67C,EAAMm+C,EAAYqe,SAASF,GACvB94F,EAAM,EACE,GAAPA,GACH26E,EAAY6iB,KAAK,GAAKhhE,EAAIglE,OAC1B7mB,EAAY6iB,KAAK,GAAKhhE,EAAIilE,OAC1B9mB,EAAY6iB,KAAK,GAAKhhE,EAAIklE,OAC1B/mB,EAAY6iB,KAAK,GAAKhhE,EAAImlE,QACT,GAAP3hG,GACV26E,EAAY6iB,KAAK,GAAKhhE,EAAIilE,OAC1B9mB,EAAY6iB,KAAK,GAAKhhE,EAAIglE,OAC1B7mB,EAAY6iB,KAAK,GAAKhhE,EAAIklE,OAC1B/mB,EAAY6iB,KAAK,GAAKhhE,EAAImlE,QACT,GAAP3hG,GACV26E,EAAY6iB,KAAK,GAAKhhE,EAAIklE,OAC1B/mB,EAAY6iB,KAAK,GAAKhhE,EAAIglE,OAC1B7mB,EAAY6iB,KAAK,GAAKhhE,EAAIilE,OAC1B9mB,EAAY6iB,KAAK,GAAKhhE,EAAImlE,SAE1BhnB,EAAY6iB,KAAK,GAAKhhE,EAAImlE,OAC1BhnB,EAAY6iB,KAAK,GAAKhhE,EAAIglE,OAC1B7mB,EAAY6iB,KAAK,GAAKhhE,EAAIilE,OAC1B9mB,EAAY6iB,KAAK,GAAKhhE,EAAIklE,SAG3B/mB,EAAY6iB,KAAK,GAAKx9F,EAAM,EAC5B26E,EAAY6iB,KAAK,GAAKhhE,EAAIglE,OAC1B7mB,EAAY6iB,KAAK,GAAKhhE,EAAIilE,OAC1B9mB,EAAY6iB,KAAK,GAAKhhE,EAAIklE,SAG5B/mB,EAAYqe,SAASt6F,GAAKwiG,MAAQvgH,EAClCg6F,EAAYqe,SAASt6F,GAAK8iG,OAAS7mB,EAAY6iB,KAAK,GACpD7iB,EAAYqe,SAASt6F,GAAK+iG,OAAS9mB,EAAY6iB,KAAK,GACpD7iB,EAAYqe,SAASt6F,GAAKgjG,OAAS/mB,EAAY6iB,KAAK,GACpD7iB,EAAYqe,SAASt6F,GAAKijG,OAAShnB,EAAY6iB,KAAK,GACpDoB,EAAWjkB,EAAYqe,SAASt6F,GAAKyiG,MACrCtC,EAAcvS,GAAc3R,EAAY2f,cAAc,GACtDpC,EAAY5L,GAAc3R,EAAY2f,cAAe3f,EAAY6iB,KAAK,GAAK,EAAI,GAC/E1J,EAAWxvG,EAAWq2F,EAAY8f,cAClC+D,EAAeI,EAAWwC,GAAWzmB,EAAYggB,UAAUh6G,GAAS,GAAKmzG,KAAc,GAAKuN,GAAYvG,GAAangB,EAAYogB,gBAAiBz2G,EAAUgoG,GAAc3R,EAAY2f,cAAc,IAAM35G,GAAS,EAAGu3G,EAAW2G,GACjOW,EAAc7kB,EAAYqe,SAASt6F,EAAM,GACzC4gG,GAAa,EACTd,EAAegB,EAAY2B,QAC9B3B,EAAY2B,MAAQ3C,EACpBgB,EAAYvG,QAAUv6F,EACtB8gG,EAAYtG,UAAW,EACvBsG,EAAYrG,aAAc,EAC1BmG,GAAa,GAEdF,EAAaR,EAAWwC,GAAW,KAAOzmB,EAAYggB,UAAUh6G,GAAS,GAAKmzG,KAAc,GAC5FsM,EAAgBhB,EAAagC,GAAW,KAAOzmB,EAAYugB,OAAOv6G,KAAW,GACzEu3G,GAAa2G,GAAiBW,EAAYvG,QAAUv6F,GAA+B,GAAxB8gG,EAAYtG,WAC1EoH,EAAgBF,GAAiBgB,GAAWzmB,EAAYwgB,SAASx6G,KAAW,GAAKygH,GAAWzmB,EAAYygB,aAAaz6G,GAAS,GAAKmzG,KAAc,IAC7IwM,GAAiBd,EAAY2B,QAChC3B,EAAY2B,MAAQb,EACpBd,EAAYvG,QAAUv6F,EACtB8gG,EAAYtG,SAAW,EACvBsG,EAAYrG,aAAc,EAC1BmG,GAAa,IAGfM,EAAwB/S,GAAsBlS,EAAY2f,cAAgB,EAC1EsF,EAAwB,KAAOlhG,EAAMkhG,EAAsB,KAAOlhG,EAAIkhG,EACtED,EAAoBC,IAChBD,EAAoB,GAAxB,CAMA,GAHIA,EAAoBhlB,EAAYiP,gBACnC+V,EAAoBhlB,EAAYiP,gBAE5B0V,GAAcpH,GAAa2G,IAC/BzlH,EAAIiqB,GAAIu8F,EAAwB,EAAGjlB,EAAYiP,eAC/CsV,EAAWzS,GAAa9R,EAAY2f,aAAc,EAAG3f,EAAY6iB,KAAK,GAAIpkH,GACtE8lH,GAAY,GAAG,CAKlB,IAJAsB,EAASxO,GAAgBrxG,GACzBq/G,EAAe17G,EAAW,EAAIq2F,EAAY8f,cAC1CgF,EAAoBjB,EAAe4C,GAAW,KAAOzmB,EAAYggB,UAAU6F,GAAU,GAAKR,KAAkB,GAAKoB,GAAW,KAAOzmB,EAAYugB,OAAOsF,KAAY,GAClKl5G,EAASoX,EAAM,EAAIwgG,EACZJ,EAASx3G,GACfqzF,EAAYqe,WAAW8F,GAAQqC,MAAQ,SAExCzC,GAAiBe,GAAqBgB,EAAQoB,GAAUlnB,EAAYoP,oBAAqBmV,EAAW,EAAGc,GAAgBS,EAAQmB,GAAiBjnB,EAAa,EAAG6lB,EAAQR,IACxKD,EAAUplB,EAAYqe,SAAS1xG,GAC3Bo3G,EAAiBqB,EAAQoB,QAC5BpB,EAAQoB,MAAQzC,EAChBqB,EAAQ9G,QAAUv6F,EAAM,EACxBqhG,EAAQ7G,SAAW,EACnB6G,EAAQ5G,aAAc,EACtB4G,EAAQ1G,OAAQ,GAKnB,IADAkH,EAAW,EACNL,EAAW,EAAGA,EAAW,IAAKA,EAElC,GADAjB,EAAUxS,GAAa9R,EAAY2f,cAAc,EAAI3f,EAAY6iB,KAAK0C,GAAWP,KAC7EV,EAAU,GAAd,CAGAE,EAAcF,CACd,GAAG,CACF,KAAOH,EAASpgG,EAAMugG,GACrBtkB,EAAYqe,WAAW8F,GAAQqC,MAAQ,SAExCzC,GAAiB0B,GAAiBM,EAAUmB,GAAUlnB,EAAYoP,oBAAqBkV,EAAU,EAAGnL,GAAY4M,EAAUkB,GAAiBjnB,EAAaulB,EAAUv/G,EAAOmzG,IACzKiM,EAAUplB,EAAYqe,SAASt6F,EAAMugG,GACjCP,EAAiBqB,EAAQoB,QAC5BpB,EAAQoB,MAAQzC,EAChBqB,EAAQ9G,QAAUv6F,EAClBqhG,EAAQ7G,SAAWgH,EACnBH,EAAQ5G,aAAc,WAEb8F,GAAW,EAKtB,IAJAA,EAAUE,EACM,GAAZe,IACHK,EAAWtB,EAAU,GAElBA,EAAUW,IACbxmH,EAAIiqB,GAAIu8F,EAAwB,EAAIX,EAAStkB,EAAYiP,eACzDsV,EAAWzS,GAAa9R,EAAY2f,aAAc2E,EAAStkB,EAAY6iB,KAAK0C,GAAW9mH,GACnF8lH,GAAY,GAAG,CASlB,IARAsB,EAAS7/G,EAAQ,EAAE,EAAE,GACrBq/G,EAAe17G,EAAW26G,EAAUtkB,EAAY8f,cAChDgE,EAAqB2B,GAAiBO,EAAUkB,GAAUlnB,EAAYoP,oBAAqBkV,EAAU,EAAGnL,GAAY6M,EAAUiB,GAAiBjnB,EAAaulB,EAAUv/G,EAAOmzG,IAAasN,GAAWzmB,EAAYggB,UAAU6F,GAAU,GAAKR,KAAkB,GAAKqB,GAAYvG,GAAangB,EAAYogB,gBAAiBz2G,EAAW26G,EAAS3S,GAAc3R,EAAY2f,aAAc2E,EAAU,EAAI,KAAK,EAAM3S,GAAc3R,EAAY2f,aAAc2E,EAAU,GAAKtkB,EAAY6iB,KAAK0C,GAAY,IAAK5T,GAAc3R,EAAY2f,aAAc2E,EAAU,IACvhBuB,EAASxO,GAAgBwO,GACzBR,EAAe17G,EAAW26G,EAAU,EAAItkB,EAAY8f,cACpD8E,EAAiBd,EAAqB2C,GAAW,KAAOzmB,EAAYggB,UAAU6F,GAAU,GAAKR,KAAkB,GAC/GP,EAAoBF,EAAiB6B,GAAW,KAAOzmB,EAAYugB,OAAOsF,KAAY,GACtFl5G,EAAS23G,EAAU,EAAIC,EAChBJ,EAASpgG,EAAMpX,GACrBqzF,EAAYqe,WAAW8F,GAAQqC,MAAQ;AAExCzC,EAAiBe,GAAqBmB,EAAUiB,GAAUlnB,EAAYoP,oBAAqBmV,EAAW,EAAGc,GAAgBY,EAAUgB,GAAiBjnB,EAAa,EAAG6lB,EAAQR,IAC5KD,EAAUplB,EAAYqe,SAASt6F,EAAMpX,GACjCo3G,EAAiBqB,EAAQoB,QAC5BpB,EAAQoB,MAAQzC,EAChBqB,EAAQ9G,QAAUv6F,EAAMugG,EAAU,EAClCc,EAAQ7G,SAAW,EACnB6G,EAAQ5G,aAAc,EACtB4G,EAAQ1G,OAAQ,EAChB0G,EAAQzG,SAAW56F,EACnBqhG,EAAQxG,UAAY2G,IAKxB,GAAIb,EAASM,EAAmB,CAE/B,IADAN,EAASM,EACJE,EAAmB,EAAGR,EAAS1kB,EAAYyiB,gBAAgByC,GAAmBA,GAAoB,GAEvGllB,EAAYyiB,gBAAgByC,GAAoBR,EAChDQ,GAAoB,EAErB,GAAIR,GAAUkB,EAAU,CAExB,IADAb,EAAmBN,EAAagC,GAAWzmB,EAAYugB,OAAOv6G,KAAW,GAClEm+G,EAASpgG,EAAM2gG,GACrB1kB,EAAYqe,WAAW8F,GAAQqC,MAAQ,SAGxC,KADArB,EAAO,EACAS,EAAW5lB,EAAYyiB,gBAAgB0C,IAC7CA,GAAQ,CAET,KAAKb,EAAUsB,KAAatB,EAU3B,GATAN,EAAUhkB,EAAYyiB,gBAAgB0C,EAAO,GAC7CpB,EAAiBgB,EAAmBoC,GAAgBnnB,EAAagkB,EAASM,EAASnL,GACnFiM,EAAUplB,EAAYqe,SAASt6F,EAAMugG,GACjCP,EAAiBqB,EAAQoB,QAC5BpB,EAAQoB,MAAQzC,EAChBqB,EAAQ9G,QAAUv6F,EAClBqhG,EAAQ7G,SAAWyF,EAAU,EAC7BoB,EAAQ5G,aAAc,GAEnB8F,GAAWtkB,EAAYyiB,gBAAgB0C,GAAO,CACjD,GAAIb,EAAUW,IACbxmH,EAAIiqB,GAAIu8F,EAAwB,EAAIX,EAAStkB,EAAYiP,eACzDsV,EAAWzS,GAAa9R,EAAY2f,aAAc2E,EAASN,EAASvlH,GAChE8lH,GAAY,GAAG,CASlB,IARAsB,EAAS7/G,EAAQ,EAAE,EAAE,GACrBq/G,EAAe17G,EAAW26G,EAAUtkB,EAAY8f,cAChDgE,EAAqBC,EAAiB0C,GAAWzmB,EAAYggB,UAAU6F,GAAU,GAAKR,KAAkB,GAAKqB,GAAYvG,GAAangB,EAAYogB,gBAAiBz2G,EAAW26G,EAAS3S,GAAc3R,EAAY2f,aAAc2E,EAAU,EAAI,KAAK,EAAM3S,GAAc3R,EAAY2f,aAAc2E,GAAWN,EAAU,GAAK,GAAIrS,GAAc3R,EAAY2f,aAAc2E,EAAU,IAChXuB,EAASxO,GAAgBwO,GACzBR,EAAe17G,EAAW26G,EAAU,EAAItkB,EAAY8f,cACpD8E,EAAiBd,EAAqB2C,GAAW,KAAOzmB,EAAYggB,UAAU6F,GAAU,GAAKR,KAAkB,GAC/GP,EAAoBF,EAAiB6B,GAAW,KAAOzmB,EAAYugB,OAAOsF,KAAY,GACtFl5G,EAAS23G,EAAU,EAAIC,EAChBJ,EAASpgG,EAAMpX,GACrBqzF,EAAYqe,WAAW8F,GAAQqC,MAAQ,SAExCzC,GAAiBe,GAAqBoB,EAAUgB,GAAUlnB,EAAYoP,oBAAqBmV,EAAW,EAAGc,GAAgBa,EAAUe,GAAiBjnB,EAAa,EAAG6lB,EAAQR,IAC5KD,EAAUplB,EAAYqe,SAASt6F,EAAMpX,GACjCo3G,EAAiBqB,EAAQoB,QAC5BpB,EAAQoB,MAAQzC,EAChBqB,EAAQ9G,QAAUv6F,EAAMugG,EAAU,EAClCc,EAAQ7G,SAAW,EACnB6G,EAAQ5G,aAAc,EACtB4G,EAAQ1G,OAAQ,EAChB0G,EAAQzG,SAAW56F,EACnBqhG,EAAQxG,UAAYoF,EAAU,GAKjC,GADAmB,GAAQ,EACJA,GAAQD,EACX,UAOL,QAASiC,IAAgBnnB,EAAa36E,EAAK8X,EAAKg8E,GAC/C,GAAIoG,GAAeuG,CAOnB,OANAvG,GAAgBnI,GAAiBj6E,GAEhC2oF,EADGzgG,EAAM,IACD26E,EAAY2iB,iBAAiC,IAAhBpD,EAAsBl6F,GAEnD26E,EAAY0iB,gBAAgBnD,GAAiB,GAAK6H,GAAY/hG,IAAQ26E,EAAY4iB,aAAmB,GAANv9F,GAEjGygG,EAAQoB,GAAUlnB,EAAY+O,YAAa5xE,EAAM,EAAGg8E,GAG5D,QAAS8N,IAAiBjnB,EAAaulB,EAAUv/G,EAAOmzG,GACvD,GAAI2M,EAaJ,OAZgB,IAAZP,GACMtD,KAAT6D,EAAwBW,GAAWzmB,EAAYwgB,SAASx6G,KAAW,GACnE8/G,GAASW,GAAW,KAAOzmB,EAAYygB,aAAaz6G,GAAS,GAAKmzG,KAAc,KAEvE8I,KAAT6D,EAAwBW,GAAW,KAAOzmB,EAAYwgB,SAASx6G,KAAW,GAC1D,GAAZu/G,EACHO,GAASW,GAAWzmB,EAAY0gB,SAAS16G,KAAW,IAEpD8/G,GAASW,GAAW,KAAOzmB,EAAY0gB,SAAS16G,KAAW,GAC3D8/G,GAASuB,GAASrnB,EAAY2gB,SAAS36G,GAAQu/G,EAAW,KAGrDO,EAGR,QAASa,IAAiB3mB,EAAah6F,EAAOmzG,GAC7C,MAAQ8I,MAAewE,GAAWzmB,EAAYwgB,SAASx6G,KAAW,GAAMygH,GAAWzmB,EAAYygB,aAAaz6G,GAAS,GAAKmzG,KAAc,GAGzI,QAASvK,IAAQ5O,GAChB,GAAI/nG,EAWJ,KAVA8mH,GAAU/e,GACVsnB,GAAQtnB,EAAY0O,eACpB6Y,GAAgBvnB,EAAYggB,UAC5BuH,GAAgBvnB,EAAYygB,aAC5B8G,GAAgBvnB,EAAYugB,QAC5BgH,GAAgBvnB,EAAYwgB,UAC5B+G,GAAgBvnB,EAAY0gB,UAC5B6G,GAAgBvnB,EAAY2gB,UAC5B4G,GAAgBvnB,EAAYihB,cAC5BuG,GAAQxnB,EAAYogB,iBACfnoH,EAAI,EAAGA,EAAI,IAAKA,EACpBmjH,GAAcpb,EAAY+gB,gBAAgB9oH,GAAGqjH,OAE9CmM,IAAQznB,EAAY+O,YAAa,GAAK/O,EAAYmP,eAClDsY,GAAQznB,EAAYoP,oBAAqB,GAAKpP,EAAYmP,eAC1DiM,GAAcpb,EAAYohB,iBAAiB9F,QAC3Ctb,EAAYmmB,uBAAwB,EACpCnmB,EAAYoe,iBAAmB,EAC/Bpe,EAAY8e,qBAAuB,EACnC9e,EAAYigB,kBAAoB,EAGjC,QAASqG,IAAStmB,EAAajiE,GAC1BA,EAAM,IACTi4E,GAAMhW,EAAY2f,aAAc5hF,GAChCiiE,EAAYigB,mBAAqBliF,GAInC,QAAS8hF,IAAoB7f,GAC5B,GAAIqkB,EASJ,OARAA,GAAS,EACTrkB,EAAYqmB,kBAAoBjS,GAAYpU,EAAY2f,aAAc3f,EAAYyiB,iBAC9EziB,EAAYqmB,kBAAoB,IACnChC,EAASrkB,EAAYyiB,gBAAgBziB,EAAYqmB,kBAAoB,GACjEhC,GAAUrkB,EAAYiP,gBAC1BoV,GAAUvS,GAAa9R,EAAY2f,aAAc0E,EAAS,EAAGrkB,EAAYyiB,gBAAgBziB,EAAYqmB,kBAAoB,GAAI,IAAMhC,OAElIrkB,EAAYigB,kBACPoE,EAGR,QAASX,IAAiB1jB,GACnBA,EAAY2f,cAAgB3f,EAAYsO,uBAC7CtO,EAAY2f,aAAajN,QAAU,KACnC1S,EAAYsO,sBAAuB,GAIrC,QAAS6J,IAAgBnY,GACxB0jB,GAAiB1jB,GACjBA,EAAY0O,cAAcC,OAAS,KAGpC,QAAS9B,IAAqB7M,EAAa8M,GAC1C,GAAI4a,EACJ,IAAI5a,EAAiB,GAAKA,EAAiB,UAC1C,OAAO,CAGR,KADA9M,EAAY6hB,gBAAkB/U,EACzB4a,EAAa,EAAG5a,EAAiB,GAAK4a,IAAcA,GAGzD,MADA1nB,GAAYujB,eAA8B,EAAbmE,GACtB,EAGR,QAASva,IAAanN,EAAaoN,EAAIC,EAAIC,GAC1C,QAAID,EAAK,GAAKA,EAAK,GAAKD,EAAK,GAAKA,EAAK,GAAKE,EAAK,GAAKA,EAAK,KAG3DtN,EAAY2hB,wBAA0BtU,EACtCrN,EAAY4hB,uBAAyBxU,EACrCpN,EAAYmP,cAAgB7B,EAC5BtN,EAAY8f,eAAiB,GAAK9f,EAAYmP,eAAiB,GACxD,GAGR,QAASlC,IAAgBjN,EAAa2nB,GACrC,GAAIC,EACJ,SAAID,EAAmB,GAAKA,EAAmB,KAG/CC,EAAuB5nB,EAAYyhB,iBACnCzhB,EAAYyhB,iBAAmBkG,EACzB3nB,EAAY2f,cAAgBiI,GAAwB5nB,EAAYyhB,mBACrEzhB,EAAY8hB,qBAAsB,EAClC9hB,EAAY2f,aAAe,OAErB,GAGR,QAAS5S,IAAiB/M,EAAa6nB,GACtC,QAAIA,EAAe,GAAKA,EAAe,OAGvC7nB,EAAYiP,cAAgB4Y,GACrB,GAGR,QAASxZ,IAAsBrO,EAAayY,GAC3C,GAAIxgH,EAEJ,KADA+nG,EAAY7sC,WAAW,GAA6E,GAA3C,EAA5B6sC,EAAYmP,cAAoBnP,EAAY2hB,yBAA+B3hB,EAAY4hB,wBAA0B,IAAM,GAC/I3pH,EAAI,EAAGA,EAAI,IAAKA,EACpB+nG,EAAY7sC,WAAW,EAAIl7D,GAAK+nG,EAAY6hB,iBAAmB,EAAI5pH,GAAK,IAAM,EAE/E0wG,IAAS8P,EAAWzY,EAAY7sC,WAAY,EAAG,GAGhD,QAASwwD,IAAgB3jB,EAAamZ,GACrC,GAAIoG,EACCvf,GAAYoO,gBAGjB2R,GAAU/f,EAAY0O,cAAe1O,EAAYggB,UAAWhgB,EAAYgf,QAAU,GAAK7F,EAAU,GACjG4G,GAAU/f,EAAY0O,cAAe1O,EAAYugB,OAAQvgB,EAAYgf,OAAQ,GAC7Ehf,EAAYgf,OAAShf,EAAYgf,OAAS,EAAE,EAAE,GAC9C4B,GAAU5gB,EAAY+O,YAAa/O,EAAY0O,cAAe,EAAGyK,GACjEoG,EAAgBnI,GAAiB,GACjC0J,GAAU9gB,EAAY+gB,gBAAgBxB,GAAgBvf,EAAY0O,cAAe,IACjFwS,GAAkBlhB,EAAY0O,cAAe,SAAU,IACvDyS,GAAenhB,EAAYohB,iBAAkBphB,EAAY0O,cAAe,KAGzE,QAASmS,IAAWx7F,GACnB,MAAIA,GAAM,KACFy4F,GAAUz4F,GAEdA,EAAM,QACFy4F,GAAUz4F,GAAO,IAAM,GAExBy4F,GAAUz4F,GAAO,IAAM,GAG/B,QAAS+hG,IAAY/hG,GACpB,MAAIA,GAAM,OACFy4F,GAAUz4F,GAAO,GAAK,GAE1BA,EAAM,UACFy4F,GAAUz4F,GAAO,IAAM,GAExBy4F,GAAUz4F,GAAO,IAAM,GAG/B,QAASyiG,MACR,MAAOC,IAGR,QAAS5Z,OAkCT,QAAS6Z,IAAQhoB,EAAaioB,EAAc7rF,EAAQ+8E,GAC/C/8E,EAAS,GACZ2jF,GAAUkI,EAAcjoB,EAAYkoB,QAAS,EAAG,GAChDpH,GAAU9gB,EAAYmoB,UAAUhP,GAAW8O,EAAc7rF,KAEzDA,GAAU,EACV2jF,GAAUkI,EAAcjoB,EAAYkoB,QAAS,EAAG,GAC5C9rF,EAAS,GACZ2jF,GAAUkI,EAAcjoB,EAAYkoB,QAAS,EAAG,GAChDpH,GAAU9gB,EAAYooB,UAAUjP,GAAW8O,EAAc7rF,KAEzD2jF,GAAUkI,EAAcjoB,EAAYkoB,QAAS,EAAG,GAChDpH,GAAU9gB,EAAYqoB,WAAYJ,EAAc7rF,EAAS,KAK5D,QAASksF,IAAoBtoB,GAC5B,GAAImZ,EAKJ,KAJAnZ,EAAYkoB,QAAU/mB,EAAQ0Z,GAAc,GAAG,EAAI,EAAG,GACtD7a,EAAYmoB,UAAYhnB,EAAQghB,GAAuF,EAAG,EAAG,GAAI,GACjIniB,EAAYooB,UAAYjnB,EAAQghB,GAAuF,EAAG,EAAG,GAAI,GACjIniB,EAAYqoB,WAAajG,GAAgB,GAAIC,IAAkB,GAC1DlJ,EAAW,EAAGA,EAAW,KAAMA,EACnCnZ,EAAYmoB,UAAUhP,GAAYiJ,GAAgB,GAAIC,IAAkB,GACxEriB,EAAYooB,UAAUjP,GAAYiJ,GAAgB,GAAIC,IAAkB,EAEzE,OAAOriB,GAGR,QAASynB,IAAQznB,EAAa6b,GAC7B,GAAI1C,EAEJ,KADAoO,GAAgBvnB,EAAYkoB,SACvB/O,EAAW,EAAGA,EAAW0C,IAAgB1C,EAC7CiC,GAAcpb,EAAYmoB,UAAUhP,GAAUmC,QAC9CF,GAAcpb,EAAYooB,UAAUjP,GAAUmC,OAE/CF,IAAcpb,EAAYqoB,WAAW/M,QAGtC,QAASiN,IAAWvoB,EAAamZ,EAAUqP,EAAYC,EAAQrF,GAC9D,GAAIsF,GAAI7xB,EAAI8xB,EAAI9iB,EAAI5tG,CAMpB,KALMgqH,KAANyG,EAAqBjC,GAAWzmB,EAAYkoB,QAAQ,KAAO,GAC3DrxB,EAAK4vB,GAAW,KAAOzmB,EAAYkoB,QAAQ,KAAO,GAClDS,EAAK9xB,EAAK4vB,GAAWzmB,EAAYkoB,QAAQ,KAAO,GAChDriB,EAAKhP,EAAK4vB,GAAW,KAAOzmB,EAAYkoB,QAAQ,KAAO,GACvDjwH,EAAI,EACCA,EAAI,EAAGA,EAAI,IAAKA,EAAG,CACvB,GAAIA,GAAKuwH,EACT,MACAC,GAAOrF,EAAKnrH,GAAKywH,EAAKlF,GAAYxjB,EAAYmoB,UAAUhP,GAAWlhH,GAEpE,KAAOA,EAAI,KAAMA,EAAG,CACnB,GAAIA,GAAKuwH,EACT,MACAC,GAAOrF,EAAKnrH,GAAK0wH,EAAKnF,GAAYxjB,EAAYooB,UAAUjP,GAAWlhH,EAAI,GAExE,KAAOA,EAAIuwH,IAAcvwH,EACxBwwH,EAAOrF,EAAKnrH,GAAK4tG,EAAK2d,GAAYxjB,EAAYqoB,WAAYpwH,EAAI,EAAI,GAIpE,QAAS2wH,MACR,MAAOC,IAGR,QAASC,OAMT,QAASlI,IAAU5gB,EAAaioB,EAAc7rF,EAAQ+8E,GACrD6O,GAAQhoB,EAAaioB,EAAc7rF,EAAQ+8E,GACF,KAAnCnZ,EAAY+oB,UAAU5P,KAC3BoP,GAAWvoB,EAAamZ,EAAUnZ,EAAYgP,WAAYhP,EAAYgpB,QAAoB,IAAX7P,GAC/EnZ,EAAY+oB,UAAU5P,GAAYnZ,EAAYgP,YAIhD,QAASsT,IAA8BtiB,GAItC,MAHAsoB,IAAoBtoB,GACpBA,EAAYgpB,QAAU7nB,EAAQ+R,GAAc,GAAG,EAAI,KAAM,GACzDlT,EAAY+oB,UAAY5nB,EAAQ+R,GAAc,GAAG,EAAI,GAAI,GAClDlT,EAGR,QAASknB,IAAUlnB,EAAa5jE,EAAQ+8E,GACvC,MAAOnZ,GAAYgpB,QAAmB,IAAX7P,EAAiB/8E,GAG7C,QAAS8yE,IAAclP,EAAa6b,GACnC,GAAI1C,EACJ,KAAKA,EAAW,EAAGA,EAAW0C,IAAgB1C,EAC7CoP,GAAWvoB,EAAamZ,EAAUnZ,EAAYgP,WAAYhP,EAAYgpB,QAAoB,IAAX7P,GAC/EnZ,EAAY+oB,UAAU5P,GAAYnZ,EAAYgP,WAIhD,QAASia,MACR,MAAOC,IAGR,QAAS3G,OAOT,QAASb,IAAU1hB,EAAa0c,EAAYC,GAC3C,GAAI1kH,GAAG2kH,CACP,IAA4B,MAAxB5c,EAAY6c,UAAoB7c,EAAY8c,eAAiBH,GAAe3c,EAAY+c,cAAgBL,EAQ5G,IALA1c,EAAY+c,aAAeL,EAC3B1c,EAAYgd,WAAa,GAAKN,GAAc,EAC5C1c,EAAY8c,cAAgBH,EAC5BC,EAAY,GAAK5c,EAAY8c,cAAgB9c,EAAY+c,aACzD/c,EAAY6c,SAAW1b,EAAQgoB,GAAkG,EAAG,EAAGvM,EAAW,GAC7I3kH,EAAI,EAAGA,EAAI2kH,IAAa3kH,EAC5B+nG,EAAY6c,SAAS5kH,GAAKmxH,GAAiC,GAAIC,KAIjE,QAASlJ,IAAangB,EAAa36E,EAAK0zF,GACvC,MAAO/Y,GAAY6c,WAAWx3F,EAAM26E,EAAYgd,YAAchd,EAAY8c,iBAA8B,IAAX/D,KAAoB,EAAI/Y,EAAY8c,gBAGlI,QAAS0K,IAAQxnB,GAChB,GAAI/nG,GAAG2kH,CAEP,KADAA,EAAY,GAAK5c,EAAY8c,cAAgB9c,EAAY+c,aACpD9kH,EAAI,EAAGA,EAAI2kH,IAAa3kH,EAC5BsvH,GAAgBvnB,EAAY6c,SAAS5kH,GAAGqxH,YAI1C,QAASC,MACR,MAAOC,IAGR,QAAShH,OAUT,QAAStC,IAAUlgB,EAAaioB,EAAc7rF,GAC7C,GAAIohF,GAAKt9G,EAASjI,CAElB,KADAiI,EAAU,EACLjI,EAAI,EAAGA,GAAK,IAAKA,EACrBulH,EAAMphF,GAAUnkC,EAAI,EACpB8nH,GAAUkI,EAAcjoB,EAAYspB,WAAYppH,EAASs9G,GACzDt9G,EAAUA,GAAW,EAAIs9G,EAI3B,QAAS8C,IAAetgB,EAAaioB,EAAc1K,EAAWnhF,GAC7D,GAAIohF,GAAKt9G,EAASjI,EAAGwlH,EAAUgM,EAAMzjH,CAGrC,KAFA9F,EAAU,EACVupH,GAAO,EACFxxH,EAAI,EAAGA,GAAK,IAAKA,EACrBulH,EAAMphF,GAAUnkC,EAAI,EACpB+N,EAAQ9F,EACJupH,IACHhM,EAAWF,GAAatlH,EAAI,EAC5B+N,GAAS,EAAIy3G,GAAY,EACzBgM,EAAOhM,GAAYD,GAEpBuC,GAAUkI,EAAcjoB,EAAYspB,WAAYtjH,EAAOw3G,GACvDt9G,EAAUA,GAAW,EAAIs9G,EAI3B,QAAS4L,IAAiCppB,GAEzC,MADAA,GAAYspB,WAAanoB,EAAQ0Z,GAAc,GAAG,EAAI,IAAK,GACpD7a,EAGR,QAAS0mB,IAAY1mB,EAAa0pB,EAAWnM,EAAWnhF,GACvD,GAAIohF,GAAKt9G,EAASjI,EAAGwlH,EAAUqI,CAI/B,IAHAA,EAAQ,EACR5lH,EAAU,EACVjI,EAAI,EACAyxH,EACH,KAAOzxH,GAAK,IAAKA,EAKhB,GAJAwlH,EAAWF,GAAatlH,EAAI,EAC5BulH,EAAMphF,GAAUnkC,EAAI,EACpB6tH,GAASuB,GAASrnB,EAAYspB,YAAY,EAAI7L,GAAY,GAAKv9G,GAAUs9G,GACzEt9G,EAAUA,GAAW,EAAIs9G,EACrBC,GAAYD,EAAK,GAClBvlH,CACF,OAIH,KAAOA,GAAK,IAAKA,EAChBulH,EAAMphF,GAAUnkC,EAAI,EACpB6tH,GAASuB,GAASrnB,EAAYspB,WAAWppH,GAAUs9G,GACnDt9G,EAAUA,GAAW,EAAIs9G,CAE1B,OAAOsI,GAGR,QAAS6D,MACR,MAAOC,IAGR,QAASP,OAMT,QAAS5K,IAAYze,GACpBA,EAAYue,UAAW,EACvBve,EAAYwe,aAAc,EAG3B,QAASoI,IAAgB5mB,GACxBA,EAAYue,SAAW,EACvBve,EAAYwe,aAAc,EAG3B,QAASqL,MACR,MAAOC,IAGR,QAAS5G,OAkBT,QAASnI,IAAgB/a,EAAa+pB,GAGrC,MAFA/pB,GAAYgqB,aAAeD,EAC3B/pB,EAAYsb,OAASna,EAAQ0Z,GAAc,GAAG,EAAI,GAAKkP,EAAc,GAC9D/pB,EAGR,QAASoa,IAAUpa,EAAaqc,GAC/B,GAAI4N,GAAUryH,CAEd,KADAA,EAAI,EACCqyH,EAAWjqB,EAAYgqB,aAA0B,GAAZC,IAAiBA,EAC1DryH,GAAKA,GAAK,GAAKyhH,GAAWgD,EAAcrc,EAAYsb,OAAQ1jH,EAE7D,OAAOA,IAAK,GAAKooG,EAAYgqB,cAG9B,QAASvP,IAAeza,EAAaqc,GACpC,GAAImB,GAAKyM,EAAUryH,EAAGwkC,CAGtB,KAFAxkC,EAAI,EACJwkC,EAAS,EACJ6tF,EAAW,EAAGA,EAAWjqB,EAAYgqB,eAAgBC,EACzDzM,EAAMnE,GAAWgD,EAAcrc,EAAYsb,OAAQ1jH,GACnDA,IAAM,EACNA,GAAK4lH,EACLphF,GAAUohF,GAAOyM,CAElB,OAAO7tF,GAGR,QAASk+E,IAAcgB,EAAQ4O,EAAY7N,EAAc2N,GACxD,GAAIxM,GAAKyM,EAAUryH,EAAGwkC,CAGtB,KAFAxkC,EAAI,EACJwkC,EAAS,EACJ6tF,EAAW,EAAGA,EAAWD,IAAgBC,EAC7CzM,EAAMnE,GAAWgD,EAAcf,EAAQ4O,EAAatyH,GACpDA,IAAM,EACNA,GAAK4lH,EACLphF,GAAUohF,GAAOyM,CAElB,OAAO7tF,GAGR,QAAS+tF,MACR,MAAOC,IAGR,QAASpP,OAQT,QAASoH,IAAgBpiB,EAAa+pB,GAGrC,MAFA/pB,GAAYgqB,aAAeD,EAC3B/pB,EAAYsb,OAASna,EAAQ0Z,GAAc,GAAG,EAAI,GAAKkP,EAAc,GAC9D/pB,EAGR,QAAS8gB,IAAU9gB,EAAaioB,EAAc7rF,GAC7C,GAAIohF,GAAKyM,EAAUryH,CAEnB,KADAA,EAAI,EACCqyH,EAAWjqB,EAAYgqB,aAA0B,GAAZC,KACvCA,EACFzM,EAAMphF,IAAW6tF,EAAW,EAC5BlK,GAAUkI,EAAcjoB,EAAYsb,OAAQ1jH,EAAG4lH,GAC/C5lH,EAAIA,GAAK,EAAI4lH,EAIf,QAASgG,IAAYxjB,EAAa5jE,GACjC,GAAIohF,GAAKyM,EAAUryH,EAAGkuH,CAGtB,KAFAA,EAAQ,EACRluH,EAAI,EACCqyH,EAAWjqB,EAAYgqB,aAA0B,GAAZC,KACvCA,EACFzM,EAAMphF,IAAW6tF,EAAW,EAC5BnE,GAASuB,GAASrnB,EAAYsb,OAAO1jH,GAAI4lH,GACzC5lH,GAAKA,GAAK,GAAK4lH,CAEhB,OAAOsI,GAGR,QAAS3E,IAAenhB,EAAaioB,EAAc7rF,GAClD,GAAIohF,GAAKvlH,EAAGL,CAEZ,KADAA,EAAI,EACCK,EAAI,EAAGA,EAAI+nG,EAAYgqB,eAAgB/xH,EAC3CulH,EAAe,EAATphF,EACN2jF,GAAUkI,EAAcjoB,EAAYsb,OAAQ1jH,EAAG4lH,GAC/C5lH,EAAIA,GAAK,EAAI4lH,EACbphF,IAAW,EAIb,QAAS+mF,IAAiBnjB,EAAa5jE,GACtC,GAAIohF,GAAKvlH,EAAGL,EAAGkuH,CAGf,KAFAA,EAAQ,EACRluH,EAAI,EACCK,EAAI+nG,EAAYgqB,aAAmB,GAAL/xH,IAAUA,EAC5CulH,EAAe,EAATphF,EACNA,KAAY,EACZ0pF,GAASuB,GAASrnB,EAAYsb,OAAO1jH,GAAI4lH,GACzC5lH,EAAIA,GAAK,EAAI4lH,CAEd,OAAOsI,GAGR,QAAS9E,IAAc1F,EAAQ4O,EAAYjC,EAAc+B,EAAc5tF,GACtE,GAAIohF,GAAKvlH,EAAGL,CAEZ,KADAA,EAAI,EACCK,EAAI,EAAGA,EAAI+xH,IAAgB/xH,EAC/BulH,EAAe,EAATphF,EACN2jF,GAAUkI,EAAc3M,EAAQ4O,EAAatyH,EAAG4lH,GAChD5lH,EAAIA,GAAK,EAAI4lH,EACbphF,IAAW,EAIb,QAASknF,IAAgBhI,EAAQ4O,EAAYF,EAAc5tF,GAC1D,GAAIohF,GAAKvlH,EAAGL,EAAGkuH,CAGf,KAFAA,EAAQ,EACRluH,EAAI,EACCK,EAAI+xH,EAAmB,GAAL/xH,IAAUA,EAChCulH,EAAe,EAATphF,EACNA,KAAY,EACF6lF,KAAV6D,GAAyBW,IAAoD,MAAvCnL,EAAO4O,EAAatyH,GAAK4lH,GAAOA,MAAiB,GACvF5lH,EAAIA,GAAK,EAAI4lH,CAEd,OAAOsI,GAGR,QAASuE,MACR,MAAOC,IAGR,QAASjI,OAQT,QAAShJ,IAAWrZ,EAAauqB,EAAOjyG,GACvC,GAAIkyG,GAAUC,CAGd,OAFAA,GAAOF,EAAMjyG,GACbkyG,GAAYxqB,EAAY0qB,QAAU,IAAMD,GACnCzqB,EAAY2qB,MAAO,aAAgBH,GAAW,aAClDxqB,EAAY0qB,MAAQF,EACpBD,EAAMjyG,GAASmyG,GAAQ,KAAOA,IAAS,IAAM,IAAM,GACZ,IAAlCzqB,EAAY0qB,OAAQ,YACxB1qB,EAAY2qB,KAAO3qB,EAAY2qB,MAAQ,EAAI/iB,GAAM5H,EAAY2O,QAC7D3O,EAAY0qB,QAAU,GAEhB,IAEP1qB,EAAY0qB,OAASF,EACrBxqB,EAAY2qB,MAAQH,EACpBD,EAAMjyG,GAASmyG,GAAQA,IAAS,IAAM,IAAM,GACL,IAAlCzqB,EAAY0qB,OAAQ,YACxB1qB,EAAY2qB,KAAO3qB,EAAY2qB,MAAQ,EAAI/iB,GAAM5H,EAAY2O,QAC7D3O,EAAY0qB,QAAU,GAEhB,GAIT,QAASlQ,IAAkBxa,EAAa4qB,GACvC,GAAI3yH,GAAG2X,EAAQnR,CAEf,KADAmR,EAAS,EACJ3X,EAAI2yH,EAAmB,GAAL3yH,IAAUA,EAChC+nG,EAAY0qB,SAAW,EACvBjsH,EAAIuhG,EAAY2qB,KAAO3qB,EAAY0qB,QAAU,GAC7C1qB,EAAY2qB,MAAQ3qB,EAAY0qB,MAAQjsH,EAAI,EAC5CmR,EAASA,GAAU,EAAI,EAAInR,EACY,IAAlCuhG,EAAY0qB,OAAQ,YACxB1qB,EAAY2qB,KAAO3qB,EAAY2qB,MAAQ,EAAI/iB,GAAM5H,EAAY2O,QAC7D3O,EAAY0qB,QAAU,EAGxB,OAAO96G,GAGR,QAAS4rG,IAAQxb,GAChB,GAAI/nG,EAGJ,KAFA+nG,EAAY2qB,KAAO,EACnB3qB,EAAY0qB,OAAQ,EACfzyH,EAAI,EAAGA,EAAI,IAAKA,EACpB+nG,EAAY2qB,KAAO3qB,EAAY2qB,MAAQ,EAAI/iB,GAAM5H,EAAY2O,QAI/D,QAASyM,IAAcmP,GACtB,GAAItyH,EACJ,KAAKA,EAAI,EAAGA,EAAIsyH,EAAMryH,SAAUD,EAC/BsyH,EAAMtyH,GAAK,KAIb,QAAS4yH,MACR,MAAOC,IAGR,QAASlQ,OAST,QAASqH,MACRA,GAAa/f,EACb,IAAIngG,GAAK9J,EAAGP,EAAG0tB,CAEf,KADAqhG,GAAatlB,EAAQ+R,GAAc,GAAG,EAAI,IAAK,GAC1Cj7G,EAAI,EAAGA,GAAK,IAAKA,EAGrB,IAFAmtB,EAAQ,GAAK,EAAIntB,EAAI,EACrB8J,EAAM,GAAK,EAAI9J,EACVP,EAAI0tB,EAAO1tB,EAAIqK,IAAOrK,EAC1B+uH,GAAW/uH,IAAMO,GAAK,IAAM8J,EAAMrK,GAAK,IAAM,EAAIO,EAAI,GAKxD,QAAS8nH,IAAU/f,EAAauqB,EAAOjyG,EAAO8jB,GAC7C,GAAIouF,GAAUC,CACdA,GAAOF,EAAMjyG,GACbkyG,GAAYxqB,EAAY0qB,QAAU,IAAMD,EAC1B,GAAVruF,GACH4jE,EAAY0qB,MAAQF,EACpBD,EAAMjyG,GAASmyG,GAAQ,KAAOA,IAAS,IAAM,IAAM,KAEnDzqB,EAAY+qB,IAAM1uH,EAAI2jG,EAAY+qB,IAAKznB,EAAI4B,EAAQslB,GAAWQ,KAC9DhrB,EAAY0qB,OAASF,EACrBD,EAAMjyG,GAASmyG,GAAQA,IAAS,IAAM,IAAM,IAEN,IAAlCzqB,EAAY0qB,OAAQ,YACxB1qB,EAAY0qB,QAAU,EACtBO,GAAUjrB,IAIZ,QAASkhB,IAAkBlhB,EAAarhG,EAAGisH,GAC1C,GAAI3yH,EACJ,KAAKA,EAAI2yH,EAAe,EAAG3yH,GAAK,IAAKA,EACpC+nG,EAAY0qB,SAAW,EACF,IAAhB/rH,IAAM1G,EAAI,KACd+nG,EAAY+qB,IAAM1uH,EAAI2jG,EAAY+qB,IAAK7lB,EAAQlF,EAAY0qB,SAErB,IAAlC1qB,EAAY0qB,OAAQ,YACxB1qB,EAAY0qB,QAAU,EACtBO,GAAUjrB,IAKb,QAAS4jB,IAAW5jB,GACnB,GAAI/nG,EACJ,KAAKA,EAAI,EAAGA,EAAI,IAAKA,EACpBgzH,GAAUjrB,GAIZ,QAASuhB,IAAqBvhB,GAC7B,MAAO3jG,GAAIA,EAAI6oG,EAAQlF,EAAYkrB,YAAalrB,EAAYmrB,WAAYC,IAGzE,QAAS9D,IAAQtnB,GAChBA,EAAYmrB,UAAY7b,GACxBtP,EAAY+qB,IAAMzb,GAClBtP,EAAY0qB,OAAQ,EACpB1qB,EAAYkrB,WAAa,EACzBlrB,EAAYqrB,OAAS,EAGtB,QAASJ,IAAUjrB,GAClB,GAAIsrB,GAAOjW,CAEX,IADAiW,EAAQ9nB,EAAU+C,EAAKvG,EAAY+qB,IAAK,KAC3B,GAATO,GAAc3xE,EAAQqmD,EAAY+qB,IAAKQ,IAAqB,EAAG,CAClEvrB,EAAYmrB,UAAY9uH,EAAI2jG,EAAYmrB,UAAWjmB,EAAQlF,EAAYkrB,aACvE7V,EAAOrV,EAAYqrB,MACnB,GACC3iB,IAAO1I,EAAY2O,OAAQ0G,EAAOiW,GAClCjW,EAAO,UAC6B,KAA1BrV,EAAYkrB,WACvBlrB,GAAYqrB,OAAS7nB,EAAUxD,EAAY+qB,OAAS,KAEnD/qB,EAAYkrB,WACdlrB,EAAY+qB,IAAMpmB,EAAIrB,EAAItD,EAAY+qB,IAAKS,IAAkB,GAG9D,QAASnE,IAASoE,EAAMrvF,GAEvB,MADA6lF,MACOwE,IAAwC,MAA3BgF,EAAOrvF,GAAUA,MAAoB,GAG1D,QAASmrF,IAAgBgD,GACxBtI,IACA,IAAIhqH,EACJ,KAAKA,EAAI,EAAGA,EAAIsyH,EAAMryH,SAAUD,EAC/BsyH,EAAMtyH,GAAK,KAIb,QAASyzH,MACR,MAAOC,IAGR,QAASzJ,OAaT,QAAS0J,IAAOC,GACf,GAAInkB,GAAKzvG,EAAG4G,EAAGE,EAAGb,CAElB,KADAwpG,EAAMkE,GAAe,GAAIG,KACpB9zG,EAAI,EAAGA,EAAI4zH,EAAI3zH,SAAUD,EAE7B,GADA4G,EAAa,IAATgtH,EAAI5zH,GACS,IAAR,IAAJ4G,GAAe,CACnB,GAAS,GAALA,EACH,KAAMyrG,IAA0B,GAAIG,IAA4B,gBAEjE9J,GAAe+G,EAAIprG,KAAMsD,OAAOkhF,aAAiB,MAAJjiF,QACvC,IAAiB,MAAR,IAAJA,GAAiB,CAC5B,GAAI5G,EAAI,GAAK4zH,EAAI3zH,OAChB,KAAMoyG,IAA0B,GAAIG,IAA4B,gBAGjE,IADA1rG,EAAe,IAAX8sH,IAAM5zH,GACO,MAAR,IAAJ8G,GACJ,KAAMurG,IAA0B,GAAIG,IAA4B,gBAEjEhK,GAAQiH,EAAIprG,KAAMsD,OAAOkhF,cAAkB,GAAJjiF,IAAW,EAAI,MAAY,GAAJE,QACxD,CAAA,GAAiB,MAAR,IAAJF,GAcX,KAAMyrG,IAA0B,GAAIG,IAA4B,gBAbhE,IAAIxyG,EAAI,GAAK4zH,EAAI3zH,OAChB,KAAMoyG,IAA0B,GAAIG,IAA4B,gBAGjE,IADA1rG,EAAe,IAAX8sH,IAAM5zH,GACO,MAAR,IAAJ8G,GACJ,KAAMurG,IAA0B,GAAIG,IAA4B,gBAGjE,IADAvsG,EAAe,IAAX2tH,IAAM5zH,GACO,MAAR,IAAJiG,GACJ,KAAMosG,IAA0B,GAAIG,IAA4B,gBAEjE9J,GAAe+G,EAAIprG,KAAMsD,OAAOkhF,aAAyD,QAAtC,GAAJjiF,IAAW,IAAU,GAAJE,IAAW,EAAQ,GAAJb,KAKjF,MAAO0iG,GAAU8G,EAAIprG,MAGtB,QAASwvH,IAAOn4H,GACf,GAAIwD,GAAI40H,EAAOzvH,EAAM0vH,EAAM/zH,EAAGg0H,EAASp0H,CAGvC,KAFSA,EAAIlE,EAAEuE,OAAS+zH,EAAU9qB,EAAQ+qB,GAAc,GAAG,EAAIr0H,EAAG,GAAKuzG,GAAUz3G,EAAG,EAAGkE,EAAGo0H,EAAS,GAAnGF,EAAwGE,EACxGD,EAAO,EACF/zH,EAAI,EAAGA,EAAItE,EAAEuE,SAAUD,EAC3Bd,EAAK40H,EAAM9zH,GACPd,GAAM,GAAKA,GAAM,MAClB60H,EAEFA,GADgB,GAAN70H,GAAWA,GAAM,KAAOA,GAAM,KAChC,EAEA,CAKV,KAFAmF,EAAO6kG,EAAQmH,GAAc,GAAG,EAAI0jB,EAAM,GAC1CA,EAAO,EACF/zH,EAAI,EAAGA,EAAItE,EAAEuE,SAAUD,EAC3Bd,EAAK40H,EAAM9zH,GACPd,GAAM,GAAKA,GAAM,IACpBmF,EAAK0vH,KAAU70H,GAAM,IAAM,GACX,GAANA,GAAWA,GAAM,KAAOA,GAAM,MACxCmF,EAAK0vH,MAAW,IAAM70H,GAAM,EAAI,KAAO,IAAM,GAC7CmF,EAAK0vH,MAAW,IAAW,GAAL70H,IAAY,IAAM,KAExCmF,EAAK0vH,MAAW,IAAM70H,GAAM,GAAK,KAAO,IAAM,GAC9CmF,EAAK0vH,MAAW,IAAM70H,GAAM,EAAI,KAAO,IAAM,GAC7CmF,EAAK0vH,MAAW,IAAW,GAAL70H,IAAY,IAAM,GAG1C,OAAOmF,GAGR,QAAS6vH,IAAUnsB,GAClB,MAAOA,GAER,QAASosB,IAAS93H,GACjB,MAAOA,GAAE,GAAKA,EAAE,GAGjB,QAAS+3H,MA8BR,QAASC,KACR,GAAIrmB,EAEJ,KADA7gF,GAAQ,GAAKjhB,OAAMC,UACZspG,GAAS1N,EAAYhrG,IAG3B,GAFAmqG,EAAUitB,GAASpsB,EAAYhrG,EAAE44G,QAAQ+J,kBAAoByU,GAASpsB,EAAYhrG,EAAEgsG,WAEhF,GAAK78F,OAAMC,UAAYghB,EAAQ,IAOlC,MANImnG,GACHA,EAAYptB,GACsB,mBAAjBC,IACjBF,EAAgBC,EAASC,GAE1BroG,WAAWu1H,EAAW,IACf,CAILC,GACHA,EAAY,GACsB,mBAAjBntB,IACjBF,EAAgB,EAAGE,GAKpB6G,EAAMwC,GAAazI,EAAYhrG,EAAE+4G,QAAQp3G,MAAM,GAE3C61H,EACHA,EAAUvmB,GACwB,mBAAjB7G,IACjBC,aACC/+D,OAAQmsF,GACRrtB,aAAcA,EACdxvF,OAAQq2F,IA9DX,GACC9G,GACA/5E,EAIAg6E,EACAotB,EACAD,EARGvsB,EAAcmsB,GAAU,GAAIO,KAI/Bj/F,EAAM7rB,UAAU,GAChBosG,EAAOpsG,UAAU,EAKU,mBAAjBA,WAAU,IACpB4qH,EAAY5qH,UAAU,GACM,kBAAjBA,WAAU,KACpB2qH,EAAc3qH,UAAU,KAGzBw9F,EAAex9F,UAAU,GAG1Bo+F,EAAYgO,KAAO2e,GAAa3e,GAEhChO,EAAYhrG,EAAI46G,GAAyB,GAAIG,IAA2B+b,GAAOr+F,GAAMuyE,EAAYgO,MAE7Fue,EACHA,EAAY,GACsB,mBAAjBntB,IACjBF,EAAgB,EAAGE,GAyCpBroG,WAAWu1H,EAAW,GAGvB,QAASM,MA+BR,QAASN,KACR,GAAIrmB,EAEJ,KADA7gF,GAAQ,GAAKjhB,OAAMC,UACZ4rG,GAAWhQ,EAAY9qG,IAG7B,GAFAiqG,EAAUitB,GAASpsB,EAAY9qG,EAAE04G,QAAQuC,QAAQd,UAAY+c,GAASpsB,EAAY9qG,EAAE8rG,WAEhF,GAAK78F,OAAMC,UAAYghB,EAAQ,IAOlC,MANImnG,GACHA,EAAYptB,GACsB,mBAAjBC,IACjBF,EAAgBC,EAASC,GAE1BroG,WAAWu1H,EAAW,IACf,CAILC,GACHA,EAAY,GACsB,mBAAjBntB,IACjBF,EAAgB,EAAGE,GAGpB6G,EAAM2lB,GAAOnjB,GAAazI,EAAY9qG,EAAE64G,SAEpCye,EACHA,EAAUvmB,GACwB,mBAAjB7G,IACjBC,aACC/+D,OAAQusF,GACRztB,aAAcA,EACdxvF,OAAQq2F,IA7DX,GACC9G,GACA7iG,EACA8oB,EAIAg6E,EACAotB,EACAD,EATGvsB,EAAcmsB,GAAU,GAAIO,KAM/BI,EAAWlrH,UAAU,EAKM,mBAAjBA,WAAU,IACpB4qH,EAAY5qH,UAAU,GACM,kBAAjBA,WAAU,KACpB2qH,EAAc3qH,UAAU,KAGzBw9F,EAAex9F,UAAU,GAG1BtF,EAAOulG,EAAWyG,GAAc,GAAG,EAAIwkB,GAEvC9sB,EAAY9qG,EAAI27G,GAA2B,GAAIG,IAA6B10G,GAExEiwH,EACHA,EAAY,GACsB,mBAAjBntB,IACjBF,EAAgB,EAAGE,GAuCpBroG,WAAWu1H,EAAW,GAQvB,QAASS,MACR,MAAOC,IAGR,QAASN,OAQT,QAASpuH,QACN2uH,QAAUA,QAAQC,WAAWC,GAAaC,UAAU,UAAWC,SAAS,gBAAiBC,QAAO,GAAKnpH,OAAQC,UAAWhL,KAAK,oBAAqBgO,UAAU,2CAG/J,QAASmmH,IAAUC,EAAOC,EAASC,GAGlC,GAFAP,GAAcM,EACdE,GAAcD,EACVF,EACH,IACClvH,KAED,MAAOlJ,GACNo4H,EAAMC,OAGPnvH,MAIF,QAAS4jG,OA5sHT,GAaIirB,IAAaQ,GAEbt5H,GAfAo4H,GAAoB,EACvBI,GAAoB,EAepBzlB,IAA6B,GAAG,oBAChC6G,IAAc,YAAY,YAC1BqB,IAAc,EAAG,GACjBqK,IAAc,EAAG,GACjByR,IAAc,EAAG,GACjB5J,IAAiB,KAAM,GACvBgK,IAAmB,SAAU,GAC7BnkB,IAAoB,SAAU,GAC9BkkB,IAAqB,WAAY,GACjCP,IAAqB,WAAY,GACjC7jB,IAA6B,WAAY,mBAS1C9yG,IAAImrG,EAASrgG,aACb9K,GAAEo4G,UAAYnN,EACdjrG,GAAE4tG,YAAcC,GAChB7tG,GAAEstG,QAAU,EAQZttG,GAAIsrG,EAAUxgG,UAAY,GAAIqgG,GAC9BnrG,GAAEo4G,UAAYhN,EACdprG,GAAEstG,QAAU,EACZttG,GAAE4rG,cAAgB,KAQlB5rG,GAAIyrG,EAAU3gG,UAAY,GAAIwgG,GAC9BtrG,GAAEo4G,UAAY7M,EACdvrG,GAAEstG,QAAU,EAaZttG,GAAI+rG,EAAiBjhG,UAAY,GAAI2gG,GACrCzrG,GAAEo4G,UAAYvM,EACd7rG,GAAEstG,QAAU,EAYZttG,GAAImsG,EAAoBrhG,UAAY,GAAIihG,GACxC/rG,GAAEo4G,UAAYnM,EACdjsG,GAAEstG,QAAU,EAkEZttG,GAAI8tG,EAAQhjG,UAAY,GAAIqgG,GAC5BnrG,GAAEo4G,UAAYxL,EACd5sG,GAAEstG,QAAU,EACZttG,GAAE6sG,YAAc,KAChB7sG,GAAE6D,OAAS,EACX7D,GAAEutG,SAAW,CA0Bb,IAAIH,IAAgBC,GAqahB2D,GAaAuB,GAAM3B,GAAWT,GAAWC,GAAS16B,GAAK08B,GAAKN,GAAY5B,GA1Z3D3B,WAGDgrB,EAAE,IACFC,EAAE,IACFA,EAAE,IACFA,EAAE,IACFA,EAAE,IACFA,EAAE,EAAGC,GAAG,IACRD,EAAE,IACFA,EAAE,IACFA,EAAE,IACFA,EAAE,IACFA,EAAE,IACFA,EAAE,EAAGE,GAAG,IACRF,EAAE,IACFA,EAAE,IACFA,EAAE,IACFG,EAAE,IACFC,EAAE,IACFC,EAAE,IACFC,EAAE,IACFC,EAAE,IACFC,EAAE,GA2YLh6H,IAAImzG,GAAYroG,UAAY,GAAIqgG,GAChCnrG,GAAEo4G,UAAYnF,GACdjzG,GAAEstG,QAAU,EAqCZttG,GAAI4zG,GAAqB9oG,UAAY,GAAIqoG,IACzCnzG,GAAEo4G,UAAY1E,GACd1zG,GAAEstG,QAAU,EACZttG,GAAEqzG,IAAM,KACRrzG,GAAEmmE,MAAQ,EACVnmE,GAAEgxB,IAAM,EAQRhxB,GAAI+zG,GAAajpG,UAAY,GAAIqgG,GACjCnrG,GAAEo4G,UAAYvE,GACd7zG,GAAEstG,QAAU,EAyCZttG,GAAIy0G,GAAsB3pG,UAAY,GAAIipG,IAC1C/zG,GAAEo4G,UAAY7D,GACdv0G,GAAEstG,QAAU,EACZttG,GAAEqzG,IAAM,KACRrzG,GAAEmmE,MAAQ,EAaVnmE,GAAI60G,GAAY/pG,UAAY,GAAI2gG,GAChCzrG,GAAEo4G,UAAYzD,GACd30G,GAAEstG,QAAU,EAaZttG,GAAIgwG,GAAoBllG,UAAY,GAAIihG,GACxC/rG,GAAEo4G,UAAYrD,GACd/0G,GAAEstG,QAAU,EAaZttG,GAAI2tG,GAAoB7iG,UAAY,GAAIihG,GACxC/rG,GAAEo4G,UAAYlD,GACdl1G,GAAEstG,QAAU,EA6BZttG,GAAIgrC,GAAMlgC,UAAY,GAAIqgG,GAC1BnrG,GAAEo4G,UAAY1C,GACd11G,GAAEstG,QAAU,EACZttG,GAAEu1G,SAAW,KAQbv1G,GAAIyuG,GAAmB3jG,UAAY,GAAIihG,GACvC/rG,GAAEo4G,UAAYxC,GACd51G,GAAEstG,QAAU,GAQZttG,GAAIg2G,GAAKlrG,UAAY,GAAIqgG,GACzBnrG,GAAEo4G,UAAYtC,GACd91G,GAAEstG,QAAU,EAaZttG,GAAIo2G,GAAyBtrG,UAAY,GAAIihG,GAC7C/rG,GAAEo4G,UAAYlC,GACdl2G,GAAEstG,QAAU,GAQZttG,GAAIu2G,GAAsBzrG,UAAY,GAAIihG,GAC1C/rG,GAAEo4G,UAAY/B,GACdr2G,GAAEstG,QAAU,GAQZttG,GAAI02G,GAA0B5rG,UAAY,GAAIihG,GAC9C/rG,GAAEo4G,UAAY5B,GACdx2G,GAAEstG,QAAU,GAgBZttG,GAAI62G,GAAqB/rG,UAAY,GAAIihG,GACzC/rG,GAAEo4G,UAAYzB,GACd32G,GAAEstG,QAAU,GAmBZttG,GAAIuL,OAAOT,UACX9K,GAAEo4G,UAAYf,GACdr3G,GAAEstG,QAAU,EAcZttG,GAAI03G,GAAc5sG,UAAY,GAAIqgG,GAClCnrG,GAAEo4G,UAAYZ,GACdx3G,GAAEstG,QAAU,EA8DZttG,GAAIo5G,GAAgBtuG,UAAY,GAAIkrG,IACpCh2G,GAAEo4G,UAAYc,GACdl5G,GAAEstG,QAAU,EACZttG,GAAEy4G,eAAiB,EACnBz4G,GAAE24G,GAAK,EACP34G,GAAE+4G,GAAK,EACP/4G,GAAEg5G,GAAK,EACPh5G,GAAE64G,YAAc,EAChB74G,GAAEi5G,GAAK,EAwCPj5G,GAAIs7G,GAAexwG,UAAY,GAAIqgG,GACnCnrG,GAAEo4G,UAAYgD,GACdp7G,GAAEstG,QAAU,EACZttG,GAAEu5G,QAAU,KAyBZv5G,GAAI07G,GAAwB5wG,UAAY,GAAIwwG,IAC5Ct7G,GAAEo4G,UAAYoD,GACdx7G,GAAEstG,QAAU,EACZttG,GAAE05G,OAAS,KAuEX15G,GAAIu8G,GAAiBzxG,UAAY,GAAIqgG,GACrCnrG,GAAEo4G,UAAYiE,GACdr8G,GAAEstG,QAAU,EACZttG,GAAEu5G,QAAU,KACZv5G,GAAE47G,UAAY,KACd57G,GAAE2sG,SAAWsO,GAcbj7G,GAAI28G,GAA0B7xG,UAAY,GAAIyxG,IAC9Cv8G,GAAEo4G,UAAYqE,GACdz8G,GAAEstG,QAAU,EACZttG,GAAE05G,OAAS,KAoGX15G,GAAI0+G,GAAS5zG,UAAY,GAAIqgG,GAC7BnrG,GAAEo4G,UAAYoG,GACdx+G,GAAEstG,QAAU,EACZttG,GAAEo9G,WAAa,EACfp9G,GAAEm9G,YAAc,KAChBn9G,GAAEu9G,cAAgB,EAClBv9G,GAAEk9G,eAAiB,EACnBl9G,GAAEi9G,gBAAkB,EACpBj9G,GAAEq9G,2BAA6B,EAC/Br9G,GAAEw9G,KAAO,EACTx9G,GAAEk+G,UAAY,EACdl+G,GAAEq+G,QAAU,KACZr+G,GAAE29G,sBAAuB,EACzB39G,GAAE49G,WAAa,EAoSf59G,GAAI8hH,GAAQh3G,UAAY,GAAI4zG,IAC5B1+G,GAAEo4G,UAAYwJ,GACd5hH,GAAEstG,QAAU,EACZttG,GAAE0/G,YAAa,EACf1/G,GAAEs/G,UAAY,IACdt/G,GAAEmhH,iBAAmB,EACrBnhH,GAAEw/G,kBAAoB,EACtBx/G,GAAE8/G,MAAQ,KACV9/G,GAAE2/G,UAAY,EACd3/G,GAAE6/G,aAAe,EACjB7/G,GAAEu/G,aAAe,EACjBv/G,GAAEy/G,KAAO,KACTz/G,GAAE4/G,aAAe,MACjB5/G,GAAEihH,eAAiB,EACnBjhH,GAAEohH,oBAAsB,CACxB,IAAIxC,GAiFJ5+G,IAAI8iH,GAAUh4G,UAAY,GAAIqgG,GAC9BnrG,GAAEo4G,UAAYwK,GACd5iH,GAAEstG,QAAU,EACZttG,GAAEiiH,QAAU,KACZjiH,GAAEw9G,KAAO,EACTx9G,GAAEq+G,QAAU,KACZr+G,GAAE49G,WAAa,EACf59G,GAAEgiH,YAAc,EAoFhBhiH,GAAIm7G,GAAQrwG,UAAY,GAAIqgG,GAC5BnrG,GAAEo4G,UAAY2L,GACd/jH,GAAEstG,QAAU,EACZttG,GAAEijH,OAAQ,EACVjjH,GAAE87G,QAAU,KACZ97G,GAAEu4G,QAAU,KA+LZv4G,GAAIk8G,GAAQpxG,UAAY,GAAIqgG,GAC5BnrG,GAAEo4G,UAAYuP,GACd3nH,GAAEstG,QAAU,EACZttG,GAAEunH,kBAAmB,EACrBvnH,GAAEsmH,uBAAwB,EAC1BtmH,GAAE+kH,eAAiB,EACnB/kH,GAAEg7G,SAAWC,GACbj7G,GAAEwjH,QAAUvI,GACZj7G,GAAE0kH,SAAW,EACb1kH,GAAEskH,KAAO,EACTtkH,GAAEukH,KAAO,EACTvkH,GAAEwkH,KAAO,EACTxkH,GAAEykH,KAAO,EACTzkH,GAAE2R,MAAQ,EA+CV3R,GAAI6mH,GAAmB/7G,UAAY,GAAIqgG,GACvCnrG,GAAEo4G,UAAY+P,GACdnoH,GAAEstG,QAAU,EACZttG,GAAE6nH,eAAiB,EAiCnB7nH,GAAI8mH,GAAuBh8G,UAAY,GAAIqgG,GAC3CnrG,GAAEo4G,UAAY4Q,GACdhpH,GAAEstG,QAAU,EACZttG,GAAEwoH,SAAW,KACbxoH,GAAE0oH,aAAe,EACjB1oH,GAAEyoH,cAAgB,EAClBzoH,GAAE2oH,UAAY,EAwCd3oH,GAAI8oH,GAAgCh+G,UAAY,GAAIqgG,GACpDnrG,GAAEo4G,UAAYiR,GACdrpH,GAAEstG,QAAU,GAm1BZttG,GAAI85G,GAAQhvG,UAAY,GAAIqgG,GAC5BnrG,GAAEo4G,UAAYqb,GACdzzH,GAAEstG,QAAU,EACZttG,GAAE4rH,kBAAoB,EACtB5rH,GAAEgtH,iBAAmB,EACrBhtH,GAAEwtH,gBAAkB,QACpBxtH,GAAEytH,qBAAsB,EACxBztH,GAAEkvH,eAAiB,GACnBlvH,GAAEm6G,WAAY,EACdn6G,GAAEk6G,UAAY,KACdl6G,GAAE+xH,oBAAsB,EACxB/xH,GAAE8xH,uBAAwB,EAC1B9xH,GAAEsrH,aAAe,KACjBtrH,GAAEotH,iBAAmB,EACrBptH,GAAEitH,iBAAmB,EACrBjtH,GAAEi6G,sBAAuB,EACzBj6G,GAAEgyH,kBAAoB,EACtBhyH,GAAE46G,cAAgB,GAClB56G,GAAE0tH,mBAAoB,EACtB1tH,GAAEutH,uBAAyB,EAC3BvtH,GAAEstH,wBAA0B,EAC5BttH,GAAEyqH,qBAAuB,EACzBzqH,GAAE+pH,iBAAmB,EACrB/pH,GAAE86G,cAAgB,EAClB96G,GAAEyrH,cAAgB,EAClBzrH,GAAE4qH,cAAgB,EAClB5qH,GAAE2qH,OAAS,EACX3qH,GAAE+5G,eAAgB,EAClB/5G,GAAEwqH,QAAU,EACZxqH,GAAEg7G,SAAWC,EACb,IAAIwO,GAsEJzpH,IAAIy0H,GAAmB3pH,UAAY,GAAIqgG,GACvCnrG,GAAEo4G,UAAYmc,GACdv0H,GAAEstG,QAAU,EAmCZttG,GAAIkuH,GAA6BpjH,UAAY,GAAI2pH,IACjDz0H,GAAEo4G,UAAYwc,GACd50H,GAAEstG,QAAU,EACZttG,GAAE26G,WAAa,EAmCf36G,GAAImuH,GAAuBrjH,UAAY,GAAIqgG,GAC3CnrG,GAAEo4G,UAAY8c,GACdl1H,GAAEstG,QAAU,EACZttG,GAAEwoH,SAAW,KACbxoH,GAAE0oH,aAAe,EACjB1oH,GAAEyoH,cAAgB,EAClBzoH,GAAE2oH,UAAY,EAiEd3oH,GAAIg1H,GAAgClqH,UAAY,GAAIqgG,GACpDnrG,GAAEo4G,UAAYkd,GACdt1H,GAAEstG,QAAU,GAkBZttG,GAAI6uH,GAAgB/jH,UAAY,GAAIqgG,GACpCnrG,GAAEo4G,UAAYod,GACdx1H,GAAEstG,QAAU,GACZttG,GAAEkqH,SAAW,EACblqH,GAAEuqH,UAAY,EACdvqH,GAAEwyH,OAAS,EACXxyH,GAAEyyH,OAAS,EACXzyH,GAAE0yH,OAAS,EACX1yH,GAAE2yH,OAAS,EACX3yH,GAAEiqH,QAAU,EACZjqH,GAAEsqH,SAAW,EACbtqH,GAAEmqH,aAAc,EAChBnqH,GAAEqqH,OAAQ,EACVrqH,GAAEmyH,MAAQ,EACVnyH,GAAEkyH,MAAQ,EAiDVlyH,GAAI2mH,GAAe77G,UAAY,GAAIqgG,GACnCnrG,GAAEo4G,UAAY0d,GACd91H,GAAEstG,QAAU,GACZttG,GAAEinH,OAAS,KACXjnH,GAAE21H,aAAe,EAsFjB31H,GAAIguH,GAAeljH,UAAY,GAAIqgG,GACnCnrG,GAAEo4G,UAAY4d,GACdh2H,GAAEstG,QAAU,GACZttG,GAAEinH,OAAS,KACXjnH,GAAE21H,aAAe,EAgEjB31H,GAAIumH,GAAUz7G,UAAY,GAAIqgG,GAC9BnrG,GAAEo4G,UAAYoe,GACdx2H,GAAEstG,QAAU,EACZttG,GAAEs2H,KAAO,EACTt2H,GAAEq2H,MAAQ,EACVr2H,GAAEs6G,OAAS,KAqGXt6G,GAAI6tH,GAAU/iH,UAAY,GAAIqgG,GAC9BnrG,GAAEo4G,UAAYif,GACdr3H,GAAEstG,QAAU,EACZttG,GAAE02H,IAAMzb,GACRj7G,GAAEq2H,MAAQ,EACVr2H,GAAEs6G,OAAS,KACXt6G,GAAEg3H,OAAS,EACXh3H,GAAE62H,WAAa,EACf72H,GAAE82H,UAAY7b,EACd,IAAImX,GAuOJpyH,IAAIq4H,GAASvtH,UAAY,GAAIqgG,GAC7BnrG,GAAEo4G,UAAYsgB,GACd14H,GAAEstG,QAAU,EACZttG,GAAEW,EAAI,KACNX,GAAEa,EAAI,IACN,IAuBIqqG,IAA+BsK,GAAe,aAAc,UAC/DnK,GAAkCmK,GAAe,aAAc,aAC/DhK,GAAkCgK,GAAe,aAAc,aAC/D1J,GAAyC0J,GAAe,aAAc,oBACtEtJ,GAA6DsJ,GAAe,8BAA+B,uBAC3G6C,GAA0D7C,GAAe,8BAA+B,qBAAsB3C,GAAiBuC,GAAe,GAAI,OAClKlC,GAAkCsC,GAAe,WAAY,eAC7D7B,GAA2C6B,GAAe,WAAY,wBAAyBvB,GAAemB,GAAe,GAAI,MACjItB,GAAmC0B,GAAe,WAAY,gBAC9DhB,GAA4CgB,GAAe,WAAY,yBACvEZ,GAAkCY,GAAe,WAAY,eAC7DO,GAA6BP,GAAe,aAAc,QAC1DR,GAA4CQ,GAAe,aAAc,uBACzEL,GAA4CK,GAAe,aAAc,uBAAwBqiB,GAAeziB,GAAe,GAAI,MACnIO,GAA8BH,GAAe,aAAc,SAC3DK,GAA2CL,GAAe,aAAc,sBACxEW,GAAiDX,GAAe,aAAc,4BAC9Ec,GAA8Cd,GAAe,aAAc,yBAC3EiB,GAAkDjB,GAAe,aAAc,6BAA8BqJ,GAAezJ,GAAe,GAAI,MAC/IwB,GAA6CpB,GAAe,aAAc,wBAC1E8B,GAA+B9B,GAAe,aAAc,UAC5DiC,GAAsCjC,GAAe,aAAc,iBACnEiJ,GAAwEjJ,GAAe,oDAAqD,YAC5IqM,GAAuErM,GAAe,oDAAqD,WAC3IqN,GAAyErN,GAAe,oDAAqD,aAC7IwO,GAAyExO,GAAe,sDAAuD,WAAYgR,GAAepR,GAAe,GAAI,MAAOqR,GAAwFrR,GAAe,8DAA+D,mBAC1WwS,GAAyEpS,GAAe,sDAAuD,WAC/I4S,GAAoF5S,GAAe,sDAAuD,sBAAuBoT,GAAmGxT,GAAe,wDAAyD,oCAC5V6T,GAAwFzT,GAAe,sDAAuD,0BAC9J8T,GAAiG9T,GAAe,sDAAuD,mCAAoCmY,GAAmFvY,GAAe,wDAAyD,oBAAqB0Y,GAAwF1Y,GAAe,8DAA+D,mBAAoBsZ,GAAetZ,GAAe,GAAI,MAAOuZ,GAAevZ,GAAe,GAAI,MAChoBse,GAAyEle,GAAe,sDAAuD,WAAYsf,GAAmG1f,GAAe,wDAAyD,oCACtU+f,GAAwF3f,GAAe,sDAAuD,0BAC9J+f,GAAiG/f,GAAe,sDAAuD,mCACvKgf,GAAoFhf,GAAe,sDAAuD,sBAC1Jqf,GAA8Frf,GAAe,sDAAuD,gCACpKigB,GAAiFjgB,GAAe,sDAAuD,mBACvJugB,GAAsFvgB,GAAe,4DAA6D,kBAClKygB,GAAsFzgB,GAAe,4DAA6D,kBAClKihB,GAA+EjhB,GAAe,4DAA6D,WAC3J8hB,GAA+E9hB,GAAe,4DAA6D,WAC3J2D,GAAuD1D,GAAc,4BAA6B,mBAClG4F,GAAsD7F,GAAe,4BAA6B,kBAClGiG,GAA+DjG,GAAe,4BAA6B,2BAC3G8G,GAAwD9G,GAAe,4BAA6B,oBACpGkH,GAAiElH,GAAe,4BAA6B,6BAC7GmjB,GAAqDnjB,GAAe,iCAAkC,WAEvG0jB,IAAU,aAAc,YAAY,GAGpC,IAAIZ,IAAgB,WAanB,QAASphG,GAAS1zB,GACjB,OAAQiL,MAAM5I,WAAWrC,KAAOkL,SAASlL,GAb1C,GAAIy2H,KACCxhB,eAAgB,GAAIE,GAAI,GAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,GAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,GAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,GAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,IAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,IAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,IAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,IAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC/DR,eAAgB,GAAIE,GAAI,IAAKE,YAAa,EAAGE,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAOpE,OAAO,UAAUU,GAWhB,MAVKziF,GAASyiF,GAGTA,EAAO,EACVA,EAAO,EACGA,EAAO,IACjBA,EAAO,GALRA,EAAO,EASDsgB,EAAMtgB,EAAO,MAItB,QACCqe,SAAYA,GACZO,WAAYA,MAKd94H,MAAKmrG,KAAOA,IA4BZ,IAAIsvB,uBAAwB,EAKxBC,wBAA0B,EAK1BC,+BAAiC,EAKjCC,qBAAuB,EAKvBC,iBAAmB,GAKnBC,6BAA+B,GAK/BC,2BAA6B,IAK7BC,yBAA2B,IAK3BC,2BAA6B,KAC7BC,UAAY,WACZ,GAAI96H,KAAQ,YAAa,eAAgB,OAAQ,aAAc,QAC3D,QAAS,SAAU,QAAS,iBAAkB,OAAQ,aACtD,QAAS,YAAa,YAAa,aAAc,YAAa,QAC9D,iBAAkB,WAAY,UAAW,OAAQ,WACjD,WAAY,gBAAiB,WAAY,YAAa,YACtD,cAAe,iBAAkB,aAAc,aAAc,UAC7D,aAAc,eAAgB,gBAAiB,gBAC/C,gBAAiB,aAAc,WAAY,cAAe,UAC1D,aAAc,YAAa,cAAe,cAAe,UACzD,YAAa,aAAc,OAAQ,YAAa,OAAQ,QACxD,cAAe,WAAY,UAAW,YAAa,SAAU,QAC7D,QAAS,WAAY,gBAAiB,YAAa,eACnD,YAAa,aAAc,YAAa,uBACxC,aAAc,YAAa,YAAa,cAAe,gBACvD,eAAgB,iBAAkB,iBAAkB,cACpD,OAAQ,YAAa,QAAS,UAAW,SAAU,mBACnD,aAAc,eAAgB,eAAgB,iBAC9C,kBAAmB,oBAAqB,kBACxC,kBAAmB,eAAgB,YAAa,YAChD,WAAY,cAAe,OAAQ,UAAW,QAAS,YACvD,SAAU,YAAa,SAAU,gBAAiB,YAClD,gBAAiB,gBAAiB,aAAc,YAAa,OAC7D,OAAQ,OAAQ,aAAc,SAAU,MAAO,YAC/C,YAAa,cAAe,SAAU,aAAc,WACpD,WAAY,SAAU,SAAU,UAAW,YAAa,YACxD,OAAQ,cAAe,YAAa,MAAO,OAAQ,UAAW,SAC9D,cAAe,YAAa,SAAU,QAAS,QAAS,aACxD,SAAU,gBAAmB,aAAc,aAAc,YACzD,UAAW,WAAY,OAAQ,OAAQ,OAAQ,WAAY,YAC3D,UAAW,cAAe,YAAa,UAAW,WAClD,aAAc,WAAY,YAAa,YAAa,OACpD,gBAAiB,WAAY,SAAY,WAAY,UACrD,uBAAwB,OAAQ,WAAY,cAC5C,cAAe,cAAe,cAAe,SAAU,cACvD,cAAe,gBAAmB,MAAO,MAAO,MAAO,MAAO,MAC9D,MAAO,MAAO,MAAO,MAAO,OAAQ,SAAU,YAC9C,cAAe,eAAgB,gBAAiB,aAChD,eAAgB,qBAAsB,qBACtC,qBAAsB,YAAa,oBAAuB,YAC1D,WAAY,kBAAmB,iBAAkB,WACjD,iBAAkB,gBAAiB,kBAAmB,iBACtD,UAAa,UAAW,SAAU,eAAgB,aAClD,cAAe,cAAe,mBAAoB,eAClD,eAAgB,WAAc,SAAU,cAAe,eACvD,WAAY,YAAa,YAAa,YAAa,aACnD,eAAkB,QAAS,SAAU,QAAS,UAAW,UACzD,UAAW,WAAY,aAAgB,SAAU,SAAU,SAC3D,SAAU,SAAU,QAAS,UAAa,OAAQ,UAClD,cAAe,WAAY,SAAU,WAAY,eACjD,KAAM,iBAAkB,eAAgB,UAAW,kBACnD,kBAAqB,WAAY,SAAU,MAAO,QAClD,cAAe,aAAgB,UAAW,OAAQ,OAClD,cAAe,gBAAiB,eAAkB,OAAQ,SAC1D,OAAQ,SAAU,SAAU,WAAc,QAAS,QAAS,SAC5D,QAAS,UAAa,UAAW,UAAW,YAAa,aACzD,UAAa,OAAQ,SAAU,OAAQ,SAAU,WACjD,YAAa,WAAY,WAAY,QAAS,UAAa,QAC3D,eAAgB,WAAY,cAAiB,QAAS,OAAQ,OAC9D,UAAa,OAAQ,MAAO,SAAU,UAAa,SAAU,MAC7D,WAAY,aAAgB,WAAY,WAAY,WACpD,YAAa,oBAAqB,YAAe,aACjD,cAAe,gBAAmB,aAAc,YAChD,cAAiB,QAAS,SAAU,SAAY,IAAK,YACrD,YAAa,aAAgB,gBAAiB,UAAa,SAC3D,QAAW,YAAa,aAAgB,OAAQ,aAChD,UAAW,UAAa,aAAc,WAAc,MAAO,UAC3D,OAAQ,gBAAmB,OAAQ,SAAY,aAAc,aAC1D,SAAU,YAAe,SAAU,YAAe,OAAQ,UAC7D,MAAO,QAAW,aAAc,eAAkB,SAAU,YAC1D,WAAY,iBAAoB,QAAS,SAAY,MAAS,MAChE,QAAW,WAAc,SAAY,UAAa,SAClD,eAAkB,WAAc,WAAc,SAAY,aAC1D,aAAgB,UAAa,WAAc,aAAgB,UAC3D,WAAc,YAAe,cAAiB,UAAa,WAC3D,QAAW,SAAY,WAAc,SAAY,WAAc,WAC5D,aAAgB,eAAkB,cAAiB,OACtD,YACA+6H,GACF9tE,WACE+tE,YAAe,IACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAC/DA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACvBk7H,QAAY,iBAAkB,YAEhCC,mBACEH,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFE,uBACEJ,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEFG,qBAAsB,kBACtBC,uBACEN,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Ck7H,WAEFK,6BACEP,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFM,kBACER,YAAe,IACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFO,wBACET,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFQ,6BACEV,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,QAAY,iBAAkB,YAEhCS,YACEX,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFU,SACEZ,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,KACrCk7H,WAEFW,uBACEb,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEF7wB,YACE2wB,YAAe,GACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAC9DA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAC/DA,EAAG,KACRk7H,QAAY,UAAW,oBAAqB,oBAC1C,8BAA+B,8BAC/B,QAAS,WAEbY,yBACEd,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Ck7H,WAEFa,oBACEf,YAAe,EACfC,aAAiBj7H,EAAG,IACpBk7H,QAAY,QAAS,WAEvBc,oBACEhB,YAAe,GACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,QAAY,UAAW,oBAAqB,oBAC1C,8BAA+B,gCAEnCe,uBACEjB,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Ck7H,WAEFgB,qBACElB,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEFiB,mBACEnB,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEF/lH,QACE6lH,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EACjE,KACJk7H,QAAY,QAAS,WAEvBkB,gBAAiB,SACjBC,sBAAuB,mBACvBC,6BACEtB,YAAe,EACfE,WAEFqB,6BAA8B,4BAC9BC,uBACExB,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC9Ck7H,WAEFuB,uBACEzB,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFwB,mBACE1B,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFyB,eAAgB,mBAChBC,cAAe,SACfC,oBAAqB,mBACrBC,oBAAqB,sBACrBC,oBAAqB,sBACrBC,iBACEhC,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF+B,eAAgB,SAChBC,qBAAsB,mBACtBC,qBAAsB,sBACtBC,qBAAsB,sBACtBC,iBAAkB,4BAClBC,eAAgB,sBAChBC,aAAc,SACdC,mBAAoB,mBACpBC,yBAA0B,4BAC1BC,0BAA2B,4BAC3BC,mBAAoB,sBACpBC,mBAAoB,sBACpBC,eAAgB,sBAChB3sE,QACE8pE,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF7wD,KACE2wD,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEF4C,cACE9C,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC9Ck7H,QAAY,QAAS,WAEvB6C,cACE/C,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF8C,gBACEhD,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFh+F,OACE89F,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEF+C,MACEjD,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,QAAY,WAEdhoE,MAAS,mBACT3vB,SACEy3F,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFgD,KACElD,YAAe,GACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFiD,YAAa,MACbC,aAAc,MACdzmE,QACEqjE,YAAe,GACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,KACrCk7H,WAEFj2D,WACE+1D,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFtmH,SACEomH,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Dk7H,WAEFmD,kBACErD,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFoD,kBACEtD,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFqD,mBACEvD,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,KAC5Bk7H,WAEFsD,WACExD,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFuD,eACEzD,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFpyH,QACEkyH,YAAe,EACfE,QAAY,YAEdlyG,OACEgyG,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFpxC,MACEkxC,YAAe,GACfC,aAAiBj7H,EAAG,GAAKA,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EACjE,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Bk7H,WAEFwD,eACE1D,YAAe,GACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFyD,aACE3D,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,KAC5Bk7H,WAEF0D,gBACE5D,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,KAC5Bk7H,WAEF2D,cACE7D,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF4D,gBACE9D,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF6D,eACE/D,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,KAC5Bk7H,WAEFz5H,OAAU,SACV4nB,KAAQ,SACR21G,kBACEhE,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF+D,eACEjE,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFgE,cACElE,YAAe,GACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC9Ck7H,QAAY,UAAW,oBAAqB,oBAC1C,8BAA+B,gCAEnCiE,oBACEnE,YAAe,GACfC,aAAiBj7H,EAAG,KACpBk7H,QAAY,UAAW,oBAAqB,oBAC1C,8BAA+B,gCAEnCkE,uBACEpE,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFmE,mBACErE,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,KACrCk7H,WAEFvxG,OAAU,SACV21G,gBAAiB,SACjBC,cAAe,SACfC,eAAgB,SAChBC,aAAc,SACdC,cACE1E,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFyE,YAAa,aACbC,cACE5E,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF2E,YAAa,aACbhtH,SACEmoH,YAAe,EACfE,WAEF4E,SACE9E,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EACjE,IAAMA,EAAG,KACbk7H,QAAY,QAAS,WAEvB6E,iBACE/E,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,KAC5Bk7H,QAAY,QAAS,WAEvB8E,gBAAiB,sBACjBC,gBAAiB,sBACjB7qH,UACE4lH,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Ck7H,WAEFgF,iBACElF,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFiF,cACEnF,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACxDk7H,WAEFkF,aAAc,aACdlrH,QAAW,UACXmrH,iBAAkB,UAClBC,eAAgB,UAChBC,gBAAiB,UACjBC,cAAe,UACfC,oBACEzF,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG;AAC/Ck7H,WAEFwF,oBAAqB,mBACrBC,qBACE3F,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF0F,MAAS,4BACTC,cAAe,4BACfC,eAAgB,4BAChBC,aACE/F,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF8F,sBACEhG,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEF+F,OACEjG,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFgG,cAAe,4BACfC,eACEnG,YAAe,GACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Ck7H,WAEFzlH,UACEulH,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFkG,QACEpG,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFmG,QACErG,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEFoG,SAAY,4BACZ3+E,MAAS,SACT4+E,OACEvG,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEFsG,gBACExG,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFuG,iBACEzG,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFwG,qBACE1G,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFyG,eACE3G,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF0G,OAAU,4BACVC,gBACE7G,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF4G,cACE9G,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEF6G,mBACE/G,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF8G,cAAe,4BACfC,iBACEjH,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFgH,cAAe,aACfC,kBACEnH,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFkH,aACEpH,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACtCk7H,WAEFxlH,IAAO,SACPs7B,WACEgqF,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,QAAY,WAAY,gBAAiB,WAAY,aACnD,YAAa,YAAa,YAAa,UAAW,YAClD,WAAY,WAAY,WAAY,SAAU,UAAW,UACzD,cAAe,gBAAiB,eAAgB,eAChD,iBAEJmH,mBAAoB,qBACpBC,mBACEtH,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEFqH,YACEvH,YAAe,KACfC,aAAiBj7H,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KAC/Ck7H,QAAY,iBAAkB,YAEhCsH,mBAAoB,kBACpBC,sBAAuB,kBACvBC,uBACE1H,YAAe,KACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFyH,6BAA8B,4BAC9BC,gBACE5H,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF2H,kBACE7H,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF5yG,WAAc,sBACdw6G,gBACE9H,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF6H,QACE/H,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF8H,eACEhI,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF15H,MAAS,aACTyhI,cACEjI,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFgI,eAAgB,iBAChBC,YAAa,gBACbC,UAAW,SACXnuH,KAAQ,cACRouH,iBAAkB,kBAClBC,WACEtI,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEFqI,WACEvI,YAAe,GACfC,aAAiBj7H,EAAG,GAAKA,EAAG,KAC5Bk7H,QAAY,QAAS,WAEvBsI,qBACExI,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,KACvDk7H,QAAY,QAAS,WAEvBuI,qBACEzI,YAAe,EACfC,aAAiBj7H,EAAG,GAAKA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAAMA,EAAG,IAC9DA,EAAG,KACLk7H,QAAY,QAAS,WAEvBwI,8BAA+B,oBAC/BC,8BAA+B,oBAC/BC,SACE5I,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF2I,SAAU,QACVC,UACE9I,YAAe,EACfC,aAAiBj7H,EAAG,IAAMA,EAAG,KAC7Bk7H,WAEF6I,WACE/I,YAAe,EACfC,aAAiBj7H,EAAG,KACpBk7H,WAEF8I,WAAY,kBACZC,gBAAiB,4BACjBC,WAAY,4BACZC,aAAc,kBACdC,YAAa,4BACbC,YAAa,4BACbC,YAAa,4BACbC,UAAW,kBACXC,YAAa,kBACbC,WAAY,4BACZC,WAAY,4BACZC,WAAY,4BACZC,SAAU,kBACVC,UAAW,4BACXC,UAAW,4BACXC,cAAe,kBACfC,gBAAiB,kBACjBC,eAAgB,4BAChBC,eAAgB,4BAChBC,eAAgB,4BAGhB,KAAK,GAAI3rG,KAAOuhG,GACV,gBAAoBA,GAAQvhG,IAC9BxuB,OAAOI,eAAexC,KAAKmyH,EAAQvhG,KACnCuhG,EAAQvhG,GAAQuhG,EAAQA,EAAQvhG,IAItC,OAAOuhG,KAEW,oBAAXpsH,UACTA,OAAkB,UAAImsH,UAyBxB,IAAIsK,QACAC,WAEJ,WAOE,QAASC,GAAgB7lI,GACvB,GAAIsE,GAAIiR,SAASvV,EAAEkX,UAAU,GAAI,GAKjC,OAAI5S,GAAI,OAECA,GAAK,MACV2H,OAAOkhF,aACH,OAAU7oF,GAAK,IACf,OAAc,KAAJA,KACPA,GAAKA,EACP2H,OAAOkhF,aAAa7oF,GAClBtE,EAAE,GAAK,IAET,GAEAA,EAAE,GAQb,QAAS8lI,GAAgB9lI,EAAGi7B,GAC1B,MAAO,IAAMj7B,EAAE6E,QAAQ,yBAA0Bo2B,GAAY,IAO/D,QAAS8qG,GAAiBviI,GACxB,MAAOwiI,GAAYxiI,KACXwiI,EAAYxiI,GAAM,KAAOA,EAAGq2B,WAAW,GAAGpuB,SAAS,IAAM,KAOnE,QAASw6H,GAAiBziI,GACxB,MAAO0iI,GAAY1iI,KACX0iI,EAAY1iI,IAAOA,EAAK,IAAS,KAAO,KACtCA,EAAGq2B,WAAW,GAAGpuB,SAAS,KAOtC,GAAIu6H,IACFltG,KAAM,QAOJotG,GACFptG,KAAM,OAeJqtG,EAAK,eAEL1gH,EAAI0gH,EAAK,IAETC,EAAK,WAGLC,EAAiB,qCACjBC,EAAW,oCAAsCD,EAGjDE,EAAe,mBAAqBJ,EAAK,IAMzCK,EAAc,MAAQD,EACpB,mDACAF,EAAiB,IACnBI,EAAS,OAASD,EAElBE,EAAU,kDACRJ,EAAW,IAAMG,EAAS,IAM5BE,EAAa,gCAEbC,EAAS,UAAYD,EAAa,cAClBA,EAAa,MAG7BE,EAAM,0CAENC,EAAU,gBAAkBR,EAAW,IAAMG,EAAS,IAEtDM,EAAS,oBAAsBT,EAAW,IAAMG,EAAS,IAIzDO,EAAQ,KAAOF,EAAUC,EAAS,IAUlCE,EAAY,UAAYH,EAAU,MAAQC,EAAS,IAMnDG,EAAgBL,EAAM,QAAUG,EAAQ,KAExCltD,EAAM,SAAWr0D,EAAI,MAAQmhH,EAAS,IAAMF,EAAU,KAAOjhH,EAAI,MAEjE0hH,EAAgB,wCAEhBC,EAAM,OAENC,EAAM,MAEN99H,EAAI48H,EAAK,IAGTmB,EAAU,mDAIVC,EAAW,aAAeP,EAAQ,MAYlCQ,EAAU,WAIVC,EAAO,wBAEPC,EAAM,UAENC,EAAY,GAAIntH,SAChBktH,EAAKP,EAAertD,EAAKytD,EAAUN,EAAWL,EAAQM,EACtDE,EAAKC,EAAK99H,EAAG+9H,EAASE,EAASC,GAAMv5H,KAAK,KAAM,MAEhD05H,EAAc,GAAIptH,QAAO,UAAYgsH,EAAc,IAAMJ,EAAK,IAAK,KACnEyB,EAAS,GAAIrtH,QAAO,UAAYiL,EAAI,gBAAkBA,EAAI,OAAQ,KAIrEmgH,WAAY,SAAUlkI,GACpB,MAAOA,GAAImD,QAAQ+iI,EAAa/B,IAWnCF,OAAS,SAAU1wH,GAMjBA,GAAW,IAAWA,GAASpQ,QAAQ,UAAW,IAGlDoQ,EAAUA,EAAQpQ,QAAQ,SAAU,KAMpC,KAAK,GAHDohC,GAAShxB,EAAQ0L,MAAMgnH,OACvB5jI,EAAI,EACJiK,EAAO,IACF1J,EAAI,EAAGJ,EAAI+hC,EAAO1hC,OAAQD,EAAIJ,IAAKI,EAAG,CAO7C,GAAIwjI,GAAMlC,UAAU3/F,EAAO3hC,IACvBklC,EAAMs+F,EAAIvjI,OACV2pB,EAAK45G,EAAIjuG,WAAW,EACxBiuG,GAGK55G,GAAM,IAAI2L,WAAW,IAAM3L,GAAM,IAAK2L,WAAW,GAChDisG,EAAgBgC,EAAI5wH,UAAU,EAAGsyB,EAAM,GAAIu8F,GAE1C73G,GAAM,IAAI2L,WAAW,IAAM2P,EAAM,GACvB,MAAPs+F,GAAeA,GAAOT,GAAOS,GAAOV,GAAc,UAAPU,GAE3C55G,GAAM,IAAI2L,WAAW,GACzB,IAEA,SAASz0B,KAAK0iI,GACd,OAAShC,EACTgC,EAAIjjI,QAAQgjI,EAAQ,IACpB5B,GACE,IAEF6B,EAEF95H,GAAQ85H,GAAc,KAAPA,IACjB7hG,EAAOliC,KAAOiK,EAAO85H,GAIzB,MADA7hG,GAAO1hC,OAASR,EACTkiC,MAKW,mBAAX/2B,UACTA,OAAe,OAAIy2H,OACnBz2H,OAAkB,UAAI02H,UA0BxB,IAAI9rD,KAAM,WASV,QAASvqE,GAAMw4H,GACb,GAAI9jI,IAAK,GAAK8jI,GAAQpnH,MAAMqnH,EAC5B,OAAK/jI,GACE,GAAI61E,GACPmuD,EAAahkI,EAAE,IACfgkI,EAAahkI,EAAE,IACfgkI,EAAahkI,EAAE,IACfgkI,EAAahkI,EAAE,IACfgkI,EAAahkI,EAAE,IACfgkI,EAAahkI,EAAE,IACfgkI,EAAahkI,EAAE,KARF,KA2BnB,QAASi8B,GAAO+6D,EAAQitC,EAAaC,EAAQC,EAAMn8E,EAAMo8E,EAAOr7H,GAC9D,GAAIs7H,GAAM,GAAIxuD,GACVyuD,EAAgBttC,EAAQutC,GACxBD,EACIL,EAAaM,GACjBC,EAAeN,GACfC,EAAO,EAAIA,EAAK38H,WAAa,KAC7B88H,EAAgBt8E,EAAMy8E,GACtB,KACAD,EAAez7H,GAQnB,OAPIq7H,KACE,gBAAoBA,GACtBC,EAAIK,YAAYN,EAAMxjI,QAAQ,yBAA0B+jI,IAExDN,EAAIO,iBAAiBR,IAGlBC,EAET,QAASG,GAAeK,GACtB,MAAI,gBAAmBA,GACd76G,mBAAmB66G,GAErB,KAWT,QAASP,GAAgBO,EAAeC,GACtC,MAAI,gBAAmBD,GACdE,UAAUF,GAAejkI,QAAQkkI,EAAOH,GAE1C,KAGT,QAASA,GAAUplI,GACjB,GAAIU,GAAIV,EAAGq2B,WAAW,EACtB,OAAO,IAAM,mBAAmBptB,OAAQvI,GAAK,EAAK,IAC9C,mBAAmBuI,OAAW,GAAJvI,GAehC,QAAS+kI,GAASh9E,GAChB,MAAOA,GAAKpnD,QAAQ,oBAAqB,MAAMA,QAAQ,UAAW,KAkCpE,QAASqkI,GAAcj9E,GACrB,GAAa,OAATA,EAAiB,MAAO,KAS5B,KAAK,GAAIrhD,GARLxG,EAAI6kI,EAASh9E,GAEbphD,EAAIs+H,GAMKv+H,EAAIxG,EAAES,QAAQgG,EAAG,QAAUzG,EAAGA,EAAIwG,GAC/C,MAAOxG,GAOT,QAAS2N,GAAQq3H,EAASC,GAQxB,GAAIC,GAAcF,EAAQr8H,QAItBw8H,EAAaF,EAAYG,WAEzBD,GACFD,EAAYG,aAAaJ,EAAYK,gBAErCH,EAAaF,EAAYM,iBAGvBJ,EACFD,EAAYM,kBAAkBP,EAAYQ,qBAE1CN,EAAaF,EAAYS,YAGvBP,EACFD,EAAYS,aAAaV,EAAYW,gBAErCT,EAAaF,EAAYY,SAG3B,IAAIC,GAAUb,EAAYc,aACtBC,EAAiBlB,EAAcgB,EACnC,IAAIX,EACFD,EAAYe,QAAQhB,EAAYiB,WAChCF,EAAiBA,GACVA,EAAevlI,QAAQ0lI,EAAuB,QAGrD,IADAhB,IAAeW,GAGb,GAAqC,KAAjCE,EAAevwG,WAAW,GAAqB,CACjD,GAAI2wG,GAAatB,EAAcI,EAAYa,cAAgB,IACtDtlI,QAAQ0lI,EAAuB,IAChCE,EAAQD,EAAW/2G,YAAY,KAAO,CAC1C22G,GAAiBlB,GACZuB,EAAQD,EAAWtzH,UAAU,EAAGuzH,GAAS,IACxCvB,EAAcgB,IACfrlI,QAAQ0lI,EAAuB,SAGtCH,GAAiBA,GACVA,EAAevlI,QAAQ0lI,EAAuB,IACjDH,IAAmBF,GACrBZ,EAAYoB,WAAWN,EAqB7B,OAhBIb,GACFD,EAAYoB,WAAWN,GAEvBb,EAAaF,EAAYsB,WAGvBpB,EACFD,EAAYX,YAAYU,EAAYuB,eAEpCrB,EAAaF,EAAYwB,cAGvBtB,GACFD,EAAYwB,eAAezB,EAAY0B,kBAGlCzB,EA6BT,QAASxvD,GACLkxD,EACAC,EAAgBC,EAAW9C,EAC3B8B,EAASiB,EAAUC,GACrBjrI,KAAKkrI,QAAUL,EACf7qI,KAAKmrI,aAAeL,EACpB9qI,KAAKorI,QAAUL,EACf/qI,KAAKqrI,MAAQpD,EACbjoI,KAAKsrI,MAAQvB,EACb/pI,KAAKurI,OAASP,EACdhrI,KAAKwrI,UAAYP,EAIjBjrI,KAAKyrI,YAAc,KA4UrB,QAAS3D,GAAa4D,GACpB,MAAQ,gBAAmBA,IAAeA,EAAUtnI,OAAS,EACpDsnI,EACA,KAvfX,GAAIC,GAA2B,GAAItxH,QAC/B,wEASA2uH,EAA8B,GAAI3uH,QAAOsxH,GAEzCvB,EAAwB,wBAgK5BzwD,GAAItuE,UAAUC,SAAW,WACvB,GAAI+jF,KAWJ,OAVI,QAASrvF,KAAKkrI,SAAW77C,EAAI1jF,KAAK3L,KAAKkrI,QAAS,KAChD,OAASlrI,KAAKorI,UAChB/7C,EAAI1jF,KAAK,MACL,OAAS3L,KAAKmrI,cAAgB97C,EAAI1jF,KAAK3L,KAAKmrI,aAAc,KAC9D97C,EAAI1jF,KAAK3L,KAAKorI,SACV,OAASprI,KAAKqrI,OAASh8C,EAAI1jF,KAAK,IAAK3L,KAAKqrI,MAAM//H,aAElD,OAAStL,KAAKsrI,OAASj8C,EAAI1jF,KAAK3L,KAAKsrI,OACrC,OAAStrI,KAAKurI,QAAUl8C,EAAI1jF,KAAK,IAAK3L,KAAKurI,QAC3C,OAASvrI,KAAKwrI,WAAan8C,EAAI1jF,KAAK,IAAK3L,KAAKwrI,WAC3Cn8C,EAAIthF,KAAK,KAGlB4rE,EAAItuE,UAAUuB,MAAQ,WACpB,MAAO,IAAI+sE,GAAI35E,KAAKkrI,QAASlrI,KAAKmrI,aAAcnrI,KAAKorI,QAASprI,KAAKqrI,MACpDrrI,KAAKsrI,MAAOtrI,KAAKurI,OAAQvrI,KAAKwrI,YAG/C7xD,EAAItuE,UAAUugI,UAAY,WAGxB,MAAO5rI,MAAKkrI,SAAWW,mBAAmB7rI,KAAKkrI,SAAS3mI,eAE1Do1E,EAAItuE,UAAUk+H,aAAe,WAC3B,MAAOvpI,MAAKkrI,SAEdvxD,EAAItuE,UAAUygI,UAAY,SAAUC,GAGlC,MAFA/rI,MAAKkrI,QAAU9C,EACX2D,EAAW1D,GACRroI,MAET25E,EAAItuE,UAAUi+H,aAAe,SAAUyC,GAErC,MADA/rI,MAAKkrI,QAAUa,EAAYA,EAAY,KAChC/rI,MAET25E,EAAItuE,UAAUg+H,UAAY,WACxB,MAAO,QAASrpI,KAAKkrI,SAIvBvxD,EAAItuE,UAAU2gI,eAAiB,WAC7B,MAAOhsI,MAAKmrI,cAAgBU,mBAAmB7rI,KAAKmrI,eAEtDxxD,EAAItuE,UAAUq+H,kBAAoB,WAChC,MAAO1pI,MAAKmrI,cAEdxxD,EAAItuE,UAAUwlF,eAAiB,SAAUo7C,GAIvC,MAHAjsI,MAAKmrI,aAAe/C,EAChB6D,EAAgB5D,GAEbroI,MAET25E,EAAItuE,UAAUo+H,kBAAoB,SAAUwC,GAE1C,MADAjsI,MAAKmrI,aAAec,EAAiBA,EAAiB,KAC/CjsI,MAET25E,EAAItuE,UAAUm+H,eAAiB,WAC7B,MAAO,QAASxpI,KAAKmrI,cAIvBxxD,EAAItuE,UAAU6gI,UAAY,WACxB,MAAOlsI,MAAKorI,SAAWS,mBAAmB7rI,KAAKorI,UAEjDzxD,EAAItuE,UAAUw+H,aAAe,WAC3B,MAAO7pI,MAAKorI,SAEdzxD,EAAItuE,UAAU8gI,UAAY,SAAUC,GAClC,MAAOpsI,MAAK4pI,aAAawC,GAAat+G,mBAAmBs+G,KAE3DzyD,EAAItuE,UAAUu+H,aAAe,SAAUwC,GAIrC,MAHApsI,MAAKorI,QAAUgB,EAAYA,EAAY,KAGhCpsI,KAAKuqI,WAAWvqI,KAAKsrI,QAE9B3xD,EAAItuE,UAAUs+H,UAAY,WACxB,MAAO,QAAS3pI,KAAKorI,SAIvBzxD,EAAItuE,UAAU8+H,QAAU,WACtB,MAAOnqI,MAAKqrI,OAASQ,mBAAmB7rI,KAAKqrI,QAE/C1xD,EAAItuE,UAAU6+H,QAAU,SAAUmC,GAChC,GAAIA,EAAS,CAEX,GADAA,EAAU5xG,OAAO4xG,GACbA,KAAuB,MAAVA,GACf,KAAM,IAAIn9H,OAAM,mBAAqBm9H,EAEvCrsI,MAAKqrI,MAAQ,GAAKgB,MAElBrsI,MAAKqrI,MAAQ,IAEf,OAAOrrI,OAET25E,EAAItuE,UAAUy+H,QAAU,WACtB,MAAO,QAAS9pI,KAAKqrI,OAIvB1xD,EAAItuE,UAAUihI,QAAU,WACtB,MAAOtsI,MAAKsrI,OAASO,mBAAmB7rI,KAAKsrI,QAE/C3xD,EAAItuE,UAAU2+H,WAAa,WACzB,MAAOhqI,MAAKsrI,OAEd3xD,EAAItuE,UAAUkhI,QAAU,SAAUC,GAChC,MAAOxsI,MAAKuqI,WAAWnC,EAAgBoE,EAASjE,KAElD5uD,EAAItuE,UAAUk/H,WAAa,SAAUiC,GASnC,MARIA,IACFA,EAAU1gI,OAAO0gI,GACjBxsI,KAAKsrI,OAEDtrI,KAAKorI,SAAW,MAAMnmI,KAAKunI,GAAYA,EAAU,IAAMA,GAE3DxsI,KAAKsrI,MAAQ,KAERtrI,MAET25E,EAAItuE,UAAUohI,QAAU,WACtB,MAAO,QAASzsI,KAAKsrI,OAIvB3xD,EAAItuE,UAAUqhI,SAAW,WAIvB,MAAO1sI,MAAKurI,QAAUM,mBAAmB7rI,KAAKurI,QAAQ7mI,QAAQ,MAAO,MAEvEi1E,EAAItuE,UAAUo/H,YAAc,WAC1B,MAAOzqI,MAAKurI,QAEd5xD,EAAItuE,UAAUshI,SAAW,SAAUC,GAGjC,MAFA5sI,MAAKyrI,YAAc,KACnBzrI,KAAKurI,OAASjD,EAAesE,GACtB5sI,MAET25E,EAAItuE,UAAUm9H,YAAc,SAAUoE,GAGpC,MAFA5sI,MAAKyrI,YAAc,KACnBzrI,KAAKurI,OAASqB,EAAWA,EAAW,KAC7B5sI,MAET25E,EAAItuE,UAAUm/H,SAAW,WACvB,MAAO,QAASxqI,KAAKurI,QAUvB5xD,EAAItuE,UAAUq9H,iBAAmB,SAAUlkG,GACzC,GAAsB,gBAAXA,MACHA,YAAkB94B,UAChB84B,YAAkBp5B,SAC4B,mBAA3CA,OAAOC,UAAUC,SAAStC,KAAKw7B,IAA+B,CACvE,GAAIqoG,MACA1oI,GAAI,CACR,KAAK,GAAIE,KAAKmgC,GAAQ,CACpB,GAAI35B,GAAI25B,EAAOngC,EACX,iBAAoBwG,KACtBgiI,IAAY1oI,GAAKE,EACjBwoI,IAAY1oI,GAAK0G,GAGrB25B,EAASqoG,EAGb7sI,KAAKyrI,YAAc,IAGnB,KAAK,GAFDqB,MACAC,EAAY,GACPnpI,EAAI,EAAGA,EAAI4gC,EAAOpgC,QAAS,CAClC,GAAIC,GAAImgC,EAAO5gC,KACXiH,EAAI25B,EAAO5gC,IACfkpI,GAASnhI,KAAKohI,EAAWj/G,mBAAmBzpB,EAAEiH,aAC9CyhI,EAAY,IACRliI,GACFiiI,EAASnhI,KAAK,IAAKmiB,mBAAmBjjB,EAAES,aAI5C,MADAtL,MAAKurI,OAASuB,EAAS/+H,KAAK,IACrB/N,MAET25E,EAAItuE,UAAU2hI,qBAAuB,WACnC,IAAKhtI,KAAKyrI,YAAa,CACrB,GAAIhhI,GAAIzK,KAAKurI,MACb,IAAK9gI,EAEE,CAIL,IAAK,GAHDwiI,GAAYxiI,EAAEjG,MAAM,SACpB6qF,KACAhrF,GAAI,EACCF,EAAI,EAAGA,EAAI8oI,EAAU7oI,SAAUD,EAAG,CACzC,GAAIL,GAAImpI,EAAU9oI,GAAGqc,MAAM,sBAI3B6uE,KAAMhrF,GAAKwnI,mBAAmB/nI,EAAE,IAAIY,QAAQ,MAAO,KACnD2qF,IAAMhrF,GAAKwnI,mBAAmB/nI,EAAE,IAAM,IAAIY,QAAQ,MAAO,KAE3D1E,KAAKyrI,YAAcp8C,MAbnBrvF,MAAKyrI,iBA2BX9xD,EAAItuE,UAAU6hI,mBAAqB,SAAUtzG,EAAKzE,GAG1B,gBAAXA,KACTA,GAAWA,IAGbn1B,KAAKgtI,sBAIL,KAAK,GAHDG,GAAgB,EAChBC,EAAKptI,KAAKyrI,YACVjnG,KACKrgC,EAAI,EAAUA,EAAIipI,EAAGhpI,OAAQD,GAAK,EACrCy1B,IAAQwzG,EAAGjpI,GACTgpI,EAAgBh4G,EAAO/wB,QACzBogC,EAAO74B,KAAKiuB,EAAKzE,EAAOg4G,MAG1B3oG,EAAO74B,KAAKyhI,EAAGjpI,GAAIipI,EAAGjpI,EAAI,GAG9B,MAAOgpI,EAAgBh4G,EAAO/wB,QAC5BogC,EAAO74B,KAAKiuB,EAAKzE,EAAOg4G,KAG1B,OADAntI,MAAK0oI,iBAAiBlkG,GACfxkC,MAET25E,EAAItuE,UAAUgiI,gBAAkB,SAAUzzG,GACxC,MAAO55B,MAAKktI,mBAAmBtzG,OAQjC+/C,EAAItuE,UAAUiiI,iBAAmB,WAE/B,MADAttI,MAAKgtI,uBACEhtI,KAAKyrI,YAAY5oI,MAAM,EAAG7C,KAAKyrI,YAAYrnI,SAOpDu1E,EAAItuE,UAAUkiI,mBAAqB,SAAUC,GAC3CxtI,KAAKgtI,sBAEL,KAAK,GADD73G,MACKhxB,EAAI,EAAGA,EAAInE,KAAKyrI,YAAYrnI,OAAQD,GAAK,EAC5CqpI,IAAuBxtI,KAAKyrI,YAAYtnI,IAC1CgxB,EAAOxpB,KAAK3L,KAAKyrI,YAAYtnI,EAAI,GAGrC,OAAOgxB,IAMTwkD,EAAItuE,UAAUoiI,gBAAkB,SAAUD,GACxCxtI,KAAKgtI,sBAEL,KAAK,GADDU,MACKvpI,EAAI,EAAGA,EAAInE,KAAKyrI,YAAYrnI,OAAQD,GAAK,EAAG,CACnD,GAAIy1B,GAAM55B,KAAKyrI,YAAYtnI,KACzB2D,EAAQ9H,KAAKyrI,YAAYtnI,IACrBy1B,KAAO8zG,GAGXA,EAAS9zG,GAAKjuB,KAAK7D,GAFnB4lI,EAAS9zG,IAAQ9xB,GAKrB,MAAO4lI,IAST/zD,EAAItuE,UAAUsiI,kBAAoB,SAAUH,GAC1CxtI,KAAKgtI,sBACL,KAAK,GAAI7oI,GAAI,EAAGA,EAAInE,KAAKyrI,YAAYrnI,OAAQD,GAAK,EAChD,GAAIqpI,IAAuBxtI,KAAKyrI,YAAYtnI,GAC1C,MAAOnE,MAAKyrI,YAAYtnI,EAAI,EAGhC,OAAO,OAGTw1E,EAAItuE,UAAUi2B,YAAc,WAC1B,MAAOthC,MAAKwrI,WAAaK,mBAAmB7rI,KAAKwrI,YAEnD7xD,EAAItuE,UAAUu/H,eAAiB,WAC7B,MAAO5qI,MAAKwrI,WAEd7xD,EAAItuE,UAAUuiI,YAAc,SAAUC,GAEpC,MADA7tI,MAAKwrI,UAAYqC,EAAc//G,mBAAmB+/G,GAAe,KAC1D7tI,MAET25E,EAAItuE,UAAUs/H,eAAiB,SAAUkD,GAEvC,MADA7tI,MAAKwrI,UAAYqC,EAAcA,EAAc,KACtC7tI,MAET25E,EAAItuE,UAAUq/H,YAAc,WAC1B,MAAO,QAAS1qI,KAAKwrI,UAwEvB,IAAI3D,GAAU,GAAIxtH,QACZ,uGAeFguH,EAA2C,YAC3CE,EAA0B,SA2B9B,OAzBA5uD,GAAIvqE,MAAQA,EACZuqE,EAAI55C,OAASA,EACb45C,EAAI/nE,QAAUA,EACd+nE,EAAIovD,cAAgBA,EAGpBpvD,EAAIm0D,OACFC,WAAY,SAAU5F,GACpB,GAAI6F,GAAS5+H,EAAM+4H,EACnB,OAAI,UAAUljI,KAAK+oI,EAAO1B,WACjB,YAEA,0BAGX16H,QAAS,SAAUysB,EAAM8pG,GACvB,MAAI9pG,GACKzsB,EAAQxC,EAAMivB,GAAOjvB,EAAM+4H,IAAM78H,WAEjC,GAAK68H,IAMXxuD,IAIe,oBAAX5qE,UACTA,OAAY,IAAI4qE,IA6ClB,IAAIs0D,qBAAsB/yG,OACtBgzG,wBAA0BhzG,OAC1BizG,mBAAqBjzG,OACrBkzG,gCAAkClzG,OAClCmzG,mBAAqBnzG,MAo+BzB,IAl+BA,WAyBE,QAASozG,GAAazuI,GACpB,MAAI,gBAAoBA,GACf,QAAUA,EAAE6E,QAAQ6pI,EAAiBC,GAAoB,KAEzDC,EAGX,QAASD,GAAiBnrI,GACxB,MAAOqrI,GAAsBrrI,GAa/B,QAASsrI,GAAW1F,EAASd,GAC3B,MAAIc,GACKtvD,IAAIm0D,MAAMl8H,QAAQq3H,EAASd,GAE7BA,EAGT,QAASyG,GAAQzG,EAAKvwH,EAAMi3H,GAC1B,IAAKA,EAAoB,MAAO,KAChC,IAAIC,IAAU,GAAK3G,GAAK3nH,MAAMovE,EAC9B,QAAIk/C,GAAYA,EAAO,KAAMC,EAAoB9pI,KAAK6pI,EAAO,IAGpD,KAFAD,EAAiB1G,EAAKvwH,GAMjC,QAASo3H,GAAoBC,GAS3B,MAAOA,GAAMvqI,QACT,oEAAqE,IAxE3E,GAAI+pI,GAAe,qBASfF,EAAkB,qBAElBG,GACF71G,KAAM,MACN+B,KAAM,MACNhC,KAAM,MACNV,IAAM,MACNC,IAAM,MACN+2G,IAAM,MACNC,IAAM,MACN9iH,IAAM,MACN4L,IAAM,MACNlW,IAAM,OAeJ6tE,EAAgB,GAAIv1E,QACpB,sBAMA00H,EAAsB,sBA2C1Bd,qBAAsB,WAEpB,QAASmB,GAAYC,GAEnB,IAAK,GADDrhI,MACK7J,EAAIkrI,EAAKjrI,SAAUD,GAAK,GAE/B,IAAK,GADDwvF,GAAM07C,EAAKlrI,GACNP,EAAI+vF,EAAIvvF,SAAUR,GAAK,GAC9BoK,EAAI2lF,EAAI/vF,IAAM0rI,CAGlB,OAAOthI,GAIT,GAAIshI,KAEJ,OAAO,SAAS//C,GACZggD,EAAUzpG,EAAQ0pG,EAAsBC,EAAaC,GAyBvD,QAASC,GAAqB7pG,EAAQxU,GAEpC,IADA,GAAIs+G,GAAa,EAAG3hI,EAAMqjB,EAAQ,EAAGvtB,EAAI+hC,EAAO1hC,OACzC6J,EAAMlK,GAAK6rI,GAAY,CAC5B,GAAItpG,GAAQR,EAAO73B,IAInB2hI,IAAyB,MAAVtpG,GAAgB,EAAK,aAAarhC,KAAKqhC,GAIxD,IAAKspG,EAOH,IAAK,GANDC,GAAU/pG,EAAOxU,GAAO/sB,cACxBurI,EAAcd,EAAoBa,GAElCE,EAAWjqG,EAAO33B,OAAOmjB,EAAOrjB,EAAMqjB,EAAO,IAC7C0+G,EAAMC,EAAuB,OAExB9rI,EAAI,EAAG+rI,EAAOF,EAAI5rI,OAAQD,EAAI+rI,IAAQ/rI,EAC7C,GAAI6rI,EAAI7rI,GAAG4S,UAAU,EAAG+4H,EAAY1rI,SAAW0rI,EAS7C,MARAC,GAAS,GAAKA,EAASA,EAAS3rI,OAAS,GAAK,GAE9CmrF,EACEygD,EAAI7rI,GAEJ4rI,EACAP,EAAsBC,GAEjBI,EAAUE,EAAShiI,KAAK,KAAO,GAI5C,OAAO,GAvDT,GAAIoiI,GAAcnB,EAAoBO,GAClCU,EAAiB/U,UAAUiV,EAG/B,KAAKF,GAAkB,gBAAoBA,GAEzC,YADAnqG,EAAO1hC,OAAS,EAiElB,KA7DA,GAAIgsI,GAAWH,EAA4B,YAoDvCI,EACS,GAAXD,EAEEE,EACS,KAAXF,EAGEG,EAAaC,IACbrsI,EAAI,EAAGE,EAAI,EACTF,EAAI2hC,EAAO1hC,SAAUD,EAAG,CAG5B,GAC8BssI,GAAKC,EAAKC,EAAQC,EAC5CC,EAAUC,EAFVxqG,EAAQR,EAAO3hC,GAAGI,cAClBwpB,EAAKuY,EAAM5M,WAAW,EAE1B4M,GAIGvY,IAAO,IAAI2L,WAAW,GAAM,GAC1B3L,IAAO,IAAI2L,WAAW,GACtB22G,IAAsBxV,iBACpB2U,EAGGlB,EAECM,EAEED,EACEc,EAEAhK,UAAU3/F,EAAO3hC,GAAG4S,UAAU,EAAGuvB,EAAMliC,OAAS,KAClD+rI,EACAX,IACL,GACAY,EAAWxV,wBAEPyV,EAAqBA,EAAoB,GAC/C/pG,EAEA,GAIQ,YAAVA,EACAA,GAGAuqG,EAAWZ,EAA4B,YACvCa,EAAUD,EACGZ,EAA0B,YAEtBA,EAA0B,UAC1Bb,EAAYyB,IACjBvB,EACXwB,EAAO9B,EAAoB1oG,MAAYgpG,EAGxChpG,EAGCvY,IAAO,IAAI2L,WAAW,IAAM,0BAA0Bz0B,KAAKqhC,GAC3D8pG,EAAW1V,wBAA0Bp0F,EAAQ,GAE7C,IAAI5M,WAAW,IAAM3L,GAAMA,GAAM,IAAI2L,WAAW,GAE/C02G,EAAW3V,sBAAyBn0F,EAAQ,IAM7CmqG,EAAMnqG,EAAM5M,WAAW,GACvBg3G,EAAMpqG,EAAM5M,WAAW,GACvBi3G,EAAS,IAAIj3G,WAAW,IAAM+2G,GAAOA,GAAO,IAAI/2G,WAAW,GAC3Dk3G,EAAS,IAAIl3G,WAAW,IAAMg3G,GAAOA,GAAO,IAAIh3G,WAAW,GAE1D3L,IAAO,IAAI2L,WAAW,KAClBi3G,GAAWF,IAAQ,IAAI/2G,WAAW,IAAMk3G,GAC5CR,EAAW3V,uBACTkW,EAAS,GAAK,KAAOrqG,EAAMvvB,UAAU,GACvC,GAGDgX,IAAO,IAAI2L,WAAW,KAClBi3G,GAAWF,IAAQ,IAAI/2G,WAAW,IAAMk3G,GACzCR,EAAWzV,gCACRgW,EAAS,IAAM,MAAQrqG,EAAMvvB,UAAU,GACvCq5H,EAAW3V,sBAAyB,IAAM,GAGhD1sG,IAAO,IAAI2L,WAAW,IAAMi3G,EAC3BP,EAAW3V,sBAAyB,IAAMn0F,EAAQ,GAGnD,UAAYA,EAAMvvB,UAAU,EAAG,GAC9By4H,GAAyBY,EAAWvV,iBACnCyT,EAAaM,EAAQD,EAAWc,EAC7B3pG,EAAO3hC,GAAG4S,UAAU,EAAGuvB,EAAMliC,OAAS,IACtC+rI,EACAX,IACH,GAK+B,MAAjClpG,EAAMh6B,OAAOg6B,EAAMliC,OAAO,GAC3BurI,EAAqB7pG,EAAQ3hC,GAE5BmsI,GACG,oBAAoBrrI,KAAKqhC,KAAW,MAAMrhC,KAAKqhC,GAClDopG,GAAgBY,IAAqBtV,yBACnCl1F,EAAO3hC,GAAKurI,EACXY,IAAqBrV,4BAClBC,UAAU50F,IACV,gBAAoB40F,WAAU50F,GAAO80F,YACzC90F,EACA,GAEF,QAAQrhC,KAAKqhC,IACV+pG,IAAsBvV,8BACrBsV,EAAWxV,qBAKf2V,EAAW,IAAMlsI,GAGdyhC,EAAOyqG,GACLzqG,EAAOyqG,GAAYx5H,UAAU,EAAG+uB,EAAOyqG,GAAYnsI,OAAO,GACxD,IAAMkiC,EAAQ,IAClBA,EAAQ,KACRiqG,EAAalsI,EAAG,IAAMiiC,EAAQ,KAGlC,KACAA,IACFR,EAAOzhC,KAAOiiC,GAKR,IAANjiC,GAAWyhC,EAAO,KAAO2oG,IAAgBpqI,EAAI,GACjDyhC,EAAO1hC,OAASC,KASpB,IAAI0sI,GACF,GAAI12H,QACA,qWAUF22H,IACJA,GAAW,KAAOA,EAAW,KAAOA,EAAW,KAAOA,EAiCtD9C,wBAA0B,SACtB/sH,EAAW8vH,EAAgBC,GAqC7B,QAASC,GAAuB7/G,EAAOrjB,GAyBrC,QAASmjI,GAAwB9/G,EAAOrjB,EAAKojI,GAK3C,GAAIvtG,GAASwtG,EAASr0G,EAAOs0G,EACzB5J,EAEA6J,GAAQ,CAEZ,IADA1tG,EAAU,GACNxS,EAAQrjB,EAEV,GADA05H,EAAMxmH,EAAUmQ,GACJ,MAARq2G,IACAr2G,EACFwS,EAAU6jG,MACL,IAAI,YAAY1iI,KAAK0iI,GAAM,CAChC,GAAI8J,GAAWC,EAAU/J,EAAIpjI,iBACzBktI,KACE,WAAaA,KACf9J,EAAM8J,EAAkB,WAExBngH,EACFwS,EAAU6jG,GAOhB,IAHA2J,EAAU,GACVr0G,EAAQ,GACRs0G,EAAiB,GACXC,GAASlgH,EAAQrjB,IAAOqjB,EAE5B,GADAq2G,EAAMxmH,EAAUmQ,GACM,MAAlBq2G,EAAIr7H,OAAO,GACT,oBAAoBrH,KAAK0iI,GAC3B6J,GAAQ,EAGRF,GAAW3J,EAAMgK,MAEd,IAAY,MAARhK,IACHr2G,EAAQrjB,GACP,qBAAqBhJ,KAAK0iI,EAAMxmH,EAAUmQ,MACzC,SAASrsB,KAAK0iI,GACpB2J,GAAW,IAAM3J,EAEjB6J,GAAQ,MAEL,IAAIlgH,EAAQ,EAAIrjB,GAA4B,MAArBkT,EAAUmQ,GAAgB,GACpDA,CACF,IAAIsgH,GAAQzwH,EAAUmQ,KAAS/sB,cAE3Bk1E,EAAQD,MAAMa,QAAQv2C,EAAU,KAAO8tG,EACvCn4D,MAAWA,IAASA,EAAQD,MAAMa,QAAQ,MAAQu3D,GAEtD,IAAIC,EAIAZ,GAAea,oBACjBD,EAAQZ,EAAea,mBAAmBhuG,EAAS8tG,GAC9B,gBAAVC,KAETL,GAAQ,EACRK,EAAQD,GAGNJ,GAAS/3D,KAAWA,IACtBA,EAAQD,MAAMC,MAAY,QAG5Bo4D,EAAQD,EACJn4D,KAAWA,IACb+3D,GAAQ,GAIZ,IAAIO,GAAK,GAAIjqI,EAAQ,GAAIsvB,GAAa,CAwBtC,QAvBI,cAAcnyB,KAAKkc,EAAUmQ,MAC/BygH,EAAK5wH,EAAUmQ,KACfxpB,EAAQqZ,EAAUmQ,KAEd,qBAAqBrsB,KAAK6C,GAC5BA,EAAQ,IAAMA,EAAQ,IACH,MAAVA,IACTA,EAAQ,OACNwpB,GAGC,qBAAqBrsB,KAAK6C,KAC7B0pI,GAAQ,GAEVp6G,EAAkC,MAArBjW,EAAUmQ,GACnB8F,KAAgB9F,GAEG,MAArBnQ,EAAUmQ,OACVA,EACFkgH,GAAQ,GAIF/3D,GACR,IAAKD,OAAMC,MAAe,QAC1B,IAAKD,OAAMC,MAAkB,WAC7B,IAAKD,OAAMC,MAAY,KACrB,KACF,KAAKD,OAAMC,MAAmB,YAC9B,IAAKD,OAAMC,MAAU,GACrB,IAAKD,OAAMC,MAAa,MACV,MAAPs4D,GAAqB,OAAPA,GAAsB,OAAPA,GAClB,MAATjqI,GAAkBsvB,EAMP,OAAP26G,GAAsB,KAAPA,IAQxBP,GAAQ,GAXR1pI,EAAQ,IACJA,EAAMiP,UAAU,EAAGjP,EAAM1D,OAAO,GAAKutI,EACrC,GAWN,MACF,KAAKn4D,OAAMC,MAAW,IACtB,IAAKD,OAAMC,MAAoB,aAIlB,KAAPs4D,IAAaP,GAAQ,EACzB,MAEF,SACEA,GAAQ,EAENA,IACFv0G,GAAS,IAAM40G,EAAMntI,QAAQ,UAAW,QAAUqtI,EAAKjqI,GAClDsvB,EAAa,MAAQ,UAEvB,CAAA,KAAI9F,EAAQrjB,GAA4B,MAArBkT,EAAUmQ,IAQlC,KANA,IADAq2G,EAAMxmH,IAAYmQ,IACdy/G,EAA0B9rI,KAAK0iI,GAGjC,KAFA4J,IAAkB,IAAM5J,EAW9B,GAHIr2G,IAAUrjB,IACZujI,GAAQ,GAENA,EAAO,CAIT,GAAInlI,IAAYy3B,EAAUwtG,GAAS5sI,QAAQ,cAAe,QACpDu4B,EAAQs0G,EAAiBF,CAC3BhlI,IAAYgjF,EAAI1jF,KAAKU,GAE3B,MAAOmlI,GAzLgB,MAArBrwH,EAAUmQ,MAAoBA,EAC9BrjB,EAAI,IAAMqjB,GAA4B,MAAnBnQ,EAAUlT,MAAkBA,CAOnD,KAAK,GAHDohF,MACA2iD,EAAe1gH,EACfkgH,GAAQ,EACHrtI,EAAImtB,EAAOkgH,GAASrtI,EAAI8J,IAAO9J,EAAG,CACzC,GAAIwjI,GAAMxmH,EAAUhd,EAChB6sI,GAAWrJ,KAASqJ,GAAsB,MAARrJ,IAE/ByJ,EAAwBY,EAAc7tI,EAAGwjI,GAG5CqK,EAAe7tI,EAAE,EAFjBqtI,GAAQ,GA+Kd,GAzKKJ,EAAwBY,EAAc/jI,EAAK,MAC9CujI,GAAQ,GAwKNA,EAAO,CACT,GAAIniD,EAAIjrF,OAAQ,CACd,GAAI6tI,GAAe5iD,EAAIthF,KAAK,GAIL,QAAnBsiD,IACF4hF,EAAe,IAAM5hF,EAAiB,IAAM4hF,GAG9CC,EAAUvmI,KAAKsmI,GAEjB,OAAO,EAEP,OAAQf,GACHA,EAA6B/vH,EAAUte,MAAMyuB,EAAOrjB,IAjP7D,GAMW9J,GAAmBwjI,EAN1Bt3E,EAAiB4gF,EAAe5gF,eAChCshF,EAAWV,EAAeU,SAC1BD,EAAYT,EAAeS,UAC3BQ,KAGA7tI,EAAI,EAAM8tI,EAAa,CAC3B,KAAKhuI,EAAI,EAAGA,EAAIgd,EAAU/c,SAAUD,EAClCwjI,EAAMxmH,EAAUhd,IAGF,KAAPwjI,GAAqB,KAAPA,KAAiBwK,EAAY,GACpC,KAAPxK,GAAqB,KAAPA,GAAewK,KAAgBA,EAAY,GACxC,KAAhBhxH,EAAUhd,KACNguI,GAAcnB,EAAW7vH,EAAUhd,EAAE,MAAQ6sI,GAC1CA,EAAW7vH,EAAUhd,EAAE,MAAQ6sI,MAE5C7vH,EAAU9c,KAAO8c,EAAUhd,GAG/Bgd,GAAU/c,OAASC,CAMnB,IAAIN,GAAIod,EAAU/c,OAAQktB,EAAQ,CAClC,KAAKntB,EAAI,EAAGA,EAAIJ,IAAKI,EACnB,GAAqB,MAAjBgd,EAAUhd,GAAY,CACxB,IAAKgtI,EAAuB7/G,EAAOntB,GAAM,MAAO,KAChDmtB,GAAQntB,EAAE,EAGd,MAAKgtI,GAAuB7/G,EAAOvtB,GAmN5BmuI,EAnNyC,MAsNjD,WACC,GAAIE,GACD,gFAQCC,EACD,+JAmBCC,EAAc,uCAEdC,EACD,uDAKmCD,EAAc,MAGhDE,EACD,OAASH,EAAgB,SAAgBE,EAAY,SAEpDE,EACD,2BAC4BL,EAAa,IAAMI,EAAa,aAG5CA,EAAa,MAG5BE,EAA6B,MAE7BC,EAA0B,GAAIt4H,QAChC,IAAMo4H,EAAc,SAAWA,EAAc,MAC7C,IAgBFpE,oBAAqB,SAAUuE,GAC7BA,EAAYA,EAAU/vI,OAGtB,KAAK,GADDgwI,GAAUD,EAAUxuI,OAAQC,EAAI,EAC3BF,EAAI,EAAGA,EAAI0uI,IAAW1uI,EAAG,CAChC,GAAIwjI,GAAMiL,EAAUzuI,EACT,MAAPwjI,IAAciL,EAAUvuI,KAAOsjI,GAErCiL,EAAUxuI,OAASC,CACnB,IAAI9C,GAAMqxI,EAAU7kI,KAAK,IAQzB,OAPAxM,GACGA,EAAI6C,OACDuuI,EAAwB1tI,KAAK1D,GAE/BmxI,EAA2BztI,KAAK1D,GAAOA,EACvC,aAAeA,EAHwB,UAD3B,OAUpB,WASE,QAASuxI,GAAYC,GACnB,GAOIvyH,GAPAwyH,EAAU,wBACVC,EAAU,wBACVC,EAAO,oCACPC,EAAO,oCAGPC,EAAO,6BAEX,QAAK5yH,EAAQwyH,EAAQzmI,KAAKwmI,IACjBvyH,EAAM,IACHA,EAAQyyH,EAAQ1mI,KAAKwmI,IACxBvyH,EAAM,IACHA,EAAQ0yH,EAAK3mI,KAAKwmI,IACrBvyH,EAAM,IACHA,EAAQ2yH,EAAK5mI,KAAKwmI,IACrBvyH,EAAM,IACHA,EAAQ4yH,EAAK7mI,KAAKwmI,IACrBvyH,EAAM,GAER,KA4CT,QAAS6yH,GACLpK,EAASn0H,EAASm8H,EAAgBpC,EAAkByE,EACpDC,EAAcC,GAuJhB,QAASC,KACPC,EAAQC,EAAWvvI,QAA8C,OAApCuvI,EAAWA,EAAWvvI,OAAO,GAvJ5D,GAAIwvI,GAAU,OAGVC,EAAcL,IAAoB,GAGlCG,KAEAD,GAAQ,CAiJZ,OAhJAI,oBACIh/H,GAEEi/H,gBAAmB,WACjBH,MAEFI,cAAiB,aAEjBC,YAAe,SAAUC,EAASC,GAChC,GAAIT,EACFQ,EAAU,SACL,IAAgB,WAAZA,EACTN,EAAQjoI,KAAK,SAAU,IAAK0iI,mBAAmB8F,QAC1C,IAAgB,eAAZD,GACe,uBAAZA,EAAkC,CAC9C,GAAIE,GAAcD,EAAY,EACH,KAAvBA,EAAY/vI,QACR,cAAca,KAAKmvI,GAKzBF,EAAU,MAJVN,EAAQjoI,KACJuoI,EAAS,IAAKE,EAAcnD,EAAeU,UAC/CuC,EAAU,kBAKZ,IAAgB,YAAZA,GAAyBC,EAAY/vI,OAAS,EAEhD,GADA8vI,EAAU,KACN,kBAAsBX,GAAc,CACtC,GAAIc,GAAahG,mBAAmB8F,EAAYtxI,MAAM,GACtD,IAAmB,YAAfwxI,EAA0B,GAC1BR,EAAY,EACd,IAAIS,KACJV,GAAQjoI,KAAK2oI,EACb,IAAIC,GAAS3F,EACTD,EAAW1F,EAAS6J,EAAYqB,EAAY,KAC5C,SAASr4H,GACP,GAAIo2H,GAAYmB,EACZkB,EAAQz4H,EAAOlD,KAAMq4H,EACrBpC,EAAkByE,EAClBC,EAAcM,KAChBA,EAAY,EACd,IAAIW,GAAkBH,GAElB/oI,SAAU,WACR,MACE,UAAY+oI,EAAa,KACvBnC,EAAUp2H,OAAS,MAIzBo2H,EAAUp2H,MACdw4H,GAAY,GAAKE,EACjBjB,EAAaiB,IAAmBX,EAAY,KAE9CP,QAIFvkI,QAAO2lF,SACT3lF,OAAO2lF,QAAQt9C,IACX,WAAa+8F,EAAYpmI,KAAK,KAAO,UAKjD2lI,IAASQ,EACTP,EAAWhoI,KAAKuoI,IAElBO,UAAa,WACXd,EAAW7qI,MACN4qI,GACHE,EAAQjoI,KAAK,KAEf8nI,KAEFiB,WAAc,WAIPhB,GACHE,EAAQjoI,KAAK,MAGjBgpI,SAAY,WACLjB,IACHE,EAAQjoI,KAAK,KACb+nI,GAAQ,IAGZkB,aAAgB,SAAUC,GACxB,IAAKnB,EAAO,CACV,GAAIrnI,GAAW,MACf,IAA0C,eAAtCsnI,EAAWA,EAAWvvI,OAAS,GAEjCiI,EAAWwoI,EAAc9mI,KAAK,KAC3ByS,MAAM,yEACTkzH,GAASrnI,EACLA,IAAYA,EAAWA,EAAS,GAAG3H,QAAQ,MAAO,SACjD,CACL,GAAIyc,GAAY+sH,wBACZ2G,EAAe5D,EACd9vH,IAAcA,EAAU/c,OAG3BiI,EAAW8U,EAAUpT,KAAK,MAF1B2lI,GAAQ,EAKPA,GACHE,EAAQjoI,KAAKU,EAAU,KAG3BsnI,EAAWhoI,KAAK,OAElBmpI,WAAc,WACZnB,EAAW7qI,MACN4qI,GACHE,EAAQjoI,KAAK,KAEf8nI,KAEFsB,YAAe,SAAUxF,EAAUyF,GACjC,IAAKtB,EAAO,CACV,GAAIuB,IAAc,EACdC,EAAUF,EAAW5wI,MACrB8wI,IAAW,GACoB,MAA5BF,EAAWE,EAAU,IACqB,cAA1CF,EAAWE,EAAU,GAAG3wI,gBAC7B0wI,GAAc,EACdD,EAAW5wI,QAAU,GAEvB6pI,oBACIsB,EAAUyF,EAAYnG,EAAkB5F,EACxCgI,EAAeU,UACfqD,EAAW5wI,QACbwvI,EAAQjoI,KACJ4jI,EAAU,IAAKyF,EAAWjnI,KAAK,KAC/BknI,EAAc,eAAiB,UAS7Cn5H,QAAWxQ,SAAU,WAAc,MAAOsoI,GAAQ7lI,KAAK,MACvDonI,aAAetB,EAAY,IAI/B1F,mBAAqB,SACjBlF,EAASn0H,EAASm8H,EAAgBpC,GACpC,MAAOwE,GACHpK,EAASn0H,EAASm8H,EAClBpC,EAAkB3zG,OAAWA,QAAWpf,OAAOxQ,YAGrD8iI,gCAAkC,SAC9BnF,EAASn0H,EAASm8H,EAAgBpC,EAAkByE,EACpDC,GACF,MAAOF,GACHpK,EAASn0H,EAASm8H,EAClBpC,EAAkByE,EAAiBC,UAMvB,mBAAXxkI,UACTA,OAA4B,oBAAIk/H,oBAChCl/H,OAAgC,wBAAIm/H,wBACpCn/H,OAA2B,mBAAIo/H,mBAC/Bp/H,OAA2B,mBAAIs/H,oBA4BP,MAAtB,IAAI9pI,cAAyB,KAAM,aA4CvC,IAAIuvI,oBAWAsB,sBAEJ,WAaE,QAASC,GAAUC,EAAMnxI,EAAGJ,EAAGyW,GAC7B,GAAIrW,EAAIJ,EAAG,CACT,GAAI4jI,GAAM2N,EAAKnxI,EACf,OAAsB,MAAlBwjI,EAAIr7H,OAAO,GACNipI,EAAOD,EAAMnxI,EAAGJ,EAAGyW,GAAS,GAE5Bg7H,EAAQF,EAAMnxI,EAAGJ,EAAGyW,GAG7B,MAAOrW,GAKX,QAASoxI,GAAOD,EAAMnxI,EAAGJ,EAAGyW,EAASi7H,GAEnC,IADA,GAAInkH,GAAQntB,IACLA,EAAIJ,GAAiB,MAAZuxI,EAAKnxI,IAA0B,MAAZmxI,EAAKnxI,MACpCA,CAEJ,IAAIA,EAAIJ,IAAM0xI,GAAuB,MAAZH,EAAKnxI,IAAa,CACzC,GAAItE,GAAIyxB,EAAM,EAAGhwB,EAAI6C,CACjBtE,GAAIkE,GAAiB,MAAZuxI,EAAKz1I,MAAgBA,EAC9ByB,EAAIzB,GAAmB,MAAdy1I,EAAKh0I,EAAE,MAAgBA,EAChCkZ,EAAqB,aACvBA,EAAqB,YAAE86H,EAAKhkH,GAAO/sB,cAAe+wI,EAAKzyI,MAAMhD,EAAGyB,IAElE6C,EAAiB,MAAZmxI,EAAKnxI,GACJuxI,EAAMJ,EAAMnxI,EAAGJ,EAAGyW,GAClBrW,EAAE,EACJqW,EAAmB,WACrBA,EAAmB,YAKvB,MAAOrW,GAKT,QAASuxI,GAAMJ,EAAMnxI,EAAGJ,EAAGyW,GAGzB,MAFErW,EACEqW,EAAoB,YAAKA,EAAoB,aAC1CrW,EAAIJ,GAAG,CACZ,GAAIV,GAAKiyI,EAAKnxI,GAAGmI,OAAO,EACxB,IAAU,KAANjJ,EAAW,GACXc,CACF,OAES,MAAPd,GAAqB,MAAPA,EAChBc,GAAM,EAENA,EADgB,MAAPd,EACLkyI,EAAOD,EAAMnxI,EAAGJ,EAAGyW,GAAS,GAChB,MAAPnX,EACLqyI,EAAMJ,EAAMnxI,EAAGJ,EAAGyW,GASlBg7H,EAAQF,EAAMnxI,EAAGJ,EAAGyW,GAI5B,MADIA,GAAkB,UAAKA,EAAkB,WACtCrW,EAIT,QAASqxI,GAAQF,EAAMnxI,EAAGJ,EAAGyW,GAE3B,GAAI3a,GAAIsE,EAAG7C,EAAI+K,EAASipI,EAAMnxI,EAAGJ,GAAG,EACpC,IAAIzC,EAAI,EAIN,MAFAA,IAAKA,EAEEA,IAAMzB,EAAIyB,EAAE,EAAIA,CAEzB,IAAIqmI,GAAM2N,EAAKh0I,EACf,IAAY,MAARqmI,EAEF,MAAOrmI,KAAMzB,EAAIyB,EAAE,EAAIA,CAQzB,KANA6C,EAAI7C,EAAE,EAEFA,EAAIzB,GAAmB,MAAdy1I,EAAKh0I,EAAE,MAAgBA,EAChCkZ,EAAsB,cACxBA,EAAsB,aAAE86H,EAAKzyI,MAAMhD,EAAGyB,IAEjC6C,EAAIJ,GAAG,CAEZ,GADA4jI,EAAM2N,EAAKnxI,GACC,MAARwjI,EAAa,GACbxjI,CACF,OAEU,MAARwjI,EACFxjI,GAAM,EAENA,EAAI4wI,EAAYO,EAAMnxI,EAAGJ,EAAGyW,GAMhC,MAHIA,GAAoB,YACtBA,EAAoB,aAEfrW,EAUT,QAASkI,GAASipI,EAAMnxI,EAAGJ,EAAG4xI,GAY5B,IAXA,GAOIhO,GAGAiO,KAAeC,GAAY,EACzB1xI,EAAIJ,IAAKI,EAEb,GADAwjI,EAAM2N,EAAKnxI,GAAGmI,OAAO,GACT,MAARq7H,GAAuB,MAARA,EACjBiO,IAAWC,GAAalO,MACnB,IAAa,MAARA,GAAuC,MAAxBiO,EAASC,IAChB,MAARlO,GAAuC,MAAxBiO,EAASC,KAChCA,MACG,IAAY,MAARlO,GAAuB,MAARA,GAAuB,MAARA,GAAuB,MAARA,GACjC,MAARA,IAAgBgO,EAC7B,KAQJ,OALIE,IAAa,IAGf1xI,IAAMA,EAAE,IAEHA,EAKT,QAAS2xI,GAAgBR,EAAMnxI,EAAGJ,GAEhC,KAAOI,EAAIJ,GAAiB,MAAZuxI,EAAKnxI,IAA0B,MAAZmxI,EAAKnxI,MAAgBA,CACxD,OAAOA,GAAIJ,GAAiB,MAAZuxI,EAAKnxI,GAAaA,EAAE,EAAIA,EAM1C,QAAS4wI,GAAYO,EAAMnxI,EAAGJ,EAAGyW,GAC/B,GAAI+0H,GAAW+F,EAAKnxI,IACpB,KAAK8qI,EAAMhqI,KAAKsqI,GACd,MAAOuG,GAAgBR,EAAMnxI,EAAGJ,EAElC,IAAI4jI,EAEJ,IADIxjI,EAAIJ,GAAiB,MAAZuxI,EAAKnxI,MAAgBA,EAC9BA,GAAKJ,GAAiB,MAAZuxI,EAAKnxI,GACjB,MAAO2xI,GAAgBR,EAAMnxI,EAAGJ,KAEhCI,EACEA,EAAIJ,GAAiB,MAAZuxI,EAAKnxI,MAAgBA,CAMlC,IAAItE,GAAIsE,EAAG7C,EAAI+K,EAASipI,EAAMnxI,EAAGJ,GAAG,EACpC,IAAIzC,EAAI,EAENA,GAAKA,MACA,CAEL,IAAK,GADDwG,MAAYiuI,EAAW,EAClBnyI,EAAI/D,EAAG+D,EAAItC,IAAKsC,EACvB+jI,EAAM2N,EAAK1xI,GACC,MAAR+jI,IACF7/H,EAAMiuI,KAAcpO,EASxB,IAAIrmI,EAAIyC,EAAG,CACT,EAAG,CAED,GADA4jI,EAAM2N,EAAKh0I,GACC,MAARqmI,GAAuB,MAARA,EAAe,KAElCoO,GAAW,UACFz0I,EAAIyC,EACH,OAAR4jI,KACArmI,EAGFy0I,GAAYv7H,EAAqB,aAEnCA,EAAqB,YAAE+0H,EAAShrI,cAAeuD,GAGnD,MAAOxG,GA7NTwyI,mBAAqB,SAASh/H,EAAS0F,GACrC,GAAI86H,GAAO9P,OAAO1wH,EACd0F,GAAyB,iBAAKA,EAAyB,iBAC3D,KAAK,GAAIrW,GAAI,EAAGJ,EAAIuxI,EAAKlxI,OAAQD,EAAIJ,GAEnCI,EAAgB,MAAZmxI,EAAKnxI,GAAaA,EAAE,EAAIkxI,EAAUC,EAAMnxI,EAAGJ,EAAGyW,EAEhDA,GAAuB,eAAKA,EAAuB,gBAwJzD,IAAIy0H,GAAQ,WAiEZmG,sBAAuB,SAAStgI,EAAS0F,GAEvC,IAAK,GADD86H,GAAO9P,OAAO1wH,GACT3Q,EAAI,EAAGJ,EAAIuxI,EAAKlxI,OAAQD,EAAIJ,GACnCI,EAAgB,MAAZmxI,EAAKnxI,GAAa4wI,EAAYO,EAAMnxI,EAAGJ,EAAGyW,GAAWrW,EAAE,MAM3C,mBAAX4K,UACTA,OAA2B,mBAAI+kI,mBAC/B/kI,OAA6B,qBAAIqmI,qBAQnC,IAAI57D,SAiqBJ,IAhqBAA,MAAMC,OACJC,KAAQ,EACRC,IAAO,EACPC,aAAgB,GAChBC,OAAU,EACVC,MAAS,EACTk8D,KAAQ,GACRv1H,GAAM,EACNs5D,MAAS,EACTC,OAAU,EACVC,YAAe,EACfC,WAAc,EACdC,QAAW,EACXC,aAAgB,GAChBq4D,YAAe,IAEjBj5D,MAAe,MAAIA,MAAMC,MACzBD,MAAMa,SACJC,WAAY,EACZC,SAAU,EACV07D,eAAgB,EAChBC,YAAa,EACb17D,QAAS,EACT27D,WAAY,EACZC,cAAe,EACfC,aAAc,EACdC,eAAgB,EAChB77D,UAAW,EACX87D,YAAa,EACbC,cAAe,EACf97D,aAAc,EACdC,gBAAiB,EACjB87D,aAAc,EACdC,aAAc,EACd97D,eAAgB,EAChBC,gBAAiB,EACjBC,aAAc,EACdC,YAAa,EACbC,iBAAkB,EAClBC,iBAAkB,EAClBC,gBAAiB,EACjBC,iBAAkB,EAClBC,eAAgB,EAChBu7D,aAAc,EACdC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfC,mBAAoB,EACpBC,gBAAiB,EACjBC,kBAAmB,EACnBC,kBAAmB,EACnBC,iBAAkB,EAClBC,kBAAmB,EACnBC,cAAe,EACfC,gBAAiB,EACjBj8D,WAAY,EACZk8D,cAAe,EACfj8D,WAAY,EACZk8D,eAAgB,EAChBj8D,eAAgB,EAChBC,YAAa,EACbC,UAAW,EACXC,cAAe,EACfC,UAAW,EACXC,YAAa,EACbC,aAAc,EACdG,WAAY,EACZE,YAAa,EACbC,UAAW,EACXC,kBAAmB,EACnBC,YAAa,EACbC,eAAgB,EAChBC,aAAc,EACdC,eAAgB,EAChBC,eAAgB,EAChBC,gBAAiB,EACjBC,cAAe,EACfE,eAAgB,GAChB46D,kBAAmB,EACnBC,cAAe,EACfC,oBAAqB,EACrBC,eAAgB,EAChBC,iBAAkB,EAClBC,aAAc,EACdh7D,WAAY,EACZC,mBAAoB,EACpBC,YAAa,EACbC,oBAAqB,EACrBC,mBAAoB,EACpBC,eAAgB,EAChBC,iBAAkB,EAClBC,kBAAmB,EACnBE,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClBC,gBAAiB,EACjBC,iBAAkB,EAClBC,aAAc,EACdC,YAAa,EACbC,eAAgB,EAChBC,YAAa,EACbC,cAAe,EACfC,aAAc,EACdC,kBAAmB,EACnBC,iBAAkB,EAClBC,oBAAqB,EACrBC,iBAAkB,EAClBC,mBAAoB,EACpBC,kBAAmB,EACnBw5D,mBAAoB,EACpBC,mBAAoB,EACpBC,oBAAqB,EACrBC,gBAAiB,EACjBC,iBAAkB,EAClBC,sBAAuB,EACvBC,gBAAiB,EACjBC,cAAe,EACf95D,YAAa,EACbC,gBAAiB,EACjB85D,gBAAiB,EACjB75D,eAAgB,EAChBC,aAAc,EACdC,cAAe,EACf45D,qBAAsB,EACtB35D,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,eAAgB,EAChBC,eAAgB,EAChBC,qBAAsB,EACtBC,gBAAiB,EACjBC,eAAgB,EAChBC,aAAc,EACdo5D,mBAAoB,EACpBn5D,gBAAiB,EACjBC,iBAAkB,EAClBC,eAAgB,GAChBC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,cAAe,EACfC,WAAY,EACZC,YAAa,EACbC,gBAAiB,EACjBC,sBAAuB,EACvBC,iBAAkB,EAClBC,uBAAwB,EACxBC,sBAAuB,EACvBC,gBAAiB,EACjBC,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfC,aAAc,EACdC,YAAa,EACbC,WAAY,EACZC,cAAe,GACfC,cAAe,EACfC,aAAc,EACdC,gBAAiB,EACjBC,mBAAoB,EACpBC,eAAgB,EAChBC,aAAc,EACdC,sBAAuB,EACvBC,iBAAkB,EAClBC,kBAAmB,EACnBg3D,mBAAoB,EACpB/2D,eAAgB,EAChBg3D,cAAe,EACfC,aAAc,EACdh3D,mBAAoB,EACpBi3D,aAAc,EACdC,kBAAmB,EACnBj3D,cAAe,EACfC,gBAAiB,EACjBC,kBAAmB,EACnBC,iBAAkB,EAClBC,kBAAmB,EACnB82D,iBAAkB,EAClBC,qBAAsB,EACtB92D,kBAAmB,EACnB+2D,kBAAmB,EACnB92D,cAAe,EACfC,aAAc,EACd82D,cAAe,EACf52D,cAAe,EACfC,gBAAiB,GACjBC,eAAgB,EAChBC,YAAa,EACbC,gBAAiB,EACjBC,mBAAoB,EACpBC,aAAc,EACdC,gBAAiB,EACjBC,iBAAkB,EAClBC,oBAAqB,EACrBC,gBAAiB,EACjBC,WAAY,EACZC,YAAa,EACbC,YAAa,EACbC,gBAAiB,EACjB+1D,cAAe,EACfC,aAAc,EACdC,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,aAAc,EACdC,iBAAkB,EAClBC,eAAgB,EAChBr2D,cAAe,EACfs2D,eAAgB,EAChBr2D,YAAa,EACbC,WAAY,EACZC,qBAAsB,EACtBC,kBAAmB,EACnBC,mBAAoB,EACpBC,gBAAiB,EACjBC,mBAAoB,EACpBC,gBAAiB,EACjB+1D,cAAe,EACfC,eAAgB,EAChB/1D,WAAY,EACZC,aAAc,EACd+1D,gBAAiB,EACjBC,gBAAiB,EACjBC,kBAAmB,EACnBh2D,UAAW,EACXi2D,uBAAwB,EACxBh2D,mBAAoB,EACpBC,mBAAoB,EACpBC,eAAgB,EAChBC,iBAAkB,EAClBC,mBAAoB,EACpBC,kBAAmB,EACnB41D,mBAAoB,EACpB31D,eAAgB,EAChB41D,eAAgB,EAChB11D,eAAgB,EAChBC,iBAAkB,EAClBC,gBAAiB,EACjBC,qBAAsB,EACtBC,qBAAsB,EACtBC,eAAgB,EAChBC,eAAgB,EAChBC,iBAAkB,EAClBC,eAAgB,EAChBC,eAAgB,EAChBC,cAAe,EACfC,iBAAkB,EAClBC,gBAAiB,EACjBC,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdC,YAAa,EACbC,sBAAuB,EACvBg0D,yBAA0B,EAC1B/zD,iBAAkB,EAClBC,qBAAsB,EACtB+zD,sBAAuB,EACvB9zD,iBAAkB,EAClBC,mBAAoB,EACpBC,qBAAsB,EACtBC,oBAAqB,EACrBC,qBAAsB,EACtB2zD,wBAAyB,EACzB1zD,qBAAsB,EACtB2zD,qBAAsB,EACtB1zD,iBAAkB,EAClB2zD,iBAAkB,EAClBzzD,eAAgB,EAChBC,cAAe,EACfC,iBAAkB,EAClBC,gBAAiB,EACjBC,WAAY,EACZC,YAAa,EACbC,WAAY,EACZC,cAAe,EACfC,WAAY,EACZC,cAAe,EACfC,cAAe,EACfC,cAAe,EACfC,aAAc,EACdC,aAAc,EACdC,cAAe,EACfC,YAAa,EACbC,aAAc,EACdC,YAAa,EACbC,eAAgB,EAChBC,cAAe,EACfC,iBAAkB,EAClBC,gBAAiB,EACjBC,YAAa,EACbC,cAAe,EACfC,WAAY,EACZC,cAAe,EACfC,aAAc,EACdgyD,iBAAkB,EAClBC,cAAe,EACfC,eAAgB,EAChBC,iBAAkB,EAClBlyD,cAAe,EACfC,WAAY,EACZkyD,kBAAmB,EACnBC,gBAAiB,EACjBC,cAAe,EACfC,oBAAqB,EACrBC,eAAgB,EAChBC,gBAAiB,EACjBC,iBAAkB,EAClBC,aAAc,EACdC,eAAgB,GAElB7hE,MAAiB,QAAIA,MAAMa,QAC3Bb,MAAMoP,QACJC,gBAAmB,EACnBC,MAAS,EACTC,MAAS,EACTC,OAAU,EACVC,OAAU,GACVC,SAAY,GACZrP,OAAU,GACVC,MAAS,IACTwhE,YAAe,KAEjB9hE,MAAgB,OAAIA,MAAMoP,OAC1BpP,MAAM2P,UACJ3oF,EAAK,EACL4oF,KAAQ,EACRC,QAAW,EACXC,QAAW,EACX7yE,OAAU,IACV6P,KAAQ,EACRi1H,QAAW,EACXC,MAAS,EACTC,MAAS,EACTh7I,EAAK,EACL49B,KAAQ,IACRkrD,SAAY,IACZmyD,IAAO,EACPlyD,IAAO,EACPC,IAAO,EACPC,WAAc,EACdvoF,KAAQ,IACRknB,GAAM,EACNnO,OAAU,EACVmwC,OAAU,EACV3jC,QAAW,EACXwyB,OAAU,EACVywC,KAAQ,EACRxxC,KAAQ,EACR9xB,IAAO,EACPI,SAAY,EACZk1H,QAAW,EACXnzI,KAAQ,EACRozI,SAAY,EACZhyD,GAAM,EACNtR,IAAO,EACPujE,QAAW,EACXhyD,IAAO,EACPiyD,OAAU,IACVh3H,IAAO,EACP+pB,IAAO,EACPi7C,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,SAAY,EACZ8xD,WAAc,EACdC,OAAU,EACV9xD,KAAQ,EACR+xD,OAAU,EACV58H,KAAQ,EACR8qE,MAAS,IACTC,SAAY,IACZC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNC,GAAM,EACNr8D,KAAQ,IACR/L,OAAU,EACV45H,OAAU,EACVvxD,GAAM,EACN/xE,KAAQ,IACRzU,EAAK,EACL+9B,OAAU,GACVgpB,IAAO,EACProC,MAAS,EACT+nE,IAAO,EACPC,QAAW,IACXC,IAAO,EACPqxD,OAAU,IACV9qE,MAAS,EACTprD,OAAU,EACV8kE,GAAM,EACNrd,KAAQ,IACR1/D,IAAO,EACPouI,KAAQ,EACRpxD,KAAQ,EACRvxD,KAAQ,IACR4iH,MAAS,EACTC,IAAO,EACPrxD,KAAQ,EACRC,QAAW,IACXC,SAAY,IACZC,SAAY,IACZ50E,OAAU,IACV60E,GAAM,EACN9kE,SAAY,EACZjO,OAAU,EACV2hG,OAAU,EACVh2G,EAAK,EACLmnB,MAAS,IACT67C,IAAO,EACPh1D,SAAY,EACZxH,EAAK,EACL5K,EAAK,EACLyrF,KAAQ,EACRn9D,OAAU,GACVoZ,QAAW,EACX/uB,OAAU,EACV+yE,MAAS,EACTjoE,OAAU,EACVkoE,KAAQ,EACRC,OAAU,EACVC,OAAU,EACVnlF,MAAS,IACTmK,IAAO,EACP6rI,QAAW,EACX5wD,IAAO,EACPC,MAAS,EACT94E,MAAS,EACTsT,GAAM,EACNylE,SAAY,EACZrlE,MAAS,EACTG,GAAM,EACNT,MAAS,EACT0jB,KAAQ,EACRpH,MAAS,IACTrc,GAAM,EACNq2H,MAAS,EACT1wD,GAAM,EACNlhF,EAAK,EACLmhF,GAAM,EACNC,IAAO,EACPywD,MAAS,EACTC,IAAO,GAETljE,MAAkB,SAAIA,MAAM2P,SAC5B3P,MAAMmjE,wBACJn8I,EAAK,oBACL4oF,KAAQ,cACRC,QAAW,cACXC,QAAW,cACX7yE,OAAU,oBACV6P,KAAQ,kBACRi1H,QAAW,cACXC,MAAS,cACTC,MAAS,mBACTh7I,EAAK,cACL49B,KAAQ,kBACRkrD,SAAY,sBACZmyD,IAAO,cACPlyD,IAAO,cACPC,IAAO,cACPC,WAAc,mBACdvoF,KAAQ,kBACRknB,GAAM,gBACNnO,OAAU,oBACVmwC,OAAU,oBACV3jC,QAAW,0BACXwyB,OAAU,cACVywC,KAAQ,cACRxxC,KAAQ,cACR9xB,IAAO,sBACPI,SAAY,sBACZk1H,QAAW,qBACXnzI,KAAQ,cACRozI,SAAY,sBACZhyD,GAAM,cACNtR,IAAO,iBACPujE,QAAW,qBACXhyD,IAAO,cACPiyD,OAAU,oBACVh3H,IAAO,uBACP+pB,IAAO,iBACPi7C,GAAM,mBACNC,GAAM,cACNC,GAAM,cACNC,SAAY,sBACZ8xD,WAAc,cACdC,OAAU,cACV9xD,KAAQ,kBACR+xD,OAAU,cACV58H,KAAQ,kBACR8qE,MAAS,mBACTC,SAAY,sBACZC,GAAM,qBACNC,GAAM,qBACNC,GAAM,qBACNC,GAAM,qBACNC,GAAM,qBACNC,GAAM,qBACNr8D,KAAQ,kBACR/L,OAAU,cACV45H,OAAU,cACVvxD,GAAM,gBACN/xE,KAAQ;AACRzU,EAAK,cACL+9B,OAAU,oBACVgpB,IAAO,mBACProC,MAAS,mBACT+nE,IAAO,iBACPC,QAAW,qBACXC,IAAO,cACPqxD,OAAU,oBACV9qE,MAAS,mBACTprD,OAAU,oBACV8kE,GAAM,gBACNrd,KAAQ,kBACR1/D,IAAO,iBACPouI,KAAQ,cACRpxD,KAAQ,kBACRvxD,KAAQ,kBACR4iH,MAAS,mBACTC,IAAO,cACPrxD,KAAQ,cACRC,QAAW,cACXC,SAAY,cACZC,SAAY,cACZ50E,OAAU,oBACV60E,GAAM,mBACN9kE,SAAY,sBACZjO,OAAU,oBACV2hG,OAAU,oBACVh2G,EAAK,uBACLmnB,MAAS,mBACT67C,IAAO,iBACPh1D,SAAY,sBACZxH,EAAK,mBACL5K,EAAK,cACLyrF,KAAQ,cACRn9D,OAAU,oBACVoZ,QAAW,cACX/uB,OAAU,oBACV+yE,MAAS,cACTjoE,OAAU,oBACVkoE,KAAQ,kBACRC,OAAU,cACVC,OAAU,cACVnlF,MAAS,mBACTmK,IAAO,cACP6rI,QAAW,cACX5wD,IAAO,cACPC,MAAS,mBACT94E,MAAS,0BACTsT,GAAM,2BACNylE,SAAY,sBACZrlE,MAAS,0BACTG,GAAM,6BACNT,MAAS,0BACT0jB,KAAQ,kBACRpH,MAAS,mBACTrc,GAAM,sBACNq2H,MAAS,mBACT1wD,GAAM,cACNlhF,EAAK,cACLmhF,GAAM,mBACNC,IAAO,cACPywD,MAAS,mBACTC,IAAO,eAETljE,MAAgC,uBAAIA,MAAMmjE,uBAC1CnjE,MAAMyS,UACJC,WAAc,EACdC,cAAiB,EACjBC,aAAgB,GAElB5S,MAAkB,SAAIA,MAAMyS,SAC5BzS,MAAM6S,YACJ5Q,UAAW,EACXc,aAAc,EACdu7D,aAAc,EACd/6D,mBAAoB,EACpBm7D,gBAAiB,EACjB15D,YAAa,EACbS,eAAgB,EAChB+B,WAAY,EACZoB,aAAc,EACdK,YAAa,EACbuB,UAAW,EACXk3D,gBAAiB,EACjBE,aAAc,GAEhB5hE,MAAoB,WAAIA,MAAM6S,WAC9B7S,MAAM+S,QACJC,YAAe,EACfC,UAAa,EACbC,KAAQ,GAEVlT,MAAgB,OAAIA,MAAM+S,OAC1B/S,MAAMmT,aACJlR,UAAW,EACXc,aAAc,EACdu7D,aAAc,EACd/6D,mBAAoB,EACpBm7D,gBAAiB,EACjB15D,YAAa,EACbS,eAAgB,EAChB+B,WAAY,EACZoB,aAAc,EACdK,YAAa,EACbuB,UAAW,EACXk3D,gBAAiB,EACjBE,aAAc,GAEhB5hE,MAAqB,YAAIA,MAAMmT,YAET,mBAAX59E,UACTA,OAAc,MAAIyqE,OAuCM,MAAtB,IAAIj1E,cAAyB,KAAM,aAKvC,IAAIqU,MAAO,SAAU4gE,GA0EnB,QAASoT,GAAa91E,GAGpB,GAAIg2E,EAASthF,eAAesL,GAAS,MAAOg2E,GAASh2E,EACrD,IAAIhT,GAAIgT,EAAK0J,MAAMusE,EACnB,IAAIjpF,EACF,MAAOgI,QAAOkhF,aAAa53E,SAAStR,EAAE,GAAI,IACrC,IAAOA,EAAIgT,EAAK0J,MAAMysE,GAC3B,MAAOnhF,QAAOkhF,aAAa53E,SAAStR,EAAE,GAAI,IACrC,IAAI84I,GAAuBC,EAAiB53I,KAAK6R,GAAO,CAC7D8lI,EAAoBj2I,UAAY,IAAMmQ,EAAO,GAC7C,IAAIjP,GAAO+0I,EAAoB37H,WAE/B,OADA6rE,GAASh2E,GAAQjP,EACVA,EAEP,MAAO,IAAMiP,EAAO,IAIxB,QAASo2E,GAAgB3sF,EAAGuW,GAC1B,MAAO81E,GAAa91E,GAItB,QAASq2E,GAAUttF,GACjB,MAAOA,GAAE6E,QAAQ0oF,EAAO,IA0B1B,QAASC,GAAiBxtF,GACxB,MAAOA,GAAE6E,QAAQo4I,EAAa5vD,GAqBhC,QAASK,GAAa1tF,GACpB,OAAQ,GAAKA,GAAG6E,QAAQ8oF,EAAO,SAAS9oF,QAAQ+oF,EAAM,QACjD/oF,QAAQgpF,EAAM,QAAQhpF,QAAQipF,EAAQ,SAU7C,QAASE,GAAgBC,GACvB,MAAOA,GACFppF,QAAQqpF,EAAY,WACpBrpF,QAAQ+oF,EAAM,QACd/oF,QAAQgpF,EAAM,QAqErB,QAASM,GAAcxzE,GAErB,GAAIuiI,IACFjuD,MAAOt0E,EAAQs0E,OAASt0E,EAAe,MACvCwiI,QAASxiI,EAAQwiI,SAAWxiI,EAAiB,QAC7Cw0E,OAAQx0E,EAAQw0E,QAAUx0E,EAAgB,OAC1Co0E,OAAQp0E,EAAQo0E,QAAUp0E,EAAgB,OAC1Cu0E,OAAQv0E,EAAQu0E,QAAUv0E,EAAgB,OAC1CszE,OAAQtzE,EAAQszE,QAAUtzE,EAAgB,OAC1C6zE,SAAU7zE,EAAQ6zE,UAAY7zE,EAAkB,SAChDm0E,SAAUn0E,EAAQm0E,UAAYn0E,EAAkB,SAElD,OAAO,UAASyzE,EAAU7iE,GACxB,MAAOhc,GAAM6+E,EAAU8uD,EAAO3xH,IA8BlC,QAAShc,GAAM6+E,EAAUzzE,EAAS4Q,GAChC,GACIyvC,GAAQoiF,EAAUhvD,GAClB/7E,GACFgrI,UAAU,EACVC,mBAAmB,EAErBC,GAAS5iI,EAASqgD,EAAO,EAAG3oD,EAAOkZ,GAGrC,QAASiyH,GAAkB15I,EAAGk3D,EAAOxlC,EAASnjB,EAAOkZ,GACnD,MAAO,YACLgyH,EAASz5I,EAAGk3D,EAAOxlC,EAASnjB,EAAOkZ,IAIvC,QAASgyH,GAASz5I,EAAGk3D,EAAOxlC,EAASnjB,EAAOkZ,GAC1C,IACMznB,EAAE0qF,UAAuB,GAAXh5D,GAAgB1xB,EAAE0qF,SAASjjE,EAE7C,KAAK,GADDtnB,GAAGG,EAAGs/B,EACDhS,EAAM8D,EAASpnB,EAAM4sD,EAAMz2D,OAAQmtB,EAAMtjB,GAAM,CACtD,GAAI4vB,GAAUg9B,EAAMtpC,KAChBlN,EAAOw2C,EAAMtpC,EACjB,QAAQsM,GACR,IAAK,IACCy/G,EAAYr4I,KAAKof,IACf1gB,EAAEorF,QACJprF,EAAEorF,OAAO,IAAM1qE,EAAM+G,EAAOmyH,EAC1BF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,IAE5CmG,KAEI5tB,EAAEorF,QAAUprF,EAAEorF,OAAO,QAAS3jE,EAAOmyH,EACrCF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAG9C,MACF,KAAK,MACEtnB,EAAI,qBAAqByI,KAAK8X,IAC7BvgB,EAAE,GAAGM,SAAWigB,EAAKjgB,QAA6B,MAAnBy2D,EAAMtpC,EAAM,IAE7CA,GAAO,EACPgS,EAAUz/B,EAAE,GAAGS,cACXZ,EAAEirF,QACJjrF,EAAEirF,OAAOrrD,EAASnY,EAAOmyH,EACvBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,KAK5CmG,EAAMisH,EACJ3iF,EAAOtpC,EAAK5tB,EAAGynB,EAAOmyH,EAAoBrrI,GAG1CvO,EAAEorF,QACJprF,EAAEorF,OAAO,QAAS3jE,EAAOmyH,EACvBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAG9C,MACF,KAAK,IACH,GAAItnB,EAAI,mBAAmByI,KAAK8X,GAC9B,GAAIvgB,EAAE,GAAGM,SAAWigB,EAAKjgB,QAA6B,MAAnBy2D,EAAMtpC,EAAM,GAAY,CAEzDA,GAAO,EACPgS,EAAUz/B,EAAE,GAAGS,cACXZ,EAAEgrF,UACJhrF,EAAEgrF,SAASprD,KAAanY,EAAOmyH,EAC7BF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAG5C,IAAIw9D,GAASpP,EAAM2P,SAAS5lD,EAC5B,IAAIqlD,EAAS60D,EAAa,CACxB,GAAIC,IAAQ5mI,KAAMysB,EAASlf,KAAMkN,EAAKq3D,OAAQA,EAC9Cr3D,GAAMosH,EACJ9iF,EAAO6iF,EAAK/5I,EAAGynB,EAAOmyH,EAAoBrrI,QAI9Cqf,GAAMqsH,EACJ/iF,EAAOtpC,EAAK5tB,EAAGynB,EAAOmyH,EAAoBrrI,OAG1CvO,GAAEorF,QACJprF,EAAEorF,OAAO,OAAQ3jE,EAAOmyH,EACtBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAG9C,MACF,KAAK,OAIH,IAAKlZ,EAAMirI,kBAAmB,CAK5B,IAAKl5I,EAAIstB,EAAM,EAAGttB,EAAIgK,IACH,MAAb4sD,EAAM52D,KAAc,MAAMgB,KAAK41D,EAAM52D,EAAI,KADpBA,KAG3B,GAAIA,EAAIgK,EAAK,CACX,GAAItK,EAAEq5I,QAAS,CACb,GAAIA,GAAUniF,EAAMh4D,MAAM0uB,EAAKttB,GAAG8J,KAAK,GACvCpK,GAAEq5I,QACAA,EAAQh3I,OAAO,EAAGg3I,EAAQ54I,OAAS,GAAIgnB,EACvCmyH,EACAF,EAAkB15I,EAAGk3D,EAAO52D,EAAI,EAAGiO,EAAOkZ,IAE9CmG,EAAMttB,EAAI,MAEViO,GAAMirI,mBAAoB,EAG1BjrI,EAAMirI,mBACJx5I,EAAEorF,QACJprF,EAAEorF,OAAO,UAAW3jE,EAAOmyH,EACzBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAG9C,MACF,KAAK,KACH,GAAK,MAAMnmB,KAAKof,GAKT,CAEL,IAAKnS,EAAMgrI,SAAU,CACnB,IAAKj5I,EAAIstB,EAAM,EAAGttB,EAAIgK,GACH,MAAb4sD,EAAM52D,GADeA,KAGvBA,EAAIgK,EACNsjB,EAAMttB,EAAI,EAEViO,EAAMgrI,UAAW,EAGjBhrI,EAAMgrI,UACJv5I,EAAEorF,QACJprF,EAAEorF,OAAO,QAAS3jE,EAAOmyH,EACvBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,QAnB1CznB,GAAEorF,QACJprF,EAAEorF,OAAO,QAAS3jE,EAAOmyH,EACvBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAqB9C,MACF,KAAK,KAEH,IAAKlZ,EAAMgrI,SAAU,CACnB,IAAKj5I,EAAIstB,EAAM,EAAGttB,EAAIgK,GACH,MAAb4sD,EAAM52D,GADeA,KAGvBA,EAAIgK,EACNsjB,EAAMttB,EAAI,EAEViO,EAAMgrI,UAAW,EAGjBhrI,EAAMgrI,UACJv5I,EAAEorF,QACJprF,EAAEorF,OAAO,QAAS3jE,EAAOmyH,EACvBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAG9C,MACF,KAAK,IACCznB,EAAEorF,QACJprF,EAAEorF,OAAO,OAAQ3jE,EAAOmyH,EACtBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,GAE5C,MACF,KAAK,GACH,KACF,SACMznB,EAAEorF,QACJprF,EAAEorF,OAAOlxD,EAASzS,EAAOmyH,EACvBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,KAK5CznB,EAAEqrF,QAAUrrF,EAAEqrF,OAAO5jE,GACzB,MAAO9pB,GACP,GAAIA,IAAMi8I,EAAsB,KAAMj8I,IAK1C,QAAS27I,GAAUtjH,GAEjB,GAAIuL,GAAK,0BAET,IADAvL,GAAO,GACHkkH,EACF,MAAOlkH,GAAIn1B,MAAM0gC,EAKjB,KAHA,GAEIphC,GAFA+2D,KACAijF,EAAU,EAEgB,QAAtBh6I,EAAIohC,EAAG34B,KAAKotB,KAClBkhC,EAAMlvD,KAAKguB,EAAI5iB,UAAU+mI,EAASh6I,EAAE0gB,QACpCq2C,EAAMlvD,KAAK7H,EAAE,IACbg6I,EAAUh6I,EAAE0gB,MAAQ1gB,EAAE,GAAGM,MAG3B,OADAy2D,GAAMlvD,KAAKguB,EAAI5iB,UAAU+mI,IAClBjjF,EAIX,QAAS2iF,GAAY3iF,EAAOtpC,EAAK5tB,EAAGynB,EAAOmyH,EAAoBrrI,GAC7D,GAAIwrI,GAAMK,EAAiBljF,EAAOtpC,EAElC,OAAKmsH,IACD/5I,EAAEirF,QACJjrF,EAAEirF,OAAO8uD,EAAI5mI,KAAMsU,EAAOmyH,EACxBF,EAAkB15I,EAAGk3D,EAAOtpC,EAAKrf,EAAOkZ,IAErCsyH,EAAIr5H,MALQw2C,EAAMz2D,OAQ3B,QAASw5I,GAAc/iF,EAAOtpC,EAAK5tB,EAAGynB,EAAOmyH,EAAoBrrI,GAC/D,GAAIwrI,GAAMK,EAAiBljF,EAAOtpC,EAElC,OAAKmsH,IACD/5I,EAAEgrF,UACJhrF,EAAEgrF,SAAS+uD,EAAI5mI,KAAM4mI,EAAIzgH,MAAO7R,EAAOmyH,EACrCF,EAAkB15I,EAAGk3D,EAAO6iF,EAAIr5H,KAAMnS,EAAOkZ,IAG7CsyH,EAAI90D,OAAS60D,EACRE,EAAU9iF,EAAO6iF,EAAK/5I,EAAGynB,EAAOmyH,EAAoBrrI,GAEpDwrI,EAAIr5H,MATMw2C,EAAMz2D,OAiB3B,QAASu5I,GAAU9iF,EAAO6iF,EAAK/5I,EAAGynB,EAAOmyH,EAAoBrrI,GAC3D,GAAIjE,GAAM4sD,EAAMz2D,MACX45I,GAASxyI,eAAekyI,EAAI5mI,QAC/BknI,EAASN,EAAI5mI,MAAQ,GAAIuD,QAAO,IAAMqjI,EAAI5mI,KAAO,iBAAkB,KAKrE,KAHA,GAAIouB,GAAK84G,EAASN,EAAI5mI,MAClBlJ,EAAQ8vI,EAAIr5H,KACZpgB,EAAIy5I,EAAIr5H,KAAO,EACZpgB,EAAIgK,IACY,OAAjB4sD,EAAM52D,EAAI,KAAgBihC,EAAGjgC,KAAK41D,EAAM52D,KAD9BA,KAGZA,EAAIgK,IAAOhK,GAAK,EACpB,IAAI2vG,GAAM/4C,EAAMh4D,MAAM+K,EAAO3J,GAAG8J,KAAK,GACrC,IAAI2vI,EAAI90D,OAASpP,EAAMoP,OAAc,MAC/BjlF,EAAEmrF,OACJnrF,EAAEmrF,MAAM8kB,EAAKxoF,EAAOmyH,EAClBF,EAAkB15I,EAAGk3D,EAAO52D,EAAGiO,EAAOkZ,QAErC,CAAA,KAAIsyH,EAAI90D,OAASpP,EAAMoP,OAAe,QAM3C,KAAM,IAAI15E,OAAM,MALZvL,GAAEmqF,QACJnqF,EAAEmqF,OAAOD,EAAgB+lB,GAAMxoF,EAAOmyH,EACpCF,EAAkB15I,EAAGk3D,EAAO52D,EAAGiO,EAAOkZ,IAK5C,MAAOnnB,GAIT,QAAS85I,GAAiBljF,EAAOtpC,GAC/B,GAAIztB,GAAI,aAAayI,KAAKsuD,EAAMtpC,IAC5BmsH,IACJA,GAAI5mI,KAAOhT,EAAE,GAAGS,cAChBm5I,EAAI90D,OAASpP,EAAM2P,SAASu0D,EAAI5mI,KAOhC,KANA,GAAI88F,GAAM/4C,EAAMtpC,GAAKvrB,OAAOlC,EAAE,GAAGM,QAI7BH,EAAIstB,EAAM,EACVtjB,EAAM4sD,EAAMz2D,OACTH,EAAIgK,GACQ,MAAb4sD,EAAM52D,GADIA,IAEd2vG,GAAO/4C,EAAM52D,EAEf,MAAIgK,GAAOhK,GAAX,CAEA,IADA,GAAIg5B,MACW,KAAR22E,GAEL,GADA9vG,EAAIm6I,EAAQ1xI,KAAKqnG,GAKV,CAAA,GAAK9vG,EAAE,KAAOA,EAAE,IAAQA,EAAE,KAAOA,EAAE,GAAK,CAK7C,IAHA,GAAIu1B,GAAQv1B,EAAE,IAAMA,EAAE,GAClBo6I,GAAW,EACXC,GAAQvqC,EAAK/4C,EAAM52D,MAChBA,EAAIgK,EAAKhK,IAAK,CACnB,GAAIi6I,GACF,GAAiB,MAAbrjF,EAAM52D,GAAc,UACf,IAAK42D,EAAM52D,GAAGgI,QAAQotB,KAC/B6kH,GAAW,EAEbC,GAAKxyI,KAAKkvD,EAAM52D,IAGlB,GAAIgK,GAAOhK,EAAK,KAEhB2vG,GAAMuqC,EAAKpwI,KAAK,GAChB,UAIA,GAAIqwI,GAAQt6I,EAAE,GAAGS,cACb85I,EAASv6I,EAAE,GAAKw6I,EAAYx6I,EAAE,IAAM,EACxCm5B,GAAMtxB,KAAKyyI,EAAOC,GAClBzqC,EAAMA,EAAI5tG,OAAOlC,EAAE,GAAGM,YA1BtBwvG,GAAMA,EAAIlvG,QAAQ,mBAAoB,GA+B1C,OAFAg5I,GAAIzgH,MAAQA,EACZygH,EAAIr5H,KAAOpgB,EAAI,EACRy5I,GAGT,QAASY,GAAYzzI,GACnB,GAAIJ,GAAII,EAAE6uB,WAAW,EAIrB,OAHU,MAANjvB,GAAoB,KAANA,IAChBI,EAAIA,EAAE7E,OAAO,EAAG6E,EAAEzG,OAAS,IAEtBipF,EAAiBF,EAAUtiF,IAiBpC,QAASokF,GAAkByiD,GACzB,GAAIviD,GACAC,EACAmvD,EAAO,SAAU12I,EAAMwnF,GACpBD,GAAYC,EAAI1jF,KAAK9D,GAE5B,OAAOmmF,IACLK,SAAY,SAAS9tF,GACnB4uF,KACAC,GAAW,GAEbT,SAAY,SAAS6vD,EAAarwE,EAASkhB,GACzC,IAAID,GACC5V,EAAM2P,SAAS39E,eAAegzI,GAAnC,CACA,GAAIC,GAAajlE,EAAM2P,SAASq1D,EAChC,MAAIC,EAAajlE,EAAMoP,OAAiB,UAAxC,CAIA,GAAI6oD,GAAWC,EAAU8M,EAAarwE,EACtC,KAAKsjE,EAEH,YADAriD,IAAaqvD,EAAajlE,EAAMoP,OAAc,OAEzC,IAAwB,gBAAb6oD,GAChB,KAAM,IAAIviI,OAAM,6CAElB,MAAI,WAAauiI,IAGf,KAAM,IAAIviI,OAAM,4BAFhBi/D,GAAUsjE,EAAkB,OAI9B,IAAIiN,GACAC,CAcJ,IAbI,WAAalN,IACfkN,EAAalN,EAAkB,QAC/BiN,EAAYllE,EAAM2P,SAASw1D,KAE3BA,EAAaH,EACbE,EAAYD,GAQVA,EAAajlE,EAAMoP,OAAwB,gBAAG,CAChD,GAAIg2D,GAAUzvD,EAAMA,EAAM/qF,OAAS,IAC/Bw6I,GAAWA,EAAQ1tH,OAASstH,GAC3BI,EAAQ5kH,MAAQ2kH,GAAcH,IAAgBG,GAC7CtvD,EAAI1jF,KAAK,KAAOizI,EAAQ5kH,IAAK,KAI/BykH,EAAajlE,EAAMoP,OAAc,OACrCuG,EAAMxjF,MAAMulB,KAAMstH,EAAaxkH,IAAK2kH,IAGtCtvD,EAAI1jF,KAAK,IAAKgzI,EACd,KAAK,GAAIx6I,GAAI,EAAGJ,EAAIoqE,EAAQ/pE,OAAQD,EAAIJ,EAAGI,GAAK,EAAG,CACjD,GAAIsqF,GAAatgB,EAAQhqE,GACrB2D,EAAQqmE,EAAQhqE,EAAI,EACV,QAAV2D,GAA4B,SAAVA,GACpBunF,EAAI1jF,KAAK,IAAK8iF,EAAY,KAAMlB,EAAazlF,GAAQ,KAGzDunF,EAAI1jF,KAAK,KAEJ8yI,EAAajlE,EAAMoP,OAAc,SAC7B81D,EAAYllE,EAAMoP,OAAc,QAEvCyG,EAAI1jF,KAAK,KAAOgzI,EAAY,QAGhC/vD,OAAU,SAASrrD,EAAS8rD,GAC1B,GAAID,EAEF,YADAA,GAAW,EAGb,IAAK5V,EAAM2P,SAAS39E,eAAe+3B,GAAnC,CACA,GAAIqlD,GAASpP,EAAM2P,SAAS5lD,EAC5B,MAAMqlD,GAAUpP,EAAMoP,OAAc,MAAIpP,EAAMoP,OAAiB,WAAK,CAClE,GAAIpkE,EACJ,IAAIokE,EAASpP,EAAMoP,OAAwB,gBACzC,IAAKpkE,EAAQ2qE,EAAM/qF,SAAUogB,GAAS,GAAI,CACxC,GAAIq6H,GAAiB1vD,EAAM3qE,GAAO0M,IAClC,IAAI2tH,IAAmBt7G,EAAW,KAClC,MAAMi2C,EAAM2P,SAAS01D,GACfrlE,EAAMoP,OAAwB,iBAElC,WAIJ,KAAKpkE,EAAQ2qE,EAAM/qF,SAAUogB,GAAS,GAChC2qE,EAAM3qE,GAAO0M,OAASqS,IAG9B,GAAI/e,EAAQ,EAAK,MACjB,KAAK,GAAIrgB,GAAIgrF,EAAM/qF,SAAUD,EAAIqgB,GAAQ,CACvC,GAAIs6H,GAAgB3vD,EAAMhrF,GAAG61B,GACvBw/C,GAAM2P,SAAS21D,GACftlE,EAAMoP,OAAwB,iBAClCyG,EAAI1jF,KAAK,KAAOmzI,EAAe,KAG/Bt6H,EAAQ2qE,EAAM/qF,SAChBm/B,EAAU4rD,EAAM3qE,GAAOwV,KAEzBm1D,EAAM/qF,OAASogB,EACf6qE,EAAI1jF,KAAK,KAAO43B,EAAS,QAG7BwrD,OAAUwvD,EACVzwD,OAAUywD,EACVzvD,MAASyvD,EACTvvD,OAAU,SAASK,GACjB,KAAOF,EAAM/qF,OAAQ+qF,EAAM/qF,SACzBirF,EAAI1jF,KAAK,KAAOwjF,EAAMA,EAAM/qF,OAAS,GAAG41B,IAAK,QAQrD,QAAS40G,GAAQzG,EAAK4W,EAAQC,EAAOC,EAAOpQ,GAC1C,IAAKA,EAAoB,MAAO,KAChC,KACE,GAAIC,GAASn1D,IAAIvqE,MAAM,GAAK+4H,EAC5B,IAAI2G,KACGA,EAAOzF,aACR0F,EAAoB9pI,KAAK6pI,EAAOlD,cAAc,CAChD,GAAIsT,GAAOrQ,EAAiBC,EAAQiQ,EAAQC,EAAOC,EACnD,OAAOC,GAAOA,EAAK5zI,WAAa,MAGpC,MAAOhK,GACP,MAAO,MAET,MAAO,MAGT,QAAS81C,GAAI+nG,EAAQ57G,EAASkrD,EAAY2wD,EAAUC,GAOlD,GANK5wD,GACH0wD,EAAO57G,EAAU,YACf3uB,OAAQ,UACR2uB,QAASA,IAGT67G,IAAaC,EAAU,CACzB,GAAI3iH,GAAU,SACV0iH,KAAaC,EACf3iH,EAAU,WACA0iH,GAAYC,IACtB3iH,EAAU,SAEZyiH,EAAO57G,EAAU,IAAMkrD,EAAa,IAAM/xD,GACxC9nB,OAAQ8nB,EACR6G,QAASA,EACTkrD,WAAYA,EACZ2wD,SAAUA,EACVC,SAAUA,KAKhB,QAASC,GAAgBtxI,EAAKu1B,EAASkrD,GACrC,GAAIiB,EAEJ,OADAA,GAAYnsD,EAAU,KAAOkrD,EACzBzgF,EAAIxC,eAAekkF,GACd1hF,EAAI0hF,IAEbA,EAAY,MAAQjB,EAChBzgF,EAAIxC,eAAekkF,GACd1hF,EAAI0hF,GADb,QAQF,QAAS6vD,GAAch8G,EAASkrD,GAC9B,MAAO6wD,GAAgB9lE,EAAMmT,YAAappD,EAASkrD,GAErD,QAAS+wD,GAAaj8G,EAASkrD,GAC7B,MAAO6wD,GAAgB9lE,EAAM6S,WAAY9oD,EAASkrD,GAiBpD,QAASgxD,GAAgBl8G,EAAS4qC,EAChCqhE,EAAsB//C,EAAmBiwD,GAGzC,IAAK,GAAIv7I,GAAI,EAAGA,EAAIgqE,EAAQ/pE,OAAQD,GAAK,EAAG,CAC1C,GAGkBurF,GAHdjB,EAAatgB,EAAQhqE,GACrB2D,EAAQqmE,EAAQhqE,EAAI,GACpBi7I,EAAWt3I,EACX2xE,EAAQ,IAOZ,IANKiW,EAAYnsD,EAAU,KAAOkrD,GAC7BjV,EAAMa,QAAQ7uE,eAAekkF,KAC7BA,EAAY,MAAQjB,EACpBjV,EAAMa,QAAQ7uE,eAAekkF,OAChCjW,EAAQD,EAAMa,QAAQqV,IAEV,OAAVjW,EACF,OAAQA,GACN,IAAKD,GAAMC,MAAY,KAAG,KAC1B,KAAKD,GAAMC,MAAc,OACvB3xE,EAAQ,KACJ43I,GACFtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,EAEjD,MACF,KAAK0xE,GAAMC,MAAa,MACtB,GAAI,mBAAuB27D,GAAsB,CAC/CttI,EAAQ,KACJ43I,GACFtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,EAEjD,OAEF,GAAI63I,KACJvK,GACIttI,GAEEitI,YAAe,SAAUxF,EAAUzpG,GACjC,GAAI85G,GAAWrQ,EAAShrI,aACxB0pI,GACI2R,EAAU95G,EACV0pG,EACE,SAAU5nH,GACR,MAAOgnH,GACHhnH,EAAK4xD,EAAMyS,SAASE,cACpB3S,EAAM+S,OAAOE,WAEXozD,KAAQ,MACRC,SAAYF,GACXpQ,IAET,MACF1pG,EAAO1hC,QACTu7I,EAAsBh0I,KAClBi0I,EAAW,KAAO95G,EAAO/3B,KAAK,SAI5CjG,EAAQ63I,EAAsBv7I,OAAS,EACrCu7I,EAAsB5xI,KAAK,OAAS,KAClC2xI,GACFtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,EAEjD,MACF,KAAK0xE,GAAMC,MAAU,GACrB,IAAKD,GAAMC,MAAa,MACxB,IAAKD,GAAMC,MAAc,OACzB,IAAKD,GAAMC,MAAmB,YAC9B,IAAKD,GAAMC,MAAkB,WAC7B,IAAKD,GAAMC,MAAe,QACxB3xE,EAAQ2nF,EAAoBA,EAAkB3nF,GAASA,EACnD43I,GACFtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,EAEjD,MACF,KAAK0xE,GAAMC,MAAW,IACpB3xE,EAAQ8mI,EAAQ9mI,EACd03I,EAAaj8G,EAASkrD,GACtB8wD,EAAch8G,EAASkrD,IAErBoxD,KAAQ,SACRE,SAAYtxD,EACZuxD,QAAWz8G,GACVisG,GACCkQ,GACJtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,EAEjD,MACF,KAAK0xE,GAAMC,MAAoB,aACzB3xE,GAAS,MAAQA,EAAMwE,OAAO,IAChCxE,EAAQA,EAAMiP,UAAU,GACxBjP,EAAQ2nF,EAAoBA,EAAkB3nF,GAASA,EACzC,OAAVA,GAA4B,SAAVA,IACpBA,EAAQ,IAAMA,IAGhBA,EAAQ,KAEN43I,GACFtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,EAEjD,MACF,SACEA,EAAQ,KACJ43I,GACFtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,OAQnDA,GADE,cAAc7C,KAAKwpF,GACbgB,EAAoBA,EAAkB3nF,GAASA,EAE/C,KAEN43I,GACFtoG,EAAIsoG,EAAYn8G,EAASkrD,EAAY2wD,EAAUt3I,EAGnDqmE,GAAQhqE,EAAI,GAAK2D,EAEnB,MAAOqmE,GAeT,QAAS8xE,GACPzQ,EAAsB//C,EAAmBiwD,GACzC,MAAO,UAASn8G,EAAS4qC,GACvB,MAAMqL,GAAM2P,SAAS5lD,GAAWi2C,EAAMoP,OAAe,YAM/C82D,GACFtoG,EAAIsoG,EAAYn8G,EAASrI,OAAWA,OAAWA,UAL/CizC,QAAWsxE,EAAgBl8G,EAAS4qC,EAClCqhE,EAAsB//C,EAAmBiwD,KAkBnD,QAASQ,GAAmBC,EAAWzO,GACrC,GAAI0O,KAEJ,OADAnxD,GAAkByiD,GAAWyO,EAAWC,GACjCA,EAAYryI,KAAK,IAY1B,QAASwhF,GAAS4wD,EAChB3Q,EAAsB//C,EAAmBiwD,GACzC,GAAIhO,GAAYuO,EACdzQ,EAAsB//C,EAAmBiwD,EAC3C,OAAOQ,GAAmBC,EAAWzO,GA1+BvC,GAAI0D,GAAsBnH,EAAqB/S,CAC3C,oBAAuBnsH,UACzBqmI,EAAuBrmI,OAA6B,qBACpDk/H,EAAsBl/H,OAA4B,oBAClDmsH,EAAYnsH,OAAkB,UAQhC,IAAI+9E,IACF5pE,GAAM,IACNm9H,GAAM,IACNl9H,GAAM,IACNm9H,GAAM,IACNxwD,IAAO,IACPywD,IAAO,IACPvwD,KAAQ,IACRC,KAAQ,IACRF,KAAQ,KAINhD,EAAkB,WAClBE,EAAc,qBAEd4vD,EAAmB,yBAKnBD,EACC,mBAAuB7tI,SAAUA,OAAiB,SAC7CA,OAAiB,SAAErN,cAAc,YAAc,KA2DrD0rF,EAAQ,MAKR0vD,EAAc,qCACdQ,EAAc,oCA0Bd9vD,EAAQ,KACRO,EAAa,iDACbN,EAAO,OACPC,EAAO,KACPC,EAAS,MA+CTswD,EAAU,GAAI5jI,QAChB,oGAoBA,KAGEwjI,EAAkD,IAA9B,MAAMr5I,MAAM,OAAOJ,OAGvCq5I,EAAcjkE,EAAMoP,OAAc,MAAIpP,EAAMoP,OAAe,OAmE3D20D,KA6OAS,KA2OAjP,EAAsB,uBAuQtBn2H,IAUJ,OATAA,GAAK20E,aAAe30E,EAAmB,aAAI20E,EAC3C30E,EAAKq2E,kBAAoBr2E,EAAwB,kBAAIq2E,EACrDr2E,EAAKo1E,cAAgBp1E,EAAoB,cAAIo1E,EAC7Cp1E,EAAKqnI,cAAgBrnI,EAAoB,cAAIqnI,EAC7CrnI,EAAKi1E,gBAAkBj1E,EAAsB,gBAAIi1E,EACjDj1E,EAAK22E,SAAW32E,EAAe,SAAI22E,EACnC32E,EAAK6mI,gBAAkB7mI,EAAsB,gBAAI6mI,EACjD7mI,EAAKsnI,mBAAqBtnI,EAAyB,mBAAIsnI,EACvDtnI,EAAKy0E,iBAAmBz0E,EAAuB,iBAAIy0E,EAC5Cz0E,GACN4gE,OAEC0W,cAAgBt3E,KAAe,QAIb,oBAAX7J,UACTA,OAAa,KAAI6J,KACjB7J,OAAsB,cAAImhF,eAS1BnwF,KAAKM,SAAWA,SAChB,WAg3CF,QAASmgJ,iBAytLT,QAASC,oBAaT,QAASC,cAAaC,EAAS9qI,GAC7B7V,KAAK2gJ,QAAUA,EACf3gJ,KAAKq3H,UAAYxhH,EACjB7V,KAAK4gJ,QAAS,EAkHhB,QAASC,iBAAgB9kG,EAAOlmC,GAC9B6qI,aAAa13I,KAAKhJ,KAAM+7C,EAAOlmC,GAC/B7V,KAAK8gJ,kBAEL,IAAI/kG,GAAQ/7C,KAAK2gJ,QAAQpuF,SAASvyD,KAAKq3H,UAEnC/2H,UAAS+7B,OAAS0f,IACpB/7C,KAAK+gJ,WAAa,GAAIzgJ,UAAS+7B,MAAM0f,EAAMglG,YAC3C/gJ,KAAK+gJ,WAAWlhI,KAAK,SAAU,WAC7Bk8B,EAAMglG,WAAa/gJ,KAAK+gJ,WAAWpqI,SACnC3W,KAAK2gJ,QAAQK,SAAShhJ,KAAKq3H,UAAWt7E,IACrC/7C,OA4GP,QAASihJ,cAAallG,EAAOlmC,GAC3B6qI,aAAa13I,KAAKhJ,KAAM+7C,EAAOlmC,GA+DjC,QAASqrI,eAAcC,GACrBnhJ,KAAKmhJ,cAAgBA,EA2DvB,QAASC,SAAQ1oI,GACf,GAAIqwB,GAAO/oC,IAEXA,MAAK0Y,QAAUnY,EAAEy2B,SAASte,GACxBiP,KAAM5Y,OAAO5O,EAAI4O,OAAO5O,EAAEwnB,KAAO6pE,QAAQsC,OACzCutD,WAAY,UAAW,UAAW,eAAgB,cAClDC,YAAa,UAAW,UAAW,eAAgB,cACnDxyH,KAAMyyH,IAAIC,KAAKC,KAAKC,kBACpBC,aAAc,KACdC,YAAY,EACZC,oBAAqB,WACnB,MAAO,SAAW94G,EAAK+4G,mBAI3B9hJ,KAAKmhJ,cAAgB,KACrBnhJ,KAAK+hJ,KAAO,KACZ/hJ,KAAK68B,QAAS,EACd78B,KAAKq7F,sBACLr7F,KAAKgiJ,UAAW,EAChBhiJ,KAAKiiJ,wBACLjiJ,KAAKkiJ,uBACLliJ,KAAKmiJ,UAAW,EAChBniJ,KAAKoiJ,gBAAkB,KACvBpiJ,KAAKqiJ,eAAgB,EAGhBriJ,KAAK0Y,QAAQ4pI,mBAChBtiJ,KAAKuiJ,sBAAsBviJ,KAAK0Y,SA4mBpC,QAAS8pI,iBAAgBC,EAAiB/pI,GACxC0oI,QAAQp4I,KAAKhJ,KAAM0Y,GACnB1Y,KAAK0iJ,SAAWtB,QAAQuB,SACxB3iJ,KAAK4iJ,mBAAmBH,GAAmB5lH,QAAQ,IAyKrD,QAASgmH,UAASC,EAAWpqI,GAC3B0oI,QAAQp4I,KAAKhJ,KAAM0Y,GACnB1Y,KAAK0Y,QAAQ2oI,UAAU11I,KAAK,cAC5B3L,KAAK0Y,QAAQ4oI,WAAW31I,KAAK,cAC7B3L,KAAK4iJ,mBAAmBE,EAAWpqI,GACnC1Y,KAAK+iJ,SAAWD,EAAUC,SA0J5B,QAASC,sBACPhjJ,KAAK8pB,SAAU,EAj5Qb,GAAI3pB,GAAIJ,KAAKI,EACTD,OAASH,KAAKG,OACdE,EAAIL,KAAKK,EACTC,SAAWN,KAAKM,SAChBC,SAAWP,KAAKO,SAChBC,EAAIR,KAAKQ,GAIhB,WAEG,GAAIR,GAAOC,KAEPuhJ,EAAMxhJ,EAAKwhJ,MAEfA,GAAI5tH,QAAU,UACd4tH,EAAI0B,OAAQ,EAEZ1B,EAAI2B,mBACFC,QAAS,GACTC,QAAS,IAGX7B,EAAI8B,yBAA2B,QAE/BtjJ,EAAKwhJ,IAAI+B,UACTvjJ,EAAKwhJ,IAAIC,QACTzhJ,EAAKwhJ,IAAI5+H,SACT5iB,EAAKwhJ,IAAIgC,OACTxjJ,EAAKwhJ,IAAIgC,IAAIC,MACbzjJ,EAAKwhJ,IAAIgC,IAAIE,YACb1jJ,EAAKwhJ,IAAIiC,MACTzjJ,EAAKwhJ,IAAIiC,GAAGE,UACZ3jJ,EAAKwhJ,IAAIoC,OACT5jJ,EAAKwhJ,IAAIqC,cAIT7jJ,EAAK8jJ,IAAM9jJ,EAAK8jJ,QAChB9jJ,EAAK+jJ,QAAUvC,EAEfA,EAAIwC,OACA,0BACA,8BACA,qBACA,wBACA,wBAEA,uBACA,2BACA,uBAEA,2BACA,0BACA,4BACA,oBACA,oBACA,yCAEA,mBACA,oBACA,iBACA,cACA,mBACA,mBACA,gBACA,eACA,iBACA,eAEA,kBACA,kBACA,aACA,iBACA,uBACA,kBACA,kBACA,iBACA,sBACA,mBACA,qBACA,uBACA,mBACA,mBACA,2BACA,8BACA,mBACA,yBACA,oBACA,oBACA,uBAEA,kBACA,0BACA,gBAEA,8BACA,oCACA,oCACA,0CACA,kCACA,4CACA,uCACA,kCACA,yBAEA,0BACA,+BACA,gCACA,gCACA,wCACA,mCACA,8BACA,qBAEA,sBACA,qBACA,4BACA,qBACA,wBAEA,aACA,eACA,kBACA,gBAGA,gBACA,aACA,cAGJxC,EAAI/2I,KAAO,SAASL,GAElB,GAAIohC,GAAQg2G,EAAIh2G,MAAQ,YACxBhrC,GAAEmF,OAAO6lC,EAAMlgC,UAAW/K,SAASu7B,QAEnC0lH,EAAIyC,WACJjkJ,EAAKwhJ,IAAI0C,IAAM,GAAI3jJ,UAAS+7B,MAE5BlyB,GAASA,KAMXo3I,EAAInjI,KAAO,SAASgyC,EAAQjmD,GACxB,GAAIjJ,GAAI,EAEJmjB,EAAO,WACP,GAAI8J,GAASjsB,SAASR,cAAc,SACpCysB,GAAOzG,IAAM0oC,EAASmxF,EAAIwC,MAAM7iJ,GAChCgB,SAASf,KAAKW,YAAYqsB,KACxBjtB,EACCA,GAAKqgJ,EAAIwC,MAAM3/I,OACX+F,IACCgkB,EAAOK,OAASrkB,GAGpBgkB,EAAOK,OAASnK,EAIxBA,SAIR,SAAUoP,EAAS3oB,GACjB2oB,EAAQ87D,SAAWzkF,EAAE8N,KAQrB6a,EAAQ87D,SAAS32E,KAAO,SAASunI,EAAW+D,GAC1C,GAAK/D,EAEL,MAA0BjlH,UAAtBgpH,EACKzwH,EAAQ87D,SAASA,SAAS4wD,EAAW,SAASv4H,GAEnD,MAAOA,KAE6B,kBAAtBs8H,GACTA,EAAkB/D,GAElBA,IAIVoB,IAAIC,KAAMzyI,QAUbwyI,IAAIqC,WAAWO,MAAQ,WAGrB,GAAIC,GAAiB9jJ,SAAS4/B,OAAOx6B,OACjC2+I,EAAc,SAASpmH,EAAQvlB,GAC/B,GAAIoD,GAAS,IACb,IAAmB,MAAf9b,KAAKqiB,OAAgB,CACrB,GAAIiiI,GAAgBtkJ,KAAKqiB,MAMzBriB,MAAKqiB,OAASriB,KAAKqiB,OAAOA,MAC1B,IAAI3J,GAAUhN,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,EAEhDw2I,GAAc94I,eAAeyyB,GAC7BniB,EAASwoI,EAAcrmH,GAAQr7B,MAAM5C,KAAM0Y,IAE3CA,EAAQvK,OAAO,EAAE,EAAG8vB,GACpBniB,EAASwoI,EAAcH,MAAMvhJ,MAAM5C,KAAM0Y,IAE7C1Y,KAAKqiB,OAASiiI,EAElB,MAAOxoI,IAEPpW,EAAS,SAASu+B,EAAYC,GAC9B,GAAIC,GAAQigH,EAAep7I,KAAKhJ,KAAMikC,EAAYC,EAYlD,OAVAC,GAAM94B,UAAUgX,OAASriB,KAAKqL,UAC9B84B,EAAM94B,UAAU84I,MAAQ,SAASlmH,GAC7B,GAAIvlB,GAAUhN,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,EACpD,OAAImwB,IACAvlB,EAAQvK,OAAO,EAAE,EAAG8vB,GACbomH,EAAYzhJ,MAAM5C,KAAM0Y,IAExByrB,EAAM94B,UAAUgX,QAGxB8hB,GAEPogH,EAAW,SAASC,GACtBA,EAAiB9+I,OAASA,EAC1B8+I,EAAiBn5I,UAAU84I,MAAQ,aACnCK,EAAiBn5I,UAAUgX,OAAS,KAEtC,OAAOkiI,MAGThD,IAAIqC,WAAWO,MAAM7jJ,SAAS+7B,OAC9BklH,IAAIqC,WAAWO,MAAM7jJ,SAAS2iC,MAC9Bs+G,IAAIqC,WAAWO,MAAM7jJ,SAAS0+B,YAE1BjwB,OAAOI,OAETJ,OAAOI,MACL0rB,UAAW,SAASzP,GAClB,GAAmB,gBAATA,IAAqC,iBAATA,GACpC,MAAOA,GAAM9f,UACR,IAAmB,gBAAR8f,GAChB,MAAO,IAAMA,EAAM9f,WAAa,GAC3B,IAAG/K,EAAE6E,QAAQgmB,GAAQ,CAC1B,GAAI+mF,GAAM,GACV,KAAI,GAAIpuG,KAAKqnB,GACRrnB,EAAE,IAAGouG,GAAK,MACbA,GAAOhjG,KAAK0rB,UAAUzP,EAAMrnB,GAG9B,OADAouG,IAAO,IAGP,GAAIA,GAAM,GACV,KAAI,GAAIluG,KAAKmnB,GACRA,EAAM5f,eAAevH,KACtBkuG,GAAO,IAAIluG,EAAE,MAAOkL,KAAK0rB,UAAUzP,EAAMnnB,IAI7C,OADAkuG,IAAO,KAKX/iG,MAAO,SAASgc,OACd,MAAOtb,MAAKsb,UAQlB,WAEIq5H,OAASnkJ,SAAS+7B,MAAM32B,QACpBiuB,QAAS,EAEToJ,WAAY,WACV/8B,KAAK0kJ,QAAU,GAAIpkJ,UAAS0+B,WAC5Bh/B,KAAK0kJ,QAAQ7kI,KAAK,MAAO,SAAS2d,GAChCx9B,KAAKwO,QAAQ,gBACbxO,KAAKwO,QAAQ,gBAAkBgvB,EAAMjwB,IAAI,UACxCvN,OAIL2kJ,iBAAkB,gBAClBC,qBAAqB,EAMrBC,iBAAkB,WAChB,GAAIj9H,EASJ,OAPEA,GADE5nB,KAAKuN,IAAI,oBACLvN,KAAKuN,IAAI,oBAAoB7I,QAAQ,SAAU1E,KAAKuN,IAAI,cAExDvN,KAAKuN,IAAI,oBAAsB,MACnCvN,KAAKuN,IAAI,aAAe,IACxBvN,KAAKuN,IAAI,kBAAoB,IAC7BvN,KAAKuN,IAAI,iBAUfu3I,aAAc,SAASr0I,GAErB,MADAA,GAAUA,GAAW,KACdzQ,KAAK6kJ,mBAAqB,QAAUp0I,EAAU,QAQvDs0I,eAAgB,WACd,GAAIn9H,GACAo9H,EAAkBhlJ,KAAKuN,IAAI,oBAI/B,OAHIy3I,KACFp9H,EAAMo9H,EAAgBtgJ,QAAQ,sBAAuB,KAEhDkjB,KAKb25H,IAAI+B,OAAS,GAAImB,QACjBlD,IAAI+B,OAAOjrI,KACT4sI,qBAAsB,uEACtBC,kBAAmB,4BAQzB,WAGI3D,IAAIC,KAAKtyI,MAAQ5O,SAAS+7B,MAAM32B,QAC5BkiB,IAAK25H,IAAI+B,OAAOqB,iBAChB5nH,WAAY,WACR/8B,KAAKqY,KAAK7H,QAASrB,KAAK0rB,UAAU16B,EAAEqQ,cAI5C+wI,IAAIC,KAAK2D,UAAY7kJ,SAAS0+B,WAAWt5B,QACrC83B,MAAO+jH,IAAIC,KAAKtyI,MAChBk2I,YAAa,WACX,GAAIC,GAAct2I,OAAO65C,OACzB75C,QAAO65C,QAAU,SAAS8pC,EAAK9qE,EAAK09H,GAChC/D,IAAIgE,OAAOxlH,QACP2yD,IAAKA,EACL9qE,IAAKA,EACL09H,KAAMA,IAEND,GACFA,EAAYziJ,MAAMmM,OAAQjB,eAMtCyzI,IAAIgE,OAAS,GAAIhE,KAAIC,KAAK2D,UAIvB5D,IAAI+B,OAAOsB,qBACZrD,IAAIgE,OAAOH,aAKb,IAAII,GAAgB,YAKpB,IAJAA,EAAcn6I,UAAU5G,MAAQ,aAChC+gJ,EAAcn6I,UAAU+rC,IAAK,aAGP,mBAAZs9C,SAAyB,CAC/B+wD,SAAW/wD,OACX,KACE+wD,SAASruG,IAAIx0C,MAAM6iJ,UAAW,cAAgB3B,QAAQnwH,UACtD,MAAMryB,GACNmkJ,SAAW,GAAID,QAGjBC,UAAW,GAAID,EAGnBjE,KAAIC,KAAKkE,IAAMplJ,SAAS+7B,MAAM32B,QAE1BjB,MAAO,WACHghJ,SAAShhJ,MAAM7B,MAAM6iJ,SAAU33I,WAC5ByzI,IAAI+B,OAAOsB,qBACZrD,IAAIgE,OAAOxlH,QACP2yD,IAAKhnF,MAAML,UAAUxI,MAAMmG,KAAK8E,WAAWC,KAAK,OAK1DqpC,IAAK,WACDquG,SAASruG,IAAIx0C,MAAM6iJ,SAAU33I,YAGjC63I,KAAM,WACFF,SAASruG,IAAIx0C,MAAM6iJ,SAAU33I,YAGjC83I,MAAO,WACDrE,IAAI0B,OAAOwC,SAASruG,IAAIx0C,MAAM6iJ,SAAU33I,iBAMtDyzI,IAAInqG,IAAM,GAAImqG,KAAIC,KAAKkE,KAAKhI,IAAK,QA+BjC,SAAUjqH,GAGV,QAASoyH,MAwDT,QAASC,GAAOhvI,GACd9W,KAAK81F,GAAK,KACV91F,KAAK8W,KAAOA,EACZ9W,KAAK0mE,MAAQ,EA5Df,GAAIq/E,GAAc,IAElBF,GAASG,WACTH,EAASI,SAAW,KAEpBJ,EAASt4I,IAAM,SAASuJ,GACtB,MAAO+uI,GAASG,QAAQlvI,KACtB7G,IAAK,EACL2kB,IAAK6F,OAAO02E,UACZ+0C,IAAK,EACLC,MAAO,EACPz/E,MAAO,EACP74D,KAAM,EACN4yB,QAAkC,mBAAnB,cAAiC,GAAI2lH,cAAaL,QAIrEF,EAASQ,QAAU,SAAU9lJ,GAC3BslJ,EAASI,SAAW1lJ,GAGtBslJ,EAASS,UAAY,SAAUxvI,EAAMhP,EAAOxC,EAAMixB,GAChDjxB,EAAQA,GAAQ,GAChB,IAAIqF,GAAIk7I,EAASG,QAAQlvI,GAAQ+uI,EAASt4I,IAAIuJ,EAU9C,IAPAnM,EAAEsF,IAAMD,KAAKC,IAAItF,EAAEsF,IAAKnI,GACxB6C,EAAEiqB,IAAM5kB,KAAK4kB,IAAIjqB,EAAEiqB,IAAK9sB,GACxB6C,EAAEw7I,OAASr+I,IACT6C,EAAE+7D,MACJ/7D,EAAEu7I,IAAMv7I,EAAEw7I,MAAQx7I,EAAE+7D,MACpB/7D,EAAE81B,QAAQ91B,EAAE+7D,MAAMq/E,GAAej+I,EAE5ByuB,EAEE,CACL,GAAIxyB,IAAI,GAAIsM,OAAOC,SAEfvM,GAAI4G,EAAEkD,KAAO,MACfg4I,EAASI,UAAYJ,EAASI,UAAU3gJ,EAAMwR,EAAMnM,EAAEu7I,MACtDv7I,EAAEkD,KAAO9J,OANX8hJ,GAASI,UAAYJ,EAASI,UAAU3gJ,EAAMwR,EAAMhP,KAWxD+9I,EAASU,YAAc,WACrB,IAAKliJ,IAAKwhJ,GAASG,QAAS,CAC1B,GAAIr7I,GAAIk7I,EAASG,QAAQ3hJ,EACzBqwF,SAAQt9C,IAAI,QAAU/yC,EAAI,SAC1BqwF,QAAQt9C,IAAI,SAAWzsC,EAAEsF,KACzBykF,QAAQt9C,IAAI,SAAWzsC,EAAEiqB,KACzB8/D,QAAQt9C,IAAI,SAAWzsC,EAAEu7I,KACzBxxD,QAAQt9C,IAAI,WAAazsC,EAAE+7D,OAC3BguB,QAAQt9C,IAAI,WAAazsC,EAAEw7I,SAU/BL,EAAOz6I,WAKLimB,MAAO,WAEL,MADAtxB,MAAK81F,IAAM,GAAIzlF,MACRrQ,MAITwmJ,SAAU,WACR,OAAQ,GAAIn2I,MAASrQ,KAAK81F,IAQ5B7nF,IAAK,SAASsoB,GACI,OAAZv2B,KAAK81F,KACP+vD,EAASS,UAAUtmJ,KAAK8W,KAAM9W,KAAKwmJ,WAAY,IAAKjwH,GACpDv2B,KAAK81F,GAAK,OAQd2wD,IAAK,SAASC,GACZA,EAAcxrH,SAARwrH,EAAoB,EAAGA,EAC7Bb,EAASS,UAAUtmJ,KAAK8W,KAAM4vI,EAAK,MAOrCC,IAAK,SAASD,GACZA,EAAcxrH,SAARwrH,EAAoB,EAAGA,EAC7Bb,EAASS,UAAUtmJ,KAAK8W,KAAM4vI,EAAK,MAMrCtK,KAAM,WAEJ,KADEp8I,KAAK0mE,MACQ,OAAZ1mE,KAAK81F,GAEN,WADA91F,MAAKsxB,OAGP,IAAIqwC,GAAU3hE,KAAKwmJ,UAChB7kF,GAAU,IACXkkF,EAASS,UAAUtmJ,KAAK8W,KAAM9W,KAAK0mE,OACnC1mE,KAAK0mE,MAAQ,EACb1mE,KAAKsxB,WAKXu0H,EAASt3E,OAAS,SAASz3D,GACzB,MAAO,IAAIgvI,GAAOhvI,IAGpB2c,EAAQoyH,SAAWA,GAEhBtE,IAAIC,MAmBPD,IAAIC,KAAKoF,SAAWtmJ,SAAS+7B,MAAM32B,QAEjCq3B,WAAY,WACV/8B,KAAK6f,KAAK,SAAU7f,KAAK6mJ,aACzB7mJ,KAAK6mJ,eAGPj/H,IAAK,WACH,MAAO5nB,MAAKuN,IAAI,iBAGlB6B,MAAO,SAAS5G,GACd,OACEywB,SAAYzwB,IAIhBq+I,YAAa,WACX7mJ,KAAK8mJ,SAAW,KACb9mJ,KAAKuN,IAAI,iBACVvN,KAAKu9B,SAITwpH,QAAS,WACP,GAAIC,GAAYhnJ,KAAKuN,IAAI,SAAW,aAChChD,EAAKg3I,IAAIC,KAAKoF,SAASK,UAAUD,EACrC,OAAGz8I,GACMA,EAAGvK,KAAKuN,IAAI,cAEnBg0I,IAAInqG,IAAI3yC,MAAM,0BAA4BuiJ,GAErC,OAMTvjH,OAAQ,SAASyjH,GACf,GAAIhmJ,GAAIlB,KAAK8mJ,SAAW9mJ,KAAK8mJ,UAAY9mJ,KAAKuN,IAAI,aAAevN,KAAK+mJ,UAClEI,EAAWjmJ,EAAEgmJ,EACjB,OAAOC,IAGTC,WAAY,WACV,MAAO7mJ,GAAEsf,KAAK7f,KAAKyjC,OAAQzjC,SAI7BinJ,WACEI,WAAc9mJ,EAAE04B,SAChB+L,SAAiC,mBAAf,UAChB,KAEA,SAAiB/L,GAEf,MADA54B,UAAS+O,MAAM6pB,GACR,SAAU0O,EAAMQ,GACrB,MAAO9nC,UAASojC,OAAOxK,EAAU0O,EAAMQ,MAI/C4+G,QAAS,SAASO,EAAMhiJ,GACtB,GAAIqF,GAAI,GAAI42I,KAAIC,KAAKoF,UACnB3tH,SAAUquH,EACVhiJ,KAAMA,GAAQ,cAEhB,OAAO/E,GAAEsf,KAAKlV,EAAE84B,OAAQ94B,MAK5B42I,IAAIC,KAAK+F,aAAejnJ,SAAS0+B,WAAWt5B,QAE1C83B,MAAO+jH,IAAIC,KAAKoF,SAEhBY,YAAa,SAASC,GAEhBznJ,KAAKgb,YACPysI,EAAgBznJ,KAAKgb,UAAYysI,EAGnC,IAAI98I,GAAI3K,KAAKkN,KAAK,SAASvC,GACvB,MAAOA,GAAE4C,IAAI,UAAYk6I,GAG7B,OAAG98I,GACMpK,EAAEsf,KAAKlV,EAAE84B,OAAQ94B,IAG1B42I,IAAInqG,IAAI3yC,MAAMgjJ,EAAgB,cAEvB,SAOXlG,IAAImG,UAAY,GAAInG,KAAIC,KAAK+F,aAO7BhG,IAAIyC,SAAW,WACa9oH,eAAhBnsB,QAAU,KAClBwyI,IAAImG,UAAU9kI,MACZriB,EAAEsjJ,KAAK71I,IAAI,SAASs5I,EAAMxwI,GACxB,OAASA,KAAMA,EAAMgwI,SAAUQ,OAMvC,WAEE/F,IAAIoG,gBAAiB,SAAS3jJ,GAC5B,GAAI4jJ,GAAY5jJ,EAAEk4B,UAClB,KAAI,GAAI/3B,KAAKyjJ,GAAW,CACtB,GAAI5rH,GAAO4rH,EAAUzjJ,EACrBuwF,SAAQt9C,IAAI,MAAOjzC,EAEnB,KADA,GAAI8J,GAAM+tB,EAAKzG,MACPyG,EAAOA,EAAK3X,QAAUpW,GAC5BymF,QAAQt9C,IAAI,SAAUpb,EAAK5vB,QAAU4vB,EAAK5vB,SAAW4vB,EAAK5vB,QAAQw3B,IAAO,SAUnE29G,KAAIC,KAAKnlH,MAAQ/7B,SAAS+7B,MAAM32B,QAE1Cq3B,WAAY,SAASrkB,GAEnB,MADAnY,GAAE61B,QAAQp2B,KAAM,QAAU,OAAQ,aAC3BM,SAAS+7B,MAAMhxB,UAAU0xB,WAAW/zB,KAAKhJ,KAAM0Y,IAQxD6kB,MAAO,SAASnB,GACd,GAAI2M,GAAO/oC,IAEXA,MAAKwO,QAAQ,oBACbrO,EAAEsS,KAAKzS,KAAKmkJ,MAAM,QAAS/nH,IAAOrqB,KAAK,SAAS8mF,GAC9C9vD,EAAKv6B,QAAQ,qBAAsBqqF,KAGlC7mF,KAAK,SAAS6mF,GACf9vD,EAAKv6B,QAAQ,kBAAmBqqF,MAQpCgvD,eAAgB,SAASp7I,GACvBzM,KAAKg9B,YAAcvwB,GAUrBq7I,UAAW,SAASjvD,EAAItvD,EAAKw+G,GACvBA,IACFA,EAAclvD,EAEhB,IAAI9vD,GAAO/oC,IACXupC,GAAI1pB,MAAQ0pB,EAAI1pB,KAAKg5E,EAAI,WACvB9vD,EAAKv6B,QAAQu5I,IACZh/G,IAYLnL,KAAM,SAASoqH,EAAMC,GACnB,GAAIl/G,GAAO/oC,IACPioJ,IAASA,EAAKprH,QAAQ78B,KAAKwO,QAAQ,SACvC,IAAIgE,GAAUlS,SAAS+7B,MAAMhxB,UAAUuyB,KAAKh7B,MAAM5C,KAAM8N,UAMxD,OALA3N,GAAEsS,KAAKD,GAAST,KAAK,WACfk2I,GAASA,EAAKprH,QAAQkM,EAAKv6B,QAAQ,WACtCwD,KAAK,WACFi2I,GAASA,EAAKprH,QAAQkM,EAAKv6B,QAAQ,iBAElCgE,QAIb,WAME,GAAIywB,GAAOs+G,IAAIC,KAAKv+G,KAAO3iC,SAAS2iC,KAAKv9B,QACvCwiJ,WAAY,gBACZ/7I,YAAa,SAASuM,GACpB1Y,KAAKmoJ,WACLnoJ,KAAKooJ,aACL9nJ,SAAS2iC,KAAKj6B,KAAKhJ,KAAM0Y,GACzBuqB,EAAKolH,YACLplH,EAAKqlH,MAAMtoJ,KAAKy8B,KAAOz8B,KACvBA,KAAKuoJ,YAAc,GAAIl4I,MACvBkxI,IAAIC,KAAKqE,SAASS,UAAU,cAAerjH,EAAKolH,YAGlDG,kBAAmB,SAAS1kJ,GAC1B,IAAIA,EAAG,KAAM,uBACb9D,MAAKmoJ,QAAQx8I,KAAK7H,IAGpB2kJ,QAAS,SAAS59I,GAChB7K,KAAKooJ,UAAUv9I,EAAE4xB,KAAO5xB,EACxBA,EAAE81I,QAAU3gJ,MAGd0oJ,WAAY,SAAS79I,SACZ7K,MAAKooJ,UAAUv9I,EAAE4xB,MAG1BksH,cAAe,WACbpoJ,EAAEP,KAAKooJ,WAAW3lJ,KAAK,SAASoI,GAC9BA,EAAEyc,UAEJtnB,KAAKooJ,cAQP9gI,MAAO,WACL,GAAIyhB,GAAO/oC,IAmBX,OAlBAA,MAAKwO,QAAQ,SACbxO,KAAK2oJ,gBAEF3oJ,KAAK2gJ,UACN3gJ,KAAK2gJ,QAAQ+H,WAAW1oJ,MACxBA,KAAK2gJ,QAAU,MAEjB3gJ,KAAKwB,SACLxB,KAAK8f,SAED9f,KAAKw9B,OAASx9B,KAAKw9B,MAAM1d,QAAQ9f,KAAKw9B,MAAM1d,OAAO,KAAM,KAAM9f,MAEnEO,EAAEP,KAAKmoJ,SAAS1lJ,KAAK,SAASqB,GAC5BA,EAAEgc,OAAO,KAAM,KAAMipB,KAEvB/oC,KAAKmoJ,WACLllH,EAAKolH,kBACEplH,GAAKqlH,MAAMtoJ,KAAKy8B,KAChBz8B,MAOTwnJ,YAAa,SAASF,GACpB,MAAGtnJ,MAAK0Y,QAAQugB,SACN14B,EAAE04B,SAASj5B,KAAK0Y,QAAQugB,UAE3BsoH,IAAImG,UAAUF,YAAYF,IAGnC/3H,KAAM,WACFvvB,KAAKwjC,IAAIjU,QAGbE,KAAM,WACFzvB,KAAKwjC,IAAI/T,QAUbq4H,UAAW,SAASjvD,EAAItvD,EAAKw+G,GACvBA,IACFA,EAAclvD,EAEhB,IAAI9vD,GAAO/oC,IACXupC,GAAI1pB,MAAQ0pB,EAAI1pB,KAAKg5E,EAAI,WACvB9vD,EAAKv6B,QAAQu5I,IACZh/G,GAEH/oC,KAAKwoJ,kBAAkBj/G,IAOzBq/G,UAAW,SAAS/vD,GACfA,GAAMA,EAAG38E,gBACV28E,EAAG38E,iBAEF28E,GAAMA,EAAGh8E,iBACVg8E,EAAGh8E,mBAQPgsI,cAAe,WACb7oJ,KAAKG,EAAE,UAAUqB,YAOnB6mJ,UAAW,EACXC,SAWAQ,aAAc,SAASC,GACrB,MAAO,YACL,MAAOxoJ,GAAEmF,OAAOqjJ,EAAW/oJ,KAAKmM,YAAY24B,UAAU18B,UAO1D4gJ,WAAY,WACVzoJ,EAAEkC,KAAK8+I,IAAIC,KAAKv+G,KAAKqlH,MAAO,SAAS3gH,GACnCpnC,EAAEkC,KAAKklC,EAAM,SAAS/vB,EAAMvT,GAChB,YAANA,GACAsjC,EAAKn8B,eAAenH,IACpBuT,YAAgB2pI,KAAIC,KAAKv+G,MACI/H,SAA7ByM,EAAKygH,UAAUxwI,EAAK6kB,OACtBi4D,QAAQt9C,IAAI,aACZs9C,QAAQt9C,IAAI,oBACZs9C,QAAQt9C,IAAIx/B,EAAKgsB,IACjB8wD,QAAQt9C,IAAI,UACZs9C,QAAQt9C,IAAIzP,EAAK/D,IACjB8wD,QAAQt9C,IAAI,eAQxB,IAAI6xG,QAAS1H,IAAIoC,IAAIsF,OAAS1H,IAAIC,KAAKyH,QAErC9xI,SACA0mB,QAAS3C,OACTguH,QAAS,KACT76H,KAAM,KAEN86H,WAAY,SAASzhI,GACjB,GAAIyG,GAASjsB,SAASR,cAAc,SAYpC,OAXAysB,GAAO7oB,KAAO,kBACd6oB,EAAOzG,IAAMA,EACbyG,EAAO1e,OAAQ,EACVw5I,OAAO56H,OACV46H,OAAO56H,KAAOnsB,SAAS+E,qBAAqB,QAAQ,IAItDhE,WAAW,WACTgmJ,OAAO56H,KAAKvsB,YAAYqsB,IACvB,GACIA,GAGX5gB,IAAK,SAASqa,EAAKkU,GACZmtH,OAAOC,QAIVD,OAAO9xI,MAAMxL,MAAMic,EAAKkU,KAHxBmtH,OAAOprH,QAAU/B,EACjBmtH,OAAOC,QAAUD,OAAOE,WAAWvhI,IAAQA,EAAI3b,QAAQ,KAAO,IAAM,KAAO,sBAM/EqgI,QAAS,SAAS7pH,GAChB,GAAIupC,GAAU9pD,SAAS+E,qBAAqB,UACxCmiJ,EAAc,uCAClB,KAAKjlJ,EAAI,EAAGklC,IAAM2iB,EAAQ5nD,OAAQD,EAAIklC,IAAKllC,IAIzC,GAHAujB,IAAMskC,EAAQ7nD,GAAGujB,IACjBjL,QAAUiL,IAAIlH,MAAM4oI,GAEhB3sI,QAAS,CACX,GAAI4sI,GAAO3hI,IAAIljB,MAAM,IAErB,cADO6kJ,GAAKA,EAAKjlJ,OAAS,GACnBilJ,EAAKt7I,KAAK,KAAO0U,EAG5B,MAAO,OAGT6mI,WAAY,SAAS3vB,GACnB,GAAIl3G,GAAO,eAAiBk3G,GAAWmqB,QAAQb,MAAQ,mBAAqB,OACxEv7H,EAAM1nB,KAAKssI,QAAQ7pH,EAClBiF,IACHo8H,QAAQ1sG,IAAI3yC,MAAM,8BAEpBwkJ,OAAOE,WAAWzhI,IAItB3Y,QAAOw6I,QAAU,SAAS/gJ,GACxBygJ,OAAOprH,SAAWorH,OAAOprH,QAAQr1B,GAEjCygJ,OAAO56H,KAAK9rB,YAAY0mJ,OAAOC,SAC/BD,OAAOC,QAAU,IAEjB,IAAI1oJ,GAAIyoJ,OAAO9xI,MAAMrS,OACjBtE,IACFyoJ,OAAO17I,IAAI/M,EAAE,GAAIA,EAAE,KAIvB+gJ,IAAIC,KAAKC,QAETF,IAAIC,KAAKC,KAAKC,gBAAkB,WAC9B,MAAO,mBAAqB,IAAIp+I,iBAGlCi+I,IAAIC,KAAKC,KAAK+H,UAAY,SAASC,GAEjC,IAAI,GADAC,MACIvlJ,EAAI,EAAGA,EAAIslJ,EAAQrlJ,SAAUD,EACnCulJ,EAAQ/9I,KAAKG,OAAOkhF,aAAay8D,EAAQtlJ,GAAK,KAEhD,OAAOo9I,KAAIC,KAAKC,KAAKkI,KAAKD,EAAQ37I,KAAK,MAGzCwzI,IAAIC,KAAKC,KAAKkI,KAAO,SAASnhJ,GAC5B,MAA6B,kBAAlBuG,QAAa,KACfwyI,IAAIC,KAAKC,KAAKmI,mBAAmBphJ,GAGnC+4I,IAAIC,KAAKC,KAAKoI,aAAarhJ,IAGpC+4I,IAAIC,KAAKC,KAAKmI,mBAAqB,SAAU/mI,GAC3C,MAAO8mI,MAAK9mI,IAKd0+H,IAAIC,KAAKC,KAAKoI,aAAe,SAAUrhJ,GACrC,GACIshJ,GAAIC,EAAIC,EAAI3/D,EAAIC,EAAIC,EAAIC,EAAI6+D,EAD5BY,EAAM,oEAC4B9lJ,EAAI,EACxC+lJ,EAAK,EACLr2D,EAAM,GACNs2D,IAEF,KAAK3hJ,EACH,MAAOA,EAGT,GACEshJ,GAAKthJ,EAAKkxB,WAAWv1B,KACrB4lJ,EAAKvhJ,EAAKkxB,WAAWv1B,KACrB6lJ,EAAKxhJ,EAAKkxB,WAAWv1B,KAErBklJ,EAAOS,GAAM,GAAKC,GAAM,EAAIC,EAE5B3/D,EAAKg/D,GAAQ,GAAK,GAClB/+D,EAAK++D,GAAQ,GAAK,GAClB9+D,EAAK8+D,GAAQ,EAAI,GACjB7+D,EAAY,GAAP6+D,EAGLc,EAAQD,KAAQD,EAAI39I,OAAO+9E,GAAM4/D,EAAI39I,OAAOg+E,GAAM2/D,EAAI39I,OAAOi+E,GAAM0/D,EAAI39I,OAAOk+E,SACvErmF,EAAIqE,EAAKpE,OAElByvF,GAAMs2D,EAAQp8I,KAAK,GAEnB,IAAIrD,GAAIlC,EAAKpE,OAAS,CACtB,QAAQsG,EAAImpF,EAAIhxF,MAAM,EAAG6H,EAAI,GAAKmpF,GAAO,MAAMhxF,MAAM6H,GAAK,IAG5D62I,IAAIC,KAAKC,KAAK2I,mBAAqB,SAASzwH,GAG1C,MAFA4nH,KAAIC,KAAKC,KAAK4I,YAAc9I,IAAIC,KAAKC,KAAK4I,aAAe,IACvD9I,IAAIC,KAAKC,KAAK4I,YACT9I,IAAIC,KAAKC,KAAK6I,MAAM3wH,GAAO,IAAM4nH,IAAIC,KAAKC,KAAK4I,aAGxD9I,IAAIC,KAAKC,KAAK6I,MAAQ,SAAS3wH,GAI7B,IAAK,GAHD4wH,GAAWhJ,IAAIC,KAAKC,KAAK+I,YAAcjJ,IAAIC,KAAKC,KAAK+I,UAAYjJ,IAAIC,KAAKC,KAAKgJ,iBAC/EC,GAAM,EAEDvmJ,EAAI,EAAGN,EAAI81B,EAAIv1B,OAAQD,EAAIN,IAAKM,EACvCumJ,EAAOA,IAAQ,EAAKH,EAAqC,KAA3BG,EAAM/wH,EAAID,WAAWv1B,IAGrD,QAAQumJ,GAAM,KAAU,GAG1BnJ,IAAIC,KAAKC,KAAKgJ,cAAgB,WAG5B,IAAI,GAFAvpJ,GACAqpJ,KACIxmJ,EAAI,EAAGA,EAAI,MAAOA,EAAE,CAC1B7C,EAAI6C,CACJ,KAAI,GAAIM,GAAI,EAAGA,EAAI,IAAKA,EACpBnD,EAAQ,EAAFA,EAAQ,WAAcA,IAAM,EAAOA,IAAM,CAEnDqpJ,GAASxmJ,GAAK7C,EAEhB,MAAOqpJ,IAGThJ,IAAIC,KAAKC,KAAKkJ,cAAgB,SAAS39G,GAGrC,QAAS49G,KACP,GAAIC,GAAO79G,EAAG/gC,QAAQ,SAClB6+I,EAAU99G,EAAG/gC,QAAQ,WACzB,OAAI4+I,IAAO,GAAMC,GAAU,EAI7B,QAASC,KACP,MAAK7oJ,UAASiS,WACTpF,OAAOzL,eACPpB,SAAS8oJ,cACT9oJ,SAAS0M,iBACTG,OAAOk8I,KACR/oJ,SAASgyB,IAAY,GACb,GAFa,EADc,EADH,EADD,EADF,EAVnC,GAAI1jB,KA4BJ,OA3BAw8B,GAAKA,GAAMj+B,OAAOjF,UAAUoB,UAkBzB0/I,IACDp6I,EAAQs8B,IAAMr8B,QAASs6I,KAGjB/9G,EAAG/gC,QAAQ,UAAW,EAAIuE,EAAQkrD,KAAO1uB,EACzCA,EAAG/gC,QAAQ,WAAY,EAAIuE,EAAQy8B,OAASD,EAC5CA,EAAG/gC,QAAQ,YAAa,EAAIuE,EAAQ06I,QAAUl+G,EAC9CA,EAAG/gC,QAAQ,UAAW,EAAIuE,EAAQw+B,MAAQhC,EAC1CA,EAAG/gC,QAAQ,WAAY,IAAIuE,EAAQK,OAASm8B,GAC7Cx8B,GAGT+wI,IAAIC,KAAKC,KAAKjxI,QAAU+wI,IAAIC,KAAKC,KAAKkJ,gBAWtCpJ,IAAIgC,IAAIE,SAAS0H,OAEf53H,MACE63H,OAAQ,oEAGVC,QAAS,SAAS/hE,EAASxtD,GACzBwtD,EAAUA,EAAQ/kF,cACfG,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,IAEd,IAAI+9B,GAAW,EACZ14B,UAAS04B,SAASx2B,QAAQ,WAAY,IACvCw2B,EAAW,SAGbtiC,EAAE0rB,QAAQ4W,EAAW,yCAAyC3U,mBAAmB,sEAAwEw7D,EAAU,UAAYtpF,KAAKuzB,KAAK63H,OAAS,cAAgB,0BAA2B,SAAS5iJ,GAEnP,GAAIk2D,KACJ,IAAIl2D,GAAQA,EAAK0/H,OAAS1/H,EAAK0/H,MAAMojB,SAAW9iJ,EAAK0/H,MAAMojB,QAAQl/H,MAAQ5jB,EAAK0/H,MAAMojB,QAAQl/H,KAAKm/H,WAAwD,KAA3C/iJ,EAAK0/H,MAAMojB,QAAQl/H,KAAKm/H,UAAUC,MAAc,CAG/J,GAAIr5C,EAGFA,GADE5xG,EAAE6E,QAAQoD,EAAK0/H,MAAMojB,QAAQl/H,KAAKm/H,UAAUE,SACxCjjJ,EAAK0/H,MAAMojB,QAAQl/H,KAAKm/H,UAAUE,SAEjCjjJ,EAAK0/H,MAAMojB,QAAQl/H,KAAKm/H,UAAUE,QAG3C,KAAI,GAAItnJ,KAAKguG,GAAK,CAChB,GACAt8F,GADInL,EAAIynG,EAAIhuG,EAGZ0R,IACEq+B,IAAKxpC,EAAEqqE,SACP3/B,IAAK1qC,EAAEsqE,WAGLtqE,EAAEghJ,cACJ71I,EAAS61I,YAAchhJ,EAAEghJ,aAG3BhtF,EAAY/yD,KAAKkK,IAIrBimB,EAAS4iC,OAKjB6iF,IAAIgC,IAAIE,SAASkI,QACfp4H,MACE63H,OAAS,kBAGXC,QAAS,SAAS/hE,EAASxtD,GACzBwtD,EAAUA,EAAQ/kF,cACfG,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,IAEhB,IAAI+9B,GAAW,EACZ14B,UAAS04B,SAASx2B,QAAQ,WAAY,IACvCw2B,EAAW,SAGbtiC,EAAE0rB,QAAQ4W,EAAW,sCAAwC3U,mBAAmBw7D,GAAW,YAActpF,KAAKuzB,KAAK63H,OAAQ,SAAS5iJ,GAEpI,GAAIk2D,KACJ,IAAIl2D,GAAQA,EAAK+1D,UAAY/1D,EAAK+1D,SAASn6D,OAAS,EAAG,CACrD,GAAI+tG,GAAM3pG,EAAK+1D,QACf,KAAK,GAAIp6D,KAAKguG,GAAI,CAChB,GACAt8F,GADInL,EAAIynG,EAAIhuG,EAEZ0R,IACEq+B,IAAKxpC,EAAE+zD,SAASC,YAAY,GAC5BtpB,IAAK1qC,EAAE+zD,SAASC,YAAY,IAE3Bh0D,EAAE20D,WAAWtjB,QACdlmC,EAASvQ,KAAOoF,EAAE20D,WAAWtjB,OAG5BrxC,EAAE20D,WAAWgS,QACdx7D,EAAS2sB,MAAQ93B,EAAE20D,WAAWgS,OAGhC3S,EAAY/yD,KAAKkK,IAGjBimB,GACFA,EAAS9yB,KAAKhJ,KAAM0+D,OAO1B6iF,IAAIgC,IAAIE,SAASmI,OAEfr4H,MACE63H,OAAU,uBACVS,SAAU,0BAGZR,QAAS,SAAS/hE,EAASxtD,GACzBwtD,EAAUA,EAAQ/kF,cACfG,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,KACbA,QAAQ,KAAK,IAEd,IAAI+9B,GAAW,EACZ14B,UAAS04B,SAASx2B,QAAQ,WAAY,IACvCw2B,EAAW,SAGbtiC,EAAE0rB,QAAQ4W,EAAW,uDAAyD3U,mBAAmBw7D,GAAW,WAAatpF,KAAKuzB,KAAK63H,OAAS,aAAeprJ,KAAKuzB,KAAKs4H,SAAW,2CAA4C,SAASrjJ,GAElO,GAAIk2D,KACJ,IAAIl2D,GAAQA,EAAK8iJ,SAAW9iJ,EAAK8iJ,QAAQxpC,OAASt5G,EAAK8iJ,QAAQxpC,MAAM19G,OAAS,EAAG,CAEhF,GAAI+tG,GAAM3pG,EAAK8iJ,QAAQxpC,KAEvB,KAAI,GAAI39G,KAAKguG,GAAK,CAChB,GACAt8F,GADInL,EAAIynG,EAAIhuG,EAGZ0R,IACEq+B,IAAKxpC,EAAEmL,SAAS,GAChBu/B,IAAK1qC,EAAEmL,SAAS,IAGdnL,EAAEm/C,OACJh0C,EAAS61I,aACPI,MAAOphJ,EAAEm/C,KAAK,GACdkiG,MAAOrhJ,EAAEm/C,KAAK,GACdmiG,KAAMthJ,EAAEm/C,KAAK,GACboiG,KAAMvhJ,EAAEm/C,KAAK,KAGbn/C,EAAEwhJ,WACJr2I,EAASvQ,KAAOoF,EAAEwhJ,SAASj/I,IAEzBvC,EAAE83B,QACJ3sB,EAAS2sB,MAAQ93B,EAAE83B,OAErBk8B,EAAY/yD,KAAKkK,IAIjBimB,GACFA,EAAS9yB,KAAKhJ,KAAM0+D,OAU9B6iF,IAAIgC,IAAI4I,SAAW5K,IAAIC,KAAKnlH,MAAM32B,QAChC0mJ,QAAS,WACP,GAAI9mJ,GAAOtF,KAAKuN,IAAI,WAAWjI,IAC/B,UAAGA,GAA+B,UAAvBA,EAAKf,kBAMpBg9I,IAAIgC,IAAI8I,WAAa/rJ,SAAS0+B,WAAWt5B,WAQzCnF,EAAEmF,OAAO86I,aAAan1I,UAAW/K,SAASu7B,QAExCywH,KAAM,WACJ,KAAM,IAAIp9I,OAAM,wBAWpBqyI,IAAIgC,IAAIgJ,SAAWhL,IAAIC,KAAKnlH,MAAM32B,QAEhCsxB,UACElN,SAAS,EACTxkB,KAAM,SAQR+xB,QAAS,SAAS0kB,GAChB,GAAIywG,GAAcxsJ,KAAK2W,SACnB+9B,EAAcqH,EAAMplC,SAEpB81I,GAAe,KAAM,QAGzBlsJ,GAAEkC,KAAKgqJ,EAAY,SAASrhI,SACnBohI,GAAGphI,SACHspB,GAAMtpB,GACTohI,EAAG9zI,eAAoB8zI,GAAG9zI,QAAQ0S,GAClCspB,EAAMh8B,eAAiBg8B,GAAMh8B,QAAQ0S,IAG3C,IAAIshI,GAAUF,EAAGlnJ,KAAMknJ,EAAGlnJ,KAAOknJ,EAAG9zI,QAAQpT,KACxCqnJ,EAAUj4G,EAAMpvC,KAAMovC,EAAMpvC,KAAOovC,EAAMh8B,QAAQpT,IAErD,IAAGonJ,GAAWA,IAAWC,EAAU,CAEjC,GAAc,UAAXD,EAAoB,CACrB,GAAIE,GAAcJ,EAAGK,YAAaL,EAAGK,YAAcL,EAAG9zI,QAAQm0I,YAC1DC,EAAcp4G,EAAMm4G,YAAan4G,EAAMm4G,YAAcn4G,EAAMh8B,QAAQm0I,YACnEE,EAASP,EAAG11I,KAAM01I,EAAG11I,KAAO01I,EAAG9zI,QAAQ5B,KACvCk2I,EAAUt4G,EAAM59B,KAAM49B,EAAM59B,KAAO49B,EAAMh8B,QAAQ5B,IAErD,OAAO81I,KAAeE,GAAeC,IAAWC,EAC3C,GAAc,QAAXN,EAAkB,CAC1B,GAAIE,GAAcJ,EAAGK,YAAaL,EAAGK,YAAcL,EAAG9zI,QAAQm0I,YAC1DC,EAAcp4G,EAAMm4G,YAAan4G,EAAMm4G,YAAcn4G,EAAMh8B,QAAQm0I,YACnEI,EAAWT,EAAG/yG,OAAQ+yG,EAAG/yG,OAAS+yG,EAAG9zI,QAAQ+gC,OAC7CyzG,EAAWx4G,EAAM+E,OAAQ/E,EAAM+E,OAAS/E,EAAMh8B,QAAQ+gC,MAC1D,OAAOmzG,KAAeE,GAAeG,IAAYC,EAE9C,GAAe,WAAXR,EACP,MAAOnL,KAAIgC,IAAI4J,YAAY9hJ,UAAUgsB,QAAQruB,KAAKhJ,KAAM+7C,EAErD,IAAe,cAAX2wG,EACP,MAAOnL,KAAIgC,IAAI6J,qBAAqB/hJ,UAAUgsB,QAAQruB,KAAKhJ,KAAM+7C,EAEjE,IAAIsxG,GAAab,EAAGc,UAAWd,EAAGc,UAAYd,EAAG9zI,QAAQ40I,SACvC54G,GAAM44G,UAAW54G,EAAM44G,UAAY54G,EAAMh8B,QAAQ40I,SACnE,QAAGD,KACE9sJ,EAAE82B,QAAQm1H,EAAG93G,GAUtB,OAAO,KAKX6sG,IAAIgC,IAAIpnG,UAAYolG,IAAIgC,IAAIgJ,SAAS7mJ,QACnC6nJ,aAAc,eAIhBhM,IAAIgC,IAAIiK,eAAiBjM,IAAIgC,IAAIgJ,SAAS7mJ,QACxC+nJ,SAAU,UAAW,YAAa,UAAW,UAC7Cz2H,UACE1xB,KAAM,YACNgoJ,UAAW,eACX/mJ,MAAO,QAOXg7I,IAAIgC,IAAImK,SAAWnM,IAAIgC,IAAIgJ,SAAS7mJ,QAClCsxB,UACEoyB,QAAS,MACTC,QAAS,SACT54C,QAAS,QACTgpC,OAAQ,GACR6P,OAAQ,GACRC,OAAQ,aACRC,aAAa,KAOjB+3F,IAAIgC,IAAIoK,WAAapM,IAAIgC,IAAIgJ,SAAS7mJ,QACpCsxB,UACE1xB,KAAM,QACNgoJ,UAAW,QACXh6I,UAAW,QACXggD,MAAO,UACP3wC,MAAO,MAIX4+H,IAAIgC,IAAI4J,YAAc5L,IAAIgC,IAAIgJ,SAAS7mJ,QACrCsxB,UACE1xB,KAAM,SACNwkB,SAAS,GAGXuN,QAAS,SAASqd,GAChB,GAAI2qB,IAAc,QAAS,gBAAiB,YACxCt2B,EAAO/oC,IACX,OAAOA,MAAKuN,IAAI,UAAYmnC,EAAMnnC,IAAI,SAAWhN,EAAE6yB,MAAMisC,EAAY,SAASp7D,GAC5E,MAAOywC,GAAMnnC,IAAItJ,KAAO8kC,EAAKx7B,IAAItJ,QAMvCs9I,IAAIgC,IAAIqK,aAAerM,IAAIgC,IAAIgJ,SAAS7mJ,QAEtCsxB,UACEgtB,YAAau9F,IAAI+B,OAAO/1I,IAAI,wBAC5BjI,KAAM,UACN6nB,QAAQ,EACR+6G,MAAO,KACPj1H,QAAS,IACT46I,cAAe,KACf/2D,aAAa,EACb8uD,OAAO,EACPkI,aAAc,YACdC,WAAY,KACZC,eAAgB,OAChBC,eAAgB,YAChBC,aAAc,KACdC,iBAAkB,OAClBC;AACAC,QAAS,KACThzG,QAAS,IAGXizG,SAAU,WACRtuJ,KAAKqY,KAAK8U,QAAQ,EAAMla,QAAS,IAAM6W,SAAS,KAGlDykI,WAAY,WACVvuJ,KAAKqY,KAAK8U,QAAQ,EAAOla,QAAS,EAAG6W,SAAS,KAMhD0kI,WAAY,WACV,GAAIltJ,GAAItB,KAAKuN,IAAI,iBAAmBjM,CACpCA,GAAEmtJ,cAAe,GAAIp+I,OAAOC,UAC5BtQ,KAAKqY,IAAI,eAAgB/W,GACzBtB,KAAKwO,QAAQ,SAAUxO,OAGzBmgB,OAAQ,WACHngB,KAAKuN,IAAI,UACVvN,KAAKuuJ,aAELvuJ,KAAKsuJ,cASX/M,IAAIgC,IAAImL,kBAAoBnN,IAAIgC,IAAIgJ,SAAS7mJ,QAE3CsxB,UACElN,SAAS,EACTxkB,KAAM,cAGRy3B,WAAY,WACV/8B,KAAK2uJ,UAAY,GAAIpN,KAAIgC,IAAI5zE,QAG/Bt4C,QAAS,WACP,OAAO,GAGTjY,SAAU,SAAS28B,GACjB,MAA6B,YAAtBA,EAAMxuC,IAAI,WAIrBg0I,IAAIgC,IAAI6J,qBAAuB7L,IAAIgC,IAAIgJ,SAAS7mJ,QAC9CsxB,UACElN,SAAS,EACTxkB,KAAM,YAGR+xB,QAAS,SAASqd,GAChB,MAAOn0C,GAAE82B,QAAQr3B,KAAKuN,IAAI,WAAWu1I,UAAWpuG,EAAMnnC,IAAI,WAAWu1I,aAKzE,IAAI8L,kBAAmB,QACnBC,mBAAqB,UACrBC,kBAAoB,QAmlTxB,IAjlTAvN,IAAIgC,IAAI5zE,OAASrvE,SAAS0+B,WAAWt5B,QAEnC83B,MAAO+jH,IAAIgC,IAAIgJ,SAEfxvH,WAAY,WACV/8B,KAAKk/B,WAAa,SAASp7B,GACzB,MAAOsR,UAAStR,EAAEyJ,IAAI,SAAU,KAElCvN,KAAK6f,KAAK,MAAO7f,KAAK+uJ,gBACtB/uJ,KAAK6f,KAAK,SAAU7f,KAAK+uJ,iBAO3BA,eAAgB,SAASvxH,EAAOnX,EAAK3N,GACnC,GAAI1Y,KAAKqN,OAAS,IAGhBrN,KAAK2/B,GAAG,GAAGtnB,KAAMwI,MAAO,IAEpB7gB,KAAKqN,OAAS,GAAG,CAEnB,IAAK,GADD2hJ,MACK7qJ,EAAI,EAAGA,EAAInE,KAAKqN,SAAUlJ,EAAG,CACpC,GAAI43C,GAAQ/7C,KAAK2/B,GAAGx7B,GAChB8qJ,EAAYlzG,EAAMxuC,IAAI,OAC1ByhJ,GAAaC,GAAaD,EAAaC,OACvCD,EAAaC,GAAWtjJ,KAAKowC,GAK/B,IAAK,GAFDmzG,GAAY,EACZC,GAAeN,mBAAoBC,kBAAmBF,kBACjDzqJ,EAAI,EAAGA,EAAIgrJ,EAAY/qJ,SAAUD,EAGxC,IAAK,GAFDmB,GAAO6pJ,EAAYhrJ,GACnBs1C,EAASu1G,EAAa1pJ,OACjB1B,EAAI,EAAGA,EAAI61C,EAAOr1C,SAAUR,EAAG,CACtC,GAAIm4C,GAAQtC,EAAO71C,EACnBm4C,GAAM1jC,KACJwI,QAASquI,SAYvB3N,IAAIgC,IAAIhrG,IAAMgpG,IAAIC,KAAKnlH,MAAM32B,QAE3BsxB,UACEgtB,aAAcu9F,IAAI+B,OAAO/1I,IAAI,yBAC7B2rC,QAAS,EAAG,GACZ7jC,KAAM,EACN2mC,QAAS,EACTX,QAAS,GACT+zG,aAAa,EACbprF,MAAM,EACN3X,UAAU,EACVgjG,SAAU,WAGZtyH,WAAY,WACV/8B,KAAKy5C,OAAS,GAAI8nG,KAAIgC,IAAI5zE,OAE1B3vE,KAAKy5C,OAAO55B,KAAK,QAAS,WACrB7f,KAAKy5C,OAAOpsC,QAAU,GACvBrN,KAAKsvJ,mBAAmBtvJ,KAAKy5C,OAAOxa,OAAO,KAE5Cj/B,MAEHA,KAAKy5C,OAAO55B,KAAK,QAAS7f,KAAKuvJ,oBAAqBvvJ,MACpDA,KAAKy5C,OAAO55B,KAAK,MAAO7f,KAAKuvJ,oBAAqBvvJ,MAClDA,KAAKy5C,OAAO55B,KAAK,SAAU7f,KAAKuvJ,oBAAqBvvJ,MACrDA,KAAKy5C,OAAO55B,KAAK,qBAAsB7f,KAAKuvJ,oBAAqBvvJ,MAEjEA,KAAKw+D,WAAa,GAAI+iF,KAAIgC,IAAI8I,YAGhCkD,oBAAqB,WACnB,GAAIC,GAA4BjO,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKg3B,SAASgtB,YAAY,IAC7EyrG,EAAelvJ,EAAE44B,MAAMn5B,KAAKy5C,OAAOxa,QACpCjxB,IAAI,SAAS+tC,GAAS,MAAOwlG,KAAIC,KAAKjyD,SAAS32E,KAAMmjC,EAAMxuC,IAAI,kBAC/DsE,OAAO,SAASmyC,GAAe,MAAOA,IAAewrG,IACrD/5H,UACAI,OACA/tB,OAEH2nJ,GAAa9jJ,KAAK6jJ,GAElBxvJ,KAAKqY,IAAI,cAAeo3I,IAG1Bt2G,QAAS,SAAShC,EAAQ9hC,GACxBrV,KAAKqY,KACH6gC,OAAQ/B,EACR9hC,KAAMA,IAENwnB,QAAQ,IAEV78B,KAAKwO,QAAQ,aAGfqrC,QAAS,SAASzvC,GAChBpK,KAAKqY,KACHhD,KAAMjL,KAIVslJ,eAAgB,WACd1vJ,KAAKqY,KACHg0C,UAAU,KAIdsjG,gBAAiB,WACf3vJ,KAAKqY,KACHg0C,UAAU,KAIdujG,kBAAmB,WACjB5vJ,KAAKqY,KACH+2I,aAAa,KAIjBS,mBAAoB,WAClB7vJ,KAAKqY,KACH+2I,aAAa,KAIjB11G,QAAS,WACP,MAAO15C,MAAKuN,IAAI,SAGlB2tF,UAAW,SAAS/jD,GAClBn3C,KAAKqY,KACH6gC,OAAQ/B,KAQZ7M,WAAY,SAAS5xB,GACnB,GAAsB,gBAAXA,IAAuBA,EAAQtU,QACxC,GAAIpE,KAAK0Y,QAAQktI,MACf,KAAOltI,GAAU,mCAOrBnY,GAAEy2B,SAASh3B,KAAK0Y,QAASA,IAM3Bo3I,cAAe,WACb,MAAG9vJ,MAAKiR,IAAI,mBAAqBjR,KAAKiR,IAAI,mBAEtCjR,KAAKuN,IAAI,kBACTvN,KAAKuN,IAAI,mBAGN,MAGTwiJ,WAAY,SAAS5rJ,GACnB,MAAOnE,MAAKy5C,OAAO9Z,GAAGx7B,IAGxB6rJ,cAAe,SAASvzH,GACtB,MAAOz8B,MAAKy5C,OAAO7Z,SAASnD,IAG9B6yH,mBAAoB,SAASvzG,GAE3B,GAAIV,GAAUjmC,SAAS2mC,EAAMxuC,IAAI,WAAY,IACzCyuC,EAAU5mC,SAAS2mC,EAAMxuC,IAAI,WAAY,GAEzChN,GAAEk3B,SAAS4jB,KAAa96C,EAAEyO,MAAMqsC,KAC7Br7C,KAAKuN,IAAI,QAAU8tC,EAAUr7C,KAAKqY,KAAMhD,KAAMgmC,EAASA,QAASA,IAChEr7C,KAAKqY,IAAI,UAAWgjC,IAGvB96C,EAAEk3B,SAASukB,KAAaz7C,EAAEyO,MAAMgtC,KAC7Bh8C,KAAKuN,IAAI,QAAUyuC,EAAUh8C,KAAKqY,KAAM2jC,QAASA,EAAS3mC,KAAM2mC,IAChEh8C,KAAKqY,IAAI,UAAW2jC,KAK7BF,SAAU,SAASC,EAAOogD,GASxB,MARyB,IAAtBn8F,KAAKy5C,OAAOpsC,QACbrN,KAAKsvJ,mBAAmBvzG,GAE1B/7C,KAAKy5C,OAAOlxC,IAAIwzC,EAAOogD,GACvBn8F,KAAKwO,QAAQ,cACa,IAAvBxO,KAAKy5C,OAAOr1C,QACbpE,KAAKwO,QAAQ,mBAERutC,EAAMtf,KAGf8f,YAAa,SAASR,GACpB/7C,KAAKy5C,OAAOj4C,OAAOu6C,IAGrBk0G,iBAAkB,SAASxzH,GACzB,GAAIsf,GAAQ/7C,KAAKy5C,OAAO7Z,SAASnD,EAE7Bsf,GAAO/7C,KAAKu8C,YAAYR,GACvBwlG,IAAInqG,IAAI3yC,MAAM,+BAAiCg4B,EAAM,MAG5DyzH,cAAe,SAAS/rJ,GACtB,GAAI43C,GAAQ/7C,KAAKy5C,OAAO9Z,GAAGx7B,EAEvB43C,GAAO/7C,KAAKu8C,YAAYR,GACvBwlG,IAAInqG,IAAI3yC,MAAM,uCAGrB4tD,YAAa,WACX,KAAOryD,KAAKy5C,OAAOr1C,OAAS,GAC1BpE,KAAKu8C,YAAYv8C,KAAKy5C,OAAO9Z,GAAG,KAKpCwwH,aAAc,WACZ,MAAOnwJ,MAAKy5C,OAAO9Z,GAAG,IAMxBywH,iBAAkB,SAASr0G,GACzB,GAAIs0G,GAAYrwJ,KAAKmwJ,cACrB,OAAOE,IAAat0G,EAAM1kB,QAAQg5H,IAOpCC,iBAAkB,WAChB,GAAIC,GAAYvwJ,KAAKmwJ,cACrB,IAAGI,GAAaA,EAAUhjJ,IAAI,WAC5B,MAAOgjJ,GAAUhjJ,IAAI,WAAWs/I,aAIpC2D,YAAa,SAASC,GACpBzwJ,KAAKw+D,WAAWj2D,IAAIkoJ,IAGtBC,eAAgB,SAASD,GACvBzwJ,KAAKw+D,WAAWh9D,OAAOivJ,IAGzB5zF,UAAW,SAASp8D,GAClBT,KAAK6W,WAAW85I,gBACdlwJ,EAAE,GAAG,GACLA,EAAE,GAAG,IAEPT,KAAK6W,WAAW+5I,gBACdnwJ,EAAE,GAAG,GACLA,EAAE,GAAG,IAIPT,KAAKwO,QAAQ,wBAAyBxO,OAIxC26C,UAAW,SAASlK,EAAQogH,GAC1B,GAAIzmJ,GAAIpK,KAAKi7C,cAAcxK,EAAQogH,EACnC,IAAS,OAANzmJ,EAAH,CAKA,GAAI+wC,GAAUomG,IAAIgC,IAAIhrG,IAAIu4G,iBAAiBrgH,EAAO,GAAIrmC,GAClDgxC,EAAUmmG,IAAIgC,IAAIhrG,IAAIu4G,iBAAiBrgH,EAAO,GAAIrmC,GAElD8uC,EAASqoG,IAAIgC,IAAIhrG,IAAIw4G,kBACvBhmJ,EAA6B,IAAzBowC,EAAQ,GAAKC,EAAQ,IACzBnwC,EAA6B,IAAzBkwC,EAAQ,GAAKC,EAAQ,KACxBhxC,EACHpK,MAAKqY,KACH6gC,OAAQA,EACR7jC,KAAMjL,MAOV6wC,cAAe,SAAS+1G,EAAYH,GAElC,GAAiB,IAAdA,EAAQ9lJ,GAAyB,IAAd8lJ,EAAQ5lJ,EAAS,MAAO,KAC9C,IAMAmwC,GACAD,EAPI9tC,GAAQwjJ,EAAQ9lJ,EAAG8lJ,EAAQ5lJ,GAC/BoK,EAAOrV,KAAKuN,IAAI,YAAc,EAC9B8tC,EAAUr7C,KAAKuN,IAAI,YAAc,GACjCwoC,EAAKi7G,EAAW,GAChBl7G,EAAKk7G,EAAW,GAChB3yG,KAGAG,GAAe,CAEf,GACEnpC,KACA+lC,EAAUmmG,IAAIgC,IAAIhrG,IAAIu4G,iBAAiB/6G,EAAI1gC,GAC3C8lC,EAAUomG,IAAIgC,IAAIhrG,IAAIu4G,iBAAiBh7G,EAAIzgC,GAC3CgpC,EAAW,GAAKruC,KAAKkgC,IAAIkL,EAAQ,GAAKD,EAAQ,IAC9CkD,EAAW,GAAKruC,KAAKkgC,IAAIiL,EAAQ,GAAKC,EAAQ,IAC9CoD,EAAeH,EAAW,IAAMhxC,EAAK,IAAMgxC,EAAW,IAAMhxC,EAAK,SAC1DmxC,GAAgBnpC,GAAQgmC,EAEjC,OAAImD,GACKnD,EAGFhmC,EAAO,KAIhBy7I,iBAAkB,SAAS35G,EAAQ9hC,GACjC,GAAIinF,GAAK,GAAIl8F,GAAE6zC,OAAOkD,EAAO,GAAIA,EAAO,IACpC85G,EAAK7wJ,EAAEs3C,IAAIQ,SAASP,cAAc2kD,EAAIjnF,EAC1C,QAAQ47I,EAAGlmJ,EAAGkmJ,EAAGhmJ,IAGnB8lJ,iBAAkB,SAAS1hH,EAAOh6B,GAChC,GAAIinF,GAAKl8F,EAAEs3C,IAAIQ,SAASH,cAAc1I,EAAOh6B,EAC7C,QAAQinF,EAAGpoD,IAAKooD,EAAGnoD,QAQvBotG,IAAIgC,IAAI2N,QAAU3P,IAAIC,KAAKv+G,KAAKv9B,QAE9Bq3B,WAAY,WAEV,GAAyB7B,SAArBl7B,KAAK0Y,QAAQ1K,IACf,KAAM,gCAGRhO,MAAKgO,IAAMhO,KAAK0Y,QAAQ1K,IACxBhO,KAAKwoJ,kBAAkBxoJ,KAAKgO,KAC5BhO,KAAKwoJ,kBAAkBxoJ,KAAKgO,IAAIyrC,QAEhCz5C,KAAKmxJ,gBAAiB,EAGtBnxJ,KAAKy5C,UACLz5C,KAAKw+D,cAELx+D,KAAK6f,KAAK,QAAS7f,KAAKoxJ,cAAepxJ,OAGzCyjC,OAAQ,WACN,MAAOzjC,OAMTqxJ,cAAe,SAASC,GACtBtxJ,KAAKqwE,WAAWihF,IAGlBjhF,WAAY,SAASS,GACfA,IACF9wE,KAAKwjC,IAAI5c,OAAOkqD,EAAQrtC,SAASG,IACjC5jC,KAAKyoJ,QAAQ33E,KAOjBygF,eAAgB,WACd,GAAIz1I,KACJ,KAAK,GAAIjc,KAAKG,MAAKooJ,UACdpoJ,KAAKooJ,UAAUvoJ,YAAc0hJ,KAAIgC,IAAIC,GAAGgO,YACzC11I,EAAOnQ,KAAK3L,KAAKooJ,UAAUvoJ,GAG/B,OAAOic,IAGT21I,WAAY,SAAShhH,GACnB,KAAM,qBAaRihH,kBAAmB,SAAS95I,GAG1B,GAFA5X,KAAK2xJ,eACL3xJ,KAAKgO,IAAIqK,IAAIT,GACMsjB,SAAhBtjB,EAAKshC,QAAsChe,SAAdtjB,EAAKvC,KAAoB,CACvD,GAAI5U,GAAIT,KAAK46C,WACb56C,MAAKgO,IAAIqK,KACPs4I,eAAgBlwJ,EAAE,GAClBmwJ,eAAgBnwJ,EAAE,KAEjBT,KAAKmxJ,gBACNnxJ,KAAK4xJ,gBAGT5xJ,KAAK6xJ,cAIPA,WAAY,WACV7xJ,KAAK2xJ,eACL3xJ,KAAKgO,IAAI6R,KAAK,wBAA0B7f,KAAK8xJ,cAAe9xJ,MAC5DA,KAAKgO,IAAI6R,KAAK,wBAA0B7f,KAAK8xJ,cAAe9xJ,MAC5DA,KAAKgO,IAAI6R,KAAK,cAA0B7f,KAAK+xJ,SAAU/xJ,MACvDA,KAAKgO,IAAI6R,KAAK,qBAA0B7f,KAAKgyJ,gBAAiBhyJ,MAC9DA,KAAKgO,IAAI6R,KAAK,kBAA0B7f,KAAKiyJ,aAAcjyJ,MAC3DA,KAAKgO,IAAI6R,KAAK,gBAA0B7f,KAAKkyJ,WAAYlyJ,MACzDA,KAAKgO,IAAI6R,KAAK,qBAA0B7f,KAAKmyJ,eAAgBnyJ,OAI/D2xJ,aAAc,WACZ3xJ,KAAKgO,IAAI8R,OAAO,wBAA0B,KAAM9f,MAChDA,KAAKgO,IAAI8R,OAAO,wBAA0B,KAAM9f,MAChDA,KAAKgO,IAAI8R,OAAO,cAA0B,KAAM9f,MAChDA,KAAKgO,IAAI8R,OAAO,qBAA0B,KAAM9f,MAChDA,KAAKgO,IAAI8R,OAAO,kBAA0B,KAAM9f,MAChDA,KAAKgO,IAAI8R,OAAO,gBAA0B,KAAM9f,MAChDA,KAAKgO,IAAI8R,OAAO,qBAA0B,KAAM9f,OAGlD8xJ,cAAe,WACb,GAAIrhH,GAASzwC,KAAKgO,IAAI8hJ,eACnBr/G,IACDzwC,KAAKyxJ,WAAWhhH,IAIpBghH,WAAY,SAAShhH,GACnBzwC,KAAKgO,IAAI2sC,UAAUlK,EAAQzwC,KAAKwwC,YAGlCgJ,WAAY,WACV,GAAIzQ,GAAO/oC,IACXA,MAAKoxJ,gBACLpxJ,KAAKgO,IAAIyrC,OAAOh3C,KAAK,SAAS2vJ,GAC5BrpH,EAAKmnC,UAAUkiF,MAInBhB,cAAe,SAASr1G,GACtB,IAAI,GAAI53C,KAAKnE,MAAKy5C,OAAQ,CACxB,GAAI44G,GAAaryJ,KAAKy5C,OAAOt1C,EAC7BkuJ,GAAW7wJ,eACJxB,MAAKy5C,OAAOt1C,KAIvBmuJ,aAAc,SAASv2G,GACrB,GAAIs2G,GAAaryJ,KAAKy5C,OAAOsC,EAAMtf,IAChC41H,KACDA,EAAW7wJ,eACJxB,MAAKy5C,OAAOsC,EAAMtf,OAI7B81H,iBAAkB,SAASx2G,EAAOtvC,EAAM0vF,GACtCn8F,KAAKsyJ,aAAav2G,GAClB/7C,KAAKkwE,UAAUn0B,EAAO/7C,KAAKgO,IAAIyrC,OAAQ0iD,IAIzCq2D,gBAAiB,SAASjP,GACTvjJ,KAAKw+D,WAAW+kF,EAAI9mH,WAC5Bz8B,MAAKy5C,OAAOsC,MAAMtf,MAG3BuzH,cAAe,SAASvzH,GACtB,GAAI54B,GAAI7D,KAAKy5C,OAAOhd,EAIpB,OAHI54B,IACF09I,IAAInqG,IAAIwuG,MAAM,kBAAoBnpH,EAAM,iBAEnC54B,GAGTkuJ,SAAU,SAASv0H,EAAOpzB,GACxB,KAAM,qBAGR8nJ,WAAY,SAAS10H,EAAO0b,GAC1B,KAAM,qBAGRg3B,UAAW,SAASn0B,EAAOtC,EAAQ0iD,GACjC,KAAM,qBAGRs2D,cAAe,SAAShC,GACtB,KAAM,qBAGRiC,mBAAoB,SAASnP,GAC3B,KAAM,qBAGRoP,kBAAmB,WAEjB3yJ,KAAKmxJ,gBAAiB,GAGxBS,cAAerxJ,EAAEk2B,SAAS,WACxBz2B,KAAKgO,IAAI4vB,KAAK,MAAQf,QAAQ,KAC7B,KAEH+1H,aAAc,SAASnC,GACrB,GAAI9oH,GAAO3nC,KAAKyyJ,cAAchC,EAC9BzwJ,MAAKw+D,WAAWiyF,EAAKh0H,KAAOkL,GAG9B6qH,gBAAiB,SAASjP,GACxB,GAAIsP,GAAW7yJ,KAAKw+D,WAAW+kF,EAAI9mH,IACnCz8B,MAAK0yJ,mBAAmBG,SACjB7yJ,MAAKw+D,WAAW+kF,EAAI9mH,QAK7B0V,UAAW,SAASk9G,GAClB,GAAIyD,GAAevR,IAAIgC,IAAIwP,cAQ3B,OAPgB,eAAb1D,IACoB,mBAAZ,SAAkD,mBAAhBl0D,QAAW,KACpD23D,EAAevR,IAAIgC,IAAIyP,kBAEvBzR,IAAInqG,IAAI3yC,MAAM,8DAGXquJ,GAGT/yH,OAAQ,SAAS6D,EAAIqvH,GACnB,GAAIC,GAAgB3R,IAAIgC,IAAI2N,QAAQ/+G,UAAU8gH,EAAS1lJ,IAAI,YAC3D,OAAO,IAAI2lJ,IACTtvH,GAAIA,EACJ51B,IAAKilJ,OAIX1R,IAAIgC,IAAIC,GAAG2P,KAAO5R,IAAIC,KAAKv+G,KAAKv9B,QAE9B4N,UAAW,+BAEXlL,QACEgY,MAAS,mBAGXgzI,mBAEAv2I,gBAAiB,SAASvb,GAExBA,EAAEub,mBAIJkgB,WAAY,WAEVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9BpzJ,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,QAE7B,IAAI8P,GAAO/oC,IAEXG,GAAE4O,QAAQ4Q,GAAG,cAAe,WAC1BopB,EAAKsqH,WAGPlzJ,EAAE4O,QAAQ4Q,GAAG,SAAU,WACrBopB,EAAKsqH,YAKTC,YAAa,WAEX,GAAI/sJ,GAAavG,KAAKw9B,MAAMjwB,IAAI,SAE5BgmJ,EAAahtJ,EAAM,aACnBitJ,EAAajtJ,EAAM,eACnBktJ,EAAaltJ,EAAM,aACnBmtJ,EAAantJ,EAAM,mBAEvBvG,MAAK2zJ,MAAQ3zJ,KAAKwjC,IAAIt2B,KAAK,SAE3BlN,KAAK2zJ,MAAMpyJ,IAAIgF,GACfvG,KAAK2zJ,MAAMpyJ,IAAI,YAAagF,EAAM,aAAe,MAEjDvG,KAAKwjC,IAAIjiC,IAAI,UAAWgF,EAAM,WAE9B,IAAIqtJ,GAAkB,EAEE,eAAfF,EAAmCE,EAAkB,QACtC,YAAfF,EAAmCE,EAAkB,WACtC,aAAfF,EAAmCE,EAAkB,YACtC,UAAfF,EAAmCE,EAAkB,SACtC,QAAfF,EAAmCE,EAAkB,OACtC,YAAfF,EAAmCE,EAAkB,WACtC,gBAAfF,EAAmCE,EAAkB,eACtC,mBAAfF,IAAmCE,EAAkB,kBAE9D,IAAIC,GAAU,QAAUz+I,SAASm+I,EAAS1wJ,OAAM,GAAG,GAAI,IACrD,IAAMuS,SAASm+I,EAAS1wJ,OAAM,GAAG,GAAI,IACrC,IAAMuS,SAASm+I,EAAS1wJ,OAAM,GAAI,IACnC,KAAO2wJ,EAAa,IAErBxzJ,MAAKwjC,IACJxrB,YAAY,SACZA,YAAY,YACZA,YAAY,UACZA,YAAY,aACZA,YAAY,QACZA,YAAY,YACZA,YAAY,gBACZA,YAAY,mBAEbhY,KAAKwjC,IAAIzrB,SAAS67I,GAClB5zJ,KAAKwjC,IAAIjiC,KACPuyJ,gBAAiBD,EACjBhiH,SAAiB4hH,KAKrBJ,OAAQ,SAASx9I,GAEf,GAAI+yH,GAAQ/yH,GAAY7V,KAAKw9B,MAAMjwB,IAAI,SAEnCuI,EAAQ9V,KAAKw9B,MAAMjwB,IAAI,KACvBkc,EAAQzpB,KAAKw9B,MAAMjwB,IAAI,KAEvBwmJ,EAAkBnrB,EAAMt3E,OAAStxD,KAAKwjC,IAAI3hC,SAC1CmyJ,EAAkBprB,EAAM7lF,MAAS/iD,KAAKwjC,IAAI5hC,QAG1CqyJ,EAAkBrrB,EAAMqrB,eACxBC,EAAkBtrB,EAAMsrB,gBAExBnxG,EAAS,OACTuO,EAAS,OAETp7C,EAAa,EACbs1C,EAAa,EAEb5pD,EAASgnI,EAAMhnI,MACfC,EAAS+mI,EAAM/mI,OAEfsyJ,EAA0BvrB,EAAMurB,uBAChCC,EAA0BxrB,EAAMwrB,uBAEL,YAA3BD,GAAuCJ,GAAmB,KAE5Dj+I,EAAM,OACNw7C,EAASyiG,GAEAE,EAAiB,IAAMA,EAAiB,KAEjDn+I,EAAM,MACNI,GAAarU,EAAO,GAIU,UAA5BuyJ,GAAuCJ,GAAkB,KAE3DvqI,EAAO,OACPs5B,EAAQixG,GAECE,EAAkB,IAAMA,EAAkB,KAEnDzqI,EAAO,MACP+hC,GAAc5pD,EAAM,GAItB5B,KAAKwjC,IAAIjiC,KACPiqD,WAAYA,EACZt1C,UAAWA,EACXJ,IAAKA,EACL2T,KAAMA,EACNs5B,MAAOA,EACPuO,OAAQA,KAKZ/hC,KAAM,SAASuM,GACb97B,KAAKwjC,IAAI/S,OAAO,IAAK,WACnBqL,GAAYA,OAIhBrM,KAAM,SAASqM,GACb97B,KAAKwjC,IAAI9S,QAAQ,IAAK,WACpBoL,GAAYA,OAIhBu4H,UAAW,WAETr0J,KAAKwjC,IAAIt2B,KAAK,KAAKzK,KAAK,SAAS0B,EAAGupE,GAClCvtE,EAAEH,MAAMyM,KAAK,SAAU,WAK3Bg3B,OAAQ,WACN,GAAI57B,GAAO05I,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,SAAS+mJ,cAAet0J,KAAKw9B,MAAMjwB,IAAI,iBACpF/E,EAAOjI,EAAE44B,MAAMn5B,KAAKw9B,MAAM3mB,YAAYjK,QAAQlH,QAASmC,KAAMA,IAAQC,OACzE9H,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASzwB,IAE5BxI,KAAKq0J,WAEL,IAAItrH,GAAO/oC,IAOX,OANAiD,YAAW,WACT8lC,EAAKuqH,cACLvqH,EAAKsqH,SACLtqH,EAAKxZ,QACJ,KAEIvvB,QAKXuhJ,IAAIgC,IAAIC,GAAG+Q,WAAahT,IAAIC,KAAKv+G,KAAKv9B,QAEpC4N,UAAW,qCAEX0jB,UACEglB,QAAS,EACTX,QAAS,GACT90C,OACEiuJ,UAAW,OACXtrI,OAAQ,EACRoqC,MAAO,UACPmhG,SAAU,KACVC,eAAgB,YAChBnB,SAAU,UACVC,WAAY,GACZmB,WAAY,GACZ39F,UAAW,GACX49F,UAAW,YAIf37H,SAAUsoH,IAAIC,KAAKoF,SAASG,QAC1B,2IAIA,YAGF3+I,QACEgY,MAAS,mBAGXvD,gBAAiB,SAASvb,GACxBA,EAAEub,mBAGJkgB,WAAY,WAEV/8B,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,UAAYj5B,KAAKi5B,SAC9Cj5B,KAAK60J,QAAW70J,KAAK0Y,QAAQm8I,QAE7B70J,KAAK80J,cAAgB,4DAA4D7vJ,KAAK6E,UAAUoB,WAEhGlL,KAAK+0J,sBAAsB/0J,KAAK0Y,QAAQnS,OAExChG,EAAEy2B,SAASh3B,KAAK0Y,QAAQnS,MAAOvG,KAAKg3B,SAASzwB,OAE7CvG,KAAKg1J,eAELh1J,KAAKi1J,YAIPD,aAAc,WAEZh1J,KAAKw9B,MAAQ,GAAI+jH,KAAIC,KAAKnlH,OACxBrnB,SAAS,EACT6U,QAAQ,EACRhiB,KAAS7H,KAAK0Y,QAAQ7Q,KACtBsvC,OAASn3C,KAAK0Y,QAAQy+B,OACtB6E,QAASh8C,KAAK0Y,QAAQsjC,SAAWh8C,KAAKg3B,SAASglB,QAC/CX,QAASr7C,KAAK0Y,QAAQ2iC,SAAWr7C,KAAKg3B,SAASqkB,UAGjDr7C,KAAKw9B,MAAM7d,GAAG,iBAAkB3f,KAAKk1J,iBAAkBl1J,MACvDA,KAAKw9B,MAAM7d,GAAG,cAAkB3f,KAAKm1J,cAAen1J,MACpDA,KAAKw9B,MAAM7d,GAAG,gBAAkB3f,KAAKqzJ,OAAQrzJ,MAE7CA,KAAKw9B,MAAM7d,GAAG,iBAAmB3f,KAAKo1J,qBAAsBp1J,MAC5DA,KAAKw9B,MAAM7d,GAAG,iBAAmB3f,KAAKo1J,qBAAsBp1J,MAE5DA,KAAKuG,MAAQ,GAAIg7I,KAAIC,KAAKnlH,MAAMr8B,KAAK0Y,QAAQnS,OAE7CvG,KAAKuG,MAAMoZ,GAAG,SAAU3f,KAAKszJ,YAAatzJ,MAE1CA,KAAKwoJ,kBAAkBxoJ,KAAKuG,QAI9B0uJ,SAAU,WAERj1J,KAAK60J,QAAQ7mJ,IAAI6R,KAAK,SAAU7f,KAAKqzJ,OAAQrzJ,MAC7CA,KAAK60J,QAAQ7mJ,IAAI6R,KAAK,cAAe7f,KAAKo1J,qBAAsBp1J,MAChEA,KAAK60J,QAAQh1I,KAAK,YAAa7f,KAAKyvB,KAAMzvB,MAC1CA,KAAK60J,QAAQh1I,KAAK,UAAW7f,KAAKuvB,KAAMvvB,OAI1Cq1J,WAAY,WAEVr1J,KAAK60J,QAAQ7mJ,IAAI8R,OAAO,SAAU9f,KAAKqzJ,OAAQrzJ,MAC/CA,KAAK60J,QAAQ7mJ,IAAI8R,OAAO,cAAe9f,KAAKo1J,qBAAsBp1J,MAClEA,KAAK60J,QAAQ/0I,OAAO,YAAa9f,KAAKyvB,KAAMzvB,MAC5CA,KAAK60J,QAAQ/0I,OAAO,UAAW9f,KAAKuvB,KAAMvvB,OAI5Ck1J,iBAAkB,WAEZl1J,KAAKw9B,MAAMjwB,IAAI,WAAYvN,KAAKuvB,OAC/BvvB,KAAKyvB,QAIZ0lI,cAAe,WACbn1J,KAAKwjC,IAAIt2B,KAAK,SAAS0L,KAAK5Y,KAAKs1J,mBAGnCA,eAAgB,WACd,MAAO/T,KAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,QAASvN,KAAKw9B,MAAMjwB,IAAI,kBAGvEgoJ,yBAA0B,SAASz+I,GACjC,GAAKA,EAAL,CAIA,GAAI+jD,GAAQ/jD,EAAKtS,MAAM,IAEvB,OAAqB,KAAjBq2D,EAAMz2D,OACD0S,EAEA+jD,EAAM,GAAKt6D,EAAEyN,IAAI6sD,EAAMh4D,MAAM,GAAI,SAASgB,GAC/C,MAAOA,GAAEhB,MAAM,EAAE,GAAGmI,cAAgBnH,EAAEhB,MAAM,KAC3CkL,KAAK,MAIZgnJ,sBAAuB,SAASzyH,GAE9B,GAAIkzH,KAEJj1J,GAAEkC,KAAK6/B,EAAM,SAASx6B,EAAO8xB,GAC3B47H,EAAmBx1J,KAAKu1J,yBAAyB37H,IAAQ9xB,GACxD9H,MAEHA,KAAK0Y,QAAQnS,MAAQivJ,GAIvBC,iBAAkB,WAEhB,GAAInoH,GAAkC,WAAxBttC,KAAK0Y,QAAQg9I,MAC3B,OAAOpoH,KAAWttC,KAAK80J,eAGzBvlI,KAAM,SAASuM,GAEb,IAAI97B,KAAKw9B,MAAMjwB,IAAI,WAAcvN,KAAKy1J,mBAAtC,CAIAz1J,KAAKwjC,IAAIjiC,KAAM0R,QAAS,EAAG+B,QAAS,iBACpChV,KAAKwjC,IAAIhsB,OAAOgY,SAAUvc,QAAS,IAAO2d,SAAU,IAAKtF,SAAU,WACjEwQ,GAAYA,SAKhBrM,KAAM,SAASqM,GACb97B,KAAKwjC,IAAIhsB,OAAOkZ,QAAQ,IAAK,WAC3BoL,GAAYA,OAIhBu3H,OAAQ,WAEN,GAAIl8G,GAAan3C,KAAKw9B,MAAMjwB,IAAI,UAE5BypD,EAAah3D,KAAKuG,MAAMgH,IAAI,aAC5BinJ,EAAax0J,KAAKuG,MAAMgH,IAAI,aAE5BgkB,EAAavxB,KAAK60J,QAAQc,cAAcx+G,EAE5C,IAAI5lB,EAAK,CAEP,GAAIzb,GAAayb,EAAItmB,EAAIjL,KAAKwjC,IAAI3hC,SAAS,EACvC4nB,EAAa8H,EAAIxmB,EAAIisD,CAEP,WAAdw9F,IACF/qI,EAAO8H,EAAIxmB,EAAI/K,KAAKwjC,IAAI5hC,QAAUo1D,EAAYh3D,KAAKwjC,IAAIt2B,KAAK,SAAStL,SAGvE5B,KAAKwjC,IAAIjiC,KAAMuU,IAAKA,EAAK2T,KAAMA,MAMnCmsI,WAAY,SAASvgJ,GAEnBrV,KAAKw9B,MAAMnlB,IAAI,UAAWhD,IAI5BwgJ,WAAY,SAASxgJ,GAEnBrV,KAAKw9B,MAAMnlB,IAAI,UAAWhD,IAI5B89B,YAAa,SAASgE,GAEpBn3C,KAAKw9B,MAAMnlB,IAAI,SAAU8+B,IAI3B2+G,QAAS,SAASjuJ,GAEhB7H,KAAKw9B,MAAMnlB,IAAI,OAAQxQ,IAIzBkrD,SAAU,SAASw8E,EAAUznI,GAE3B,GAAIiuJ,GAAmB/1J,KAAKu1J,yBAAyBhmB,EAEjDwmB,IACF/1J,KAAKuG,MAAM8R,IAAI09I,EAAkBjuJ,IAKrCwrJ,YAAa,WAEX,GAAI0C,GAAah2J,KAAKuG,MAAMgH,IAAI,SAC5BinJ,EAAax0J,KAAKuG,MAAMgH,IAAI,aAG5BonJ,GAFa30J,KAAKuG,MAAMgH,IAAI,YACfvN,KAAKuG,MAAMgH,IAAI,cACfvN,KAAKuG,MAAMgH,IAAI,eAC5BypD,EAAah3D,KAAKuG,MAAMgH,IAAI,aAE5BmmJ,GADa1zJ,KAAKuG,MAAMgH,IAAI,aACfvN,KAAKuG,MAAMgH,IAAI,kBAEhCvN,MAAK2zJ,MAAQ3zJ,KAAKwjC,IAAIt2B,KAAK,SAE3BlN,KAAK2zJ,MAAMpyJ,KAAM+xD,MAAO0iG,EAAWxB,UAAWA,IAE9Cx0J,KAAKwjC,IAAIt2B,KAAK,YAAY3L,IAAI,UAAWozJ,GACzC30J,KAAK2zJ,MAAMpyJ,IAAI,YAAavB,KAAKuG,MAAMgH,IAAI,YAAc,MACzDvN,KAAKwjC,IAAIjiC,IAAI,UAAWvB,KAAKuG,MAAMgH,IAAI,WAEvCvN,KAAKwjC,IAAIt2B,KAAK,UAAU3L,KAAMK,MAAOo1D,EAAWvtC,MAAOutC,GAEvD,IAAI48F,GAAkB,EAEE,eAAfF,EAAmCE,EAAkB,QACtC,YAAfF,EAAmCE,EAAkB,WACtC,aAAfF,EAAmCE,EAAkB,YACtC,UAAfF,EAAmCE,EAAkB,SACtC,QAAfF,EAAmCE,EAAkB,OACtC,YAAfF,EAAmCE,EAAkB,WACtC,gBAAfF,EAAmCE,EAAkB,eACtC,mBAAfF,IAAmCE,EAAkB,mBAE9D5zJ,KAAKwjC,IACJxrB,YAAY,SACZA,YAAY,YACZA,YAAY,UACZA,YAAY,aACZA,YAAY,QACZA,YAAY,YACZA,YAAY,gBACZA,YAAY,mBAEbhY,KAAKwjC,IAAIzrB,SAAS67I,GAEA,UAAdY,GACFx0J,KAAKwjC,IAAIzrB,SAAS,eAClB/X,KAAKwjC,IAAIt2B,KAAK,UAAU3L,KAAMkoB,KAAM,OAAQs5B,OAAQiU,KAEpDh3D,KAAKwjC,IAAIxrB,YAAY,eAGvBhY,KAAKqzJ,SACLrzJ,KAAKo1J,wBAIPa,SAAU,SAAS3iG,EAAOrgD,GACxB,MAAO,QAAUmC,SAASk+C,EAAMzwD,OAAM,GAAG,GAAI,IAC3C,IAAMuS,SAASk+C,EAAMzwD,OAAM,GAAG,GAAI,IAClC,IAAMuS,SAASk+C,EAAMzwD,OAAM,GAAI,IAC/B,IAAMoQ,EAAU,MAGpBmiJ,qBAAsB,WAEpB,GAAI7B,GAAavzJ,KAAKuG,MAAMgH,IAAI,YAC5BimJ,EAAaxzJ,KAAKuG,MAAMgH,IAAI,cAC5BqnJ,EAAa50J,KAAKuG,MAAMgH,IAAI,aAE5ByuC,EAAah8C,KAAKw9B,MAAMjwB,IAAI,WAC5B8tC,EAAar7C,KAAKw9B,MAAMjwB,IAAI,WAE5B2oJ,EAAcl2J,KAAK60J,QAAQ7mJ,IAAIT,IAAI,OAEvC,IAAI2oJ,GAAel6G,GAAWk6G,GAAe76G,EAAS,CAEpD,GAAI86G,GAAcn2J,KAAKi2J,SAASrB,EAAW,GACvCwB,EAAcp2J,KAAKi2J,SAAS1C,EAAUC,EAE1CxzJ,MAAKwjC,IAAIt2B,KAAK,SAASsiB,SAAUvc,QAAS,GAAK,KAE/CjT,KAAKwjC,IAAIjiC,IAAI,mBAAoB60J,GAEjCp2J,KAAKwjC,IAAIt2B,KAAK,UAAU3L,IAAI,mBAAoB40J,GAChDn2J,KAAKwjC,IAAIt2B,KAAK,SAAS3L,IAAI,mBAAoB40J,GAE/Cn2J,KAAKw9B,MAAMnlB,IAAI,UAAU,GACzBrY,KAAKw9B,MAAMnlB,IAAI,WAAW,OAG1BrY,MAAKw9B,MAAMnlB,IAAI,UAAU,GACzBrY,KAAKw9B,MAAMnlB,IAAI,WAAW,IAI9BiP,MAAO,WACLtnB,KAAKq1J,aACL9T,IAAIC,KAAKv+G,KAAK53B,UAAUic,MAAMte,KAAKhJ,OAGrCq0J,UAAW,WAETr0J,KAAKwjC,IAAIt2B,KAAK,KAAKzK,KAAK,SAAS0B,EAAGupE,GAClCvtE,EAAEH,MAAMyM,KAAK,SAAU,WAK3Bg3B,OAAQ,WACN,GAAIriC,GAAIb,EAAEqM,MAAM5M,KAAKw9B,MAAM3mB,WAC3BzV,GAAEyG,KAAO7H,KAAKs1J,iBACdt1J,KAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAAS73B,IAE5BpB,KAAKq0J,WAEL,IAAItrH,GAAO/oC,IAOX,OANAiD,YAAW,WACT8lC,EAAKuqH,cACLvqH,EAAKqsH,uBACLrsH,EAAKxZ,QACJ,KAEIvvB,QAKXuhJ,IAAIgC,IAAIC,GAAGrvD,MAAQotD,IAAIgC,IAAIC,GAAG2P,KAAKztJ,QAEjC4N,UAAW,gCAEXlL,QACEgY,MAAS,mBAGXgzI,mBAEAv2I,gBAAiB,SAASvb,GAExBA,EAAEub,mBAIJkgB,WAAY,WAEVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9BpzJ,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,QAE7B,IAAI8P,GAAO/oC,IAEXG,GAAE4O,QAAQ4Q,GAAG,cAAe,WAC1BopB,EAAKsqH,WAGPlzJ,EAAE4O,QAAQ4Q,GAAG,SAAU,WACrBopB,EAAKsqH,YAKTC,YAAa,WAEX,GAAI/sJ,GAAavG,KAAKw9B,MAAMjwB,IAAI,SAE5BgmJ,EAAahtJ,EAAM,aACnBitJ,EAAajtJ,EAAM,eACnBktJ,EAAaltJ,EAAM,YAEvBvG,MAAKwjC,IAAIt2B,KAAK,SAAS3L,IAAIgF,GAC3BvG,KAAKwjC,IAAIjiC,IAAI,UAAWgF,EAAM,WAE9B,IAAIstJ,GAAU,QAAUz+I,SAASm+I,EAAS1wJ,OAAM,GAAG,GAAI,IACrD,IAAMuS,SAASm+I,EAAS1wJ,OAAM,GAAG,GAAI,IACrC,IAAMuS,SAASm+I,EAAS1wJ,OAAM,GAAI,IACnC,KAAO2wJ,EAAa,IAErBxzJ,MAAKwjC,IAAIjiC,KACPuyJ,gBAAiBD,IAGnB7zJ,KAAKwjC,IAAIt2B,KAAK,OAAO3L,KAAMK,MAAO6xJ,KAIpChwH,OAAQ,WACN,GAAIE,EAEFA,GADE3jC,KAAKw9B,MAAMjwB,IAAI,SAAS8oJ,kBAChB91J,EAAE04B,SAAS,6BAA8BrR,IAAK5nB,KAAKw9B,MAAMjwB,IAAI,SAAS+oJ,2BAEtE/U,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,SAAS+mJ,cAAet0J,KAAKw9B,MAAMjwB,IAAI,mBAGzF,IAAI/E,GAAOjI,EAAE44B,MAAMn5B,KAAKw9B,MAAM3mB,YAAYjK,QAAQlH,QAASi+B,QAASA,IAAW77B,OAC/E9H,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASzwB,GAE5B,IAAIugC,GAAO/oC,IASX,OAPAiD,YAAW,WACT8lC,EAAKuqH,cACLvqH,EAAKsqH,SACLtqH,EAAKxZ,QACJ,KAGIvvB,QAKXuhJ,IAAIgC,IAAIC,GAAG+S,MAAQhV,IAAIC,KAAKv+G,KAAKv9B,QAE/B4N,UAAW,gBAEXlL,QACEouJ,UAAW,YAEbpD,mBAEAr2H,WAAY,WAEVx8B,EAAE61B,QAAQp2B,KAAM,YAEhBO,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9BpzJ,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,UAI/Bq6H,YAAa,aAEb58F,SAAU,SAASp1D,GAEjBA,EAAE4a,iBACF5a,EAAEub,kBAEF7c,KAAK87I,OAAOvsH,QAIdknI,aAAc,WAEZ,GAAIjuJ,GAAOxI,KAAK0Y,OAChBlQ,GAAKywB,SAAW,GAGZlvB,SAASgQ,KACXvR,EAAKkuJ,UAAY5oI,mBAAmB/jB,SAASgQ,MAE7CvR,EAAKkuJ,UAAYluJ,EAAKof,GAGxB,IAAIqR,GAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,qvBAuBjBzwB,EAAKmuJ,cAAgB,YAGnB/uI,EAAM7d,SAASgQ,IAEnB6N,GAAMA,EAAIljB,QAAQ,aAAc,YAEhC,IAAIkyJ,GAAiBhvI,EAAIljB,QAAQ,YAAa,cAE1CyzC,EAAO,0DAA4DvwB,EAAM,yGAE7E5nB,MAAK87I,OAAS,GAAIyF,KAAIiC,GAAGE,OAAOmT,aAC9Br0H,MAAOh6B,EAAKwF,IAAIT,IAAI,SACpBytF,YAAaxyF,EAAKwF,IAAIT,IAAI,eAC1BiwB,MAAOx9B,KAAK0Y,QAAQirI,IAAI31I,IACxBmqC,KAAMA,EACNvwB,IAAKpf,EAAKof,IACVgvI,eAAgBA,EAChBF,UAAWluJ,EAAKkuJ,UAChBz9H,SAAUA,EACVld,OAAQ5b,EAAE,oBACVkN,KAAMlN,EAAE+B,UAAUN,QAAU,IAAM,GAAK,QACvCA,MAAOzB,EAAE+B,UAAUN,QAAU,IAAM,IAAM,MAG3CzB,EAAE,wBAAwBymB,OAAO5mB,KAAK87I,OAAOr4G,SAASD,KAEtDxjC,KAAKyoJ,QAAQzoJ,KAAK87I,SAIpBr4G,OAAQ,WAIN,MAFAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAAS14B,EAAEmF,OAAO1F,KAAKw9B,MAAM3mB,cAEzC7W,QAgBXuhJ,IAAIgC,IAAIC,GAAG12E,KAAOy0E,IAAIC,KAAKv+G,KAAKv9B,QAE9B4N,UAAW,eAEXlL,QACE0uJ,iBAAkB,UAClBC,kBAAmB,YAGrB3D,iBACExlI,QAAS,EACT8kE,IAAK,IAGP31D,WAAY,WACV/8B,KAAKgO,IAAMhO,KAAKw9B,MAEhBj9B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9BpzJ,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAWj5B,KAAK0Y,QAAQugB,SAAWsoH,IAAImG,UAAUF,YAAY,YAC1FxnJ,KAAKgO,IAAI6R,KAAK,4CAA6C7f,KAAKg3J,WAAYh3J,OAG9EyjC,OAAQ,WAGN,MAFAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAK0Y,UACjC1Y,KAAKg3J,aACEh3J,MAGTg3J,WAAY,WACV,GAAI3hJ,GAAOrV,KAAKgO,IAAIT,IAAI,OACxBvN,MAAKG,EAAE,YAAakV,EAAOrV,KAAKgO,IAAIT,IAAI,WAAa,cAAgB,YAAa,YAClFvN,KAAKG,EAAE,aAAckV,EAAOrV,KAAKgO,IAAIT,IAAI,WAAa,cAAgB,YAAa,aAGrF0pJ,QAAS,SAASp+D,GACZ74F,KAAKgO,IAAIT,IAAI,WAAavN,KAAKgO,IAAI0rC,WACrC15C,KAAKgO,IAAI6rC,QAAQ75C,KAAKgO,IAAI0rC,UAAY,GAExCm/C,EAAG38E,iBACH28E,EAAGh8E,mBAGLq6I,SAAU,SAASr+D,GACb74F,KAAKgO,IAAIT,IAAI,WAAavN,KAAKgO,IAAI0rC,WACrC15C,KAAKgO,IAAI6rC,QAAQ75C,KAAKgO,IAAI0rC,UAAY,GAExCm/C,EAAG38E,iBACH28E,EAAGh8E,qBAeP0kI,IAAIgC,IAAIC,GAAG2T,SAAW5V,IAAIC,KAAKv+G,KAAKv9B,QAElC4N,UAAW,oBAEXypB,WAAY,WACV/8B,KAAKw9B,MAAM3d,KAAK,cAAe7f,KAAKyjC,OAAQzjC,OAG9CyjC,OAAQ,WAEN,MADAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,SACtBvN,QAUXuhJ,IAAIgC,IAAIC,GAAG4T,gBAAkB7V,IAAIC,KAAKnlH,MAAM32B,QAE1CsxB,UACElgB,KAAM,WACNgT,SAAQ,EACRhiB,MAAO,MASXy5I,IAAIgC,IAAIC,GAAG6T,YAAc/2J,SAAS0+B,WAAWt5B,QAC3C83B,MAAO+jH,IAAIgC,IAAIC,GAAG4T,kBAQpB7V,IAAIgC,IAAIC,GAAG8T,YAAc/V,IAAIC,KAAKnlH,MAAM32B,QAEtCsxB,UACE1xB,KAAM,KACNiyJ,YAAY,EACZ/0H,MAAO,GACPvJ,SAAU,GACVnP,SAAS,GAGXiT,WAAY,WAEV/8B,KAAK8hH,MAAQ,GAAIy/B,KAAIgC,IAAIC,GAAG6T,YAAYr3J,KAAKuN,IAAI,UAEjDvN,KAAK8hH,MAAMjiG,KAAK,0BAA2B,WACzC7f,KAAKqY,KAAMypG,MAAO9hH,KAAK8hH,MAAMnrG,YAC5B3W,MAEHA,KAAK6f,KAAK,eAAgB7f,KAAKw3J,eAAgBx3J,MAC/CA,KAAK6f,KAAK,iCAAkC7f,KAAKy3J,eAAgBz3J,MACjEA,KAAK6f,KAAK,kBAAmB7f,KAAK03J,kBAAmB13J,OAIvD03J,kBAAmB,WACjB13J,KAAKi5B,SAAWj5B,KAAKuN,IAAI,aAG3BkqJ,eAAgB,WACdz3J,KAAKwiC,MAAQxiC,KAAKuN,IAAI,SACtBvN,KAAKu3J,WAAav3J,KAAKuN,IAAI,eAG7BiqJ,eAAgB,WACd,GAAI11C,GAAQ9hH,KAAKuN,IAAI,QACrBvN,MAAK8hH,MAAMl/F,MAAMk/F,MAKrBy/B,IAAIgC,IAAIC,GAAGmU,QAAUr3J,SAAS0+B,WAAWt5B,QACvC83B,MAAO+jH,IAAIgC,IAAIC,GAAG8T,cASpB/V,IAAIgC,IAAIC,GAAGoU,WAAarW,IAAIC,KAAKv+G,KAAKv9B,QAEpC69B,QAAS,KAETxG,WAAY,WAEVx8B,EAAE61B,QAAQp2B,KAAM,UAEhBA,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAW14B,EAAE04B,SAASj5B,KAAK0Y,QAAQugB,UAAYsoH,IAAImG,UAAUF,YAAY,eAIxG/jH,OAAQ,WAEN,GAAI37B,EACJ9H,MAAKw9B,MAAM3mB,WAAWC,KAAO,GAAG9W,KAAKw9B,MAAM3mB,WAAWC,KAEpDhP,EAD4B,SAA1B9H,KAAKw9B,MAAMjwB,IAAI,SAAsBvN,KAAKw9B,MAAMjwB,IAAI,SAC9C,QAAUvN,KAAKw9B,MAAMjwB,IAAI,SAAW,IAEpCvN,KAAKw9B,MAAMjwB,IAAI,QAGzB,IAAImL,GAAUnY,EAAEmF,OAAQ1F,KAAKw9B,MAAM7mB,UAAY7O,MAAOA,GAItD,OAFA9H,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAErB1Y,KAAKwjC,OAShB+9G,IAAIgC,IAAIC,GAAGqU,OAAStW,IAAIC,KAAKv+G,KAAKv9B,QAEhC4N,UAAW,iBAEXlL,QACE07D,UAAwB,mBACxB/B,UAAwB,mBACxBC,WAAwB,mBACxBE,cAAwB,mBACxB41F,SAAwB,mBACxBvhF,WAAwB,mBACxBwhF,eAAwB,mBACxBC,QAAwB,mBACxB53I,MAAwB,oBAG1B2c,WAAY,WACVx8B,EAAE61B,QAAQp2B,KAAM,SAAU,OAAQ,QAElCO,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9BpzJ,KAAKgO,IAAMhO,KAAK0Y,QAAQ1K,IAExBhO,KAAKi4J,cACLj4J,KAAKk4J,cAELl4J,KAAKm4J,qBAGPC,iBAAkB,SAASv/D,GACzBA,EAAGh8E,mBAGLo7I,YAAa,WACNj4J,KAAKw9B,QAERx9B,KAAKw9B,MAAQ,GAAI+jH,KAAIgC,IAAIC,GAAG8T,aAC1BhyJ,KAAMtF,KAAK0Y,QAAQpT,MAAQi8I,IAAIgC,IAAIC,GAAG8T,YAAYjsJ,UAAU2rB,SAAS1xB,KACrEk9B,MAAOxiC,KAAK0Y,QAAQ8pB,OAAS++G,IAAIgC,IAAIC,GAAG8T,YAAYjsJ,UAAU2rB,SAASwL,MACvE+0H,WAAYv3J,KAAK0Y,QAAQ6+I,YAAchW,IAAIgC,IAAIC,GAAG8T,YAAYjsJ,UAAU2rB,SAASugI,WACjFt+H,SAAUj5B,KAAK0Y,QAAQugB,UAAYsoH,IAAIgC,IAAIC,GAAG8T,YAAYjsJ,UAAU2rB,SAASiC,YAIjFj5B,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAG5Bx9B,KAAKw9B,MAAM3d,KAAK,SAAW7f,KAAKm4J,kBAAmBn4J,OAGrDm4J,kBAAmB,WACjB,GAAI7yJ,GAAOtF,KAAKw9B,MAAMjwB,IAAI,OAG1B,IAFAvN,KAAKq4J,YAAcr4J,KAAKs4J,YAAYhzJ,GAAQ,SAEhC,QAARA,GAA0B,MAARA,EACpBtF,KAAKq4J,YAAc,KACnBr4J,KAAKw9B,MAAMnlB,KAAM/S,KAAM,SAAYu3B,QAAQ,QACtC,KAAK0kH,IAAIgC,IAAIC,GAAGxjJ,KAAKq4J,aAK1B,MAFAr4J,MAAKq4J,YAAc,SACnBr4J,MAAKw9B,MAAMnlB,KAAM/S,KAAMtF,KAAKw9B,MAAMoB,SAAS,UAAa/B,QAAQ,GAIlE78B,MAAKu4J,YAGPD,YAAa,SAASh/H,GACpB,GAAIA,GAAU/4B,EAAE+2B,SAASgC,GACvB,MAAOA,GAAOhtB,OAAO,GAAGtB,cAAgBsuB,EAAOz2B,MAAM,IAIzD01J,SAAU,WAGJv4J,KAAK2nC,MAAM3nC,KAAK2nC,KAAKrgB,OAEzB,IAAIhiB,GAAQtF,KAAKw9B,MAAMjwB,IAAI,OACfvN,MAAKw9B,MAAMjwB,IAAI,SACVvN,KAAKw9B,MAAMjwB,IAAI,cACjBvN,KAAKw9B,MAAMjwB,IAAI,WAE1BjI,IAAQtF,KAAKq4J,aACfr4J,KAAK2nC,KAAO,GAAI45G,KAAIgC,IAAIC,GAAGxjJ,KAAKq4J,cAC9B76H,MAAOx9B,KAAKw9B,QAIdx9B,KAAKwjC,IAAIxrB,cACThY,KAAKwjC,IAAIzrB,SAAS/X,KAAKsT,UAAY,IAAMtT,KAAKw9B,MAAMjwB,IAAI,WAExDvN,KAAKyvB,OAELzvB,KAAKwjC,IAAIxrB,cACThY,KAAKwjC,IAAIzrB,SAAS/X,KAAKsT,UAAY,UAGrCtT,KAAKyjC,UAGPy0H,YAAa,WAGXl4J,KAAK8hH,MAAQ9hH,KAAKw9B,MAAMskF,MAEpB9hH,KAAK0Y,QAAQlQ,MACfxI,KAAK8hH,MAAMl/F,MAAM5iB,KAAK0Y,QAAQlQ,MAGhCxI,KAAK8hH,MAAMjiG,KAAK,sCAAuC7f,KAAKyjC,OAAQzjC,OAGtEyjC,OAAQ,WAkBN,MAjBIzjC,MAAK2nC,OAEH3nC,KAAKw9B,MAAMjwB,IAAI,aACjBvN,KAAKwjC,IAAI5qB,KAAK5Y,KAAK2nC,KAAKlE,SAASD,IAAI5qB,QACrC5Y,KAAKwjC,IAAIxrB,YAAYhY,KAAKw9B,MAAMjwB,IAAI,SACpCvN,KAAKwjC,IAAIzrB,SAAS,YAElB/X,KAAKwjC,IAAI5qB,KAAK5Y,KAAK2nC,KAAKlE,SAASD,IAAI5qB,QAGnC5Y,KAAKw9B,MAAMjwB,IAAI,cAAe,EAChCvN,KAAKyvB,OAELzvB,KAAKuvB,QAIFvvB,MAGTuvB,KAAM,SAASuM,GACb,GAAIx2B,GAAOtF,KAAKw9B,MAAMjwB,IAAI,OACtBjI,IAAgB,QAARA,GAAgBtF,KAAKwjC,IAAIjU,QAGvCE,KAAM,SAASqM,GACT97B,KAAKw9B,MAAMjwB,IAAI,SAASvN,KAAKwjC,IAAI/T,UAQzC8xH,IAAIgC,IAAIC,GAAGgV,YAAcjX,IAAIC,KAAKv+G,KAAKv9B,WAMvC67I,IAAIgC,IAAIC,GAAGiV,WAAalX,IAAIC,KAAKv+G,KAAKv9B,QAEpCmsJ,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,iDAAkD7f,KAAKyjC,OAAQzjC,OAIjFilD,MAAO,SAASnhB,GACd3jC,EAAE2jC,GAASlrB,KAAK5Y,KAAKyjC,SAASD,MAGhCk1H,SAAU,SAASl2H,GACjBxiC,KAAKw9B,MAAMnlB,IAAI,QAASmqB,IAG1Bm2H,UAAW,WACT34J,KAAKw9B,MAAMnlB,IAAI,cAAc,IAG/BugJ,UAAW,WACT54J,KAAKw9B,MAAMnlB,IAAI,cAAc,MASjCkpI,IAAIgC,IAAIC,GAAGqV,WAActX,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,WAC/C67I,IAAIgC,IAAIC,GAAGqU,OAAOiB,KAAOvX,IAAIC,KAAKv+G,KAAKv9B,WAMvC67I,IAAIgC,IAAIC,GAAGuV,iBAAmBxX,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,QAElD4N,UAAW,oBAEX2lB,SAAU14B,EAAE04B,SAAS,oRAErB8D,WAAY,WAEV/8B,KAAK8hH,MAAW9hH,KAAKw9B,MAAMskF,OAI7Bk3C,mBAAoB,WAElB,GAAIC,GAAS,EAEb,IAAIj5J,KAAKw9B,MAAMjwB,IAAI,UACjB,MAAOhN,GAAEyN,IAAIhO,KAAKw9B,MAAMjwB,IAAI,UAAW,SAAS+lD,GAC9C,MAAO,qDAAuDA,EAAQ,aACrEvlD,KAAK,GAGR,KAAK,GAAI5J,GAAI,EAAGA,EAAInE,KAAK8hH,MAAM19G,OAAQD,IAAK,CAC1C,GAAImvD,GAAQtzD,KAAK8hH,MAAMniF,GAAGx7B,GAAGoJ,IAAI,QACjC0rJ,IAAU,qDAAqD3lG,EAAM,WAIzE,MAAO2lG,IAITC,aAAc,SAASrxJ,GAErB7H,KAAKw9B,MAAMnlB,IAAI,YAAaxQ,IAI9BsxJ,cAAe,SAAStxJ,GAEtB7H,KAAKw9B,MAAMnlB,IAAI,aAAcxQ,IAI/BuxJ,UAAW,SAASH,GAElBj5J,KAAKw9B,MAAMnlB,IAAI,SAAU4gJ,IAI3Bx1H,OAAQ,WAEN,GAAIzjC,KAAKw9B,MAAMjwB,IAAI,YAAa,CAE9B,GAAI0rB,GAAW14B,EAAE04B,SAASsoH,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,YAAavN,KAAKw9B,MAAMjwB,IAAI,qBAC5FvN,MAAKwjC,IAAI5qB,KAAKqgB,EAASj5B,KAAKw9B,MAAM7mB,eAKlC,IAAI3W,KAAK8hH,MAAM19G,QAAU,EAAG,CAE1BpE,KAAKq5J,UAAar5J,KAAK8hH,MAAMniF,GAAG,GAChC3/B,KAAKs5J,WAAat5J,KAAK8hH,MAAMniF,GAAG,EAEhC,IAAI05H,GAAcr5J,KAAKw9B,MAAMjwB,IAAI,cAAiBvN,KAAKq5J,UAAU9rJ,IAAI,SACjE+rJ,EAAct5J,KAAKw9B,MAAMjwB,IAAI,eAAiBvN,KAAKs5J,WAAW/rJ,IAAI,SAElE0rJ,EAASj5J,KAAKg5J,qBAEdtgJ,EAAUnY,EAAEmF,OAAQ1F,KAAKw9B,MAAM7mB,UAAY0iJ,UAAWA,EAAWC,WAAYA,EAAYL,OAAQA,EAAQM,cAAeN,EAAO70J,QAEnIpE,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAIhC,MAAO1Y,SAUXuhJ,IAAIgC,IAAIC,GAAGgW,cAAgBjY,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,QAE/C4N,UAAW,iBAEX2lB,SAAU14B,EAAE04B,SAAS,gRAErB8D,WAAY,WAEV/8B,KAAK8hH,MAAW9hH,KAAKw9B,MAAMskF,OAI7Bo3C,aAAc,SAASrxJ,GAErB7H,KAAKw9B,MAAMnlB,IAAI,YAAaxQ,IAI9BsxJ,cAAe,SAAStxJ,GAEtB7H,KAAKw9B,MAAMnlB,IAAI,aAAcxQ,IAI/BuxJ,UAAW,SAASH,GAElBj5J,KAAKw9B,MAAMnlB,IAAI,SAAU4gJ,IAI3BD,mBAAoB,WAElB,GAAIC,GAAS,EAEb,IAAIj5J,KAAKw9B,MAAMjwB,IAAI,UAEjB,MAAOhN,GAAEyN,IAAIhO,KAAKw9B,MAAMjwB,IAAI,UAAW,SAAS+lD,GAC9C,MAAO,uDAAyDA,EAAQ,aACvEvlD,KAAK,GAIR,KAAK,GAAI5J,GAAI,EAAGA,EAAInE,KAAK8hH,MAAM19G,OAAQD,IAAK,CAC1C,GAAImvD,GAAQtzD,KAAK8hH,MAAMniF,GAAGx7B,GAAGoJ,IAAI,QACjC0rJ,IAAU,uDAAuD3lG,EAAM,WAI3E,MAAO2lG,IAKTx1H,OAAQ,WAEN,GAAIzjC,KAAKw9B,MAAMjwB,IAAI,YAAa,CAE9B,GAAI0rB,GAAW14B,EAAE04B,SAASsoH,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,YAAavN,KAAKw9B,MAAMjwB,IAAI,qBAC5FvN,MAAKwjC,IAAI5qB,KAAKqgB,EAASj5B,KAAKw9B,MAAM7mB,eAIlC,IAAI3W,KAAK8hH,MAAM19G,QAAU,EAAG,CAE1BpE,KAAKq5J,UAAar5J,KAAK8hH,MAAMniF,GAAG,GAChC3/B,KAAKs5J,WAAat5J,KAAK8hH,MAAMniF,GAAG,EAEhC,IAAI05H,GAAar5J,KAAKw9B,MAAMjwB,IAAI,cAAiBvN,KAAKq5J,UAAU9rJ,IAAI,SAChE+rJ,EAAat5J,KAAKw9B,MAAMjwB,IAAI,eAAiBvN,KAAKs5J,WAAW/rJ,IAAI,SAEjE0rJ,EAASj5J,KAAKg5J,qBAEdtgJ,EAAUnY,EAAEmF,OAAQ1F,KAAKw9B,MAAM7mB,UAAY0iJ,UAAWA,EAAWC,WAAYA,EAAYL,OAAQA,EAAQM,cAAeN,EAAO70J,QAEnIpE,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAIhC,MAAO1Y,SAUXuhJ,IAAIgC,IAAIC,GAAGqU,OAAO4B,QAAUlY,IAAIgC,IAAIC,GAAGgW,cAAc9zJ,QAEnDJ,KAAM,UAENgO,UAAW,yBAEXypB,WAAY,WAEV/8B,KAAK8hH,MAAW9hH,KAAK0Y,QAAQopG,MAE7B9hH,KAAKw9B,MAAQ,GAAI+jH,KAAIgC,IAAIC,GAAG8T,aAC1BhyJ,KAAetF,KAAKsF,KACpBk9B,MAAexiC,KAAK0Y,QAAQ8pB,MAC5B+0H,aAAev3J,KAAK0Y,QAAQ8pB,MAC5B62H,UAAer5J,KAAK0Y,QAAQ+Q,MAAQzpB,KAAK0Y,QAAQ2gJ,UACjDC,WAAet5J,KAAK0Y,QAAQqqC,OAAS/iD,KAAK0Y,QAAQ4gJ,WAClDL,OAAej5J,KAAK0Y,QAAQugJ,OAC5BM,cAAev5J,KAAK0Y,QAAQugJ,OAASj5J,KAAK0Y,QAAQugJ,OAAO70J,OAAS,EAClE09G,MAAc9hH,KAAK0Y,QAAQopG,QAG7B9hH,KAAK6xJ,cAIPA,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,gHAAiH7f,KAAKyjC,OAAQzjC,OAIhJg5J,mBAAoB,WAElB,MAAOz4J,GAAEyN,IAAIhO,KAAKw9B,MAAMjwB,IAAI,UAAW,SAAS+lD,GAC9C,MAAO,iDAAmDA,EAAQ,aACjEvlD,KAAK,KAIV01B,OAAQ,WAEN,GAAI/qB,GAAUnY,EAAEmF,OAAO1F,KAAKw9B,MAAM7mB,UAAYsiJ,OAAQj5J,KAAKg5J,sBAI3D,OAFAh5J,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAErB1Y,QAUXuhJ,IAAIgC,IAAIC,GAAGkW,gBAAkBnY,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,QAEjD4N,UAAW,mBAEX2lB,SAAU14B,EAAE04B,SAAS,wMAErB8D,WAAY,WAEV/8B,KAAK8hH,MAAc9hH,KAAKw9B,MAAMskF,OAIhC+vC,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,kBAAmB7f,KAAKyjC,OAAQzjC,OAIlD25J,SAAU,SAASrmG,GAEjBtzD,KAAKw9B,MAAMnlB,IAAI,QAASi7C,IAI1B4lG,aAAc,SAASrxJ,GAErB7H,KAAKw9B,MAAMnlB,IAAI,YAAaxQ,IAI9BsxJ,cAAe,SAAStxJ,GAEtB7H,KAAKw9B,MAAMnlB,IAAI,aAAcxQ,IAI/B+xJ,UAAW,SAASC,GAElB,GAAI/9I,GAAS,4CAA4CvP,KAAKstJ,EAE9D,OAAO/9I,IACLpR,EAAG0K,SAAS0G,EAAO,GAAI,IACvBpY,EAAG0R,SAAS0G,EAAO,GAAI,IACvBrb,EAAG2U,SAAS0G,EAAO,GAAI,KACrB,MAINg+I,UAAW,SAASpvJ,EAAGhH,EAAGjD,GAExB,QAASs5J,GAAe74J,GACtB,GAAI24J,GAAM34J,EAAEoK,SAAS,GACrB,OAAqB,IAAduuJ,EAAIz1J,OAAc,IAAMy1J,EAAMA,EAGvC,MAAO,IAAME,EAAervJ,GAAKqvJ,EAAer2J,GAAKq2J,EAAet5J,IAGtEu5J,mBAAoB,SAAS1mG,EAAO2mG,GAElC,GAAIC,GAAWl6J,KAAK45J,UAAUtmG,EAE9B,IAAI4mG,EAAU,CAMZ,IAAK,GAJDxvJ,GAAIwvJ,EAASxvJ,EACbhH,EAAIw2J,EAASx2J,EACbjD,EAAIy5J,EAASz5J,EAER0D,EAAI,EAAGA,GAAK81J,EAAO91J,IAC1BuG,EAAIsF,KAAKo6B,MAAM1/B,EAAIwvJ,EAASxvJ,EAAE,KAC9BhH,EAAIsM,KAAKo6B,MAAM1mC,EAAIw2J,EAASx2J,EAAE,KAC9BjD,EAAIuP,KAAKo6B,MAAM3pC,EAAIy5J,EAASz5J,EAAE,IAGhC,OAAOT,MAAK85J,UAAUpvJ,EAAEhH,EAAEjD,GAI5B,MAAO,WAIT05J,aAAc,SAASC,GAErB,GAAIv6J,GAAI,EAERA,IAAI,4BACJA,GAAI,8EACJA,GAAI,yHACJA,GAAI,gFACJA,GAAI,2EACJA,GAAI,2EACJA,GAAI,4EACJA,GAAI,iIACJA,GAAI,gFAEJ,IAAIw6J,GAAkB95J,EAAE04B,SAASp5B,GAE7By6J,EAAkBt6J,KAAKg6J,mBAAmBI,EAAW,EAEzDp6J,MAAKwjC,IAAIt2B,KAAK,UAAUT,KAAK,QAAS4tJ;AAAkB/mG,MAAO8mG,EAAWr3G,MAAOu3G,MAInF72H,OAAQ,WAEN,GAAIzjC,KAAKw9B,MAAMjwB,IAAI,YAAa,CAE9B,GAAI0rB,GAAW14B,EAAE04B,SAASsoH,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,YAAavN,KAAKw9B,MAAMjwB,IAAI,qBAC5FvN,MAAKwjC,IAAI5qB,KAAKqgB,EAASj5B,KAAKw9B,MAAM7mB,eAIlC,IAAI3W,KAAK8hH,MAAM19G,QAAU,EAAG,CAE1BpE,KAAKq5J,UAAar5J,KAAK8hH,MAAMniF,GAAG,GAChC3/B,KAAKs5J,WAAat5J,KAAK8hH,MAAMniF,GAAG,EAChC,IAAI2zB,GAActzD,KAAKw9B,MAAMjwB,IAAI,UAAYvN,KAAK8hH,MAAMniF,GAAG,GAAGpyB,IAAI,SAE9D8rJ,EAAcr5J,KAAKw9B,MAAMjwB,IAAI,cAAiBvN,KAAKq5J,UAAU9rJ,IAAI,SACjE+rJ,EAAct5J,KAAKw9B,MAAMjwB,IAAI,eAAiBvN,KAAKs5J,WAAW/rJ,IAAI,SAElEmL,EAAUnY,EAAEmF,OAAQ1F,KAAKw9B,MAAM7mB,UAAY28C,MAAOA,EAAO+lG,UAAWA,EAAWC,WAAYA,GAE/Ft5J,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAE5B1Y,KAAKm6J,aAAa7mG,GAKtB,MAAOtzD,SAUXuhJ,IAAIgC,IAAIC,GAAG+W,eAAiBhZ,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,QAEhD4N,UAAW,kBAEX2lB,SAAU14B,EAAE04B,SAAS,kGAErB8D,WAAY,WAEV/8B,KAAK8hH,MAAQ9hH,KAAKw9B,MAAMskF,OAI1B+vC,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,iDAAkD7f,KAAKyjC,OAAQzjC,OAIjFw6J,aAAc,WAEZx6J,KAAK8hH,MAAMr/G,KAAKzC,KAAKy6J,YAAaz6J,OAIpCy6J,YAAa,SAAShoH,GAEpB9K,KAAO,GAAI45G,KAAIgC,IAAIC,GAAGoU,YACpBp6H,MAAOiV,EACPn/B,UAAYm/B,EAAKllC,IAAI,UAAYklC,EAAKllC,IAAI,SAAStB,QAAQ,SAAW,GAAKwmC,EAAKllC,IAAI,SAA+B,SAApBklC,EAAKllC,IAAI,QAAsB,MAAQ,GACtI0rB,SAAU,wHAGZj5B,KAAKwjC,IAAIt2B,KAAK,MAAM0Z,OAAO+gB,KAAKlE,WAIlCA,OAAQ,WAEN,GAAIzjC,KAAKw9B,MAAMjwB,IAAI,YAAa,CAE9B,GAAI0rB,GAAW14B,EAAE04B,SAASsoH,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,YAAavN,KAAKw9B,MAAMjwB,IAAI,qBAC5FvN,MAAKwjC,IAAI5qB,KAAKqgB,EAASj5B,KAAKw9B,MAAM7mB,eAIlC3W,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAEnC3W,KAAK8hH,MAAM19G,OAAS,EACtBpE,KAAKw6J,eAELx6J,KAAKwjC,IAAI5qB,KAAK,0DAIlB,OAAO5Y,SAUXuhJ,IAAIgC,IAAIC,GAAGqU,OAAO6C,SAAWnZ,IAAIgC,IAAIC,GAAG+W,eAAe70J,QAErD4N,UAAW,0BAEXhO,KAAM,WAENy3B,WAAY,WAEV/8B,KAAK8hH,MAAQ,GAAIy/B,KAAIgC,IAAIC,GAAG6T,YAAYr3J,KAAK0Y,QAAQlQ,MAErDxI,KAAKw9B,MAAQ,GAAI+jH,KAAIgC,IAAIC,GAAG8T,aAC1BhyJ,KAAMtF,KAAKsF,KACXk9B,MAAOxiC,KAAK0Y,QAAQ8pB,MACpB+0H,aAAYv3J,KAAK0Y,QAAQ8pB,QAG3BxiC,KAAK6xJ,cAIPpuH,OAAQ,WAMN,MAJAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAEvC3W,KAAKw6J,eAEEx6J,QAUXuhJ,IAAIgC,IAAIC,GAAGmX,YAAcpZ,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,QAE7C4N,UAAW,eAEXhO,KAAM,QAEN2zB,SAAU14B,EAAE04B,SAAS,kGAErB8D,WAAY,WAEV/8B,KAAK8hH,MAAQ9hH,KAAKw9B,MAAMskF,OAI1B04C,aAAc,WAEZx6J,KAAK8hH,MAAMr/G,KAAKzC,KAAKy6J,YAAaz6J,OAIpCy6J,YAAa,SAAShoH,GAEpB9K,KAAO,GAAI45G,KAAIgC,IAAIC,GAAGoU,YACpBp6H,MAAOiV,EACPn/B,UAAYm/B,EAAKllC,IAAI,UAAYklC,EAAKllC,IAAI,SAAStB,QAAQ,SAAW,EAAK,MAAQ,GACnFgtB,SAAU,wHAGZj5B,KAAKwjC,IAAIt2B,KAAK,MAAM0Z,OAAO+gB,KAAKlE,WAIlCA,OAAQ,WAUN,MARAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAEnC3W,KAAK8hH,MAAM19G,OAAS,EACtBpE,KAAKw6J,eAELx6J,KAAKwjC,IAAI5qB,KAAK,wDAGT5Y,QAUXuhJ,IAAIgC,IAAIC,GAAGqU,OAAO+C,MAAQrZ,IAAIgC,IAAIC,GAAGqU,OAAO6C,SAASh1J,WAMrD67I,IAAIgC,IAAIC,GAAGqX,cAAgBtZ,IAAIC,KAAKv+G,KAAKv9B,QAEvC0C,QACE07D,UAAwB,mBACxB/B,UAAwB,mBACxBC,WAAwB,mBACxBE,cAAwB,mBACxB41F,SAAwB,mBACxBvhF,WAAwB,mBACxBwhF,eAAwB,mBACxBC,QAAwB,mBACxB53I,MAAwB,oBAG1B9M,UAAW,uBAEXypB,WAAY,WACVx8B,EAAEkC,KAAKzC,KAAK0Y,QAAQoiJ,QAAS96J,KAAK+6J,cAAe/6J,OAGnDo4J,iBAAkB,SAASv/D,GACzBA,EAAGh8E,mBAGLm+I,iBAAkB,SAASx2I,GACzB,IAAKxkB,KAAKi7J,cAAe,CACvBj7J,KAAKi7J,gBAEL,KAAK,GADDH,GAAU96J,KAAK0Y,QAAQoiJ,QAClB32J,EAAI,EAAGA,EAAI22J,EAAQ12J,SAAUD,EAAG,CACvC,GAAI8hB,GAAS60I,EAAQ32J,EACrBnE,MAAKi7J,cAAch1I,EAAOvN,QAAQ8L,OAASyB,GAG/C,MAAOjmB,MAAKi7J,cAAcz2I,IAG5Bu2I,cAAe,SAAS90I,GACtBA,EAAOuX,MAAM3d,KAAK,cAAe7f,KAAKk7J,iBAAkBl7J,MACxDA,KAAKwoJ,kBAAkBviI,EAAOuX,QAGhCiG,OAAQ,WAIN,MAHAzjC,MAAKw6J,eACLx6J,KAAKk7J,mBAEEl7J,MAGTw6J,aAAc,WACZj6J,EAAEkC,KAAKzC,KAAK0Y,QAAQoiJ,QAAS,SAASroH,GACpCzyC,KAAKwjC,IAAI5c,OAAO6rB,EAAKhP,SAASD,MAC7BxjC,OAGLk7J,iBAAkB,WAChB,GAAIpxI,GAAUvpB,EAAE8yB,KAAKrzB,KAAK0Y,QAAQoiJ,QAAS,SAAS70I,GAClD,MAAOA,GAAOuX,MAAMjwB,IAAI,UAAwC,QAA5B0Y,EAAOuX,MAAMjwB,IAAI,SAAsB0Y,EAAOuX,MAAMjwB,IAAI,cAC3FvN,KAEC8pB,GACF9pB,KAAKuvB,OAELvvB,KAAKyvB,OAGPlvB,EAAEkC,KAAKzC,KAAK0Y,QAAQoiJ,QAAS,SAASroH,GACpC,GAAI0oH,GAAc1oH,EAAKjV,KACS,UAA5B29H,EAAY5tJ,IAAI,SAAsB4tJ,EAAY5tJ,IAAI,cAAe,EACvEklC,EAAKhjB,OAELgjB,EAAKljB,QAENvvB,OAGLuvB,KAAM,WACJvvB,KAAKwjC,IAAIjU,QAGXE,KAAM,WACJzvB,KAAKwjC,IAAI/T,QAGXw1B,MAAO,SAASnhB,GACd3jC,EAAE2jC,GAASlrB,KAAK5Y,KAAKyjC,SAASD,QASlC+9G,IAAIgC,IAAIC,GAAGqU,OAAOuD,QAAU7Z,IAAIgC,IAAIC,GAAGqX,cAAcn1J,QAEnDq3B,WAAY,WAEV,GAAI/8B,KAAK0Y,QAAQoiJ,QAAS,CAExB,GAAIO,GAAe96J,EAAEyN,IAAIhO,KAAK0Y,QAAQoiJ,QAAS,SAAS70I,GACtD,MAAOA,GAAOuX,OAGhBx9B,MAAKs7J,YAAc,GAAI/Z,KAAIgC,IAAIC,GAAGmU,QAAQ0D,GAE1Cr7J,KAAKs7J,YAAYz7I,KAAK,oBAAqB7f,KAAKyjC,OAAQzjC,UAEnD,IAAIA,KAAK0Y,QAAQlQ,KAAM,CAE5B,GAAI6yJ,GAAe96J,EAAEyN,IAAIhO,KAAK0Y,QAAQlQ,KAAM,SAASyd,GACnD,MAAO,IAAIs7H,KAAIgC,IAAIC,GAAG8T,YAAYrxI,IAGpCjmB,MAAKs7J,YAAc,GAAI/Z,KAAIgC,IAAIC,GAAGmU,QAAQ0D,GAE1Cr7J,KAAKs7J,YAAYz7I,KAAK,oBAAqB7f,KAAKyjC,OAAQzjC,QAM5Ds4J,YAAa,SAASh/H,GACpB,GAAIA,GAAU/4B,EAAE+2B,SAASgC,GACvB,MAAOA,GAAOhtB,OAAO,GAAGtB,cAAgBsuB,EAAOz2B,MAAM,IAIzD4gC,OAAQ,WAYN,MAVAzjC,MAAKwjC,IAAIlyB,QAETtR,KAAK86J,WAED96J,KAAKs7J,aAAet7J,KAAKs7J,YAAYl3J,OAAS,GAEhDpE,KAAKs7J,YAAY74J,KAAKzC,KAAKu7J,cAAev7J,MAIrCA,MAITu7J,cAAe,SAAS/9H,GAEtB,GAAIl4B,GAAOk4B,EAAMjwB,IAAI,OAEhBjI,KAAMA,EAAO,UAElBA,EAAOtF,KAAKs4J,YAAYhzJ,EAExB,IAAIqiC,GAAO,GAAI45G,KAAIgC,IAAIC,GAAGqU,OAAOvyJ,GAAMk4B,EAAM3mB,WAE7C7W,MAAK86J,QAAQnvJ,KAAKg8B,GAEdnK,EAAMjwB,IAAI,cAAe,GAAOvN,KAAKwjC,IAAI5c,OAAO+gB,EAAKlE,SAASD,MAIpEg4H,YAAa,SAASz3J,GAEpB,MAAO/D,MAAK86J,QAAQ/2J,IAItB03J,UAAW,SAAS5kJ,GAElB,GAAIoP,GAAS,GAAIs7H,KAAIgC,IAAIC,GAAG8T,YAAYzgJ,EACxC7W,MAAKs7J,YAAY3vJ,KAAKsa,IAIxBy1I,eAAgB,SAAS33J,GAEvB,GAAIkiB,GAASjmB,KAAKs7J,YAAY37H,GAAG57B,EACjC/D,MAAKs7J,YAAY95J,OAAOykB,MAU5Bs7H,IAAIgC,IAAIC,GAAGmY,aAAepa,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,QAE9C4N,UAAW,gBACXhO,KAAM,SAEN2zB,SAAU14B,EAAE04B,SAAS,kGAErB8D,WAAY,WACV/8B,KAAK8hH,MAAQ9hH,KAAKw9B,MAAMskF,OAG1BtmG,QAAS,SAAShT,GAEhBxI,KAAK8hH,MAAQ,GAAIy/B,KAAIgC,IAAIC,GAAG6T,YAAY7uJ,GACxCxI,KAAKw9B,MAAMskF,MAAQ9hH,KAAK8hH,MACxB9hH,KAAKw9B,MAAMnlB,IAAI,QAAS7P,IAI1BgyJ,aAAc,WAEZx6J,KAAK8hH,MAAMr/G,KAAKzC,KAAKy6J,YAAaz6J,OAIpCy6J,YAAa,SAAShoH,GAEpB,GAAIxZ,GAAWj5B,KAAK0Y,QAAQkjJ,cAAgB,2FAE5Cj0H,MAAO,GAAI45G,KAAIgC,IAAIC,GAAGoU,YACpBp6H,MAAOiV,EACPn/B,UAAYm/B,EAAKllC,IAAI,UAAYklC,EAAKllC,IAAI,SAAStB,QAAQ,SAAW,EAAK,MAAQ,GACnFgtB,SAAUA,IAGZj5B,KAAKwjC,IAAIt2B,KAAK,MAAM0Z,OAAO+gB,KAAKlE,WAIlCA,OAAQ,WAEN,GAAIzjC,KAAKw9B,MAAMjwB,IAAI,YAAa,CAE9B,GAAI0rB,GAAW14B,EAAE04B,SAASsoH,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,YAAavN,KAAKw9B,MAAMjwB,IAAI,qBAC5FvN,MAAKwjC,IAAI5qB,KAAKqgB,EAASj5B,KAAKw9B,MAAM7mB,eAIlC3W,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAEnC3W,KAAK8hH,MAAM19G,OAAS,EACtBpE,KAAKw6J,eAELx6J,KAAKwjC,IAAI5qB,KAAK,iDAIlB,OAAO5Y,SAUXuhJ,IAAIgC,IAAIC,GAAGqU,OAAOgE,OAASta,IAAIgC,IAAIC,GAAGmY,aAAaj2J,QAEjD4N,UAAW,wBAEXhO,KAAM,SAENy3B,WAAY,WAEV/8B,KAAK8hH,MAAQ,GAAIy/B,KAAIgC,IAAIC,GAAG6T,YAAYr3J,KAAK0Y,QAAQlQ,MAAQxI,KAAK0Y,QAAQopG,OAE1E9hH,KAAKw9B,MAAQ,GAAI+jH,KAAIgC,IAAIC,GAAG8T,aAC1BhyJ,KAAMtF,KAAKsF,KACXk9B,MAAOxiC,KAAK0Y,QAAQ8pB,MACpB+0H,aAAYv3J,KAAK0Y,QAAQ8pB,MACzBs/E,MAAO9hH,KAAK8hH,MAAM7iF,OAClBhG,SAAUj5B,KAAK0Y,QAAQugB,WAGzBj5B,KAAK6xJ,cAIPA,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,8DAA+D7f,KAAKyjC,OAAQzjC,SAUhGuhJ,IAAIgC,IAAIC,GAAGsY,aAAeva,IAAIgC,IAAIC,GAAGiV,WAAW/yJ,QAE9C4N,UAAW,gBAEX2lB,SAAU14B,EAAE04B,SAAS,kMAErB8D,WAAY,WAEV/8B,KAAK8hH,MAAQ9hH,KAAKw9B,MAAMskF,OAI1B+vC,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,oFAAqF7f,KAAKyjC,OAAQzjC,OAIpH25J,SAAU,SAASrmG,GACjBtzD,KAAKw9B,MAAMnlB,IAAI,QAASi7C,IAG1ByoG,YAAa,SAASj0J,GACpB9H,KAAKw9B,MAAMnlB,IAAI,MAAOvQ,IAGxBk0J,YAAa,SAASl0J,GACpB9H,KAAKw9B,MAAMnlB,IAAI,MAAOvQ,IAGxBqyJ,aAAc,SAAS7mG,GACrBtzD,KAAKwjC,IAAIt2B,KAAK,UAAU3L,IAAI,aAAc+xD,IAG5C7vB,OAAQ,WAEN,GAAIzjC,KAAKw9B,MAAMjwB,IAAI,YAAa,CAE9B,GAAI0rB,GAAW14B,EAAE04B,SAASsoH,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKw9B,MAAMjwB,IAAI,YAAavN,KAAKw9B,MAAMjwB,IAAI,qBAC5FvN,MAAKwjC,IAAI5qB,KAAKqgB,EAASj5B,KAAKw9B,MAAM7mB,WAElC3W,KAAKwjC,IAAIxrB,YAAY,qBAEhB,CAEL,GAAIs7C,GAAQtzD,KAAKw9B,MAAMjwB,IAAI,WAAavN,KAAK8hH,MAAM19G,QAAU,EAAIpE,KAAK8hH,MAAMniF,GAAG,GAAGpyB,IAAI,SAAW,GAEjG,IAAIvN,KAAK8hH,MAAM19G,QAAU,EAAG,CAE1B,GAAIwwB,GAAM50B,KAAKw9B,MAAMjwB,IAAI,QAAUvN,KAAK8hH,MAAMniF,GAAG,GAAGpyB,IAAI,SACpD0C,EAAMjQ,KAAKw9B,MAAMjwB,IAAI,QAAUvN,KAAK8hH,MAAMniF,GAAG,GAAGpyB,IAAI,SAEpDmL,EAAUnY,EAAEmF,OAAO1F,KAAKw9B,MAAM7mB,UAAYie,IAAKA,EAAK3kB,IAAKA,GAE7DjQ,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAI9B1Y,KAAKm6J,aAAa7mG,GAGpB,MAAOtzD,SAWXuhJ,IAAIgC,IAAIC,GAAGqU,OAAOoE,OAAS1a,IAAIgC,IAAIC,GAAGsY,aAAap2J,QAEjD4N,UAAW,wBAEXhO,KAAM,SAENy3B,WAAY,WAEV/8B,KAAKw9B,MAAQ,GAAI+jH,KAAIgC,IAAIC,GAAG8T,aAC1BhyJ,KAAOtF,KAAKsF,KACZk9B,MAAOxiC,KAAK0Y,QAAQ8pB,MACpB5N,IAAO50B,KAAK0Y,QAAQkc,IACpB3kB,IAAOjQ,KAAK0Y,QAAQzI,IACpBqjD,MAAOtzD,KAAK0Y,QAAQ46C,MACpBikG,aAAYv3J,KAAK0Y,QAAQ8pB,QAG3BxiC,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAE5Bx9B,KAAK6xJ,cAIPpuH,OAAQ,WAMN,MAJAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAEvC3W,KAAKm6J,aAAan6J,KAAKw9B,MAAMjwB,IAAI,UAE1BvN,QAUXuhJ,IAAIgC,IAAIC,GAAGqU,OAAOqE,WAAa3a,IAAIgC,IAAIC,GAAGuV,iBAAiBrzJ,QAEzDJ,KAAM,aAENgO,UAAW,4BAEXypB,WAAY,WAEV/8B,KAAK8hH,MAAW9hH,KAAK0Y,QAAQopG,MAE7B9hH,KAAKw9B,MAAQ,GAAI+jH,KAAIgC,IAAIC,GAAG8T,aAC1BhyJ,KAAetF,KAAKsF,KACpBk9B,MAAexiC,KAAK0Y,QAAQ8pB,MAC5B+0H,aAAev3J,KAAK0Y,QAAQ8pB,MAC5B62H,UAAer5J,KAAK0Y,QAAQ+Q,MAASzpB,KAAK0Y,QAAQ2gJ,UAClDC,WAAet5J,KAAK0Y,QAAQqqC,OAAS/iD,KAAK0Y,QAAQ4gJ,WAClDL,OAAej5J,KAAK0Y,QAAQugJ,OAC5BM,cAAev5J,KAAK0Y,QAAQugJ,OAASj5J,KAAK0Y,QAAQugJ,OAAO70J,OAAS,IAGpEpE,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAC5Bx9B,KAAK6xJ,cAIPA,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,kGAAmG7f,KAAKyjC,OAAQzjC,OAIlIg5J,mBAAoB,WAElB,MAAOz4J,GAAEyN,IAAIhO,KAAKw9B,MAAMjwB,IAAI,UAAW,SAAS+lD,GAC9C,MAAO,qDAAuDA,EAAQ,aACrEvlD,KAAK,KAIV01B,OAAQ,WAEN,GAAI/qB,GAAUnY,EAAEmF,OAAO1F,KAAKw9B,MAAM7mB,UAAYsiJ,OAAQj5J,KAAKg5J,sBAI3D,OAFAh5J,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAErB1Y,QAWXuhJ,IAAIgC,IAAIC,GAAGqU,OAAOsE,UAAY5a,IAAIgC,IAAIC,GAAGkW,gBAAgBh0J,QAEvD4N,UAAW,2BACXhO,KAAM,YAENy3B,WAAY,WAEV/8B,KAAK8hH,MAAQ9hH,KAAK0Y,QAAQopG,MAE1B9hH,KAAKw9B,MAAQ,GAAI+jH,KAAIgC,IAAIC,GAAG8T,aAC1BhyJ,KAAMtF,KAAKsF,KACXk9B,MAAOxiC,KAAK0Y,QAAQ8pB,MACpB+0H,aAAYv3J,KAAK0Y,QAAQ8pB,MACzB8wB,MAAOtzD,KAAK0Y,QAAQ46C,MACpB+lG,UAAWr5J,KAAK0Y,QAAQ+Q,MAAQzpB,KAAK0Y,QAAQ2gJ,UAC7CC,WAAYt5J,KAAK0Y,QAAQqqC,OAAS/iD,KAAK0Y,QAAQ4gJ,aAGjDt5J,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAC5Bx9B,KAAK6xJ,cAIPA,WAAY,WAEV7xJ,KAAKw9B,MAAM3d,KAAK,iFAAkF7f,KAAKyjC,OAAQzjC,OAIjHyjC,OAAQ,WAMN,MAJAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAEvC3W,KAAKm6J,aAAan6J,KAAKw9B,MAAMjwB,IAAI,UAE1BvN,QAKXuhJ,IAAIgC,IAAIC,GAAG4Y,kBAAoB97J,SAAS+7B,MAAM32B,WAE9C67I,IAAIgC,IAAIC,GAAG6Y,cAAgB/7J,SAAS0+B,WAAWt5B,QAC7C83B,MAAO+jH,IAAIgC,IAAIC,GAAG4Y,oBAGpB7a,IAAIgC,IAAIC,GAAG8Y,aAAe/a,IAAIC,KAAKv+G,KAAKv9B,QAEtC69B,QAAS,KAETn7B,QAEEouJ,UAAY,UAIdz5H,WAAY,WAEVx8B,EAAE61B,QAAQp2B,KAAM,UAChBA,KAAKi5B,SAAWsoH,IAAImG,UAAUF,YAAY,+BAC1CxnJ,KAAKqiB,OAASriB,KAAK0Y,QAAQ2J,OAC3BriB,KAAKw9B,MAAM7d,GAAG,kBAAmB3f,KAAKyjC,SAIxCjrB,OAAQ,SAASlX,GACfA,EAAE4a,iBACFlc,KAAKqiB,OAAOlC,OAAOngB,KACnB,IAAI87B,GAAW97B,KAAKw9B,MAAMjwB,IAAI,WAE1BuuB,IACFA,KAKJ2H,OAAQ,WASN,MAPkC,IAA9BzjC,KAAKw9B,MAAMjwB,IAAI,YACjBvN,KAAKwjC,IAAIzrB,SAAS,YAElB/X,KAAKwjC,IAAIxrB,YAAY,YAGvBhY,KAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAChC3W,KAAKwjC,OAMhB+9G,IAAIgC,IAAIC,GAAG+Y,SAAWhb,IAAIC,KAAKv+G,KAAKv9B,QAElCuH,GAAI,WAEJmmJ,mBAIAr2H,WAAY,WAEV/8B,KAAKgO,IAAMhO,KAAKw9B,MAEhBx9B,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAE5Bj9B,EAAE61B,QAAQp2B,KAAM,SAAU,OAAQ,OAAQ,UAE1CO,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE1BpzJ,KAAKu8B,aACPv8B,KAAKw9B,MAAMjB,WAAav8B,KAAKu8B,YAG/Bv8B,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAWj5B,KAAK0Y,QAAQugB,SAAWsoH,IAAImG,UAAUF,YAAY,iBAG5Fj4H,KAAM,WACJvvB,KAAKwjC,IAAI/S,OAAO,MAGlBhB,KAAM,WACJzvB,KAAKwjC,IAAI9S,QAAQ,MAGnBvQ,OAAQ,SAASq8I,GAEXx8J,KAAKu8B,YACPv8B,KAAKu8B,WAAW95B,KAAK,SAASgwC,GAC5BA,EAAKp6B,IAAI,YAAao6B,EAAKllC,IAAI,gBAMrCk2B,OAAQ,WACN,GAAIsF,GAAO/oC,IAgBX,OAdkBk7B,SAAdl7B,KAAKw9B,OACPx9B,KAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAKw9B,MAAM7mB,WAGrC3W,KAAKu8B,YAEPv8B,KAAKu8B,WAAW95B,KAAK,SAASgwC,GAE5B,GAAI9K,GAAO,GAAI45G,KAAIgC,IAAIC,GAAG8Y,cAAej6I,OAAQ0mB,EAAMz1B,UAAWm/B,EAAKllC,IAAI,aAAciwB,MAAOiV,GAChG1J,GAAKvF,IAAIt2B,KAAK,MAAM0Z,OAAO+gB,EAAKlE,YAK7BzjC,QAwBXuhJ,IAAIgC,IAAIC,GAAGiZ,gBAAkBn8J,SAAS+7B,MAAM32B,QAE1Cg3J,gBAAiB,WAAY,uBAAwB,aAAc,aAAc,aAAc,yBAE/F1lI,UACEywH,cAAe,mBACftwG,QAAS,EAAG,GACZt+B,QAAS,GAAI,GACbo4C,UAAW,IACXpC,SAAS,EACT51B,SAAU,GACV0K,QAAS,GACTjb,YAAY,EACZi0I,qBACAC,OAAQ,MAGVC,YAAa,WACX78J,KAAKqY,KAAKukJ,aAGZE,WAAY,SAAStoI,GACnBA,EAAQA,GAAS,aACjBx0B,KAAKqY,IAAImc,EAAOj0B,EAAEqM,MAAM5M,KAAKuN,IAAI,aAGnCwvJ,WAAY,WACV,GAAIH,GAAS58J,KAAKuN,IAAI,SACtB,OAAKqvJ,GACEA,EAAOx4J,OADM,GAItB44J,cAAe,SAASC,EAAW7jF,GACjCA,EAAOA,GAAQ,YACf,IAAIwjF,GAAS58J,KAAKuN,IAAI6rE,EACnB6jF,KACDL,EAASA,EAAO1zJ,OAAO,SAASvI,GAC9B,MAAOJ,GAAE6e,SAAS69I,EAAWt8J,EAAEmW,SAGhC8lJ,GAAUA,EAAOx4J,QAClBpE,KAAKk9J,WAAWN,GAElB58J,KAAKk9B,MAAMk8C,IAGb+jF,aAAc,WACZ,MAAO58J,GAAEP,KAAKuN,IAAI,WAAWS,IAAI,SAASnD,GACxC,MAAOtK,GAAEqM,MAAM/B,MAInBqyJ,WAAY,SAASv8J,GACnBA,EAAEuN,KAAK,SAAS1N,EAAGC,GAAK,MAAOD,GAAEqV,SAAYpV,EAAEoV,WAC/C7V,KAAKqY,KAAKukJ,OAAUj8J,KAGtBy8J,WAAY,WACVp9J,KAAKuN,IAAI,UAAUW,KAAK,SAAS1N,EAAGC,GAAK,MAAOD,GAAEqV,SAAWpV,EAAEoV,YAGjEwnJ,UAAW,SAASC,EAAW39H,GAC7B,GAAI49H,GAAMp9J,EAAEwR,UACZ,KAAI3R,KAAKw9J,cAAcF,GAAY,CACjC,GAAIV,GAAS58J,KAAKuN,IAAI,SACnBqvJ,IACDj9H,EAAYzE,SAAPyE,EAAmBi9H,EAAOx4J,OAAQu7B,EACvCi9H,EAAOjxJ,MAAOmL,KAAMwmJ,EAAW96H,OAAO,EAAM3sB,SAAU8pB,MAEtDA,EAAYzE,SAAPyE,EAAmB,EAAIA,EAC5B3/B,KAAKqY,IAAI,WAAavB,KAAMwmJ,EAAW96H,OAAO,EAAM3sB,SAAU8pB,KAAS9C,QAAQ,KAInF,MADA0gI,GAAI3rJ,UACG2rJ,EAAI/qJ,WAGbirJ,SAAU,SAASH,EAAW39H,GAC5B,GAAIoJ,GAAO/oC,IAMX,OALAG,GAAEsS,KAAKzS,KAAKq9J,UAAUC,EAAW39H,IAAKttB,KAAK,WACzC02B,EAAKq0H,aACLr0H,EAAKv6B,QAAQ,iBACbu6B,EAAKv6B,QAAQ,gBAERxO,MAGT09J,iBAAkB,SAASJ,EAAWj5J,GACpC,GAAGrE,KAAKw9J,cAAcF,GAAY,CAChC,GAAIV,GAAS58J,KAAKuN,IAAI,cAClBw5D,EAAMxmE,EAAE0L,QAAQ1L,EAAEq8J,GAAQroI,MAAM,QAAS+oI,EAC7C,OAAOV,GAAO71F,GAAK1iE,GAErB,MAAO,OAGTs5J,iBAAkB,SAASL,EAAWj5J,EAAGwG,GACvC,GAAG7K,KAAKw9J,cAAcF,GAAY,CAChC,GAAIV,GAAS58J,KAAKm9J,mBACdp2F,EAAMxmE,EAAE0L,QAAQ1L,EAAEq8J,GAAQroI,MAAM,QAAS+oI,EAC7CV,GAAO71F,GAAK1iE,GAAKwG,EACjB7K,KAAKk9J,WAAWN,GAElB,MAAO58J,OAGT49J,mBAAoB,SAASN,GAC3B,MAAOt9J,MAAKuN,IAAI,sBAAwBvN,KAAKuN,IAAI,qBAAqB+vJ,IAGxEO,mBAAoB,SAASP,EAAWQ,GACtC,GAAIC,GAAmB/9J,KAAKuN,IAAI,wBAEhCwwJ,GAAiBT,GAAaQ,EAC9B99J,KAAKqY,KAAMskJ,kBAAqBoB,IAChC/9J,KAAKwO,QAAQ,6BAGfwvJ,YAAa,SAASV,GACpB,GAAIr5J,GAAIjE,KAAK09J,iBAAiBJ,EAAW,WACzC,OAAQpiI,SAALj3B,EACMw2B,OAAO02E,UAETltG,GAGTg6J,wBAAyB,SAASX,GAChC,GAAIr1H,GAAQjoC,KAAKuN,IAAI,wBACrB,OAAO06B,GAAMq1H,IAGfE,cAAe,SAASF,GACtB,GAAIV,GAAS58J,KAAKuN,IAAI,aACtB,OAAOhN,GAAE6e,SAAS7e,EAAEq8J,GAAQroI,MAAM,QAAS+oI,IAG7CY,YAAa,SAASZ,GACpB,GAAGt9J,KAAKw9J,cAAcF,GAAY,CAChC,GAAIV,GAAS58J,KAAKm9J,mBACdp2F,EAAMxmE,EAAE0L,QAAQ1L,EAAEq8J,GAAQroI,MAAM,QAAS+oI,EAC1Cv2F,IAAO,GACR61F,EAAOzuJ,OAAO44D,EAAK,GAErB/mE,KAAKk9J,WAAWN,GAChB58J,KAAKwO,QAAQ,iBAEf,MAAOxO,OAITm+J,cAAe,SAAStnJ,GACtB,GAAI+lJ,GAAS58J,KAAKuN,IAAI,SACtBvN,MAAKqY,IAAI,UAAWkpI,IAAIgC,IAAIC,GAAGiZ,gBAAgB2B,iBAAiBvnJ,EAAY+lJ,KAG9EyB,gBAAiB,WACbr+J,KAAKuN,IAAI,gBACTvN,KAAKqY,IAAI,cAAc,GACvBrY,KAAKwO,QAAQ,aAKjB4vJ,iBAAkB,SAASvnJ,EAAY+lJ,EAAQlkJ,GAC7CA,EAAUA,KAEV,KAAI,GADA4lJ,MACI16J,EAAI,EAAGA,EAAIg5J,EAAOx4J,SAAUR,EAAG,CACrC,GAAI26J,GAAQ3B,EAAOh5J,GACfkE,EAAQ+O,EAAW0nJ,EAAMznJ,OAC1B4B,EAAQ8lJ,cAA2BtjI,SAAVpzB,GAAiC,OAAVA,IACjDw2J,EAAc3yJ,MACZ62B,MAAO+7H,EAAM/7H,MAAQ+7H,EAAMznJ,KAAO,KAClChP,MAAO+O,EAAW0nJ,EAAMznJ,MACxB0N,MAAO5gB,IAeb,MAT6B,KAAzB06J,EAAcl6J,QAChBk6J,EAAc3yJ,MACZ62B,MAAO,KACP16B,MAAO,oBACP0c,MAAO,EACPlf,KAAM,WAKRs3J,OAAQ0B,EACR91J,KAAMqO,MAKZ0qI,IAAIgC,IAAIC,GAAGgO,WAAajQ,IAAIC,KAAKv+G,KAAKv9B,QACpC4N,UAAW,qBAEXmrJ,cACEr0D,MAAO,GAAIhmG,OAAQ,EAAGxC,MAAO,EAAGo7D,OAAQ,EAAG4P,QAAS,EAAGy9B,OAAQ,EAAG/2C,MAAO,kBACzEnjC,MAAO,EAAGm6E,MAAO,GAAIv+B,QAAQ,EAAO8+B,SAAS,EAAMv3F,UAAW,UAAW4V,OAAQ,IACjFpT,IAAK,OAAQ2T,KAAM,OAAQ5T,SAAU,YAGvCzN,QAEEs2J,eAAwB,mBACxBC,oBAAwB,mBACxBC,uBAAwB,mBAExB96F,UAAwB,eACxB/B,UAAwB,eACxBC,WAAwB,eACxBE,cAAwB,eACxB41F,SAAwB,mBACxBC,eAAwB,gBACxB8G,oBAAwB,gBACxBtoF,WAAwB,gBACxByhF,QAAwB,mBACxB53I,MAAwB,oBAG1B2c,WAAY,WACV,GAAIgM,GAAO/oC,IAEXO,GAAE61B,QAAQp2B,KAAM,SAAU,YAAa,eAAgB,kBACrD,UAAW,SAAU,OAAQ,QAE/BA,KAAK60J,QAAU70J,KAAK0Y,QAAQm8I,QAGxB70J,KAAK0Y,QAAQugB,UAAUj5B,KAAKw9B,MAAMnlB,IAAI,WAAYrY,KAAK0Y,QAAQugB,UAI/Dj5B,KAAKw9B,MAAMjwB,IAAI,YACjBvN,KAAK8+J,mBAEL9+J,KAAK++J,eAGP/+J,KAAKw9B,MAAM3d,KAAK,iBAA8B7f,KAAKyjC,OAAQzjC,MAC3DA,KAAKw9B,MAAM3d,KAAK,uBAA8B7f,KAAK++J,aAAc/+J,MACjEA,KAAKw9B,MAAM3d,KAAK,gBAA8B7f,KAAK2kD,QAAS3kD,MAC5DA,KAAKw9B,MAAM3d,KAAK,oBAA8B7f,KAAKmgB,OAAQngB,MAC3DA,KAAKw9B,MAAM3d,KAAK,kBAA8B7f,KAAK8+J,iBAAkB9+J,MACrEA,KAAKw9B,MAAM3d,KAAK,0BAA8B7f,KAAK8+J,iBAAkB9+J,MACrEA,KAAKw9B,MAAM3d,KAAK,2BAA8B7f,KAAKyjC,OAAQzjC,MAC3DA,KAAKw9B,MAAM3d,KAAK,eAA8B7f,KAAKyjC,OAAQzjC,MAC3DA,KAAKw9B,MAAM3d,KAAK,mBAA8B7f,KAAKyjC,OAAQzjC,MAE3DA,KAAK60J,QAAQ7mJ,IAAI6R,KAAK,SAAsB7f,KAAKwvD,gBAAiBxvD,MAElEA,KAAK60J,QAAQh1I,KAAK,YAAa,WAC7BkpB,EAAKtZ,MAAK,KAGZzvB,KAAK60J,QAAQh1I,KAAK,UAAW,WAC3BkpB,EAAKxZ,MAAK,KAGZvvB,KAAKwoJ,kBAAkBxoJ,KAAK60J,QAAQ7mJ,KAGpChO,KAAKwjC,IAAI/T,QAOXgU,OAAQ,WAEN,GAAGzjC,KAAKi5B,SAAU,CAGhB,GAAI+lI,GAAeh/J,KAAKG,EAAE,yBACtB6+J,GAAa56J,OAAS,GAA4B,MAAvB46J,EAAax2J,QAC1Cw2J,EAAax2J,OAAOk7F,KAAOs7D,EAAax2J,OAAOk7F,IAAIvlE,SAIrD,IAAIy+H,GAASr8J,EAAEyN,IAAIhO,KAAKw9B,MAAM3mB,WAAW8sB,QAAQi5H,OAAQ,SAAS2B,GAChE,MAAOh+J,GAAEqM,MAAM2xJ,KAEb/1J,EAAOxI,KAAKw9B,MAAMjwB,IAAI,WAAavN,KAAKw9B,MAAMjwB,IAAI,WAAW/E,OAIjE,IAAIxI,KAAKw9B,MAAMjwB,IAAI,iBAAkB,CACnC,GAAIk6I,GAAgBlnJ,EAAEqM,MAAM5M,KAAKw9B,MAAM3mB,WAAW4wI,cAGlDmV,GAAS58J,KAAKi/J,gBAAgBrC,EAAQnV,GAKxC,GAAItyH,KACJ50B,GAAEkC,KAAKzC,KAAKw9B,MAAMjwB,IAAI,WAAWqvJ,OAAQ,SAASsC,GAChD/pI,EAAO+pI,EAAK18H,OAAS08H,EAAKp3J,OAG5B,IAAIyhC,GAAMhpC,EAAEmF,QACRi+B,SACEi5H,OAAQA,EACRp0J,KAAMA,IAER2sB,EAEJn1B,MAAKwjC,IAAI5qB,KACP2oI,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKi5B,SAASsQ,GAAMvpC,KAAKw9B,MAAMjwB,IAAI,sBAKxDvN,KAAKw9B,MAAMjwB,IAAI,UACjBvN,KAAKG,EAAE,kBAAkBoB,IAAI,QAASvB,KAAKw9B,MAAMjwB,IAAI,SAAW,MAElEvN,KAAKG,EAAE,yCAAyCoB,IAAI,aAAcvB,KAAKw9B,MAAMjwB,IAAI,aAAe,KAKhG,IAAIw7B,GAAO/oC,IACXiD,YAAW,WACT,GAAIk8J,GAAgBp2H,EAAK5oC,EAAE,0BAA0BizD,aACjDrqB,GAAKvL,MAAMjwB,IAAI,cAAgB4xJ,GACjCp2H,EAAK5oC,EAAE,0BAA0B08F,aAC/B8F,sBAAuB,GACvBxC,kBAAkB,KAErB,GAGHngG,KAAKo/J,gBAGLp/J,KAAKq/J,aAEDr/J,KAAKs/J,kBACPt/J,KAAKw9B,MAAMhvB,QAAQ,WAAYxO,KAAMA,KAAKwjC,KAC1CxjC,KAAKwO,QAAQ,WAAYxO,KAAMA,KAAKwjC,MAIxC,MAAOxjC,OAGTu/J,kBAAmB,WACjB,MAAOv/J,MAAKw9B,MAAMjwB,IAAI,kBAMxBwxJ,aAAc,WACR/+J,KAAKw9B,MAAMjwB,IAAI,mBACjBvN,KAAKi5B,SAAWsoH,IAAImG,UAAUF,YAAYxnJ,KAAKu/J,qBAC/Cv/J,KAAKyjC,WAOTq7H,iBAAkB,WAChB,GAAI7lI,GAAWj5B,KAAKw9B,MAAMjwB,IAAI,YAC5BvN,KAAKw9B,MAAMjwB,IAAI,YACfg0I,IAAImG,UAAUF,YAAYxnJ,KAAKu/J,oBAET,mBAAf,GACPv/J,KAAKi5B,SAAW,GAAIsoH,KAAIC,KAAKoF,UAC3B3tH,SAAUA,EACV3zB,KAAMtF,KAAKw9B,MAAMjwB,IAAI,kBAAoB,aACxC65I,aAEHpnJ,KAAKi5B,SAAWA,EAGlBj5B,KAAKyjC,UAMP+7H,aAAc,SAAS3mE,GAIrB,GAAI4mE,GAAqBt/J,EAAE04F,EAAG98E,QAAQ0I,QAAQ,mBAAmBrgB,OAAS,GAAkB,cAAXy0F,EAAGvzF,IAE/Em6J,IACH5mE,EAAGh8E,mBAOPoiJ,gBAAiB,SAASrC,EAAQnV,GAChC,GAAIiY,KACJ,IAAI9C,GAAUA,EAAOx4J,OAAS,EAAG,CAC/B,GAAI2kC,GAAO/oC,IACX0/J,GAAmBn/J,EAAEyN,IAAI4uJ,EAAQ,SAAS2B,EAAMp6J,GAE9C,MAAO4kC,GAAK42H,eAAepB,EAAO9W,EAAe8W,EAAM/5I,OAASrgB,KAGpE,MAAOu7J,IAWTC,eAAgB,SAASlzJ,EAAMg7I,EAAel2H,GAE1B,MAAd9kB,EAAK3E,OAA+BozB,QAAdzuB,EAAK3E,QAC7B2E,EAAK3E,MAAQ,GAIf,IAAI83J,GAAmB5/J,KAAKw9B,MAAMogI,mBAAmBnxJ,EAAK+1B,MAEtD/1B,GAAK+1B,OAASo9H,EAEhBnzJ,EAAK+1B,MAAQo9H,EACJnzJ,EAAK+1B,QAEd/1B,EAAK+1B,MAAQ/1B,EAAK+1B,MAAM99B,QAAQ,KAAK,KAIvC,IAAI4hJ,GAAY75I,EAAK3E,MAAMwD,UAyB3B,QAtBKmB,EAAKnH,MAAa,GAALisB,GAAU9kB,EAAK3E,MAAM1D,OAAS,IAAMqjJ,GAAiBA,EAAc/lH,OAAO,cAAe,IACzG4kH,EAAY75I,EAAK3E,MAAM9B,OAAO,EAAE,IAAM,QAInCyG,EAAKnH,MAAa,GAALisB,GAAU9kB,EAAK3E,MAAM1D,OAAS,IAAMqjJ,GAAiBA,EAAc/lH,OAAO,wBAAyB,IACnH4kH,EAAY75I,EAAK3E,MAAM9B,OAAO,EAAE,IAAM,OAIpChG,KAAK6/J,YAAYpzJ,EAAK3E,SACxBw+I,EAAY,YAAc75I,EAAK3E,MAAQ,qBAAuBw+I,EAAY,QAInE,GAAL/0H,GAAUk2H,EAAc/lH,OAAO,wBAAyB,IAC1D4kH,EAAY75I,EAAK3E,OAInB2E,EAAK3E,MAAQw+I,EAEN75I,GAGT6yJ,cAAe,WACb,GAAI37H,GAAU3jC,KAAKw9B,MAAMjwB,IAAI,UAC7B,OAAOo2B,GAAQi5H,QAAmC,GAAzBj5H,EAAQi5H,OAAOx4J,QAA0C,YAA3Bu/B,EAAQi5H,OAAO,GAAGt3J,MAM3E85J,cAAe,WACTp/J,KAAKs/J,gBACPt/J,KAAK8/J,gBAEL9/J,KAAK+/J,gBAOTA,aAAc,WACR//J,KAAKggK,SACPhgK,KAAKggK,QAAQxoJ,QAMjBsoJ,cAAe,SAASt8H,GACtBxjC,KAAK+/J,cAEL,IAAIv8H,GAAMxjC,KAAKwjC,IAAIt2B,KAAK,WAExB,IAAIs2B,EAAK,CAEP,GAAIy8H,GAAgBjgK,KAAKw9B,MAAMjwB,IAAI,iBAAiBm0B,OAAO,UAAW,CAElEu+H,GACFjgK,KAAKy+J,aAAanrG,MAAQ,OAE1BtzD,KAAKy+J,aAAanrG,MAAQ,kBAG5BtzD,KAAKggK,QAAU,GAAI90D,SAAQlrG,KAAKy+J,cAAcj0D,OAC9ChnE,EAAI5c,OAAO5mB,KAAKggK,QAAQp8H,MAO5Bs8H,eAAgB,WACd,QAAOlgK,KAAKwjC,IAAIt2B,KAAK,yBAAyBT,KAAK,eAOrD0zJ,aAAc,WACZ,GAAIx8H,GAAU3jC,KAAKw9B,MAAMjwB,IAAI,UAE7B,UAAIo2B,GAAWA,EAAQi5H,QAAUj5H,EAAQi5H,OAAOx4J,OAAS,KAC/Cu/B,EAAQi5H,OAAO,GAAG90J,OAAS,IAAIwD,YAS3C+zJ,WAAY,WAEV,GAAKr/J,KAAKkgK,iBAAV,CAEA,GACIE,GAASpgK,KAAKG,EAAE,UAChBkgK,EAAOD,EAAOlzJ,KAAK,OACnBozJ,EAAUtgK,KAAKG,EAAE,WACjBynB,EAAM5nB,KAAKmgK,cAEf,KAAKngK,KAAK6/J,YAAYj4I,GAIpB,MAHAy4I,GAAK5wI,OACL6wI,EAAQ7wI,WACR8xH,KAAInqG,IAAIuuG,KAAK,6BAKf,IAAI5pI,GAAU7Z,SAAS8K,eAAe,WAClCmvF,GAAYiO,MAAO,EAAGhmG,OAAQ,EAAGxC,MAAO,EAAGo7D,OAAQ,EAAG4P,QAAS,EAAGy9B,OAAQ,EAAG/2C,MAAO,OAAQnjC,MAAO,EAAGm6E,MAAO,GAAIv+B,QAAQ,EAAM8+B,SAAS,EAAO3hF,OAAQ,KACvJ82I,EAAU,GAAI90D,SAAQ/O,GAAMqO,KAAKzuF,EAIrCskJ,GAAK5wI,KAAK,WACRzvB,KAAKwB,WAGP6+J,EAAOlgK,EAAE,WAAWsM,KAAK,MAAOmb,GAChCw4I,EAAOx5I,OAAOy5I,GAEdA,EAAKjiJ,KAAK,WACR4hJ,EAAQxoJ,MAER,IAAI1M,GAAKu1J,EAAKz+J,QACV+B,EAAK08J,EAAKx+J,SACV0+J,EAAaH,EAAOx+J,QACpB4+J,EAAcJ,EAAOv+J,SAErB4tE,EAAQ9rE,EAAImH,EACZ21J,EAAaD,EAAcD,CAG/B,IAAKz1J,EAAIy1J,GAAc58J,EAAI68J,EACzB,GAAK/wF,EAAQgxF,EAAaJ,EAAK9+J,KAAMM,OAAQ2+J,QACxC,CACH,GAAIE,GAAmB/8J,GAAKmH,EAAIy1J,EAChCF,GAAK9+J,KAAMK,MAAO2+J,EAAYzqJ,IAAK,MAAOD,SAAU,WAAYgqH,cAAc,EAAGzqH,SAASsrJ,EAAkB,IAAI,QAE7G,CACL,GAAIA,GAAmB/8J,GAAKmH,EAAIy1J,EAChCF,GAAK9+J,KAAMK,MAAO2+J,EAAYzqJ,IAAK,MAAOD,SAAU,WAAYgqH,cAAc,EAAGzqH,SAASsrJ,EAAkB,IAAI,IAGlHL,EAAK5vI,OAAO,OAEbhsB,MAAM,WACLu7J,EAAQxoJ,WAOZqoJ,YAAa,SAASj4I,GACpB,GAAIA,EAAK,CACP,GAAI+4I,GAAa,0FACjB,OAAwC,OAAjC70J,OAAO8b,GAAKpH,MAAMmgJ,GAG3B,OAAO,GAMTxgJ,OAAQ,WACNngB,KAAKw9B,MAAMjwB,IAAI,cAAgBvN,KAAKuvB,OAASvvB,KAAKyvB,QAMpDmxI,cAAe,SAAUt/J,GACvBA,EAAE4a,iBACF5a,EAAEub,mBAMJu7I,iBAAkB,SAASv/D,GACzBA,EAAGh8E,mBAMLgkJ,WAAY,WAaV,MAZA7gK,MAAKw9B,MAAMnlB,KACTsrB,SACEi5H,SACEp6H,MAAO,KACPo9H,iBAAkB,KAClB93J,MAAO,qBACP0c,MAAO,KACPlf,KAAM,YAERkD,WAGGxI,MAMT8gK,SAAU,WAaR,MAZA9gK,MAAKw9B,MAAMnlB,KACTsrB,SACEi5H,SACEp6H,MAAO,KACPo9H,iBAAkB,KAClB93J,MAAO,6BACP0c,MAAO,KACPlf,KAAM,UAERkD,WAGGxI,MAMT8sD,UAAW,SAAU3V,GAEnB,MADAn3C,MAAKw9B,MAAMnlB,IAAI,SAAU8+B,GAClBn3C,MAMT+gK,iBAAkB,SAASloE,GACrBA,IACFA,EAAG38E,iBACH28E,EAAGh8E,mBAED7c,KAAKw9B,MAAMjwB,IAAI,gBAChBvN,KAAKw9B,MAAMnlB,IAAI,cAAc,GAC7BrY,KAAKwO,QAAQ,WAOlBwyJ,eAAgB,WACdhhK,KAAKw9B,MAAMnlB,IAAI,cAAc,IAM/BkX,KAAM,SAAU0xI,GACd,GAAIl4H,GAAO/oC,IAEPA,MAAKw9B,MAAMjwB,IAAI,gBACjBw7B,EAAKvF,IAAIjiC,KAAMkoB,MAAM,MACrBsf,EAAK4b,QAAQs8G,KAOjBC,SAAU,WACR,OAAQlhK,KAAKw9B,MAAMjwB,IAAI,eAMzBkiB,KAAM,SAAU0xI,IACVA,GAAUnhK,KAAKw9B,MAAMjwB,IAAI,eAAevN,KAAKohK,eAMnDz8G,QAAS,SAAUs8G,GAEjB,IAAIjhK,KAAKkhK,WAAY,CACnB,GAAI7pJ,GAAQ,CAEZ,KAAK4pJ,EACH,GAAI5pJ,GAAQrX,KAAKqhK,WAGnBrhK,MAAKwvD,kBACLxvD,KAAKshK,WAAWjqJ,KAOpBiqJ,WAAY,SAASjqJ,IACdkqI,IAAIC,KAAKC,KAAK30G,IAAOy0G,IAAIC,KAAKC,KAAKjxI,QAAQs8B,IAAMy0G,IAAIC,KAAKC,KAAKjxI,QAAQs8B,GAAGr8B,QAAU,GACvFzQ,KAAKwjC,IAAIjiC,KACPggK,aAAe,QACfvsJ,QAAW,QACX0T,WAAa,UACbzV,QAAQ,IAGVjT,KAAKwjC,IACJnsB,MAAMA,GACNmY,SACCvc,QAAS,EACTsuJ,aAAc,GACd,MAEFvhK,KAAKwjC,IAAIjU,QAOb6xI,YAAa,WACX,IAAKjhK,EAAEqQ,QAAQq6I,MAAS1qJ,EAAEqQ,QAAQq6I,MAAQz1I,SAASjV,EAAEqQ,QAAQC,SAAW,EAAK,CAC3E,GAAIs4B,GAAO/oC,IACXA,MAAKwjC,IAAIhU,SACP+xI,aAAc,QACdtuJ,QAAc,IACd+B,QAAc,SACb,IAAK,WACN+zB,EAAKvF,IAAIjiC,KAAKmnB,WAAY,iBAG5B1oB,MAAKwjC,IAAI/T,QAOb+/B,gBAAiB,WACf,IAAGxvD,KAAKkhK,WAAR,CAEA,GACAroJ,GAAkB7Y,KAAKw9B,MAAMjwB,IAAI,UACjCgkB,EAAkBvxB,KAAK60J,QAAQc,cAAc31J,KAAKw9B,MAAMjwB,IAAI,WAK5Dkc,GAJkBzpB,KAAKwjC,IAAI3tB,WAAW4T,KACpBzpB,KAAKwjC,IAAI3tB,WAAWC,IACpB9V,KAAKwjC,IAAI4vB,aAAY,GACrBpzD,KAAKwjC,IAAI5hC,QACT2vB,EAAIxmB,EAAI8N,EAAO,IACjCxL,EAAkBrN,KAAK60J,QAAQrkH,UAC/B8gB,GAAkB,GAAI//B,EAAItmB,EAAI4N,EAAO,GAAKxL,EAAKpC,EAE/CjL,MAAKwjC,IAAIjiC,KAAM+vD,OAAQA,EAAQ7nC,KAAMA,MAMvC43I,UAAW,WACT,GAAIxoJ,GAAS7Y,KAAKw9B,MAAMjwB,IAAI,SAE5B,IAAKvN,KAAKw9B,MAAMjwB,IAAI,aAAcvN,KAAKkhK,WAAvC,CAEA,GAGA3vG,IAFkBvxD,KAAKwjC,IAAI3tB,WAAW4T,KACpBzpB,KAAKwjC,IAAI3tB,WAAWC,IACpB9V,KAAKwjC,IAAI4vB,aAAY,GAAQ,IAC/C5B,EAAkBxxD,KAAKwjC,IAAI5hC,QAC3B2vB,EAAkBvxB,KAAK60J,QAAQc,cAAc31J,KAAKw9B,MAAMjwB,IAAI,WAC5Di0J,GAAmBz2J,EAAG,EAAGE,EAAG,EAyB5B,OAxBAoC,MAAkBrN,KAAK60J,QAAQrkH,UAC/BixH,cAAkB,EAEdlwI,EAAIxmB,EAAI8N,EAAO,GAAK,IACtB2oJ,EAAaz2J,EAAIwmB,EAAIxmB,EAAI8N,EAAO,GAAK,IAGnC0Y,EAAIxmB,EAAI8N,EAAO,GAAK24C,EAAiBnkD,KAAKtC,IAC5Cy2J,EAAaz2J,EAAIwmB,EAAIxmB,EAAIymD,EAAiBnkD,KAAKtC,EAAI8N,EAAO,GAAK,IAG7D0Y,EAAItmB,EAAIsmD,EAAkB,IAC5BiwG,EAAav2J,EAAIsmB,EAAItmB,EAAIsmD,EAAkB,IAGzChgC,EAAItmB,EAAIsmD,EAAkBlkD,KAAKpC,IACjCu2J,EAAav2J,EAAIsmB,EAAItmB,EAAIsmD,EAAkBlkD,KAAKpC,IAG9Cu2J,EAAaz2J,GAAKy2J,EAAav2J,KACjCjL,KAAK60J,QAAQp5G,MAAM+lH,GACnBC,cAAgB,KAGXA,kBAKXlgB,IAAIgC,IAAIC,GAAGke,OAASngB,IAAIC,KAAKv+G,KAAKv9B,QAEhC4N,UAAW,iBAEXypB,WAAY,WACV,GAAI6rG,GAAQ5oI,KAAKw9B,MAAMjwB,IAAI,QAE3BvN,MAAKw9B,MAAMnlB,KACTmqB,MAAkBomG,EAAMpmG,MACxBw4D,YAAkB4tC,EAAM5tC,YACxBu8D,WAAkB3uB,EAAM2uB,WACxBoK,iBAAkB/4B,EAAM+4B,mBACrB9kI,QAAQ,KAGftN,KAAM,WAEJ,GAAIqyI,GAAiB5hK,KAAKw9B,MAAMjwB,IAAI,UAAYvN,KAAKw9B,MAAMjwB,IAAI,cAC3Ds0J,EAAiB7hK,KAAKw9B,MAAMjwB,IAAI,gBAAkBvN,KAAKw9B,MAAMjwB,IAAI,qBAEjEq0J,GAAYC,KACd7hK,KAAKwjC,IAAIjU,OACLqyI,GAAgB5hK,KAAKwjC,IAAIt2B,KAAK,sBAAsBqiB,OACpDsyI,GAAgB7hK,KAAKwjC,IAAIt2B,KAAK,4BAA4BqiB,SAKlEuyI,gBAAiB,SAASnoI,GACxB,IAAKA,EAAK,MAAOA,EACjB,IAAIooI,GAAM,GAAI1nJ,QAAO,gBACrB,OAAOsf,GAAIj1B,QAAQq9J,EAAK,2BAG1Bt+H,OAAQ,WACN,GAAIj7B,GAAOjI,EAAEqM,MAAM5M,KAAKw9B,MAAM3mB,WAoB9B,OAnBArO,GAAKg6B,MAAQ++G,IAAIC,KAAKjyD,SAAS32E,KAAKpQ,EAAKg6B,OACzCh6B,EAAKwyF,YAAch7F,KAAK8hK,gBAAgBvgB,IAAIC,KAAKjyD,SAAS32E,KAAKpQ,EAAKwyF,cACpEh7F,KAAKwjC,IAAI5qB,KAAK5Y,KAAK0Y,QAAQugB,SAASzwB,IAEhCxI,KAAK0Y,QAAQspJ,SACfhiK,KAAKiiK,kBAAoB,GAAI1gB,KAAIgC,IAAIC,GAAG0e,kBACtCC,YAAaniK,KAAK0Y,QAAQypJ,YAC1BH,OAAQhiK,KAAK0Y,QAAQspJ,SAGvBhiK,KAAKwjC,IAAI5c,OAAO5mB,KAAKiiK,kBAAkBx+H,SAASD,MAG9CxjC,KAAKw9B,MAAMjwB,IAAI,eAAiBvN,KAAKw9B,MAAMjwB,IAAI,oBACjDvN,KAAKuvB,OAELvvB,KAAKyvB,OAGAzvB,QAWXuhJ,IAAIgC,IAAIC,GAAG4e,OAAS7gB,IAAIC,KAAKv+G,KAAKv9B,QAEhC4N,UAAW,oBAEX+uJ,mBACEC,SAAY,GACZC,cAAe,GACfC,MAAQ,GACRC,OAAS,EACTn5E,QAAU,GACVo5E,QAAU,EACVC,OAAS,EACTC,SAAW,GACXC,WAAa,GACbC,cAAgB,GAChBC,QAAW,IAGb36J,QACE46J,2BAA4B,WAC5BC,cAAe,YACf7iJ,MAAS,mBACT03I,SAAY,mBACZ/1F,UAAa,oBAGfrpD,SACEwqJ,WAAW,EACXC,mBAAoB,mQAQpBC,gBAAiB,IACjBC,kBAAmB,GAAI,IACvBC,QAAS,ygCACT/3G,YAAa,EAAG,KAGlBxuB,WAAY,WACV/8B,KAAK60J,QAAU70J,KAAK0Y,QAAQm8I,QAC5B70J,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,UAG/BwK,OAAQ,WAEN,MADAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAK0Y,UAC1B1Y,MAGTo4J,iBAAkB,SAASv/D,GACrBA,GACFA,EAAGh8E,mBAIPwuD,SAAU,SAASwtB,GACbA,IACFA,EAAG38E,iBACH/b,EAAE04F,EAAG98E,QAAQsC,UAIjBklJ,YAAa,WACXvjK,KAAKG,EAAE,eAAeovB,QAGxBi0I,YAAa,WACXxjK,KAAKG,EAAE,eAAesvB,QAGxBg0I,UAAW,SAAS5qE,GAClBA,EAAG38E,gBACH,IAAI6sB,GAAO/oC,KACPspF,EAAUtpF,KAAKG,EAAE,cAAcgY,KAE9BmxE,KAKLtpF,KAAKujK,cAELvjK,KAAK0jK,oBACLniB,IAAIgC,IAAIE,SAASkI,OAAON,QAAQ/hE,EAAS,SAASq6E,GAChD56H,EAAK66H,UAAUD,GAEf56H,EAAKy6H,kBAITI,UAAW,SAASD,GAClB,GAAI9tJ,GAAW,GACXyzE,EAAUtpF,KAAKG,EAAE,cAAcgY,KAEnC,IAAIwrJ,GAAUA,EAAOv/J,OAAO,EAAG,CAC7B,GAAI2F,GAAW45J,EAAO,GAClBE,EAAY7jK,KAAK8jK,aAAa/5J,EAGlC,IAAI85J,EAAW,CACb,GAAIhkK,GAAIuG,WAAW2D,EAAS2hJ,YAAYK,OACpCjhJ,EAAI1E,WAAW2D,EAAS2hJ,YAAYO,MACpCloJ,EAAIqC,WAAW2D,EAAS2hJ,YAAYI,OACpCxqJ,EAAI8E,WAAW2D,EAAS2hJ,YAAYM,MAEpC+X,GAAaj5J,EAAIxJ,GAAG,EACpBstE,GAAa/uE,EAAIkE,GAAG,CACxB8R,IAAY+4D,EAAWm1F,GACvB/jK,KAAKw9B,MAAMq/B,YAAch9D,EAAGiL,IAAO/G,EAAGzC,KAKpCyI,EAASmqC,KAAOnqC,EAASqrC,MAC3Bv/B,GAAY9L,EAASmqC,IAAKnqC,EAASqrC,MAKhCyuH,IACH7jK,KAAKw9B,MAAM09D,UAAUrlF,GACrB7V,KAAKw9B,MAAMqc,QAAQ75C,KAAKgkK,mBAAmBj6J,EAASzE,QAGlDtF,KAAK0Y,QAAQwqJ,WACfljK,KAAKikK,iBAAiBpuJ,EAAUyzE,KAMtC06E,mBAAoB,SAAS1+J,GAC3B,MAAIA,IAAQtF,KAAKqiK,kBAAkB/8J,GAC1BtF,KAAKqiK,kBAAkB/8J,GAEzBtF,KAAKqiK,kBAA2B,SAGzCyB,aAAc,SAAS/5J,GACrB,SAAIA,EAAS2hJ,aAAe3hJ,EAAS2hJ,YAAYK,OAAShiJ,EAAS2hJ,YAAYI,OAC7E/hJ,EAAS2hJ,YAAYM,MAAQjiJ,EAAS2hJ,YAAYO,OAMtDgY,iBAAkB,SAASpuJ,EAAUyzE,GACnCtpF,KAAK0jK,oBACL1jK,KAAKkkK,WAAWruJ,EAAUyzE,GAC1BtpF,KAAKmkK,kBAAkBtuJ,EAAUyzE,GACjCtpF,KAAKokK,eAGPV,kBAAmB,WACjB1jK,KAAKqkK,gBACLrkK,KAAKskK,cACLtkK,KAAKukK,sBAGPJ,kBAAmB,SAAStuJ,EAAUyzE,GACpC,GAAIk7E,GAAkB,GAAIjjB,KAAIgC,IAAIC,GAAGiZ,iBACnCxjI,SAAUj5B,KAAK0Y,QAAQyqJ,mBACvBhsH,OAAQthC,EACRjU,MAAO5B,KAAK0Y,QAAQ0qJ,gBACpBvqJ,OAAQ7Y,KAAK0Y,QAAQ2qJ,iBACrB1/H,SACEi5H,SACEp6H,MAAO,UACP16B,MAAOwhF,MAKbtpF,MAAKykK,kBAAoB,GAAIljB,KAAIgC,IAAIC,GAAGgO,YACtCh0H,MAAOgnI,EACP3P,QAAS70J,KAAK60J,UAGhB70J,KAAK60J,QAAQrxH,IAAI5c,OAAO5mB,KAAKykK,kBAAkB7gI,IAC/C4gI,EAAgBnsJ,IAAI,cAAc,IAGpCksJ,mBAAoB,WAClB,GAAIvkK,KAAKykK,kBAAmB,CAE1BzkK,KAAKykK,kBAAkBh1I,MAAK,EAC5B,IAAIsxH,GAAa/gJ,KAAKykK,iBACtBxhK,YAAW,WACT89I,EAAWz5H,SACV,OAIP48I,WAAY,SAASruJ,EAAUyzE,GAC7BtpF,KAAK0kK,WAAa1kK,KAAK60J,QAAQpC,cAC7B,GAAIlR,KAAIgC,IAAI4I,UACV/tF,SAAW94D,KAAM,QAASo5D,aAAiB7oD,EAAS,GAAIA,EAAS,KACjEytJ,QAAStjK,KAAK0Y,QAAQ4qJ,QACtB/3G,WAAYvrD,KAAK0Y,QAAQ6yC,eAK/Bo5G,wBAAyB,WACvB,GAAIC,GAAuB5kK,KAAKykK,kBAAkBjnI,MAAMjwB,IAAI,aAC5DvN,MAAKykK,kBAAkBjnI,MAAMnlB,IAAI,cAAeusJ,IAGlDN,YAAa,WACPtkK,KAAK0kK,aACP1kK,KAAK60J,QAAQnC,mBAAmB1yJ,KAAK0kK,kBAC9B1kK,MAAK0kK,aAIhBN,YAAa,WACXpkK,KAAK0kK,YAAc1kK,KAAK0kK,WAAW7kJ,KAAK,QAAS7f,KAAK2kK,wBAAyB3kK,MAC/EA,KAAK60J,QAAQh1I,KAAK,QAAS7f,KAAK0jK,kBAAmB1jK,OAGrDqkK,cAAe,WACbrkK,KAAK0kK,YAAc1kK,KAAK0kK,WAAW5kJ,OAAO,QAAS9f,KAAK2kK,wBAAyB3kK,MACjFA,KAAK60J,QAAQ/0I,OAAO,QAAS9f,KAAK0jK,kBAAmB1jK,OAGvDsnB,MAAO,WACLtnB,KAAKqkK,gBACLrkK,KAAK0jK,oBACL1jK,KAAKmkJ,MAAM,YAgBf5C,IAAIgC,IAAIC,GAAGqhB,cAAgBtjB,IAAIC,KAAKv+G,KAAKv9B,QAEvC4N,UAAW,6BAEXlL,QACEgY,MAAa,gBACb03I,SAAa,YACb/1F,UAAa,aAGfhlC,WAAY,WACV/8B,KAAKgO,IAAMhO,KAAK0Y,QAAQm8I,QAAQ7mJ,IAEhChO,KAAK60J,QAAW70J,KAAK0Y,QAAQm8I,QAC7B70J,KAAK60J,QAAQh1I,KAAK,uBAAwB,WACxC7f,KAAK8kK,UAAY9kK,KAAK8kK,SAASr1I,QAC9BzvB,MACHA,KAAKwoJ,kBAAkBxoJ,KAAK60J,SAE5B70J,KAAKy5C,WAGPhW,OAAQ,WAyBN,MAvBAzjC,MAAKwjC,IAAI5qB,KAAK5Y,KAAK0Y,QAAQugB,SAASj5B,KAAK0Y,UAEzC1Y,KAAK8kK,SAAW,GAAIvjB,KAAIiC,GAAGE,OAAOqhB,UAChCzxJ,UAAU,0BACV2lB,SAAUj5B,KAAK0Y,QAAQssJ,kBACvBjpJ,OAAQ/b,KAAKwjC,IAAIt2B,KAAK,KACtB+3J,QAAS,IACTC,SAAU,IACVrvJ,SAAU,WACV4b,KAAM,QACN0zI,kBAAmB,OACnBC,oBAAqB,QACrBC,gBAAiB,EACjBC,kBAAmB,KAGjB/jB,IAAI0C,KAAK1C,IAAI0C,IAAIpkI,KAAK,eAAgB7f,KAAK8kK,SAASr1I,KAAMzvB,KAAK8kK,UAEnE9kK,KAAKwjC,IAAI5c,OAAO5mB,KAAK8kK,SAASrhI,SAASG,IAEvC5jC,KAAKulK,aACLvlK,KAAKwlK,YAEExlK,MAGTulK,WAAY,WACV,GAAIx8H,GAAO/oC,IACXA,MAAKy5C,UAELl5C,EAAEkC,KAAKzC,KAAKgO,IAAIyrC,OAAOxa,OAAQ,SAAS8c,GAEtC,GAAyB,cAArBA,EAAMxuC,IAAI,SAAiD,aAAtBwuC,EAAMxuC,IAAI,QAEjD,IAAK,GADDk4J,GAAiB18H,EAAK8rH,QAAQ7E,cAAcj0G,EAAMtf,KAC7Ct4B,EAAI,EAAIA,EAAIshK,EAAeC,kBAAmBvhK,EAAG,CACxD,GAAIN,GAAI4hK,EAAelzG,SAASpuD,GAC5BL,EAAI,GAAIy9I,KAAIC,KAAKnlH,MAAMx4B,EAC3BC,GAAEuU,IAAI,QAASlU,GACfL,EAAEuU,IAAI,OAAQ,cAEW6iB,SAArBp3B,EAAEyJ,IAAI,YAA0BzJ,EAAEuU,IAAI,WAAW,GAErDvU,EAAE+b,KAAK,iBAAkB,SAAS2d,GAChCx9B,KAAKwO,QAAQ,iBAAkBgvB,EAAMjwB,IAAI,WAAYiwB,EAAMjwB,IAAI,SAAUiwB,IACxEuL,GAEAA,EAAKrwB,QAAQitJ,YACd7hK,EAAEuU,IAAI,aAAc0wB,EAAKrwB,QAAQitJ,YAAYxhK,IAE7CL,EAAEuU,IAAI,aAAcxU,EAAE6U,QAAQktJ,WAGhC,IAAIC,GAAY98H,EAAK+8H,aAAa,2BAChCtoI,MAAO15B,EACP+hK,UAAWJ,EACXM,WAAY5hK,GAEd0hK,GAAUhmJ,KAAK,gBAAiBkpB,EAAKy8H,UAAWz8H,GAChDA,EAAK0Q,OAAO9tC,KAAKk6J,OAEd,IAA0B,YAAtB9pH,EAAMxuC,IAAI,SAA+C,WAAtBwuC,EAAMxuC,IAAI,QAAsB,CAC5E,GAAIs4J,GAAY98H,EAAK+8H,aAAa,aAAetoI,MAAOue,GACxD8pH,GAAUhmJ,KAAK,gBAAiBkpB,EAAKy8H,UAAWz8H,GAChDA,EAAK0Q,OAAO9tC,KAAKk6J,GACjBA,EAAUroI,MAAM3d,KAAK,iBAAkB,SAAS2d,GAC9Cx9B,KAAKwO,QAAQ,iBAAkBgvB,EAAMjwB,IAAI,WAAYiwB,EAAMjwB,IAAI,SAAUiwB,IACxEuL,OAMT+8H,aAAc,SAASE,EAAQ7pE,GAC7B,GAAI0pE,GAAY,GAAItkB,KAAIgC,IAAIC,GAAGwiB,GAAQ7pE,EAGvC,OAFAn8F,MAAKG,EAAE,MAAMymB,OAAOi/I,EAAUpiI,SAASG,IACvC5jC,KAAKyoJ,QAAQod,GACNA,GAGTL,UAAW,WAET,IAAK,GADD9+F,GAAQ,EACHviE,EAAI,EAAGN,EAAI7D,KAAKy5C,OAAOr1C,OAAQD,EAAIN,IAAKM,EAAG,CAClD,GAAIiuJ,GAAMpyJ,KAAKy5C,OAAOt1C,EAElBiuJ,GAAI50H,MAAMjwB,IAAI,YAChBm5D,IAIJ1mE,KAAKG,EAAE,UAAU0H,KAAK6+D;AACtB1mE,KAAKwO,QAAQ,gBAAiBxO,OAGhCimK,cAAe,WACbjmK,KAAK8kK,SAAS91I,UAqBlBuyH,IAAIgC,IAAIC,GAAG0iB,UAAY3kB,IAAIC,KAAKv+G,KAAKv9B,QAEnC69B,QAAS,KAETvM,UACEiC,SAAU,+LAMZ7wB,QACEgY,MAAS,kBAGX2c,WAAY,WAEL/8B,KAAKw9B,MAAMvsB,IAAI,YAAYjR,KAAKw9B,MAAMnlB,IAAI,WAAW,GAE1DrY,KAAKw9B,MAAM3d,KAAK,iBAAkB7f,KAAKmmK,kBAAmBnmK,MAE1DA,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAE5Bx9B,KAAKmmK,oBAGLnmK,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAWsoH,IAAImG,UAAUF,YAAYxnJ,KAAK0Y,QAAQugB,UAAY14B,EAAE04B,SAASj5B,KAAKg3B,SAASiC,WAGtHwK,OAAQ,WACN,GAAIxG,GAAQ18B,EAAEqM,MAAM5M,KAAKw9B,MAAM3mB,WAG/B,OAFAomB,GAAM2oI,WAAa3oI,EAAM2oI,YAAc3oI,EAAMmpI,WAC7CpmK,KAAKwjC,IAAI5c,OAAO5mB,KAAKi5B,SAASgE,IACvBj9B,MAMTmmK,kBAAmB,WACjB,GAAI/jJ,GAAUpiB,KAAKw9B,MAAMjwB,IAAI,UAG7BvN,MAAKwjC,IAAIt2B,KAAK,WACX8K,YAAYoK,EAAU,WAAa,WACnCrK,SAASqK,EAAa,UAAa,YAGtCpiB,KAAKwO,QAAQ,kBAIf63J,eAAgB,SAAS/kK,GACvBtB,KAAK4oJ,UAAUtnJ,GAGftB,KAAKw9B,MAAMnlB,IAAI,WAAYrY,KAAKw9B,MAAMjwB,IAAI,eAgB9Cg0I,IAAIgC,IAAIC,GAAG8iB,wBAA0B/kB,IAAIgC,IAAIC,GAAG0iB,UAAUxgK,QAExDygK,kBAAmB,WAEjB5kB,IAAIgC,IAAIC,GAAG0iB,UAAU76J,UAAU86J,kBAAkBn9J,KAAKhJ,KACtD,IAAIumK,GAAWvmK,KAAK0Y,QAAQmtJ,UAAUW,YAAYxmK,KAAK0Y,QAAQqtJ,YAC3Dj8I,EAAU9pB,KAAKw9B,MAAMjwB,IAAI,UAEzBuc,GACFy8I,EAASh3I,OAETg3I,EAAS92I,UAIf8xH,IAAIgC,IAAIC,GAAGijB,qBAAuBllB,IAAIC,KAAKv+G,KAAKv9B,QAE9C69B,QAAS,KAETn7B,QACEouJ,UAAW,YAGbv9H,SAAUsoH,IAAIC,KAAKoF,SAASG,QAAQ,sDAEpChqH,WAAY,WAEV/8B,KAAKw9B,MAAQ,GAAI+jH,KAAIC,KAAKnlH,MAAMr8B,KAAK0Y,SACrC1Y,KAAKw9B,MAAM3d,KAAK,gBAAiB7f,KAAK0mK,gBAAiB1mK,OAIzD0mK,gBAAiB,SAASplK,GAEpBtB,KAAKw9B,MAAMjwB,IAAI,UACjBvN,KAAKwjC,IAAIt2B,KAAK,KAAK6K,SAAS,UAE5B/X,KAAKwjC,IAAIt2B,KAAK,KAAK8K,YAAY,WAKnC0+C,SAAU,SAASp1D,GACbA,GAAGtB,KAAK4oJ,UAAUtnJ,GACtBtB,KAAKwO,QAAQ,UAAWxO,OAG1ByjC,OAAQ,WAEN,GAAI/qB,GAAUnY,EAAEmF,QAASihK,mBAAoB,SAAW3mK,KAAK0Y,QAAQkuJ,mBAMrE,OAJA5mK,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAE5B1Y,KAAK0mK,kBAEE1mK,QAKXuhJ,IAAIgC,IAAIC,GAAG0e,iBAAmB3gB,IAAIC,KAAKv+G,KAAKv9B,QAE1CsxB,UACE6vI,cAAc,GAGhBz+J,QACE0+J,eAAgB,QAChBC,eAAgB,SAGlBxjI,QAAS,MAETjwB,UAAW,4BAEX2lB,SAAUsoH,IAAIC,KAAKoF,SAASG,QAAQ,4LAEpChqH,WAAY,WACV/8B,KAAKgnK,YAAchnK,KAAK0Y,QAAQypJ,YAAY/9J,OAC5CpE,KAAKinK,cAAgBjnK,KAAK0Y,QAAQuuJ,cAClCjnK,KAAKgiK,OAAShiK,KAAKinK,cAAcjF,QAGnCkF,MAAO,SAAS5lK,GACVA,GAAGtB,KAAK4oJ,UAAUtnJ,GACtBtB,KAAKinK,cAAcE,SAAS7iJ,QAG9B8iJ,MAAO,SAAS9lK,GACVA,GAAGtB,KAAK4oJ,UAAUtnJ,GACtBtB,KAAKinK,cAAcE,SAAS9iJ,QAG9BgjJ,YAAa,WAIX,IAAK,GAFDC,GAAqBtnK,KAAKgiK,OAAO9vJ,QAE5B/N,EAAI,EAAGA,EAAInE,KAAK0Y,QAAQypJ,YAAY/9J,OAAQD,IAAK,CACxD,GAAIsuC,GAAO,GAAI8uG,KAAIgC,IAAIC,GAAGijB,sBAAuBx8H,IAAK9lC,EAAGyiK,mBAAoB5mK,KAAK0Y,QAAQypJ,YAAYh+J,GAAIgpB,OAAQhpB,GAAKmjK,GACvH70H,GAAK5yB,KAAK,UAAW7f,KAAKunK,cAAevnK,MACzCA,KAAKwjC,IAAIt2B,KAAK,MAAM0Z,OAAO6rB,EAAKhP,SAASD,OAK7CgkI,eAAgB,WAEd,GAAIF,GAAqBtnK,KAAKgiK,OAAO9vJ,QACjCu1J,EAAoBznK,KAAK0Y,QAAQypJ,YAAYmF,GAE7CI,EAAW1nK,KAAKwjC,IAAIt2B,KAAK,WAEzBu6J,IAA8D,SAAzCA,EAAkBd,mBACzCe,EAAS3vJ,SAAS,WAElB2vJ,EAAS1vJ,YAAY,WAGvB0vJ,EAAS9uJ,KAAM0uJ,EAAqB,EAAK,IAAMtnK,KAAK0Y,QAAQypJ,YAAY/9J,SAG1EmjK,cAAe,SAASI,GACtB3nK,KAAKinK,cAAcE,SAAStpI,QAAQ8pI,EAAMjvJ,QAAQuxB,MAGpDxG,OAAQ,WAEN,GAAI/qB,GAAUnY,EAAEmF,OAAO1F,KAAKg3B,SAAUh3B,KAAK0Y,QAc3C,OAZA1Y,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASvgB,IAExB1Y,KAAKgiK,QAAUhiK,KAAK0Y,QAAQypJ,cAE1BzpJ,EAAQmuJ,aACV7mK,KAAKwnK,iBAELxnK,KAAKqnK,eAKFrnK,QAIXuhJ,IAAIgC,IAAIC,GAAGokB,YAAcrmB,IAAIC,KAAKv+G,KAAKv9B,QAErC0C,QACEy/J,WAAe,UACf/P,SAAa,oBAGfv0H,QAAS,KAETjwB,UAAW,kCAEX2lB,SAAUsoH,IAAIC,KAAKoF,SAASG,QAAQ,8GAKpCqR,iBAAkB,SAASv/D,GACzBA,EAAGh8E,mBAGLkgB,WAAY,WAEVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9BpzJ,KAAKw9B,MAAM3d,KAAK,iBAAkB7f,KAAK8nK,iBAAkB9nK,OAI3D8nK,iBAAkB,WAEhB9nK,KAAKwjC,IAAIt2B,KAAK,WAAYlN,KAAKw9B,MAAMjwB,IAAI,WAAa,SAAS,WAAW,KAC1EvN,KAAKwjC,IAAKxjC,KAAKw9B,MAAMjwB,IAAI,WAAa,cAAc,YAAY,UAEhEvN,KAAKwO,QAAQ,oBAAqBxO,OAIpC0vB,QAAS,SAASpuB,GAEhBA,EAAE4a,iBACF5a,EAAEub,kBAEE7c,KAAK0Y,QAAQqvJ,aAEjB/nK,KAAKw9B,MAAMnlB,IAAI,WAAYrY,KAAKw9B,MAAMjwB,IAAI,aAI5CguJ,cAAe,WAEb,GAAKv7J,KAAK0Y,QAAQsvJ,gBAEdhoK,KAAKw9B,MAAMjwB,IAAI,WAA+C,QAAjCvN,KAAKw9B,MAAMjwB,IAAI,UAAUjI,MAAmBtF,KAAKw9B,MAAMjwB,IAAI,UAAUjI,SAClGtF,KAAKw9B,MAAMjwB,IAAI,YAAavN,KAAKw9B,MAAMjwB,IAAI,UAAUu0G,OAAkD,GAAzC9hH,KAAKw9B,MAAMjwB,IAAI,UAAUu0G,MAAM19G,QAAjG,CAEApE,KAAKwjC,IAAIzrB,SAAS,aAElB,IAAIkO,GAAS,GAAIs7H,KAAIgC,IAAIC,GAAGqU,OAAO73J,KAAKw9B,MAAMjwB,IAAI,UAElD0Y,GAAO8d,mBAEP/jC,KAAKwjC,IAAI5c,OAAOX,EAAOwd,SAASD,OAIlCykI,UAAW,SAASplJ,EAAOze,GACzB,MAAOye,GAAM7c,OAAO,EAAG5B,EAAO,IAAMye,EAAMze,OAASA,EAAS,WAAa,KAG3Eq/B,OAAQ,WAEN,GAAImiI,GAAa5lK,KAAKw9B,MAAMjwB,IAAI,aAEhCq4J,GAAaA,EAAa5lK,KAAKioK,UAAUrC,EAAY,IAAM,UAE3D,IAAI/uJ,GAAatW,EAAEmF,OACjB1F,KAAKw9B,MAAM3mB,YAET+uJ,WAAc5lK,KAAK0Y,QAAQ6+I,WAAaqO,EAAa,GACrDsC,aAAcloK,KAAK0Y,QAAQqvJ,YAAc,QAAU,IAavD,OATA/nK,MAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAAS14B,EAAEmF,OAAOmR,GAAc0gJ,WAAYv3J,KAAK0Y,QAAQ6+I,eAGxEv3J,KAAK0Y,QAAQqvJ,aAAe/nK,KAAKwjC,IAAIxrB,YAAY,cAChDhY,KAAKw9B,MAAMjwB,IAAI,YAAYvN,KAAKwjC,IAAIzrB,SAAS,UAC9C/X,KAAKw9B,MAAMjwB,IAAI,WAAavN,KAAKu7J,gBAErCv7J,KAAK8nK,mBAEE9nK,QAKXuhJ,IAAIgC,IAAIC,GAAG2kB,OAAS5mB,IAAIC,KAAKv+G,KAAKv9B,QAEhC4N,UAAW,iBAEXlL,QACEggK,oCAAqC,sBACrCC,gBAAqC,UACrCC,oBAAqC,oBACrCC,kBAAqC,mBACrCC,kBAAqC,mBACrCC,mBAAqC,eACrCC,mBAAqC,eACrCC,oBAAqC,eACrCC,uBAAqC,gBAGvC7rI,WAAY,WAEVx8B,EAAE61B,QAAQp2B,KAAM,UAAW,qBAE3BO,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9BpzJ,KAAK6oK,kBAAmB,EACxB7oK,KAAK8oK,cAAmB,EAExB9oK,KAAK+oK,YAAgB/oK,KAAK0Y,QAAQqwJ,YAClC/oK,KAAKinK,cAAgBjnK,KAAK0Y,QAAQuuJ,cAE9BjnK,KAAKinK,gBACPjnK,KAAKgiK,OAAchiK,KAAKinK,cAAcjF,QAGxChiK,KAAK80J,cAAgB,4DAA4D7vJ,KAAK6E,UAAUoB,WAEhGlL,KAAKgpK,mBAAqBhpK,KAAK0Y,QAAQswJ,uBAEvChpK,KAAK60J,QAAW70J,KAAK0Y,QAAQm8I,QAC7B70J,KAAKgO,IAAWhO,KAAK60J,QAAQ7mJ,IAE7BhO,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAWj5B,KAAK0Y,QAAQugB,SAAWsoH,IAAImG,UAAUF,YAAY,YAE1FxnJ,KAAKipK,kBAELjpK,KAAKi4J,cAELlpJ,OAAOH,iBAAiB,oBAAqBrO,EAAEsf,KAAK7f,KAAKkpK,sBAAuBlpK,OAEhFA,KAAKmpK,kBAIPC,aAAc,WACRppK,KAAKqpK,QACPrpK,KAAKqpK,OAAO95I,OAGa,IAAvBvvB,KAAK8oK,eACP9oK,KAAKwO,QAAQ,WAEfxO,KAAK8oK,iBAGPQ,UAAW,WACLtpK,KAAKqpK,QACPrpK,KAAKqpK,OAAO55I,OAEdzvB,KAAK8oK,gBAGF9oK,KAAK8oK,eAAiB,IACvB9oK,KAAK8oK,cAAgB,EACrB9oK,KAAKwO,QAAQ,UAIjBy6J,gBAAiB,WAEf,GAAIjpK,KAAKgiK,QAAUhiK,KAAK+oK,YAAa,CAEnC,GAAI72J,GAAQlS,KAAKgiK,OAAO9vJ,OAEX,IAATA,EAAYlS,KAAK+vE,SAAW/vE,KAAK0Y,QAAQq3D,SAE3C/vE,KAAK+vE,SAAW/vE,KAAK+oK,YAAY72J,EAAQ,GAAG69D,aAG9C/vE,MAAK+vE,SAAW/vE,KAAK0Y,QAAQq3D,UAKjCo5F,eAAgB,WAEZ,GACItU,GAAU70J,KAAK0Y,QAAQm8I,OAE3B10J,GAAE+B,UAAUyd,GAAG,8DAA+D,WAEtEzd,SAASqnK,mBAAsBrnK,SAASsnK,yBAA4BtnK,SAASunK,sBAAyBvnK,SAASwnK,qBACnH7U,EAAQn8I,QAAQ1K,IAAIqK,IAAI,eAAe,GAGzCw8I,EAAQl4G,oBAMds7G,YAAa,WAEXj4J,KAAKw9B,MAAQ,GAAIl9B,UAAS+7B,OACxBrN,MAAM,EACN26I,YAAa,IAGf3pK,KAAKw9B,MAAM7d,GAAG,cAAe3f,KAAK4pK,cAAe5pK,MACjDA,KAAKw9B,MAAM7d,GAAG,qBAAsB3f,KAAK6pK,oBAAqB7pK,OAOhEw/J,aAAc,SAAS3mE,GAIrB,GAAI4mE,GAAqBt/J,EAAE04F,EAAG98E,QAAQ0I,QAAQ,mBAAmBrgB,OAAS,GAAkB,cAAXy0F,EAAGvzF,IAE/Em6J,IACH5mE,EAAGh8E,mBAIPu7I,iBAAkB,SAASv/D,GACzBA,EAAGh8E,mBAGLitJ,iBAAkB,SAASxoK,GAEzBA,EAAE4a,iBACF5a,EAAEub,kBAEF7c,KAAKwjC,IAAIt2B,KAAK,aAAawjB,QAAQ,KACnC1wB,KAAKwjC,IAAIt2B,KAAK,wBAAwBwjB,QAAQ,MAIhDq5I,oBAAqB,SAASzoK,GAE5BA,EAAE4a,iBACF5a,EAAEub,kBAEF7c,KAAKwjC,IAAIt2B,KAAK,aAAaujB,OAAO,KAClCzwB,KAAKwjC,IAAIt2B,KAAK,wBAAwBujB,OAAO,MAI/Cf,QAAS,SAASpuB,GAEhBA,EAAE4a,iBACF5a,EAAEub,kBAEF7c,KAAKw9B,MAAMnlB,IAAI,QAASrY,KAAKw9B,MAAMjwB,IAAI,UAIzCy8J,kBAAmB,SAASnxE,GAE1BA,EAAGh8E,kBACHg8E,EAAG38E,gBAEH,IAAIgyB,GAAQn/B,OAAO7M,SACf0vC,EAAQzxC,EAAE,cAAc,GAExB8pK,EAAoBr4H,EAAMs4H,mBAAqBt4H,EAAMu4H,sBAAwBv4H,EAAMw4H,wBACnFC,EAAoBn8H,EAAIo8H,gBAAkBp8H,EAAIq8H,qBAAuBr8H,EAAIs8H,qBAEzE3V,EAAU70J,KAAK0Y,QAAQm8I,OAEtB3mH,GAAIq7H,mBAAsBr7H,EAAIu7H,sBAAyBv7H,EAAIs7H,wBAY9Da,EAAiBrhK,KAAKklC,IAVtB+7H,EAAkBjhK,KAAK4oC,GAEnBijH,GAEFA,EAAQn8I,QAAQ1K,IAAIqK,IAAI,eAAe,KAW7CoyJ,MAAO,WAEL,GAAI1nH,GAAQ/iD,KAAKwjC,IAAIt2B,KAAK,UAAUtL,OAEpC5B,MAAKwjC,IAAIt2B,KAAK,mBAAmBsiB,SAAUuzB,MAAOA,GAAS,KAC3D/iD,KAAKwjC,IAAIt2B,KAAK,UAAUsiB,SAAUuzB,MAAO,GAAK,KAC9C/iD,KAAKwjC,IAAIt2B,KAAK,+BAA+BsiB,SAAUuzB,MAAOA,EAAQ3tC,SAASpV,KAAKwjC,IAAIt2B,KAAK,+BAA+B3L,IAAI,WAAa,KAC7IvB,KAAKwjC,IAAIt2B,KAAK,wBAAwBsiB,SAAUuzB,MAAOA,EAAQ3tC,SAASpV,KAAKwjC,IAAIt2B,KAAK,+BAA+B3L,IAAI,WAAa,KACtIvB,KAAK0qK,mBAIPx6G,OAAQ,WAENlwD,KAAKwjC,IAAIt2B,KAAK,mBAAmBsiB,SAAUuzB,MAAO,GAAK,KACvD/iD,KAAKwjC,IAAIt2B,KAAK,UAAUsiB,SAAUuzB,OAAS/iD,KAAKwjC,IAAIt2B,KAAK,UAAUtL,SAAW,KAC9E5B,KAAKwjC,IAAIt2B,KAAK,+BAA+BsiB,SAAUuzB,MAAO,IAAM,KACpE/iD,KAAKwjC,IAAIt2B,KAAK,wBAAwBsiB,SAAUuzB,MAAO,IAAM,MAI/DqwG,iBACExlI,QAAS,EACT8kE,IAAK,IAGP0lE,iBAAkB,SAASv/D,GACzBA,EAAGh8E,mBAGLqsJ,sBAAuB,WAErB,OAAOn6J,OAAOw+B,aAEZ,KAAK,GACL,IAAK,IAAIvtC,KAAK2qK,OAAO,YACnB,MACF,SAAS3qK,KAAK2qK,OAAO,cAKzBA,OAAQ,SAASp9H,GAEf,GAAI1rC,GAAS1B,EAAE,uCAAuC0B,QAElD7B,MAAKwjC,IAAItrB,SAAS,SAAWrW,EAAS,MAAQ7B,KAAKwjC,IAAItrB,SAAS,WAElElY,KAAKwjC,IAAIjiC,IAAI,SAAUM,GACvB7B,KAAKwjC,IAAIt2B,KAAK,eAAeuiB,OAC7BzvB,KAAKwjC,IAAIt2B,KAAK,kBAAkBuiB,QAEvBzvB,KAAKwjC,IAAItrB,SAAS,SAAWrW,EAAS,KAAO7B,KAAKwjC,IAAItrB,SAAS,YAAclY,KAAKwjC,IAAItrB,SAAS,YAExGlY,KAAKwjC,IAAIjiC,IAAI,SAAUM,EAAS1B,EAAE,yBAAyB0B,UAC3D7B,KAAKwjC,IAAIt2B,KAAK,eAAeuiB,OAC7BzvB,KAAKwjC,IAAIt2B,KAAK,kBAAkBuiB,SAMpCo6I,oBAAqB,WAEnB,GAAIF,GAAc3pK,KAAKw9B,MAAMjwB,IAAI,eAC7BmlF,EAAMi3E,EAAc,UAA2B,GAAfA,EAAmB,IAAM,GAC7D3pK,MAAKwjC,IAAIt2B,KAAK,gCAAgC0L,KAAK85E,IAIrDk3E,cAAe,WACb5pK,KAAKw9B,MAAMjwB,IAAI,QAAUvN,KAAKyqK,QAAUzqK,KAAKkwD,UAG/C41G,aAAc,SAASE,EAAQ7pE,GAC7B,MAAO,IAAIolD,KAAIgC,IAAIC,GAAGwiB,GAAQ7pE,IAGhCopE,WAAY,WAEVvlK,KAAKy5C,UAIDz5C,KAAK0Y,QAAQmtJ,UACf7lK,KAAK4qK,0BAELrqK,EAAEkC,KAAKzC,KAAKgO,IAAIyrC,OAAOxa,OAAQj/B,KAAK6qK,UAAW7qK,OAKnD4qK,wBAAyB,WAEvB,GAAI5qK,KAAK0Y,QAAQmtJ,WAAyD,cAA5C7lK,KAAK0Y,QAAQmtJ,UAAUroI,MAAMjwB,IAAI,QAE7DvN,KAAKy5C,OAASl5C,EAAEyN,IAAIhO,KAAK0Y,QAAQmtJ,UAAUpsH,OAAQ,SAAS51C,EAAGM,GAE7D,GAAIL,GAAI,GAAIy9I,KAAIC,KAAKnlH,MAAMx4B,EAa3B,OAXAC,GAAEuU,IAAI,QAASlU,GACfL,EAAEuU,IAAI,OAAQ,cACdvU,EAAEuU,IAAI,UAAWxU,EAAEimB,SACnBhmB,EAAEuU,IAAI,aAAcxU,EAAE6U,QAAQktJ,YAE9BC,EAAY7lK,KAAK8lK,aAAa,2BAC5BtoI,MAAO15B,EACP+hK,UAAW7lK,KAAK0Y,QAAQmtJ,UACxBE,WAAY5hK,IAGP0hK,EAAUroI,OAEhBx9B,UAEE,IAAIA,KAAK0Y,QAAQmtJ,WAA0D,UAA5C7lK,KAAK0Y,QAAQmtJ,UAAUroI,MAAMjwB,IAAI,QAAsB,CAE3F,GAAIs4J,GAAY7lK,KAAK8lK,aAAa,aAAetoI,MAAOx9B,KAAK0Y,QAAQmtJ,UAAUroI,OAE/Ex9B,MAAKy5C,OAAO9tC,KAAKk6J,EAAUroI,SAK/BqtI,UAAW,SAAS9uH,GAElB,GAAyB,cAArBA,EAAMxuC,IAAI,SAAiD,aAAtBwuC,EAAMxuC,IAAI,QAIjD,IAAK,GAFDk4J,GAAiBzlK,KAAK60J,QAAQ7E,cAAcj0G,EAAMtf,KAE7Ct4B,EAAI,EAAIA,EAAIshK,EAAeC,kBAAmBvhK,EAAG,CAExD,GAAIN,GAAI4hK,EAAelzG,SAASpuD,GAC5BL,EAAI,GAAIy9I,KAAIC,KAAKnlH,MAAMx4B,EAE3BC,GAAEuU,IAAI,QAASlU,GACfL,EAAEuU,IAAI,OAAQ,cACdvU,EAAEuU,IAAI,UAAWxU,EAAEimB,SACnBhmB,EAAEuU,IAAI,aAAcxU,EAAE6U,QAAQktJ,YAE9BC,UAAY7lK,KAAK8lK,aAAa,2BAC5BtoI,MAAO15B,EACP+hK,UAAWJ,EACXM,WAAY5hK,IAGdnE,KAAKy5C,OAAO9tC,KAAKk6J,UAAUroI,WAIE,YAAtBue,EAAMxuC,IAAI,SAA+C,WAAtBwuC,EAAMxuC,IAAI,UAE5B,WAAtBwuC,EAAMxuC,IAAI,SACZwuC,EAAMp8B,GAAG,iBAAkB3f,KAAK8qK,cAAe9qK,MAGjDA,KAAKy5C,OAAO9tC,KAAKowC,KAMrB+uH,cAAe,SAAShnK,GAElBA,EAAEyJ,IAAI,YACRvN,KAAKwjC,IAAIzrB,SAAS,eAClB/X,KAAK+qK,OAAOx7I,SAEZvvB,KAAKwjC,IAAIxrB,YAAY,eACrBhY,KAAK+qK,OAAOt7I,SAKhBu7I,kBAAmB,WACjBhrK,KAAKG,EAAE,eAAeqI,KAAK,QAAUxI,KAAKG,EAAE,eAAeqI,KAAK,OAAOu/F,gBAGzEkjE,uBAAwB,WAEtB,GAAIliI,GAAO/oC,KAEPkrK,EAAsB,WACxB/qK,EAAE,+BAA+BoB,IAAI,aAAcwnC,EAAKvF,IAAI3hC,SAAW,IACvE1B,EAAE,+BAA+BqI,KAAK,QAAUrI,EAAE,+BAA+BqI,KAAK,OAAOu/F,eAG1Fh5F,QAAOH,iBAGVG,OAAOH,iBAAiB,oBAAqBrO,EAAEsf,KAAKqrJ,IAFpDn8J,OAAOF,YAAY,oBAAqBq8J,EAAqBlrK,OAOjEmrK,gBAAiB,WAEf,GAAIC,IAAoB,EACpBC,GAAoB,EACpBC,GAAoB,EACpBzC,GAAoB,CAExBtoK,GAAEkC,KAAKzC,KAAK+vE,SAAU,SAASe,GAExB9wE,KAAKgpK,mBAAmBtnI,QAA0B,UAAhBovC,EAAQxrE,MACzCtF,KAAKgpK,mBAAmBtnI,UAAW,GAA4C,UAAnC1hC,KAAKgpK,mBAAmBtnI,SACtE1hC,KAAKurK,aACLH,GAAmB,GAIlBprK,KAAKgpK,mBAAmBr7F,aAAgC,SAAjBmD,EAAQxrE,MACN,UAAxCtF,KAAKgpK,mBAAmBr7F,cAC1B3tE,KAAKwrK,WACLH,GAAiB,GAIhBrrK,KAAKgpK,mBAAmByC,eAAkC,WAAjB36F,EAAQxrE,MACN,UAA1CtF,KAAKgpK,mBAAmByC,gBAC1BzrK,KAAK0rK,aACLJ,GAAmB,GAIH,cAAhBx6F,EAAQxrE,MAAyBtF,KAAK80J,eACxC90J,KAAK2rK,iBAGa,UAAhB76F,EAAQxrE,MACVtF,KAAK4rK,WAAW96F,GAGE,kBAAhBA,EAAQxrE,OACVujK,GAAmB,IAGpB7oK,KAEH,IAAI6rK,GAAoB7rK,KAAKgpK,mBAAmBtnI,UAAW,GAAkD,SAAnC1hC,KAAKgpK,mBAAmBtnI,OAC9FoqI,EAAoB9rK,KAAKgpK,mBAAmBr7F,eAAgB,GAAkD,SAAxC3tE,KAAKgpK,mBAAmBr7F,YAC9Fo+F,EAAoB/rK,KAAKgpK,mBAAmByC,iBAAkB,GAAkD,SAA1CzrK,KAAKgpK,mBAAmByC,cAC9FO,EAA6BhsK,KAAKgpK,mBAAmBiD,gBAEpDb,GAAqBS,GAAmB7rK,KAAKurK,cAC7CF,GAAqBS,GAAmB9rK,KAAKwrK,YAC7CF,GAAqBS,GAAmB/rK,KAAK0rK,cAC9CM,GAA6BnD,GAAiD3tI,QAA7B8wI,KAAwChsK,KAAK6oK,kBAAmB,IAIvH6B,gBAAiB,WAEf,IAAI1qK,KAAKksK,YAAT,CAEA,GAAInjI,GAAO/oC,KAEP6B,EAAe7B,KAAKwjC,IAAI3hC,QAC5B7B,MAAKksK,YAAclsK,KAAKwjC,IAAIt2B,KAAK,eAEjCjK,WAAW,WACT8lC,EAAKmjI,YAAY3qK,IAAI,aAAcM,EAAS,IAC5CknC,EAAKmjI,YAAYrvE,aAAc4D,YAAY,KAC1C,OAIL+qE,SAAU,WAER,GAAIvyI,GAAWsoH,IAAIC,KAAKoF,SAASG,QAAQ,yHAGd,YAGvB1xI,EAAO,GAAIksI,KAAIgC,IAAIC,GAAG12E,MACxBtvC,MAAOx9B,KAAK0Y,QAAQ1K,IACpBirB,SAAUA,GAGZj5B,MAAKwjC,IAAI5c,OAAOvR,EAAKouB,SAASD,KAC9BxjC,KAAKwjC,IAAIzrB,SAAS,cAIpB2zJ,WAAY,WAEV,GAAIzyI,GAAWsoH,IAAIC,KAAKoF,SAASG,QAAQ,6BAA8B,WAEvE/mJ,MAAKqpK,OAAS,GAAI9nB,KAAIgC,IAAIC,GAAG2oB,aAC3BlzI,SAAUA,IAGZj5B,KAAKwjC,IAAI5c,OAAO5mB,KAAKqpK,OAAO5lI,SAASD,KACrCxjC,KAAKwjC,IAAIzrB,SAAS,gBAIpB4zJ,eAAgB,WAE4B,GAAtC3rK,KAAKgpK,mBAAmBoD,aAC1BpsK,KAAKqsK,eAAgB,EACrBrsK,KAAKwjC,IAAIzrB,SAAS,qBAKtBwzJ,WAAY,WAEVvrK,KAAKssK,WAAY,CAEjB,IAAIrzI,GAAWsoH,IAAIC,KAAKoF,SAASG,QAAQ,6MAMpC,YAGDrlH,EAAS,GAAI6/G,KAAIgC,IAAIC,GAAG4e,QAC1BnpI,SAAUA,EACV47H,QAAS70J,KAAK60J,QACdr3H,MAAOx9B,KAAK60J,QAAQ7mJ,KAGtBhO,MAAKwjC,IAAIt2B,KAAK,UAAUka,QAAQsa,EAAO+B,SAASD,KAChDxjC,KAAKwjC,IAAIt2B,KAAK,sBAAsBqiB,OACpCvvB,KAAKwjC,IAAIzrB,SAAS,gBAIpB6zJ,WAAY,SAAS96F,GAEnB9wE,KAAKusK,WAAY,EAEjBvsK,KAAKwsK,QAAUxsK,KAAKwjC,IAAIt2B,KAAK,kBAE7B,IAAIu/J,GAAiBlsK,EAAE04B,SAAS,sLAE5B2vG,EAAQ93D,EAAQp4D,QAAQkwH,MACxB8jC,GAAa,EACbnV,GAAa,EAAOoK,GAAmB,CAE3C,IAAI/4B,EAAO,EAEL5oI,KAAKgpK,mBAAmBxmI,OAA0C,GAAjCxiC,KAAKgpK,mBAAmBxmI,OAAkBomG,EAAM2uB,cACnFmV,GAAa,EACbnV,GAAa,IAGXv3J,KAAKgpK,mBAAmBhuE,aAAsD,GAAvCh7F,KAAKgpK,mBAAmBhuE,aAAwB4tC,EAAM+4B,oBAC/F+K,GAAa,EACb/K,GAAmB,GAGjB3hK,KAAKgiK,SACP0K,GAAa,EAGf,IAAIC,GAAUF,GACZjqI,MAAO++G,IAAIC,KAAKjyD,SAAS32E,KAAKgwH,EAAMpmG,OACpC+0H,WAAWA,EACXv8D,YAAaumD,IAAIC,KAAKjyD,SAAS32E,KAAKgwH,EAAM5tC,aAC1C2mE,iBAAkBA,GAGhB+K,KACF1sK,KAAKwjC,IAAIzrB,SAAS,eAClB/X,KAAKwsK,QAAQt/J,KAAK,YAAY0Z,OAAO+lJ,MAO3CC,iBAAkB,WAEhB,GAAInd,GAAe,EAEnBzvJ,MAAK0Y,QAAQm8I,QAAQrxH,IAAIt2B,KAAK,gCAAgCuiB,OAE1DzvB,KAAK0Y,QAAQmtJ,WAEfpW,EAAezvJ,KAAK0Y,QAAQmtJ,UAAUroI,MAAMjwB,IAAI,eAChDvN,KAAKwjC,IAAIt2B,KAAK,wBAAwB0Z,OAAO6oI,IAEpCzvJ,KAAK0Y,QAAQ1K,IAAIT,IAAI,iBAE9BkiJ,EAAezvJ,KAAK0Y,QAAQ1K,IAAIT,IAAI,eAEpChN,EAAEkC,KAAKgtJ,EAAc,SAASzrG,GAC5B,GAAI6oH,GAAM1sK,EAAE,YACF0sK,GAAIj0J,KAAKorC,EACnBhkD,MAAKwjC,IAAIt2B,KAAK,wBAAwB0Z,OAAOimJ,IAC5C7sK,OAIDyvJ,GACFzvJ,KAAKwjC,IAAIt2B,KAAK,+BAA+BujB,OAAO,MAKxDq8I,cAAe,WAEb,GAAIC,GAAmB/sK,KAAKgpK,mBAAmBlO,QAE3CA,EAAU96J,KAAKy5C,OAAOvwC,OAAO,SAAS6yC,GACxC,MAAOA,GAAMxuC,IAAI,WAA0C,SAA7BwuC,EAAMxuC,IAAI,UAAUjI,OAGhD0nK,IAAalS,EAAQ12J,QAEpBpE,KAAK6oK,kBAAqBkE,KAC1B/sK,KAAK6oK,kBAAqBmE,IACL,GAAtBhtK,KAAKy5C,OAAOr1C,SACU,GAAtBpE,KAAKy5C,OAAOr1C,QAAgB4oK,KAEhChtK,KAAKwjC,IAAIzrB,SAAS,eAElB/X,KAAKw9B,MAAMnlB,IAAI,cAAe,GAEzBrY,KAAKssK,WAAWtsK,KAAKwjC,IAAIt2B,KAAK,2BAA2Bka,QAAQ,aAEtE7mB,EAAEkC,KAAKzC,KAAKy5C,OAAQz5C,KAAKitK,aAAcjtK,QAIzCitK,aAAc,SAASzkK,GAErB,GAAI0kK,GAAY1kK,EAAK+E,IAAI,WAAyC,KAA5B/E,EAAK+E,IAAI,UAAUjI,MAA2C,SAA5BkD,EAAK+E,IAAI,UAAUjI,IAG3F,KAAKtF,KAAK6oK,kBAAqBqE,KAC1BltK,KAAK6oK,kBAAqBrgK,EAAK+E,IAAI,YAAxC,CAEA,GAAIw6J,GAAqC,GAAtB/nK,KAAKy5C,OAAOr1C,SAAgBpE,KAAK6oK,iBAEhDb,GAAe,CAEfhoK,MAAKgpK,oBAA0D9tI,SAApCl7B,KAAKgpK,mBAAmBlO,UACrDkN,EAAehoK,KAAKgpK,mBAAmBlO,QAGzC,IAAI/+G,GAAQ,GAAIwlG,KAAIgC,IAAIC,GAAGokB,aACzBpqI,MAAOh1B,EACPw/J,aAAcA,EACdzQ,aAAav3J,KAAK6oK,iBAClBd,YAAaA,GAGf/nK,MAAKwjC,IAAIt2B,KAAK,kBAAkB0Z,OAAOm1B,EAAMtY,SAASD,KAEtDuY,EAAMl8B,KAAK,oBAAqB7f,KAAKgrK,kBAAmBhrK,MAExDA,KAAKw9B,MAAMnlB,IAAI,cAAerY,KAAKw9B,MAAMjwB,IAAI,eAAiB,KAIhE4/J,cAAe,WAETntK,KAAK0Y,QAAQ00J,cAEfptK,KAAKqtK,WAAY,EAEjBrtK,KAAK+qK,OAAS,GAAIxpB,KAAIgC,IAAIC,GAAG8pB,YAAYhoK,KAAM,cAAey2C,MAAO/7C,KAAK0Y,QAAQ00J,YAAap/J,IAAKhO,KAAK0Y,QAAQ1K,IAAKu/J,WAAY,EAAG13J,SAAU,OAASjU,MAAO,SAE/J5B,KAAK+qK,OAAOlrJ,KAAK,eAAgB,WAC/B7f,KAAK+qK,OAAOyC,cACXxtK,MAEHA,KAAKwjC,IAAIt2B,KAAK,WAAW0Z,OAAO5mB,KAAK+qK,OAAOtnI,SAASD,KAEjDxjC,KAAK0Y,QAAQ00J,YAAYvjJ,OAAQ7pB,KAAK+qK,OAAOt7I,OAC5CzvB,KAAKwjC,IAAIzrB,SAAS,iBAK3B01J,wBAAyB,WAEnBztK,KAAKgiK,SAEPhiK,KAAKwjC,IAAIzrB,SAAS,eAElB/X,KAAK0tK,iBAAmB,GAAInsB,KAAIgC,IAAIC,GAAG0e,kBACrC2E,cAAc,EACd1E,YAAaniK,KAAK0Y,QAAQypJ,YAC1B8E,cAAejnK,KAAK0Y,QAAQuuJ,cAC5BjF,OAAQhiK,KAAKgiK,SAGfhiK,KAAKwjC,IAAI5c,OAAO5mB,KAAK0tK,iBAAiBjqI,SAASD,OAMnDC,OAAQ,WAmBN,MAjBAzjC,MAAKirK,yBAELjrK,KAAKwjC,IAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAK0Y,UAEjC1Y,KAAKwsK,QAAUxsK,KAAKwjC,IAAIt2B,KAAK,mBAC7BlN,KAAKwsK,QAAQj9I,OAEbvvB,KAAKmrK,kBAELnrK,KAAKytK,0BAELztK,KAAK4sK,mBAEL5sK,KAAKulK,aACLvlK,KAAK8sK,gBACL9sK,KAAKmtK,gBAEEntK,QAgBXuhJ,IAAIgC,IAAIC,GAAG2oB,YAAc5qB,IAAIC,KAAKv+G,KAAKv9B,QAErC4N,UAAW,uBAEX8/I,iBACEua,eAAgB,KAGlB5wI,WAAY,WACVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAC9BpzJ,KAAK4tK,UAAY,EACjB5tK,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAWj5B,KAAK0Y,QAAQugB,SAAWsoH,IAAImG,UAAUF,YAAY,qBAG5F/jH,OAAQ,WAEN,MADAzjC,MAAKwjC,IAAI5qB,KAAKzY,EAAEH,KAAKi5B,SAASj5B,KAAK0Y,WAC5B1Y,MAGTuvB,KAAM,SAASspE,GACV74F,KAAK4tK,aACHrsB,IAAIC,KAAKC,KAAK30G,IAAOy0G,IAAIC,KAAKC,KAAKjxI,QAAQs8B,IAAMy0G,IAAIC,KAAKC,KAAKjxI,QAAQs8B,GAAGr8B,SAAW,GACxFzQ,KAAKwjC,IAAI7T,OAAO3vB,KAAK0Y,QAAQi1J,eAAgB,GAE7C3tK,KAAKwjC,IAAIjU,OAEXvvB,KAAK4tK,cAGPn+I,KAAM,SAASopE,GACb74F,KAAK4tK,YACF5tK,KAAK4tK,UAAY,IACpB5tK,KAAK4tK,UAAY,GACZrsB,IAAIC,KAAKC,KAAK30G,IAAOy0G,IAAIC,KAAKC,KAAKjxI,QAAQs8B,IAAMy0G,IAAIC,KAAKC,KAAKjxI,QAAQs8B,GAAGr8B,SAAW,GACxFzQ,KAAKwjC,IAAIhsB,MAAK,GAAMmY,OAAO3vB,KAAK0Y,QAAQi1J,eAAgB,GAExD3tK,KAAKwjC,IAAI/T,SAIb3F,QAAS,WACP,MAAO9pB,MAAK4tK,UAAY,KAK5BrsB,IAAIgC,IAAIC,GAAGqqB,QAAUtsB,IAAIC,KAAKv+G,KAAKv9B,QAEjC4N,UAAW,kBACX0jB,UACEu2I,WAAY,GACZ13J,SAAU,eACVjU,MAAO,KAGTm7B,WAAY,WAEVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKg3B,UAC3Bh3B,KAAK0Y,QAAQqjC,OACd/7C,KAAKq9C,SAEPr9C,KAAK8tK,YAAY9tK,KAAK0Y,QAAQugB,UAAYj5B,KAAK+tK,gBAAiB,aAGlED,YAAa,SAASxmB,GACpBtnJ,KAAKi5B,SAAWsoH,IAAIC,KAAKoF,SAASG,QAAQO,EAAM,aAGlDjqG,OAAQ,WACHr9C,KAAK0Y,QAAQqjC,OACd/7C,KAAK0Y,QAAQqjC,MACVp8B,GAAG,cAAe,SAASre,EAAG61C,EAAQ5lB,EAAK/oB,GAC1CxI,KAAKyjC,OAAOj7B,GAAM+mB,QACjBvvB,MACF2f,GAAG,aAAc,WAChB3f,KAAKyvB,QACJzvB,OAITqR,QAAS,WACJrR,KAAK0Y,QAAQqjC,OACd/7C,KAAK0Y,QAAQqjC,MAAMttC,IAAI,KAAM,KAAMzO,OAKvCmzC,YAAa,SAAS5hB,GACpB,GAAIxU,KACDwU,GAAItlB,QAAQ,UAAW,EACxB8Q,EAAMjH,IAAM9V,KAAK0Y,QAAQ60J,WACjBh8I,EAAItlB,QAAQ,aAAc,IAClC8Q,EAAMu0C,OAAStxD,KAAK0Y,QAAQ60J,YAG3Bh8I,EAAItlB,QAAQ,WAAY,EACzB8Q,EAAM0M,KAAOzpB,KAAK0Y,QAAQ60J,WAClBh8I,EAAItlB,QAAQ,YAAa,IACjC8Q,EAAMgmC,MAAQ/iD,KAAK0Y,QAAQ60J,YAE7BvtK,KAAKwjC,IAAIjiC,IAAIwb,IAIf0mB,OAAQ,SAASj7B,GAQf,MAPAxI,MAAKwjC,IAAI5qB,KAAM5Y,KAAKi5B,SAASzwB,IAC1BxI,KAAK0Y,QAAQ9W,OACd5B,KAAKwjC,IAAIjiC,IAAI,QAASvB,KAAK0Y,QAAQ9W,OAElC5B,KAAK0Y,QAAQ7C,UACd7V,KAAKmzC,YAAYnzC,KAAK0Y,QAAQ7C,UAEzB7V,QAMXuhJ,IAAIgC,IAAIC,GAAGwqB,QAAUzsB,IAAIgC,IAAIC,GAAGqqB,QAAQnoK,QAEtCqoK,gBAAiB,kBACjBz6J,UAAW,kBAEX0jB,UACEquI,gBAAiB,EACjBC,kBAAmB,EACnBzvJ,SAAU,cAGZknB,WAAY,WACV,IAAI/8B,KAAK0Y,QAAQm8I,QACf,KAAM,IAAI3lJ,OAAM,4BAElBlP,MAAK0Y,QAAQugB,SAAWj5B,KAAK0Y,QAAQugB,UAAYj5B,KAAK+tK,gBACtDxsB,IAAIgC,IAAIC,GAAGqqB,QAAQxiK,UAAU0xB,WAAW/zB,KAAKhJ,MAC7CA,KAAKiuK,QAAU,KACfjuK,KAAKkuK,SAAU,EACfluK,KAAKmuK,gBAAkB,MAGzBntB,SAAU,SAASjlG,GAEjB,MADA/7C,MAAK0Y,QAAQqjC,MAAQA,EACd/7C,MAQTouK,UAAW,SAASztK,GAElB,MADAX,MAAKiuK,QAAUttK,EACRX,MAGTquK,UAAW,SAASzR,GAElB,MADA58J,MAAK0Y,QAAQkkJ,OAASA,EACf58J,MAGTsuK,oBAAqB,SAASvqK,GAC5B/D,KAAK0Y,QAAQikJ,kBAAoB54J,GAGnCs5C,OAAQ,WACHr9C,KAAK0Y,QAAQqjC,QAEd/7C,KAAK0Y,QAAQqjC,MAAMj8B,OAAO,KAAM,KAAM9f,MACtCA,KAAK0Y,QAAQqjC,MACVp8B,GAAG,YAAa,SAASre,EAAG61C,EAAQ5lB,EAAK/oB,GAExC,GAAIxI,KAAK0Y,QAAQkkJ,QAAU58J,KAAK0Y,QAAQkkJ,OAAOx4J,OAAS,EAAG,CAEzD,GAAImqK,IAAkB,SAAU,UAE5BvuK,MAAK0Y,QAAQ81J,eACfD,EAAiBA,EAAe5rK,OAAO3C,KAAK0Y,QAAQ81J,cAGtD,IAAIttK,GAAIqgJ,IAAIgC,IAAIC,GAAGiZ,gBAAgB2B,iBAAiB51J,EAAMxI,KAAK0Y,QAAQkkJ,QACrE4B,aAAcx+J,KAAK0Y,QAAQ8lJ,cAK7Bh2J,GAAKm7B,QAAUpjC,EAAEw2B,KAAKvuB,EAAM+lK,GAG5B/lK,EAAKo0J,OAAS17J,EAAE07J,MAGhB,IAAI30H,GAAQjoC,KAAK0Y,QAAQikJ,iBACzB,IAAI10H,EACF,IAAI,GAAI9jC,GAAI,EAAGA,EAAIqE,EAAKo0J,OAAOx4J,SAAUD,EAAG,CAC1C,GAAIxD,GAAI6H,EAAKo0J,OAAOz4J,EACpBxD,GAAE6hC,MAAQyF,EAAMtnC,EAAE6hC,QAAU7hC,EAAE6hC,MAGlCxiC,KAAKuvB,KAAKgC,EAAK/oB,GACfxI,KAAKkuK,SAAU,MACNluK,MAAKkuK,UACdluK,KAAKyvB,OACLzvB,KAAKkuK,SAAU,IAEhBluK,MACF2f,GAAG,WAAY,WACV3f,KAAKkuK,UACPluK,KAAKyvB,OACLzvB,KAAKkuK,SAAU,IAEhBluK,MACLA,KAAKwoJ,kBAAkBxoJ,KAAK0Y,QAAQqjC,SAIxC1qC,QAAS,WACJrR,KAAK0Y,QAAQqjC,OACd/7C,KAAK0Y,QAAQqjC,MAAMj8B,OAAO,KAAM,KAAM9f,MAExCA,KAAKyvB,OACLzvB,KAAKkuK,SAAU,GAGjBO,YAAa,WACX,GAAI1lI,GAAO/oC,IACXyX,cAAazX,KAAKmuK,iBAClBnuK,KAAKmuK,gBAAkBlrK,WAAW8lC,EAAK2lI,SACrC,WAAa3lI,EAAKvF,IAAI/S,OAAO,MAE7B,WAAasY,EAAKvF,IAAI9S,QAAQ,MAC9B,KAGJjB,KAAM,WACAzvB,KAAK0uK,WACP1uK,KAAK0uK,UAAW,EAChB1uK,KAAKyuK,gBAITl/I,KAAM,SAASgC,EAAK/oB,GAClB,MAAIxI,MAAKiuK,UAAYjuK,KAAKiuK,QAAQzlK,GACzBxI,MAETA,KAAKyjC,OAAOj7B,GAEZxI,KAAKmzC,YAAY5hB,GACZvxB,KAAK0uK,WACR1uK,KAAK0uK,UAAW,EAChB1uK,KAAKyuK,eAEAzuK,OAGTmzC,YAAa,SAAS9D,GACpB,GAAI9d,GAAMvxB,KAAK0Y,QAAQ7C,SACnBhU,EAAS7B,KAAKwjC,IAAIq6D,cAClBj8F,EAAQ5B,KAAKwjC,IAAIk6D,aACjBixE,EAAc3uK,KAAK0Y,QAAQm8I,QAAQrkH,UACnC16B,EAAM,EACN2T,EAAO,CAIT3T,GADEyb,EAAItlB,QAAQ,UAAW,EACnBojC,EAAMpkC,EAAIpJ,EACP0vB,EAAItlB,QAAQ,aAAc,EAC7BojC,EAAMpkC,EAAKpJ,EAAO,EAElBwtC,EAAMpkC,EAIV6K,EAAM,EACRA,EAAMu5B,EAAMpkC,EACH6K,EAAMjU,EAAS8sK,EAAY1jK,IACpC6K,EAAMu5B,EAAMpkC,EAAIpJ,GAKhB4nB,EADC8H,EAAItlB,QAAQ,WAAY,EAClBojC,EAAMtkC,EAAInJ,EACT2vB,EAAItlB,QAAQ,aAAc,EAC3BojC,EAAMtkC,EAAKnJ,EAAM,EAEjBytC,EAAMtkC,EAIX0e,EAAO,EACTA,EAAO4lB,EAAMtkC,EACJ0e,EAAO7nB,EAAQ+sK,EAAY5jK,IACpC0e,EAAO4lB,EAAMtkC,EAAInJ,GAInBkU,GAAO9V,KAAK0Y,QAAQ2sJ,gBACpB57I,GAAQzpB,KAAK0Y,QAAQ4sJ,kBAErBtlK,KAAKwjC,IAAIjiC,KACPuU,IAAMA,EACN2T,KAAMA,KAIVga,OAAQ,SAASj7B,GACf,GAAIomK,GAAkBrtB,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKi5B,SAASzwB,GAE3D,OADAxI,MAAKwjC,IAAI5qB,KAAMg2J,GACR5uK,QAcXuhJ,IAAIiC,GAAGE,OAAOmrB,WAAattB,IAAIC,KAAKv+G,KAAKv9B,QAEvC69B,QAAS,MACTjwB,UAAW,qBAEXlL,QACEouJ,UAAW,qBAGbz5H,WAAY,WACVx8B,EAAE61B,QAAQp2B,KAAM,UAChBO,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAC9BpzJ,KAAKmpK,kBAGPA,eAAgB,WACd,GAAIpgI,GAAU/oC,KACV60J,EAAU70J,KAAK0Y,QAAQm8I,OAE3B10J,GAAE+B,UAAUyd,GAAG,8DAA+D,WACvEzd,SAASqnK,mBAAsBrnK,SAASsnK,yBAA4BtnK,SAASunK,sBAAyBvnK,SAASwnK,qBAC9G3gI,EAAKvL,MAAMjwB,IAAI,2BACjBsnJ,EAAQn8I,QAAQ1K,IAAIqK,IAAI,eAAe,GAG3Cw8I,EAAQl4G,oBAIZqtH,kBAAmB,SAASnxE,GACtBA,GACF74F,KAAK4oJ,UAAU/vD,EAGjB,IAAI3qD,GAAQn/B,OAAO7M,SACf0vC,EAAQ1D,EAAIjkC,eAEZjK,MAAK0Y,QAAQw1B,MACf0D,EAAQzxC,EAAEH,KAAK0Y,QAAQw1B,KAAK,GAG9B,IAAI+7H,GAAoBr4H,EAAMs4H,mBAAqBt4H,EAAMu4H,sBAAwBv4H,EAAMw4H,yBAA2Bx4H,EAAMk9H,oBACpHzE,EAAmBn8H,EAAIo8H,gBAAkBp8H,EAAIq8H,qBAAuBr8H,EAAIs8H,sBAAwBt8H,EAAI6gI,iBACpGla,EAAU70J,KAAK0Y,QAAQm8I,OAEtB3mH,GAAIq7H,mBAAsBr7H,EAAIu7H,sBAAyBv7H,EAAIs7H,yBAA4Bt7H,EAAIw7H,oBAkB9FW,EAAiBrhK,KAAKklC,IAjBlB0D,EAAMw4H,wBAIRH,EAAkBjhK,KAAK4oC,EAAO1W,QAI1B+uI,GACFA,EAAkBjhK,KAAK4oC,GAIvBijH,GAAW70J,KAAKw9B,MAAMjwB,IAAI,2BAC5BsnJ,EAAQ7mJ,IAAIqK,IAAI,eAAe,KAOrCorB,OAAQ,WACN,GAAI/qB,GAAUnY,EAAEmF,OACd1F,KAAK0Y,SAEHs2J,OAAQjlK,SAASgQ,MAAQ,IAU7B,OAPA/Z,MAAKwjC,IAAI5qB,KAAK5Y,KAAK0Y,QAAQugB,SAASvgB,IAE/B1Y,KAAKivK,4BACRjvK,KAAK+jC,mBACLw9G,IAAInqG,IAAIuuG,KAAK,kGAGR3lJ,MAGTivK,wBAAyB,WACvB,GAAIjvK,KAAKkvK,cAAe,CACtB,GAAIC,GAAYjtK,SAASktK,QACzB,IAAmC,IAA/BD,EAAUztI,OAAO,UACnB,OAAO,EAGX,OAAO,GAGTwtI,YAAa,WACX,IACE,MAAOngK,QAAOg6B,OAASh6B,OAAO+G,IAC9B,MAAOxU,GACP,OAAO,MAObm/I,gBAAgB4uB,eAAiB,SAAS/pK,EAAMy2C,EAAOlmC,GAErD,GADAvQ,EAAOA,GAAQA,EAAKf,cACfe,GAAiB,WAATA,GAA8B,YAATA,EAE3B,CAAA,GAAa,SAATA,EACT,MAAO,IAAI27I,cAAallG,EAAOlmC,EAE/B,MAAM,8BAJN,MAAO,IAAIgrI,iBAAgB9kG,EAAOlmC,IActC6qI,aAAar1I,WAEXsL,OAAQ,WACN,KAAM,8BAGRmoB,QAAS,WACP,KAAM,+BAGRt9B,OAAQ,WACNxB,KAAKsvK,SACLtvK,KAAK2gJ,QAAQpkG,YAAYv8C,KAAKq3H,WAC9Br3H,KAAK4gJ,QAAS,EACd5gJ,KAAKwO,QAAQ,SAAUxO,MACvBA,KAAKuvK,aAGPA,UAAW,aAEXpvJ,OAAQ,WAEN,MADAngB,MAAKuN,IAAI,UAAYvN,KAAKuvB,OAASvvB,KAAKyvB,QAChCzvB,KAAKuN,IAAI,WAGnBgiB,KAAM,WACDvvB,KAAKuN,IAAI,WACVvN,KAAKqY,KACHwR,QAAQ,KAKd4F,KAAM,WACAzvB,KAAKuN,IAAI,WACXvN,KAAKqY,KACHwR,QAAQ,KAKdxR,IAAK,SAASm3J,GACZxvK,KAAKsvK,QACL,IAAIG,GAAMzvK,KAAK2gJ,QAAQpuF,SAASvyD,KAAKq3H,WACjCp6F,EAAQwyI,EAAI/2J,OAChB,KAAI,GAAIvU,KAAKqrK,GACXvyI,EAAM94B,GAAKqrK,EAAUrrK,EAMvB,OAJAnE,MAAK2gJ,QAAQK,SAAShhJ,KAAKq3H,UAAWo4C,GACbv0I,SAArBs0I,EAAU3lJ,QACZ7pB,KAAKwO,QAAQ,oBAAqBxO,KAAMwvK,EAAU3lJ,QAE7C7pB,MAGTk9B,MAAO,SAASzwB,GACd,GAAIgjK,GAAMzvK,KAAK2gJ,QAAQpuF,SAASvyD,KAAKq3H,iBAC9Bo4C,GAAI/2J,QAAQjM,GACnBzM,KAAK2gJ,QAAQK,SAAShhJ,KAAKq3H,UAAWo4C,IAGxCliK,IAAK,SAASd,GACZzM,KAAKsvK,QACL,IAAIryI,GAAQj9B,KAAK2gJ,QAAQpuF,SAASvyD,KAAKq3H,UACvC,OAAOp6F,GAAMvkB,QAAQjM,IAGvBmhK,UAAW,WACT,OAAS5tK,KAAKuN,IAAI,WAGpB+hK,OAAQ,WACN,IAAItvK,KAAK4gJ,OAAQ,KAAM,wBAGzB8uB,mBAAoB,WACd1vK,KAAK2gJ,QAAQlyI,KACjBzO,KAAK2gJ,QAAQlyI,IAAI,KAAM,KAAMzO,OAG/B8gJ,iBAAkB,WAChB,GAAI9gJ,KAAK2gJ,QAAQhhI,GAAjB,CACA,GAAIopB,GAAO/oC,KAGP2vK,EAAc,SAASC,EAAQC,GACjCA,EAAcA,GAAeD,EAC7B7mI,EAAK43G,QAAQhhI,GAAGiwJ,EAAQ,WACtB,GAAIxzI,GAAO1wB,MAAML,UAAUxI,MAAMmG,KAAK8E,UAClCsH,UAASgnB,EAAKA,EAAKh4B,OAAS,GAAI,KAAQ2kC,EAAKsuF,WAC/CtuF,EAAKv6B,QAAQ5L,MAAMmmC,GAAO8mI,GAAaltK,OAAOy5B,KAE/C2M,GAEL4mI,GAAY,eACZA,EAAY,cACZA,EAAY,gBACZA,EAAY,iBAAkB,aAC9BA,EAAY,gBAAiB,cAG/BG,aAAc,SAAS7rK,GACrBjE,KAAKq3H,UAAYpzH,IAKrB1D,EAAEmF,OAAOg7I,aAAar1I,UAAW/K,SAASu7B,QAmB1CglH,gBAAgBx1I,UAAY9K,EAAEmF,UAAWg7I,aAAar1I,WAEpDsL,OAAQ,WACN,GAAIyV,IACF9mB,KAAM,UACNoT,SACEq3J,IAAK/vK,KAAKgwK,SACVC,SAAUjwK,KAAKkwK,cACfC,iBAAkBnwK,KAAKuN,IAAI,qBAAuB,UAIlDsgJ,EAAgB7tJ,KAAKowK,kBACzB,IAAIviB,GAAiBA,EAAczpJ,OAAS,EAAG,CAC7CgoB,EAAK1T,QAAQm1I,cAAgBA,CAC7B,IAAIh3I,GAAa7W,KAAKqwK,eAClBx5J,GAAWzS,OAAS,IACtBgoB,EAAK1T,QAAQ7B,YACX5J,GAAI,aACJqjK,QAASz5J,IAaf,MARI7W,MAAKuN,IAAI,YACX6e,EAAK1T,QAAQ63J,QAAS,EACtBnkJ,EAAK1T,QAAQ83J,YAAc,yBAC3BpkJ,EAAK1T,QAAQ+3J,UAAY,SACzBrkJ,EAAK1T,QAAQg4J,YAAc1wK,KAAKuN,IAAI,gBAAkB,EAEtD6e,EAAK1T,QAAQy3J,iBAAmBnwK,KAAKuN,IAAI,qBAAuB,SAE3D6e,GAGT0S,QAAS,WACP,MAAO9+B,MAAKuN,IAAI,QAAUvN,KAAKuN,IAAI,aAGrCgiK,UAAW,WACTvvK,KAAK0vK,sBAGPiB,OAAQ,SAASZ,GACf,MAAO/vK,MAAKqY,KACV03J,IAAKA,KAITa,YAAa,SAASX,GACpB,MAAOjwK,MAAKqY,KACV43J,SAAUA,KAIdY,iBAAkB,SAASjU,GACzB,MAAO58J,MAAKqY,KACVw1I,cAAe+O,KAInBkU,eAAgB,SAAS3jJ,GACvBntB,KAAK2gJ,QAAQmwB,eAAe9wK,KAAKq3H,UAAWlqG,IAG9C6iJ,OAAQ,WACN,MAAOhwK,MAAKuN,IAAI,QAGlB2iK,YAAa,WACX,MAAOlwK,MAAKuN,IAAI,aAGlB6iK,iBAAkB,WAChB,GAAIviB,GAAgB7tJ,KAAKuN,IAAI,gBAC7B,IAAIsgJ,EAIF,MAH8B,gBAApB,KACRA,EAAgBA,EAAcrpJ,MAAM,MAE/BxE,KAAK+wK,gBAAgBljB,IAIhCwiB,cAAe,WACb,GAAIC,KAQJ,OANEA,GADEtwK,KAAKuN,IAAI,cACDvN,KAAKuN,IAAI,cAEThN,EAAEyN,IAAIhO,KAAK+gJ,WAAWxzI,IAAI,UAAW,SAASgxJ,GACtD,MAAOA,GAAMznJ,OAGV9W,KAAK+wK,gBAAgBT,IAG9BS,gBAAiB,SAASl4F,GACxB,MAAOt4E,GAAEyN,IAAI6qE,EAAO,SAASpmC,GAC3B,MAAOA,GAAK1mC,YAWlBk1I,aAAa51I,UAAY9K,EAAEmF,UAAWg7I,aAAar1I,WAEjDsL,OAAQ,WACN,GAAIyV,IACF9mB,KAAM,OACNoT,SACEm0I,YAAa7sJ,KAAKgxK,mBAIlBltH,EAAa9jD,KAAKuN,IAAI,aACtBu2C,KACF13B,EAAK1T,QAAQorC,WAAaA,EAG5B,IAAIqE,GAAMnoD,KAAKuN,IAAI,MAInB,OAHY2tB,UAARitB,IACF/7B,EAAK1T,QAAQyvC,IAAMA,GAEd/7B,GAGT0S,QAAS,WACP,MAAO9+B,MAAKuN,IAAI,gBAGlB0jK,eAAgB,SAASpkB,GACvB,MAAO7sJ,MAAKqY,KACVw0I,YAAaA,KAIjBqkB,cAAe,SAASptH,GACtB,MAAO9jD,MAAKqY,KACVyrC,WAAYA,KAIhBqtH,OAAQ,SAAShpH,GACf,MAAOnoD,MAAKqY,KACV8vC,IAAKA,KAIT6oH,eAAgB,SAASnkB,GACvB,MAAO7sJ,MAAKuN,IAAI,gBAGlB6jK,cAAe,SAASttH,GACtB,MAAO9jD,MAAKuN,IAAI,eAGlB8jK,OAAQ,SAASlpH,GACf,MAAOnoD,MAAKuN,IAAI,UAWpB2zI,cAAc71I,UAAUimK,SAAW,WACjC,MAAOtxK,MAAKmhJ,cAAcowB,cAS5BrwB,cAAc71I,UAAUmmK,oBAAsB,SAAShtJ,EAAOyqI,GAC5D,GAAIx1G,GAASz5C,KAAKmhJ,cAAcswB,UAAYzxK,KAAKmhJ,cAAcswB,SAASh4H,MAExE,KAAKA,EACH,MAAOj1B,EAKT,KAAK,GAFDktJ,MACA9tK,EAAI,EACCO,EAAI,EAAGA,EAAIs1C,EAAOr1C,OAAQD,IAC7Bs1C,EAAOt1C,GAAGmB,MAAQ2pJ,IACpByiB,EAAgB9tK,GAAKO,EACrBP,IAGJ,OAA8Bs3B,SAA1Bw2I,EAAgBltJ,IACX,EAEFktJ,EAAgBltJ,IAQzB08H,cAAc71I,UAAUsmK,sBAAwB,SAASxlI,GACvD,GAAIsN,GAASz5C,KAAKmhJ,cAAcswB,UAAYzxK,KAAKmhJ,cAAcswB,SAASh4H,MAExE,IAAKA,EAAL,CAIA,IAAK,GADDm4H,MACKztK,EAAI,EAAGA,EAAIs1C,EAAOr1C,OAAQD,IAAK,CACtC,GAAI43C,GAAQtC,EAAOt1C,GACf0tK,EAA6B,WAAf91H,EAAMz2C,IACpB6mC,IAASA,EAAM/nC,OAAS,IAC1BytK,EAAcA,GAAe1lI,EAAMlgC,QAAQ8vC,EAAMz2C,QAAS,GAExDusK,GACFD,EAAajmK,KAAKxH,GAGtB,MAAOytK,KAmCTxwB,QAAQuB,SAAW,cACnBvB,QAAQ0wB,UAAY,iFAEpB1wB,QAAQ/1I,WAENk3I,sBAAuB,SAASpmD,GAC9B,GAAI41E,GAAgB51E,EAAK6xD,eACrBgkB,EAAc71E,EAAK2xD,aACnBmkB,EAAgC,IAAnB91E,EAAK4xD,WAAqB,IAAM5xD,EAAK4xD,WAAc,GAChEh/H,EAAWotE,EAAK+1E,UAAY,UAAY,EAC5C/1E,GAAKmmD,mBAAqByvB,EAAe,MAAOhjJ,EAAUijJ,EAAaC,GAAWlkK,KAAK,KAGzFokK,UAAW,SAASr2I,GAElB,QAASs2I,GAAuB5pK,EAAMg5D,GAEpC,IADA,GAAIj3D,GACEA,EAAKw+B,EAAKm5G,oBAAoBp5I,OAClCyB,EAAG/B,EAAMg5D,GAJb,GAAIz4B,GAAO/oC,IAOXyX,cAAazX,KAAKgiJ,UAClBhiJ,KAAKiiJ,qBAAqBt2I,KAAKymK,GAC/BpyK,KAAKkiJ,oBAAoBv2I,KAAKmwB,GAC9B97B,KAAKgiJ,SAAW/+I,WAAW,WACzB8lC,EAAKspI,WAAWD,IACf,IAGLC,WAAY,SAASv2I,GAKnB,GAHAA,EAAWA,GAAY,aAGpB97B,KAAKmiJ,SACN,MAAOniJ,KAOT,IAJAA,KAAKiiJ,yBAIAjiJ,KAAK8iJ,WAA6C,IAAhC9iJ,KAAKsyK,gBAAgBluK,OAE1C,WADA03B,GAAS,KAKX97B,MAAKmiJ,UAAW,CAChB,IAAIowB,GAAM,IAERA,GADEvyK,KAAKwyK,WACDxyK,KAAKyyK,aAELzyK,KAAK0yK,WAEb,IAAIluI,GAASxkC,KAAK2yK,sBAAsB3yK,KAAK0Y,QAE7C,OADA65J,GAAIvpK,KAAKhJ,KAAMwkC,EAAQ1I,GAChB97B,MAGT2yK,sBAAuB,SAASj6J,GAC9B,GAAI8rB,MACA4pH,EAAe11I,EAAQ01I,iBACvBwkB,EAAUl6J,EAAQm6J,SAAWn6J,EAAQk6J,SAAWxkB,EAAaykB,SAAWzkB,EAAawkB,OAMzF,IAJGA,GACDpuI,EAAO74B,KAAK,WAAainK,GAGxBxkB,EAAa0kB,WACd,GAAIvyK,EAAE6E,QAAQgpJ,EAAa0kB,YACzB,IAAK,GAAI3uK,GAAI,EAAGklC,EAAM+kH,EAAa0kB,WAAW1uK,OAAQD,EAAIklC,EAAKllC,IAC7DqgC,EAAO74B,KAAK,gBAAkByiJ,EAAa0kB,WAAW3uK,QAGxDqgC,GAAO74B,KAAK,cAAgByiJ,EAAa0kB,WAO7C,OAHI9yK,MAAK+iJ,UACPv+G,EAAO74B,KAAK,YAAc3L,KAAK+iJ,UAE1Bv+G,GAGTguI,SAAU,WACR,GAAIxyK,KAAK0Y,QAAQoW,KAAM,CACrB,GAAI9uB,KAAK0Y,QAAQkpI,WACf,OAAO,CAGT,IAAImxB,GAAU5jK,KAAK0rB,UAAU76B,KAAK2W,SAClC,IAAIo8J,EAAQ3uK,OAASpE,KAAK0Y,QAAQipI,aAChC,OAAO,EAGX,OAAO,GAGT8wB,aAAc,SAASjuI,EAAQ1I,GAC7B,GAAIiN,GAAO/oC,KACP2nB,EAAO3nB,KAAK0Y,QAAQiP,KAEpBqrJ,EAAclvB,QAAQtC,KAAKqE,SAASt3E,OAAO,mCAAmCj9C,OAElF3J,IACEgpE,aAAa,EACbrrF,KAAM,OACN24B,OAAQ,OACRx6B,SAAU,OACVuoB,YAAa,mBACbpE,IAAK5nB,KAAKizK,aAAejzK,KAAK0iJ,UAAYl+G,EAAOpgC,OAAS,IAAMogC,EAAOz2B,KAAK,KAAM,IAClFvF,KAAM2G,KAAK0rB,UAAU76B,KAAK2W,UAC1BgV,QAAS,SAASnjB,GAChBwqK,EAAY/kK,MAET,IAAM86B,EAAKk5G,qBAAqB79I,SAC7BoE,EAAK+8I,QACPzB,QAAQtC,KAAKqE,SAASt3E,OAAO,oCAAoCk4E,MACjE3qH,EAAS,KAAMtzB,IAEfszB,EAAStzB,IAIbugC,EAAKmqI,oBAEPzuK,MAAO,SAASoqB,GACdmkJ,EAAY/kK,MACZ61I,QAAQtC,KAAKqE,SAASt3E,OAAO,oCAAoCk4E,KACjE,IAAIjlF,IAAQ+jF,QAAS,gBACF,KAAf12H,EAAI9B,SACNy0C,GAAQ+jF,QAAS,qBAEnB,KACE/jF,EAAMryD,KAAKC,MAAMyf,EAAItD,cACrB,MAAMjqB,IACL,IAAMynC,EAAKk5G,qBAAqB79I,QACjC03B,EAAS,KAAM0lC,GAEjBz4B,EAAKmqI,uBAKXR,YAAa,SAASluI,EAAQ1I,GAC5B,GAAIiN,GAAO/oC,KACP2nB,EAAO3nB,KAAK0Y,QAAQiP,KACpByE,EAAOjd,KAAK0rB,UAAU76B,KAAK2W,UAC3Bw8J,EAAanzK,KAAKozK,eAAehnJ,GACjCs2H,EAAW35G,EAAKsqI,eAAiBtqI,EAAK25G,QAC1CywB,GAAW/mJ,EAAM,EAAG,SAASs9H,GAC3BllH,EAAO74B,KAAK+9I,EACZ,IAAIspB,GAAclvB,QAAQtC,KAAKqE,SAASt3E,OAAO,kCAAkCj9C,QAC7EoR,EAAOqG,EAAKrwB,QAAQ46J,YAAcvqI,EAAKwqI,QAASxqI,EAAKkqI,YACzDtrJ,IACElkB,SAAU,QACVmkB,IAAK8a,EAAOggH,EAAW,IAAMl+G,EAAOz2B,KAAK,KACzCmgB,cAAe6a,EAAKrwB,QAAQmpI,oBAC5B1rI,QAAS4yB,EAAKrwB,QAAQmpI,oBACtBl2H,QAAS,SAASnjB,GAChBwqK,EAAY/kK,MACT,IAAM86B,EAAKk5G,qBAAqB79I,SAE7BoE,EAAK+8I,QACPzB,QAAQtC,KAAKqE,SAASt3E,OAAO,mCAAmCk4E,MAChE3qH,EAAS,KAAMtzB,IAEfszB,EAAStzB,IAGbugC,EAAKmqI,oBAEPzuK,MAAO,SAAS+D,GACdwqK,EAAY/kK,MACZ61I,QAAQtC,KAAKqE,SAASt3E,OAAO,mCAAmCk4E,KAChE,IAAIjlF,IAAQ+jF,QAAS,gBACrB,KACE/jF,EAAMryD,KAAKC,MAAMyf,IAAItD,cACrB,MAAMjqB,IACL,IAAMynC,EAAKk5G,qBAAqB79I,QACjC03B,EAAS,KAAM0lC,GAEjBz4B,EAAKmqI,yBAQbE,eAAgB,SAASL,GAEvB,MAAI/yK,MAAK0Y,QAAQy6J,WACRnzK,KAAK0Y,QAAQy6J,YAGtBJ,EAAUA,GAAW5jK,KAAK0rB,UAAU76B,KAAK2W,WACpC3W,KAAK0Y,QAAQ86J,gBAAkBT,EAAQ3uK,OAASpE,KAAK0Y,QAAQipI,aACzD,SAASn5I,EAAMkc,EAAOoX;AAC3BA,EAAS,UAAYhO,mBAAmBtlB,KAIrC,SAASA,EAAMkc,EAAOoX,GAC3BtzB,EAAO2G,KAAK0rB,WAAYyoH,OAAQ96I,IAChC2iG,KAAKotB,SAAS/vH,EAAMkc,EAAO,SAASglI,GAClC5tH,EAAS,QAAUhO,mBAAmByzH,IAAIC,KAAKC,KAAK+H,UAAUE,UAMpEwpB,iBAAkB,WAChB,GAAInqI,GAAO/oC,IAWX,IAVAA,KAAKmiJ,UAAW,EAChBniJ,KAAKoiJ,iBAAkB,GAAI/xI,OAAOC,UAGlCmH,aAAazX,KAAKqiJ,eAClBriJ,KAAKqiJ,cAAgBp/I,WAAW,WAC9B8lC,EAAKylH,cACJxuJ,KAAK0Y,QAAQ+6J,aAAe,MAG5BzzK,KAAKiiJ,qBAAqB79I,OAAQ,CACnC,GAAIilD,GAAUrpD,KAAKiiJ,qBAAqBn5I,KACxC9I,MAAKqyK,WAAWhpH,KAIpBqqH,gBAAiB,SAASC,EAAaC,EAAYC,EAAa/3I,GAC9D97B,KAAK8zK,kBAAoB9zK,KAAK8zK,mBAAqB9zK,KAAK8hJ,eACxD,IAAIn6H,GAAO3nB,KAAK0Y,QAAQiP,KACpBqrJ,EAAclvB,QAAQtC,KAAKqE,SAASt3E,OAAO,wCAAwCj9C,OACvF3J,IACElkB,SAAU,QACVmkB,IAAK5nB,KAAK+zK,eAAeJ,EAAaC,GACtC1lJ,cAAe,0BAA4BluB,KAAK8zK,kBAChD39J,OAAO,EACPwV,QAAS,SAASnjB,GAChBwqK,EAAY/kK,MACZ6tB,EAAStzB,IAEX/D,MAAO,SAAS+D,GACdwqK,EAAY/kK,MACZ61I,QAAQtC,KAAKqE,SAASt3E,OAAO,yCAAyCk4E,MACtE3qH,EAAS,UAKfgmH,cAAe,WACb,MAAOP,KAAIC,KAAKC,KAAK2I,mBAAmBj7I,KAAK0rB,UAAU76B,KAAK2W,YAG9Do9J,eAAgB,SAASh4H,EAAO63H,GAC9B,GAAIlxI,GAAO1iC,KAAKuzK,QACZ3rJ,GACF8a,EACA0+G,QAAQuB,SAAS9/I,MAAM,GACvB7C,KAAKmhJ,cAAcmwB,WACnBtxK,KAAKmhJ,cAAcqwB,oBAAoBxxK,KAAKg0K,sBAAsBj4H,GAAQ,UAC1E,aACA63H,GAAY7lK,KAAK,KAEfqgJ,EAAepuJ,KAAK0Y,QAAQ01I,iBAC5B9nH,EAAQ8nH,EAAa0kB,UACzB,IAAIxsI,EACF,GAAI/lC,EAAE6E,QAAQkhC,GAAQ,CAEpB,IAAK,GADD2tI,MACK9vK,EAAI,EAAGklC,EAAM/C,EAAMliC,OAAQD,EAAIklC,EAAKllC,IAC3C8vK,EAAYtoK,KAAK,gBAAkB26B,EAAMniC,GAE3CyjB,IAAO,IAAMqsJ,EAAYlmK,KAAK,SAE9B6Z,IAAO,eAAiB0e,CAG5B,OAAO1e,IAGT4mI,WAAY,WACVxuJ,KAAKmhJ,cAAgB,KACrBnhJ,KAAK+hJ,KAAO,KACZ/hJ,KAAKk0K,4BAGPC,SAAU,SAASr4I,GACjB,GAAIiN,GAAO/oC,IACX,OAAG+oC,GAAKo4G,eACNrlH,GAAYA,EAASiN,EAAKqrI,iBAAiBrrI,EAAKo4G,cAAep4G,EAAKrwB,QAAQ01I,eACrEpuJ,OAETA,KAAKmyK,UAAU,SAAS3pK,EAAMg5D,GAC5B,GAAGh5D,EACDugC,EAAKo4G,cAAgB,GAAID,eAAc14I,GAEnCA,EAAK6lJ,UACPtlH,EAAKrwB,QAAQ21I,QAAUtlH,EAAKrwB,QAAQ21I,YACpCtlH,EAAKrwB,QAAQ21I,SACX99D,KAAM/nF,EAAK6lJ,QAAQ99D,MAAQxnD,EAAKrwB,QAAQ21I,QAAQ99D,KAChD8jF,MAAO7rK,EAAK6lJ,QAAQgmB,OAAStrI,EAAKrwB,QAAQ21I,QAAQgmB,QAGtDtrI,EAAKg5G,KAAOh5G,EAAKqrI,iBAAiBrrI,EAAKo4G,cAAep4G,EAAKrwB,QAAQ01I,cACnEtyH,GAAYA,EAASiN,EAAKg5G,UAE1B,IAAwB,OAAnBh5G,EAAK+5G,WAAuB,EAC/BhnH,GAAYA,EAAS,KAAM0lC,OACtB,IAAoC,IAAhCz4B,EAAKupI,gBAAgBluK,OAK9B,YAJA03B,GAAYA,GACViqB,OAAQq7F,QAAQ0wB,WAChB57E,cAMDl2F,OAGTs0K,QAAS,WACP,MAA2D,KAApDt0K,KAAK0Y,QAAQ4pI,kBAAkBr2I,QAAQ,UAGhDmoK,iBAAkB,SAASjzB,EAAe38G,GACxC,GAAI0xD,MACAnwC,KACAs7F,EAAYrhJ,KAAKu0K,cAAc/vI,EAAQxkC,KAAK0Y,QAAQ2oI,WACpDC,EAAathJ,KAAKu0K,cAAc/vI,EAAQxkC,KAAK0Y,QAAQ4oI,YACrDx9F,EAAa9jD,KAAK0Y,QAAQorC,aAAe,IAAK,IAAK,IAAK,IACzD9jD,MAAKs0K,YACNxwH,GAAc,MAGhB,IAAI8tH,GAAezwB,EAAcwwB,sBAAsB3xK,KAAK0Y,QAAQxP,OACpE,IAAI0oK,EAAaxtK,OAIf,IAAI,GAHAyxF,GAAe,IAAO+7E,EAAa7jK,KAAK,KAAM,eAC9CymK,EAAe,eAEXrwK,EAAI,EAAGA,EAAI2/C,EAAW1/C,SAAUD,EAAG,CACzC,GAAItE,GAAIikD,EAAW3/C,GACfswK,EAAcz0K,KAAKuzK,MAAM1zK,GAAKuhJ,QAAQuB,SAAW,IAAMxB,EAAcmwB,UACzEvrH,GAAMp6C,KAAK8oK,EAAc5+E,EAAe,QAAUwrD,EAAY,IAAMA,EAAW,IAE/E,KAAI,GAAItlG,GAAQ,EAAGA,EAAQ/7C,KAAKy5C,OAAOr1C,SAAU23C,EAAO,CACtD,GAAIv3B,GAAQ28H,EAAcqwB,oBAAoBz1H,EAAO,SACrDm6C,GAAMn6C,GAASm6C,EAAMn6C,OACrBm6C,EAAMn6C,GAAOpwC,KAAK8oK,EAAc,IAAMjwJ,EAASgwJ,EAAe,cAAgBlzB,EAAa,IAAMA,EAAY,UAIjHv7F,IAASq7F,QAAQ0wB,UAGnB,QACE/rH,MAAOA,EACPmwC,MAAOA,IAQXq+E,cAAe,SAAS/vI,EAAQkwI,GAC9B,IAAIlwI,EAAQ,MAAO,EACnB,IAAImwI,KACJD,GAAWA,GAAYn0K,EAAEgzB,KAAKiR,EAC9B,KAAI,GAAIrgC,KAAKuwK,GAAU,CACrB,GAAIrwK,GAAIqwK,EAASvwK,GACbF,EAAIugC,EAAOngC,EACf,IAAGJ,EACD,GAAI1D,EAAE6E,QAAQnB,GACZ,IAAK,GAAIL,GAAI,EAAGylC,EAAMplC,EAAEG,OAAQR,EAAIylC,EAAKzlC,IACvC+wK,EAAWhpK,KAAKtH,EAAI,MAAQypB,mBAAmB7pB,EAAEL,SAE9C,CACL,GAAI6G,GAAIqjB,mBAAmB7pB,EAC3BwG,GAAIA,EAAE/F,QAAQ,WAAW,OAAOA,QAAQ,WAAW,OAAOA,QAAQ,WAAW,OAC7EiwK,EAAWhpK,KAAKtH,EAAI,IAAMoG,IAIhC,MAAOkqK,GAAW5mK,KAAK,MAGzBmmK,yBAA0B,aAE1BU,UAAW,SAASn0K,GAClBT,KAAK68B,OAASp8B,GAGhBo0K,mBAAoB,WACf70K,KAAK68B,QACR78B,KAAKwuJ,cAMPsmB,YAAa,SAAS/4H,EAAOjgB,GAC3BigB,EAAiB7gB,QAAT6gB,EAAqB,EAAGA,CAChC,IAAIhT,GAAO/oC,IACXA,MAAKm0K,SAAS,SAASpyB,GACrB,MAAIA,QAIDjmH,GACDA,EAASiN,EAAKgsI,mBAAmBh5H,EAAOgmG,SAJxCjmH,GAAS,SASfi5I,mBAAoB,SAASh5H,EAAOgmG,EAAMrpI,GAIxC,QAASs8J,GAAiBrqK,GAExB,IAAK,GADDo7C,MACK5hD,EAAI,EAAGA,EAAIwG,EAAEvG,SAAUD,EAC9B4hD,EAAMp6C,KAAKhB,EAAExG,GAAGO,QAAQ,MAAOo/C,EAAW3/C,EAAI2/C,EAAW1/C,SAE3D,OAAO2hD,GARTrtC,EAAUA,KACV,IAAIorC,GAAaprC,EAAQorC,aAAe,IAAK,IAAK,IAAK,IAUvD,QACE6xC,SAAU,QACVmF,OAAQ,MACR5E,MAAO8+E,EAAiBjzB,EAAK7rD,MAAMn6C,IACnCgK,MAAOivH,EAAiBjzB,EAAKh8F,OAC7B0uC,UAAW,SAAS/7E,EAASlQ,GAAQ,MAAOA,MAIhDyqK,WAAY,WACV,GAAI92E,GAAOn8F,KAAK0Y,OAChB,OAAOyjF,GAAKmmD,kBAAkB59I,QAAQ,SAAUy3F,EAAK+1E,YAGvDqB,MAAO,SAAS0B,GACd,GAAI94E,GAAOn8F,KAAK0Y,QACZw8J,EAAW/4E,EAAKkyD,QAChB8mB,GAAiBD,GAAaA,IAAcA,EAAS3kF,OAAS2kF,EAASb,KAE3E,IAAIl4E,EAAKi5E,QAAUD,EACjB,MAAOn1K,MAAKizK,YAEZ,IAAIxwI,GAAWziC,KAAKs0K,UAAY,QAAS,OACrC3wK,EAAI8+B,EAAW,KACfwyI,KACFtxK,GAAKsxK,EAAU,IAGjB,IAAI5mB,GAAU6mB,EAASzyI,EASvB,OALKziC,MAAKq1K,mBAAmBhnB,KAC3BA,GAAqB,WAEvB1qJ,GAAK0qJ,EAAQ3pJ,QAAQ,SAAUy3F,EAAK+1E,YAMxCmD,mBAAoB,SAAS1qK,GAC3B,MAAOA,IAAKA,EAAEsB,QAAQ,aAAc,GAItCsmD,SAAU,SAAS/tC,GACjB,MAAOjkB,GAAEqM,MAAM5M,KAAKy5C,OAAOj1B,KAG7BkhJ,cAAe,WACb,MAAO1lK,MAAKy5C,OAASz5C,KAAKy5C,OAAOr1C,OAAQ,GAK3C4vK,sBAAuB,SAASsB,GAG9B,IAAI,GAFA77H,MACAv4C,EAAI,EACAiD,EAAI,EAAGA,EAAInE,KAAKy5C,OAAOr1C,SAAUD,EAAG,CAC1C,GAAI43C,GAAQ/7C,KAAKy5C,OAAOt1C,EACxBs1C,GAAOt1C,GAAKjD,EACT66C,EAAMrjC,UAAYqjC,EAAMrjC,QAAQmR,UAC/B3oB,EAGN,MAAOu4C,GAAO67H,IAOhBC,sBAAuB,SAAS/wJ,GAE9B,IAAI,GADAi1B,MACIt1C,EAAI,EAAGA,EAAInE,KAAKy5C,OAAOr1C,SAAUD,EAAG,CAC1C,GAAI43C,GAAQ/7C,KAAKy5C,OAAOt1C,EACrBnE,MAAKw1K,gBAAgBz5H,IACtBtC,EAAO9tC,KAAKxH,GAGhB,MAAIqgB,IAASi1B,EAAOr1C,QACX,GAEDq1C,EAAOj1B,IAGjB8tJ,cAAe,WAEb,IAAI,GADA74H,MACIt1C,EAAI,EAAGA,EAAInE,KAAKy5C,OAAOr1C,SAAUD,EAAG,CAC1C,GAAI43C,GAAQ/7C,KAAKy5C,OAAOt1C,EACpBnE,MAAKw1K,gBAAgBz5H,IACvBtC,EAAO9tC,KAAKowC,GAGhB,MAAOtC,IAGT+7H,gBAAiB,SAASz5H,GACxB,MAAIA,GAAMrjC,SAAW,UAAYqjC,GAAMrjC,SAC7BqjC,EAAMrjC,QAAQmR,OAGjBkyB,EAAMjyB,WAAY,GAG3Bk3H,SAAU,SAASjlG,EAAO0zH,GACxB,GAAG1zH,EAAQ/7C,KAAK0lK,iBAAmB3pH,GAAS,EAAG,CAC7C,GAAI0zH,EAAI/2J,QAAQmR,OAAQ,CACtB,GAAI1lB,GAAInE,KAAKq7F,mBAAmBt/C,EAC5B53C,KACFsrK,EAAI34E,aAAc,EAClB92F,KAAK8wK,eAAe/0H,GAAO,QAGzB/7C,MAAKy5C,OAAOsC,GAAO+6C,cACrB92F,KAAK8wK,eAAe/0H,GAAO,SACpB/7C,MAAKy5C,OAAOsC,GAAO+6C,YAG9B92F,MAAKy5C,OAAOsC,GAASx7C,EAAEqM,MAAM6iK,GAG/B,MADAzvK,MAAKwuJ,aACExuJ,MAGTy1K,eAAgB,SAAS15H,GACvB,GAAI25H,GAAU11K,KAAKy5C,OAAOsC,GAAO25H,OACjC,OAAIA,IAAWA,EAAQ9Y,QAAU8Y,EAAQ9Y,OAAOx4J,OACvCsxK,EAEF,MAGTC,kBAAmB,SAAS55H,GAC1B,GAAIq2G,GACArR,EAAa/gJ,KAAKy5C,OAAOsC,GAAOglG,UAIpC,QAHKA,GAAc/gJ,KAAK0Y,QAAQk9J,mBAAqBxjB,EAAMpyJ,KAAK0Y,QAAQk9J,iBAAiBn8H,OAAOsC,MAC9FglG,EAAaqR,EAAIrR,YAEfA,GAAcA,EAAW6b,QAAU7b,EAAW6b,OAAOx4J,OAAS,EACzD28I,EAEF,MAGT80B,kBAAmB,WAEjB,IAAI,GADAp8H,GAAUz5C,KAAK0Y,QAAQk9J,iBAAiBn8H,OACpCt1C,EAAI,EAAGA,EAAIs1C,EAAOr1C,SAAUD,EAAG,CACrC,GAAI48I,GAAatnG,EAAOt1C,GAAG48I,UAC3B,IAAIA,GAAcA,EAAW6b,QAAU7b,EAAW6b,OAAOx4J,OAAS,EAChE,OAAO,EAGX,OAAO,GAGT0xK,eAAgB,WAEd,IAAI,GADAr8H,GAAUz5C,KAAK0Y,QAAQk9J,iBAAiBn8H,OACpCt1C,EAAI,EAAGA,EAAIs1C,EAAOr1C,SAAUD,EAAG,CACrC,GAAIuxK,GAAUj8H,EAAOt1C,GAAGuxK,OACxB,IAAIA,GAAWA,EAAQ9Y,QAAU8Y,EAAQ9Y,OAAOx4J,OAC9C,OAAO,EAGX,OAAO,GAGToiK,YAAa,SAAShiJ,GACpB,GAAIu3B,GAAQ/7C,KAAKy5C,OAAOj1B,EAExB,OADAu3B,GAAMrrC,IAAMqrC,EAAMrrC,KAAO+vI,gBAAgB4uB,eAAetzH,EAAMz2C,KAAMtF,KAAMwkB,GACnEu3B,EAAMrrC,KAGfqlK,iBAAkB,WAChB,MAAO/1K,MAAK0lK,iBAGdsQ,aAAc,WAEZ,IAAK,GADDv8H,MACKt1C,EAAI,EAAGA,EAAInE,KAAK+1K,qBAAsB5xK,EAC7Cs1C,EAAO9tC,KAAK3L,KAAKwmK,YAAYriK,GAE/B,OAAOs1C,KAiBX+oG,gBAAgByzB,sBAAwB,SAAStnB,GAE/C,IAAIA,GAAkCzzH,SAArByzH,EAAUvqJ,OAAsB,KAAM,IAAI8K,OAAM,+BAEjEy/I,GAAYpuJ,EAAEyN,IAAI2gJ,EAAW,SAAS4X,GACpC,GAAIjhK,GAAOihK,EAASjhK,IAEpB,cADOihK,GAASjhK,MAEdA,KAAMA,EACNoT,QAAS6tJ,IAIb,IAAI9jB,IACFhyI,QAAS,QACTsyI,SAAU,MACVtpG,OAAQk1G,EAGV,OAAO,IAAInM,iBAAgBC,MAAqB9rI,UAGlD6rI,gBAAgBn3I,UAAY9K,EAAEmF,UAAW07I,QAAQ/1I,WAE/Cu3I,mBAAoB,SAASH,EAAiB/pI,GAC5CA,EAAUA,MACV1Y,KAAKyQ,QAAUgyI,EAAgBhyI,SAAW,QAC1CzQ,KAAK+iJ,SAAWN,EAAgBM,SAChC/iJ,KAAKy5C,OAASl5C,EAAEqM,MAAM61I,EAAgBhpG,QAClC/gC,EAAQmkB,QACV78B,KAAK60K,sBAITl+J,OAAQ,WACN,GAAI4yB,KACJA,GAAI94B,QAAUzQ,KAAKyQ,QAChBzQ,KAAK+iJ,WACNx5G,EAAIw5G,SAAW/iJ,KAAK+iJ,UAEtBx5G,EAAIkQ,SAEJ,KAAI,GADAA,GAASz5C,KAAKsyK,gBACVnuK,EAAI,EAAGA,EAAIs1C,EAAOr1C,SAAUD,EAAG,CACrC,GAAIoiK,GAAWvmK,KAAKwmK,YAAYxmK,KAAKu1K,sBAAsBpxK,GAC3DolC,GAAIkQ,OAAO9tC,KAAK46J,EAAS5vJ,UAE3B,MAAO4yB,IAGTgT,YAAa,SAASR,GAOpB,MANGA,GAAQ/7C,KAAK0lK,iBAAmB3pH,GAAS,IAC1C/7C,KAAKy5C,OAAOtrC,OAAO4tC,EAAO,GAC1B/7C,KAAKq7F,mBAAmBltF,OAAO4tC,EAAO,GACtC/7C,KAAKk2K,oBACLl2K,KAAKwuJ,cAEAxuJ,MAGTk2K,kBAAmB,WACjB,IAAI,GAAI/xK,GAAI,EAAGA,EAAInE,KAAKy5C,OAAOr1C,SAAUD,EAAG,CAC1C,GAAI43C,GAAQ/7C,KAAKy5C,OAAOt1C,EACrB43C,GAAMrrC,KACPqrC,EAAMrrC,IAAIo/J,aAAa3rK,KAK7B23C,SAAU,SAAS2zH,EAAKjrJ,GAEtB,GADAA,EAAkB0W,SAAV1W,EAAsBxkB,KAAK0lK,gBAAiBlhJ,EACjDA,GAASxkB,KAAK0lK,iBAAmBlhJ,GAAS,EAAG,CAE9C,GAAIlf,GAAOmqK,EAAInqK,MAAQ,gBAChBmqK,GAAInqK,KAEXtF,KAAKy5C,OAAOtrC,OAAOqW,EAAO,GACxBlf,KAAMA,EACNoT,QAAS+2J,GAGX,IAAIlJ,GAAWvmK,KAAKwmK,YAAYhiJ,EAChC,KAAI+hJ,EAASznI,UAIX,KADAynI,GAAS/kK,SACH,6DAHNxB,MAAK60K,qBAMT,MAAO70K,OAQT6wK,iBAAkB,SAAS90H,EAAOllC,GAMhC,GALkBqkB,SAAfrkB,IACDA,EAAaklC,EACbA,EAAQ,GAGPA,GAAS/7C,KAAK0lK,iBAAmB3pH,EAAQ,EAC1C,KAAM,IAAI7sC,OAAM,uBAGO,iBAAhB,KACP2H,EAAaA,EAAWrS,MAAM,KAGhC,KAAI,GAAIL,GAAI,EAAGA,EAAI0S,EAAWzS,SAAUD,EACtC0S,EAAW1S,GAAK0S,EAAW1S,GAAGO,QAAQ,KAAM,GAK9C,OAFA1E,MAAKy5C,OAAOsC,GAAOrjC,QAAQm1I,cAAgBh3I,EAC3C7W,KAAK60K,qBACE70K,MAGT2sI,SAAU,SAAS5wF,EAAOg0H,GACb70I,SAAR60I,IACDA,EAAMh0H,EACNA,EAAQ,GAEV/7C,KAAKy5C,OAAOsC,GAAOrjC,QAAQq3J,IAAMA,EACjC/vK,KAAK60K,sBAGPnoC,SAAU,SAAS3wF,GAEjB,MADAA,GAAQA,GAAS,EACV/7C,KAAKy5C,OAAOsC,GAAOrjC,QAAQq3J,KAOpCa,YAAa,SAAS70H,EAAOx1C,EAAOkK,GACnByqB,SAAZzqB,IACDA,EAAUlK,EACVA,EAAQw1C,EACRA,EAAQ,GAGVtrC,EAAUA,GAAWqzI,QAAQT,yBAE7BrjJ,KAAKy5C,OAAOsC,GAAOrjC,QAAQu3J,SAAW1pK,EACtCvG,KAAKy5C,OAAOsC,GAAOrjC,QAAQy3J,iBAAmB1/J,EAC9CzQ,KAAK60K,sBAMPsB,eAAgB,SAASl5I,EAAOvkB,GAE9B,MADA1Y,MAAK87C,SAAS7e,GACPj9B,KAAKwmK,YAAYxmK,KAAK0lK,gBAAkB,MAYnD7iB,SAASx3I,UAAY9K,EAAEmF,UAAW07I,QAAQ/1I,WAExCm7J,YAAa,SAAShiJ,GACpB,GAAIu3B,GAAQ/7C,KAAKy5C,OAAOj1B,EASxB,OANKu3B,KACHA,EAAQ/7C,KAAKy5C,OAAOj1B,IAClB9L,aAGJqjC,EAAMrrC,IAAMqrC,EAAMrrC,KAAO+vI,gBAAgB4uB,eAAetzH,EAAMz2C,KAAMtF,KAAMwkB,GACnEu3B,EAAMrrC,KAGfkyI,mBAAoB,SAASE,EAAWpqI,GACtCA,EAAUA,MACV1Y,KAAK0iJ,SAAWtB,QAAQuB,SAAW,UAAYG,EAAUhsI,KACzD9W,KAAKqzK,cAAgBjyB,QAAQuB,SAAW,UAAYG,EAAUhsI,KAAO,SACrE9W,KAAKy5C,OAASl5C,EAAEqM,MAAMk2I,EAAUrpG,WAChC,KAAI,GAAIt1C,GAAI,EAAGA,EAAInE,KAAKy5C,OAAOr1C,SAAUD,EAAG,CAC1C,GAAI43C,GAAQ/7C,KAAKy5C,OAAOt1C,EACxB43C,GAAMrjC,QAAUqjC,EAAMrjC,UAAamR,OAAUkyB,EAAMjyB,WAAY,GAC/DiyB,EAAMrjC,QAAQktJ,WAAa7pH,EAAM6pH,WAEnC5lK,KAAK8iJ,UAAYA,CACjB,IAAIx8G,GAAQw8G,EAAUgwB,YAAcp6J,EAAQo6J,UACxCxsI,IACFtmC,KAAKo2K,aAAa9vI,GAEhB5tB,EAAQmkB,QACV78B,KAAKwuJ,cAIT4nB,aAAc,SAAS9vI,GACrB,IAAItmC,KAAKs0K,UACP,KAAM,IAAIplK,OAAM,uDAKlB,OAHAlP,MAAK0Y,QAAQ01I,aAAepuJ,KAAK0Y,QAAQ01I,iBACzCpuJ,KAAK0Y,QAAQ01I,aAAa0kB,WAAaxsI,EACvCtmC,KAAKwuJ,aACExuJ,MAGT8pD,UAAW,SAASr9C,EAAM5B,GACxB,GAAI25B,EACqB,KAArB12B,UAAU1J,QACZogC,KACAA,EAAO/3B,GAAQ5B,GAEf25B,EAAS/3B,EAENzM,KAAK8iJ,UAAUt+G,SAClBxkC,KAAK8iJ,UAAUt+G,UAEjB,KAAK,GAAIngC,KAAKmgC,GACMtJ,SAAdsJ,EAAOngC,IAAkC,OAAdmgC,EAAOngC,SAC7BrE,MAAK8iJ,UAAUt+G,OAAOngC,GAE7BrE,KAAK8iJ,UAAUt+G,OAAOngC,GAAKmgC,EAAOngC,EAItC,OADArE,MAAKwuJ,aACExuJ,MAGT2W,OAAQ,WAEN,IAAI,GADAo8J,GAAU/yK,KAAK8iJ,UAAUt+G,WACrBrgC,EAAI,EAAGA,EAAInE,KAAKy5C,OAAOr1C,SAAUD,EAAG,CAC1C,GAAI43C,GAAQ/7C,KAAKy5C,OAAOt1C,EACxB4uK,GAAQ,QAAU5uK,GAAKnE,KAAKw1K,gBAAgBz5H,GAAS,EAAI,EAE3D,MAAOg3H,IAGT8C,kBAAmB,WAEjB,IAAI,GADAp8H,GAASz5C,KAAKy5C,WACVt1C,EAAI,EAAGA,EAAIs1C,EAAOr1C,SAAUD,EAAG,CACrC,GAAI48I,GAAatnG,EAAOt1C,GAAG48I,UAC3B,IAAIA,GAAcA,EAAW6b,QAAU7b,EAAW6b,OAAOx4J,OAAS,EAChE,OAAO,EAGX,OAAO,GAGT0xK,eAAgB,WAEd,IAAI,GADAr8H,GAASz5C,KAAKy5C,WACVt1C,EAAI,EAAGA,EAAIs1C,EAAOr1C,SAAUD,EAAG,CACrC,GAAIuxK,GAAUj8H,EAAOt1C,GAAGuxK,OACxB,IAAIA,EACF,OAAO,EAGX,OAAO,GAGT/E,OAAQ,SAASZ,GACf,KAAM,IAAI7gK,OAAM,kCAGlB0hK,YAAa,SAASb,GACpB,KAAM,IAAI7gK,OAAM,uCAGlBghK,YAAa,WACX,KAAM,IAAIhhK,OAAM,4CAGlB8gK,OAAQ,WACN,KAAM,IAAI9gK,OAAM,uCAGlB8xI,SAAU,SAASjlG,EAAO0zH,GACxB,GAAI4G,IAAqBtG,IAAO,EAAGE,SAAY,EAAGpiB,cAAiB,EAEnE,KAAI,GAAIxpJ,KAAKorK,GAAI/2J,QACf,GAAIrU,IAAKgyK,GAEP,YADO5G,GAAI/2J,QAAQrU,GACb,GAAI6K,OAAO7K,EAAI,6BAGzB,OAAO+8I,SAAQ/1I,UAAU21I,SAASh4I,KAAKhJ,KAAM+7C,EAAO0zH,IAGtDlzH,YAAa,SAASR,GACpB,KAAM,IAAI7sC,OAAM,0CAGlBinK,eAAgB,SAASl5I,EAAOvkB,GAC9B,KAAM,IAAIxJ,OAAM,0CAGlB4sC,SAAU,SAAS2zH,EAAK1zH,GACtB,KAAM,IAAI7sC,OAAM,0CAKlB8kK,sBAAuB,SAASsB,GAC9B,OAAQA,KAcZtyB,mBAAmB33I,WAIjBkkB,KAAM,WACJvvB,KAAKuyC,WAA6CrX,SAAlCl7B,KAAK0Y,QAAQ49J,iBAAiC,IAAMt2K,KAAK0Y,QAAQ49J,wBAC1Et2K,MAAK0Y,QAAQ49J,iBACpBt2K,KAAKu2K,sBAAuB,EAC5Bv2K,KAAK8pB,SAAU,GAGjB2F,KAAM,WACgCyL,QAAjCl7B,KAAK0Y,QAAQ49J,mBACdt2K,KAAK0Y,QAAQ49J,iBAAmBt2K,KAAK0Y,QAAQzF,SAE/CjT,KAAKuyC,WAAW,GAEhBvyC,KAAKu2K,sBAAuB,EAC5Bv2K,KAAK8pB,SAAU,GAGjB3J,OAAQ,WAEN,MADAngB,MAAK4tK,YAAc5tK,KAAKyvB,OAASzvB,KAAKuvB,OAC/BvvB,KAAK4tK,aAMdA,UAAW,WACT,MAAO5tK,MAAK8pB,SAQdgnJ,eAAgB,SAAS/0H,EAAOt7C,GAEtBy6B,QAALz6B,IACDA,EAAIs7C,EACJA,EAAQ,EAEV,IAAIy6H,EAEJ,IADAx2K,KAAKq7F,mBAAmBt/C,GAASt7C,EAC7BA,GAUF,GAAGT,KAAK+hJ,KAAM,CAEZ,GAAI4xB,GAAc3zK,KAAKg0K,uBAAuBj4H,GAC1C45C,EAAW31F,KAAK+0K,mBAAmBpB,EAAa3zK,KAAK+hJ,KAGzDy0B,GAAmBx2K,KAAK82F,YAAY/6C,GACjCy6H,GACDA,EAAiBh1K,QAEnB,IAAIunC,GAAO/oC,IAGXA,MAAK82F,YAAY/6C,GAAS/7C,KAAKy2K,mBAC5BzoK,IAAIhO,KAAK0Y,QAAQ1K,KACjB2nF,SAASA,GACTh2E,GAAG,KAAM,SAAS3b,GACb+kC,EAAKwtI,uBACTvyK,EAAE+3C,OAASA,EACXhT,EAAK2tI,gBAAgB3tI,EAAKrwB,QAAQ1K,IAAKhK,MAExC2b,GAAG,MAAO,SAAS3b,GACd+kC,EAAKwtI,uBACTvyK,EAAIA,MACJA,EAAE+3C,OAASA,EACXhT,EAAK4tI,iBAAiB5tI,EAAKrwB,QAAQ1K,IAAKhK,WAlC9CwyK,GAAmBx2K,KAAK82F,YAAY/6C,GACjCy6H,IACDA,EAAiBh1K,SACjBxB,KAAK82F,YAAY/6C,GAAS,KAmC9B,OAAO/7C,OAGTsqC,WAAY,SAAU6xD,GAEpB,GAAmB,gBAARA,IAAoBA,EAAK/3F,OAClC,KAAM,IAAI8K,OAAMitF,EAAO,6BAGzB57F,GAAEmF,OAAO1F,KAAK0Y,QAASyjF,EAEvB,IAAIA,GAAOn8F,KAAK0Y,OAEhB1Y,MAAK0Y,QAAQwvH,MAAQloI,KAAK0Y,QAAQwvH,OAAS,iBAAmBloI,KAAK0Y,QAAQ0tJ,WACxEpmK,KAAK0Y,QAAQk+J,gBACd52K,KAAK0Y,QAAQwvH,MAAQ3nI,EAAE04B,SAASj5B,KAAK0Y,QAAQk+J,gBAAiB7G,IAAK/vK,KAAK0Y,QAAQwvH,SAGlFloI,KAAK40K,WAAU,GACfz4E,EAAKrF,aAAe92F,KAAK8wK,eAAe30E,EAAKrF,aAC7CqF,EAAKlpF,SAAWjT,KAAKuyC,WAAW4pD,EAAKlpF,SACrCkpF,EAAK+rC,OAASloI,KAAK2sI,SAASxwC,EAAK+rC,MAAMxjI,QAAQ,sBAAuB1E,KAAK0Y,QAAQ0tJ,aACnFjqE,EAAK06E,YAAc72K,KAAK4wK,YAAYz0E,EAAK06E,WAAWnyK,QAAQ,GAAI2V,QAAQ8hF,EAAKiqE,WAAY,KAAM,WAC/FjqE,EAAK8zE,UAAYjwK,KAAK4wK,YAAYz0E,EAAK8zE,UACvC9zE,EAAK0xD,eAAiB7tJ,KAAK6wK,iBAAiB10E,EAAK0xD,eACjD1xD,EAAKryE,QAAU9pB,KAAKuvB,OAASvvB,KAAKyvB,OAClCzvB,KAAK40K,WAAU,GACf50K,KAAK60K,sBAGPiC,oBAAqB,WAEnB,GAEI/G,GAAKE,EAAUE,EAFf3rI,KACA23D,EAAOn8F,KAAK0Y,OAEhBq3J,GAAM5zE,EAAK+rC,OAAS,iBAAmB/rC,EAAKiqE,WAEzCjqE,EAAKy6E,gBACN7G,EAAMxvK,EAAE04B,SAASkjE,EAAKy6E,gBAAiB7G,IAAKA,KAG9CE,EAAW9zE,EAAK06E,WAChB1G,EAAmBh0E,EAAKg0E,kBAAoB,OAG5C,KAAK,GAAI4G,KAAU56E,GAAKiyD,aAAc,CACpC,GAAIvjJ,GAAIsxF,EAAKiyD,aAAa2oB,EAC1BvyI,GAAOuyI,GAAUlsK,EAAEnG,QAAUmG,EAAEnG,QAAQ,sBAAuBy3F,EAAKiqE,YAAav7J,EAMlF,MAJAklK,GAAMA,EAAIrrK,QAAQ,sBAAuBy3F,EAAKiqE,YAC9C6J,EAAWA,EAASvrK,QAAQ,sBAAuBy3F,EAAKiqE,YACxD6J,EAAWA,EAASvrK,QAAQ,GAAI2V,QAAQ8hF,EAAKiqE,WAAY,KAAM,WAG7D2J,IAAKA,EACLE,SAAUA,EACVE,iBAAkBA,EAClB3rI,OAAQA,EACRqpH,cAAe1xD,EAAK0xD,gBAIxBppJ,MAAO,SAASnD,KAIhB01K,QAAS,aAGTC,kBAAmB,WACjB,IAAI,GAAI9yK,KAAKnE,MAAKq7F,mBACZr7F,KAAKq7F,mBAAmB7vF,eAAerH,IACzCnE,KAAKq7F,mBAAmBl3F,IACxBnE,KAAK8wK,eAAe3sK,GAAG,IAK7B+yK,mBAAoB,WAClB,IAAI,GAAI/yK,KAAKnE,MAAKq7F,mBACZr7F,KAAKq7F,mBAAmB7vF,eAAerH,IACzCnE,KAAKq7F,mBAAmBl3F,KACtBnE,KAAK8wK,eAAe3sK,GAAG,GACvBnE,KAAK8wK,eAAe3sK,GAAG,KAQ/BgzK,YAAa,WACX,GAAIzhF,IAAOtrF,EAAG,EAAGW,EAAG,EAAGE,EAAG,GACtB89B,EAAO/oC,IACD,IAAIm0F,OACHn0F,KAAKo3K,WAEhBjD,UAAS,SAASpyB,GAEhB,GAAIs1B,GAAWt1B,EAAKh8F,MAAM,GACrBrhD,QAAQ,SAASgxF,EAAItrF,GACrB1F,QAAQ,SAASgxF,EAAI3qF,GACrBrG,QAAQ,SAASgxF,EAAIzqF,EAE1BjL,MAAK0Y,QAAQiP,MACXsW,OAAQ,MACRrW,IAAKyvJ,EACL7pJ,aAAa,EACb7B,QAAS,WACPod,EAAKiuI,UACLv/J,aAAamW,IAEfnpB,MAAO,SAASoqB,EAAK6jE,EAAKlqF,GACxBiP,aAAamW,GACbmb,EAAKtkC,MAAMoqB,EAAItD,cAAgBpc,KAAKC,MAAMyf,EAAItD,mBAKpD,IAAIqC,GAAU3qB,WAAW,WACvBwU,aAAamW,GACbmb,EAAKtkC,MAAM,iBACV,OAKP88I,IAAIgC,IAAIG,UAERnC,IAAIgC,IAAIG,OAAO4zB,aAMbC,aAAc,SAAStlI,EAAW3+B,GAKhC,IAAI,GAHA9S,MACA0kC,EAAK,GAAI7qB,QAAO,MAAQ/G,EAAY,OACpCkkK,EAAMvlI,EAAUhrC,qBAAqB,KACjC9C,EAAE,EAAEP,EAAE4zK,EAAIpzK,OAAQD,EAAEP,EAAGO,IAC1B+gC,EAAGjgC,KAAKuyK,EAAIrzK,GAAGmP,YAAW9S,EAAEmL,KAAK6rK,EAAIrzK,GAE1C,OAAO3D,GAAE4D,OAAS,GAMpBqzK,gBAAiB,WACf,MAAS,oBAAsB1oK,SAAUA,OAAOi/B,iBAAmB,GAC1D,cAAgBj/B,SAAUA,OAAOk/B,WAAW,4BAC7Cl/B,OAAOk/B,WAAW,2BAA2BxxB,SAOvDi7J,SAAU,SAAS7hK,EAAU+X,EAASqkB,GACpC,GAAIlJ,GAAO/oC,IACXiD,YAAW,WACT,IAAK8lC,EAAKwuI,aAAatlI,EAAW,gBAAiB,CACjD,GAAI0lI,GAAez1K,SAASR,cAAc,OACtCk2K,EAAY7uI,EAAK0uI,iBACrBE,GAAa/kK,aAAa,QAAQ,gBAClC+kK,EAAa/kK,aAAa,QAAQ,oFAClC,IAAI6vB,GAAW14B,SAAS04B,SAASx2B,QAAQ,YAAa,EAAK,OAAQ,QAC/DyhE,EAAO6zE,IAAI+B,OAAO/1I,IAAI,oBAC1BoqK,GAAahxK,UAAY,YAAc+mE,EAAO,sDAAwDjrC,EAAW,+CAAiDm1I,EAAY,MAAQ,IAAM,2CACxL/hK,EAASy7C,QAAU,GAAM,aAAgBz7C,EAAS4T,MAAQ,GAAM,2HACpEwoB,EAAUnwC,YAAY61K,KAEtB/pJ,GAAW,KAKnB,WAIE,GAAIiqJ,GAAmB,SAASC,EAAYC,EAAcC,GACxDh4K,KAAK+3K,aAAeA,EACpB/3K,KAAKg4K,WAAaA,EAClBh4K,KAAKw9B,MAAQs6I,EAEb93K,KAAKi4K,SAASH,GAEd93K,KAAKsF,KAAOwyK,EAAWvqK,IAAI,SAAWuqK,EAAWvqK,IAAI,QACrDvN,KAAKsF,KAAOtF,KAAKsF,KAAKf,cAGxBhE,GAAEmF,OAAOmyK,EAAiBxsK,UAAW/K,SAASu7B,QAC9Ct7B,EAAEmF,OAAOmyK,EAAiBxsK,WAExB4sK,SAAU,SAASz6I,GACbx9B,KAAKw9B,OACPx9B,KAAKw9B,MAAM1d,OAAO,SAAU9f,KAAKk4K,cAAel4K,MAElDA,KAAKw9B,MAAQA,EACbx9B,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKk4K,cAAel4K,OAMhDwB,OAAQ,WACNxB,KAAKg4K,WAAWz7H,YAAYv8C,KAAK+3K,cACjC/3K,KAAKwO,QAAQ,SAAUxO,MACvBA,KAAKw9B,MAAM1d,OAAO,KAAM,KAAM9f,MAC9BA,KAAK8f,UAgBPq4J,OAAQ,WACNn4K,KAAK+3K,aAAanyH,YAMtB27F,IAAIgC,IAAIs0B,iBAAmBA,KAK7B,WAEA,GAAgB,mBAAP,GAAT,CAOA,GAAIO,GAAwBh4K,EAAEmrC,MAAM7lC,QAClCmmC,SAAUzrC,EAAE8rC,MAAMrQ,OAElBkB,WAAY,SAAS+6I,EAAYE,GAC/Bz2B,IAAIgC,IAAIs0B,iBAAiB7uK,KAAKhJ,KAAM83K,EAAY93K,KAAMg4K,IAGxDj2H,MAAO,WACL/hD,KAAK4lD,UAGPpJ,SAAU,WACR,GAAI3N,GAAM7uC,KAAKg4K,WAAW94H,cAC1BrQ,GAAItoC,MAAMkkG,WAAa,QAGzBytE,cAAe,WACbl4K,KAAK4lD,UAGPA,OAAQ,WACN,GAAI/W,GAAM7uC,KAAKg4K,WAAW94H,cAG1B,IAFArQ,EAAItoC,MAAMutJ,gBAAkB9zJ,KAAKw9B,MAAMjwB,IAAI,UAAY,OAEnDvN,KAAKw9B,MAAMjwB,IAAI,SAAU,CAC3B,GAAI+hH,GAAK,mBAAqBtvH,KAAKw9B,MAAMjwB,IAAI,SAAW,wBACxDshC,GAAItoC,MAAMkkG,WAAa6kB,IAK3B9pE,UAAW,cAKbjlD,GAAEmF,OAAO0yK,EAAsB/sK,UAAWk2I,IAAIgC,IAAIs0B,iBAAiBxsK,WAEnEk2I,IAAIgC,IAAI60B,sBAAwBA,MAIhC,WAEA,GAAgB,mBAAP,GAAT,CAGA,GAAIC,GAAwBj4K,EAAE+7C,UAAUz2C,QACtCq3B,WAAY,SAAS+6I,EAAYE,GAE/B,GAAIM,IACFnwH,IAAc2vH,EAAWvqK,IAAI,OAC7By2C,YAAc8zH,EAAWvqK,IAAI,eAC7ByuC,QAAc87H,EAAWvqK,IAAI,WAC7B8tC,QAAcy8H,EAAWvqK,IAAI,WAC7Bu2C,WAAcg0H,EAAWvqK,IAAI,eAAiB,MAC9Cw2C,aAAc+zH,EAAWvqK,IAAI,gBAC7B0F,QAAc6kK,EAAWvqK,IAAI,WAG1BuqK,GAAWvqK,IAAI,cAClB+qK,EAASz0H,SAAWi0H,EAAWvqK,IAAI,aAGhCuqK,EAAWvqK,IAAI,gBAClB+qK,EAASr0H,WAAa6zH,EAAWvqK,IAAI,eAGvCnN,EAAE+7C,UAAU9wC,UAAU0xB,WAAW/zB,KAAKhJ,KAAM83K,EAAWvqK,IAAI,eAAgB+qK,GAC3E/2B,IAAIgC,IAAIs0B,iBAAiB7uK,KAAKhJ,KAAM83K,EAAY93K,KAAMg4K,KAK1Dz3K,GAAEmF,OAAO2yK,EAAsBhtK,UAAWk2I,IAAIgC,IAAIs0B,iBAAiBxsK,WAEjE6sK,cAAe,WACb33K,EAAEy2B,SAASh3B,KAAK+3K,aAAar/J,QAASnY,EAAEqM,MAAM5M,KAAKw9B,MAAM3mB,aACzD7W,KAAK+3K,aAAar/J,QAAQorC,WAAa9jD,KAAKw9B,MAAMjwB,IAAI,eAAiB,MACvEvN,KAAK+3K,aAAar/J,QAAQsrC,YAAchkD,KAAKw9B,MAAMjwB,IAAI,eACvDvN,KAAK+3K,aAAar/J,QAAQ2iC,QAAUr7C,KAAKw9B,MAAMjwB,IAAI,WACnDvN,KAAK+3K,aAAar/J,QAAQsjC,QAAUh8C,KAAKw9B,MAAMjwB,IAAI,WAEnDvN,KAAK+3K,aAAaryH,OAAO1lD,KAAKw9B,MAAMjwB,IAAI,mBAK5Cg0I,IAAIgC,IAAI80B,sBAAwBA,MAIhC,WAEE,GAAgB,mBAAP,GAAT,CAGA,GAAIE,GAAmB,SAA0BjzK,GAC/C,OACEsiB,IAAK,oCAAqCtiB,EAAM,uBAChDw+C,WAAY,OACZ9H,QAAS,EACTX,QAAS,GACT2I,YAAa,4KAIbw0H,EAAkB,SAAyBlzK,GAC7C,OACEsiB,IAAK,6DAA8DtiB,EAAM,4FACzEw+C,WAAY,OACZ9H,QAAS,EACTX,QAAS,GACT2I,YAAa,0FAIby0H,GACFC,QAASF,EAAgB,UACzBG,aAAcJ,EAAiB,SAC/BK,aAAcL,EAAiB,QAC/BM,OAAQL,EAAgB,UACxBM,QAASN,EAAgB,WACzBO,UAAWP,EAAgB,cAGzBQ,EAA6B54K,EAAE+7C,UAAUz2C,QAC3Cq3B,WAAY,SAAS+6I,EAAYE,GAC/B,GAAIiB,GAAaR,EAAYX,EAAWvqK,IAAI,aAC5CnN,GAAE+7C,UAAU9wC,UAAU0xB,WAAW/zB,KAAKhJ,KAAMi5K,EAAWrxJ,KACrDugC,KAAc,EACdnE,YAAci1H,EAAWj1H,YACzBhI,QAAci9H,EAAWj9H,QACzBX,QAAc49H,EAAW59H,QACzByI,WAAcm1H,EAAWn1H,WACzBC,aAAc,GACd9wC,QAAc,IAEhBsuI,IAAIgC,IAAIs0B,iBAAiB7uK,KAAKhJ,KAAM83K,EAAY93K,KAAMg4K,KAK1Dz3K,GAAEmF,OAAOszK,EAA2B3tK,UAAWk2I,IAAIgC,IAAIs0B,iBAAiBxsK,WAEtE6sK,cAAe,eAMjB32B,IAAIgC,IAAIy1B,2BAA6BA,MAIvC,WAEA,GAAgB,mBAAP,GAAT,CAGA,GAAIE,GAAsB94K,EAAE+7C,UAAU+M,IAAIxjD,QACxCq3B,WAAY,SAAS+6I,EAAYE,GAE/B,GAAIM,IACFt0H,YAAc8zH,EAAWvqK,IAAI,eAC7BksC,OAAcq+H,EAAWvqK,IAAI,UAC7Bg8C,OAAcuuH,EAAWvqK,IAAI,UAC7Bi8C,YAAcsuH,EAAWvqK,IAAI,eAC7ByuC,QAAc87H,EAAWvqK,IAAI,WAC7B8tC,QAAcy8H,EAAWvqK,IAAI,WAC7Bu2C,WAAcg0H,EAAWvqK,IAAI,eAAiB,MAC9Cw2C,aAAc+zH,EAAWvqK,IAAI,gBAC7B0F,QAAc6kK,EAAWvqK,IAAI,WAG1BuqK,GAAWvqK,IAAI,cAClB+qK,EAASz0H,SAAWi0H,EAAWvqK,IAAI,aAGhCuqK,EAAWvqK,IAAI,gBAClB+qK,EAASr0H,WAAa6zH,EAAWvqK,IAAI,eAGvCnN,EAAE+7C,UAAU+M,IAAI79C,UAAU0xB,WAAW/zB,KAAKhJ,KAAM83K,EAAWvqK,IAAI,eAAgB+qK,GAE/E/2B,IAAIgC,IAAIs0B,iBAAiB7uK,KAAKhJ,KAAM83K,EAAY93K,KAAMg4K,KAK1Dz3K,GAAEmF,OAAOwzK,EAAoB7tK,UAAWk2I,IAAIgC,IAAIs0B,iBAAiBxsK,WAE/D6sK,cAAe,WACb33K,EAAEy2B,SAASh3B,KAAK+3K,aAAar/J,QAASnY,EAAEqM,MAAM5M,KAAKw9B,MAAM3mB,aACzD7W,KAAK+3K,aAAaryH,OAAO1lD,KAAKw9B,MAAMjwB,IAAI,mBAK5Cg0I,IAAIgC,IAAI21B,oBAAsBA,MAI9B,WA+TA,QAASrT,GAAUxnI,GACjB,GAAI86I,GAAiB96I,EAAK34B,QAExBmmC,UACE01G,IAAIgC,IAAIs0B,iBAAiBxsK,UACzB/K,SAASu7B,QAGXkB,WAAY,SAAS+6I,EAAYE,GAC/B,GAAIjvI,GAAO/oC,KACPo5K,KAEAj9E,EAAO57F,EAAEqM,MAAMkrK,EAAWjhK,WAE9BslF,GAAKnuF,IAAOgqK,CAEZ,IAKIqB,GAJJC,EAAgBn9E,EAAKo9E,YACrBC,EAAgBr9E,EAAKs9E,WACrBC,EAAgBv9E,EAAKw9E,aAGjBC,GAAe,CAEnBz9E,GAAKo9E,YAAe,SAASj4K,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,GAC9Cq9H,EAAOr9H,IACVhT,EAAKv6B,QAAQ,aAAclN,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,GAErDq9H,EAAOr9H,GAAS,EAChBu9H,GAAiBA,EAAa12K,MAAM5C,KAAM8N,WAC1Ci7B,EAAKwwI,aAAgBxwI,EAAKwwI,YAAY32K,MAAMmmC,EAAMj7B,WAG9CxM,EAAEyd,YAAcs6J,GAClB5hK,aAAamiK,GAEfA,EAAe32K,WAAW,WACxB8lC,EAAKv6B,QAAQ,YAAalN,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,GAClDhT,EAAKv6B,QAAQ,iBAAkBlN,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,IACtD,GACHs9H,EAAgB/3K,EAAEyd,WAIpBo9E,EAAKs9E,WAAc,SAAS31K,EAAGi4C,GACzBq9H,EAAOr9H,IACThT,EAAKv6B,QAAQ,gBAAiButC,GAEhCq9H,EAAOr9H,GAAS,EACZx7C,EAAE6zB,IAAIglJ,IACRrwI,EAAKv6B,QAAQ,YAEfgrK,GAAgBA,EAAY52K,MAAM5C,KAAM8N,WACxCi7B,EAAK0wI,YAAe1wI,EAAK0wI,WAAW72K,MAAMmmC,EAAMj7B,YAGlDquF,EAAKw9E,aAAgBp5K,EAAEk2B,SAAS,WAC9BijJ,GAAkBA,EAAc92K,MAAMmmC,EAAMj7B,WAC5Ci7B,EAAK4wI,cAAiB5wI,EAAK4wI,aAAa/2K,MAAMmmC,EAAMj7B,YACnD,IAGHuwB,EAAKhzB,UAAU0xB,WAAW/zB,KAAKhJ,KAAMm8F,GACrColD,IAAIgC,IAAIs0B,iBAAiB7uK,KAAKhJ,KAAM83K,EAAY93K,KAAMg4K,IAIxDuB,YAAa,SAASj4K,EAAGu4K,EAAQE,EAAUvxK,EAAMuzC,GAE/C/7C,KAAKwO,QAAQ,cAAelN,GAAIu4K,EAAO3lI,IAAK2lI,EAAO1lI,KAAM4lI,EAAUvxK,EAAMuzC,IAG3E09H,WAAY,SAASn4K,EAAGy6C,GACtB/7C,KAAKwO,QAAQ,aAAclN,EAAGy6C,IAGhC49H,aAAc,SAASr4K,EAAGu4K,EAAQE,EAAUvxK,EAAMuzC,GAEhD/7C,KAAKwO,QAAQ,eAAgBlN,GAAIu4K,EAAO3lI,IAAK2lI,EAAO1lI,KAAM4lI,EAAUvxK,EAAMuzC,IAG5Et3C,MAAO,SAASnD,GACdtB,KAAKwO,QAAQ,QAASlN,EAAKA,EAAEikJ,QAAUjkJ,EAAK,iBAC5CtB,KAAKw9B,MAAMhvB,QAAQ,QAASlN,EAAEA,EAAEikJ,OAAO,kBAGzCy0B,GAAI,SAAS14K,GACXtB,KAAKw9B,MAAMhvB,QAAQ,WAGrB0lK,yBAA0B,WACxBl0K,KAAKi6K,aAKT,OAAOd,GA7ZO,mBAAP,KAIT/4K,EAAE85K,sBAAwB95K,EAAE+7C,UAAUz2C,QAEpC+wK,iBAAkB1iF,IAAIgG,KAAKjD,YAE3BjrD,UACE01G,IAAIgC,IAAIs0B,iBAAiBxsK,UAEzB23I,mBAAmB33I,WAGrBqN,SACEzF,QAAgB,IAChB+wC,YAAgBu9F,IAAI+B,OAAO/1I,IAAI,wBAC/Bq4I,OAAgB,EAChB97H,SAAgB,EAChBqwJ,OAAgB,EAChBrsB,aAAgB,YAChBC,WAAgB,KAChBC,eAAgB,OAChBC,eAAoB,YACpBC,aAAoB,KACpBC,iBAAoB,OACpB9yG,QAAS,GACT+yG,gBAEAC,QAAgB,KAChBvqG,WAAgB,MAIlB/mB,WAAY,SAAUrkB,GAMpB,GALAA,EAAUA,MAEVtY,EAAE+oC,KAAKmB,WAAWtqC,KAAM0Y,IAGnBA,EAAQk9J,mBAAqBl9J,EAAQi2I,UACtC,KAAM,IAAIz/I,OAAM,uEAGhBwJ,GAAQk9J,mBACV51K,KAAK0Y,QAAQk9J,iBAAmBpzB,gBAAgByzB,sBAAsBv9J,EAAQi2I,YAGhFnM,gBAAgBx5I,KAAKhJ,KAAMA,KAAK0Y,QAAQk9J,iBAAkB51K,KAAK0Y,SAE/D1Y,KAAKyJ,KAAOzJ,KAAKwO,QAEjBw0I,mBAAmBh6I,KAAKhJ,MACxBI,EAAE+7C,UAAU9wC,UAAU0xB,WAAW/zB,KAAKhJ,MACtCA,KAAK82F,eACL92F,KAAKo6K,gBAGPA,aAAc,WACZp6K,KAAK6f,KAAK,gBAAiB,SAASve,GAClC,GAAIzB,GAAIG,KAAKq6K,YAAcr6K,KAAKq6K,aAChCx6K,GAAEyB,EAAE6kD,KAAKz+B,KAAOo8H,QAAQtC,KAAKqE,SAASt3E,OAAO,iCAAiCj9C,SAEhF,IAAIgpJ,GAAS,SAASh5K,GACpB,GAAIzB,GAAIG,KAAKq6K,WAAar6K,KAAKq6K,UAAU/4K,EAAE6kD,KAAKz+B,IAChD7nB,IAAKA,EAAEoO,MAETjO,MAAK6f,KAAK,WAAYy6J,GACtBt6K,KAAK6f,KAAK,YAAa,SAASve,GAC9BwiJ,QAAQtC,KAAKqE,SAASt3E,OAAO,6BAA6Bk4E,MAC1D6zB,EAAOh5K,MAOX0mD,WAAY,SAAUf,GACpB,GAAI6qH,GAAY,gFAChB9xK,MAAKkoD,iBAAiBjB,EAEtB,IAAIlB,IAAS+rH,EACV9xK,MAAK21F,WACN5vC,EAAQ/lD,KAAK21F,SAAS5vC,MAGxB,IAAIvhC,IAASyiC,EAAUl8C,EAAIk8C,EAAUh8C,GAAK86C,EAAM3hD,MAEhD,OAAOhE,GAAE+oC,KAAKlQ,SAAS8sB,EAAMvhC,GAAQpkB,EAAE+oC,KAAKzjC,QAC1C0E,EAAGpK,KAAK8nD,iBACR/8C,EAAGk8C,EAAUl8C,EACbE,EAAGg8C,EAAUh8C,GACZjL,KAAK0Y,WAOV65B,WAAY,SAASt/B,GAEnB,GAAIjE,MAAMiE,IAAYA,EAAQ,GAAKA,EAAQ,EACzC,KAAM,IAAI/D,OAAM+D,EAAU,wBAI5BjT,MAAK0Y,QAAQzF,QAAUjD,KAAK4kB,IAAI3hB,EAAS,KAErCjT,KAAK0Y,QAAQoR,UACf1pB,EAAE+7C,UAAU9wC,UAAUknC,WAAWvpC,KAAKhJ,KAAMA,KAAK0Y,QAAQzF,SACzDjT,KAAKyJ,KAAK,aASds4C,MAAO,SAAS/zC,GACd,GAAI+6B,GAAO/oC,IACXA,MAAK0Y,QAAQ1K,IAAMA,EAGc,GAA7BhO,KAAK0Y,QAAQ6hK,cACfh5B,IAAIgC,IAAIG,OAAO4zB,YAAYI,UAAWjuJ,KAAK,EAAG6nC,OAAO,GAAK,EAAGtjD,EAAIsvC,YAEnEt9C,KAAKi6K,SAAS,WAGZ,GAAIhtK,GAAK7M,EAAEopC,MAAMT,EACZ/6B,GAAIqrC,QAAQpsC,KAIjB7M,EAAE+7C,UAAU9wC,UAAU02C,MAAM/4C,KAAK+/B,EAAM/6B,GACvC+6B,EAAKt/B,KAAK,SACVs/B,EAAKrwB,QAAQyhK,OAAQ,MAIzB70H,eAAgB,WACd,MAAOi8F,KAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAK0Y,QAAQsrC,cAM7CxH,SAAU,SAASxuC,GACdhO,KAAK0Y,QAAQyhK,QACdn6K,KAAK0Y,QAAQyhK,OAAQ,EACrB/5K,EAAE+7C,UAAU9wC,UAAUmxC,SAASxzC,KAAKhJ,KAAMgO,KAS9CisK,SAAU,SAASloK,GACjB,GAAIg3B,GAAO/oC,IACXA,MAAKyJ,KAAK,WACVzJ,KAAKyJ,KAAK,UACAzJ,MAAK0Y,QAAQ1K,GAEvBhO,MAAKm0K,SAAS,SAASpyB,EAAMvgF,GACxBugF,GACDh5G,EAAK4sD,SAAWosD,EAChBh5G,EAAK2c,OAAO3c,EAAK4sD,SAAS5vC,MAAM,IAEhChd,EAAKmuI,qBACLnuI,EAAKixI,IAAMjxI,EAAKixI,KAChBjoK,GAAQA,MAERg3B,EAAKtkC,OAASskC,EAAKtkC,MAAM+8D,GACzBzvD,GAAQA,QAMdyoK,YAAa,WACX,IAAKx6K,KAAK0Y,QAAQyhK,MAChB,KAAM,IAAIjrK,OAAM,4CAQpBijJ,eAAgB,SAASnuG,GACvBhkD,KAAKw6K,cAELx6K,KAAKgO,IAAIqgE,mBAAmBH,kBAC1BqzE,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAK0Y,QAAQsrC,cAGtChkD,KAAKgO,IAAIqgE,mBAAmBP,eAC1ByzE,IAAIC,KAAKjyD,SAAS32E,KAAKorC,IAGzBhkD,KAAK0Y,QAAQsrC,YAAcA,EAE3BhkD,KAAK21F,SAAS3xC,YAAchkD,KAAK0Y,QAAQsrC,YAEzChkD,KAAKyJ,KAAK,YAQZitK,gBAAiB,SAAS1oK,EAAKhK,GAC7B,GAAIy2K,GAAcz6K,KAAK06K,SAAS1sK,EAAIhK,EAEpC,KAAKy2K,GAAezrK,MAAMyrK,EAAY1vK,IAAMiE,MAAMyrK,EAAYxvK,GAG5D,OAAO,CAGT,IAAIksC,GAASnpC,EAAI6vC,mBAAmB48H,GAChCE,EAAa32K,EAAE1C,EAAEgE,KAAKf,cACtBq2K,EAAY5sK,EAAIyxC,2BAA2Bg7H,EAE/C,QAAQE,GACN,IAAK,YACH,GAAI36K,KAAK0Y,QAAQ6gK,YACf,MAAOv5K,MAAK0Y,QAAQ6gK,YAAYv1K,EAAE1C,EAAE61C,EAAQyjI,EAAW52K,EAAEwE,KAAMxE,EAAE+3C,MAEnE,MAEF,KAAK,QACL,IAAK,WACL,IAAK,YACL,IAAK,cACL,IAAK,YACL,IAAK,cACC/7C,KAAK0Y,QAAQihK,cACf35K,KAAK0Y,QAAQihK,aAAa31K,EAAE1C,EAAE61C,EAAQyjI,EAAW52K,EAAEwE,KAAMxE,EAAE+3C,SAYnE46H,iBAAkB,SAAS3oK,EAAKhK,GAC9B,GAAIhE,KAAK0Y,QAAQ+gK,WACf,MAAOz5K,MAAK0Y,QAAQ+gK,YAAcz5K,KAAK0Y,QAAQ+gK,WAAWz1K,EAAE1C,EAAG0C,EAAE+3C,QASrE2+H,SAAU,SAAU1sK,EAAKhK,GACvB,GAII+G,GAAGE,EAJH4vK,EAAU,EACVC,EAAS,EACTvxI,EAAMv7B,EAAIkxC,cAad,IAVIl7C,EAAE1C,EAAEymE,gBAAkB/jE,EAAE1C,EAAEymE,eAAe3jE,OAAS,GACpD2G,EAAI/G,EAAE1C,EAAEymE,eAAe,GAAGvqD,QAAUzO,OAAOgsK,QAC3C9vK,EAAIjH,EAAE1C,EAAEymE,eAAe,GAAGnqD,QAAU7O,OAAOisK,UAE3CjwK,EAAI/G,EAAE1C,EAAEkc,QACRvS,EAAIjH,EAAE1C,EAAEsc,SAKN2rB,EAAIjX,cAAgBiX,EAAI5zB,UAAY,EAAG,CACzC,EACEklK,IAAWtxI,EAAIhX,WACfuoJ,GAAUvxI,EAAI5zB,gBACP4zB,EAAMA,EAAIjX,aACnB,IAAI+c,GAAQrvC,KAAKi7K,UACflwK,EAAI8vK,EAAS5vK,EAAI6vK,OAEnB,IAAI75G,GAAO13B,EAAIpX,wBACX4oJ,EAAWhsK,OAAOgsK,SAAWhsK,OAAOsjB,YACpC2oJ,EAAWjsK,OAAOisK,SAAWjsK,OAAOqjB,YACpCid,EAAQrvC,KAAKi7K,WACdj3K,EAAE1C,EAAEkc,QAASxZ,EAAE1C,EAAEkc,QAASzS,GAAKk2D,EAAKx3C,KAAO8f,EAAI7rB,WAAaq9J,GAC5D/2K,EAAE1C,EAAEsc,QAAS5Z,EAAE1C,EAAEsc,QAAS3S,GAAKg2D,EAAKnrD,IAAMyzB,EAAIzrB,UAAYk9J,EAE/D,OAAOhtK,GAAIuxC,2BAA2BlQ,IAMxC4rI,UAAW,SAASlwK,EAAGE,GACrB,MAAO,IAAI7K,GAAEgvC,MAAMrkC,EAAGE,MAI1B7K,EAAEsuJ,kBAAoBtuJ,EAAE85K,sBAAsBx0K,QAC5CmmC,UACE22G,gBAAgBn3I,WAGlB6sK,cAAe,WACbl4K,KAAK4iJ,mBAAmB5iJ,KAAKw9B,MAAMjwB,IAAI,wBAuG3CnN,EAAEyiJ,SAAWziJ,EAAE85K,sBAAsBx0K,QACnCmmC,UACE01G,IAAIgC,IAAIs0B,iBAAiBxsK,UACzBw3I,SAASx3I,UACT23I,mBAAmB33I,WAGrB0xB,WAAY,SAAUrkB,GAMpB,GALAA,EAAUA,MAEVtY,EAAE+oC,KAAKmB,WAAWtqC,KAAM0Y,IAGnBA,EAAQoqI,YAAcpqI,EAAQi2I,UAC/B,KAAM,IAAIz/I,OAAM,+CAGpB2zI,UAAS75I,KAAKhJ,KAAMA,KAAK0Y,QAAQoqI,UAAW9iJ,KAAK0Y,SAEjD1Y,KAAKyJ,KAAOzJ,KAAKwO,QAEjBw0I,mBAAmBh6I,KAAKhJ,MACxBI,EAAE+7C,UAAU9wC,UAAU0xB,WAAW/zB,KAAKhJ,MACtCA,KAAK82F,eACL92F,KAAKo6K,gBAGPlC,cAAe,WACbl4K,KAAK4iJ,mBAAmB5iJ,KAAKw9B,MAAMjwB,IAAI,iBAI3Cg0I,IAAIgC,IAAI23B,6BAA+BrV,EAAUzlK,EAAEsuJ,mBACnDnN,IAAIgC,IAAI43B,2BAA6BtV,EAAUzlK,EAAEyiJ,cAIjD,WAEA,GAAgB,mBAAP,GAAT,CAGAziJ,EAAEwtJ,aAAextJ,EAAEsuJ,kBAAkBhpJ,QAEnCgT,SACEwvH,MAAgB,+BAChBj1H,QAAgB,IAChB+wC,YAAgBu9F,IAAI+B,OAAO/1I,IAAI,wBAC/Bq4I,OAAgB,EAChB97H,SAAgB,EAChBqwJ,OAAgB,EAChB/rB,gBACAgtB,yBAA0B,SAI5Br+I,WAAY,SAAUrkB,GAGpB,GAFAtY,EAAE+oC,KAAKmB,WAAWtqC,KAAM0Y,IAEnBA,EAAQ0tJ,aAAe1tJ,EAAQw5J,YAAcx5J,EAAQm+J,WACtD,KAAM,+EAGVz2K,GAAEsuJ,kBAAkBrjJ,UAAU0xB,WAAW/zB,KAAKhJ,MAC5C41K,kBACEnlK,QAASzQ,KAAK0Y,QAAQ0iK,yBACtB3hI,SACEn0C,KAAM,UACNoT,QAAS1Y,KAAK82K,sBACd/1B,WAAY/gJ,KAAK0Y,QAAQqoI,gBAK/B/gJ,KAAKsqC,WAAWtqC,KAAK0Y,UAGvBi0H,SAAU,SAAS5wF,EAAOg0H,GACb70I,SAAR60I,IACDA,EAAMh0H,EACNA,EAAQ,GAEVg0H,EAAMA,GAAO,iBAAmB/vK,KAAK0Y,QAAQ0tJ,WAC7C5jB,gBAAgBn3I,UAAUshI,SAAS3jI,KAAKhJ,KAAM+7C,EAAOg0H,IAMvDnC,UAAW,WACT,MAAO5tK,MAAK8pB,SAOduxJ,QAAS,WACP,MAAOr7K,MAAK0Y,QAAQyhK,QASxB,IAAImB,GAA0Bl7K,EAAEwtJ,aAAaloJ,QAE3Cq3B,WAAY,SAAS+6I,EAAYE,GAC/B,GAAIjvI,GAAO/oC,IAEXO,GAAE61B,QAAQp2B,KAAM,aAAc,cAAe,eAE7C,IAAIm8F,GAAO57F,EAAEqM,MAAMkrK,EAAWjhK,WAE9BslF,GAAKnuF,IAAOgqK,CAEZ,IACAsB,GAAgBn9E,EAAKo9E,YACrBC,EAAgBr9E,EAAKs9E,WACrBC,EAAgBv9E,EAAKw9E,YAErBx9E,GAAKo9E,YAAe,WAClBD,GAAiBA,EAAa12K,MAAM5C,KAAM8N,WAC1Ci7B,EAAKwwI,aAAgBxwI,EAAKwwI,YAAY32K,MAAM5C,KAAM8N,YAGpDquF,EAAKs9E,WAAc,WACjBD,GAAgBA,EAAY52K,MAAM5C,KAAM8N,WACxCi7B,EAAK0wI,YAAe1wI,EAAK0wI,WAAW72K,MAAM5C,KAAM8N,YAGlDquF,EAAKw9E,aAAgB,WACnBD,GAAkBA,EAAc92K,MAAM5C,KAAM8N,WAC5Ci7B,EAAK4wI,cAAiB5wI,EAAK4wI,aAAa/2K,MAAMu5F,EAAMruF,YAGtDgqK,EAAWj4J,KAAK,iBAAkB,WAChCkpB,EAAKvL,MAAMjwB,IAAI,WAAaw7B,EAAKxZ,OAAQwZ,EAAKtZ,QAC7CzvB,MAEHI,EAAEwtJ,aAAaviJ,UAAU0xB,WAAW/zB,KAAKhJ,KAAMm8F,GAC/ColD,IAAIgC,IAAIs0B,iBAAiB7uK,KAAKhJ,KAAM83K,EAAY93K,KAAMg4K,IAIxDE,cAAe,WACb,GAAIj7I,GAAQ18B,EAAEqM,MAAM5M,KAAKw9B,MAAM3mB,WAC/B7W,MAAK+3K,aAAaztI,WAAWrN,IAG/Bs8I,YAAa,SAASj4K,EAAGu4K,EAAQE,EAAUvxK,GAEzCxI,KAAKwO,QAAQ,cAAelN,GAAIu4K,EAAO3lI,IAAK2lI,EAAO1lI,KAAM4lI,EAAUvxK,EAAM,IAG3EixK,WAAY,SAASn4K,GACnBtB,KAAKwO,QAAQ,aAAclN,EAAG,IAGhCq4K,aAAc,SAASr4K,EAAGu4K,EAAQE,EAAUvxK,GAE1CxI,KAAKwO,QAAQ,eAAgBlN,GAAIu4K,EAAO3lI,IAAK2lI,EAAO1lI,KAAM4lI,EAAUvxK,EAAM,IAG5E2vK,OAAQ,WACNn4K,KAAKw9B,MAAMgxH,cAIb/pJ,MAAO,SAASnD,GACdtB,KAAKwO,QAAQ,QAASlN,EAAEA,EAAEmD,MAAM,iBAChCzE,KAAKw9B,MAAMhvB,QAAQ,YAAalN,EAAEA,EAAEmD,MAAM,kBAG5CuyK,QAAS,SAAS11K,GAChBtB,KAAKw9B,MAAMhvB,QAAQ,WAGrBq9B,UACE01G,IAAIgC,IAAIs0B,iBAAiBxsK,UACzB/K,SAASu7B,SAcb0lH,KAAIgC,IAAI+3B,wBAA0BA,MAGlC,WAWA,QAASC,GAAUC,GACjB,GAAIzyI,GAAO/oC,KAEPoI,GACF,QACA,WACA,YACA,YACA,WACA,YACA,OACA,UAGFpI,MAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,SAEL,IAAIqb,IACF63G,QAAStjK,KAAKw9B,MAAMjwB,IAAI,YAAcg0I,IAAI+B,OAAO/1I,IAAI,cAAgB,oCACrEg+C,WAAYvrD,KAAKw9B,MAAMjwB,IAAI,gBAAkB,GAAI,IAGnDvN,MAAKywJ,KAAOrwJ,EAAE+9D,QAAQQ,gBAAgB68G,EAAcjuK,IAAI,WAAY,SAAS6wD,EAAS5pB,GAElF,GAIIrwC,GAJAF,EAAI7D,EAAEiuD,OAAO7Z,GACfiX,KAAMrrD,EAAEqrD,KAAKA,IAIf,KAAItnD,EAAI,EAAGA,EAAIiE,EAAOhE,SAAUD,EAAG,CACjC,GAAI7C,GAAI8G,EAAOjE,EACfF,GAAE0b,GAAGre,EAAGynC,EAAK2yI,cAAcp6K,IAE7B,MAAO2C,KAGXjE,KAAK6f,KAAK,UAAW,SAASve,EAAGiwB,GAC/BiqJ,EAAcnjK,KACZ+lD,SACE94D,KAAM,QAENo5D,aAAcntC,EAAI,GAAIA,EAAI,SAgClC,QAASoqJ,GAASH,GAWhBx7K,KAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,UAGLpwC,KAAKywJ,KAAOrwJ,EAAE+9D,QAAQQ,gBAAgB68G,EAAcjuK,IAAI,YACxDvN,KAAKywJ,KAAK19F,SAASyoH,EAAcjuK,IAAI,UA3CvCguK,EAAUlwK,UAAY,GAAIm1I,cAE1B+6B,EAAUlwK,UAAUihJ,KAAO,WACzBtsJ,KAAKywJ,KAAK/uG,SAASrE,UAMrBk+H,EAAUlwK,UAAUqwK,cAAgB,SAASE,GAC3C,GAAI7yI,GAAO/oC,KACP2D,EAAI3D,KAAKy7K,eAAeG,EAS5B,OARIj4K,KACFA,EAAI,SAASrC,GACX,GAAI61C,GAAS71C,EAAEya,OAAO8wC,YAClBhtD,GAAKs3C,EAAOjD,IAAKiD,EAAOhD,IAC5BpL,GAAKv6B,QAAQotK,EAASt6K,EAAEqd,cAAe9e,IAEzCG,KAAKy7K,eAAeG,GAAWj4K,GAE1BA,GAiCTg4K,EAAStwK,UAAY,GAAIm1I,cAEzBm7B,EAAStwK,UAAUwwK,eAAiB,WAElC,MAAI77K,MAAKywJ,KAAKj+F,UACLxyD,KAAKywJ,KAAKj+F,aAEXxyD,KAAKywJ,OAIfkrB,EAAStwK,UAAUywK,WAAa,WAC9B,GAAI/yI,GAAO/oC,KACPy5C,EAASz5C,KAAK67K,gBAClBt7K,GAAEkC,KAAKg3C,EAAQ,SAAS/1C,GACtBA,EAAEqvD,SAAShqB,EAAKvL,MAAMjwB,IAAI,UAC1B7J,EAAEic,GAAG,OAAQ,WACXopB,EAAKvL,MAAMnlB,IAAI,UAAW0wB,EAAK0nH,KAAK3wF,YAAYrB,WAC/C11B,MAIP4yI,EAAStwK,UAAU0wK,YAAc,WAC/B,GAAIhzI,GAAO/oC,KACPy5C,EAASz5C,KAAK67K,gBAClBt7K,GAAEkC,KAAKg3C,EAAQ,SAAS/1C,GACtBA,EAAE+K,IAAI,OAAQ,KAAMs6B,MAIxB4yI,EAAStwK,UAAUihJ,KAAO,SAASjvG,GACjC,GAAItU,GAAO/oC,KACPuK,EAAK8yC,EAAS,SAAU,UACxB5D,EAASz5C,KAAK67K,gBAClBt7K,GAAEkC,KAAKg3C,EAAQ,SAAS/1C,GACtBA,EAAEs4K,QAAQzxK,KACV8yC,EAAStU,EAAK+yI,aAAc/yI,EAAKgzI,iBAIrCx6B,IAAIgC,IAAI04B,QAAU16B,IAAIgC,IAAI04B,YAE1B16B,IAAIgC,IAAI04B,QAAQV,UAAYA,EAC5Bh6B,IAAIgC,IAAI04B,QAAQN,SAAWA,KAO3B,WAEkB,mBAAP,KAMTp6B,IAAIgC,IAAIwP,eAAiBxR,IAAIgC,IAAI2N,QAAQxrJ,QAGvCq3B,WAAY,WAEVx8B,EAAE61B,QAAQp2B,KAAM,YAAa,eAAgB,WAAY,aAAc,YAEvEuhJ,IAAIgC,IAAI2N,QAAQ7lJ,UAAU0xB,WAAW/zB,KAAKhJ,KAE1C,IAAI+oC,GAAO/oC,KAEPk5C,EAASl5C,KAAKgO,IAAIT,IAAI,UAEtB2uK,GACFvuG,aAAa,EACbz0B,OAAQ,GAAI94C,GAAE6zC,OAAOiF,EAAO,GAAIA,EAAO,IACvC7jC,KAAMrV,KAAKgO,IAAIT,IAAI,QACnByuC,QAASh8C,KAAKgO,IAAIT,IAAI,WACtB8tC,QAASr7C,KAAKgO,IAAIT,IAAI,WAQxB,IAJIvN,KAAKgO,IAAIT,IAAI,mBAIZvN,KAAK0Y,QAAQyjK,WAiBX,CAELn8K,KAAKo8K,YAAcp8K,KAAK0Y,QAAQyjK,WAChCn8K,KAAK6jC,WAAW7jC,KAAKo8K,YAAYl9H,eAEjC,IAAIh+C,GAAI6nC,EAAKqzI,YAAY/rI,WAEzBtH,GAAK2oH,mBAAoBx4G,QAASh4C,EAAEgzC,IAAKhzC,EAAEizC,OAC3CpL,EAAK2oH,mBAAoBr8I,KAAM0zB,EAAKqzI,YAAY1iI,YAGhD3Q,EAAK/6B,IAAIkvB,MAAM,kBAAoBL,QAAQ,IAC3CkM,EAAK/6B,IAAIkvB,MAAM,kBAAoBL,QAAQ,QA3B3C78B,MAAKo8K,YAAc,GAAIh8K,GAAEm4C,IAAIv4C,KAAK4jC,GAAIs4I,GAGtCl8K,KAAKo8K,YAAY/tG,mBAAmBJ,UAAU,IAGX,GAA/BjuE,KAAKgO,IAAIT,IAAI,gBAAyBvN,KAAKo8K,YAAYr2G,gBAAgB10D,UAE3C,GAA5BrR,KAAKgO,IAAIT,IAAI,aAAsBvN,KAAKo8K,YAAY/vH,SAASh7C,UAErC,GAAxBrR,KAAKgO,IAAIT,IAAI,UACfvN,KAAKo8K,YAAY16H,SAASrwC,UAC1BrR,KAAKo8K,YAAYx2G,gBAAgBv0D,UAkBrCrR,MAAKgO,IAAI6R,KAAK,WAAY7f,KAAKq8K,SAAUr8K,MACzCA,KAAKgO,IAAIyrC,OAAO55B,KAAK,MAAO7f,KAAKkwE,UAAWlwE,MAC5CA,KAAKgO,IAAIyrC,OAAO55B,KAAK,SAAU7f,KAAKsyJ,aAActyJ,MAClDA,KAAKgO,IAAIyrC,OAAO55B,KAAK,QAAS7f,KAAKw5C,WAAYx5C,MAC/CA,KAAKgO,IAAIyrC,OAAO55B,KAAK,cAAe7f,KAAKuyJ,iBAAkBvyJ,MAE3DA,KAAKgO,IAAIwwD,WAAW3+C,KAAK,MAAO7f,KAAK4yJ,aAAc5yJ,MACnDA,KAAKgO,IAAIwwD,WAAW3+C,KAAK,SAAU7f,KAAKwyJ,gBAAiBxyJ,MAEzDA,KAAK6xJ,aACL7xJ,KAAKw5C,aACLx5C,KAAKmyJ,iBAELnyJ,KAAKo8K,YAAYz8J,GAAG,WAAY,SAASyyI,GACvCpyJ,KAAKwO,QAAQ,WAAY4jJ,EAAKrpH,IAC7B/oC,MAEHA,KAAKo8K,YAAYz8J,GAAG,YAAa,WAC/BopB,EAAKv6B,QAAQ,eAGfxO,KAAKo8K,YAAYz8J,GAAG,QAAS,SAASre,GACpCynC,EAAKv6B,QAAQ,QAASlN,EAAEqd,eAAgBrd,EAAE61C,OAAOjD,IAAK5yC,EAAE61C,OAAOhD,QAGjEn0C,KAAKo8K,YAAYz8J,GAAG,WAAY,SAASre,GACvCynC,EAAKv6B,QAAQ,WAAYlN,EAAEqd,iBAG7B3e,KAAKo8K,YAAYz8J,GAAG,UAAW,WAC7BopB,EAAK2oH,mBACHr8I,KAAM0zB,EAAKqzI,YAAY1iI,YAEzB3Q,EAAKv6B,QAAQ;EACZxO,MAEHA,KAAKo8K,YAAYz8J,GAAG,OAAQ,WAC1B,GAAIze,GAAI6nC,EAAKqzI,YAAY/rI,WACzBtH,GAAK2oH,mBAAoBx4G,QAASh4C,EAAEgzC,IAAKhzC,EAAEizC,SAG7Cn0C,KAAKo8K,YAAYz8J,GAAG,UAAW,WAC7B,GAAIze,GAAI6nC,EAAKqzI,YAAY/rI,WACzBrwC,MAAKwO,QAAQ,WAAYtN,EAAEgzC,IAAKhzC,EAAEizC,OACjCn0C,MAEHA,KAAKo8K,YAAYz8J,GAAG,OAAQ,WAC1B,GAAIze,GAAI6nC,EAAKqzI,YAAY/rI,WACzBtH,GAAK2oH,mBACHx4G,QAASh4C,EAAEgzC,IAAKhzC,EAAEizC,OAEpBpL,EAAKv6B,QAAQ,SACZxO,MAEHA,KAAKgO,IAAI6R,KAAK,iBAAkB,WAC9Bzf,EAAE+oC,KAAKmB,WAAWvB,EAAKqzI,aAAe/gI,QAAStS,EAAK/6B,IAAIT,IAAI,cAC3DvN,MAEHA,KAAKgO,IAAI6R,KAAK,iBAAkB,WAC9Bzf,EAAE+oC,KAAKmB,WAAWvB,EAAKqzI,aAAepgI,QAASjT,EAAK/6B,IAAIT,IAAI,cAC3DvN,MAEHA,KAAKwO,QAAQ,QAGb,IAAIiiC,GAASzwC,KAAKgO,IAAI8hJ,eAElBr/G,IACFzwC,KAAKyxJ,WAAWhhH,IAMpB+I,WAAY,WAMV,QAAS8iI,GAAcvgI,GACrB,GAAIwgI,GAAKh8K,EAAE2M,KAAKsvK,EAAW,SAASnqB,GAClC,GAAIvuJ,GAAIuuJ,EAAW70H,KACnB,OAAO15B,GAAEuzB,QAAQ0kB,IAEnB,OAAOwgI,GAGT,QAASE,GAAU1gI,GACjB,MAAOhT,GAAK/6B,IAAIyrC,OAAOvsC,KAAK,SAASpJ,GACnC,MAAOA,GAAEuzB,QAAQ0kB,KAfrB,GAAIhT,GAAO/oC,KAEPw8K,EAAYx8K,KAAKy5C,MACrBz5C,MAAKy5C,SAiBL,KAAI,GAAIsC,KAASygI,GAAW,CAC1B,GAAInqB,GAAamqB,EAAUzgI,EACtB0gI,GAAUpqB,EAAW70H,QACxB60H,EAAW7wJ,SAIfxB,KAAKgO,IAAIyrC,OAAOh3C,KAAK,SAAS2vJ,GAC5B,GAAImqB,GAAKD,EAAclqB,EAClBmqB,IAGHA,EAAGtE,SAAS7lB,GACZrpH,EAAK0Q,OAAO24G,EAAI31H,KAAO8/I,EACvBxzI,EAAKv6B,QAAQ,eAAgB+tK,EAAIA,EAAG/+I,MAAOuL,IAJ3CA,EAAKmnC,UAAUkiF,MAUrB9qI,MAAO,WAELlnB,EAAEuzC,SAASllC,IAAIM,OAAQ,SAAU/O,KAAKo8K,YAAYtjI,UAAW94C,KAAKo8K,YAGlE,KAAI,GAAIrgI,KAAS/7C,MAAKy5C,OAAQ,CAC5B,GAAI44G,GAAaryJ,KAAKy5C,OAAOsC,EAC7Bs2G,GAAW7wJ,eACJxB,MAAKy5C,OAAOsC,GAIrBwlG,IAAIC,KAAKv+G,KAAK53B,UAAUic,MAAMte,KAAKhJ,OAGrCiyJ,aAAc,SAASz0H,EAAOpzB,GACxBA,EACFpK,KAAKo8K,YAAY/vH,SAAShP,SAE1Br9C,KAAKo8K,YAAY/vH,SAASh7C,WAI9B2gJ,gBAAiB,SAASx0H,EAAOpzB,GAC3BA,EACFpK,KAAKo8K,YAAYr2G,gBAAgB1oB,SAEjCr9C,KAAKo8K,YAAYr2G,gBAAgB10D,WAIrC0gJ,SAAU,SAASv0H,EAAOpzB,GACxBpK,KAAKq8K,YAGPnqB,WAAY,SAAS10H,EAAO0b,GAC1Bl5C,KAAKq8K,YAGPA,SAAU,WACRr8K,KAAKo8K,YAAYjjI,QAAQn5C,KAAKgO,IAAIT,IAAI,UAAWvN,KAAKgO,IAAIT,IAAI,SAAW,IAG3EklJ,cAAe,SAAShC,GACtB,GAAIlN,GAAMhC,IAAIgC,IAAIwP,eAAe2pB,eAAejsB,EAEhD,OADAlN,GAAIkN,KAAKxrG,MAAMjlD,KAAKo8K,aACb74B,GAGTmP,mBAAoB,SAASnP,GAC3BvjJ,KAAKo8K,YAAY7/H,YAAYgnG,EAAIkN,OAGnCksB,YAAa,SAAS5gI,GACpB,MAAOwlG,KAAIgC,IAAIwP,eAAe4pB,YAAY5gI,EAAO/7C,KAAKo8K,cAGxDlsG,UAAW,SAASn0B,EAAOtC,EAAQ0iD,GACjC,GACSk2D,EAET,IADAA,EAAa9Q,IAAIgC,IAAIwP,eAAe4pB,YAAY5gI,EAAO/7C,KAAKo8K,aAI5D,MAAOp8K,MAAK48K,eAAevqB,EAAYl2D,IAGzCygF,eAAgB,SAASvqB,EAAYl2D,GACnC,GAAIpgD,GAAQs2G,EAAW70H,KAEvBx9B,MAAKy5C,OAAOsC,EAAMtf,KAAO41H,EACzB9Q,IAAIgC,IAAIwP,eAAe8pB,cAAcxqB,EAAYryJ,KAAKo8K,YAGtD,KAAI,GAAIj4K,KAAKnE,MAAKy5C,OAAQ,CACxB,GAAI8iI,GAAKv8K,KAAKy5C,OAAOt1C,EACrBo4K,GAAG/2H,UAAU+2H,EAAG/+I,MAAMjwB,IAAI,UAM5B,MAHY2tB,UAATihE,GAAuBA,EAAKt/D,QAC7B78B,KAAKwO,QAAQ,eAAgB6jJ,EAAYA,EAAW70H,MAAOx9B,MAEtDqyJ,GAGTyqB,cAAe,SAASvrJ,GACtB,GAAI8d,GAAQrvC,KAAKo8K,YAAY1hI,wBAAwBnpB,EAAI,GAAIA,EAAI,IACjE,OAAO8d,IAGTsmH,cAAe,SAASkkB,GACtB,GAAIxqI,GAAQrvC,KAAKo8K,YAAY98H,mBAAmB,GAAIl/C,GAAE6zC,OAAO4lI,EAAO,GAAIA,EAAO,IAC/E,OAAO75K,MAAKo8K,YAAY38H,2BAA2BpQ,IAIrDuL,UAAW,WACT,GAAIn6C,GAAIT,KAAKo8K,YAAYxhI,YACrB9E,EAAKr1C,EAAEy1C,eACPH,EAAKt1C,EAAE01C,cACX,SACGL,EAAG5B,IAAK4B,EAAG3B,MACX4B,EAAG7B,IAAK6B,EAAG5B,OAIhBg+G,eAAgB,WACd,GAAI9jF,GAAqBruE,KAAK+8K,wBAIzB/8K,MAAKg9K,wBACRh9K,KAAKg9K,sBAAwB5xK,OAAOmoB,KAAK86C,EAAmBR,gBAK9DQ,EAAmBR,gBACnB,IAAIovG,GAAkBj9K,KAAKg9K,sBAAsBr6K,OAAO3C,KAAKgO,IAAIT,IAAI,eACrEhN,GAAEkC,KAAKw6K,EAAiB,SAASj5H,GAC/BqqB,EAAmBP,eAAeyzE,IAAIC,KAAKjyD,SAAS32E,KAAKorC,OAI7D+4H,uBAAwB,WACtB,MAAI/8K,MAAKk9K,oBACAl9K,KAAKk9K,qBAGdl9K,KAAKk9K,oBAAsBl9K,KAAKo8K,YAAY/tG,mBACvCruE,KAAKk9K,sBACRl9K,KAAKk9K,oBAAsB98K,EAAEosE,QAAQxoB,aAAcoM,OAAQ,KAC3DpwD,KAAKo8K,YAAYjwG,WAAWnsE,KAAKk9K,sBAG5Bl9K,KAAKk9K,sBAGd1sI,QAAS,WACP,MAAOxwC,MAAKo8K,YAAY5rI,WAG1BiL,MAAO,SAASx3C,GACdjE,KAAKo8K,YAAY3gI,MAAM,GAAIr7C,GAAEgvC,MAAMnrC,EAAE8G,EAAG9G,EAAEgH,KAG5CkyK,UAAW,SAASplH,GAClB53D,EAAEH,KAAKo8K,YAAYl9H,gBAAgB39C,IAAI,SAAUw2D,IAGnDqlH,aAAc,WACZ,MAAOp9K,MAAKo8K,aAGdz/H,eAAgB,WAKd38C,KAAKo8K,YAAYz/H,gBAAiBnB,KAAK,IACvCx7C,KAAKo8K,YAAYjjI,QAAQn5C,KAAKgO,IAAIT,IAAI,UAAWvN,KAAKgO,IAAIT,IAAI,SAAW,GACvEiiB,SAAS,OAMb6tJ,cACEC,MAAS/7B,IAAIgC,IAAI80B,sBACjBtuH,IAAOw3F,IAAIgC,IAAI21B,oBACfp1B,QAAWvC,IAAIgC,IAAI+3B,wBACnBiC,MAASh8B,IAAIgC,IAAI+3B,wBACjBkC,MAASj8B,IAAIgC,IAAI60B,sBAGjBqF,UAAal8B,IAAIgC,IAAIy1B,2BAErB0E,WAAcn8B,IAAIgC,IAAI23B,6BACtByC,SAAYp8B,IAAIgC,IAAI43B,2BACpByC,OAAU,SAAS7hI,EAAO/tC,GACxB,MAAO,IAAIuzI,KAAIgC,IAAIs6B,mBAAmB9hI,EAAO/tC,KAIjD2uK,YAAa,SAAS5gI,EAAO/tC,GAC3B,GAAIqkJ,GAAa,KACbyrB,EAAa99K,KAAKq9K,aAAathI,EAAMxuC,IAAI,QAAQhJ,cAErD,IAAIu5K,EACF,IACEzrB,EAAa,GAAIyrB,GAAW/hI,EAAO/tC,GACnC,MAAM1M,GACNigJ,IAAInqG,IAAI3yC,MAAM,wBAA2Bs3C,EAAMxuC,IAAI,QAAU,cAAgBjM,EAAEizE,aAGjFgtE,KAAInqG,IAAI3yC,MAAM,QAAUs3C,EAAMxuC,IAAI,QAAU,oBAE9C,OAAO8kJ,IAGTwqB,cAAe,SAASxqB,EAAYrkJ,EAAKujB,GACvCvjB,EAAI8tC,SAASu2G,EAAW0lB,cACb78I,SAAR3J,GACG8gI,EAAW7sG,WACb6sG,EAAW7sG,UAAUj0B,IAQ3BmrJ,eAAgB,SAASlB,GACvB,MAAGA,GAAcpvB,UACR,GAAI7K,KAAIgC,IAAI04B,QAAQV,UAAUC,GAEhC,GAAIj6B,KAAIgC,IAAI04B,QAAQN,SAASH,MAOxCp7K,EAAEwqD,KAAKc,QAAQK,UAAa,WAC1B,GAGI5nD,GAAGklC,EAAK3hB,EAAKjL,EAHbuvC,EAAU9pD,SAAS+E,qBAAqB,UACxCglD,EAAY,uCAIhB,KAAK9nD,EAAI,EAAGklC,EAAM2iB,EAAQ5nD,OAAQD,EAAIklC,EAAKllC,IAIzC,GAHAujB,EAAMskC,EAAQ7nD,GAAGujB,IACjBjL,EAAUiL,EAAIlH,MAAMyrC,GAEP,CACX,GAAIo9F,GAAO3hI,EAAIljB,MAAM,IAErB,cADO6kJ,GAAKA,EAAKjlJ,OAAS,GACnBilJ,EAAKt7I,KAAK,KAAO,4BAOhC,WAEA,GAAqB,mBAAZ,SAAkD,mBAAhBotF,QAAW,KAAtD,CAOA,GAAI4iF,GAAiB,SAASjG,EAAYkG,EAAYC,GACpDj+K,KAAKg+K,WAAaA,EAClBh+K,KAAKgO,IAAMhO,KAAKi+K,SAAWA,EAC3Bj+K,KAAKw9B,MAAQs6I,EACb93K,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAK2kD,QAAS3kD,MAExCA,KAAKsF,KAAOwyK,EAAWvqK,IAAI,SAAWuqK,EAAWvqK,IAAI,QACrDvN,KAAKsF,KAAOtF,KAAKsF,KAAKf,cAGxBhE,GAAEmF,OAAOq4K,EAAe1yK,UAAW/K,SAASu7B,QAC5Ct7B,EAAEmF,OAAOq4K,EAAe1yK,WAGtB6yK,kBAAmB,WACjB,GAAIn1I,GAAO/oC,KACPwkB,GAAQ,CAQZ,OAPAxkB,MAAKi+K,SAASviF,gBAAgBzoE,QAC5B,SAAS8oB,EAAO53C,GACV43C,GAAShT,IACXvkB,EAAQrgB,KAIPqgB,GAMThjB,OAAQ,WACN,IAAIxB,KAAKm+K,OAAQ,CACf,GACIp3G,GAAM/mE,KAAKk+K,mBACZn3G,IAAO,EACR/mE,KAAKi+K,SAASviF,gBAAgB0iF,SAASr3G,GAC9B/mE,KAAKg+K,WAAWK,QACzBr+K,KAAKg+K,WAAWK,OAAO,MAEzBr+K,KAAKw9B,MAAM1d,OAAO,KAAM,KAAM9f,MAC9BA,KAAK8f,WAITw+J,YAAa,WAGX,GAAGt+K,KAAKm+K,OAAQ,CACd,GAAI39K,GAAI,YACRR,MAAKi+K,SAAShjF,aAAa,MAC3Bj7F,KAAKi+K,SAASrjF,SAASviF,IAAI7X,EAAGR,KAAKg+K,YACnCh+K,KAAKi+K,SAAShjF,aAAaz6F,OACtB,CACL,GAAIumE,GAAM/mE,KAAKk+K,mBACZn3G,IAAO,GACR/mE,KAAKi+K,SAASviF,gBAAgB6iF,MAAMx3G,EAAK/mE,QAK/Cm4K,OAAQ,WAAan4K,KAAKs+K,eAC1B35H,QAAS,WAAa3kD,KAAKs+K,iBAK7B/8B,IAAIgC,IAAIw6B,eAAiBA,MAIzB,WAEA,GAAqB,mBAAZ,SAAkD,mBAAhB5iF,QAAW,KAAtD,CAGA,GAAIqjF,GAAqB,SAAS1G,EAAYmG,GAC5C18B,IAAIgC,IAAIw6B,eAAe/0K,KAAKhJ,KAAM83K,EAAY,KAAMmG,GAGtD19K,GAAEmF,OACA84K,EAAmBnzK,UACnBk2I,IAAIgC,IAAIw6B,eAAe1yK,WAEvBs5C,QAAS,WACP,GAAI7gD,GAAI9D,KAAKw9B,MACT2O,GACFusI,QAAgBv9E,OAAOC,KAAKqjF,UAAUC,QACtC/F,aAAgBx9E,OAAOC,KAAKqjF,UAAUC,QACtC9F,aAAgBz9E,OAAOC,KAAKqjF,UAAUC,QACtC7F,OAAgB19E,OAAOC,KAAKqjF,UAAUE,OACtC5F,UAAgB59E,OAAOC,KAAKqjF,UAAUG,UACtC9F,QAAgB39E,OAAOC,KAAKqjF,UAAUI,QAGxC7+K,MAAKi+K,SAAS3zI,YACZw0I,UAAW3yI,EAAMroC,EAAEyJ,IAAI,gBAGzBvN,KAAKi+K,SAAS3zI,YACZgf,OAAQxlD,EAAEyJ,IAAI,UAAYwxK,qBAG9Bv9K,OAAQ,eAIV+/I,IAAIgC,IAAIi7B,mBAAqBA,MAK7B,WAEA,GAAqB,mBAAZ,SAAkD,mBAAhBrjF,QAAW,KAAtD,CAGA,GAAI6jF,GAAsB,SAASlH,EAAYmG,GAC7Cj+K,KAAKszD,MAAQwkH,EAAWvqK,IAAI,SAC5Bg0I,IAAIgC,IAAIw6B,eAAe/0K,KAAKhJ,KAAM83K,EAAY93K,KAAMi+K,GAGtD19K,GAAEmF,OACAs5K,EAAoB3zK,UACpBk2I,IAAIgC,IAAIw6B,eAAe1yK,WAEvBs5C,QAAS,WACP3kD,KAAKszD,MAAQtzD,KAAKw9B,MAAMjwB,IAAI,SAC5BvN,KAAKs+K,eAGPvnF,QAAS,SAAS+E,EAAOzmF,EAAM3M,GAC3B,GAAImmC,GAAM3sC,SAASR,cAAc,MAIjC,OAHAmtC,GAAItoC,MAAM3E,MAAQ5B,KAAK6jD,SAAS94C,EAChC8jC,EAAItoC,MAAM1E,OAAS7B,KAAK6jD,SAAS54C,EACjC4jC,EAAI,oBAAsB7uC,KAAKszD,MACxBzkB,GAGXgV,SAAU,GAAIs3C,QAAOC,KAAKS,KAAK,IAAI,KACnCxgD,QAAS,IACTW,QAAS,EACTllC,KAAK,cACLs9B,IAAK,gBAGPmtG,IAAIgC,IAAIy7B,oBAAsBA,MAI9B,WAEA,GAAqB,mBAAZ,SAAkD,mBAAhB7jF,QAAW,KAAtD,CAIA,GAAI8jF,GAAsB,SAASnH,EAAYmG,GAC7C18B,IAAIgC,IAAIw6B,eAAe/0K,KAAKhJ,KAAM83K,EAAY93K,KAAMi+K,GACpDj+K,KAAK6jD,SAAW,GAAIs3C,QAAOC,KAAKS,KAAK,IAAK,KAC1C77F,KAAKiT,QAAU,EACfjT,KAAKk/K,OAAQ,EACbl/K,KAAKq7C,QAAU,GACfr7C,KAAKg8C,QAAU,EACfh8C,KAAK8W,KAAM,sBACXqkF,OAAOC,KAAK+jF,aAAan2K,KAAKhJ,KAAMA,MAGtCO,GAAEmF,OACAu5K,EAAoB5zK,UACpBk2I,IAAIgC,IAAIw6B,eAAe1yK,UACvB8vF,OAAOC,KAAK+jF,aAAa9zK,WAEvB28C,WAAY,SAAS7B,EAAM9wC,GACzB,GAAIpK,GAAIk7C,EAAKl7C,EACTm0K,EAAY,GAAK/pK,CACrB,IAAIpK,EAAI,GAAKA,GAAMm0K,EACjB,MAAO,KAET,IAAIr0K,GAAIo7C,EAAKp7C,GACTA,EAAI,GAAKA,GAAKq0K,KAChBr0K,GAAKA,EAAIq0K,EAAYA,GAAaA,GAEjCp/K,KAAKw9B,MAAMjwB,IAAI,SAChBtC,EAAIm0K,EAAYn0K,EAAI,EAEtB,IAAI01J,GAAa3gK,KAAKw9B,MAAMjwB,IAAI,cAChC,OAAOozJ,GACMj8J,QAAQ,MAAMqG,GACdrG,QAAQ,MAAMuG,GACdvG,QAAQ,MAAM2Q,MAIjCksI,IAAIgC,IAAI07B,oBAAsBA,MAI9B,WA0GA,QAASI,GAAmBn0H,EAAKj4C,GAC7B,GAAIpI,GAAImF,KAAKo6B,MAAc,IAARn3B,EACfpI,IAAK,GACPqgD,EAAI3kD,MAAM2C,OAASo2K,EAEnBp0H,EAAI3kD,MAAM2C,OAAS,iBAAmB,EAAY,KAIxD,QAASq2K,MAuNT,QAASC,GAAenhJ,GACtB,GAAIohJ,GAA6B,SAAS3H,EAAYmG,GACpD,GAAIl1I,GAAO/oC,KACPo5K,IAEJ74K,GAAE61B,QAAQp2B,KAAM,aAAc,cAAe,eAE7C,IAAIm8F,GAAO57F,EAAEqM,MAAMkrK,EAAWjhK,WAE9BslF,GAAKnuF,IAAOiwK,CAEZ,IAKI5E,GAJJC,EAAgBn9E,EAAKo9E,YACrBC,EAAgBr9E,EAAKs9E,WACrBC,EAAgBv9E,EAAKw9E,aAGjBC,GAAe,CAEnBz9E,GAAKo9E,YAAe,SAASj4K,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,GAC9Cq9H,EAAOr9H,IACVhT,EAAKv6B,QAAQ,aAAclN,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,GAErDq9H,EAAOr9H,GAAS,EAChBu9H,GAAiBA,EAAa12K,MAAM5C,KAAM8N,WAC1Ci7B,EAAKwwI,aAAgBxwI,EAAKwwI,YAAY32K,MAAM5C,KAAM8N,WAI9CxM,EAAEyd,YAAcs6J,GAClB5hK,aAAamiK,GAEfA,EAAe32K,WAAW,WACxB8lC,EAAKv6B,QAAQ,YAAalN,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,GAClDhT,EAAKv6B,QAAQ,iBAAkBlN,EAAGu4K,EAAQC,EAAOtxK,EAAMuzC,IACtD,GACHs9H,EAAgB/3K,EAAEyd,WAGpBo9E,EAAKs9E,WAAc,SAAS31K,EAAGi4C,GACzBq9H,EAAOr9H,IACThT,EAAKv6B,QAAQ,gBAAiButC,GAEhCq9H,EAAOr9H,GAAS,EACZx7C,EAAE6zB,IAAIglJ,IACRrwI,EAAKv6B,QAAQ,YAEfgrK,GAAgBA,EAAY52K,MAAM5C,KAAM8N,WACxCi7B,EAAK0wI,YAAe1wI,EAAK0wI,WAAW72K,MAAM5C,KAAM8N,YAGlDquF,EAAKw9E,aAAgBp5K,EAAEk2B,SAAS,WAC9BijJ,GAAkBA,EAAc92K,MAAM5C,KAAM8N,WAC5Ci7B,EAAK4wI,cAAiB5wI,EAAK4wI,aAAa/2K,MAAMu5F,EAAMruF,YACnD,IAIHuwB,EAAKr1B,KAAKhJ,KAAMm8F,GAChBolD,IAAIgC,IAAIw6B,eAAe/0K,KAAKhJ,KAAM83K,EAAY93K,KAAMi+K,GA8DtD,OA3DA19K,GAAEmF,OACA+5K,EAA2Bp0K,UAC3Bk2I,IAAIgC,IAAIw6B,eAAe1yK,UACvBgzB,EAAKhzB,WAGLs5C,QAAS,WACP3kD,KAAKsqC,WAAWtqC,KAAKw9B,MAAM3mB,aAG7BshK,OAAQ,WACNn4K,KAAKw9B,MAAMgxH,cAGbhtJ,OAAQ,WACN+/I,IAAIgC,IAAIw6B,eAAe1yK,UAAU7J,OAAOwH,KAAKhJ,MAC7CA,KAAKs9B,SAGPi8I,YAAa,SAASj4K,EAAGu4K,EAAQE,EAAUvxK,EAAMuzC,GAE/C/7C,KAAKwO,QAAQ,cAAelN,GAAIu4K,EAAO3lI,MAAO2lI,EAAO1lI,OAAQ4lI,EAAUvxK,EAAMuzC,IAG/E09H,WAAY,SAASn4K,EAAGy6C,GACtB/7C,KAAKwO,QAAQ,aAAclN,EAAGy6C,IAGhC49H,aAAc,SAASr4K,EAAGu4K,EAAQE,EAAUvxK,EAAMuzC,GAEhD/7C,KAAKwO,QAAQ,eAAgBlN,GAAIu4K,EAAO3lI,MAAO2lI,EAAO1lI,OAAQ4lI,EAAUvxK,EAAMuzC,IAGhFt3C,MAAO,SAASnD,GACXtB,KAAKw9B,QAENx9B,KAAKw9B,MAAMhvB,QAAQ,QAASlN,EAAEA,EAAEikJ,OAAO,iBACvCvlJ,KAAKw9B,MAAMhvB,QAAQ,YAAalN,EAAEA,EAAEikJ,OAAO,mBAI/Cy0B,GAAI,SAAS14K,GACXtB,KAAKw9B,MAAMhvB,QAAQ,WAGrBwoK,QAAS,SAAS11K,GAChBtB,KAAKw9B,MAAMhvB,QAAQ,WAGrByyC,QAAS,WACPjhD,KAAKwO,QAAQ,YAGfkxK,cAAe,WACb1/K,KAAKwO,QAAQ,WAKVixK,EAjcT,GAAqB,mBAAZ,SAAkD,mBAAhBtkF,QAAW,KAAtD,CAKA,GAAIwkF,GAAY,SAAS3xK,GAAOhO,KAAKq+K,OAAOrwK,GAC5C2xK,GAAUt0K,UAAY,GAAI8vF,QAAOC,KAAKwkF,YACtCD,EAAUt0K,UAAUw0K,KAAO,aAC3BF,EAAUt0K,UAAUy0K,cAAgB,SAASzwI,GAC3C,GAAIprC,GAAIjE,KAAK+/K,eACb,OAAG97K,GACMA,EAAE+7K,2BAA2B3wI,IAE9B,EAAG,IAEbswI,EAAUt0K,UAAU40K,cAAgB,SAAS5wI,GAC3C,GAAIprC,GAAIjE,KAAK+/K,eACb,OAAG97K,GACMA,EAAEi8K,2BAA2B7wI,IAE9B,EAAG,GAIb,IAAI+jH,IACFngJ,QAAgB,IAChB+wC,YAAgBu9F,IAAI+B,OAAO/1I,IAAI,wBAC/Bq4I,OAAgB,EAChB97H,SAAgB,EAChBqwJ,OAAgB,EAChBrsB,aAAgB,YAChBC,WAAgB,KAChBC,eAAgB,OAChBC,eAAoB,YACpBC,aAAoB,KACpBC,iBAAoB,OACpBC,gBAEAC,QAAgB,KAChBvqG,WAAgB,MAGdw7H,EAAiB,4FAEjBa,EAAkB,SAAShkF,GAO7B,GALAn8F,KAAK0Y,QAAUnY,EAAEy2B,SAASmlE,EAAMi3D,GAChCpzJ,KAAK+lD,MAAQ,EACb/lD,KAAK21F,SAAW,KAChB31F,KAAK82F,gBAEAqF,EAAK2mD,YAAc3mD,EAAKwyD,UACzB,KAAM,IAAIz/I,OAAM,6CAIa,IAA7BlP,KAAK0Y,QAAQ6hK,cACfh5B,IAAIgC,IAAIG,OAAO4zB,YAAYI,UAAWjuJ,KAAM,GAAI6nC,OAAO,GAAK,IAAMtxD,KAAK0Y,QAAQ1K,IAAIstF,UAErFvH,IAAIrwF,EAAE22F,UAAUrxF,KAAKhJ,KAAMm8F,GAI1B57F,EAAEmF,OAAO1F,KAAK0Y,QAASyjF,GACxBn8F,KAAKogL,UAAY,GAAIT,GAAUxjF,EAAKnuF,KACpC60I,SAAS75I,KAAKhJ,KAAMA,KAAK0Y,QAAQoqI,UAAW9iJ,KAAK0Y,SACjDsqI,mBAAmBh6I,KAAKhJ,MAExBA,KAAKmxB,UAIHkvJ,EAAoB,SAASlkF,GAO/B,GALAn8F,KAAK0Y,QAAUnY,EAAEy2B,SAASmlE,EAAMi3D,GAChCpzJ,KAAK+lD,MAAQ,EACb/lD,KAAK21F,SAAW,KAChB31F,KAAK82F,gBAEAqF,EAAKy5E,mBAAqBz5E,EAAKwyD,UAChC,KAAM,IAAIz/I,OAAM,uEAIhBitF,GAAKy5E,mBACPz5E,EAAKy5E,iBAAmBpzB,gBAAgByzB,sBAAsB95E,EAAKwyD,YAIpC,GAA7B3uJ,KAAK0Y,QAAQ6hK,cACfh5B,IAAIgC,IAAIG,OAAO4zB,YAAYI,UAAWjuJ,KAAM,GAAI6nC,OAAO,GAAK,IAAMtxD,KAAK0Y,QAAQ1K,IAAIstF,UAErFvH,IAAIrwF,EAAE22F,UAAUrxF,KAAKhJ,KAAMm8F,GAI1B57F,EAAEmF,OAAO1F,KAAK0Y,QAASyjF,GACxBn8F,KAAKogL,UAAY,GAAIT,GAAUxjF,EAAKnuF,KACpCw0I,gBAAgBx5I,KAAKhJ,KAAMm8F,EAAKy5E,iBAAkB51K,KAAK0Y,SACvDsqI,mBAAmBh6I,KAAKhJ,MAExBA,KAAKmxB,SAcPouJ,GAAsBl0K,UAAUknC,WAAa,SAASt/B,GACpD,GAAIjE,MAAMiE,IAAYA,EAAU,GAAKA,EAAU,EAC7C,KAAM,IAAI/D,OAAM+D,EAAU,mDAE5BjT,MAAKiT,QAAUjT,KAAK0Y,QAAQzF,QAAUA,CACtC,KAAI,GAAI2mB,KAAO55B,MAAKmW,MAAO,CACzB,GAAI+0C,GAAMlrD,KAAKmW,MAAMyjB,EACrBsxB,GAAI3kD,MAAM0M,QAAUA,EACpBosK,EAAmBn0H,EAAKj4C,KAK5BssK,EAAsBl0K,UAAU8mJ,eAAiB,aAEjDotB,EAAsBl0K,UAAU0rF,QAAU,SAAS+E,EAAOzmF,EAAM3M,GAC9D,GAAIopK,GAAY,iFAEZ/oI,EAAO/oC,KACP8sC,EAAK,iBAAmB/9B,QACxBg+B,EAAQD,IAAO5qC,SAAS0M,gBAI5B,IAFA5O,KAAK0Y,QAAQyhK,OAAQ,EAEA,OAAlBn6K,KAAK21F,SAAmB,CACzB,GAAI/7D,GAAMvkB,EAAO,IAAMymF,EAAM/wF,EAAI,IAAM+wF,EAAM7wF,EACzC9G,EAAInE,KAAKmW,MAAMyjB,GAAO,GAAIu6D,OAAM,IAAK,IAIzC,OAHAhwF,GAAEujB,IAAMoqJ,EACR3tK,EAAEyO,aAAa,WAAYgnB,GAC3Bz1B,EAAEoC,MAAM0M,QAAUjT,KAAK0Y,QAAQzF,QACxB9O,EAGT,GAAI+vF,GAAKH,IAAIrwF,EAAE22F,UAAUhvF,UAAU0rF,QAAQ/tF,KAAKhJ,KAAM87F,EAAOzmF,EAAM3M,EAG/DqkC,IACFsyI,EAAmBnrF,EAAIl0F,KAAK0Y,QAAQzF,SAEtCihF,EAAG3tF,MAAM0M,QAAUjT,KAAK0Y,QAAQzF,QACb,IAAfjT,KAAK+lD,OACP/lD,KAAKihD,SAAWjhD,KAAKihD,UAGvBjhD,KAAK+lD,OAEL,IAAIu6H,GAAWx8B,QAAQtC,KAAKqE,SAASt3E,OAAO,iCAAiCj9C,QAEzE8yF,EAAW,WACbk8D,EAASryK,MACT86B,EAAKgd,QACc,IAAfhd,EAAKgd,OACPhd,EAAK22I,eAAiB32I,EAAK22I,gBAS/B,OANAxrF,GAAG1lE,OAAS41F,EACZlwB,EAAGtrC,QAAU,WACXk7F,QAAQtC,KAAKqE,SAASt3E,OAAO,6BAA6Bk4E,MAC1DriC,KAGKlwB,GAGTqrF,EAAsBl0K,UAAU02C,MAAQ,aAIxCw9H,EAAsBl0K,UAAUiyB,MAAQ,WACtCt9B,KAAKi3K,oBACLluI,KAAK22I,eAAiB32I,KAAK22I,iBAG7BH,EAAsBl0K,UAAU8lB,OAAS,SAAUpf,GACjD,GAAIg3B,GAAO/oC,IACXA,MAAKihD,SAAWjhD,KAAKihD,UACrBjhD,KAAKm0K,SAAS,SAASpyB,EAAMvgF,GACxBugF,GACDh5G,EAAK4sD,SAAWosD,EAChBh5G,EAAKrwB,QAAQqtC,MAAQg8F,EAAKh8F,MAC1Bhd,EAAKgd,MAAQ,EACbhd,EAAK5yB,SACL4yB,EAAKmuI,qBACLnuI,EAAKu1I,cACLv1I,EAAKixI,IAAMjxI,EAAKixI,KAChBjoK,GAAQA,KAERg3B,EAAKtkC,OAASskC,EAAKtkC,MAAM+8D,MAK/B+9G,EAAsBl0K,UAAUizK,YAAc,WAC5C,GAAIv1I,GAAO/oC,KACPgO,EAAMhO,KAAK0Y,QAAQ1K,GACvBA,GAAI0tF,gBAAgBzoE,QAClB,SAAS8oB,EAAO53C,GACd,GAAI43C,GAAShT,EAEX,WADA/6B,GAAI0tF,gBAAgB6iF,MAAMp6K,EAAG4kC,MAMrCw2I,EAAsBl0K,UAAU6oK,yBAA2B,WACvDl0K,KAAKmxB,UAGTouJ,EAAsBl0K,UAAUmvK,YAAc,WAC5C,IAAKx6K,KAAK0Y,QAAQyhK,MAChB,KAAM,IAAIjrK,OAAM,4CAIpBqwK,EAAsBl0K,UAAUqvK,SAAW,SAAU1sK,EAAIhK,GACvD,GAII+G,GAAGE,EAJH4vK,EAAU,EACVC,EAAS,EACTvxI,EAAMv7B,EAAIstF,QAad,IAVIt3F,EAAE1C,EAAEymE,gBAAkB/jE,EAAE1C,EAAEymE,eAAe3jE,OAAS,GACpD2G,EAAI/G,EAAE1C,EAAEymE,eAAe,GAAGvqD,QAAUzO,OAAOgsK,QAC3C9vK,EAAIjH,EAAE1C,EAAEymE,eAAe,GAAGnqD,QAAU7O,OAAOisK,UAE3CjwK,EAAI/G,EAAE1C,EAAEkc,QACRvS,EAAIjH,EAAE1C,EAAEsc,SAKN2rB,EAAIjX,cAAgBiX,EAAI5zB,UAAY,EAAG,CACzC,EACEklK,IAAWtxI,EAAIhX,WACfuoJ,GAAUvxI,EAAI5zB,gBACP4zB,EAAMA,EAAIjX,aACnB,IAAI+c,GAAQrvC,KAAKi7K,UACflwK,EAAI8vK,EAAS5vK,EAAI6vK,OAEnB,IAAI75G,GAAO13B,EAAIpX,wBACX4oJ,EAAWhsK,OAAOgsK,SAAWhsK,OAAOsjB,YACpC2oJ,EAAWjsK,OAAOisK,SAAWjsK,OAAOqjB,YACpCid,EAAQrvC,KAAKi7K,WACdj3K,EAAE1C,EAAEkc,QAASxZ,EAAE1C,EAAEkc,QAASzS,GAAKk2D,EAAKx3C,KAAO8f,EAAI7rB,WAAaq9J,GAC5D/2K,EAAE1C,EAAEsc,QAAS5Z,EAAE1C,EAAEsc,QAAS3S,GAAKg2D,EAAKnrD,IAAMyzB,EAAIzrB,UAAYk9J,EAE/D,OAAO3rI,IAMTkwI,EAAsBl0K,UAAU4vK,UAAY,SAASlwK,EAAGE,GACtD,MAAO,IAAIkwF,QAAOC,KAAKhsD,MAAMrkC,EAAGE,IAGlCs0K,EAAsBl0K,UAAUsrK,iBAAmB,SAAS3oK,EAAKhK,GAC/D,GAAIhE,KAAK0Y,QAAQ+gK,WACf,MAAOz5K,MAAK0Y,QAAQ+gK,YAAcz5K,KAAK0Y,QAAQ+gK,WAAWz1K,EAAE1C,EAAG0C,EAAE+3C,QAKrEwjI,EAAsBl0K,UAAUqrK,gBAAkB,SAAS1oK,EAAIhK,GAC7D,GAAIqrC,GAASrvC,KAAK06K,SAAS1sK,EAAKhK,GAC5BmzC,EAASn3C,KAAKogL,UAAUH,cAAc5wI,GACtCsrI,EAAa32K,EAAE1C,EAAEgE,KAAKf,aAG1B,QAAQo2K,GACN,IAAK,YACH,GAAI36K,KAAK0Y,QAAQ6gK,YACf,MAAOv5K,MAAK0Y,QAAQ6gK,YAAYv1K,EAAE1C,EAAE61C,EAAQ9H,EAAOrrC,EAAEwE,KAAMxE,EAAE+3C,MAE/D,MAEF,KAAK,QACL,IAAK,WACL,IAAK,YACL,IAAK,cACL,IAAK,YACL,IAAK,cACC/7C,KAAK0Y,QAAQihK,cACf35K,KAAK0Y,QAAQihK,aAAa31K,EAAE1C,EAAE61C,EAAQ9H,EAAOrrC,EAAEwE,KAAMxE,EAAE+3C,SAS/DskI,EAAkBV,UAAYA,EAC9BU,EAAkBh1K,UAAY,GAAI0oF,KAAIrwF,EAAE22F,UACxC95F,EAAEmF,OAAO26K,EAAkBh1K,UAAWm3I,gBAAgBn3I,UAAWk0K,EAAsBl0K,UAAW23I,mBAAmB33I,WACrHg1K,EAAkBh1K,UAAUorK,iBAAmB1iF,IAAIrwF,EAAEozF,YAIrDqpF,EAAgB90K,UAAY,GAAI0oF,KAAIrwF,EAAE22F,UACtC95F,EAAEmF,OAAOy6K,EAAgB90K,UAAWw3I,SAASx3I,UAAWk0K,EAAsBl0K,UAAW23I,mBAAmB33I,WAC5G80K,EAAgB90K,UAAUorK,iBAAmB1iF,IAAIrwF,EAAEozF,YAInDyqD,IAAIgC,IAAIg9B,uBAAyBF,EACjC9+B,IAAIgC,IAAIi9B,qBAAuBL,EAoI/B5+B,IAAIgC,IAAIk8B,2BAA6BD,EAAea,GACpD9+B,IAAIgC,IAAIk9B,yBAA2BjB,EAAeW,GAElD5+B,IAAIgC,IAAIi9B,qBAAuBL,MAM/B,WAEA,GAAqB,mBAAZ,SAAkD,mBAAhBhlF,QAAW,KAAtD,CAIA,GAAIwkF,GAAY,SAAS3xK,GAAOhO,KAAKq+K,OAAOrwK,GAC5C2xK,GAAUt0K,UAAY,GAAI8vF,QAAOC,KAAKwkF,YACtCD,EAAUt0K,UAAUw0K,KAAO,aAC3BF,EAAUt0K,UAAUy0K,cAAgB,SAASzwI,GAC3C,GAAIprC,GAAIjE,KAAK+/K,eACb,OAAG97K,GACMA,EAAE+7K,2BAA2B3wI,IAE9B,EAAG,IAEbswI,EAAUt0K,UAAU40K,cAAgB,SAAS5wI,GAC3C,GAAIprC,GAAIjE,KAAK+/K,eACb,OAAG97K,GACMA,EAAEi8K,2BAA2B7wI,IAE9B,EAAG,GAIb,IAAIu+G,GAAe,SAASl1I,GAE1B,GAAI06I,IACFlrB,MAAgB,+BAChBj1H,QAAgB,IAChB+wC,YAAgBu9F,IAAI+B,OAAO/1I,IAAI,wBAC/B0F,QAAgB,EAChB2yI,OAAgB,EAChB97H,SAAgB,EAChBqwJ,OAAgB,EAChB/rB,gBACAgtB,yBAA0B,QAK5B,IAFAp7K,KAAK0Y,QAAUnY,EAAEy2B,SAASte,EAAS06I,IAE9B16I,EAAQ0tJ,aAAe1tJ,EAAQw5J,YAAcx5J,EAAQm+J,WACtD,KAAM,6EAIV72K,MAAK0Y,QAAQk9J,kBACXnlK,QAASzQ,KAAK0Y,QAAQ0iK,yBACtB3hI,SACEn0C,KAAM,UACNoT,QAAS1Y,KAAK82K,sBACd/1B,WAAY/gJ,KAAK0Y,QAAQqoI,cAG7BQ,IAAIgC,IAAIg9B,uBAAuBv3K,KAAKhJ,KAAMA,KAAK0Y,SAE/C1Y,KAAKsqC,WAAWtqC,KAAK0Y,SAIvBnY,GAAEmF,OAAOkoJ,EAAaviJ,UAAWk2I,IAAIgC,IAAIg9B,uBAAuBl1K,WAEhEuiJ,EAAaviJ,UAAUshI,SAAW,SAAU5wF,EAAOg0H,GACtC70I,SAAR60I,IACDA,EAAMh0H,EACNA,EAAQ,GAEVg0H,EAAMA,GAAO,iBAAmB/vK,KAAK0Y,QAAQ0tJ,WAC7C5jB,gBAAgBn3I,UAAUshI,SAAS3jI,KAAKhJ,KAAM+7C,EAAOg0H,IAGvDxuB,IAAIgC,IAAIm9B,kBAAoB9yB,CAM5B,IAAI+yB,GAAwB,SAAS7I,EAAYmG,GAC/C,GAAIl1I,GAAO/oC,IAEXO,GAAE61B,QAAQp2B,KAAM,aAAc,cAAe,eAE7C,IAAIm8F,GAAO57F,EAAEqM,MAAMkrK,EAAWjhK,WAE9BslF,GAAKnuF,IAAOiwK,CAEZ,IACA3E,GAAgBn9E,EAAKo9E,YACrBC,EAAgBr9E,EAAKs9E,WACrBC,EAAgBv9E,EAAKw9E,YAErBx9E,GAAKo9E,YAAe,WAClBD,GAAiBA,EAAa12K,MAAM5C,KAAM8N,WAC1Ci7B,EAAKwwI,aAAgBxwI,EAAKwwI,YAAY32K,MAAM5C,KAAM8N,YAGpDquF,EAAKs9E,WAAc,WACjBD,GAAgBA,EAAY52K,MAAM5C,KAAM8N,WACxCi7B,EAAK0wI,YAAe1wI,EAAK0wI,WAAW72K,MAAM5C,KAAM8N,YAGlDquF,EAAKw9E,aAAgB,WACnBD,GAAkBA,EAAc92K,MAAM5C,KAAM8N,WAC5Ci7B,EAAK4wI,cAAiB5wI,EAAK4wI,aAAa/2K,MAAMu5F,EAAMruF,YAGtDyzI,IAAIgC,IAAIm9B,kBAAkB13K,KAAKhJ,KAAMm8F,GACrColD,IAAIgC,IAAIw6B,eAAe/0K,KAAKhJ,KAAM83K,EAAY93K,KAAMi+K,GAGtD18B,KAAIgC,IAAIo9B,sBAAwBA,EAGhCpgL,EAAEmF,OACAi7K,EAAsBt1K,UACtBk2I,IAAIgC,IAAIm9B,kBAAkBr1K,UAC1Bk2I,IAAIgC,IAAIw6B,eAAe1yK,WAGvBs5C,QAAS,WACP3kD,KAAKsqC,WAAWtqC,KAAKw9B,MAAM3mB,aAG7BshK,OAAQ,WACNn4K,KAAKw9B,MAAMgxH,cAGbhtJ,OAAQ,WACN+/I,IAAIgC,IAAIw6B,eAAe1yK,UAAU7J,OAAOwH,KAAKhJ,MAC7CA,KAAKs9B,SAGPi8I,YAAa,SAASj4K,EAAGu4K,EAAQE,EAAUvxK,GAEzCxI,KAAKwO,QAAQ,cAAelN,GAAIu4K,EAAO3lI,MAAO2lI,EAAO1lI,OAAQ4lI,EAAUvxK,EAAM,IAG/EixK,WAAY,SAASn4K,GACnBtB,KAAKwO,QAAQ,aAAclN,IAG7Bq4K,aAAc,SAASr4K,EAAGu4K,EAAQE,EAAUvxK,EAAMuzC,GAEhD/7C,KAAKwO,QAAQ,eAAgBlN,GAAIu4K,EAAO3lI,MAAO2lI,EAAO1lI,OAAQ4lI,EAAUvxK,EAAM,IAGhF/D,MAAO,SAASnD,GACXtB,KAAKw9B,QAENx9B,KAAKw9B,MAAMhvB,QAAQ,QAASlN,EAAEA,EAAEmD,MAAM,iBACtCzE,KAAKw9B,MAAMhvB,QAAQ,YAAalN,EAAEA,EAAEmD,MAAM,mBAI9CuyK,QAAS,SAAS11K,GAChBtB,KAAKw9B,MAAMhvB,QAAQ,WAGrByyC,QAAS,WACPjhD,KAAKwO,QAAQ,YAGfkxK,cAAe,WACb1/K,KAAKwO,QAAQ,eAOjB,WAIA,QAAS+sK,GAAUC,GACjB,GAAIzyI,GAAO/oC,KAEPoI,GACF,QACA,WACA,YACA,YACA,WACA,YACA,OACA,UAGFpI,MAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,SAEL,IACImb,IADQhrD,EAAEqM,MAAM4uK,EAAcjuK,IAAI,cACrBvN,KAAKw9B,MAAMjwB,IAAI,eAE5Bk+C,GACF7jC,IAAK5nB,KAAKw9B,MAAMjwB,IAAI,YAAcg0I,IAAI+B,OAAO/1I,IAAI,cAAgB,oCACjE89C,QACEtgD,EAAGwgD,GAAcA,EAAW,IAAM,GAClCtgD,EAAGsgD,GAAcA,EAAW,IAAM,IAItCvrD,MAAKywJ,KAAO,GAAItyF,SACdq9G,EAAcjuK,IAAI,YAEhBk+C,KAAMA,EACNm1H,aAAa,EACbC,aAAa,GAKjB,IAAI18K,EACJ,KAAIA,EAAI,EAAGA,EAAIiE,EAAOhE,SAAUD,EAAG,CACjC,GAAI7C,GAAI8G,EAAOjE,EACfg3F,QAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAMnvJ,EAAGynC,EAAK2yI,cAAcp6K,IAIjEtB,KAAK6f,KAAK,UAAW,SAASve,EAAGiwB,GAC/BiqJ,EAAcnjK,KACZ+lD,SACE94D,KAAM,QAENo5D,aAAcntC,EAAI,GAAIA,EAAI,SA6BlC,QAASoqJ,GAASH,GAmChB,QAASsF,GAAS78K,GAChBk3F,OAAOC,KAAK9yF,MAAM63D,YAAYl8D,EAAG,YAAa8kC,EAAKg4I,cAnCrD,GAAIh4I,GAAO/oC,IAUXA,MAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,SAIL,IAAI7pC,GAAQhG,EAAEqM,MAAM4uK,EAAcjuK,IAAI,aAEtCvN,MAAKywJ,KAAO,GAAItyF,SACdq9G,EAAcjuK,IAAI,WAClBhH,GAWFhG,EAAE61B,QAAQp2B,KAAM,eAChB,IAAI+oC,GAAO/oC,IAYX,IAAGA,KAAKywJ,KAAKuwB,SAAU,CACrB,GAAIvkF,GAAQz8F,KAAKywJ,KAAKuwB,UAEtB,IAAIvkF,GAASA,EAAM,GAEjB,IAAI,GAAIt4F,GAAI,EAAGA,EAAIs4F,EAAMr4F,SAAUD,EACjC28K,EAASrkF,EAAMt4F,QAIjB28K,GAASrkF,GACTtB,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAM,UAAWzwJ,KAAK+gL,kBAI3D,IAAI/gL,KAAKywJ,KAAKrsJ,OACZ,IAAI,GAAID,GAAI,EAAGA,EAAInE,KAAKywJ,KAAKrsJ,SAAUD,EACrC28K,EAAS9gL,KAAKywJ,KAAKtsJ,GAAGmoI,WACtBnxC,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAKtsJ,GAAI,UAAWnE,KAAK+gL,kBAI9DD,GAAS9gL,KAAKywJ,KAAKnkB,WACnBnxC,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAM,UAAWzwJ,KAAK+gL,cA3F/DxF,EAAUlwK,UAAY,GAAIm1I,cAE1B+6B,EAAUlwK,UAAUqwK,cAAgB,SAASE,GAC3C,GAAI7yI,GAAO/oC,KACP2D,EAAI3D,KAAKy7K,eAAeG,EAS5B,OARIj4K,KACFA,EAAI,SAASrC,GACX,GAAI61C,GAAS71C,EAAEkzC,OACX30C,GAAKs3C,EAAOjD,MAAOiD,EAAOhD,MAC9BpL,GAAKv6B,QAAQotK,EAASt6K,EAAGzB,IAE3BG,KAAKy7K,eAAeG,GAAWj4K,GAE1BA,GAGT43K,EAAUlwK,UAAUihJ,KAAO,SAASjvG,GAClCr9C,KAAKywJ,KAAKwwB,aAAa5jI,IAqFzBs+H,EAAStwK,UAAY,GAAIm1I,cAEzBm7B,EAASuF,WAAa,SAASzwB,EAAM0wB,GAWnC,QAASC,GAAOjqI,GACd,OAAQA,EAAOhD,MAAOgD,EAAOjD,OAG/B,QAASmtI,GAAQ7rI,GAEf,IAAI,GADAt0C,MACIiD,EAAI,EAAGA,EAAIqxC,EAAQpxC,SAAUD,EACnCjD,EAAEyK,KAAKy1K,EAAO5rI,EAAQ8rI,MAAMn9K,IAE9B,OAAOjD,GAIT,GAAIuvJ,EAAKrsJ,QAAyB,GAAfqsJ,EAAKrsJ,OA4BjB,CAGL,IAAI,GADAlD,MACIiD,EAAI,EAAGA,EAAIssJ,EAAKrsJ,SAAUD,EAChCjD,EAAEyK,KAAKgwK,EAASuF,WAAWzwB,EAAKtsJ,GAAIg9K,GAAOziH,YAAY,GAEzD,QACEp5D,KAAM67K,EACNziH,YAAax9D,GAnCf,GACI+Y,GADAvW,EAAI+sJ,EAAKrsJ,OAASqsJ,EAAK,GAAIA,CAE/B,IAAY,SAAT0wB,EACDlnK,EAASmnK,EAAO19K,EAAE6vC,mBACb,IAAY,cAAT4tI,EACRlnK,GAAUmnK,EAAO19K,EAAE6vC,oBACd,IAAY,WAAT4tI,EACRlnK,GAAUonK,EAAQ39K,EAAE4oI,YACpBryH,EAAO,GAAGtO,KAAKy1K,EAAO19K,EAAE4oI,UAAUg1C,MAAM,SACnC,IAAY,gBAATH,EAAyB,CACjClnK,IACA,KAAI,GAAIhW,GAAI,EAAGA,EAAIP,EAAEs9K,WAAW58K,SAAUH,EAAG,CAC3C,GAAI/C,GAAImgL,EAAQ39K,EAAEs9K,WAAWM,MAAMr9K,GACnC/C,GAAEyK,KAAKy1K,EAAO19K,EAAEs9K,WAAWM,MAAMr9K,GAAGq9K,MAAM,KAC1CrnK,EAAOtO,KAAKzK,GAEd+Y,GAAUA,OACO,cAATknK,EACRlnK,EAASonK,EAAQ39K,EAAE4oI,WACF,mBAAT60C,IAERlnK,GAAUonK,EAAQ39K,EAAE4oI,YAEtB,QACEhnI,KAAM67K,EACNziH,YAAazkD,IAenB0hK,EAAStwK,UAAU01K,aAAe,SAASz/K,GACzC,GAAIynC,GAAO/oC,IACXiD,YAAW,WACX8lC,EAAKvL,MAAMnlB,IAAI,UAAWsjK,EAASuF,WAAWn4I,EAAK0nH,KAAM1nH,EAAKvL,MAAMjwB,IAAI,WAAWjI,QAChF,MAGLq2K,EAAStwK,UAAUihJ,KAAO,SAASjvG,GAIjC,IAAI,GADA35C,GAAI1D,KAAKywJ,KAAKrsJ,OAASpE,KAAKywJ,MAAOzwJ,KAAKywJ,MACpCtsJ,EAAI,EAAGA,EAAIT,EAAEU,SAAUD,EAC7BT,EAAES,GAAGo9K,YAAYlkI,EAEfA,IACFr9C,KAAKw9B,MAAMnlB,IAAI,UAAWsjK,EAASuF,WAAWlhL,KAAKywJ,KAAMzwJ,KAAKw9B,MAAMjwB,IAAI,WAAWjI,QAIvFi8I,IAAIgC,IAAIi+B,MAAQjgC,IAAIgC,IAAIi+B,UAExBjgC,IAAIgC,IAAIi+B,MAAMjG,UAAYA,EAC1Bh6B,IAAIgC,IAAIi+B,MAAM7F,SAAWA,KAOJ,mBAAZ,SAAkD,mBAAhBxgF,QAAW,KAAkB,CAEtE,GAAI4jF,qBAAwB0C,UAAaC,YAAY,KAASC,MAAO,SAAaC,YAAa,iBAAkBH,UAAaC,YAAY,KAASC,MAAO,SAAaC,YAAa,QAASC,YAAa,SAAUJ,UAAa/4J,WAAY,UAAck5J,YAAa,0BAA2BH,UAAa/4J,WAAY,UAAck5J,YAAa,OAAQH,UAAa/4J,WAAY,eAAkBg5J,YAAY,KAASC,MAAO,SAAaC,YAAa,MAAOC,YAAa,SAAUJ,UAAa/4J,WAAY,UAAck5J,YAAa,gBAAiBH,UAAa/4J,WAAY,UAAck5J,YAAa,aAAcC,YAAa,SAAUJ,UAAa/4J,WAAY,UAAck5J,YAAa,UAAWH,UAAa/4J,WAAY,UAAck5J,YAAa,OAAQC,YAAa,SAAUJ,UAAa/4J,WAAY,UAAck5J,YAAa,MAAOH,UAAaC,YAAY,MAIl2BngC,KAAIgC,IAAIyP,kBAAoBzR,IAAIgC,IAAI2N,QAAQxrJ,QAE1C23K,cACEC,MAAS/7B,IAAIgC,IAAI07B,oBACjBn7B,QAAWvC,IAAIgC,IAAIo9B,sBACnBpD,MAASh8B,IAAIgC,IAAIo9B,sBACjBnD,MAASj8B,IAAIgC,IAAIy7B,oBACjBvB,UAAal8B,IAAIgC,IAAIi7B,mBACrBd,WAAcn8B,IAAIgC,IAAIk8B,2BACtB9B,SAAYp8B,IAAIgC,IAAIk9B,yBACpB7C,OAAU,SAAS7hI,EAAO/tC,GACxB,MAAO,IAAIuzI,KAAIgC,IAAIu+B,qBAAqB/lI,EAAO/tC,IAEjD+7C,IAAOw3F,IAAIgC,IAAI21B,qBAGjBn8I,WAAY,WACVx8B,EAAE61B,QAAQp2B,KAAM,UAChBA,KAAK+hL,UAAW,CAChB,IAAIh5I,GAAO/oC,IAEXuhJ,KAAIgC,IAAI2N,QAAQ7lJ,UAAU0xB,WAAW/zB,KAAKhJ,KAE1C,IAAIywC,GAASzwC,KAAKgO,IAAI8hJ,eAElBr/G,IACFzwC,KAAKyxJ,WAAWhhH,EAGlB,IAAIyI,GAASl5C,KAAKgO,IAAIT,IAAI,SAE1B,IAAKvN,KAAK0Y,QAAQyjK,WA2BX,CAELn8K,KAAKgiL,eAAiBhiL,KAAK0Y,QAAQyjK,WACnCn8K,KAAK6jC,WAAW7jC,KAAKgiL,eAAe1mF,SAGpC,IAAIp6F,GAAI6nC,EAAKi5I,eAAe3xI,WAE5BtH,GAAK2oH,mBAAoBx4G,QAASh4C,EAAEgzC,MAAOhzC,EAAEizC,SAC7CpL,EAAK2oH,mBAAoBr8I,KAAM0zB,EAAKi5I,eAAetoI,YAGnD3Q,EAAK/6B,IAAIkvB,MAAM,kBAAoBL,QAAQ,IAC3CkM,EAAK/6B,IAAIkvB,MAAM,kBAAoBL,QAAQ,QAtC3C78B,MAAKgiL,eAAiB,GAAI7mF,QAAOC,KAAK7iD,IAAIv4C,KAAK4jC,IAC7CsV,OAAQ,GAAIiiD,QAAOC,KAAKnnD,OAAOiF,EAAO,GAAIA,EAAO,IACjD7jC,KAAMrV,KAAKgO,IAAIT,IAAI,QACnByuC,QAASh8C,KAAKgO,IAAIT,IAAI,WACtB8tC,QAASr7C,KAAKgO,IAAIT,IAAI,WACtB00K,kBAAkB,EAElB7yB,YAAapvJ,KAAKgO,IAAIT,IAAI,eAE1B6+C,UAAWpsD,KAAKgO,IAAIT,IAAI,QACxB20K,wBAAyBliL,KAAKgO,IAAIT,IAAI,QACtC40K,gBAAe,EACfrD,UAAW3jF,OAAOC,KAAKqjF,UAAUC,QACjC5qB,gBAAiB,QACjBsuB,KAAM,IAGRpiL,KAAKgO,IAAI6R,KAAK,iBAAkB,WAC9BkpB,EAAKi5I,eAAe13I,YAAa+Q,QAAStS,EAAK/6B,IAAIT,IAAI,cACtDvN,MAEHA,KAAKgO,IAAI6R,KAAK,iBAAkB,WAC9BkpB,EAAKi5I,eAAe13I,YAAa0R,QAASjT,EAAK/6B,IAAIT,IAAI,cACtDvN,KAmBLA,MAAKgO,IAAIwwD,WAAW3+C,KAAK,MAAO7f,KAAK4yJ,aAAc5yJ,MACnDA,KAAKgO,IAAIwwD,WAAW3+C,KAAK,SAAU7f,KAAKwyJ,gBAAiBxyJ,MAGzDA,KAAK6xJ,aACL7xJ,KAAKw5C,aACLx5C,KAAKmyJ,iBAELh3D,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKgiL,eAAgB,iBAAkB,WACnE,GAAI9gL,GAAI6nC,EAAKi5I,eAAe3xI,WAC5BtH,GAAK2oH,mBAAoBx4G,QAASh4C,EAAEgzC,MAAOhzC,EAAEizC,WAG/CgnD,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKgiL,eAAgB,eAAgB,WACjEj5I,EAAK2oH,mBACHr8I,KAAM0zB,EAAKi5I,eAAetoI,cAI9ByhD,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKgiL,eAAgB,QAAS,SAAS1gL,GACnEynC,EAAKv6B,QAAQ,QAASlN,GAAIA,EAAEkzC,OAAON,MAAO5yC,EAAEkzC,OAAOL,UAGrDgnD,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKgiL,eAAgB,UAAW,SAAS1gL,GACrE,GAAIJ,GAAI6nC,EAAKi5I,eAAe3xI,WAC5BtH,GAAKv6B,QAAQ,UAAWlN,GAAIJ,EAAEgzC,MAAOhzC,EAAEizC,UAGzCgnD,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKgiL,eAAgB,WAAY,SAAS1gL,GACtEynC,EAAKv6B,QAAQ,WAAYlN,KAG3BtB,KAAKgO,IAAIyrC,OAAO55B,KAAK,MAAO7f,KAAKkwE,UAAWlwE,MAC5CA,KAAKgO,IAAIyrC,OAAO55B,KAAK,SAAU7f,KAAKsyJ,aAActyJ,MAClDA,KAAKgO,IAAIyrC,OAAO55B,KAAK,QAAS7f,KAAKw5C,WAAYx5C,MAC/CA,KAAKgO,IAAIyrC,OAAO55B,KAAK,cAAe7f,KAAKuyJ,iBAAkBvyJ,MAE3DA,KAAKogL,UAAY,GAAI7+B,KAAIgC,IAAIg9B,uBAAuBZ,UAAU3/K,KAAKgiL,gBAEnEhiL,KAAKogL,UAAUP,KAAO7/K,KAAKqiL,QAG7BA,OAAQ,WACNriL,KAAKogL,UAAUP,KAAO,aACtB7/K,KAAKwO,QAAQ,SACbxO,KAAK+hL,UAAW,GAGlB9vB,aAAc,SAASz0H,EAAOpzB,GAC5BpK,KAAKgiL,eAAe13I,YAAag4I,kBAAmBl4K,KAGtD4nJ,gBAAiB,SAASx0H,EAAOpzB,GAC/BpK,KAAKgiL,eAAe13I,YAAa8kH,YAAahlJ,KAGhD2nJ,SAAU,SAASv0H,EAAOpzB,GACxBA,EAAIA,GAAK,EACTpK,KAAKgiL,eAAenoI,QAAQzvC,IAG9B8nJ,WAAY,SAAS10H,EAAO0b,GAC1B,GAAIh4C,GAAI,GAAIi6F,QAAOC,KAAKnnD,OAAOiF,EAAO,GAAIA,EAAO,GACjDl5C,MAAKgiL,eAAe9mF,UAAUh6F,IAGhCy7K,YAAa,SAAS5gI,GACpB,GAAIs2G,GACJyrB,EAAa99K,KAAKq9K,aAAathI,EAAMxuC,IAAI,QAAQhJ,cAEjD,IAAIu5K,EACF,IACEzrB,EAAa,GAAIyrB,GAAW/hI,EAAO/7C,KAAKgiL,gBACxC,MAAM1gL,GACNigJ,IAAInqG,IAAI3yC,MAAM,wBAA2Bs3C,EAAMxuC,IAAI,QAAU,cAAgBjM,EAAEizE,aAGjFgtE,KAAInqG,IAAI3yC,MAAM,QAAUs3C,EAAMxuC,IAAI,QAAU,oBAE9C,OAAO8kJ,IAGTniF,UAAW,SAASn0B,EAAOtC,EAAQ0iD,GACjCA,EAAOA,KACP,IACSk2D,EAIT,IAFAA,EAAaryJ,KAAK28K,YAAY5gI,GAK9B,MAAO/7C,MAAK48K,eAAevqB,EAAYl2D,IAGzCygF,eAAgB,SAASvqB,EAAYl2D,GACnC,GAAIpgD,GAAQs2G,EAAW70H,KAIvB,IAFAx9B,KAAKy5C,OAAOsC,EAAMtf,KAAO41H,EAErBA,EAAY,CACd,GAAItrF,GAAMxmE,EAAEP,KAAKy5C,QAAQvwC,OAAO,SAASkpJ,GAAO,QAASA,EAAIr7D,UAAY3yF,OAAS,EAC9Em+K,EAA6C,IAA/BhiL,EAAEgzB,KAAKvzB,KAAKy5C,QAAQr1C,QAAiB+3F,GAAuB,IAAfA,EAAK33E,OAAuC,IAAvBu3B,EAAMxuC,IAAI,QAE9F,IAAGg1K,IAAgBpmF,EAAKqmF,cAAe,CACrC,GAAI1+K,GAAIuuJ,EAAW70H,KACE,eAAlB15B,EAAEyJ,IAAI,QACP8kJ,EAAW1tG,WAEX0tG,EAAW8rB,QAAS,EACpB9rB,EAAW1tG,eAGboiB,IAAO,EACPA,EAAM/2D,KAAKC,IAAI,EAAG82D,GACdsrF,EAAWt7D,SACRs7D,EAAW2rB,YACdz8B,IAAInqG,IAAI3yC,MAAM,6BAEhBzE,KAAKgiL,eAAetmF,gBAAgB6iF,MAAMx3G,EAAKsrF,EAAW2rB,aAE1D3rB,EAAW2rB,WAAWK,OAAOr+K,KAAKgiL,eAG1B9mJ,UAATihE,GAAuBA,EAAKt/D,QAC7B78B,KAAKwO,QAAQ,eAAgB6jJ,EAAYt2G,EAAO/7C,UAGlDuhJ,KAAInqG,IAAI3yC,MAAM,2BAGhB,OAAO4tJ,IAGTyqB,cAAe,SAASvrJ,GACtB,GAAIijB,GAASx0C,KAAKogL,UAAUH,cAAc,GAAI9kF,QAAOC,KAAKhsD,MAAM7d,EAAI,GAAIA,EAAI,IAC5E,QACE2iB,IAAKM,EAAON,MACZC,IAAKK,EAAOL,QAIhBwhH,cAAe,SAASkkB,GACtB,MAAO75K,MAAKogL,UAAUN,cAAc,GAAI3kF,QAAOC,KAAKnnD,OAAO4lI,EAAO,GAAIA,EAAO,MAG/ErpI,QAAS,WACP,OACEzlC,EAAG/K,KAAKwjC,IAAI5hC,QACZqJ,EAAGjL,KAAKwjC,IAAI3hC,WAIhB45C,MAAO,SAASx3C,GACd,GAAI/C,GAAIlB,KAAKgO,IAAIT,IAAI,UACjB6/H,EAAKptI,KAAK21J,cAAcz0J,EAC5B+C,GAAE8G,GAAKqiI,EAAGriI,EACV9G,EAAEgH,GAAKmiI,EAAGniI,CACV,IAAIqxF,GAAKt8F,KAAKogL,UAAUH,cAAch8K,EACtCjE,MAAKgO,IAAIktF,WAAWoB,EAAGpoD,MAAOooD,EAAGnoD,SAGnCyG,UAAW,WACT,GAAG56C,KAAK+hL,SAAU,CAChB,GAAIthL,GAAIT,KAAKgiL,eAAepnI,YACxB9E,EAAKr1C,EAAEy1C,eACPH,EAAKt1C,EAAE01C,cACX,SACGL,EAAG5B,MAAO4B,EAAG3B,QACb4B,EAAG7B,MAAO6B,EAAG5B,QAGlB,QAAU,EAAE,IAAK,EAAE,KAGvBg+G,eAAgB,WAEd,GAAIthI,GAAM3uB,SAAS8K,eAAe,6BAC9Bg3C,EAAcu9F,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAKgO,IAAIT,IAAI,eAAeQ,KAAK,MAGpE8iB,IACFA,EAAIxnB,WAAW9G,YAAYsuB,EAI7B,IAAIohB,GAAsBjyC,KAAKgiL,eAAe1mF,SAC1CmnF,EAAsBvgL,SAASR,cAAc,MAEjD+gL,GAAoB7vK,aAAa,KAAK,6BACtC6vK,EAAoB7vK,aAAa,QAAS,SAC1Cq/B,EAAUnwC,YAAY2gL,GACtBA,EAAoB97K,UAAYq9C,GAGlCm5H,UAAW,SAASplH,GAClB/3D,KAAKgiL,eAAe13I,YAAao4I,gBAAiB3qH,KAGpD06F,cAAe,SAAShC,GACtB,GAAIlN,GAAMhC,IAAIgC,IAAIyP,kBAAkB0pB,eAAejsB,EACnD,IAAGlN,EAAIkN,KAAKrsJ,OACV,IAAI,GAAID,GAAI,EAAIA,EAAIo/I,EAAIkN,KAAKrsJ,SAAUD,EACrCo/I,EAAIkN,KAAKtsJ,GAAGk6K,OAAOr+K,KAAKgiL,oBAGxBz+B,GAAIkN,KAAK4tB,OAAOr+K,KAAKgiL,eAEzB,OAAOz+B,IAGTmP,mBAAoB,SAASnP,GAC3B,GAAGA,EAAIkN,KAAKrsJ,OACV,IAAI,GAAID,GAAI,EAAIA,EAAIo/I,EAAIkN,KAAKrsJ,SAAUD,EACrCo/I,EAAIkN,KAAKtsJ,GAAGk6K,OAAO,UAGrB96B,GAAIkN,KAAK4tB,OAAO,OAIpBjB,aAAc,WACZ,MAAOp9K,MAAKgiL,gBAGdrlI,eAAgB,WACdw+C,OAAOC,KAAK9yF,MAAMkG,QAAQxO,KAAKgiL,eAAgB,aAKjDnF,cAAe,SAAS9gI,EAAO/tC,EAAKujB,GAClCA,EAAMA,GAAO,EACRwqB,GACHwlG,IAAInqG,IAAI3yC,MAAM,6BAEZs3C,EAAMg7C,QACR/oF,EAAI0tF,gBAAgB6iF,MAAMhtJ,EAAKwqB,GAE/BA,EAAMsiI,OAAOrwK,IAOjB0uK,eAAgB,SAASlB,GACvB,MAAGA,GAAcpvB,UACR,GAAI7K,KAAIgC,IAAIi+B,MAAMjG,UAAUC,GAE9B,GAAIj6B,KAAIgC,IAAIi+B,MAAM7F,SAASH,MAmCxCj6B,IAAIiC,GAAGE,OAAOi/B,OAASphC,IAAIC,KAAKv+G,KAAKv9B,QAEnC69B,QAAS,MACTjwB,UAAW,SAEXlL,QACEw6K,YAAa,MACbC,gBAAiB,UACjBnkB,eAAgB,WAGlBtL,iBACE5wH,MAAO,QACPw4D,YAAa,GACb8nF,SAAU,KACVC,aAAc,SACdnhL,MAAO,IACPC,OAAQ,IACRmhL,eAAe,EACfC,kBAAkB,EAClBx7B,cAAe,+BACfy7B,kBAAmB,eACnBC,sBAAuB,GACvBC,WAAY,GACZC,YAAa,GACbC,gBAAgB,EAChBC,sBAGFxmJ,WAAY,WACVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9B7yJ,EAAE61B,QAAQp2B,KAAM,SAAU,YAG1BG,EAAE+B,UAAU2d,KAAK,UAAW7f,KAAKwjL,UAGjCxjL,KAAK6f,KAAK,QAAS7f,KAAKyjL,UAExBzjL,KAAK0jL,cAAgB1jL,KAAK0Y,QAAQgrK,cAAgBnjL,EAAE04B,SAASj5B,KAAK0Y,QAAQgrK,eAAiBniC,IAAImG,UAAUF,YAAYxnJ,KAAK0Y,QAAQ+uI,gBAGpIhkH,OAAQ,WACN,GAAID,GAAMxjC,KAAKwjC,GAoBf,OAlBAA,GAAI5qB,KAAK5Y,KAAK0jL,cAAc1jL,KAAK0Y,UAEjC8qB,EAAIt2B,KAAK,UAAU3L,KACjBK,MAAO5B,KAAK0Y,QAAQ9W,QAMnB5B,KAAK2jL,gBAEN3jL,KAAKG,EAAE,YAAYymB,OAAO5mB,KAAK2jL,kBAG9B3jL,KAAK0Y,QAAQ2qK,aACdrjL,KAAKwjC,IAAIzrB,SAAS/X,KAAK0Y,QAAQ2qK,aAG1BrjL,MAITwjL,SAAU,SAASliL,GAEC,KAAdA,EAAE8b,QACJpd,KAAK4jL,UAEkB,KAAdtiL,EAAE8b,SAAkBpd,KAAK0Y,QAAQuqK,kBAC1CjjL,KAAK6jL,OAOTC,aAAc,WAEZ,MADA3jL,GAAE,QAAQymB,OAAO5mB,KAAKyjC,SAASG,IACxB5jC,MAGT6jL,IAAK,SAAShrF,GAEVA,GAAIA,EAAG38E,iBAELlc,KAAKg6K,IACPh6K,KAAKg6K,GAAGh6K,KAAK8b,QAGf9b,KAAKyvB,QAIPm0J,QAAS,SAAS/qF,GAEZA,IACFA,EAAG38E,iBACH28E,EAAGh8E,mBAGD7c,KAAK+jL,QACP/jL,KAAK+jL,SAGP/jL,KAAKyvB,QAIPA,KAAM,WAEJzvB,KAAKwjC,IAAI/T,OAELzvB,KAAK0Y,QAAQsqK,eACfhjL,KAAKsnB,SAKT0H,KAAM,WAEJhvB,KAAKwjC,IAAIjU,QAIXk0J,SAAU,WAERtjL,EAAE+B,UAAU4d,OAAO,UAAW9f,KAAKwjL,aAMvCjiC,IAAIiC,GAAGE,OAAOmT,YAActV,IAAIiC,GAAGE,OAAOi/B,OAAOj9K,QAE/C69B,QAAS,MACTjwB,UAAW,uBAEXlL,QACEw6K,YAAmB,MACnBC,gBAAmB,UACnBnkB,eAAmB,UACnBt+I,MAAmB,mBACnB03I,SAAmB,mBACnB/1F,UAAmB,oBAGrBqxF,iBACE5wH,MAAO,GACPw4D,YAAa,GACb8nF,SAAU,KACVC,aAAc,SACdnhL,MAAO,IACPC,OAAQ,IACRmhL,eAAe,EACfC,kBAAkB,EAClBx7B,cAAe,+BACfy7B,kBAAmB,eACnBC,sBAAuB,GACvBC,WAAY,GACZC,YAAa,GACbC,gBAAgB,EAChBC,sBAGFxmJ,WAAY,WAEVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9B7yJ,EAAE61B,QAAQp2B,KAAM,SAAU,YAE1BA,KAAKgkL,QAAS,CAEd,IAAIj7I,GAAO/oC,IAEPA,MAAK0Y,QAAQqD,QACf/b,KAAK0Y,QAAQqD,OAAO4D,GAAG,QAAS,SAASre,GACvCA,EAAE4a,iBACF5a,EAAEub,kBAEFksB,EAAK/Z,SAMT7uB,EAAE+B,UAAU2d,KAAK,UAAW7f,KAAKwjL,UAGjCxjL,KAAK6f,KAAK,QAAS7f,KAAKyjL,WAI1BrrB,iBAAkB,SAASv/D,GAEzBA,EAAGh8E,mBAILonK,WAAY,SAASphK,EAAOqhK,GAE1BA,KAAaA,GAAW,IAAM,IAAI3/K,cAAcic,MAAM,0BAA4BzS,KAAK,GAEvF,IAAI03B,GAAO,gCAEX,OAAK5iB,IAA0B,gBAATA,GAEfA,EAAMne,QAAQ+gC,EAAM,SAAU0+I,EAAIv6J,GACvC,MAAOs6J,GAAQj4K,QAAQ,IAAM2d,EAAGrlB,cAAgB,MAAO,EAAK4/K,EAAK,KAHlB,IAQnDn1J,KAAM,WAEJ,GAAI+Z,GAAO/oC,IAEXA,MAAKwjC,IAAIjU,KAAK,EAAG,WACfwZ,EAAKi7I,QAAS,KAKlBv0J,KAAM,WAEJ,GAAIsZ,GAAO/oC,IAEXA,MAAKwjC,IAAI/T,KAAK,EAAG,WACfsZ,EAAKi7I,QAAS,IAGZhkL,KAAK0Y,QAAQsqK,eACfhjL,KAAKsnB,SAKTnH,OAAQ,WAEFngB,KAAKgkL,OACPhkL,KAAKyvB,OAELzvB,KAAKgvB,QAKTo1J,eAAgB,SAASvkL,EAAGuE,GAE1B,MAAOvE,GAAEmG,OAAO,EAAG5B,EAAO,IAAMvE,EAAEuE,OAASA,EAAS,IAAM,KAI5Dq/B,OAAQ,WAEN,GAOI4gJ,GAAcC,EAPd9gJ,EAAMxjC,KAAKwjC,IAEXhB,EAAoB++G,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAK0Y,QAAQ8pB,OAExD+hJ,GADoBhjC,IAAIC,KAAKjyD,SAAS32E,KAAK5Y,KAAK0Y,QAAQsiF,aACpCh7F,KAAKikL,WAAWjkL,KAAK0Y,QAAQsiF,cACjD07D,EAAoB12J,KAAK0Y,QAAQg+I,SAIrC12J,MAAKwjC,IAAIzrB,SAAS/X,KAAK0Y,QAAQrL,KAE/B,IACIm3K,GADAC,EAAgBjiJ,EAAQ,KAAO+hJ,CAIjCC,GADEhiJ,GAAS+hJ,EACKvkL,KAAKokL,eAAe5hJ,EAAQ,KAAO+hJ,EAAmB,KAAO,WACpE/hJ,EACOxiC,KAAKokL,eAAe5hJ,EAAO,KAAO,UACzC+hJ,EACOvkL,KAAKokL,eAAeG,EAAmB,KAAO,UAE9C,SAIhBF,EADErkL,KAAK0Y,QAAQ2rK,aACArkL,KAAK0Y,QAAQ2rK,aAEb,wCAA0C3tB,EAAY,SAAW+tB,EAIhFH,EADEtkL,KAAK0Y,QAAQ4rK,YACDtkL,KAAK0Y,QAAQ4rK,YAEb,iCAAmC5tB,EAAY,SAAW8tB,CAG1E,IAAI9rK,GAAUnY,EAAEmF,OAAO1F,KAAK0Y,SAAW2rK,aAAcA,EAAcC,YAAaA,GAoBhF,OAlBA9gJ,GAAI5qB,KAAK5Y,KAAK0Y,QAAQugB,SAASvgB,IAE/B8qB,EAAIt2B,KAAK,UAAU3L,KACjBK,MAAO5B,KAAK0Y,QAAQ9W,QAGlB5B,KAAK2jL,gBACP3jL,KAAKG,EAAE,YAAYymB,OAAO5mB,KAAK2jL,kBAG9B3jL,KAAK0Y,QAAQ2qK,aACdrjL,KAAKwjC,IAAIzrB,SAAS/X,KAAK0Y,QAAQ2qK,aAG7BrjL,KAAK0Y,QAAQgsK,cACf1kL,KAAKwjC,IAAIt2B,KAAK,KAAKT,KAAK,SAAU,IAG7BzM,QAsBXuhJ,IAAIiC,GAAGE,OAAOihC,aAAepjC,IAAIC,KAAKv+G,KAAKv9B,QAEzC69B,QAAS,MACTjwB,UAAW,SAEXlL,QACEs2J,eAAgB,QAGlBtL,iBACIxlI,QAAS,EACT8kE,IAAK,GACLkyF,WAAY,GACZh0J,SAAU,UAGdmM,WAAY,WACV/8B,KAAK6kL,cAAe,EACpBtkL,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAC9BpzJ,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAW14B,EAAE04B,SAASj5B,KAAK0Y,QAAQugB,UAAYsoH,IAAImG,UAAUF,YAAY,uBAEtGxnJ,KAAKwjC,IAAI/T,QAGXgU,OAAQ,WACN,GAAID,GAAMxjC,KAAKwjC,GAKf,OAJAA,GAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAK0Y,UACzB1Y,KAAK2jL,gBACN3jL,KAAKG,EAAE,YAAYymB,OAAO5mB,KAAK2jL,kBAE1B3jL;EAGTyvB,KAAM,SAASopE,GACb,GAAI9vD,GAAO/oC,IACP64F,IACFA,EAAG38E,iBACLzE,aAAazX,KAAK6kL,cACY,IAA3B7kL,KAAK0Y,QAAQksK,YAAoB5kL,KAAKwjC,IAAIhnB,GAAG,YAC9Cxc,KAAKwjC,IAAIxjC,KAAK0Y,QAAQksK,YAAY5kL,KAAK0Y,QAAQkY,SAAU,QAAS,WAChEmY,EAAKvF,IAAI5qB,KAAK,IACdmwB,EAAKv6B,QAAQ,uBACbu6B,EAAKvnC,YAGPxB,KAAKwjC,IAAI/T,OACTsZ,EAAKvF,IAAI5qB,KAAK,IACdmwB,EAAKv6B,QAAQ,uBACbu6B,EAAKvnC,WAKTwtB,KAAM,SAASiP,EAAQvlB,GACrB1Y,KAAKyjC,SACLzjC,KAAKwjC,IAAIjU,KAAK0O,EAAQvlB,GACnB1Y,KAAK0Y,QAAQkV,UACZ5tB,KAAK6kL,aAAe5hL,WAAW1C,EAAEsf,KAAK7f,KAAKyvB,KAAMzvB,MAAOA,KAAK0Y,QAAQkV,aA0B7E2zH,IAAIiC,GAAGE,OAAOohC,IAAMvjC,IAAIC,KAAKnlH,MAAM32B,WAGnC67I,IAAIiC,GAAGE,OAAOqhC,UAAYzkL,SAAS0+B,WAAWt5B,QAC1C83B,MAAO+jH,IAAIiC,GAAGE,OAAOohC,IACrBE,SAAS,EAETjoJ,WAAY,WACV,GAAIgM,GAAO/oC,IACXA,MAAK6f,KAAK,QAAS,WACjBkpB,EAAKi8I,SAAU,KAOnBC,QAAS,SAASzgK,EAAO0gK,GACvB,GAAIx6K,GAAI1K,KAAK2/B,GAAGnb,EAChB,OAAI9Z,GAGGA,EAAE6C,IAAI23K,GAFJ,MAKXzwJ,QAAS,WACP,MAAuB,KAAhBz0B,KAAKoE,UAQlBm9I,IAAIiC,GAAGE,OAAOyhC,gBAAkB5jC,IAAIC,KAAKnlH,MAAM32B,QAE7CmuK,YAAa,WACX,MAAOtzK,GAAEyN,IAAIhO,KAAKuN,IAAI,UAAW,SAASrM,GACxC,MAAOA,GAAE,MAIbgkL,WAAY,SAASn+G,GACnB,MAAO/mE,MAAK6zK,cAAc9sG,MAO9Bw6E,IAAIiC,GAAGE,OAAO0hC,QAAU7jC,IAAIC,KAAKv+G,KAAKv9B,QACpC69B,QAAS,KAETxG,WAAY,WAEV/8B,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKyjC,OAAQzjC,MACvCA,KAAKw9B,MAAM3d,KAAK,UAAW7f,KAAKsnB,MAAOtnB,MACvCA,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKsnB,MAAOtnB,MACtCA,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKqlL,cAAerlL,MAC9CA,KAAKw9B,MAAM3d,KAAK,OAAQ7f,KAAKslL,YAAatlL,MAC1CA,KAAKw9B,MAAM3d,KAAK,QAAS7f,KAAKulL,aAAcvlL,MAE5CA,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAC5Bx9B,KAAK6gB,MAAQ7gB,KAAK0Y,QAAQmI,OAG5BwkK,cAAe,WACbrlL,KAAKwO,QAAQ,cAGf82K,YAAa,WACXtlL,KAAKwO,QAAQ,YAGf+2K,aAAc,WACZvlL,KAAKwO,QAAQ,aAGfg3K,UAAW,SAASC,EAAS39K,GAC3B,MAAOA,IAGT27B,OAAQ,WACN,GAMIrd,GANA2iB,EAAO/oC,KACP0lL,EAAM1lL,KAAKw9B,MAEXrX,EAAK,GAELw/J,EAAU,CAGVv/J,GADDpmB,KAAK0Y,QAAQktK,WACP,iCAAmCD,EAAU,KAE7C,sCAAwCA,EAAU,IAE3D,IAAI96K,GAAIk+B,EAAKy8I,UAAU,GAAI,GACxB36K,GAAE+N,OACH/N,EAAIA,EAAE,GAAGjE,WAEXwf,GAAMvb,EACNub,GAAM,QACNu/J,IACAx/J,GAAMC,CAKN,KAAI,GAHA6W,GAAQj9B,KAAK6gB,OAAStgB,EAAEgzB,KAAKmyJ,EAAI7uK,YACjCgvK,EAAM,GACNC,EAAYJ,EAAI7uK,WACZ1S,EAAI,EAAGklC,EAAMpM,EAAM74B,OAAQD,EAAIklC,IAAOllC,EAAG,CAC/C,GAAIy1B,GAAMqD,EAAM94B,GACZ2D,EAAQg+K,EAAUlsJ,EACtB,IAAasB,SAAVpzB,EAAqB,CACtB,GAAIse,GAAK,gBAAkBs/J,EAAIz4K,GAAK,IAAM2sB,EAAM,aAAe+rJ,EAAU,KACrE96K,EAAIk+B,EAAKy8I,UAAU5rJ,EAAK9xB,EACzB+C,GAAE+N,OACH/N,EAAIA,EAAE,GAAGjE,WAEXwf,GAAMvb,EACNub,GAAM,QACNu/J,IACAE,GAAOz/J,GAKX,MAFAD,IAAM0/J,EACN7lL,KAAKwjC,IAAI5qB,KAAKuN,GAAI1Z,KAAK,KAAM,OAASi5K,EAAIz4K,IACnCjN,MAGTilL,QAAS,SAASl6K,GAKhB,MAHG/K,MAAK0Y,QAAQktK,cACZ76K,EAEG/K,KAAKG,EAAE,SAAW4K,EAAI,MAG/Bg7K,aAAc,WACZ,MAAO/lL,MAAKgmL,aAWhBzkC,IAAIiC,GAAGE,OAAOuiC,MAAQ1kC,IAAIC,KAAKv+G,KAAKv9B,QAElC69B,QAAS,QACT2iJ,QAAS3kC,IAAIiC,GAAGE,OAAO0hC,QAEvBh9K,QACI+9K,WAAY,aACZC,cAAe,iBAGnBhzB,mBAGAr2H,WAAY,WACV,GAAIgM,GAAO/oC,IACXO,GAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAC9BpzJ,KAAKqmL,UAAYrmL,KAAK0Y,QAAQ2tK,UAC9BrmL,KAAKsmL,YAGLtmL,KAAKumL,cAAcvmL,KAAKqmL,WACxBrmL,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKyjC,OAAQzjC,MACvCA,KAAKw9B,MAAM3d,KAAK,oBAAqB7f,KAAKumL,cAAevmL,MAGzDA,KAAK6f,KAAK,QAAS7f,KAAKwmL,WAAYxmL,MAGpCA,KAAKwoJ,kBAAkBxoJ,KAAKqmL,WAC5BrmL,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAO5Bx9B,KAAKw9B,MAAM3d,KAAK,eAAgB,WAC9BkpB,EAAK09I,iBAAmB19I,EAAK09I,iBAAmB19I,EAAK09I,iBAAkB,EAAI,EAC3E19I,EAAK29I,kBAEP1mL,KAAKw9B,MAAM3d,KAAK,aAAc,WACzBkpB,EAAK09I,iBAAmB,IACzB19I,EAAK09I,mBACL19I,EAAK49I,eACuB,GAAzB59I,EAAKs9I,UAAUjiL,QAChB2kC,EAAK69I,iBAObC,WAAY,SAASC,GACjB,MAAOA,GAAO,IAGlBP,cAAe,SAASQ,GACnB/mL,KAAKqmL,WACNrmL,KAAKqmL,UAAUvmK,OAAO,KAAM,KAAM9f,MAEpCA,KAAKqmL,UAAYU,EACjB/mL,KAAKqmL,UAAUxmK,KAAK,QAAS7f,KAAKgnL,YAAahnL,MAC/CA,KAAKqmL,UAAUxmK,KAAK,QAAS7f,KAAKgnL,YAAahnL,MAC/CA,KAAKqmL,UAAUxmK,KAAK,MAAO7f,KAAKinL,OAAQjnL,OAG1CknL,cAAe,WACb,GAAIn+I,GAAO/oC,KACPkmB,EAAQ/lB,EAAE,WACVgmB,EAAKhmB,EAAE,OAUX,OATGH,MAAK0Y,QAAQktK,WACdz/J,EAAGS,OAAOzmB,EAAE,QAAQymB,OAAOmiB,EAAK89I,YAAY,GAAI,aAEhD1gK,EAAGS,OAAOzmB,EAAE,QAAQymB,OAAOmiB,EAAK89I,YAAY,GAAI,aAElDtmL,EAAEP,KAAKw9B,MAAMjwB,IAAI,WAAW9K,KAAK,SAAS4jB,GACxCF,EAAGS,OAAOzmB,EAAE,QAAQymB,OAAOmiB,EAAK89I,WAAWxgK,OAE7CH,EAAMU,OAAOT,GACND,GAMTsgK,WAAY,WACVxmL,KAAKG,EAAE,SAASqB,SAChBxB,KAAKG,EAAE,aAAaqB,QAIpB,KADA,GAAI0kL,GAAU,KACRA,EAAUlmL,KAAKsmL,SAASx9K,OAE5Bo9K,EAAQpmK,OAAO,KAAM,KAAM9f,MAE3BkmL,EAAQ5+J,OAGVtnB,MAAKsmL,aAMPW,OAAQ,SAASvB,EAAKnpJ,EAAY7jB,GAChC,GAAIqwB,GAAO/oC,KACPmmB,EAAK,GAAI4iB,GAAKm9I,SAChB1oJ,MAAOkoJ,EACP7kK,MAAO7gB,KAAKw9B,MAAMq2I,cAClB+R,WAAY5lL,KAAK0Y,QAAQktK,YAmB3B,IAjBAz/J,EAAG6/J,UAAYhmL,KAEfmmB,EAAGtG,KAAK,QAAS,WACf,GAAIknD,GAAMxmE,EAAE0L,QAAQ88B,EAAKu9I,SAAUngK,EACnC4iB,GAAKu9I,SAASn4K,OAAO44D,EAAK,EAE1B,KAAI,GAAI5iE,GAAI4iE,EAAK5iE,EAAI4kC,EAAKu9I,SAASliL,SAAUD,EAC3C4kC,EAAKu9I,SAASniL,GAAGq/B,IAAI/2B,KAAK,SAAUtI,IAErCnE,MACHmmB,EAAGtG,KAAK,YAAa7f,KAAKmnL,WAAYnnL,MACtCmmB,EAAGtG,KAAK,QAAS7f,KAAKonL,WAAYpnL,MAClCmmB,EAAGtG,KAAK,cAAe7f,KAAKqnL,UAAWrnL,MACvCmmB,EAAGtG,KAAK,SAAU7f,KAAKsnL,UAAWtnL,MAClCA,KAAK8nJ,UAAU,SAAU3hI,GAEzBA,EAAGsd,SACA/qB,GAA6BwiB,SAAlBxiB,EAAQ8L,OAAuB9L,EAAQ8L,OAASukB,EAAKu9I,SAASliL,OAAQ,CAElF+hB,EAAGqd,IAAIzuB,aAAag0B,EAAKu9I,SAAS5tK,EAAQ8L,OAAOgf,KACjDuF,EAAKu9I,SAASn4K,OAAOuK,EAAQ8L,MAAO,EAAG2B,EAGvC,KAAI,GAAIhiB,GAAIuU,EAAQ8L,MAAOrgB,EAAI4kC,EAAKu9I,SAASliL,SAAUD,EACrD4kC,EAAKu9I,SAASniL,GAAGq/B,IAAI/2B,KAAK,SAAUtI,OAItCgiB,GAAGqd,IAAI/2B,KAAK,SAAUs8B,EAAKu9I,SAASliL,QACpC2kC,EAAKvF,IAAI5c,OAAOT,EAAGyd,IACnBmF,EAAKu9I,SAAS36K,KAAKwa,EAGrBnmB,MAAKwO,QAAQ,cAQf24K,WAAY,aAOZC,WAAY,aAOZC,UAAW,aAMXC,UAAW,aAOXZ,cAAe,aAOfC,aAAc,aAOdC,WAAY,aAOZW,aAAc,WACZ,MAAkC,KAA1BvnL,KAAKqmL,UAAUjiL,QAAgBpE,KAAKqmL,UAAUrB,SAMxDgC,YAAa,WAEX,GADAhnL,KAAKwmL,aACAxmL,KAAKunL,eAWRvnL,KAAKwnL,mBAVL,IAAGxnL,KAAKqmL,UAAUrB,QAAS,CACzB,GAAIj8I,GAAO/oC,IAEXA,MAAKqmL,UAAU5jL,KAAK,SAASijL,GAC3B38I,EAAKk+I,OAAOvB,SAGd1lL,MAAKynL,kBAQXA,eAAgB,aAGhBD,aAAc,aAQdE,kBAAmB,aAOnBjkJ,OAAQ,WACN,GAAIsF,GAAO/oC,IAQX,OALA+oC,GAAKvF,IAAI5qB,KAAKmwB,EAAKm+I,iBAGnBn+I,EAAKi+I,cAEEhnL,MAOTilL,QAAS,SAASl6K,EAAGE,GAInB,MAHGjL,MAAK0Y,QAAQktK,cACZ36K,EAEGjL,KAAKsmL,SAASr7K,GAAGg6K,QAAQl6K,IAGlC48K,WAAY,SAASrmL,EAAGsmL,GACtBA,EAAUA,GAAW,YACrBtmL,EAAE4a,gBACF,IAAI2rK,GAAO1nL,EAAEmB,EAAEob,eAAiBpb,EAAEya,QAC9BhR,EAAIqK,SAASyyK,EAAKp7K,KAAK,UAAW,IAClCxB,EAAImK,SAASyyK,EAAKxlK,SAAS5V,KAAK,UAAW,GAC/CzM,MAAKwO,QAAQo5K,EAAStmL,EAAGumL,EAAM98K,EAAGE,IAGpC68K,cAAe,SAASxmL,GACtBtB,KAAK2nL,WAAWrmL,EAAG,mBAuBvBigJ,IAAIiC,GAAGE,OAAOqhB,SAAWxjB,IAAIC,KAAKv+G,KAAKv9B,QAErC69B,QAAS,MACTjwB,UAAW,WAEXlL,QACE2/K,gBAAkB,cAGpB30B,iBACExxJ,MAAO,IACPqjK,QAAS,IACTC,SAAU,IACVC,kBAAmB,OACnBC,oBAAqB,QACrB3zI,KAAM,QACN4zI,gBAAiB,EACjBC,kBAAmB,GAGrBvoI,WAAY,WACVx8B,EAAE61B,QAAQp2B,KAAM,OAAQ,OAAQ,eAAgB,YAGhDO,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAG1BpzJ,KAAK0Y,QAAQgrK,cACf1jL,KAAK0jL,cAAgBniC,IAAImG,UAAUF,YAAYxnJ,KAAK0Y,QAAQgrK,eACnD1jL,KAAK0Y,QAAQugB,WACtBj5B,KAAK0jL,cAAgB1jL,KAAK0Y,QAAQugB,UAIpC94B,EAAEH,KAAK0Y,QAAQqD,QAAQ8D,MAAMO,MAASpgB,KAAKgoL,eAG3C7nL,EAAE+B,UAAU2d,KAAK,UAAW7f,KAAKwjL,UAGjCxjL,KAAKgkL,QAAS,GAIhBvgJ,OAAQ,WAEN,GAAID,GAAMxjC,KAAKwjC,GAMf,OALAA,GACG5qB,KAAK5Y,KAAK0jL,cAAc1jL,KAAK0Y,UAC7BnX,KACCK,MAAO5B,KAAK0Y,QAAQ9W,QAEjB5B,MAGTgoL,aAAc,SAASnvF,GAEjBA,IACFA,EAAG38E,iBACH28E,EAAGh8E,mBAGD7c,KAAKgkL,OACPhkL,KAAKyvB,OAELzvB,KAAKgvB,QAITw0J,SAAU,SAASliL,GACC,KAAdA,EAAE8b,SACJpd,KAAKyvB,QAITA,KAAM,WACJzvB,KAAKgkL,QAAS,EACdhkL,KAAKwjC,IAAI/T,QAGXF,KAAM,WACJvvB,KAAKwjC,IAAIjiC,KACPyT,QAAS,QACT/B,QAAS,IAEXjT,KAAKgkL,QAAS,GAGhBh1J,KAAM,SAAS6pE,EAAG98E,GAEhB,GAAIksK,GAAUlsK,GAAU5b,EAAE4b,IAAW/b,KAAK0Y,QAAQqD,MAClD/b,MAAK0Y,QAAQqD,OAASksK,CAGtB,IAAIC,GAAgBD,EAAQjoL,KAAK0Y,QAAQ7C,UAAY,YACjDsyK,EAAgBF,EAAQ90H,aACxBi1H,EAAgBH,EAAQ70H,cACxBi1H,EAAgBroL,KAAKwjC,IAAI2vB,aACzBm1H,EAAgBtoL,KAAKwjC,IAAI4vB,cACzBrqB,EAAO/oC,IAEXA,MAAKwjC,IAAIjiC,KACPuU,IAAKoyK,EAAUpyK,IAAMV,SAA4C,MAAlC2zB,EAAKrwB,QAAQysJ,mBAAgCmjB,EAAgB,GAAKv/I,EAAKrwB,QAAQ2sJ,gBAAoB+iB,EAAe,GAAKr/I,EAAKrwB,QAAQ2sJ,iBACnK57I,KAAMy+J,EAAUz+J,KAAOrU,SAA8C,QAApC2zB,EAAKrwB,QAAQ0sJ,oBAAkCr8H,EAAKrwB,QAAQ4sJ,kBAAoB,GAAO6iB,EAAcE,EAAe,GAAKt/I,EAAKrwB,QAAQ4sJ,qBAExKvtJ,UAEoC,MAAlC/X,KAAK0Y,QAAQysJ,kBAA4B,eAAiB,mBACzD,KACmC,SAApCnlK,KAAK0Y,QAAQ0sJ,oBAAiC,mBAAqB,mBAClE,SAEQplK,KAAK0Y,QAAQ+Y,MAIzBzxB,KAAKuvB,OAGLvvB,KAAKgkL,QAAS,GAGhB18J,MAAO,WACLnnB,EAAEH,KAAK0Y,QAAQqD,QAAQ+D,QAAQM,MAASpgB,KAAKgoL,eAC7C7nL,EAAE+B,UAAU4d,OAAO,UAAW9f,KAAKwjL,UACnCjiC,IAAIC,KAAKv+G,KAAK53B,UAAUic,MAAM1kB,MAAM5C,KAAM8N,YAG5Cy7D,WAAY,SAASsvB,GACnB74F,KAAKwO,QAAQ,gBAAiBqqF,EAAI74F,KAAK4jC,OAG3C,WAEA,GAMI2kJ,IAEFC,UAGAC,SAAU,SAASnjL,EAAMojL,GACvBH,EAAQC,OAAOljL,GAAQojL,GAKzB3oJ,OAAQ,SAASz6B,EAAMq+I,EAAKn7I,GAC1B,GAAImC,GAAI49K,EAAQC,OAAOljL,EAEvB,KAAKqF,EAEH,WADA42I,KAAInqG,IAAI3yC,MAAM,YAAca,EAAO,kBAIrCkD,GAAKkQ,QAAkC,gBAAjBlQ,GAAKkQ,QAAuBvJ,KAAKC,MAAM5G,EAAKkQ,SAAUlQ,EAAKkQ,QACjFlQ,EAAKkQ,QAAUlQ,EAAKkQ,WACpB,IAAIiwK,GAASh+K,EAAEnC,EAAMm7I,EAErB,SAAIglC,IACFA,EAAOrjL,KAAOA,EACPqjL,IAObpnC,KAAIoC,IAAI4kC,QAAUA,EAElBhnC,IAAIoC,IAAIilC,SAAWtoL,SAAS0+B,WAAWt5B,QACrCw5B,WAAY,cAKd,IAAIywC,IAEF64G,UAEAC,SAAU,SAASnjL,EAAMojL,GACvB1oL,KAAKwoL,OAAOljL,GAAQojL,GAGtB3oJ,OAAQ,SAASz6B,EAAMq+I,EAAKn7I,GAC1B,IAAKlD,EAEH,MADAi8I,KAAInqG,IAAI3yC,MAAM,iCACP,IAET,IAAIkG,GAAI3K,KAAKwoL,OAAOljL,EAAKf,eAErBrD,IAGJ,OAFAA,GAAEoE,KAAOA,EACT/E,EAAEmF,OAAOxE,EAAGsH,EAAMA,EAAKkQ,SAChB,GAAI/N,GAAEg5I,EAAKziJ,IAGpB2nL,eAAgB,SAASvjL,GACvB,MAA2B,WAAvBA,EAAKf,cACA,SAEF,MAGTukL,iBAAkB,SAASrvI,GACzB,GAAIirG,GAAUnkJ,EAAEk5C,GAAQzrC,IAAI,SAAS+tC,GACnC,MAAO4zB,GAAOk5G,eAAe9sI,EAAMz2C,MAAQy2C,EAAMgtI,OAEnD,OAAOxoL,GAAEk1B,QAAQl1B,EAAEs1B,KAAK6uH,KAK5BnD,KAAIoC,IAAIh0E,OAASA,EAEjBm0E,QAAQklC,WAAa,SAASlyK,EAAMklF,GAClC8nD,QAAQhtI,GAAQklF,EAChB8nD,QAAQR,OAAOoB,QAAQn8I,KACrBuO,KAAMA,EACNklF,IAAKA,IAOT,IAAIitF,GAAM1nC,IAAIC,KAAKv+G,KAAKv9B,QAEtBq3B,WAAY,WACVx8B,EAAE61B,QAAQp2B,KAAM,eAAgB,YAAa,aAE7CA,KAAKq0K,OAAQ,EACbr0K,KAAK+vE,YACL/vE,KAAKkpL,eAAgB,EACrBlpL,KAAK8oK,cAAgB,EAEjB9oK,KAAK0Y,QAAQm8I,UACf70J,KAAK60J,QAAU70J,KAAK0Y,QAAQm8I,QAC5B70J,KAAKgO,IAAMhO,KAAK60J,QAAQ7mJ,KAIrBe,OAAOH,iBAGVG,OAAOH,iBAAiB,oBAAqBrO,EAAEsf,KAAK7f,KAAKkpK,sBAAuBlpK,OAFhF+O,OAAOF,YAAY,oBAAqB7O,KAAKkpK,sBAAuBlpK,OAOxEkpK,sBAAuB,aAOvBigB,aAAc,SAAS1vI,GACrB,GAAI2vI,GAAOz5G,EAAOm5G,iBAAiBrvI,EACnC,OAAOl5C,GAAE6yB,MAAM7yB,EAAEyN,IAAIo7K,EAAM,SAAStlL,GAAK,MAAsBo3B,UAAf4oH,QAAQhgJ,OAG1DulL,YAAa,SAAS5vI,EAAQ1nC,GAM5B,QAAS4/E,KACH5oD,EAAKogJ,aAAa1vI,KACpB8nG,IAAI+B,OAAOxjI,OAAO,eAAgB6xE,GAClC5/E,KANJ,IAAI,GAFAg3B,GAAO/oC,KACPopL,EAAOz5G,EAAOm5G,iBAAiBrvI,GAC3Bt1C,EAAI,EAAGA,EAAIilL,EAAKhlL,SAAUD,EAChC8kJ,OAAOK,WAAW8/B,EAAKjlL,GASzBo9I,KAAI+B,OAAOzjI,KAAK,eAAgB8xE,GAChCpxF,EAAEg2B,MAAMo7D,IAGV23F,YAAa,SAASxuB,GAChB96J,KAAK86J,SACP96J,KAAK86J,QAAQt5J,SAGfxB,KAAK86J,QAAU,GAAIvZ,KAAIgC,IAAIC,GAAGqX,eAC5BC,QAASA,IAGN96J,KAAKupL,iBACRvpL,KAAK60J,QAAQxkF,WAAWrwE,KAAK86J,UAIjC0uB,WAAY,SAAS/vI,GACnBz5C,KAAKspL,YAAYtpL,KAAKypL,iBAAiBhwI,KAGzCiwI,iBAAkB,SAAShxK,GAEzB,GAAI+gC,MAGAA,EAASl5C,EAAEyN,IAAIhO,KAAKwyD,YAAY3vD,MAAM,GAAI,SAASk5C,GACrD,MAAIA,GAAMi6H,aACDj6H,EAAMi6H,eAERj6H,GAKT,KAFAtC,EAASl5C,EAAEm1B,QAAQ+jB,GAEdt1C,EAAI,EAAGA,EAAI6L,KAAK4kB,IAAIlc,EAAQixK,iBAAiBvlL,OAAQq1C,EAAOr1C,UAAWD,EAAG,CAE7E,GAAIH,GAAI0U,EAAQixK,iBAAiBxlL,GAC7BylL,EAAWnwI,EAAOt1C,GAClB8hB,EAASjmB,KAAK86J,SAAW96J,KAAK86J,QAAQE,iBAAiB72J,EAEvD8hB,IACFA,EAAOjiB,EAAE8lB,QAAU,OAAQ,UAI1B8/J,EAASpsJ,OAAwC,WAA/BosJ,EAASpsJ,MAAMjwB,IAAI,SAClCvJ,EAAE8lB,WAAY,IAChB8/J,EAASpsJ,MAAMnlB,IAAI,WAAW,GAC1BrY,KAAK6pL,YACP7pL,KAAK6pL,WAAWp6J,UAO1Bq6J,aAAc,SAAS/5G,EAAUvnE,EAAMkQ,GASrC,IAPAq3D,EAAWA,EAASp5D,SAEpBo5D,EAAWxvE,EAAEu0B,OAAOi7C,EAAU,SAASe,GACrC,MAAyB,QAAlBA,EAAQjwD,MAAiB4Z,OAAO02E,UAAWrgC,EAAQjwD,QAI5B,IAAzB7gB,KAAK+vE,SAAS3rE,QACnBpE,KAAK+vE,SAASjnE,MAAMwe,OAGtBtnB,MAAK+pL,gBAAgBh6G,EAAUvnE,EAAMkQ,IAGvCsxK,cAAe,SAAS5c,GAEtB,GAAIA,GAAgBA,EAAY10J,QAAQuhJ,MAAQ,IAAOj6J,KAAK6pL,WAAY,CACtE,GAAI9gJ,GAAO/oC,KAEP6pL,EAAatB,EAAQxoJ,OAAO,cAAe//B,MAAQ+7C,MAAOqxH,GAC9DptK,MAAK60J,QAAQxkF,WAAWw5G,GACxB7pL,KAAK6pL,WAAaA,EAElBzc,EAAYvtJ,KAAK,SAAU,QAASoqK,KAClClhJ,EAAK8gJ,WAAa,KAClBA,EAAWroL,SACX4rK,EAAYttJ,OAAO,SAAUmqK,OAKnCC,gBAAiB,SAASzwI,EAAQ/gC,GAEhCA,EAAQixK,oBAERppL,EAAEkC,KAAKg3C,EAAO52C,MAAM,GAAI,SAASuvJ,GAEd,eAAbA,EAAI9sJ,KACN/E,EAAEkC,KAAK2vJ,EAAI15I,QAAQk9J,iBAAiBn8H,OAAQ,SAAS51C,GACnD6U,EAAQixK,iBAAiBh+K,MAAOme,QAAyBoR,SAAdr3B,EAAEimB,SAAwBjmB,EAAEimB,YAEnD,aAAbsoI,EAAI9sJ,KACb/E,EAAEkC,KAAK2vJ,EAAI15I,QAAQoqI,UAAUrpG,OAAQ,SAAS51C,GAC5C6U,EAAQixK,iBAAiBh+K,MAAOme,QAAyBoR,SAAdr3B,EAAEimB,SAAwBjmB,EAAEimB,YAEnD,WAAbsoI,EAAI9sJ,MACboT,EAAQixK,iBAAiBh+K,MAAOme,QAAmCoR,SAAxBk3H,EAAI15I,QAAQoR,SAAwBsoI,EAAI15I,QAAQoR,aAOjG1L,KAAM,SAAS5V,EAAMkQ,GAuPjB,QAASyxK,KACPphJ,EAAKqhJ,eAAe5hL,GAAM7F,OAAO6F,EAAKw5J,SAvP1C,GAAIj5H,GAAO/oC,IAEX,IAAqB,gBAAX,GAAqB,CAE7B,GAAI4nB,GAAMpf,CAUV,OARA+4I,KAAIC,KAAKyH,OAAO17I,IAAIqa,EAAK,SAASpf,GAC5BA,EACFugC,EAAK3qB,KAAK5V,EAAMkQ,GAEhBqwB,EAAKshJ,WAAW,kCAIbrqL,KAKT,GAAIgiK,GAASx5J,EAAKw5J,MACdA,IAAUA,EAAO59J,OAAS,IAC5BoE,EAAOw5J,EAAO,GACdx5J,EAAKw5J,OAASA,EAAOn/J,MAAM,GAI7B,IAAI42C,GAASjxC,EAAKixC,MAOlB,IAJIjxC,EAAKw5J,QAAUx5J,EAAKw5J,OAAO59J,OAAS,IACtCq1C,EAASA,EAAO92C,OAAOpC,EAAEm1B,QAAQltB,EAAKw5J,OAAOh0J,IAAI,SAASnO,GAAK,MAAOA,GAAE45C,aAGrEz5C,KAAKmpL,aAAa1vI,GAErB,MAAIz5C,MAAKkpL,eAEPngJ,EAAKshJ,WAAW,8BACTrqL,OAITA,KAAKkpL,eAAgB,EAGrBlpL,KAAKqpL,YAAY5vI,EAAQ,WACvB1Q,EAAK3qB,KAAK5V,EAAMkQ,KAGX1Y,KAKL+O,SAAUA,OAAOhF,SAAS04B,UAAyC,WAA7B1zB,OAAOhF,SAAS04B,WACxDziC,KAAKq0K,OAAQ,GAGX7rK,EAAK6rK,QACPr0K,KAAKq0K,MAAQ7rK,EAAK6rK,OAGpB37J,EAAUA,MAEV1Y,KAAKsqL,cAAc9hL,EAAMkQ,EAGzB,IAAI6xK,KAAqBhqL,EAAE2M,KAAK1E,EAAKunE,SAAU,SAAS/rE,GAEtD,MAAiB,OAAbA,EAAE0U,QACe,SAAX1U,EAAEsB,KAGM,SAAXtB,EAAEsB,MAAmBtB,EAAE0U,QAAQ1D,SAGxChV,MAAKu6K,aAAyCr/I,SAAzBxiB,EAAQ6hK,aAA8B7hK,EAAQ6hK,aAAcgQ,EAE7EvqL,KAAKstC,OAAQttC,KAAKu6K,cAAe,EAC3BgQ,GAA6CrvJ,SAAzBxiB,EAAQ6hK,eAA4Bv6K,KAAKu6K,cAAe,EAEtF,IAAInrB,GAA6Cl0H,SAAxBxiB,EAAQ02I,YAA8B5mJ,EAAK4mJ,YAAc12I,EAAQ02I,YAKtFo7B,GAJmDtvJ,SAA9BxiB,EAAQupJ,kBAAoCz5J,EAAKy5J,kBAAoBvpJ,EAAQupJ,kBAIjFjiK,KAAKwqL,kBAEtBnf,EAAiB9qK,EAAE02B,SAAS12B,EAAE2M,KAAK1E,EAAKunE,SAAU,SAASe,GAC7D,MAAuB,QAAhBA,EAAQxrE,QAGbmlL,EAAgBD,GAAkBnf,GAAkBjc,CAOxD,IAJA5mJ,EAAK6yC,UAAY7yC,EAAK6yC,QAAU,IAChC7yC,EAAKwzC,UAAYxzC,EAAKwzC,QAAU,GAG1Bh8C,KAAoB,iBAA4B,YAAtBwI,EAAKkiL,aAA8B,CAGjE,GAAIC,IAAgB,UAAW,eAAgB,eAAgB,SAAU,YAAa,UAClFpqL,GAAE6e,SAASurK,EAAc3qL,KAAK4qL,iBAC5BpiL,EAAKixC,QACPjxC,EAAKixC,OAAO,GAAG/gC,QAAQpT,KAAO,YAC9BkD,EAAKixC,OAAO,GAAG/gC,QAAQ40I,UAAYttJ,KAAK4qL,gBACxCpiL,EAAKixC,OAAO,GAAG/gC,QAAQ5B,KAAO9W,KAAK4qL,gBAE/B5qL,KAAK6qL,cACPriL,EAAKixC,OAAO,GAAG/gC,QAAQnS,MAAoC,gBAArBvG,MAAK6qL,YAA2B17K,KAAKC,MAAMpP,KAAK6qL,aAAc7qL,KAAK6qL,aAG3GriL,EAAKkiL,aAAe,aACpBliL,EAAKixC,OAAO,GAAG/gC,QAAQsrC,YAAc,IAErCu9F,IAAInqG,IAAI3yC,MAAM,sCAGhB88I,IAAInqG,IAAI3yC,MAAM,oBAAsBzE,KAAK4qL,gBAAkB,qCAI/D,GAAI1O,IACF15I,MAAOh6B,EAAKg6B,MACZw4D,YAAaxyF,EAAKwyF,YAClB3/C,QAAS7yC,EAAK6yC,QACdW,QAASxzC,EAAKwzC,QACd8+G,QAAStyJ,EAAKsyJ,QACd1L,YAAaA,EACbprF,KAAMymH,EACNp7B,SAAU7mJ,EAAKkiL,aAWjB,IAPIliL,EAAKsiL,iBAAmBtiL,EAAKuiL,kBAE/B7O,EAAU4O,gBAAkBtiL,EAAKsiL,gBACjC5O,EAAU6O,gBAAkBviL,EAAKuiL,iBAI/BviL,EAAKioC,OAEPyrI,EAAUvrB,eAAiBnoJ,EAAKioC,OAAO,GACvCyrI,EAAUtrB,eAAiBpoJ,EAAKioC,OAAO,OAElC,CACL,GAAIyI,GAAS1wC,EAAK0wC,MAEK,iBAAb,KACRA,EAAS/4C,EAAE0J,UAAUqvC,IAGvBgjI,EAAUhjI,OAASA,IAAW,EAAG,GACjCgjI,EAAU7mK,KAAqB6lB,SAAd1yB,EAAK6M,KAAqB,EAAG7M,EAAK6M,KAGrD,GAAIrH,GAAM,GAAIuzI,KAAIgC,IAAIhrG,IAAI2jI,EAC1Bl8K,MAAKgO,IAAMA,EACXhO,KAAKgrL,cAAgB,GAAI1qL,UAAS0+B,WAElCh/B,KAAKirL,WAAaziL,EAAKyiL,aAAc,GAAI56K,OAAOC,SAQhD,IAAI46K,GAAQlrL,KAAKwjC,IAAI4vB,aAEP,KAAV83H,IACFlrL,KAAKk8K,UAAYA,EACjB/7K,EAAE4O,QAAQ8Q,KAAK,SAAU7f,KAAK84C,WAGhC,IAAIjK,GAAM1uC,EAAE,SAASoB,KACnBsU,SAAU,WACVjU,MAAO,OACPC,OAAQ,QAGV7B,MAAKiyC,UAAYpD,CAGjB,IAAIs8I,GAAWhrL,EAAE,SACd4X,SAAS,uBACTxW,KACCsU,SAAU,WACVC,IAAK,EACL2T,KAAM,EACNs5B,MAAO,EACPuO,OAAQ,EACR1vD,MAAO,QAGXitC,GAAIjoB,OAAOukK,GAEXnrL,KAAKwjC,IAAI5c,OAAOioB,EAGhB,IAAIgmH,GAAW,GAAItT,KAAIgC,IAAI2N,QAAQnxH,OAAOorJ,EAAUn9K,EA6DpD,OA3DAhO,MAAK60J,QAAUA,GAEXn8I,EAAQoiJ,SAAgC5/H,SAApBxiB,EAAQoiJ,SAAyB96J,KAAKgO,IAAIT,IAAI,cAAe,IACnFS,EAAIyrC,OAAO55B,KAAK,QAAS7f,KAAKwpL,WAAYxpL,MAG5CA,KAAKgrL,cAAcnrK,KAAK,QAAS,SAASkwD,GACxC/vE,KAAK8pL,aAAa/5G,EAAUvnE,EAAMkQ,GAClC1Y,KAAKorL,WAAW5iL,EAAMkQ,IACrB1Y,MAEHA,KAAK60J,QAAQh1I,KAAK,eAAgB7f,KAAKqrL,YAAarrL,MAEhD0Y,EAAQ4yK,aACVtrL,KAAK60J,QAAQh1I,KAAK,eAAgB7f,KAAKurL,eAAgBvrL,MAGrDA,KAAK+gJ,YACP/gJ,KAAK60J,QAAQh1I,KAAK,eAAgB7f,KAAKqxJ,cAAerxJ,MAGpDA,KAAK01K,SACP11K,KAAK60J,QAAQh1I,KAAK,eAAgB7f,KAAKwrL,WAAYxrL,MAGrDA,KAAKgO,IAAIyrC,OAAO72B,MAAMriB,EAAEyN,IAAIxF,EAAKixC,OAAQ,SAASgyI,GAChD,MAAO97G,GAAO5vC,OAAO0rJ,EAAUnmL,MAAQmmL,EAAU1C,KAAMhgJ,EAAM0iJ,MAG/DzrL,KAAKgrL,cAAcpoK,MAAMpa,EAAKunE,UAGzBr3D,EAAQixK,kBACX3pL,KAAKkqL,gBAAgB1hL,EAAKixC,OAAQ/gC,GAGpC1Y,KAAK0pL,iBAAiBhxK,GAElBlQ,EAAKw5J,SAEPhiK,KAAKgO,IAAI2hJ,kBAMez0H,SAApB4oH,QAAQ4nC,SACVnqC,IAAI+B,OAAOzjI,KAAK,uBAAwBsqK,GACxClhC,OAAOK,WAAW,YAElB6gC,KAKJ5pL,EAAEg2B,MAAM,WACNwS,EAAKv6B,QAAQ,OAAQu6B,EAAMA,EAAKypB,eAG3BxyD,MAITurL,eAAgB,WACd,GACI3N,GAASr9K,EAAEP,KAAKwyD,aAAatlD,KAAK,SAAS6uC,GAC7C,MAAmC,WAA5BA,EAAMve,MAAMjwB,IAAI,SAAwBwuC,EAAMve,MAAMjwB,IAAI,YAE7DqwK,KACF59K,KAAKotK,YAAcwQ,EAEnB59K,KAAKotK,YAAYvtJ,KAAK,cAAe,SAAShgB,GAC5CG,KAAKwO,QAAQ,cAAexO,KAAKotK,YAAaptK,KAAKotK,YAAYue,YAC9D3rL,OACEA,KAAKupL,iBAAmBvpL,KAAKotK,aAChCptK,KAAKgqL,cAAchqL,KAAKotK,eAO9Bwe,iBAAkB,SAAS/rL,EAAGkuD,GAC5B,QAAI/tD,KAAKotK,cACPptK,KAAKotK,YAAYye,QAAQhsL,EAAGkuD,IACrB,IAKXq8H,cAAe,SAASpoB,GAEpB,QAAS8pB,GAAgBtuJ,GACvB,GAAIuuJ,IACF1zK,IAAK,WACH,GAAI+jB,GAAOtuB,SACX,OAAO7E,GAAE+iL,QACPC,MAAO,WACLzuJ,EAAMnlB,IAAIzV,MAAM46B,EAAOpB,OAK7BxZ,MAAO,WACL,GAAIwZ,GAAOtuB,SACX,OAAO7E,GAAE+iL,QACPC,MAAO,WACLzuJ,EAAM5a,MAAMhgB,MAAM46B,EAAOpB,OAKjC,OAAO2vJ,GAmBT,QAASG,GAAYC,EAAK/6J,GACxB,GAAIzmB,GAAI1B,EAAEmjL,UACNlrL,EAAIgrL,EAAYhwJ,UAapB,OAZKh7B,KACHA,EAAIgrL,EAAYhwJ,cAChBjzB,EAAEojL,OAAO5iK,OAAOpX,KAAK,WACnB,IAAK,GAAIlO,GAAI,EAAGA,EAAIjD,EAAEkD,SAAUD,EAC9B,GAAIjD,EAAEiD,KAAOgoL,EAAItuJ,UAEf,WADAlzB,GAAE6D,aAMVtN,EAAEyK,KAAKylB,GACAzmB,EAGT,QAAS2hL,GAAYH,EAAK/6J,GACxB,GAAIzmB,GAAI1B,EAAEmjL,UACNlrL,EAAIorL,EAAYpwJ,UAapB,OAZKh7B,KACHA,EAAIorL,EAAYpwJ,cAChBjzB,EAAEojL,OAAOtpI,QAAQ1wC,KAAK,WACpB,IAAK,GAAIlO,GAAI,EAAGA,EAAIjD,EAAEkD,SAAUD,EAC9B,GAAIjD,EAAEiD,KAAOgoL,EAAItuJ,UAEf,WADAlzB,GAAE6D,aAMVtN,EAAEyK,KAAKylB,GACAzmB,EAGT,QAAS4hL,GAAWJ,EAAKK,GACvB,MAAOvjL,GAAEwjL,KAAKxjL,EAAEyjL,MAAMF,GAAKvjL,EAAE+iL,OAAO,WAClCG,EAAI9nK,UAIR,GAAI0kB,GAAO/oC,KAEPmsL,EAAMnsL,KAAKmnK,SAAWl+J,EAAE0jL,YAC5B3sL,MAAKgiK,OAAS/4J,EAAE2jL,QAMhB5sL,KAAKgO,IAAI+9K,QAAUD,EAAgB9rL,KAAKgO,KACxChO,KAAKgO,IAAIyrC,OAAOsyI,QAAUD,EAAgB9rL,KAAKgO,IAAIyrC,QACnDz5C,KAAKgrL,cAAce,QAAUD,EAAgB9rL,KAAKgrL,cAQlD,KAAK,GAAI7mL,GAAI,EAAGA,EAAI69J,EAAO59J,SAAUD,EAAG,CACtC,GAAIwjK,GAAQ3F,EAAO79J,GACf0oL,KAEAC,EAAa7jL,EAAEwjL,KAEjBzsL,KAAKgO,IAAI+9K,QAAQ1zK,KACf6gC,OAAkC,gBAAjByuH,GAAMzuH,OAAsB/pC,KAAKC,MAAMu4J,EAAMzuH,QAASyuH,EAAMzuH,OAC7E7jC,KAAQsyJ,EAAMtyJ,OAGhBpM,EAAEyjL,MAAM,KAER1sL,KAAKgO,IAAIyrC,OAAOsyI,QAAQnpK,MAAMriB,EAAEyN,IAAI25J,EAAMluH,OAAQ,SAASgyI,GACzD,MAAO97G,GAAO5vC,OAAO0rJ,EAAUnmL,MAAQmmL,EAAU1C,KAAMhgJ,EAAM0iJ,MASjE,IALAoB,EAAOlhL,KAAKmhL,GAGZD,EAAOlhL,KAAK3L,KAAKgrL,cAAce,QAAQnpK,MAAM+kJ,EAAM53F,WAE/C43F,EAAMf,mBAAoB,CAC5B,GAAImmB,GAAKplB,EAAMf,kBACe,UAA1BmmB,EAAGpmB,mBACLkmB,EAAOlhL,KAAK4gL,EAAWJ,EAAe,IAAVY,EAAGnjJ,QAE/B0iJ,EAAYH,EAAKhoL,GAAGkO,KAAK85K,EAAI9nK,KAAM8nK,GACnCD,EAAYC,EAAKhoL,GAAGkO,KAAK85K,EAAI7nK,KAAM6nK,IAIvCnsL,KAAKgiK,OAAOgrB,SACVb,EAAI/6J,KAAKjtB,GACT8E,EAAEgkL,SAASrqL,MAAMmM,OAAQ89K,IAI7B7sL,KAAKgiK,OAAOkrB,GAAG,IAGnBnD,gBAAiB,SAASh6G,EAAUo9G,EAAUz0K,IAGvCA,EAA2B,mBAAsCwiB,SAAjCxiB,EAA2B,mBAAqB1Y,KAAKupL,iBAAoBhpL,EAAE2M,KAAK6iE,EAAU,SAAS/rE,GAAK,MAAkB,WAAXA,EAAEsB,MAAqBtB,EAAE0U,QAAQ1D,WACnLhV,KAAKotL,oBAAoBD,GAG3B5sL,EAAEwvE,GAAUttE,KAAK,SAAS+F,GACxB,GAAIlD,GAAOkD,EAAKlD,IAGhB,MAAItF,KAAKupL,kBAA6B,SAATjkL,GAA4B,WAATA,GAA8B,WAATA,IAGxD,eAATA,GAAyBi8I,IAAIC,KAAKC,KAAKjxI,QAAQs8B,IAAMy0G,IAAIC,KAAKC,KAAKjxI,QAAQs8B,GAAGr8B,SAAW,IAA7F,CAGA,GAAa,UAATnL,GAA6B,SAATA,GAA4B,eAATA,EAAuB,CAChE,GAAI+nL,GAAkC,UAAvB7kL,EAAKkQ,QAAQg9I,MAC5B,IAAI11J,KAAKstC,SAAW+/I,EAAU,MAC9B,KAAK30K,EAAQpT,IAA2B41B,SAAlBxiB,EAAQpT,GAC5B,OAKJ,GAAa,WAATA,EACF,GAAIwrE,GAAU9wE,KAAK4rK,WAAWpjK,EAAM2kL,OAEpC,IAAIr8G,GAAU9wE,KAAKqwE,WAAW7nE,EAI5BsoE,IAAYxrE,IAAQoT,IAAYA,EAAQpT,MAAU,GAAOwrE,EAAQrhD,MAErE,IAAIs+B,GAAMvlD,EAAKkQ,OAEf,KAAK1Y,KAAKupL,mBAEI,SAARjkL,GAAmBoT,EAAmB,WAAc,SAARpT,GAAmBwrE,EAAQtzC,MAAMjwB,IAAI,YAAsC2tB,QAAxBxiB,EAAmB,YAAgBo4D,EAAQvhD,QAClI,kBAARjqB,GAA4BoT,EAAQpT,IAAiB,kBAARA,GAA4BwrE,EAAQtzC,MAAMjwB,IAAI,YAA+B2tB,QAAjBxiB,EAAQpT,KAAoBwrE,EAAQvhD,QACrI,cAARjqB,GAAwBoT,EAAQpT,IAAiB,cAARA,GAAwBwrE,EAAQtzC,MAAMjwB,IAAI,YAA+B2tB,QAAjBxiB,EAAQpT,KAAoBwrE,EAAQvhD,QAC7H,UAARjqB,GAAoBoT,EAAQpT,IAAiB,UAARA,GAAoByoD,EAAI/4C,SAA4BkmB,QAAjBxiB,EAAQpT,KAAoBwrE,EAAQvhD,OAEnG,WAATjqB,GAAmB,CAErB,GAAIxB,GAAIgtE,EAAQtzC,KAEMtC,UAAlBxiB,EAAQ8pB,OACV1+B,EAAEuU,IAAI,aAAcK,EAAQ8pB,OAGFtH,SAAxBxiB,EAAQsiF,aACVl3F,EAAEuU,IAAI,mBAAoBK,EAAQsiF,cAGhCl3F,EAAEyJ,IAAI,eAAiBzJ,EAAEyJ,IAAI,sBAC/BpN,EAAE,wBAAwB4X,SAAS,eAGrC+4D,EAAQrtC,YAKXzjC,OAILotL,oBAAqB,SAAS5kL,GAE5B,GAAIA,EAAKw5J,QAAUx5J,EAAKw5J,OAAO59J,OAAS,EAAG,CAEzC,GAAI+9J,IAAe35J,EAAKo+J,oBAAoBjkK,OAAOpC,EAAEg0B,MAAM/rB,EAAKw5J,OAAQ,sBAExE,OAAOhiK,MAAKqwE,YACV/qE,KAAM,oBACN68J,YAAaA,MAMnByJ,WAAY,SAASpjK,EAAM2kL,GAEzB,GAAIhrB,IAAegrB,EAASvmB,oBAAoBjkK,OAAOpC,EAAEg0B,MAAM44J,EAASnrB,OAAQ,sBAEhF,OAAOhiK,MAAKqwE,YACV/qE,KAAM,SACNoT,QAASlQ,EAAKkQ,QACdypJ,YAAaA,KAKjBipB,WAAY,SAAS5iL,EAAMkQ,GAEzB,GAAI+gC,GACAsC,EAAQvzC,EAAKixC,OAAO,EAExB,IAAIz5C,KAAKupL,gBAAiB,CAEpB7wK,GAA+BwiB,SAApBxiB,EAAQoiJ,UACrBpiJ,EAAQoiJ,UAAU96J,KAAK86J,SAGrB/+G,EAAMrjC,SAAWqjC,EAAMrjC,QAAQk9J,iBACjCn8H,EAASsC,EAAMrjC,QAAQk9J,iBAAiBn8H,OAC/BsC,EAAMrjC,SAAWqjC,EAAMrjC,QAAQoqI,WAAa/mG,EAAMrjC,QAAQoqI,UAAUrpG,SAC7EA,EAASsC,EAAMrjC,QAAQoqI,UAAUrpG,OAGnC,IAAI0oH,IAAe35J,EAAKo+J,oBAAoBjkK,OAAOpC,EAAEg0B,MAAM/rB,EAAKw5J,OAAQ,sBAExEhiK,MAAKstL,cAAgBttL,KAAKqwE,YACxB/qE,KAAM,SACNm0C,OAAQA,EACRuoH,OAAQx5J,EAAKw5J,OACbG,YAAYA,EACZpyF,SAAUvnE,EAAKunE,SACfr3D,QAASA,EACT00J,YAAaptK,KAAKotK,gBAKxBmgB,kBAAmB,SAASxxI,EAAO8pH,GACjC,GAAI9pH,EAAM91B,OAAQ,CAChB81B,EAAM91B,OAAOzd,KAAOuzC,EAAM91B,OAAO67F,KACjC,IAAI77F,GAAS81B,EAAM91B,MAEnB,IAAKA,EAAO67F,OAAS77F,EAAO67F,MAAM19G,QAAW6hB,EAAOgT,SAAU,CAC5D,GAAIu0J,GAAcjtL,EAAEmF,OAAOq2C,EAAM91B,QAC/B6D,QAASiyB,EAAMjyB,UAEbqxI,EAAc,GAAI5Z,KAAIgC,IAAIC,GAAG8T,YAAYk2B,GACzCC,EAAa,GAAIlsC,KAAIgC,IAAIC,GAAGqU,QAASr6H,MAAO29H,GAKhD,OAJA0K,GAAUhmJ,KAAK,oBAAqB,SAASk8B,EAAOlyB,GAClD4jK,EAAW5jK,EAAS,OAAQ,YAE9Bg8I,EAAU5/I,OAASk1I,EACZsyB,GAGX,MAAO,OAGThE,iBAAkB,SAAShwI,GAGzB,IAAK,GAFDqhH,MAEK32J,EAAIs1C,EAAOr1C,OAAS,EAAGD,GAAK,IAAKA,EAAG,CAC3C,GAAIs4B,GAAMgd,EAAO9Z,GAAGx7B,GAAGs4B,IACnBsf,EAAQtC,EAAO9Z,GAAGx7B,GAAG0S,UACzB,IAAIklC,EAAMjyB,QAAS,CACjB,GAAI+7I,GAAY7lK,KAAK60J,QAAQ7E,cAAcvzH,EAC3C,IAAIopI,EAAW,CACb,GAAIA,GAAY7lK,KAAK60J,QAAQ7E,cAAcvzH,EAC3Cq+H,GAAQnvJ,KAAK3L,KAAK0tL,uBAAuB3xI,EAAO8pH,MAItD,MAAOtlK,GAAEm1B,QAAQolI,IAGnB4yB,uBAAwB,SAAS3xI,EAAO8pH,GACtC,GAAI98H,GAAO/oC,KACP86J,IACJ,IAAI/+G,EAAMrjC,SAAWqjC,EAAMrjC,QAAQk9J,iBAAkB,CACnD,GAAIjnB,GAAY5yG,EAAMrjC,QAAQk9J,iBAAiBn8H,MAC/Cl5C,GAAEouJ,GAAWlsJ,KAAK,SAASiO,EAAKvM,GAC9B22J,EAAQnvJ,KAAKo9B,EAAKwkJ,kBAAkB78K,EAAKm1J,EAAUW,YAAYriK,WAE5D,IAAG43C,EAAMrjC,SAAWqjC,EAAMrjC,QAAQoqI,WAAa/mG,EAAMrjC,QAAQoqI,UAAUrpG,OAAQ,CACpF,GAAIk1G,GAAY5yG,EAAMrjC,QAAQoqI,UAAUrpG,MACxCl5C,GAAEouJ,GAAWlsJ,KAAK,SAASiO,EAAKvM,GAC9B22J,EAAQnvJ,KAAKo9B,EAAKwkJ,kBAAkB78K,EAAKm1J,EAAUW,YAAYriK,WAGjE22J,GAAQnvJ,KAAK3L,KAAKutL,kBAAkBxxI,EAAO8pH,GAE7C,OAAOtlK,GAAEk1B,QAAQqlI,GAASz1I,WAG5BgrD,WAAY,SAASS,GAEnBA,EAAQ9iE,IAAMhO,KAAKgO,GAEnB,IAAInD,GAAI09K,EAAQxoJ,OAAO+wC,EAAQxrE,KAAMtF,KAAM8wE,EAsB3C,OApBIjmE,KAEkB,UAAhBimE,EAAQxrE,OACVtF,KAAKqpK,OAASx+J,GAGhB7K,KAAK60J,QAAQxkF,WAAWxlE,GAExB7K,KAAK+vE,SAASpkE,KAAKd,GAEnBA,EAAEgV,KAAK,QAAS,WACd,IAAI,GAAI1b,KAAKnE,MAAK+vE,SAAU,CAC1B,GAAI/rE,GAAIhE,KAAK+vE,SAAS5rE,EACtB,IAAI0G,EAAE4xB,MAAQz4B,EAAEy4B,IAEd,WADAz8B,MAAK+vE,SAAS5hE,OAAOhK,EAAG,KAI3BnE,OAEE6K,GAITy/K,cAAe,SAAS/gC,EAASx7F,GAY/B,QAAS4/H,GAAe72K,GACtB,IAAKyyI,EAAQx5E,SAAU,MAAO,KAC9B,KAAI,GAAI5rE,GAAI,EAAGA,EAAIolJ,EAAQx5E,SAAS3rE,SAAUD,EAC5C,GAAIolJ,EAAQx5E,SAAS5rE,GAAGmB,OAASwR,EAC/B,MAAOyyI,GAAQx5E,SAAS5rE,GAK9B,QAASypL,GAAe92K,GACtB,GAAKyyI,EAAQx5E,SACb,IAAI,GAAI5rE,GAAI,EAAGA,EAAIolJ,EAAQx5E,SAAS3rE,SAAUD,EAC5C,GAAIolJ,EAAQx5E,SAAS5rE,GAAGmB,OAASwR,EAE/B,WADAyyI,GAAQx5E,SAAS5hE,OAAOhK,EAAG,GAkJ/B,QAAS0pL,GAAmBp0I,GAC1B,IAAI,GAAIt1C,GAAI,EAAGA,EAAIs1C,EAAOr1C,SAAUD,EAAG,CACrC,GAAIH,GAAIy1C,EAAOt1C,GAAGuU,OAClB1U,GAAEoxK,OAASrnH,EAAIqnH,OACfpxK,EAAE49I,WAAa7zF,EAAI6zF,WAChBt7G,IACDtiC,EAAE8uK,WAAaxsI,IAhLvBynB,EAAMA,MACNA,EAAMxtD,EAAEy2B,SAAS+2B,GACf+/H,cAAc,EACdriB,eAAe,EACf1qB,YAAY,EACZ20B,SAAS,EACT4V,aAAa,IAEf/hC,EAAQx5E,SAAWw5E,EAAQx5E,aAC3Bw5E,EAAQ9vG,OAAS8vG,EAAQ9vG,WAqBzBz5C,KAAK+gJ,WAAahzF,EAAIgzF,WACtB/gJ,KAAK01K,QAAa3nH,EAAI2nH,QAElB3nH,EAAIsmH,QACNr0K,KAAKq0K,OAAQ,GAGXtmH,EAAI68H,kBACN5qL,KAAK4qL,gBAAkB78H,EAAI68H,iBAGzB78H,EAAI88H,cACN7qL,KAAK6qL,YAAc98H,EAAI88H,aAGzB7qL,KAAKstC,OAASttC,KAAKwqL,iBACnBxqL,KAAKupL,gBAAmBx7H,EAAIggI,eAAiB/tL,KAAKstC,QAAWygB,EAAIigI,aAE7DjgI,EAAIigI,gBAAiB,GAA8B,UAArBjgI,EAAIigI,eACpChuL,KAAKupL,iBAAkB,GAGpBx7H,EAAIvrB,QACP+mH,EAAQ/mH,MAAQ,MAGburB,EAAIitC,cACPuuD,EAAQvuD,YAAc,MAGnBjtC,EAAI+/H,cACPF,EAAe,UAGZ7/H,EAAI09G,eACPmiB,EAAe,UAGS1yJ,SAAtB6yB,EAAIkgI,gBACNlgI,EAAIrsB,OAASqsB,EAAIkgI,gBAGdjuL,KAAKupL,iBAAmBx7H,EAAIrsB,SAC1BisJ,EAAe,WAClBpkC,EAAQx5E,SAASpkE,MACdrG,KAAM,SACNub,MAAO,MAKRktC,EAAIvrB,OAAS+mH,EAAQ/mH,OAAWurB,EAAIitC,aAAeuuD,EAAQvuD,eAE1D2yF,EAAe,WAClBpkC,EAAQx5E,SAAS7qE,SACfI,KAAM,SACNub,MAAO,EACPqtK,YAAWngI,EAAImgI,UACftmK,IAAK2hI,EAAQ3hI,IACblP,SACEkwH,OACEpmG,MAAO+mH,EAAQ/mH,MACfw4D,YAAauuD,EAAQvuD,YACrBu8D,WAAYxpG,EAAIvrB,MAChBm/H,iBAAkB5zG,EAAIitC,iBAQ5BjtC,EAAIk+G,iBACD0hB,EAAe,mBAClBpkC,EAAQx5E,SAASpkE,MACfrG,KAAM,oBAKRyoD,EAAImgI,YAAcluL,KAAKupL,kBACpBoE,EAAe,UAClBpkC,EAAQx5E,SAASpkE,MACfrG,KAAM,QACNub,MAAO,EACP+G,IAAK2hI,EAAQ3hI,OAMf5nB,KAAKupL,kBACPqE,EAAe,QACfA,EAAe,WAGb5tL,KAAKstC,QAAgCpS,SAApB6yB,EAAI4f,cAAgC5f,EAAI4f,cAC3DigH,EAAe,SAGb5tL,KAAKstC,QAA2BpS,SAAf6yB,EAAIrsB,SAA2BqsB,EAAIrsB,SACtDksJ,EAAe,SAIjB,IAAIv4K,GAAOD,SAAS24C,EAAI14C,KACnBrG,OAAMqG,KACTk0I,EAAQl0I,KAAOA,EACfk0I,EAAQ94G,OAAS,KAInB,IAAI09I,GAAa/nL,WAAW2nD,EAAIogI,YAC5BC,EAAahoL,WAAW2nD,EAAIqgI,WAC1Bp/K,OAAMm/K,IAAgBn/K,MAAMo/K,KAChC7kC,EAAQrwG,QAAUi1I,EAAYC,GAC9B7kC,EAAQ94G,OAAS,MAIAvV,SAAf6yB,EAAI7U,SACNqwG,EAAQrwG,OAAS6U,EAAI7U,OACrBqwG,EAAQ94G,OAAS,KAInB,IAAI49I,GAASjoL,WAAW2nD,EAAIsgI,QACxBC,EAASloL,WAAW2nD,EAAIugI,QACxBC,EAASnoL,WAAW2nD,EAAIwgI,QACxBC,EAASpoL,WAAW2nD,EAAIygI,OAS5B,IAPMx/K,MAAMq/K,IAAYr/K,MAAMs/K,IAAYt/K,MAAMu/K,IAAYv/K,MAAMw/K,KAChEjlC,EAAQ94G,SACJ49I,EAAQC,IACRC,EAAQC,KAIVjlC,EAAQ9vG,OAAOr1C,OAAS,EAAG,CAC7B,GAAIkiC,GAAQynB,EAAI+kH,UAYhB,IADA+a,EAAmBtkC,EAAQ9vG,QACvB8vG,EAAQyY,OACV,IAAI,GAAI79J,GAAI,EAAGA,EAAIolJ,EAAQyY,OAAO59J,SAAUD,EAC1C0pL,EAAmBtkC,EAAQyY,OAAO79J,GAAGs1C,UAQ7Cg1I,eAAgB,aAEhB9R,YAAa,SAAS8O,EAAWtvF,GAC/B,GAAI27E,GAAanoG,EAAO5vC,OAAO0rJ,EAAUnmL,MAAQmmL,EAAU1C,KAAM/oL,KAAMyrL,EACvE,OAAOzrL,MAAK60J,QAAQ8nB,YAAY7E,IAGlC4W,WAAY,SAASzxJ,GACnBA,EAAQA,KACR,IAAIgrG,GAAOhrG,EAAMixH,aACblmB,EAAS/qG,EAAMgxH,gBAAkBhmB,EAAO,IAAMA,EAAM,IACpDxlG,EAAWxF,EAAMkxH,iBACjB19I,EAAU,IACVu3H,GAAO/7H,QAAQ,gBAAiB,IAClCw2B,EAAW,OACXulG,EAAS,YACTv3H,EAAU,KAGZ,IAAIs/J,GAAM,GAAIjsB,SAAQ6qC,KACpBC,KAAM3xJ,EAAMi1I,UACZzvI,SAAUA,EACVC,KAAMslG,EACNv3H,QAASA,GAGX,OAAOs/J,IAGTyb,WAAY,SAAS3lB,GACnB,GAAIA,GAAcA,EAAUiQ,gBAAmBjQ,EAAUiQ,iBAAzD,CAGA,IAAI,GAAI3xK,GAAI,EAAGA,EAAI0hK,EAAUH,kBAAmBvhK,EAAG,CACjD,GAAIwG,GAAIk7J,EAAU4P,eAAetxK,EACjC,IAAIwG,EAAG,CACL,IAAKk7J,EAAU6P,QAAS,CACtB,GAAIA,GAAU,GAAIn0B,KAAIgC,IAAIC,GAAGwqB,SAC3BnZ,QAAS70J,KAAK60J,QACd94G,MAAO8pH,EACP5sI,SAAUtuB,EAAEsuB,SACZpjB,SAAU,eACVwvJ,gBAAiB,GACjBC,kBAAmB,EACnB1I,OAAQjyJ,EAAEiyJ,OACV4R,cAAe,eAEjB3I,GAAU6P,QAAUA,EACpB11K,KAAK60J,QAAQxkF,WAAWqlG,GACxB7P,EAAUhmJ,KAAK,SAAU,WACvB7f,KAAK01K,QAAQpuJ,UAGjBu+I,EAAUiL,eAAe3sK,GAAG,IAI5B0hK,EAAU6P,SACZ7P,EAAUhmJ,KAAK,cAAe,SAASve,EAAG61C,EAAQ5lB,EAAK/oB,EAAMuzC,GAC3D,GAAIpxC,GAAIk7J,EAAU4P,eAAe15H,EAC7BpxC,IACFk7J,EAAU6P,QAAQ5H,YAAYnjK,EAAEsuB,UAChC4sI,EAAU6P,QAAQrH,UAAU1jK,EAAEiyJ,QAC9BiJ,EAAU6P,QAAQpH,oBAAoB3jK,EAAEgyJ,mBACxCkJ,EAAU6P,QAAQr4H,UAElBwoH,EAAU6P,QAAQrkK,cAM1BggJ,cAAe,SAASwU,GAEtB,GAAIA,EAAUgQ,mBAAsBhQ,EAAUgQ,oBAA9C,CASA,IAAI,GALAhhB,GAAU70J,KAAK60J,QACfl9E,EAAY,eACZopE,EAAa,KAGT58I,EAAI,EAAGA,EAAI0hK,EAAUH,kBAAmBvhK,EAE1C0hK,EAAU8P,kBAAkBxxK,KAC1B48I,IACFA,EAAawnC,EAAQxoJ,OAAO,aAAc//B,KAAM6lK,EAAU8P,kBAAkBxxK,IAAI,GAChF0wJ,EAAQxD,cAActQ,IAExB8kB,EAAUiL,eAAe3sK,GAAG,GAIhC,IAAI48I,EAAJ,CAIAA,EAAWlhI,KAAK,QAAS,WAGvB,IAAI,GAAI1b,GAAI,EAAGA,EAAI0hK,EAAUH,kBAAmBvhK,EAAG,CACjD,GAAIwG,GAAIk7J,EAAU6P,OACd/qK,IACFA,EAAEyjK,UAAU,SAOlBvI,EAAUhmJ,KAAK83D,EAAW,SAASr2E,EAAG61C,EAAQ5lB,EAAK/oB,EAAMuzC,GAErD,GAAI8yI,GAAmBhpB,EAAU8P,kBAAkB55H,EACnD,IAAK8yI,EAAL,CACA,GAAIjyB,GAASr8J,EAAEg0B,MAAMs6J,EAAiBjyB,OAAQ,QAC1CkyB,EAAatmL,EAAKsmL,UAEtBjpB,GAAU6N,gBAAgB33H,EAAO+yI,EAAYlyB,EAAQ,SAAS/lJ,GAI5D,GAAI+xH,GAAQroI,EAAEy2B,UAEVne,OAAQg2K,EAAiBh2K,OACzBjX,MAAOitL,EAAiBjtL,MACxBqvD,UAAW49H,EAAiB59H,WAE9BswF,IAAIgC,IAAIC,GAAGiZ,gBAAgBpxJ,UAAU2rB,SAGvC+pH,GAAWvjH,MAAMnlB,KACfukJ,OAAUiyB,EAAiBjyB,OAC3B3jI,SAAY41J,EAAiB51J,SAC7B81J,cAAiBF,EAAiBE,cAClCpyB,kBAAqBkyB,EAAiBlyB,kBACtCqyB,iBAAoBH,EAAiBG,iBACrCn2K,OAAU+vH,EAAM/vH,OAChBjX,MAASgnI,EAAMhnI,MACfqvD,UAAa23E,EAAM33E,YAGjBp6C,GACFkqI,EAAWvjH,MAAM2gI,cAActnJ,GAC/BkqI,EAAWsgB,aAEXtgB,EAAW+f,aAKf/f,EACGj0F,UAAU3V,GACV0pH,aACAG,iBAEC6E,EAAU6P,SACZ7P,EAAU6P,QAAQtH,UAAU,SAAS9vG,GACnC,MAAOA,GAAQwwH,aAAeA,IAC7Br/J,SAMTo2I,GAAUhmJ,KAAK,YAAa,WAC1Bg1I,EAAQsoB,UAAU,aAGpBtX,EAAUhmJ,KAAK,WAAY,SAAS/b,EAAGi4C,GACrC84G,EAAQsoB,UAAU,UAGpBtX,EAAU9kB,WAAaA,EAAWvjH,SAGpC6tJ,YAAa,SAAUxlB,GACrB,GAAIA,EAAW,CACb,GAAI98H,GAAO/oC,KAEPopK,EAAe,WACjBrgI,EAAKqgI,gBAGHE,EAAY,WACdvgI,EAAKugI,YAGPzD,GAAUhmJ,KAAK,UAAWupJ,GAC1BvD,EAAUhmJ,KAAK,OAAWypJ,KAK9BF,aAAc,WAERppK,KAAKstL,eACPttL,KAAKstL,cAAclkB,eAGjBppK,KAAKqpK,QACPrpK,KAAKqpK,OAAO95I,OAEY,IAAvBvvB,KAAK8oK,eACJ9oK,KAAKwO,QAAQ,WAEjBxO,KAAK8oK,iBAGPQ,UAAW,WAELtpK,KAAKstL,eACPttL,KAAKstL,cAAchkB,YAGjBtpK,KAAKqpK,QACPrpK,KAAKqpK,OAAO55I,OAEdzvB,KAAK8oK,gBAGF9oK,KAAK8oK,eAAiB,IACvB9oK,KAAK8oK,cAAgB,EACrB9oK,KAAKwO,QAAQ,UAIjB67K,WAAY,SAAS33F,EAAK0/D,GACxB7Q,IAAInqG,IAAI3yC,MAAMiuF,EACd,IAAI3pD,GAAO/oC,IACXO,GAAEg2B,MAAM,WACNwS,EAAKv6B,QAAQ,QAASkkF,EAAK0/D,MAI/B3tJ,MAAO,SAAS8F,GACd,MAAOvK,MAAK6f,KAAK,QAAStV,IAG5BwH,KAAM,SAASxH,GACb,MAAOvK,MAAK6f,KAAK,OAAQtV,IAO3B6yK,aAAc,WACZ,MAAOp9K,MAAK60J,QAAQuoB,gBAItB5qH,UAAW,WACT,GAAIzpB,GAAO/oC,IACX,OAAOO,GAAEk1B,QAAQz1B,KAAKgO,IAAIyrC,OAAOzrC,IAAI,SAAS+tC,GAC5C,MAAOhT,GAAK8rH,QAAQ7E,cAAcj0G,EAAMtf,SAI5CwyJ,YAAa,WACX,MAAOjvL,MAAK+vE,UAGdm/G,WAAY,SAAS5pL,GACnB,MAAO/E,GAAEP,KAAK+vE,UAAU7iE,KAAK,SAASrC,GACpC,MAAOA,GAAEvF,MAAQA,KAIrB6pL,kBAAmB,SAAS7pL,GAC1B,MAAO/E,GAAEP,KAAK+vE,UAAU7mE,OAAO,SAAS2B,GACtC,MAAOA,GAAEvF,MAAQA,KAIrBwzC,UAAW,WAET34C,EAAE4O,QAAQ+Q,OAAO,SAAU9f,KAAK84C,UAEhC,IAAI/P,GAAO/oC,IAEX+oC,GAAK8rH,QAAQl4G,iBAIb15C,WAAW,WAET,GAAI/B,GAAI6nC,EAAKmzI,SAETh7K,GAAEyvJ,eAEJ5nH,EAAK8rH,QAAQ7mJ,IAAI6uD,WACf37D,EAAEyvJ,eACFzvJ,EAAE0vJ,iBAKJ7nH,EAAK8rH,QAAQ7mJ,IAAIqK,KACf6gC,OAAQh4C,EAAEg4C,OACV7jC,KAAMnU,EAAEmU,QAIX,MAGLm1K,eAAgB,WACd,MAAO,4DAA4DvlL,KAAK6E,UAAUoB,cAYpFmmJ,cAAe,SAASrjJ,EAAK+tC,EAAO6gH,EAAQzgE,GAC1C,GAAIzjF,GAAUnY,EAAEy2B,SAASmlE,OACvBgnE,mBAAoB5hB,IAAIoC,IAAIyrC,oBAAoBC,MAChD14B,aAAc,WACd24B,aAAc,eACdC,aAAc,QACdC,eACAC,mBAAmB,GAGrB,KAAIzhL,EAAK,KAAM,IAAIkB,OAAM,mBACzB,KAAI6sC,EAAO,KAAM,IAAI7sC,OAAM,qBAC3B,KAAI0tJ,GAA4B1hI,SAAlB0hI,EAAOx4J,OAAuB,KAAM,IAAI8K,OAAM,qCAE5D,IAAIvO,KACJi8J,GAASA,EAAOj6J,OAAO+V,EAAQ82K,YAC/B,KAAI,GAAIrrL,GAAI,EAAGA,EAAIy4J,EAAOx4J,SAAUD,EAClCxD,EAAEgL,MAAOmL,KAAM8lJ,EAAQ/7I,MAAO1c,GAGhC,IAAIqgK,GAAkB,GAAIjjB,KAAIgC,IAAIC,GAAGiZ,iBACnCG,OAAQj8J,EACR8mJ,cAAe/uI,EAAQ62K,eAGrBxuC,EAAa,GAAIQ,KAAIgC,IAAIC,GAAGgO,YAC7Bh0H,MAAOgnI,EACP3P,QAAS7mJ,EAAI0hL,IAAI76B,QACjB57H,SAAU,GAAIsoH,KAAIC,KAAKoF,UACrB3tH,SAAUvgB,EAAQyqJ,mBAClB79J,KAAMoT,EAAQi+I,eACbvP,cAGNp5I,GAAI0hL,IAAI76B,QAAQxD,cAActQ,EAI9B,KACEhlG,EAAM80H,iBAAiBjU,GACvB,MAAMt7J,IAwCR,MAtCAy6C,GAAM+0H,gBAAe,GAErB/0H,EAAMl8B,KAAKnH,EAAQ42K,aAAc,SAAShuL,EAAG61C,EAAQ5lB,EAAK/oB,EAAMuzC,GAG9D,IAAK,GADD36C,GADAk9J,KAEK39J,EAAI,EAAGA,EAAIi8J,EAAOx4J,SAAUzD,EAAG,CACtC,GAAI49J,GAAQ3B,EAAOj8J,IACfS,EAAIoH,EAAK+1J,KACXD,EAAc3yJ,MACZ62B,MAAO+7H,EACPz2J,MAAO1G,EACPojB,MAAO,IAKbu8H,EAAWvjH,MAAMnlB,KACfsrB,SACEi5H,OAAQ0B,EACR91J,KAAMA,KAIVu4I,EACGj0F,UAAU3V,GACV6pH,iBACHjgB,EAAWsgB,aACVtgB,GAGHA,EAAWlhI,KAAK,QAAS,WACvBk8B,EAAMj8B,OAAOpH,EAAQ42K,aAAc,KAAMvuC,KAGxCroI,EAAQ+2K,mBACTluC,IAAIoC,IAAIslC,IAAI0G,qBAAqB3hL,EAAK+tC,GAGjCglG,GAIT4uC,qBAAsB,SAAS3hL,EAAK+tC,GAClC,GAAI84G,GAAU7mJ,EAAI0hL,IAAI76B,OACtB94G,GAAMl8B,KAAK,YAAa,WACtBg1I,EAAQsoB,UAAU,aAGpBphI,EAAMl8B,KAAK,WAAY,SAAS/b,EAAGi4C,GACjC84G,EAAQsoB,UAAU,WAItByS,wBAAyB,SAAS5hL,EAAK+tC,GACrC,GAAI84G,GAAU7mJ,EAAI0hL,IAAI76B,OACtB94G,GAAMj8B,OAAO,KAAM,KAAM+0I,KAK7BtT,KAAIoC,IAAIyrC,qBACNC,OACE,iCACA,kEACA,8CACE,sCACE,sBACE,yCACA,aACE,4DACF,aACA,aACE,4BACF,aACF,sBACF,SACF,SACA,kDACF,UACEthL,KAAK,KAGTwzI,IAAIoC,IAAIslC,IAAMA,KAGd,WAEE4G,MAAQ,WAGN7vL,KAAK8vL,YAGL9vL,KAAK+vL,UAAY,KAGjB/vL,KAAKgwL,UAAW,GAIlBH,MAAMxkL,WAGJ9C,IAAK,SAASgC,GAGRvK,KAAKgwL,SAGPzlL,EAAGvK,KAAK+vL,WAGR/vL,KAAK8vL,SAASnkL,KAAKpB,IAKvB0lL,MAAO,SAASxyJ,GAGd,IAAIz9B,KAAKgwL,SAWT,IANAhwL,KAAK+vL,UAAYtyJ,EAGjBz9B,KAAKgwL,UAAW,EAGThwL,KAAK8vL,SAAS,IACnB9vL,KAAK8vL,SAAShrL,QAAQ24B,KAO5ByyJ,YAAc,WAEZ9uC,QAAQp4I,KAAKhJ,KAAMA,MAEnBA,KAAKmwL,gBAELnwL,KAAKyE,MAAQ,KAEbzE,KAAKowL,mBAAqB,MAAO,OAEjCpwL,KAAKg3B,UACHq5J,qBAAsB,6DACtBC,oBAAqB,IAAK,IAAK,KAC/B/mI,OAAQ,MACRl0C,KAAM,GACN6jC,QAAS,EAAG,GACZ7rC,MAAQ,IAAK,KACb0gJ,WAAY,GACZD,aAAc,cAKlBoiC,YAAY7kL,UAAY9K,EAAEmF,UAAW07I,QAAQ/1I,WAE3C+S,KAAM,SAASmrI,EAAS7wI,GAgBtB,MAdAnY,GAAE61B,QAAQp2B,KAAM,gBAEhBA,KAAKmX,MAAQ,GAAI04K,OAEjB7vL,KAAKo1K,OAAS18J,EAAQ08J,OAEtBp1K,KAAKuwL,YAAc73K,EAEnBA,EAAUnY,EAAEy2B,UAAWuyH,QAASA,EAASinC,QAAS,IAAMxwL,KAAKywL,YAAczwL,KAAKg3B,UAEhFh3B,KAAKmwL,aAAez3K,EAEpB6oI,IAAIC,KAAKyH,OAAO17I,IAAIg8I,EAASvpJ,KAAK0wL,cAE3B1wL,MAIT2wL,oBAAqB,SAASluC,EAAiB/pI,GAM7C,MAFA1Y,MAAKmX,MAAQ,GAAI04K,OAEZptC,EAAgByvB,WAKrBlyK,KAAKuwL,YAAc73K,EAEnB1Y,KAAK0Y,QAAQk6J,QAAiBnwB,EAAgBmwB,QAC9C5yK,KAAK0Y,QAAQw5J,UAAiBzvB,EAAgByvB,UAC9ClyK,KAAK0Y,QAAQs1I,eAAiBvL,EAAgBuL,eAC9ChuJ,KAAK0Y,QAAQo1I,aAAiBrL,EAAgBqL,aAC9C9tJ,KAAK0Y,QAAQq1I,WAAiBtL,EAAgBsL,WAC9C/tJ,KAAK0Y,QAAQ4pI,kBAAoBG,EAAgBH,kBACjDtiJ,KAAK0iJ,SAAW,cAEX1iJ,KAAK0Y,QAAQ4pI,mBAChBtiJ,KAAKuiJ,sBAAsBviJ,KAAK0Y,SAGlC1Y,KAAK0Y,QAAQ+gC,OAASgpG,MAEtBziJ,MAAK4wL,4BApBH9sC,SAAQ1sG,IAAI3yC,MAAM,iCAwBtBisL,aAAc,SAASloL,GAErB,GAAIA,EAAM,CAER,GACI+nJ,GAAY/nJ,EAAKixC,OAAO,GACxBo3I,EAAY7wL,KAAK8wL,cAActoL,EAAKixC,OAEpCo3I,GAAUn4K,UACZ1Y,KAAK0Y,QAAQw5J,UAAY2e,EAAUn4K,QAAQw5J,WAIxC2e,EAAUn4K,QAAQ4pI,kBAGrBtiJ,KAAK0Y,QAAQ4pI,kBAAoBuuC,EAAUn4K,QAAQ4pI,kBAFnDtiJ,KAAK+wL,yBAAyBF,EAAUn4K,QAAQs1I,eAAgB6iC,EAAUn4K,QAAQo1I,aAAc+iC,EAAUn4K,QAAQq1I,YAKpH/tJ,KAAKgxL,YAAcxoL,EAAKwoL,YACxBhxL,KAAK0iJ,SAAW,aAEhB,IAAI74F,MACApZ,EAASjoC,EAAKioC,MAEdA,KACFoZ,EAAKl+C,MAAM8kC,EAAO,GAAG,GAAIA,EAAO,GAAG,KACnCoZ,EAAKl+C,MAAM8kC,EAAO,GAAG,GAAIA,EAAO,GAAG,MAGrCzwC,KAAKmwL,aAAa96K,KAAS7M,EAAK6M,KAChCrV,KAAKmwL,aAAaj3I,OAAS/pC,KAAKC,MAAM5G,EAAK0wC,QAC3Cl5C,KAAKmwL,aAAatmI,KAASA,EAC3B7pD,KAAKmwL,aAAa1/I,OAASjoC,EAAKioC,OAE5B8/G,GAAaA,EAAU73I,UACzB1Y,KAAKmwL,aAAac,QAAU1gC,EAK9B,IAAI2gC,IAAoB,EACpBC,EAAWnxL,KAAKoxL,gBAAgB5oL,EAAKixC,OAAQ,WAEjD,IAAI03I,EAAU,CACZ,GAAIvT,GAAS59K,KAAKoxL,gBAAgB5oL,EAAKixC,OAAQ,SAE3CmkI,IAAUA,EAAOllK,SAAWklK,EAAOllK,QAAQoqI,WAEzC86B,EAAOllK,QAAQoqI,UAAUhsI,OAASq6K,EAASz4K,QAAQoqI,UAAUhsI,OAC/Do6K,GAAoB,GAK1B,GAAIz3I,MACAw3I,EAAUjxL,KAAKqxL,kBAEfJ,IACFx3I,EAAO9tC,KAAKslL,EAId,KAAK,GADDK,GACKntL,EAAI,EAAGA,EAAIqE,EAAKixC,OAAOr1C,OAAQD,IAAK,CAC3C,GAAI43C,GAAQvzC,EAAKixC,OAAOt1C,EAExB,IAAmB,WAAf43C,EAAMz2C,MAAsB4rL,GAEzB,GAAmB,aAAfn1I,EAAMz2C,KACfm0C,EAAO9tC,KAAK3L,KAAKuxL,4BAA4Bx1I,QACxC,IAAmB,UAAfA,EAAMz2C,KACfgsL,EAActxL,KAAKwxL,cAAcz1I,OAC5B,IAAmB,WAAfA,EAAMz2C,MAAoC,aAAfy2C,EAAMz2C,KAG1C,IAAK,GAFDg3F,GAAKt8F,KAAKyxL,8BAA8B11I,GAEnCn4C,EAAI,EAAGA,EAAI04F,EAAGl4F,OAAQR,IAC7B61C,EAAO9tC,KAAK2wF,EAAG14F,QATjB61C,GAAO9tC,KAAK3L,KAAK0xL,0BAA0B31I,IAgB3Cu1I,GACF73I,EAAO9tC,KAAK2lL,GAGdtxL,KAAK0Y,QAAQ+gC,QAAWA,OAAQA,GAChCz5C,KAAK4wL,yBAITE,cAAe,SAASr3I,GACtB,MAAOz5C,MAAKoxL,gBAAgB33I,EAAQ,aAClCz5C,KAAKoxL,gBAAgB33I,EAAQ,eAC3Bz5C,KAAKoxL,gBAAgB33I,EAAQ,WAGnC64H,cAAe,WAGb,MAAOtyK,MAAK0Y,QAAQ+gC,OAAOA,QAG7B23I,gBAAiB,SAAS33I,EAAQn0C,GAChC,MAAO/E,GAAE2M,KAAKusC,EAAQ,SAASsC,GAAS,MAAOA,GAAMz2C,OAASA,KAGhEyrL,yBAA0B,SAAStuJ,EAAUulG,EAAQC,GAEnDjoI,KAAK0Y,QAAQo1I,aAAiB9lB,EAC9BhoI,KAAK0Y,QAAQs1I,eAAiBvrH,EAC9BziC,KAAK0Y,QAAQq1I,WAAiB9lB,EAE9BjoI,KAAKuiJ,sBAAsBviJ,KAAK0Y,UAIlC/B,OAAQ,WACN,MAAO3W,MAAK0Y,QAAQ+gC,QAGtBm3I,qBAAsB,WAEpB,GAAI7nJ,GAAO/oC,IAEXA,MAAKmyK,UAAU,SAAS3pK,EAAM/D,GAExBA,IACFskC,EAAKtkC,MAAQA,GAGX+D,IACFugC,EAAKonJ,aAAa5e,aAAe/oK,EAAK+oK,aACtCxoI,EAAKslH,QAAU7lJ,EAAK6lJ,SAGtBtlH,EAAK5xB,MAAM84K,MAAMjwL,SAMrB2xL,wBAAyB,WAEvB,OACErsL,KAAM,OACNoT,SACEm0I,YAAa7sJ,KAAKg3B,SAASq5J,qBAC3BvsI,WAAa9jD,KAAKg3B,SAASs5J,sBAMjCkB,cAAe,SAASP,GAEtB,GAAIpkC,GAAcokC,EAAQv4K,QAAQm0I,WAElC,OAAKA,IAKHvnJ,KAAM,OACNoT,SACEm0I,YAAaA,EACb/oG,WAAYmtI,EAAQv4K,QAAQorC,YAAc9jD,KAAKg3B,SAASs5J,qBAPnD,MAaXsB,sBAAuB,SAASt+H;AAE9B,OACEhuD,KAAM,QACNoT,SACE46C,MAAOA,KAMb+9H,iBAAkB,WAEhB,GAAIJ,GAAUjxL,KAAKuwL,YAAYU,SAAWjxL,KAAKmwL,aAAac,OAE5D,IAAIA,EAAS,CAGX,GAAI3rL,GAAO2rL,EAAQ3rL,KAAKf,aAMxB,OAJI0sL,GAAQv4K,SAAWu4K,EAAQv4K,QAAQpT,OACrCA,EAAO2rL,EAAQv4K,QAAQpT,KAAKf,eAGjB,UAATe,EACKtF,KAAK4xL,sBAAsBX,EAAQv4K,QAAQ46C,OAE3CtzD,KAAKwxL,cAAcP,GAK9B,MAAOjxL,MAAK2xL,2BAIdD,0BAA2B,SAAS9b,GAElC,GAAIA,EAAiBl9J,QAAQoqI,UAC3B,MAAO9iJ,MAAKuxL,4BAA4B3b,EAG1C,IAAInzB,GAAkB,GAAID,iBAAgBozB,EAAkBA,EAAiBl9J,SAEzEwvH,EAAWua,EAAgB/pI,QAAQwvH,OAAS,iBAAmBua,EAAgB/pI,QAAQ0tJ,WACvF6J,EAAW2F,EAAiBl9J,QAAQm+J,UAExC,QACEvxK,KAAM,SACNoT,SACE0Y,KAAMpxB,KAAKuwL,YAAYn/J,MAAQ,EAC/B2+I,IAAK7nC,EACL+nC,SAAUA,KAMhBwhB,8BAA+B,SAAS11I,GAEtC,GAAIrjC,GAAUqjC,EAAMrjC,OAEpBA,GAAQk9J,iBAAiBn8H,OAASz5C,KAAK6xL,kBAAkBn5K,EAAQk9J,iBAAiBn8H,OAElF,IAAIgpG,GAAkB,GAAID,iBAAgB9pI,EAAQk9J,iBAAkBl9J,EAEpE,OAAO+pI,GAAgB9rI,SAAS8iC,QAIlC83I,4BAA6B,SAASx1I,GAEpC,GAAIrjC,GAAUqjC,EAAMrjC,QAEhB+pI,EAAkB,GAAII,UAASnqI,EAAQoqI,UAAWpqI,GAElDA,GACF5B,KAAM2rI,EAAgBK,UAAUhsI,KAOlC,OAJI9W,MAAKgxL,aAAehxL,KAAKgxL,YAAY5sL,OAAS,IAChDsU,EAAQs4K,YAAchxL,KAAKgxL,cAI3B1rL,KAAM,QACNoT,QAASA,IAKbm5K,kBAAmB,SAASp4I,GAC1B,MAAOl5C,GAAE2I,OAAOuwC,EAAQ,SAASsC,GAAS,MAAOA,GAAMjyB,WAGzDgoK,QAAS,WAEP,GACIjoI,IADe7pD,KAAK0Y,QAAQw5J,UACblyK,KAAKmwL,aAAatmI,MACjC0nH,EAAevxK,KAAKmwL,aAAa5e,aACjCl8J,EAAerV,KAAKmwL,aAAa96K,MAAUrV,KAAKg3B,SAAS3hB,KACzD6jC,EAAel5C,KAAKmwL,aAAaj3I,QAAUl5C,KAAKg3B,SAASkiB,OACzD7rC,EAAerN,KAAKmwL,aAAa9iL,MAAUrN,KAAKg3B,SAAS3pB,KACzDk8C,EAAevpD,KAAKmwL,aAAa5mI,QAAUvpD,KAAKg3B,SAASuyB,OAEzDrV,EAASgF,EAAO,GAChB9D,EAAS8D,EAAO,GAEhBt3C,EAASyL,EAAK,GACdxL,EAASwL,EAAK,GAEd4nK,EAAUj1K,KAAKs0K,UAAY,KAAO,IAElC1sJ,EAAM5nB,KAAKuzK,MAAM0B,GAAWj1K,KAAK0iJ,QAErC,OAAI74F,IAAQA,EAAKzlD,SAAWpE,KAAKuwL,YAAYwB,eACnCnqK,EAAK,cAAgB2pJ,EAAc1nH,EAAK97C,KAAK,KAAMnM,EAAOC,EAAS,IAAM0nD,GAAQx7C,KAAK,MAEtF6Z,EAAK,gBAAkB2pJ,EAAcl8J,EAAM6+B,EAAKkB,EAAKxzC,EAAOC,EAAS,IAAM0nD,GAAQx7C,KAAK,MAMpG0iL,SAAU,WACR,GAAIuB,GAAK,WACP,OAA2B,OAAjB,EAAEhiL,KAAKqG,UAAmB,GAAG/K,SAAS,IAAIyL,UAAU,GAEhE,OAAQi7K,KAAKA,IAAK,IAAIA,IAAK,IAAIA,IAAK,IAAIA,IAAK,IAAIA,IAAKA,IAAKA,KAI7DC,KAAM,SAASn7K,EAAMhP,GAEnB,GAAIihC,GAAO/oC,IAMX,OAJAA,MAAKmX,MAAM5O,IAAI,WACbwgC,EAAKonJ,aAAar5K,GAAQhP,IAGrB9H,MAITqV,KAAM,SAASA,GACb,MAAOrV,MAAKiyL,KAAK,OAAQ58K,IAG3Bw0C,KAAM,SAASA,GACb,MAAO7pD,MAAKiyL,KAAK,OAAQpoI,IAG3B3Q,OAAQ,SAASA,GAEf,MADAl5C,MAAKiyL,KAAK,OAAQ,MACXjyL,KAAKiyL,KAAK,SAAU/4I,IAG7BqQ,OAAQ,SAASA,GACf,MAAOvpD,MAAKiyL,KAAK,SAAU1xL,EAAE8zB,QAAQr0B,KAAKowL,kBAAmB7mI,GAAUA,EAASvpD,KAAKg3B,SAASuyB,SAGhGl8C,KAAM,SAASzL,EAAOC,GACpB,MAAO7B,MAAKiyL,KAAK,QAASrwL,EAAkBs5B,SAAXr5B,EAAuBD,EAAQC,KAOlEqwL,KAAM,SAAShnI,GAEb,GAAIniB,GAAO/oC,IAEX,OAAMkrD,aAAeinI,mBAKrBnyL,KAAKmwL,aAAa9iL,MAAQ69C,EAAItpD,MAAOspD,EAAIrpD,YAEzC7B,MAAKmX,MAAM5O,IAAI,SAAS6pL,GACtBlnI,EAAIxjC,IAAMqhB,EAAK+oJ,iBAPfhuC,SAAQ1sG,IAAI3yC,MAAM,2BAetB4tL,OAAQ,SAASv2J,GAEf,GAAIiN,GAAO/oC,IAEXA,MAAKmX,MAAM5O,IAAI,WACTuzB,GACFA,EAASiN,EAAKtkC,MAAOskC,EAAK+oJ,cAShC3vL,MAAO,SAAS0U,GAEd,GAAIkyB,GAAO/oC,IAwBX,OAtBAA,MAAKmwL,aAAat5K,WAAaA,EAE3BA,GAAcA,EAAW6Q,IAC3BxlB,SAASC,MAAM,YAAcnC,KAAKmwL,aAAaK,QAAU,UAAa35K,EAAW6Q,IAAM,QAEvFxlB,SAASC,MAAM,YAAcnC,KAAKmwL,aAAaK,QAAU,QAG3DxwL,KAAKmX,MAAM5O,IAAI,WAEb,GAAIu7B,GAAU5hC,SAAS8K,eAAe+7B,EAAKonJ,aAAaK,QAExD1sJ,GAAQpc,IAAMqhB,EAAK+oJ,UACnBhuJ,EAAQ/7B,gBAAgB,UAExB,IAAI8O,GAAakyB,EAAKonJ,aAAat5K,UAE/BA,IAAcA,EAAWsC,OAAS2qB,EAAQlxB,aAAa,QAASiE,EAAWsC,OAC3EtC,GAAcA,EAAW5J,IAAS62B,EAAQlxB,aAAa,KAAMiE,EAAW5J,MAIvEjN,QAKXuhJ,IAAIptD,MAAQ,SAAS3rF,EAAMkQ,GAEpBA,IAASA,KAEd,IAAIiK,GAAQ,GAAIutK,YAQhB,OANoB,gBAAT1nL,GACTma,EAAMvE,KAAK5V,EAAMkQ,GAEjBiK,EAAMguK,oBAAoBnoL,EAAMkQ,GAG3BiK,MAKX,WAEA4+H,IAAIoC,IAAI4kC,QAAQE,SAAS,OAAQ,SAASjgL,EAAMm7I,MAIhDpC,IAAIoC,IAAI4kC,QAAQE,SAAS,oBAAqB,SAASjgL,EAAMm7I,GAE3D,GAAIse,GAAoB,GAAI1gB,KAAIgC,IAAIC,GAAG0e,kBACrCC,YAAa35J,EAAK25J,YAClB8E,cAAetjB,GAGjB,OAAOse,GAAkBx+H,WAI3B89G,IAAIoC,IAAI4kC,QAAQE,SAAS,SAAU,SAASjgL,EAAMm7I,GAEhD,GAAI1qH,GAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,8dAkBjBzwB,EAAKmuJ,cAAgB,YAGnBrpH,EAAS,GAAIi0G,KAAIgC,IAAIC,GAAG2kB,QAC1BlvI,SAAUA,EACV47H,QAASlR,EAAIkR,QACb9kF,SAAUvnE,EAAKunE,SACfoyF,YAAa35J,EAAK25J,YAClB4G,YAAavgK,EAAKw5J,OAClBiF,cAAetjB,EACfkiB,UAAWr9J,EAAKq9J,UAChBmD,mBAAoBxgK,EAAKkQ,QACzB00J,YAAa5kK,EAAK4kK,YAClBp/J,IAAKxF,EAAKwF,KAGZ,OAAOs/B,GAAO7J,WAGhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,QAAS,SAASjgL,EAAMm7I,GAE/C,GAAIjrI,GAAUlQ,EAAKkQ,QAEfugB,EAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,6FAIjBzwB,EAAKmuJ,cAAgB,YAGnBgyB,EAAS,GAAIpnC,KAAIgC,IAAIC,GAAGrvD,OAC1B32D,MAAO,GAAI+jH,KAAIC,KAAKnlH,MAAM3jB,GAC1BugB,SAAUA,GAGZ,OAAO0vJ,GAAOllJ,WAIhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,OAAQ,SAASjgL,EAAMm7I,GAE9C,GAAIjrI,GAAUlQ,EAAKkQ,QAEfugB,EAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,0FAIjBzwB,EAAKmuJ,cAAgB,YAGnBgyB,EAAS,GAAIpnC,KAAIgC,IAAIC,GAAG2P,MAC1B31H,MAAO,GAAI+jH,KAAIC,KAAKnlH,MAAM3jB,GAC1BugB,SAAUA,EACV3lB,UAAW,gCAAkCoF,EAAQg9I,QAGvD,OAAOizB,GAAOllJ,WAIhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,aAAc,SAASjgL,EAAMm7I,GAEpD,GAAIjrI,GAAUlQ,EAAKkQ,QAEfugB,EAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,+IAKjBzwB,EAAKmuJ,cAAgB,YAGnBj+I,EAAUlQ,EAAKkQ,QAEfiwK,EAAS,GAAIpnC,KAAIgC,IAAIC,GAAG+Q,YAC1BjhJ,UAAW,sCAAwCoF,EAAQg9I,OAC3Dz8H,SAAUA,EACV47H,QAASlR,EAAIkR,QACba,OAAQh9I,EAAQg9I,OAChB7tJ,KAAM6Q,EAAQkwH,MAAM0rB,cACpBt4G,QAAStjC,EAAQnS,MAAM,YACvB80C,QAAS3iC,EAAQnS,MAAM,YACvB4wC,OAAQz+B,EAAQkwH,MAAMzxF,OACtB5wC,MAAOmS,EAAQnS,OAGjB,OAAOoiL,GAAOllJ,WAKhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,YAAa,SAASjgL,EAAMm7I,MAIrDpC,IAAIoC,IAAI4kC,QAAQE,SAAS,SAAU,SAASjgL,EAAMm7I,GAEhD,GAAIjrI,GAAUlQ,EAAKkQ,QAEfugB,EAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,sIAKjBzwB,EAAKmuJ,cAAgB,YAGnBgyB,EAAS,GAAIpnC,KAAIgC,IAAIC,GAAGke,QAC1BlkI,MAAO,GAAI+jH,KAAIC,KAAKnlH,MAAM3jB,GAC1BypJ,YAAa35J,EAAK25J,YAClBH,OAAQre,EAAIqe,OACZ/oI,SAAUA,GAGZ,OAAO0vJ,GAAOllJ,WAKhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,OAAQ,SAASjgL,EAAMm7I,GAE9C,IAAIn7I,EAAKywB,SAEP,WADA0qH,GAAIn1I,QAAQ,QAAS,yBAIvB,IAAI6G,GAAO,GAAIksI,KAAIgC,IAAIC,GAAG12E,MACxBtvC,MAAOh1B,EAAKwF,IACZirB,SAAUsoH,IAAIC,KAAKoF,SAASG,QAAQv+I,EAAKywB,WAG3C,OAAO5jB,GAAKouB,WAKd89G,IAAIoC,IAAI4kC,QAAQE,SAAS,SAAU,SAASjgL,GAE1C,GAAI8pL,GAAc,GAAI/wC,KAAIgC,IAAIC,GAAG2oB,aAC/BlzI,SAAUsoH,IAAIC,KAAKoF,SAASG,QAAQv+I,EAAKywB,WAG3C,OAAOq5J,GAAY7uJ,WAGrB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,cAAe,SAASjgL,EAAMknL,GACrD,GAAI3kB,GAAS,GAAIxpB,KAAIgC,IAAIC,GAAG8pB,WAAW9kK,EACvC,OAAOuiK,GAAOtnI,WAKhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,UAAW,SAASjgL,EAAMm7I,GAmCjD,QAAS4uC,GAAS1yL,EAAGuE,GACnB,MAAOvE,GAAEmG,OAAO,EAAG5B,EAAO,IAAMvE,EAAEuE,OAASA,EAAS,IAAM,IAhCxD2F,SAASgQ,KACXvR,EAAKkuJ,UAAY5oI,mBAAmB/jB,SAASgQ,MAE7CvR,EAAKkuJ,UAAYluJ,EAAKof,GAGxB,IAiCI48J,GAjCAvrJ,EAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,4qBAqBjBzwB,EAAKmuJ,cAAgB,YAOnBn0H,EAAch6B,EAAKwF,IAAIT,IAAI,SAC3BytF,EAAcxyF,EAAKwF,IAAIT,IAAI,eAE3BilL,EAAiBhwJ,EAAQ,KAAOw4D,CAIlCwpF,GADEhiJ,GAASw4D,EACKu3F,EAAS/vJ,EAAQ,KAAOw4D,EAAa,KAAO,WACnDx4D,EACO+vJ,EAAS/vJ,EAAO,KAAO,UAC9Bw4D,EACOu3F,EAASv3F,EAAa,KAAO,UAE7B,QAGlB,IAAIkzF,GAA+B,SAAlB1lL,EAAK0lL,WAAyB1lL,EAAK0lL,UAAoB1lL,EAAK0lL,UAAZ,KAC7DuE,EAAmBvE,CAEvBuE,GAAmBA,GAAqB,iEAAiExtL,KAAK6E,UAAUoB,UAExH,IAAIoX,GAAS,GAAIi/H,KAAIgC,IAAIC,GAAGke,QAC1Bl/H,MAAOA,EACPw4D,YAAaA,EACbw3F,eAAgBA,EAChBhO,cAAeA,EACf58J,IAAKpf,EAAKof,IACV8uI,UAAWluJ,EAAKkuJ,UAChB+7B,iBAAkBA,EAClBvE,UAAWA,IAAcuE,EACzBx5J,SAAUA,GAGZ,OAAO3W,GAAOmhB,WAIhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,aAAc,SAASjgL,EAAMm7I,GAEpD,GAA2B,GAAvBpjJ,EAAE8M,KAAK7E,EAAKo0J,QACd,MAAO,KAGT,IAAI4H,GAAkB,GAAIjjB,KAAIgC,IAAIC,GAAGiZ,iBACnCxjI,SAAUzwB,EAAKywB,SACf81J,cAAevmL,EAAKmuJ,aACpBgG,kBAAmBn0J,EAAKm0J,kBACxBC,OAAQp0J,EAAKo0J,OACbnV,cAAej/I,EAAKi/I,gBAGlB1G,EAAa,GAAIQ,KAAIgC,IAAIC,GAAGgO,YAC7Bh0H,MAAOgnI,EACP3P,QAASlR,EAAIkR,QACb57H,SAAUzwB,EAAKywB,UAGlB,OAAO8nH,KAKTQ,IAAIoC,IAAI4kC,QAAQE,SAAS,iBAAkB,SAASjgL,EAAMm7I,GAExD,GAAIjrI,GAAUlQ,EAAKkQ,QAGfugB,EAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,uGAGjBzwB,EAAKmuJ,cAAgB,cAGnBqO,EAAoBzjB,IAAIC,KAAKoF,SAASG,QACxCv+I,EAAKywB,UAAY,4EAGjBzwB,EAAKmuJ,cAAgB,cAGnB+7B,EAAgB,GAAInxC,KAAIgC,IAAIC,GAAGqhB,eACjCrnI,MAAO,GAAI+jH,KAAIC,KAAKnlH,MAAM3jB,GAC1Bm8I,QAASlR,EAAIkR,QACb57H,SAAUA,EACV+rI,kBAAmBA,EACnBW,YAAan9J,EAAKm9J,cAGhBkkB,EAAalmC,EAAIkmC,UA0BrB,OAzBIA,IACF6I,EAAc7yK,KAAK,iBAAkB,SAASiK,EAASjJ,EAAOk7B,GAClC,WAAtBA,EAAMxuC,IAAI,SACZs8K,EAAW//J,EAAU,OAAQ,YAI/B65H,EAAImX,SAEN43B,EAAc7yK,KAAK,iBAAkB,SAASiK,EAASjJ,EAAOk7B,GAG5D,GAA0B,eAAtBA,EAAMxuC,IAAI,SAAkD,WAAtBwuC,EAAMxuC,IAAI,QAAsB,CAExE,GAAI0Y,GAAS09H,EAAImX,SAAWnX,EAAImX,QAAQE,iBAAiBn6I,EAErDoF,IACFA,EAAO6D,EAAU,OAAQ,aAQ1B4oK,EAAcjvJ,WAKvB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,aAAc,SAASjgL,EAAMm7I,GAEpD,GAAIjrI,GAAUlQ,EAAKkQ,OAEnBA,GAAQi6K,wBAAyB,CAEjC,IAAI15J,GAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,8CACjBzwB,EAAKmuJ,cAAgB,YAGnByV,EAAa,GAAI7qB,KAAIiC,GAAGE,OAAOmrB,YACjC3gI,IAAK,aACL1Q,MAAO,GAAI+jH,KAAIC,KAAKnlH,MAAM3jB,GAC1Bm8I,QAASlR,EAAIkR,QACb57H,SAAUA,GAGZ,OAAOmzI,GAAW3oI,WAKpB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,QAAS,SAASjgL,EAAMm7I,GAE/C,GAAIjrI,GAAUlQ,EAAKkQ,QAEfugB,EAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,mBACjBzwB,EAAKmuJ,cAAgB,YAGnBgyB,EAAS,GAAIpnC,KAAIgC,IAAIC,GAAG+S,OAC1B/4H,MAAO,GAAI+jH,KAAIC,KAAKnlH,MAAM3jB,GAC1BirI,IAAKA,EACL31I,IAAK21I,EAAI31I,IACTirB,SAAUA,GAKZ,OAFA0vJ,GAAOlyB,eAEAkyB,EAAOllJ,WAKhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,SAAU,SAASjgL,EAAMm7I,GAEhD,GAAI1qH,GAAWsoH,IAAIC,KAAKoF,SAASG,QAC/Bv+I,EAAKywB,UAAY,8KAOjBzwB,EAAKmuJ,cAAgB,YAGnBj1H,EAAS,GAAI6/G,KAAIgC,IAAIC,GAAG4e,OAC1B7hK,EAAEmF,OAAO8C,GACPywB,SAAUA,EACV47H,QAASlR,EAAIkR,QACbr3H,MAAOmmH,EAAI31I,MAIf,OAAO0zB,GAAO+B,WAKhB89G,IAAIoC,IAAI4kC,QAAQE,SAAS,UAAW,SAASjgL,EAAMm7I,GACjD,IAAKn7I,EAAKuzC,OAAS4nG,EAAInxF,YAAYpuD,QAAU,EAC3C,KAAM,IAAI8K,OAAM,gBAKlB,OAHA1G,GAAKuzC,MAAQvzC,EAAKuzC,OAAS4nG,EAAInxF,YAAY,GAC3ChqD,EAAKuzC,MAAM+0H,gBAAe,GAC1BtoK,EAAKqsJ,QAAUlR,EAAIkR,QACZ,GAAItT,KAAIgC,IAAIC,GAAGwqB,QAAQxlK,KAGhC+4I,IAAIoC,IAAI4kC,QAAQE,SAAS,UAAW,SAASjgL,EAAMm7I,GACjD,GAAI5nG,GACAtC,EAASkqG,EAAInxF,WAOjB,IANKhqD,EAAKuzC,QACLtC,EAAOr1C,OAAS,IACjB23C,EAAQtC,EAAO,IAEjBjxC,EAAKuzC,MAAQA,IAEXvzC,EAAKuzC,MACP,KAAM,IAAI7sC,OAAM,gBAElB1G,GAAKuzC,MAAM+0H,gBAAe,EAC1B,IAAI8hB,GAAU,GAAIrxC,KAAIgC,IAAIC,GAAGqqB,QAAQrlK,EACrC,OAAOoqL,QAMT,WAkBA,QAASC,GAAgBC,GACvB,IAAI,GAAIlrK,KAAOmrK,GACb,GAAGD,EAAc7mL,QAAQ2b,MAAS,EAChC,MAAOkrK,GAAcpuL,QAAQkjB,EAAKmrK,EAAcnrK,GAGpD,OAAOkrK,GAGT,QAASE,GAAiBF,GACxB,IAAI,GAAIlrK,KAAOmrK,GAAe,CAC5B,GAAIE,GAAWF,EAAcnrK,EAC7B,IAAGkrK,EAAc7mL,QAAQgnL,MAAc,EACrC,MAAOH,GAAcpuL,QAAQuuL,EAAUrrK,GAG3C,MAAOkrK,GA8CT,QAASI,GAAiBvvC,EAAKn7I,GAC1BA,EAAKu4I,YAAcv4I,EAAKu4I,WAAW6b,SACjCp0J,EAAKqlJ,cACHrlJ,EAAKqlJ,cAAc5hJ,QAAQ,iBAAkB,IAC9CzD,EAAKqlJ,cAAgBrlJ,EAAKqlJ,cAAgB,eAG5CrlJ,EAAKqlJ,cAAgB,cAItBlK,EAAI0wB,QACL7rK,EAAKwlJ,eAAiB,QACtBxlJ,EAAKulJ,WAAa,IAClBvlJ,EAAK2lJ,iBAAmB,QACxB3lJ,EAAK0lJ,aAAe,KAEtB1lJ,EAAK+xK,aAAmCr/I,QAApByoH,EAAI42B,aAA4B/xK,EAAK+xK,aAAe52B,EAAI42B,aA/F9E,GAAI5qG,GAAS4xE,IAAIoC,IAAIh0E,OAOjBojH,GACFI,wCAAyC,6BACzCC,8BAA+B,6BAC/BC,2BAA4B,0BAC5BC,kCAAmC,iCACnCC,8CAA+C,+BAC/CC,sDAAuD,oCAsBzD7jH,GAAO84G,SAAS,WAAY,SAAS9kC,EAAKn7I,GACxC,GAAIof,GAAMpf,EAAKu9C,MAAM,EAOrB,OANG49F,GAAI0wB,SAAU,EACfzsJ,EAAMorK,EAAiBprK,GAEjB+7H,EAAI0wB,SAAU,IACpBzsJ,EAAMirK,EAAgBjrK,IAEjB,GAAI25H,KAAIgC,IAAIpnG,WACjB0wG,YAAajlI,MAIjB+nD,EAAO84G,SAAS,QAAS,SAAS9kC,EAAKn7I,GACrC,GAAIof,GAAMpf,EAAKqkJ,WASf,OARGlJ,GAAI0wB,SAAU,EACfzsJ,EAAMorK,EAAiBprK,GAEjB+7H,EAAI0wB,SAAU,IACpBzsJ,EAAMirK,EAAgBjrK,IAGxBpf,EAAKqkJ,YAAcjlI,EACZ,GAAI25H,KAAIgC,IAAIpnG,UAAU3zC,KAG/BmnE,EAAO84G,SAAS,MAAO,SAAS9kC,EAAKn7I,GACnC,MAAO,IAAI+4I,KAAIgC,IAAImK,SAASllJ,KAG9BmnE,EAAO84G,SAAS,YAAa,SAAS9kC,EAAKn7I,GACzC,MAAO,IAAI+4I,KAAIgC,IAAIiK,eAAehlJ,KAGpCmnE,EAAO84G,SAAS,QAAS,SAAS9kC,EAAKn7I,GACrC,MAAO,IAAI+4I,KAAIgC,IAAIoK,WAAWnlJ,KAGhCmnE,EAAO84G,SAAS,aAAc,SAAS9kC,EAAKn7I,GAC1C,MAAO,IAAI+4I,KAAIgC,IAAIoK,WAAWnlJ,IAwBhC,IAAIirL,GAAa,SAAS9vC,EAAKn7I,GAI7B,MAHA0qL,GAAiBvvC,EAAKn7I,GAGnBA,EAAKmmJ,WACNnmJ,EAAKlD,KAAO,aACL,GAAIi8I,KAAIgC,IAAImL,kBAAkBlmJ,IAEhC,GAAI+4I,KAAIgC,IAAIqK,aAAaplJ,GAGlCmnE,GAAO84G,SAAS,UAAWgL,GAC3B9jH,EAAO84G,SAAS,QAASgL,GAEzB9jH,EAAO84G,SAAS,aAAc,SAAS9kC,EAAKn7I,GAE1C,MADA0qL,GAAiBvvC,EAAKn7I,GACf,GAAI+4I,KAAIgC,IAAImL,kBAAkBlmJ,KAGvCmnE,EAAO84G,SAAS,WAAY,SAAS9kC,EAAKn7I,GAExC,MADA0qL,GAAiBvvC,EAAKn7I,GACf,GAAI+4I,KAAIgC,IAAI6J,qBAAqB5kJ,KAG1CmnE,EAAO84G,SAAS,SAAU,SAAS9kC,EAAKn7I,GAYtC,MAXA0qL,GAAiBvvC,EAAKn7I,GAEnBm7I,EAAI0wB,OACF7rK,EAAKylJ,gBAAkBzlJ,EAAKylJ,eAAehiJ,QAAQ,gBAAiB,IACrEzD,EAAK2lJ,iBAAmB,QACxB3lJ,EAAK0lJ,aAAe,IACpB1lJ,EAAKwlJ,eAAiB,QACtBxlJ,EAAKulJ,WAAa,KAGtBvlJ,EAAK+xK,aAAmCr/I,QAApByoH,EAAI42B,aAA4B/xK,EAAK+xK,aAAe52B,EAAI42B,aACrE,GAAIh5B,KAAIgC,IAAI4J,YAAY3kJ,QAOjC,WACE,QAASkrL,MAmBT,QAASC,GAAWx3F,GAClB,GAAIz5D,GAAOy5D,EAAKz5D,MAAQ,YACpBD,EAAW05D,EAAK15D,UAAY,OAChC,OAAOA,GAAW,MAAQ05D,EAAKyyF,KAAO,IAAMlsJ,EAAO,eAAiBy5D,EAAKvQ,MAAQ,YAMnF,QAASgoG,GAAc73I,EAAOjgB,GAC5B,GAAIlU,GAAM,IACV,OAAoBsT,UAAjB6gB,EAAMtC,QAAwDve,UAA9B6gB,EAAMgtI,MAAQhtI,EAAMz2C,UAErD/E,GAAEg2B,MAAM,WAAauF,EAASigB,MAEN7gB,SAAhB6gB,EAAM6vC,OAAsC1wD,SAAf6gB,EAAM6yI,KAE3ChnK,EAAM+rK,EAAW53I,GACTA,EAAM9vC,UAEd2b,EAAMm0B,QAELn0B,EACD25H,IAAIC,KAAKyH,OAAO17I,IAAIqa,EAAKkU,GAEzBv7B,EAAEg2B,MAAM,WAAauF,EAAS,UAzClCv7B,EAAEmF,OAAOguL,EAASroL,UAAY/K,SAASu7B,QACrC9pB,KAAM,SAASxH,GACb,MAAOvK,MAAK6f,KAAK,OAAQtV,IAE3B9F,MAAO,SAAS8F,GACd,MAAOvK,MAAK6f,KAAK,QAAStV,MAI9Bg3I,IAAImyC,SAAWA,CA4Cf5vC,SAAQ64B,YAAc,SAAS3uK,EAAK+tC,EAAOrjC,EAASojB,GAClD,GAAWZ,SAARltB,EACD,KAAM,IAAI+lB,WAAU,yBAEtB,IAAamH,SAAV6gB,EACD,KAAM,IAAIhoB,WAAU,2BAGtB,IAAI8xI,GAAWguB,EACXn7K,EAAUA,MACV0jB,EAAOtuB,UACPvD,EAAK6xB,EAAKA,EAAKh4B,OAAQ,EACxB7D,GAAEuF,WAAWyE,KACduxB,EAAWvxB,EAEb,IAAIiI,GAAU,GAAIkhL,EAuJlB,OArJAlhL,GAAQyyC,MAAQ,SAASj3C,EAAK6H,GAI5B,MAHArD,GAAQmN,GAAG,OAAQ,WACjBk0K,EAAQhX,cAAchX,EAAW73J,EAAK6H,KAEjCrD,GAGTohL,EAAc73I,EAAO,SAAS+3I,GAgF5B,QAASnX,KACP9W,EAAY6pB,EAAI/S,YAAY8O,GAAajJ,eAAe,GAExD,IAAIpV,GACAtY,EAAgB,4DAA4D7vJ,KAAK6E,UAAUoB,WAC3F6oL,EAAmBr7K,EAAQq1K,eAAiBj5B,GAAkBp8I,EAAQs1K,YAE1E,KAAInoB,EAEF,MADArzJ,GAAQhE,QAAQ,QAAS,uBAClBgE,CAWT,IARGkG,EAAQqoI,YACT2uC,EAAIr+B,cAAcwU,GAGjBntJ,EAAQg9J,SACTga,EAAIlE,WAAW3lB,GAGdntJ,EAAQoiJ,QAAS,CAClB,GAAIgd,GAAav2B,IAAIoC,IAAIh0E,OAAO5vC,OAAO0rJ,EAAUnmL,MAAQmmL,EAAU1C,KAAM2G,EAAKjE,EAE9EiE,GAAIpG,YAAYoG,EAAIhC,uBAAuB5V,EAAWjhK,WAAagvJ,IAGlEntJ,EAAQ4yK,aAA+C,WAAhCzlB,EAAUroI,MAAMjwB,IAAI,UAEvCwmL,GACHrE,EAAI1F,cAAcnkB,GAGpBuH,EAAcvH,GAGZkuB,IAEFr7K,EAAQm8I,QAAU7mJ,EAAI0hL,IAAI76B,QAE1B66B,EAAIr/G,YACF/qE,KAAM,SACNugK,UAAWA,EACX91F,YACAq9F,YAAaA,EACb10J,QAASA,KAIbojB,GAAYA,EAAS+pI,GACrBrzJ,EAAQhE,QAAQ,OAAQq3J,GA/H1B,GAAI4lB,EAEJ,KAAIqI,EAEF,WADAthL,GAAQhE,QAAQ,QAKlB,IAAGslL,EAAQr6I,OAAQ,CACdq6I,EAAQr6I,OAAOr1C,OAAS,GACzBoO,EAAQhE,QAAQ,QAAS,iDAE3B,IAAIgW,GAAQ9L,EAAQqtJ,UACpB,IAAc7qI,SAAV1W,EAAqB,CACvB,GAAGsvK,EAAQr6I,OAAOr1C,QAAUogB,EAE1B,WADAhS,GAAQhE,QAAQ,QAAS,2BAG3Bi9K,GAAYqI,EAAQr6I,OAAOj1B,OACtB,CACL,GAAIwvK,IAAoB,WAAY,aAAc,SAGlDvI,GAAYlrL,EAAE2M,KAAK4mL,EAAQr6I,OAAQ,SAASsC,GAC1C,MAAOi4I,GAAiB/nL,QAAQ8vC,EAAMz2C,SAAU,SAIpDmmL,GAAYqI,CAGd,KAAIrI,EAEF,WADAj5K,GAAQhE,QAAQ,QAoBlB,IAfGkK,IAAYnY,EAAEuF,WAAW4S,KAC1B+yK,EAAU/yK,QAAU+yK,EAAU/yK,YAC9BnY,EAAEmF,OAAO+lL,EAAU/yK,QAASA,IAG9BA,EAAUnY,EAAEy2B,SAASte,GACnBqoI,YAAY,EACZszB,OAAO,EACPvZ,SAAS,EACTwwB,aAAa,EACb5V,SAAS,IAKwB,mBAAzB1nK,GAAmB,gBAC3B6lL,EAAUtyC,IAAIgC,IAAIyP,sBAEb,CAAA,KAAGhlJ,YAAe5N,GAAEm4C,KAAQxpC,OAAO3O,GAAK4N,YAAee,QAAO3O,EAAEm4C,KAIrE,MADA/lC,GAAQhE,QAAQ,QAAS,uCAClBgE,CAHPqhL,GAAUtyC,IAAIgC,IAAIwP,eAOpB,GAAI28B,GAAM1hL,EAAI0hL,GACd,KAAIA,EAAK,CACP,GAAI76B,GAAU,GAAIg/B,IAChB1X,WAAYnuK,EACZA,IAAK,GAAIuzI,KAAIgC,IAAIhrG,KAGnBvqC,GAAI0hL,IAAMA,EAAM,GAAInuC,KAAIoC,IAAIslC,KAC1Bp0B,QAASA,IAGX66B,EAAIzE,WAAa6I,EAAQ7I,WACzByE,EAAIrb,MAAQ37J,EAAQ27J,MAwDlBqb,EAAIvG,cAAcsC,IAKpB9O,IAJA+S,EAAIrG,aAAaoC,GAAY,WAC3B9O,QAOCnqK,MAIV,WAMC,QAASm8K,GAAIj2K,GACX,GAAGorI,UAAY9jJ,MAAQ+O,SAAW/O,KAChC,MAAO,IAAI2uL,GAAIj2K,EAEjB,KAAIA,EAAQk2K,KACV,KAAM,IAAI1/K,OAAM,0BAElB,IAAImyB,GAAM,GAAIv1B,QAAOiD,OAAOhF,SAAS04B,SAOrC,IANApB,EAAMA,EAAIx+B,MAAM,EAAGw+B,EAAIj9B,OAAS,GACtB,QAAPi9B,IACDA,EAAM,SAGRrhC,KAAK2nB,KAAOjP,EAAQiP,OAA4B,mBAAb,QAA2BznB,OAAOynB,KAAM6pE,UACvExxF,KAAK2nB,KACP,KAAM,IAAIzY,OAAM,qCASlB,IANAlP,KAAK0Y,QAAUnY,EAAEy2B,SAASte,GACxBjI,QAAS,KACTgyB,SAAUpB,EACVpT,MAA0B,mBAAb,UAA4B/tB,OAAOkC,QAAQ0sB,QAGrD9uB,KAAK0Y,QAAQu7K,iBAAkB,CAClC,GAAI93F,GAAOn8F,KAAK0Y,QACZugB,EAAW,IACf,IAAGkjE,GAAQA,EAAK+3F,eACdj7J,EAAWkjE,EAAK+3F,mBACX,CACL,GAAIxxJ,GAAOy5D,EAAKz5D,MAAQ,YACpBD,EAAW05D,EAAK15D,UAAY,OAChCxJ,GAAWwJ,EAAW,aAAeC,EAEvC1iC,KAAK0Y,QAAQu7K,iBAAmBh7J,GA2SpC,QAASk7J,GAAUt0L,GACjB,MAAOsP,MAAKC,MAAMvP,EAAE6E,QAAQ,KAAM,KAAKA,QAAQ,KAAK,MAlVtD,GAAI3E,GAAOC,IAEXD,GAAK+jJ,QAAU/jJ,EAAK+jJ,YAwCpB6qC,EAAItjL,UAAUkoK,MAAQ,WACpB,GAAIp3E,GAAOn8F,KAAK0Y,OAChB,OAAOyjF,GAAK83F,iBAAiBvvL,QAAQ,SAAUy3F,EAAKyyF,MAAQ,QAAWzyF,EAAK1rF,QAAU,QAUxFk+K,EAAItjL,UAAU+oL,QAAU,SAASrkB,EAAK7oB,EAAMxuI,EAASojB,GAGnD,GAAIu4J,GAAuB,KAEvB7hL,EAAU,GAAIsxI,SAAQ4vC,QAC1B,KAAI3jB,EACF,KAAM,IAAIh8I,WAAU,yBAGtB,IAAIqI,GAAOtuB,UACXvD,EAAK6xB,EAAKA,EAAKh4B,OAAQ,EACpB7D,GAAEuF,WAAWyE,KACduxB,EAAWvxB,GAEbmO,EAAUnY,EAAEy2B,SAASte,MAAe1Y,KAAK0Y,QACzC,IAAI8rB,IACFl/B,KAAM,MACN7B,SAAU,OACV+pB,aAAa,EAGM0N,UAAlBxiB,EAAQvC,QACTquB,EAAOruB,MAAQuC,EAAQvC,OAGtBuC,EAAQuV,cACFuW,GAAOhX,YACV9U,EAAQwV,gBACVsW,EAAOtW,cAAgBxV,EAAQwV,eAEjCsW,EAAO/gC,SAAW,QAKpB,IAAI0uG,GAAM,kBAENmiF,EAAM,qEACVvkB,GAAMA,EAAIrrK,QAAQ,SAAU4vL,GAClB5vL,QAAQ,gBAAiBytG,GACzBztG,QAAQ,iBAAkBytG,EAGpC,IAAI+1B,GAAQ7nI,SAASojC,OAAOssI,EAAK7oB,GAG7BqtC,EAAersD,EAAM9jI,OAASiwL,EAG9BG,GAAa,SAAU,KAAM,UAOjC,IALI97K,EAAQ01I,eACVomC,EAAYA,EAAU7xL,OAAO+V,EAAQ01I,eAGvC5pH,EAAO5c,IAAM5nB,KAAKuzK,QACdghB,EAAc,CAChB,GAAI9pL,GAAI,KAAOqjB,mBAAmBo6G,EAClC,KAAI,GAAI/jI,KAAKqwL,GAAW,CACtB,GAAI9pL,GAAI8pL,EAAUrwL,GACd0G,EAAI6N,EAAQhO,EACbG,KACDJ,GAAK,IAAMC,EAAI,IAAMG,GAIzB25B,EAAO5c,KAAO,IAAMnd,MACf,CACL,GAAIgqL,IAAWhqL,EAAKy9H,EACpB,KAAI,GAAI/jI,KAAKqwL,GAAW,CACtB,GAAI9pL,GAAI8pL,EAAUrwL,GACd0G,EAAI6N,EAAQhO,EACZG,KACF4pL,EAAQ/pL,GAAKG,GAIjB25B,EAAOh8B,KAAOisL,EAEU,mBAAb,QACTjwJ,EAAOl/B,KAAO,OAEdk/B,EAAOvG,OAAS,OAKpB,GAAItS,GAAUjT,EAAQiT,QAClBlnB,EAAQiU,EAAQjU,KA+BpB,OA9BGknB,UAAgBjT,GAAQiT,QACxBlnB,SAAcA,GAAMknB,QAEvB6Y,EAAO//B,MAAQ,SAASg5B,GACtB,GAAI00E,GAAM10E,EAAKlS,cAAgBkS,EAAK20J,SAChC7sC,EAASpzC,GAAOhjG,KAAKC,MAAM+iG,EAC/B3/F,GAAQhE,QAAQ,QAAS+2I,GAAUA,EAAO9gJ,MAAOg5B,GAC9Ch5B,GAAOA,EAAMg5B,IAElB+G,EAAO7Y,QAAU,SAAS8R,EAAM1Q,EAAQ8B,GAEzBqM,QAAVnO,IACDA,EAAS0Q,EAAK1Q,OACd8B,EAAM4O,EACNA,EAAOtuB,KAAKC,MAAMquB,EAAK20J,WAMzBnvL,WAAW,WACTuP,EAAQhE,QAAQ,OAAQivB,EAAM1Q,EAAQ8B,GACnClD,GAASA,EAAQ8R,EAAM1Q,EAAQ8B,GAC/BiN,GAAUA,EAAS2B,IACrB,UAIE/kB,GAAQuV,MACfjuB,KAAK2nB,KAAKpnB,EAAEmF,OAAO8+B,EAAQ9rB,IACpBlG,GAGTm8K,EAAItjL,UAAUuvC,UAAY,SAASm1H,EAAK7oB,EAAMxuI,EAASojB,GACnD,GAAItpB,GAAU,GAAIsxI,SAAQ4vC,SACtBt3J,EAAOtuB,UACXvD,EAAK6xB,EAAKA,EAAKh4B,OAAQ,EACpB7D,GAAEuF,WAAWyE,KACduxB,EAAWvxB,EAEb,IAAI1K,GAAI,4MAiCR,OA5BAkwK,GAAM1vK,SAASojC,OAAOssI,EAAK7oB,GAC3BlnJ,KAAKo0L,QAAQv0L,GAAKkwK,IAAKA,GAAOr3J,GAC3B3G,KAAK,SAAS+J,GACb,GAAIA,EAAO44K,MAAQ54K,EAAO44K,KAAKtwL,OAAS,GAA4B,MAAvB0X,EAAO44K,KAAK,GAAGC,KAAc,CACxE,GAAIzzL,GAAI4a,EAAO44K,KAAK,GAChBE,GAAS,QACTC,EAAU,QACVC,GAAS,IACTC,EAAU,IAEVC,EAAQ,SAASjqL,EAAG6pB,EAAK3kB,GAC3B,MAAOlF,GAAI6pB,EAAMA,EAAM7pB,EAAIkF,EAAMA,EAAMlF,GAGrCkqL,EAAOD,EAAM9zL,EAAEyzL,KAAMG,EAAQC,GAC7BG,EAAOF,EAAM9zL,EAAEi0L,KAAML,EAAQC,GAC7BK,EAAOJ,EAAM9zL,EAAEm0L,KAAMT,EAAQC,GAC7B//I,EAAOkgJ,EAAM9zL,EAAEo0L,KAAMV,EAAQC,GAE7BpkJ,IAAW2kJ,EAAMH,IAAQngJ,EAAMogJ,GACnC1iL,GAAQhE,QAAQ,OAAQiiC,GACxB3U,GAAYA,EAAS2U,MAGxBhsC,MAAM,SAAS+8D,GACdhvD,EAAQhE,QAAQ,QAASgzD,KAGtBhvD,GAgBXm8K,EAAItjL,UAAUugF,MAAQ,SAAS90E,GAU7B,QAASy+K,KACPA,EAAOh4J,MAAM36B,MAAM2yL,EAAQznL,WAT7B,GACI0nL,GAEAC,EACAC,EACAC,EALAC,EAAQ9+K,EAER++K,KAIAC,EAAO91L,IAwEX,OAlEAu1L,GAAOh4J,MAAQ,SAAS2pH,GACtBA,EAAOA,KACP,IAAI9qH,GAAOtuB,UACXvD,EAAK6xB,EAAKA,EAAKh4B,OAAQ,EACpB7D,GAAEuF,WAAWyE,KACduxB,SAAWvxB,EACQ,IAAhB6xB,EAAKh4B,SAAc8iJ,OAExB4uC,EAAK1B,QAAQmB,EAAOxlB,MAAO7oB,EAAMprH,WAGnCy5J,EAAOxlB,IAAM,WACX,GAAIlwK,GAAI,QAsBR,OApBEA,IADCg2L,EAASzxL,OACL,IAAMyxL,EAAS9nL,KAAK,KAAO,IAE3B,MAGPlO,GAAK,QAAU+1L,EAEZJ,IACD31L,GAAK,UAAY21L,GAEhBC,IACD51L,GAAK,UAAY41L,GAEhBC,IACD71L,GAAK,aAAe61L,GAEnBC,IACD91L,GAAK,IAAM81L,GAGN91L,GAGT01L,EAAOrsL,OAAS,SAASvI,GAEvB,MADA60L,GAAW70L,EACJ40L,GAGTA,EAAOQ,SAAU,SAAS/xL,GAExB,MADA0xL,GAAS1xL,EACFuxL,GAETA,EAAOS,IAAM,WAEX,MADAL,GAAY,MACLJ,GAGTA,EAAOU,KAAO,WAEZ,MADAN,GAAY,OACLJ,GAGTA,EAAOjlB,QAAU,SAASpvK,GAExB,MADA20L,GAAW30L,EACJq0L,GAGTA,EAAOpuI,MAAQ,SAAStjD,GAEtB,MADA4xL,GAAS5xL,EACF0xL,GAGFA,GA6BT5G,EAAItjL,UAAU6qL,eAAiB,SAASnmB,EAAK+W,EAAQhrJ,GAEjD,GAAIj8B,IACF,cACA,oCACA,qDACA,+BACA,kBACA,kBACA,2BACA,uBACA,gBACA,6BACA,oBACA,wBACA,oBACA,qBACA,oBACA,kBACA,sDACA,gBACA,kBACA,oBACA,kBACA,+DACA,gBACA,iBACA,qBACA,oBACA,cACA,aACG,+CACA,2BACA,2GACA,+HAEA,sDACA,wBACH,KACA,YACG,iJACH,IACA,6BAGEqoI,EAAQ7nI,SAASojC,OAAO5jC,EAAEkO,KAAK,OACjC+4K,OAAQA,EACR/W,IAAKA,IAGHomB,EAAgB,SAASx8J,GAC3B,GAAIy8J,GAAgBz8J,EAAIj1B,QAAQ,kBAAmB,KACnD,OAAO0xL,GAAc1xL,QAAQ,MAAO,KAGtC1E,MAAKo0L,QAAQlsD,EAAO,SAAS1/H,GAC3B,GAAIk9K,GAAMl9K,EAAKksL,KAAK,GAChBhhI,EAAS,EACT2iI,IAEJ,KACE,GAAIx2L,GAAIs0L,EAAUzO,EAAIyO,WAElBkC,EAAY91L,EAAEV,GAAGmO,IAAI,SAAS03K,GAC9B,GAAIh7K,GAAIg7K,EAAIllK,MAAM,gBACd1J,EAAOq/K,EAAczrL,EAAE,GAC3B,QAAQoM,GAAOpM,EAAE,KAGrBgpD,GAASgyH,EAAI4Q,MAAQ,EAAI5Q,EAAI6Q,aAAe,EAAI7Q,EAAI7vJ,KAAO6vJ,EAAI8Q,MAAS9Q,EAAI7vJ,KAAO,EAAI,EAAI,GAC3F,MAAMv0B,IAIRw6B,GACEx2B,KAAM,SACNmxL,KAAMJ,EACNK,SAAUhR,EAAI7vJ,KACd6wC,MAAOg/G,EAAI8Q,IACXG,WAAYjR,EAAIiR,WAChBJ,WAAY7Q,EAAI6Q,WAChBD,KAAM5Q,EAAI4Q,KACV5iI,OAAQA,OAKhBi7H,EAAItjL,UAAUurL,aAAe,SAAS7mB,EAAK+W,EAAQhrJ,GACjD,GAAIj8B,IACF,oBACE,+DACF,yEACA,+IACA,iFACA,uDAEEqoI,EAAQ7nI,SAASojC,OAAO5jC,EAAEkO,KAAK,OACjC+4K,OAAQA,EACR/W,IAAKA,GAGP/vK,MAAKo0L,QAAQlsD,EAAO,SAAS1/H,GAC3B,GAAIk9K,GAAMl9K,EAAKksL,KAAK,GAChBpzL,EAAI,GAAI+O,MAAKq1K,EAAImR,UACjBh3L,EAAI,GAAIwQ,MAAKq1K,EAAIoR,YAIjB78B,GAFUyrB,EAAIqR,QAEN/mL,KAAK4kB,IAAI8wJ,EAAIqR,QAAS,MAElCj7J,IACEx2B,KAAM,OACNwxL,WAAYj3L,EACZg3L,SAAUv1L,EACV20B,MAAO30B,EAAIzB,EACXo6J,MAAOA,EACPs8B,WAAY7Q,EAAI6Q,gBAKtB5H,EAAItjL,UAAU2rL,gBAAkB,SAASjnB,EAAK+W,EAAQhrJ,GACpD,GAAIj8B,IACF,kBACM,8CACO,kBACL,wBACN,KACF,kBACE,gIACF,kBACE,+HACF,+CAEEqoI,EAAQ7nI,SAASojC,OAAO5jC,EAAEkO,KAAK,OACjC+4K,OAAQA,EACR/W,IAAKA,GAGP/vK,MAAKo0L,QAAQlsD,EAAO,SAAS1/H,GAC3B,GAAIk9K,GAAMl9K,EAAKksL,KAAK,EAEpB54J,IACEx2B,KAAM,UACNixL,WAAY7Q,EAAI6Q,WAChBU,WAAYvR,EAAIuR,WAChBP,SAAUhR,EAAI7vJ,KACd6wC,MAAOg/G,EAAI8Q,SAKjB7H,EAAItjL,UAAU6rL,aAAe,SAASnnB,EAAK+W,EAAQhrJ,GA0B/C,QAASq7J,GAAazzL,GACpB,OACA0zL,gBAAmB,UACnBC,WAAc,UACdC,mBAAsB,OACtBC,cAAiB,OACjBC,cAAiB,QACjBC,SAAY,SACV/zL,EAAEa,eAjCN,GAAI1E,IACF,kBACG,qDACA,uBACH,KACA,eACE,6GACF,KACA,gBACE,iBACE,8IACF,aACE,wCACF,iFACF,KACA,eACE,iFACF,IACA,mDAGEqoI,EAAQ7nI,SAASojC,OAAO5jC,EAAEkO,KAAK,OACjC+4K,OAAQA,EACR/W,IAAKA,GAaP/vK,MAAKo0L,QAAQlsD,EAAO,SAAS1/H,GAC3B,GAAIk9K,GAAMl9K,EAAKksL,KAAK,GAChB7qI,EAAO16C,KAAKC,MAAMs2K,EAAI77H,MAAM6U,YAAY,EAC5C5iC,IACEx2B,KAAM,OAENukD,OAAQA,EAAK,GAAG,GAAGA,EAAK,GAAG,KAAMA,EAAK,GAAG,GAAIA,EAAK,GAAG,KACrD6tI,cAAehS,EAAIgS,cACnBC,yBAA0BR,EAAazR,EAAIgS,eAC3CE,aAAclS,EAAImS,YAClBC,QAASpS,EAAIoS,aAKrBnJ,EAAItjL,UAAUilK,QAAU,SAASP,EAAKr3J,EAASojB,GAC7C,GAAIM,GAAOtuB,UACPvD,EAAK6xB,EAAKA,EAAKh4B,OAAQ,EACxB7D,GAAEuF,WAAWyE,KACduxB,EAAWvxB,EAEb,IAAI1K,GAAI,kBAAoBkwK,EAAM,mBAC9BgoB,GAAW,aAAa,WAAW,YAAY,aAAa,aAAa,MAAM,MAAM,uBACzF/3L,MAAKo0L,QAAQv0L,EAAG,SAAS2I,GACvB,GAAImC,KACJ,KAAK,GAAIxG,KAAKqE,GAAKo0J,OACbm7B,EAAQ9rL,QAAQ9H,MAAO,IACzBwG,EAAExG,GAAKqE,EAAKo0J,OAAOz4J,GAAGmB,KAG1Bw2B,GAASnxB,MAIbgkL,EAAItjL,UAAU2sL,cAAgB,SAASjoB,EAAK+W,EAAQhrJ,GAChD,GAAIj8B,IACF,kBACI,iCACO,0BACA,0BACA,qCACA,uCACA,mBACA,kGACA,wDACA,oHACC,+DACN,wBACN,KACA,kKACA,iBACG,4DACA,2HACO,yEACA,mBACL,2BACA,aACA,aACH,WACD,KACD,YACG,gJACH,KACC,eACG,sFACA,wIAEA,+EACA,uFACA,yDACH,IACA,iDAGCqoI,EAAQ7nI,SAASojC,OAAO5jC,EAAEkO,KAAK,OACjC+4K,OAAQA,EACR/W,IAAKA,GAGP/vK,MAAKo0L,QAAQlsD,EAAO,SAAS1/H,GAC3B,GAAIk9K,GAAMl9K,EAAKksL,KAAK,GAChB70L,EAAIs0L,EAAUzO,EAAI+Q,MAClB9yL,EAAIwwL,EAAUzO,EAAIuS,SACtBn8J,IACEx2B,KAAM,SACN2yL,SACE13L,EAAEoD,GAAGqK,IAAI,SAAS03K,GAClB,GAAIh7K,GAAIg7K,EAAIllK,MAAM,eAClB,SAAS9V,EAAE,IAAKA,EAAE,MAEpB+rL,KAAMl2L,EAAEV,GAAGmO,IAAI,SAAS03K,GACtB,KAAGA,EAAIz5K,QAAQ,UAAW,GAA1B,CACA,GAAIurK,GAAMkO,EAAIlhL,MAAM,IACpB,QAASggB,MAAOgzJ,EAAI,GAAG9yK,QAAQ,MAAM,IAC5BuxB,MAAOuhJ,EAAI,GAAGhzK,MAAM,KAAKwJ,IAAI,SAAS5M,GAAG,MAAOA,GAAEsD,QAAQ,MAAM,MAChEwzL,KAAM1gB,EAAI,GAAG9yK,QAAQ,MAAM,QAEtCyzL,OAAQzS,EAAIyS,OACZ5B,WAAY7Q,EAAI6Q,WAChB7vH,MAAOg/G,EAAI8Q,IACXE,SAAUhR,EAAI7vJ,KAEdqwH,IAAKw/B,EAAIx/B,IACTj2I,IAAKy1K,EAAIz1K,IACT2kB,IAAK8wJ,EAAI9wJ,IACTwjK,WAAY1S,EAAI0S,WAChB1kI,QAASgyH,EAAI7vJ,KAAO,EAAI,EAAI,IAAM,EAAI6vJ,EAAI6Q,aAAe7Q,EAAIyS,QAAS,EAAK,EAAKzS,EAAIyS,OAAS,EAAI,GAAOzS,EAAIyS,OAAS,EAAI,IAAO,IAChIE,UAAW3S,EAAI2S,UACfC,SAAU5S,EAAI4S,SACdC,MAAO7S,EAAI6S,MACXC,UAAW9S,EAAI8S,UACfC,UAAW/S,EAAI+S,eAMvB9J,EAAItjL,UAAUqtL,SAAW,SAAS3oB,EAAK+W,EAAQpuK,GAC3C,GAAIqwB,GAAO/oC,KACPo8B,EAAOtuB,UACPvD,EAAK6xB,EAAKA,EAAKh4B,OAAQ,EAC3B,IAAG7D,EAAEuF,WAAWyE,GACd,GAAIouL,GAAYpuL,CAElB,IAAIuxB,GAAW,SAAStzB,GACtBA,EAAKs+K,OAASA,EACd6R,EAAUnwL,IAER3I,EAAI,kBAAoBkwK,EAAM,kBAClC/vK,MAAKo0L,QAAQv0L,EAAG,SAAS2I,GAEvB,GAAIlD,GAAQoT,GAAWA,EAAQpT,KAAQoT,EAAQpT,KAAOkD,EAAKo0J,OAAOkqB,GAAQxhL,IAE1E,OAAKA,QAKa,WAATA,EACPyjC,EAAKmtJ,eAAenmB,EAAK+W,EAAQhrJ,GACf,WAATx2B,EACTyjC,EAAKivJ,cAAcjoB,EAAK+W,EAAQhrJ,GACd,aAATx2B,EACTyjC,EAAKmuJ,aAAannB,EAAK+W,EAAQhrJ,GACb,SAATx2B,EACTyjC,EAAK6tJ,aAAa7mB,EAAK+W,EAAQhrJ,GACb,YAATx2B,EACTyjC,EAAKiuJ,gBAAgBjnB,EAAK+W,EAAQhrJ,GAElCA,EAAS,GAAI5sB,OAAM,sCAfnB4sB,GAAS,GAAI5sB,OAAM,6BAoB3BnP,EAAK+jJ,QAAQ6qC,IAAMA,KAGrB,WAEE7qC,QAAQ80C,UAAY,SAASh1J,EAAI2lH,EAAS7wI,EAASojB,GAEjD,IAAK8H,EACH,KAAM,IAAI7P,WAAU,mCAGtB,IACAqI,GAAOtuB,UACPvD,EAAO6xB,EAAKA,EAAKh4B,OAAQ,EAErB7D,GAAEuF,WAAWyE,KACfuxB,EAAWvxB,GAGbq5B,EAAoB,gBAAPA,GAAkB1hC,SAAS8K,eAAe42B,GAAMA,CAE7D,IAAI+/G,GAAM,GAAIG,SAAQH,IAAIslC,KAAMrlJ,GAAIA,GAYpC,OAVI2lH,KAEF5F,EAAIvlI,KAAKmrI,EAAS7wI,GAEdojB,GACF6nH,EAAI5xI,KAAK+pB,IAKN6nH,MAyBXpC,IAAIiC,GAAGE,OAAOm1C,QAAUt3C,IAAIC,KAAKv+G,KAAKv9B,QAEpCq3B,WAAY,WACR/8B,KAAK84L,QACL94L,KAAK+4L,UAAa,KAClB/4L,KAAKg5L,WAAa,MAGtBC,OAAQ,SAASniL,EAAM6wB,EAAMjvB,GAE3B,GADAA,EAAUA,IAAayU,QAAQ,GACR+N,SAApBl7B,KAAK84L,KAAKhiL,GACXyqI,IAAInqG,IAAIwuG,MAAM9uI,EAAO,qBAChB,CAGL,GAFA9W,KAAK84L,KAAKhiL,GAAQ6wB,EAAKlL,IACvBz8B,KAAKyoJ,QAAQ9gH,GACQzM,SAAlBxiB,EAAQ6O,MAAqB,CAC9B,GAAIjmB,GAAItB,KAAKwjC,IAAIpf,WAAW1L,EAAQ6O,MACpCogB,GAAKnE,IAAIzb,YAAYzmB,OACboX,GAAQ0O,QAChBpnB,KAAKwjC,IAAIpc,QAAQugB,EAAK/D,IAEtB5jC,KAAKwjC,IAAI5c,OAAO+gB,EAAK/D,GAEvB5jC,MAAKwO,QAAQ,WAAYsI,EAAM6wB,GAC5BjvB,EAAQyU,OACTntB,KAAKmtB,OAAOrW,GAEZ6wB,EAAKlY,SAKXypK,gBAAiB,WACf,GAAIJ,GAAQv4L,EAAE+M,QAAQtN,KAAK84L,MACvB74I,EAAQ1/C,EAAE+M,QAAQtN,KAAKooJ,WAEvBjkJ,EAAI5D,EAAE0L,QAAQ6sL,EAAM94L,KAAKg5L,WAAWv8J,KAAO,CAG/C,OAFIt4B,GAAI,IAAGA,EAAI87C,EAAM77C,OAAS,GAEvB67C,EAAM97C,IAGfg1L,YAAa,WACX,GAAIL,GAAQv4L,EAAE+M,QAAQtN,KAAK84L,MACvB74I,EAAQ1/C,EAAE+M,QAAQtN,KAAKooJ,WAEvBjkJ,EAAI,EAAI5D,EAAE0L,QAAQ6sL,EAAM94L,KAAKg5L,WAAWv8J,IAG5C,OAFIt4B,GAAI87C,EAAM77C,OAAS,IAAGD,EAAI,GAEvB87C,EAAM97C,IAGfi1L,QAAS,SAAStiL,GAChB,GAAIuiL,GAAMr5L,KAAK84L,KAAKhiL,EACpB,OAAO9W,MAAKooJ,UAAUixC,IAGxBC,cAAe,WACb,MAAOt5L,MAAKg5L,YAGd3rL,KAAM,WACJ,MAAO9M,GAAE8M,KAAKrN,KAAK84L,OAGrBxxK,MAAO,WACLtnB,KAAKu5L,aACLh4C,IAAIC,KAAKv+G,KAAK53B,UAAUic,MAAMte,KAAKhJ,OAGrCw5L,UAAW,SAAS1iL,GAClB,GAAwBokB,SAApBl7B,KAAK84L,KAAKhiL,GAAqB,CACjC,GAAIuiL,GAAMr5L,KAAK84L,KAAKhiL,EACpB9W,MAAKooJ,UAAUixC,GAAK/xK,cACbtnB,MAAK84L,KAAKhiL,GAEb9W,KAAK+4L,WAAajiL,IACpB9W,KAAK+4L,UAAY,MAGfx4L,EAAE8M,KAAKrN,KAAK84L,OACd94L,KAAKmtB,OAAO5sB,EAAEgzB,KAAKvzB,KAAK84L,MAAM,MAKpCS,WAAY,WACV,IAAI,GAAIziL,KAAQ9W,MAAK84L,KAAM,CACzB,GAAIO,GAAMr5L,KAAK84L,KAAKhiL,EACpB9W,MAAKooJ,UAAUixC,GAAK/xK,cACbtnB,MAAK84L,KAAKhiL,GAEnB9W,KAAK+4L,UAAY,MAGnB5rK,OAAQ,SAASrW,GACf,GACAiyB,GAAO/oC,KACPq5L,EAAOr5L,KAAK84L,KAAKhiL,EAEjB,IAAYokB,SAARm+J,EAAmB,CAErB,GAAIr5L,KAAK+4L,YAAcjiL,EAAM,CAE3B,GAAIjM,GAAI7K,KAAKooJ,UAAUixC,EAEvB,IAAIr5L,KAAK+4L,UAAW,CAClB,GAAIU,GAAWz5L,KAAKooJ,UAAUpoJ,KAAK84L,KAAK94L,KAAK+4L,WAE7CU,GAAQhqK,OACRsZ,EAAKv6B,QAAQ,cAAexO,KAAK+4L,UAAYU,GAC7C1wJ,EAAKv6B,QAAQ,eAAiBxO,KAAK+4L,UAAYU,GAC5CA,EAAQC,aACTD,EAAQC,cAIZ7uL,EAAE0kB,OACC1kB,EAAE8uL,WACH9uL,EAAE8uL,YAGJ35L,KAAK+4L,UAAYjiL,EACjB9W,KAAKg5L,WAAanuL,EAElBk+B,EAAKv6B,QAAQ,aAAcsI,EAAMjM,GACjCk+B,EAAKv6B,QAAQ,cAAgBsI,EAAOjM,GAGtC,MAAO7K,MAAKg5L,aAIhBv1J,OAAQ,WACJ,MAAOzjC,OAGXyC,KAAM,SAAS8H,GACb,GAAIw+B,GAAO/oC,IACXO,GAAEkC,KAAKzC,KAAK84L,KAAM,SAASr8J,EAAKm9J,GAC9BrvL,EAAGqvL,EAAK7wJ,EAAKqwJ,QAAQQ,SAmC3Br4C,IAAIiC,GAAGE,OAAOi/B,OAASphC,IAAIC,KAAKv+G,KAAKv9B,QAEnC69B,QAAS,MACTjwB,UAAW,SAEXlL,QACEw6K,YAAa,MACbC,gBAAiB,UACjBnkB,eAAgB,WAGlBtL,iBACE5wH,MAAO,QACPw4D,YAAa,GACb8nF,SAAU,KACVC,aAAc,SACdnhL,MAAO,IACPC,OAAQ,IACRmhL,eAAe,EACfC,kBAAkB,EAClBx7B,cAAe,+BACfy7B,kBAAmB,eACnBC,sBAAuB,GACvBC,WAAY,GACZC,YAAa,GACbC,gBAAgB,EAChBC,sBAGFxmJ,WAAY,WACVx8B,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAE9B7yJ,EAAE61B,QAAQp2B,KAAM,SAAU,YAG1BG,EAAE+B,UAAU2d,KAAK,UAAW7f,KAAKwjL,UAGjCxjL,KAAK6f,KAAK,QAAS7f,KAAKyjL,UAExBzjL,KAAK0jL,cAAgB1jL,KAAK0Y,QAAQgrK,cAAgBnjL,EAAE04B,SAASj5B,KAAK0Y,QAAQgrK,eAAiBniC,IAAImG,UAAUF,YAAYxnJ,KAAK0Y,QAAQ+uI,gBAGpIhkH,OAAQ,WACN,GAAID,GAAMxjC,KAAKwjC,GAoBf,OAlBAA,GAAI5qB,KAAK5Y,KAAK0jL,cAAc1jL,KAAK0Y,UAEjC8qB,EAAIt2B,KAAK,UAAU3L,KACjBK,MAAO5B,KAAK0Y,QAAQ9W,QAMnB5B,KAAK2jL,gBAEN3jL,KAAKG,EAAE,YAAYymB,OAAO5mB,KAAK2jL,kBAG9B3jL,KAAK0Y,QAAQ2qK,aACdrjL,KAAKwjC,IAAIzrB,SAAS/X,KAAK0Y,QAAQ2qK,aAG1BrjL,MAITwjL,SAAU,SAASliL,GAEC,KAAdA,EAAE8b,QACJpd,KAAK4jL,UAEkB,KAAdtiL,EAAE8b,SAAkBpd,KAAK0Y,QAAQuqK,kBAC1CjjL,KAAK6jL,OAOTC,aAAc,WAEZ,MADA3jL,GAAE,QAAQymB,OAAO5mB,KAAKyjC,SAASG,IACxB5jC,MAGT6jL,IAAK,SAAShrF,GAEVA,GAAIA,EAAG38E,iBAELlc,KAAKg6K,IACPh6K,KAAKg6K,GAAGh6K,KAAK8b,QAGf9b,KAAKyvB,QAIPm0J,QAAS,SAAS/qF,GAEZA,IACFA,EAAG38E,iBACH28E,EAAGh8E,mBAGD7c,KAAK+jL,QACP/jL,KAAK+jL,SAGP/jL,KAAKyvB,QAIPA,KAAM,WAEJzvB,KAAKwjC,IAAI/T,OAELzvB,KAAK0Y,QAAQsqK,eACfhjL,KAAKsnB,SAKT0H,KAAM,WAEJhvB,KAAKwjC,IAAIjU,QAIXk0J,SAAU,WAERtjL,EAAE+B,UAAU4d,OAAO,UAAW9f,KAAKwjL,aAuBvCjiC,IAAIiC,GAAGE,OAAOihC,aAAepjC,IAAIC,KAAKv+G,KAAKv9B,QAEzC69B,QAAS,MACTjwB,UAAW,SAEXlL,QACEs2J,eAAgB,QAGlBtL,iBACIxlI,QAAS,EACT8kE,IAAK,GACLkyF,WAAY,GACZh0J,SAAU,UAGdmM,WAAY,WACV/8B,KAAK6kL,cAAe,EACpBtkL,EAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAC9BpzJ,KAAKi5B,SAAWj5B,KAAK0Y,QAAQugB,SAAW14B,EAAE04B,SAASj5B,KAAK0Y,QAAQugB,UAAYsoH,IAAImG,UAAUF,YAAY,uBAEtGxnJ,KAAKwjC,IAAI/T,QAGXgU,OAAQ,WACN,GAAID,GAAMxjC,KAAKwjC,GAKf,OAJAA,GAAI5qB,KAAK5Y,KAAKi5B,SAASj5B,KAAK0Y,UACzB1Y,KAAK2jL,gBACN3jL,KAAKG,EAAE,YAAYymB,OAAO5mB,KAAK2jL,kBAE1B3jL,MAGTyvB,KAAM,SAASopE,GACb,GAAI9vD,GAAO/oC,IACP64F,IACFA,EAAG38E,iBACLzE,aAAazX,KAAK6kL,cACY,IAA3B7kL,KAAK0Y,QAAQksK,YAAoB5kL,KAAKwjC,IAAIhnB,GAAG,YAC9Cxc,KAAKwjC,IAAIxjC,KAAK0Y,QAAQksK,YAAY5kL,KAAK0Y,QAAQkY,SAAU,QAAS,WAChEmY,EAAKvF,IAAI5qB,KAAK,IACdmwB,EAAKv6B,QAAQ,uBACbu6B,EAAKvnC,YAGPxB,KAAKwjC,IAAI/T,OACTsZ,EAAKvF,IAAI5qB,KAAK,IACdmwB,EAAKv6B,QAAQ,uBACbu6B,EAAKvnC,WAKTwtB,KAAM,SAASiP,EAAQvlB,GACrB1Y,KAAKyjC,SACLzjC,KAAKwjC,IAAIjU,KAAK0O,EAAQvlB,GACnB1Y,KAAK0Y,QAAQkV,UACZ5tB,KAAK6kL,aAAe5hL,WAAW1C,EAAEsf,KAAK7f,KAAKyvB,KAAMzvB,MAAOA,KAAK0Y,QAAQkV,aA0B7E2zH,IAAIiC,GAAGE,OAAOohC,IAAMvjC,IAAIC,KAAKnlH,MAAM32B,WAGnC67I,IAAIiC,GAAGE,OAAOqhC,UAAYzkL,SAAS0+B,WAAWt5B,QAC1C83B,MAAO+jH,IAAIiC,GAAGE,OAAOohC,IACrBE,SAAS,EAETjoJ,WAAY,WACV,GAAIgM,GAAO/oC,IACXA,MAAK6f,KAAK,QAAS,WACjBkpB,EAAKi8I,SAAU,KAOnBC,QAAS,SAASzgK,EAAO0gK,GACvB,GAAIx6K,GAAI1K,KAAK2/B,GAAGnb,EAChB,OAAI9Z,GAGGA,EAAE6C,IAAI23K,GAFJ,MAKXzwJ,QAAS,WACP,MAAuB,KAAhBz0B,KAAKoE,UAQlBm9I,IAAIiC,GAAGE,OAAOyhC,gBAAkB5jC,IAAIC,KAAKnlH,MAAM32B,QAE7CmuK,YAAa,WACX,MAAOtzK,GAAEyN,IAAIhO,KAAKuN,IAAI,UAAW,SAASrM,GACxC,MAAOA,GAAE,MAIbgkL,WAAY,SAASn+G,GACnB,MAAO/mE,MAAK6zK,cAAc9sG,MAO9Bw6E,IAAIiC,GAAGE,OAAO0hC,QAAU7jC,IAAIC,KAAKv+G,KAAKv9B;AACpC69B,QAAS,KAETxG,WAAY,WAEV/8B,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKyjC,OAAQzjC,MACvCA,KAAKw9B,MAAM3d,KAAK,UAAW7f,KAAKsnB,MAAOtnB,MACvCA,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKsnB,MAAOtnB,MACtCA,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKqlL,cAAerlL,MAC9CA,KAAKw9B,MAAM3d,KAAK,OAAQ7f,KAAKslL,YAAatlL,MAC1CA,KAAKw9B,MAAM3d,KAAK,QAAS7f,KAAKulL,aAAcvlL,MAE5CA,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAC5Bx9B,KAAK6gB,MAAQ7gB,KAAK0Y,QAAQmI,OAG5BwkK,cAAe,WACbrlL,KAAKwO,QAAQ,cAGf82K,YAAa,WACXtlL,KAAKwO,QAAQ,YAGf+2K,aAAc,WACZvlL,KAAKwO,QAAQ,aAGfg3K,UAAW,SAASC,EAAS39K,GAC3B,MAAOA,IAGT27B,OAAQ,WACN,GAMIrd,GANA2iB,EAAO/oC,KACP0lL,EAAM1lL,KAAKw9B,MAEXrX,EAAK,GAELw/J,EAAU,CAGVv/J,GADDpmB,KAAK0Y,QAAQktK,WACP,iCAAmCD,EAAU,KAE7C,sCAAwCA,EAAU,IAE3D,IAAI96K,GAAIk+B,EAAKy8I,UAAU,GAAI,GACxB36K,GAAE+N,OACH/N,EAAIA,EAAE,GAAGjE,WAEXwf,GAAMvb,EACNub,GAAM,QACNu/J,IACAx/J,GAAMC,CAKN,KAAI,GAHA6W,GAAQj9B,KAAK6gB,OAAStgB,EAAEgzB,KAAKmyJ,EAAI7uK,YACjCgvK,EAAM,GACNC,EAAYJ,EAAI7uK,WACZ1S,EAAI,EAAGklC,EAAMpM,EAAM74B,OAAQD,EAAIklC,IAAOllC,EAAG,CAC/C,GAAIy1B,GAAMqD,EAAM94B,GACZ2D,EAAQg+K,EAAUlsJ,EACtB,IAAasB,SAAVpzB,EAAqB,CACtB,GAAIse,GAAK,gBAAkBs/J,EAAIz4K,GAAK,IAAM2sB,EAAM,aAAe+rJ,EAAU,KACrE96K,EAAIk+B,EAAKy8I,UAAU5rJ,EAAK9xB,EACzB+C,GAAE+N,OACH/N,EAAIA,EAAE,GAAGjE,WAEXwf,GAAMvb,EACNub,GAAM,QACNu/J,IACAE,GAAOz/J,GAKX,MAFAD,IAAM0/J,EACN7lL,KAAKwjC,IAAI5qB,KAAKuN,GAAI1Z,KAAK,KAAM,OAASi5K,EAAIz4K,IACnCjN,MAGTilL,QAAS,SAASl6K,GAKhB,MAHG/K,MAAK0Y,QAAQktK,cACZ76K,EAEG/K,KAAKG,EAAE,SAAW4K,EAAI,MAG/Bg7K,aAAc,WACZ,MAAO/lL,MAAKgmL,aAWhBzkC,IAAIiC,GAAGE,OAAOuiC,MAAQ1kC,IAAIC,KAAKv+G,KAAKv9B,QAElC69B,QAAS,QACT2iJ,QAAS3kC,IAAIiC,GAAGE,OAAO0hC,QAEvBh9K,QACI+9K,WAAY,aACZC,cAAe,iBAGnBhzB,mBAGAr2H,WAAY,WACV,GAAIgM,GAAO/oC,IACXO,GAAEy2B,SAASh3B,KAAK0Y,QAAS1Y,KAAKozJ,iBAC9BpzJ,KAAKqmL,UAAYrmL,KAAK0Y,QAAQ2tK,UAC9BrmL,KAAKsmL,YAGLtmL,KAAKumL,cAAcvmL,KAAKqmL,WACxBrmL,KAAKw9B,MAAM3d,KAAK,SAAU7f,KAAKyjC,OAAQzjC,MACvCA,KAAKw9B,MAAM3d,KAAK,oBAAqB7f,KAAKumL,cAAevmL,MAGzDA,KAAK6f,KAAK,QAAS7f,KAAKwmL,WAAYxmL,MAGpCA,KAAKwoJ,kBAAkBxoJ,KAAKqmL,WAC5BrmL,KAAKwoJ,kBAAkBxoJ,KAAKw9B,OAO5Bx9B,KAAKw9B,MAAM3d,KAAK,eAAgB,WAC9BkpB,EAAK09I,iBAAmB19I,EAAK09I,iBAAmB19I,EAAK09I,iBAAkB,EAAI,EAC3E19I,EAAK29I,kBAEP1mL,KAAKw9B,MAAM3d,KAAK,aAAc,WACzBkpB,EAAK09I,iBAAmB,IACzB19I,EAAK09I,mBACL19I,EAAK49I,eACuB,GAAzB59I,EAAKs9I,UAAUjiL,QAChB2kC,EAAK69I,iBAObC,WAAY,SAASC,GACjB,MAAOA,GAAO,IAGlBP,cAAe,SAASQ,GACnB/mL,KAAKqmL,WACNrmL,KAAKqmL,UAAUvmK,OAAO,KAAM,KAAM9f,MAEpCA,KAAKqmL,UAAYU,EACjB/mL,KAAKqmL,UAAUxmK,KAAK,QAAS7f,KAAKgnL,YAAahnL,MAC/CA,KAAKqmL,UAAUxmK,KAAK,QAAS7f,KAAKgnL,YAAahnL,MAC/CA,KAAKqmL,UAAUxmK,KAAK,MAAO7f,KAAKinL,OAAQjnL,OAG1CknL,cAAe,WACb,GAAIn+I,GAAO/oC,KACPkmB,EAAQ/lB,EAAE,WACVgmB,EAAKhmB,EAAE,OAUX,OATGH,MAAK0Y,QAAQktK,WACdz/J,EAAGS,OAAOzmB,EAAE,QAAQymB,OAAOmiB,EAAK89I,YAAY,GAAI,aAEhD1gK,EAAGS,OAAOzmB,EAAE,QAAQymB,OAAOmiB,EAAK89I,YAAY,GAAI,aAElDtmL,EAAEP,KAAKw9B,MAAMjwB,IAAI,WAAW9K,KAAK,SAAS4jB,GACxCF,EAAGS,OAAOzmB,EAAE,QAAQymB,OAAOmiB,EAAK89I,WAAWxgK,OAE7CH,EAAMU,OAAOT,GACND,GAMTsgK,WAAY,WACVxmL,KAAKG,EAAE,SAASqB,SAChBxB,KAAKG,EAAE,aAAaqB,QAIpB,KADA,GAAI0kL,GAAU,KACRA,EAAUlmL,KAAKsmL,SAASx9K,OAE5Bo9K,EAAQpmK,OAAO,KAAM,KAAM9f,MAE3BkmL,EAAQ5+J,OAGVtnB,MAAKsmL,aAMPW,OAAQ,SAASvB,EAAKnpJ,EAAY7jB,GAChC,GAAIqwB,GAAO/oC,KACPmmB,EAAK,GAAI4iB,GAAKm9I,SAChB1oJ,MAAOkoJ,EACP7kK,MAAO7gB,KAAKw9B,MAAMq2I,cAClB+R,WAAY5lL,KAAK0Y,QAAQktK,YAmB3B,IAjBAz/J,EAAG6/J,UAAYhmL,KAEfmmB,EAAGtG,KAAK,QAAS,WACf,GAAIknD,GAAMxmE,EAAE0L,QAAQ88B,EAAKu9I,SAAUngK,EACnC4iB,GAAKu9I,SAASn4K,OAAO44D,EAAK,EAE1B,KAAI,GAAI5iE,GAAI4iE,EAAK5iE,EAAI4kC,EAAKu9I,SAASliL,SAAUD,EAC3C4kC,EAAKu9I,SAASniL,GAAGq/B,IAAI/2B,KAAK,SAAUtI,IAErCnE,MACHmmB,EAAGtG,KAAK,YAAa7f,KAAKmnL,WAAYnnL,MACtCmmB,EAAGtG,KAAK,QAAS7f,KAAKonL,WAAYpnL,MAClCmmB,EAAGtG,KAAK,cAAe7f,KAAKqnL,UAAWrnL,MACvCmmB,EAAGtG,KAAK,SAAU7f,KAAKsnL,UAAWtnL,MAClCA,KAAK8nJ,UAAU,SAAU3hI,GAEzBA,EAAGsd,SACA/qB,GAA6BwiB,SAAlBxiB,EAAQ8L,OAAuB9L,EAAQ8L,OAASukB,EAAKu9I,SAASliL,OAAQ,CAElF+hB,EAAGqd,IAAIzuB,aAAag0B,EAAKu9I,SAAS5tK,EAAQ8L,OAAOgf,KACjDuF,EAAKu9I,SAASn4K,OAAOuK,EAAQ8L,MAAO,EAAG2B,EAGvC,KAAI,GAAIhiB,GAAIuU,EAAQ8L,MAAOrgB,EAAI4kC,EAAKu9I,SAASliL,SAAUD,EACrD4kC,EAAKu9I,SAASniL,GAAGq/B,IAAI/2B,KAAK,SAAUtI,OAItCgiB,GAAGqd,IAAI/2B,KAAK,SAAUs8B,EAAKu9I,SAASliL,QACpC2kC,EAAKvF,IAAI5c,OAAOT,EAAGyd,IACnBmF,EAAKu9I,SAAS36K,KAAKwa,EAGrBnmB,MAAKwO,QAAQ,cAQf24K,WAAY,aAOZC,WAAY,aAOZC,UAAW,aAMXC,UAAW,aAOXZ,cAAe,aAOfC,aAAc,aAOdC,WAAY,aAOZW,aAAc,WACZ,MAAkC,KAA1BvnL,KAAKqmL,UAAUjiL,QAAgBpE,KAAKqmL,UAAUrB,SAMxDgC,YAAa,WAEX,GADAhnL,KAAKwmL,aACAxmL,KAAKunL,eAWRvnL,KAAKwnL,mBAVL,IAAGxnL,KAAKqmL,UAAUrB,QAAS,CACzB,GAAIj8I,GAAO/oC,IAEXA,MAAKqmL,UAAU5jL,KAAK,SAASijL,GAC3B38I,EAAKk+I,OAAOvB,SAGd1lL,MAAKynL,kBAQXA,eAAgB,aAGhBD,aAAc,aAQdE,kBAAmB,aAOnBjkJ,OAAQ,WACN,GAAIsF,GAAO/oC,IAQX,OALA+oC,GAAKvF,IAAI5qB,KAAKmwB,EAAKm+I,iBAGnBn+I,EAAKi+I,cAEEhnL,MAOTilL,QAAS,SAASl6K,EAAGE,GAInB,MAHGjL,MAAK0Y,QAAQktK,cACZ36K,EAEGjL,KAAKsmL,SAASr7K,GAAGg6K,QAAQl6K,IAGlC48K,WAAY,SAASrmL,EAAGsmL,GACtBA,EAAUA,GAAW,YACrBtmL,EAAE4a,gBACF,IAAI2rK,GAAO1nL,EAAEmB,EAAEob,eAAiBpb,EAAEya,QAC9BhR,EAAIqK,SAASyyK,EAAKp7K,KAAK,UAAW,IAClCxB,EAAImK,SAASyyK,EAAKxlK,SAAS5V,KAAK,UAAW,GAC/CzM,MAAKwO,QAAQo5K,EAAStmL,EAAGumL,EAAM98K,EAAGE,IAGpC68K,cAAe,SAASxmL,GACtBtB,KAAK2nL,WAAWrmL,EAAG,mBAKvB,WAWA,QAASi6K,GAAUC,GACjB,GAAIzyI,GAAO/oC,KAEPoI,GACF,QACA,WACA,YACA,YACA,WACA,YACA,OACA,UAGFpI,MAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,SAEL,IAAIqb,IACF63G,QAAStjK,KAAKw9B,MAAMjwB,IAAI,YAAcg0I,IAAI+B,OAAO/1I,IAAI,cAAgB,oCACrEg+C,WAAYvrD,KAAKw9B,MAAMjwB,IAAI,gBAAkB,GAAI,IAGnDvN,MAAKywJ,KAAOrwJ,EAAE+9D,QAAQQ,gBAAgB68G,EAAcjuK,IAAI,WAAY,SAAS6wD,EAAS5pB,GAElF,GAIIrwC,GAJAF,EAAI7D,EAAEiuD,OAAO7Z,GACfiX,KAAMrrD,EAAEqrD,KAAKA,IAIf,KAAItnD,EAAI,EAAGA,EAAIiE,EAAOhE,SAAUD,EAAG,CACjC,GAAI7C,GAAI8G,EAAOjE,EACfF,GAAE0b,GAAGre,EAAGynC,EAAK2yI,cAAcp6K,IAE7B,MAAO2C,KAGXjE,KAAK6f,KAAK,UAAW,SAASve,EAAGiwB,GAC/BiqJ,EAAcnjK,KACZ+lD,SACE94D,KAAM,QAENo5D,aAAcntC,EAAI,GAAIA,EAAI,SAgClC,QAASoqJ,GAASH,GAWhBx7K,KAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,UAGLpwC,KAAKywJ,KAAOrwJ,EAAE+9D,QAAQQ,gBAAgB68G,EAAcjuK,IAAI,YACxDvN,KAAKywJ,KAAK19F,SAASyoH,EAAcjuK,IAAI,UA3CvCguK,EAAUlwK,UAAY,GAAIm1I,cAE1B+6B,EAAUlwK,UAAUihJ,KAAO,WACzBtsJ,KAAKywJ,KAAK/uG,SAASrE,UAMrBk+H,EAAUlwK,UAAUqwK,cAAgB,SAASE,GAC3C,GAAI7yI,GAAO/oC,KACP2D,EAAI3D,KAAKy7K,eAAeG,EAS5B,OARIj4K,KACFA,EAAI,SAASrC,GACX,GAAI61C,GAAS71C,EAAEya,OAAO8wC,YAClBhtD,GAAKs3C,EAAOjD,IAAKiD,EAAOhD,IAC5BpL,GAAKv6B,QAAQotK,EAASt6K,EAAEqd,cAAe9e,IAEzCG,KAAKy7K,eAAeG,GAAWj4K,GAE1BA,GAiCTg4K,EAAStwK,UAAY,GAAIm1I,cAEzBm7B,EAAStwK,UAAUwwK,eAAiB,WAElC,MAAI77K,MAAKywJ,KAAKj+F,UACLxyD,KAAKywJ,KAAKj+F,aAEXxyD,KAAKywJ,OAIfkrB,EAAStwK,UAAUywK,WAAa,WAC9B,GAAI/yI,GAAO/oC,KACPy5C,EAASz5C,KAAK67K,gBAClBt7K,GAAEkC,KAAKg3C,EAAQ,SAAS/1C,GACtBA,EAAEqvD,SAAShqB,EAAKvL,MAAMjwB,IAAI,UAC1B7J,EAAEic,GAAG,OAAQ,WACXopB,EAAKvL,MAAMnlB,IAAI,UAAW0wB,EAAK0nH,KAAK3wF,YAAYrB,WAC/C11B,MAIP4yI,EAAStwK,UAAU0wK,YAAc,WAC/B,GAAIhzI,GAAO/oC,KACPy5C,EAASz5C,KAAK67K,gBAClBt7K,GAAEkC,KAAKg3C,EAAQ,SAAS/1C,GACtBA,EAAE+K,IAAI,OAAQ,KAAMs6B,MAIxB4yI,EAAStwK,UAAUihJ,KAAO,SAASjvG,GACjC,GAAItU,GAAO/oC,KACPuK,EAAK8yC,EAAS,SAAU,UACxB5D,EAASz5C,KAAK67K,gBAClBt7K,GAAEkC,KAAKg3C,EAAQ,SAAS/1C,GACtBA,EAAEs4K,QAAQzxK,KACV8yC,EAAStU,EAAK+yI,aAAc/yI,EAAKgzI,iBAIrCx6B,IAAIgC,IAAI04B,QAAU16B,IAAIgC,IAAI04B,YAE1B16B,IAAIgC,IAAI04B,QAAQV,UAAYA,EAC5Bh6B,IAAIgC,IAAI04B,QAAQN,SAAWA,KAI3B,WAIA,QAASJ,GAAUC,GACjB,GAAIzyI,GAAO/oC,KAEPoI,GACF,QACA,WACA,YACA,YACA,WACA,YACA,OACA,UAGFpI,MAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,SAEL,IACImb,IADQhrD,EAAEqM,MAAM4uK,EAAcjuK,IAAI,cACrBvN,KAAKw9B,MAAMjwB,IAAI,eAE5Bk+C,GACF7jC,IAAK5nB,KAAKw9B,MAAMjwB,IAAI,YAAcg0I,IAAI+B,OAAO/1I,IAAI,cAAgB,oCACjE89C,QACEtgD,EAAGwgD,GAAcA,EAAW,IAAM,GAClCtgD,EAAGsgD,GAAcA,EAAW,IAAM,IAItCvrD,MAAKywJ,KAAO,GAAItyF,SACdq9G,EAAcjuK,IAAI,YAEhBk+C,KAAMA,EACNm1H,aAAa,EACbC,aAAa,GAKjB,IAAI18K,EACJ,KAAIA,EAAI,EAAGA,EAAIiE,EAAOhE,SAAUD,EAAG,CACjC,GAAI7C,GAAI8G,EAAOjE,EACfg3F,QAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAMnvJ,EAAGynC,EAAK2yI,cAAcp6K,IAIjEtB,KAAK6f,KAAK,UAAW,SAASve,EAAGiwB,GAC/BiqJ,EAAcnjK,KACZ+lD,SACE94D,KAAM,QAENo5D,aAAcntC,EAAI,GAAIA,EAAI,SA6BlC,QAASoqJ,GAASH,GAmChB,QAASsF,GAAS78K,GAChBk3F,OAAOC,KAAK9yF,MAAM63D,YAAYl8D,EAAG,YAAa8kC,EAAKg4I,cAnCrD,GAAIh4I,GAAO/oC,IAUXA,MAAKy7K,kBACLz7K,KAAKw9B,MAAQg+I,EACbx7K,KAAKowC,SAIL,IAAI7pC,GAAQhG,EAAEqM,MAAM4uK,EAAcjuK,IAAI,aAEtCvN,MAAKywJ,KAAO,GAAItyF,SACdq9G,EAAcjuK,IAAI,WAClBhH,GAWFhG,EAAE61B,QAAQp2B,KAAM,eAChB,IAAI+oC,GAAO/oC,IAYX,IAAGA,KAAKywJ,KAAKuwB,SAAU,CACrB,GAAIvkF,GAAQz8F,KAAKywJ,KAAKuwB,UAEtB,IAAIvkF,GAASA,EAAM,GAEjB,IAAI,GAAIt4F,GAAI,EAAGA,EAAIs4F,EAAMr4F,SAAUD,EACjC28K,EAASrkF,EAAMt4F,QAIjB28K,GAASrkF,GACTtB,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAM,UAAWzwJ,KAAK+gL,kBAI3D,IAAI/gL,KAAKywJ,KAAKrsJ,OACZ,IAAI,GAAID,GAAI,EAAGA,EAAInE,KAAKywJ,KAAKrsJ,SAAUD,EACrC28K,EAAS9gL,KAAKywJ,KAAKtsJ,GAAGmoI,WACtBnxC,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAKtsJ,GAAI,UAAWnE,KAAK+gL,kBAI9DD,GAAS9gL,KAAKywJ,KAAKnkB,WACnBnxC,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKywJ,KAAM,UAAWzwJ,KAAK+gL,cA3F/DxF,EAAUlwK,UAAY,GAAIm1I,cAE1B+6B,EAAUlwK,UAAUqwK,cAAgB,SAASE,GAC3C,GAAI7yI,GAAO/oC,KACP2D,EAAI3D,KAAKy7K,eAAeG,EAS5B,OARIj4K,KACFA,EAAI,SAASrC,GACX,GAAI61C,GAAS71C,EAAEkzC,OACX30C,GAAKs3C,EAAOjD,MAAOiD,EAAOhD,MAC9BpL,GAAKv6B,QAAQotK,EAASt6K,EAAGzB,IAE3BG,KAAKy7K,eAAeG,GAAWj4K,GAE1BA,GAGT43K,EAAUlwK,UAAUihJ,KAAO,SAASjvG,GAClCr9C,KAAKywJ,KAAKwwB,aAAa5jI,IAqFzBs+H,EAAStwK,UAAY,GAAIm1I,cAEzBm7B,EAASuF,WAAa,SAASzwB,EAAM0wB,GAWnC,QAASC,GAAOjqI,GACd,OAAQA,EAAOhD,MAAOgD,EAAOjD,OAG/B,QAASmtI,GAAQ7rI,GAEf,IAAI,GADAt0C,MACIiD,EAAI,EAAGA,EAAIqxC,EAAQpxC,SAAUD,EACnCjD,EAAEyK,KAAKy1K,EAAO5rI,EAAQ8rI,MAAMn9K,IAE9B,OAAOjD,GAIT,GAAIuvJ,EAAKrsJ,QAAyB,GAAfqsJ,EAAKrsJ,OA4BjB,CAGL,IAAI,GADAlD,MACIiD,EAAI,EAAGA,EAAIssJ,EAAKrsJ,SAAUD,EAChCjD,EAAEyK,KAAKgwK,EAASuF,WAAWzwB,EAAKtsJ,GAAIg9K,GAAOziH,YAAY,GAEzD,QACEp5D,KAAM67K,EACNziH,YAAax9D,GAnCf,GACI+Y,GADAvW,EAAI+sJ,EAAKrsJ,OAASqsJ,EAAK,GAAIA,CAE/B,IAAY,SAAT0wB,EACDlnK,EAASmnK,EAAO19K,EAAE6vC,mBACb,IAAY,cAAT4tI,EACRlnK,GAAUmnK,EAAO19K,EAAE6vC,oBACd,IAAY,WAAT4tI,EACRlnK,GAAUonK,EAAQ39K,EAAE4oI,YACpBryH,EAAO,GAAGtO,KAAKy1K,EAAO19K,EAAE4oI,UAAUg1C,MAAM,SACnC,IAAY,gBAATH,EAAyB,CACjClnK,IACA,KAAI,GAAIhW,GAAI,EAAGA,EAAIP,EAAEs9K,WAAW58K,SAAUH,EAAG,CAC3C,GAAI/C,GAAImgL,EAAQ39K,EAAEs9K,WAAWM,MAAMr9K,GACnC/C,GAAEyK,KAAKy1K,EAAO19K,EAAEs9K,WAAWM,MAAMr9K,GAAGq9K,MAAM,KAC1CrnK,EAAOtO,KAAKzK,GAEd+Y,GAAUA,OACO,cAATknK,EACRlnK,EAASonK,EAAQ39K,EAAE4oI,WACF,mBAAT60C,IAERlnK,GAAUonK,EAAQ39K,EAAE4oI,YAEtB,QACEhnI,KAAM67K,EACNziH,YAAazkD,IAenB0hK,EAAStwK,UAAU01K,aAAe,SAASz/K,GACzC,GAAIynC,GAAO/oC,IACXiD,YAAW,WACX8lC,EAAKvL,MAAMnlB,IAAI,UAAWsjK,EAASuF,WAAWn4I,EAAK0nH,KAAM1nH,EAAKvL,MAAMjwB,IAAI,WAAWjI,QAChF,MAGLq2K,EAAStwK,UAAUihJ,KAAO,SAASjvG,GAIjC,IAAI,GADA35C,GAAI1D,KAAKywJ,KAAKrsJ,OAASpE,KAAKywJ,MAAOzwJ,KAAKywJ,MACpCtsJ,EAAI,EAAGA,EAAIT,EAAEU,SAAUD,EAC7BT,EAAES,GAAGo9K,YAAYlkI,EAEfA,IACFr9C,KAAKw9B,MAAMnlB,IAAI,UAAWsjK,EAASuF,WAAWlhL,KAAKywJ,KAAMzwJ,KAAKw9B,MAAMjwB,IAAI,WAAWjI,QAIvFi8I,IAAIgC,IAAIi+B,MAAQjgC,IAAIgC,IAAIi+B,UAExBjgC,IAAIgC,IAAIi+B,MAAMjG,UAAYA,EAC1Bh6B,IAAIgC,IAAIi+B,MAAM7F,SAAWA,KAOrBp6B,IAAIphJ,EAAIA,EACRohJ,IAAInhJ,EAAIA,EACRmhJ,IAAIlhJ,SAAWA,SACfkhJ,IAAIjhJ,SAAWA,SACfihJ,IAAIhhJ,EAAIA,IAQV,KAAI,GAAI4D,KAAKlE,QAERA,OAAOkE,KACR4K,OAAO5K,GAAKlE,OAAOkE,QC/30CxB,SAAS7C,GAAG,GAAG,gBAAiBmyB,UAAS,mBAAoBC,QAAOA,OAAOD,QAAQnyB,QAAS,IAAG,kBAAmBxB,SAAQA,OAAOkzB,IAAIlzB,UAAUwB,OAAO,CAAC,GAAIqJ,EAAE,oBAAoBoE,QAAOpE,EAAEoE,OAAO,mBAAoBoM,QAAOxQ,EAAEwQ,OAAO,mBAAoB4tB,QAAOp+B,EAAEo+B,MAAMp+B,EAAE4yK,MAAMj8K,MAAM,WAAW,GAAIxB,QAAO4zB,OAAOD,OAAQ,OAAO,SAASnyB,GAAEqJ,EAAE5G,EAAE2G,GAAG,QAASvG,GAAEH,EAAE4G,GAAG,IAAI7G,EAAEC,GAAG,CAAC,IAAI2G,EAAE3G,GAAG,CAAC,GAAIxD,GAAkB,kBAAT66B,UAAqBA,OAAQ,KAAIzwB,GAAGpK,EAAE,MAAOA,GAAEwD,GAAE,EAAI,IAAGnE,EAAE,MAAOA,GAAEmE,GAAE,EAAI,IAAIrD,GAAE,GAAIuO,OAAM,uBAAuBlL,EAAE,IAAK,MAAMrD,GAAEw3C,KAAK,mBAAmBx3C,EAAE,GAAIkD,GAAEE,EAAEC,IAAIyvB,WAAY9oB,GAAE3G,GAAG,GAAGgF,KAAKnF,EAAE4vB,QAAQ,SAASnyB,GAAG,GAAIyC,GAAE4G,EAAE3G,GAAG,GAAG1C,EAAG,OAAO6C,GAAEJ,EAAEA,EAAEzC,IAAIuC,EAAEA,EAAE4vB,QAAQnyB,EAAEqJ,EAAE5G,EAAE2G,GAAG,MAAO3G,GAAEC,GAAGyvB,QAAkD,IAAI,GAA1C5zB,GAAkB,kBAATw7B,UAAqBA,QAAgBr3B,EAAE,EAAEA,EAAE0G,EAAEtG,OAAOJ,IAAIG,EAAEuG,EAAE1G,GAAI,OAAOG,KAAI21H,GAAG,SAASx4H,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAG,QAAS6C,GAAEwG,GAAG,MAAOrJ,GAAE+0B,UAAUwjK,KAAKlvL,EAAEhH,EAAEgH,EAAE9K,EAAE8K,EAAE9G,EAAE8G,EAAEnK,GAAG,QAASX,GAAE8K,GAAG,MAAOA,aAAarJ,GAAEw4L,UAAU1zL,WAAmB,KAARuE,EAAE6mB,KAAU7mB,EAAE7C,MAAM,IAAI6C,EAAE7C,OAAiB,gBAAH6C,GAAYA,EAAE6lI,IAAI,QAASxsI,GAAE1C,GAAG,MAAO0O,MAAK4kB,IAAI,EAAE5kB,KAAKC,IAAI,EAAE3O,IAAIA,EAAE+0B,WAAW0jK,IAAI,SAASz4L,EAAEqJ,EAAE5G,GAAG,MAAO/D,MAAKg6L,KAAK14L,EAAEqJ,EAAE5G,EAAE,IAAIi2L,KAAK,SAASrvL,EAAE5G,EAAE2G,EAAEvG,GAAG,GAAIH,IAAG2G,EAAE5G,EAAE2G,GAAGsD,IAAI,SAAS1M,GAAG,MAAOzB,GAAEyB,IAAK,OAAO6C,GAAEtE,EAAEsE,GAAGH,EAAEqvB,KAAKrkB,QAAQA,MAAM7K,GAAG,KAAK,GAAI7C,GAAEs5J,MAAM52J,EAAEG,IAAIqT,KAAK,SAASlW,GAAG,GAAIqJ,GAAE5G,CAAE,OAAO+J,WAAU1J,OAAO,IAAIuG,EAAEmD,UAAU,IAAIA,UAAU1J,OAAO,IAAIL,EAAE+J,UAAU,KAAK0O,GAAG,MAAMrE,IAAI7W,EAAEgyD,MAAM3oD,EAAEuvG,KAAKn2G,EAAEuH,SAAS,SAASZ,GAAG,MAAM,oBAAmBpJ,EAAEu3F,GAAGnuF,GAAG,KAAKC,EAAE,WAAWA,EAAEkuF,GAAGnuF,GAAG,KAAK,KAAK3G,EAAE,UAAUA,EAAE80F,GAAGnuF,GAAG,KAAK,IAAI,QAAQuvL,IAAI,SAAS34L,EAAEqJ,EAAE5G,GAAG,MAAO/D,MAAK65L,KAAKv4L,EAAEqJ,EAAE5G,EAAE,IAAI81L,KAAK,SAASv4L,EAAEqJ,EAAE5G,EAAE2G,GAAG,QAASE,GAAEtJ,GAAG,MAAOA,GAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAE,EAAEA,EAAI,EAAFA,EAAI,EAAE0C,GAAGG,EAAEH,GAAG1C,EAAE,EAAI,EAAFA,EAAI,EAAE6C,EAAI,EAAF7C,EAAI,EAAE0C,GAAGG,EAAEH,IAAI,EAAE,EAAE1C,GAAG,EAAE0C,EAAsC,GAApC1C,EAAEzB,EAAEyB,GAAG,IAAI,IAAIqJ,EAAE9K,EAAE8K,GAAG5G,EAAElE,EAAEkE,GAAG2G,EAAE7K,EAAE6K,IAAOpJ,EAAEqJ,EAAE5G,EAAE2G,GAAG2oB,KAAKrkB,OAAO,MAAO,KAAK,IAAI7K,GAAEJ,GAAG,GAAGA,GAAG4G,EAAE,GAAG5G,EAAE4G,EAAE5G,EAAE4G,EAAE3G,EAAI,EAAFD,EAAII,CAAE,OAAOnE,MAAKg6L,KAAc,IAATpvL,EAAEtJ,EAAE,EAAE,GAAY,IAALsJ,EAAEtJ,GAAgB,IAATsJ,EAAEtJ,EAAE,EAAE,GAAOoJ,IAAIwvL,IAAI,SAASvvL,GAAG,MAAM,SAAUA,GAAE,GAAIrJ,GAAEw4L,UAAU9pL,KAAKo6B,MAAMz/B,EAAEwvL,QAAQx2L,IAAI,MAAM+9K,WAAW,SAAS/2K,GAAG,MAAM,SAAUA,GAAE,GAAIrJ,GAAEw4L,UAAU9pL,KAAKo6B,MAAkB,IAAZz/B,EAAEwvL,QAAQt6L,GAAO,KAAK,MAAMu6L,UAAU,SAASzvL,GAAG,MAAM,SAAUA,GAAE,GAAIrJ,GAAEw4L,UAAU9pL,KAAKo6B,MAAkB,IAAZz/B,EAAEwvL,QAAQt2L,GAAO,KAAK,MAAMw2L,MAAM,SAAS1vL,GAAG,MAAM,SAAUA,GAAE,GAAIrJ,GAAEw4L,UAAUnvL,EAAEwvL,QAAQ35L,GAAG,MAAM85L,SAAS,SAASh5L,EAAEqJ,GAAG,GAAG,SAAUrJ,GAAE,CAAC,GAAIyC,GAAEzC,EAAE64L,OAAQ,OAAOp2L,GAAElE,GAAG8K,EAAE7C,MAAM,IAAI/D,EAAElE,EAAEmE,EAAED,EAAElE,GAAGsE,EAAEJ,GAAG,MAAO,OAAMw2L,WAAW,SAASj5L,EAAEqJ,GAAG,GAAG,SAAUrJ,GAAE,CAAC,GAAIyC,GAAEzC,EAAE64L,OAAQ,OAAOp2L,GAAElE,GAAG8K,EAAE7C,MAAM,IAAI/D,EAAElE,EAAEmE,EAAED,EAAElE,GAAGsE,EAAEJ,GAAG,MAAO,OAAMy2L,QAAQ,SAASl5L,EAAEqJ,GAAG,GAAG,SAAUrJ,GAAE,CAAC,GAAIyC,GAAEzC,EAAE64L,OAAQ,OAAOp2L,GAAEF,GAAG8G,EAAE7C,MAAM,IAAI/D,EAAEF,EAAEG,EAAED,EAAEF,GAAGM,EAAEJ,GAAG,MAAO,OAAM02L,OAAO,SAASn5L,EAAEqJ,GAAG,GAAG,SAAUrJ,GAAE,CAAC,GAAIyC,GAAEzC,EAAE64L,OAAQ,OAAOp2L,GAAEF,GAAG8G,EAAE7C,MAAM,IAAI/D,EAAEF,EAAEG,EAAED,EAAEF,GAAGM,EAAEJ,GAAG,MAAO,OAAM22L,OAAO,SAASp5L,EAAEqJ,GAAG,GAAG,SAAUrJ,GAAE,CAAC,GAAIyC,GAAEzC,EAAE64L,OAAQ,OAAOp2L,GAAEvD,GAAGmK,EAAE7C,MAAM,IAAI/D,EAAEvD,EAAEwD,EAAED,EAAEvD,GAAG2D,EAAEJ,GAAG,MAAO,OAAM42L,QAAQ,SAASr5L,EAAEqJ,GAAG,GAAG,SAAUrJ,GAAE,CAAC,GAAIyC,GAAEzC,EAAE64L,OAAQ,OAAOp2L,GAAEvD,GAAGmK,EAAE7C,MAAM,IAAI/D,EAAEvD,EAAEwD,EAAED,EAAEvD,GAAG2D,EAAEJ,GAAG,MAAO,OAAMymG,KAAK,SAASlpG,EAAEqJ,GAAG,GAAG,SAAUrJ,GAAE,CAAC,GAAIyC,GAAEzC,EAAE64L,QAAQzvL,GAAG3G,EAAEJ,EAAEgH,EAAE7C,OAAO,GAAI,OAAO/D,GAAEJ,EAAE+G,EAAE,EAAE,IAAIA,EAAEA,EAAEvG,EAAEJ,GAAG,MAAO,OAAMW,QAAQ,SAASpD,EAAEqJ,EAAE5G,GAAG,MAAc,UAAPzC,EAAEkb,GAAalb,EAAEgK,SAAS,YAAYX,EAAEW,WAAW,KAAKvH,EAAEuH,WAAW,IAAIhK,EAAEoD,QAAQiG,EAAE5G,IAAI62L,IAAI,SAASjwL,EAAE5G,EAAE2G,GAAG,GAAIvG,GAAEuG,EAAE5C,MAAM,IAAIjI,EAAI,EAAFsE,EAAI,EAAEH,EAAE2G,EAAEwvL,QAAQ35L,EAAEuD,EAAEo2L,QAAQ35L,EAAEoK,IAAI/K,EAAEmE,IAAG,EAAGnE,GAAGA,EAAEmE,IAAI,EAAEnE,EAAEmE,IAAI,GAAG,EAAExD,EAAE,EAAEoK,EAAEjK,GAAGgK,EAAEovL,IAAI,GAAGnvL,EAAE7G,EAAEg2L,IAAI,GAAGv5L,EAAEmK,EAAEovL,IAAI,GAAGnvL,EAAE7G,EAAEg2L,IAAI,GAAGv5L,EAAEmK,EAAEovL,IAAI,GAAGnvL,EAAE7G,EAAEg2L,IAAI,GAAGv5L,GAAGqD,EAAE8G,EAAE0vL,MAAMl2L,EAAEJ,EAAEs2L,OAAO,EAAEl2L,EAAG,OAAO,IAAI7C,GAAEs5J,MAAMj6J,EAAEkD,IAAIg3L,UAAU,SAASlwL,GAAG,MAAO3K,MAAKu6L,WAAW5vL,EAAE,GAAIrJ,GAAEw4L,UAAU,OAAOgB,IAAI,SAASnwL,GAA2D,IAAI,GAAxD5G,GAAE2H,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAU,GAAGpD,EAAEC,EAAE7C,MAAc3D,EAAE,EAAEA,EAAEJ,EAAEK,OAAOD,IAAIuG,EAAEA,EAAEhG,QAAQ,KAAKX,EAAEI,GAAG2D,OAAOpD,QAAQ,QAAQX,EAAEI,GAAGmH,WAAY,OAAOZ,GAAEA,EAAEhG,QAAQ,MAAM,KAAK,GAAIpD,GAAEy5L,OAAOrwL,IAA8F,KAAI,GAAzFC,IAAG,SAAS,OAAO,OAAO,QAAQ,cAAc,aAAa,aAAa,WAAmB5G,EAAE,EAAEA,EAAE4G,EAAEvG,OAAOL,IAAI,CAAC,GAAI2G,GAAEC,EAAE5G,EAAGzC,GAAE+0B,UAAU3rB,GAAG,SAASC,GAAG,MAAO,YAAW,MAAO,IAAIrJ,GAAE05L,YAAYrwL,KAAKD,GAAGpJ,EAAE+0B,UAAU,kBAAkB,SAAS1rB,EAAE5G,GAAG,MAAO,IAAIzC,GAAE05L,YAAY,kBAAkBrwL,EAAE5G,KAAKzC,EAAE+0B,UAAU,cAAc,SAAS1rB,EAAE5G,EAAE2G,EAAEvG,EAAEtE,EAAEmE,EAAE4G,EAAEpK,GAAG,MAAO,IAAIc,GAAE05L,YAAY,cAAcrwL,EAAE5G,EAAE2G,EAAEvG,EAAEtE,EAAEmE,EAAE4G,EAAEpK,MAAOc,EAAE,aAAa25L,SAAS,IAAIlhE,GAAG,SAASz4H,EAAEqJ,EAAE5G,IAAG,SAAU4G,EAAED,GAAG,QAASE,KAAI,GAAGD,EAAE6F,QAAQ,MAAOlP,GAAE,sBAAsBmP,QAAQjM,MAAM,IAAK,IAAG4Q,SAASzK,EAAE8F,QAAQjM,MAAM,KAAK,GAAG,IAAI,EAAE,MAAOlD,GAAE,sBAAsBmP,QAAQjM,MAAM,IAAK,IAAIT,GAAEoL,KAAKC,MAAMvP,EAAEq7L,aAAal3L,EAAE+J,KAAKrD,EAAE,uBAAwB,OAAO3G,GAAE0M,QAAQjM,MAAM,KAAK,QAASX,GAAEvC,EAAEqJ,GAAG,GAAI5G,IAAGo3L,MAAM,EAAE,IAAIC,SAAS,EAAE,IAAIC,WAAW,EAAE,IAAIC,QAAQ,GAAG,IAAIC,OAAO,GAAG,IAAIC,KAAK,GAAG,IAAIC,MAAM,GAAG,IAAK,OAAM,KAAK13L,EAAE4G,GAAG,GAAG,IAAIrJ,EAAE,KAAKyC,EAAE4G,GAAG,GAAG,IAAI,GAAIxG,GAAE7C,EAAE,QAAQzB,EAAEyB,EAAE,MAAM0C,EAAE1C,EAAE,QAAQd,GAAGiQ,QAAQ7F,IAAI8wL,OAAOp6L,EAAE,YAAYo6L,OAAOC,SAASr6L,EAAE,cAAcq6L,SAASC,KAAKt6L,EAAE,UAAUu6L,WAAWv6L,EAAE,iBAAiBw6L,kBAAkBx6L,EAAE,sBAAsBy6L,WAAW,SAASz6L,EAAEqJ,GAAG,GAAI5G,GAAE,GAAG2G,EAAEpJ,EAAE06L,QAAQn8L,IAAa,IAAR8K,EAAEA,OAASA,EAAEkyB,OAAoC,MAAtBlyB,GAAEsvB,OAAOtvB,EAAEsvB,QAAQ,GAAQ,SAAU34B,IAAKoJ,GAA6D,gBAANA,GAAE,IAAc7K,EAAE8L,KAAK9H,EAAEvC,EAAEgkJ,KAAK,EAAE,IAAI56I,EAAE,GAAG,SAAgB,KAAPA,EAAE,IAAsB,mBAANA,GAAE,KAAkBA,EAAE,GAAG,KAAK7K,EAAE8L,KAAKrK,EAAEgkJ,KAAK,IAAI56I,EAAE,GAAG7H,MAAM,EAAEvB,EAAEwlL,QAAQjjL,EAAEA,EAAE6G,EAAE,GAAGpJ,EAAEwlL,QAAQ,QAAQp8K,EAAE,GAAG7H,MAAMvB,EAAEwlL,OAAO,GAAG,WAAwB,gBAANp8K,GAAE,IAAc7K,EAAE8L,KAAK9H,EAAEvC,EAAEgkJ,KAAK,EAAE,IAAI56I,EAAE,GAAG,SAAS7K,EAAE8K,EAAEsvB,OAAOp6B,EAAEkO,KAAK,KAAKpD,EAAEsvB,QAAQ,SAASl2B,EAAE4G,EAAEsvB,OAAOl2B,EAAEF,EAAEvC,EAAEizE,QAAQ,OAAOjzE,EAAE26L,WAAWl4L,GAAGF,EAAE,OAAO,OAAOvC,EAAE26L,UAAU93L,EAAEM,MAAMV,EAAElE,GAAGyB,EAAE46L,WAAW/3L,EAAEM,MAAMZ,EAAE,QAAQ,QAAQvC,EAAE26L,UAAU,KAAK93L,EAAEM,MAAMZ,EAAEvC,EAAE46L,SAAS,QAAQ,IAAI56L,EAAE66L,cAAc76L,EAAE6tF,OAAOhrF,EAAEM,MAAMZ,EAAEvC,EAAE6tF,MAAM,QAAnhB,QAAvChrF,EAAEM,MAAMkG,EAAEsvB,QAAQ34B,EAAE6tF,OAAO7tF,EAAEizE,WAAuiBjzE,GAAE,eAAeA,EAAE,gBAAgBA,EAAE,kBAAkBA,EAAE,qBAAqBA,EAAE,oBAAoBA,EAAE,kBAAkBA,EAAE,qBAAqBA,EAAE,oBAAoBA,EAAE,iBAAiBA,EAAE,gBAAgBA,EAAE,kBAAkBA,EAAE,gBAAgBA,EAAE,kBAAkBA,EAAE,oBAAoBA,EAAE,iBAAiBA,EAAE,sBAAsBA,EAAE,oBAAoBA,EAAE,eAAeA,EAAE,kBAAkBA,EAAE,mBAAmBA,EAAE,gBAAgBA,EAAE,cAAcA,EAAE,gBAAgBA,EAAE,mBAAmBA,EAAE,eAAeA,EAAE,kBAAkBA,EAAE,kBAAkBA,EAAE,uBAAuBA,EAAE,cAAe,KAAI,GAAIX,KAAKH,GAAEuD,EAAEpD,GAAGH,EAAEG,KAAKqI,KAAKhJ,KAAKsB,EAAE,YAAY,gBAAgB86L,qBAAqB,GAAGC,cAAc,EAAEC,WAAW,EAAEC,aAAa,EAAEC,gBAAgB,EAAEC,qBAAqB,EAAExB,SAAS,EAAEyB,cAAc,EAAEC,eAAe,EAAEC,iBAAiB,GAAGC,oBAAoB,GAAGC,mBAAmB,GAAGC,iBAAiB,GAAGC,oBAAoB,GAAGC,eAAe,GAAGC,gBAAgB,GAAGC,mBAAmB,GAAGC,iBAAiB,GAAGC,sBAAsB,GAAGC,qBAAqB,GAAGC,iBAAiB,GAAGC,iBAAiB,GAAGC,eAAe,GAAGC,iBAAiB,GAAGC,mBAAmB,GAAGC,gBAAgB,GAAGC,mBAAmB,GAAGC,cAAc,GAAGC,iBAAiB,GAAGC,kBAAkB,GAAGC,eAAe,GAAGC,aAAa,GAAGC,eAAe,GAAGC,kBAAkB,GAAGC,cAAc,GAAGC,SAAS,GAAGC,GAAG,GAAGzyI,KAAK,GAAG21F,KAAK,KAAK+8C,GAAG,SAASl9L,EAAEqJ,EAAE5G,IAAG,SAAU4G,GAAG,GAAID,GAAE3G,EAAEI,EAAE7C,EAAE,UAAUzB,EAAE8K,EAAEpK,GAAGe,EAAE,aAAcoJ,GAAEgxL,OAAO,SAAS/wL,GAAG,QAASE,KAAID,EAAE/G,EAAEG,GAAGxD,EAAEkK,EAAExJ,EAAEwJ,EAAE,QAAS5G,KAAID,EAAEG,GAAG4G,EAAEF,EAAElK,EAAEU,EAAEwJ,EAAE,QAAShH,KAAIgH,EAAExJ,IAAI2C,EAAEG,GAAGH,EAAEG,GAAGnB,MAAM6H,EAAExJ,GAAGA,EAAEwJ,GAAG,QAASO,GAAE3J,GAAG,GAAIqJ,GAAI9K,EAAE+K,EAAIjK,CAAI,IAAGW,YAAa+N,UAAS,MAAO/N,GAAE0H,KAAKrF,EAAE86L,QAAS,IAAa,gBAAHn9L,GAAYqJ,EAAE5G,EAAEuI,OAAO5B,KAAKpJ,EAAEA,EAAE,KAAKzB,EAAE,EAAE6D,QAAQ,CAAoB,GAAnBA,IAAIiH,EAAErJ,EAAEiL,KAAK1I,EAAEG,KAAQ2G,EAAE,MAAO,KAAK9K,GAAE8K,EAAE,GAAGvG,OAAO,GAAGuG,EAAE,CAAC,GAAIvJ,GAAEsJ,GAAG7K,CAAoB,KAAlBc,EAAE+J,EAAE7G,EAAEG,GAAGI,OAAOvE,EAAQ6K,EAAE/J,IAAGiK,EAAE7G,EAAE21B,WAAWhvB,GAAU,KAAJE,GAAY,KAAJA,GAAY,IAAJA,IAAYF,GAAI,OAAO7G,GAAEG,GAAGH,EAAEG,GAAGnB,MAAMhD,GAAG6K,EAAEtJ,IAAIF,EAAEwJ,EAAgB,IAAd7G,EAAEG,GAAGI,QAAYJ,EAAEH,EAAEO,OAAO,GAAGJ,IAAc,gBAAH2G,GAAYA,EAAa,IAAXA,EAAEvG,OAAWuG,EAAE,GAAGA,GAAG,QAASlK,GAAEa,GAAG,MAAiB,gBAAHA,GAAYyC,EAAEuI,OAAO5B,KAAKpJ,IAAIA,EAAE2D,KAAKpB,EAAEG,IAAI,QAAS8G,GAAExJ,EAAEqJ,GAAG,OAAOrJ,EAAEuB,MAAM,EAAE8H,GAAG6V,MAAM,QAAQ,IAAIpc,OAAO,EAAE,QAASqH,GAAEnK,GAAG,GAAIoJ,EAAE7K,GAAEyB,GAAG01B,UAAUxS,MAAM7jB,EAAEs7L,SAAStxL,EAAEsxL,SAAS1nH,QAAQ,eAAe+wE,KAAK,EAAEwhC,QAAO,IAAwDp8K,EAAnDpJ,EAAE26L,UAAUh4L,EAAEy6L,IAAIntH,QAAQttE,EAAEy6L,IAAIntH,OAAOjwE,EAAE26L,UAAYh4L,EAAEy6L,IAAIntH,OAAOjwE,EAAE26L,UAAYl4L,EAAEzC,EAAEgkJ,KAAKx6I,EAAEJ,EAAEpJ,EAAEkjB,MAAO,KAAI,GAAIrgB,GAAE7C,EAAEkjB,MAAMrgB,GAAG,GAAiB,OAAduG,EAAE4B,OAAOnI,GAAUA,IAAI7C,EAAEwlL,QAAS,OAAO,IAAI53K,OAAMrP,EAAE,oDAAoDo5B,SAAS33B,IAAI,GAAIyC,GAAE2G,EAAE1G,EAAE4G,EAAEpK,EAAEG,EAAEkD,EAAE3C,EAAEyC,EAAEM,EAAEjE,IAAoB,OAAOA,MAAK0+L,IAAI/zL,EAAEA,MAAM3K,KAAK0+L,IAAIzC,SAASj8L,KAAK0+L,IAAIzC,UAAU,KAAKj8L,KAAK0+L,IAAIntH,OAAOvxE,KAAK0+L,IAAIntH,WAAW5tE,GAAGg7L,iBAAiB7zL,EAAEsE,MAAM,SAAS9N,GAAG,GAAIzB,GAAmBY,EAAE,IAAKiK,GAAE1G,EAAE9C,EAAEP,EAAE,EAAEkD,KAAKE,EAAEzC,EAAEoD,QAAQ,QAAQ,MAAMiG,EAAEsxL,WAAWh4L,EAAEy6L,IAAIntH,OAAO5mE,EAAEsxL,UAAUl4L,EAAi2B,IAAr1BF,EAAE,SAASvC,GAAmL,IAAI,GAAfsJ,GAASjK,EAAcO,EAAEyC,EAA1LgH,EAAE,EAAED,EAAE,uCAAuCvG,EAAE,uCAAuCtE,EAAE,qEAAqEmE,EAAE,EAAIxD,EAAEc,EAAE,GAAauC,EAAE,EAAMA,EAAEE,EAAEK,QAAyH,GAAhHsG,EAAE8uB,UAAU31B,GAAG+G,EAAEF,EAAE6B,KAAKxI,KAAK6G,EAAE4Z,QAAQ3gB,IAAIA,GAAG+G,EAAE,GAAGxG,OAAO5D,EAAEmL,KAAKf,EAAE,KAAK1J,EAAE6C,EAAEuI,OAAOzI,GAAGM,EAAEq1B,UAAU35B,EAAE25B,UAAU31B,GAAK+G,EAAE/K,EAAE0M,KAAKxI,KAAM6G,EAAE4Z,QAAQ3gB,EAAGA,GAAG+G,EAAE,GAAGxG,OAAO5D,EAAEmL,KAAKf,EAAE,QAAa,IAAIjK,GAAO,MAAJO,IAASyC,EAAEI,EAAEuI,OAAOzI,EAAE,GAAU,MAAJF,GAAa,MAAJA,KAAWiH,EAAEzG,EAAEoI,KAAKxI,KAAM6G,EAAE4Z,QAAQ3gB,GAAhF,CAAyH,OAAO3C,GAAG,IAAI,IAAI,IAAIP,EAAE,CAACqD,IAAIxD,EAAEmL,KAAKzK,EAAG,OAAO,IAAI,IAAI,IAAIP,EAAE,CAACqD,IAAIxD,EAAEmL,KAAKzK,GAAGI,IAAIqJ,GAAGnK,IAAK,OAAO,IAAI,IAAI,IAAIG,EAAE,CAACA,GAAE,EAAGH,EAAEmL,KAAKzK,EAAG,OAAO,IAAI,IAAI,GAAGP,EAAE,CAACA,GAAE,EAAGH,EAAEmL,KAAKzK,EAAG,OAAO,QAAQV,EAAEmL,KAAKzK,GAAG2C,QAA/NA,IAAG+G,EAAE,GAAGxG,OAAO5D,EAAEmL,KAAKf,EAAE,GAA2M,OAAW,KAAJ5G,IAAQvD,GAAG+jB,MAAM3gB,EAAE,EAAEyB,KAAK,QAAQivE,QAAQvwE,EAAE,EAAE,sBAAsB,wBAAwB1C,EAAE0M,IAAI,SAAS1M,GAAG,MAAOA,GAAEyM,KAAK,aAAgBtN,EAAE,KAAMgL,GAAEhL,EAAGZ,GAAE,GAAIsE,GAAEy6L,WAAW3zL,EAAEjL,KAAKy+L,QAAQI,UAAUh/L,EAAEE,MAAK,EAAGF,EAAEi/L,OAAO,WAAqB,MAAO,UAASx9L,GAAGA,EAAEmD,MAAM,SAASkG,GAAGrJ,EAAEikJ,SAASjkJ,EAAEikJ,OAAO,GAAIr2I,OAAM,KAAK5N,EAAEikJ,OAAOhxE,QAAQjzE,EAAEikJ,OAAOhxE,SAAS,KAAK9oE,EAAEd,GAAG4pE,QAAQjzE,EAAEikJ,OAAOhxE,QAAQ9oE,EAAEd,GAAG4pE,SAASjzE,EAAEy9L,OAAOz9L,EAAEy9L,UAAW,IAAIp0L,GAAE3K,KAAK01B,cAAcp0B,EAAG,OAAOqJ,GAAEuD,KAAK9E,GAAGuB,KAAM,IAAIvB,GAAE,SAAS9H,EAAEqJ,GAAG,GAAI5G,GAAEzC,EAAE09L,YAAYt0L,EAAEC,EAAEq0L,WAAY,OAAOj7L,GAAE,IAAI2G,EAAE,GAAGA,EAAE,GAAG3G,EAAE,GAAGA,EAAE,IAAI2G,EAAE,GAAGA,EAAE,GAAG3G,EAAE,GAAGA,EAAE,IAAI2G,EAAE,GAAGA,EAAE,GAAG3G,EAAE,GAAG2G,EAAE,GAAG3G,EAAE,GAAI,OAAOlE,IAAG4+L,SAASI,QAAQ,WAAsB,IAAX,GAAIv9L,GAAEqJ,MAAYrJ,EAAE2J,EAAEjL,KAAKi/L,OAAOh0L,EAAEjL,KAAKw1I,UAAUvqI,EAAEjL,KAAKg9I,WAAW/xI,EAAE,cAAc3J,EAAE2J,EAAEjL,KAAKk/L,WAAU59L,GAAGqJ,EAAEgB,KAAKrK,EAAG,OAAOqJ,IAAGu0L,QAAQ,WAAW,GAAI59L,GAAE2J,EAAE,gBAAiB,IAAG3J,EAAE,MAAO,IAAI6C,GAAEg7L,QAAQ79L,EAAEd,IAAIw8I,QAAQ,WAAW,GAAI17I,EAAE,IAAiB,MAAdyC,EAAEuI,OAAO5B,GAAgB,MAAmB,MAAhB3G,EAAEuI,OAAO5B,EAAE,GAAgB,GAAIvG,GAAEi7L,QAAQn0L,EAAE,YAAW,IAAO3J,EAAE2J,EAAE,qCAA2C,GAAI9G,GAAEi7L,QAAQ99L,GAAhE,QAAoE+9L,UAAUC,OAAO,WAAW,GAAiB,MAAdv7L,EAAEuI,OAAO5B,IAAwB,MAAd3G,EAAEuI,OAAO5B,GAA/B,CAA+C,GAAIpJ,GAAE2J,EAAE,mDAAoD,OAAG3J,GAAS,GAAI6C,GAAE42L,OAAOz5L,EAAE,IAAIA,EAAE,IAAjC,SAAsCi9J,MAAM,WAAW,GAAItzJ,EAAE,KAAN,CAAkB,GAAI3J,GAAE2J,EAAE,YAAa,IAAIA,EAAE,KAAY,MAAG3J,GAAS,GAAI6C,GAAEo7L,MAAMj+L,EAAE,IAA1B,SAA+Bk+L,WAAW,WAAW,GAAIl+L,GAAE2J,EAAE,qBAAsB,IAAG3J,EAAE,MAAOA,IAAGm+L,QAAQ,WAAW,GAAIn+L,GAAE2J,EAAE,4BAA6B,IAAG3J,EAAE,MAAO,IAAI6C,GAAEu7L,QAAQp+L,IAAI0H,KAAK,WAAW,GAAI1H,GAAEqJ,CAAE,IAAKrJ,EAAE,iBAAiBiL,KAAK1I,EAAEG,IAA/B,CAAkD,GAAP1C,EAAEA,EAAE,GAAU,QAAJA,EAAU,MAAO,KAAqD,IAAhDoJ,GAAGpJ,EAAE8C,OAAO6G,EAAE,KAAKN,EAAEM,EAAEjL,KAAKq/L,SAASvxL,WAAe7C,EAAE,KAAY,MAAG3J,GAAS,GAAI6C,GAAEw7L,KAAKr+L,EAAEqJ,EAAED,GAA3B,SAA+BoD,UAAU,WAAsB,IAAX,GAASnD,GAALrJ,MAAaqJ,EAAEM,EAAEjL,KAAK4/L,eAAat+L,EAAEqK,KAAKhB,GAAOM,EAAE,QAAW,MAAO3J,IAAGu+L,QAAQ,WAAW,MAAO50L,GAAEjL,KAAKq/L,SAASS,YAAY70L,EAAEjL,KAAKq/L,SAASU,eAAe90L,EAAEjL,KAAKq/L,SAASW,WAAW/0L,EAAEjL,KAAKq/L,SAASC,SAAS13K,IAAI,WAAW,GAAItmB,EAAE,IAAiB,MAAdyC,EAAEuI,OAAO5B,IAAWO,EAAE,UAAiB,MAAO3J,GAAE2J,EAAEjL,KAAKq/L,SAASC,SAASr0L,EAAEjL,KAAKq/L,SAASnmK,WAAWjuB,EAAE,2BAA2B,GAAGA,EAAE,KAAK,GAAI9G,GAAE87L,IAAoB,mBAAT3+L,GAAEwG,OAAoBxG,YAAa6C,GAAE+7L,SAAS5+L,EAAE,GAAI6C,GAAE42L,OAAOz5L,IAAI,GAAI6C,GAAEg7L,QAAQ79L,EAAEd,EAAE,8BAA8B04B,SAAS,WAAW,GAAI53B,GAAEzB,EAAE6K,CAAE,IAAiB,MAAd3G,EAAEuI,OAAO5B,KAAWpJ,EAAE2J,EAAE,aAAa,MAAO,IAAI9G,GAAE+7L,SAAS5+L,EAAEzB,EAAE8K,EAAEsxL,WAAW+D,SAAS,WAAW,GAAI1+L,EAAE,IAAiB,MAAdyC,EAAEuI,OAAO5B,KAAWpJ,EAAE2J,EAAE,sCAAsC,MAAO,IAAI9G,GAAEy2J,MAAMt5J,EAAE,KAAKy+L,aAAa,WAAW,GAAIz+L,GAAEuC,EAAEG,GAAGwc,MAAM,UAAW,IAAGlf,GAAGA,EAAE,IAAK6C,GAAEg8L,UAAU33L,KAAKywJ,OAAO,MAAO,IAAI90J,GAAEy2J,MAAMz2J,EAAEg8L,UAAU33L,KAAKywJ,OAAOhuJ,EAAE,cAAc60L,UAAU,WAAW,GAAIx+L,GAAEyC,EAAE21B,WAAWhvB,EAAG,MAAGpJ,EAAE,IAAIA,EAAE,IAAQ,KAAJA,GAAf,CAA6B,GAAIqJ,GAAEM,EAAE,2CAA4C,OAAGN,GAAS,GAAIxG,GAAE21L,UAAUnvL,EAAE,GAAGA,EAAE,GAAGnK,GAAtC,UAA2C04B,SAAS,WAAW,GAAI53B,EAAE,IAAiB,MAAdyC,EAAEuI,OAAO5B,KAAWpJ,EAAE2J,EAAE,mBAAmB,MAAO3J,GAAE,IAAI8+L,OAAO,WAAW,MAAOn1L,GAAEjL,KAAKq/L,SAASr2L,OAAOiC,EAAEjL,KAAKq/L,SAASQ,UAAU50L,EAAEjL,KAAKq/L,SAAS9gC,QAAQtzJ,EAAEjL,KAAKq/L,SAASnmK,WAAWjuB,EAAEjL,KAAKq/L,SAASz3K,MAAM3c,EAAEjL,KAAKq/L,SAASI,UAAUxxL,IAAI,WAAW,MAAOhD,GAAE,MAAMxK,EAAE,MAAMqjC,QAAQ,WAAW,GAAIxiC,GAAE2J,EAAE,0BAA2B,IAAG3J,EAAE,MAAO,IAAI6C,GAAEk8L,QAAQ/+L,IAAIg/L,WAAW,WAAW,GAAIh/L,GAAE2J,EAAE,6BAA8B,IAAG3J,EAAE,MAAOA,GAAE,IAAI+K,SAAS,WAAW,GAAI/K,GAAEqJ,EAAE9K,EAAO+K,EAAoB/G,EAAzBG,KAAOrD,EAAE,GAAIwD,GAAEo8L,UAAYr/L,KAAKyC,EAAEQ,EAAEq8L,YAAYC,IAA6B,KAAxBC,SAAS,EAAEC,WAAW,GAAS9gM,EAAEoL,EAAEjL,KAAK8jC,YAAYjgC,EAAEoH,EAAEjL,KAAKqV,SAASurL,GAAG31L,EAAEjL,KAAK6gM,iBAAiBj2L,EAAEK,EAAEjL,KAAKkJ,WAAW5H,EAAE2J,EAAEjL,KAAKsgM,cAAa,CAAY,GAAXI,WAAc7gM,EAAEmE,EAAE2H,KAAK9L,OAAQ,IAAGgE,EAAE3C,EAAEyK,KAAK9H,GAAG88L,iBAAkB,IAAGC,GAAGj9L,EAAEi9L,GAAGD,iBAAkB,IAAG/1L,EAAE,CAAC,GAAI3G,GAAEtD,EAAE4H,IAAIqC,EAAG,IAAG3G,EAAE,KAAMwH,IAAG8oE,QAAQtwE,EAAEugB,MAAM9Z,EAAE,GAAIi2L,kBAAiB,CAAC,GAAGh2L,EAAE,KAAMc,IAAG8oE,QAAQ,sCAAsC/vD,MAAM9Z,EAAE,GAAIC,GAAErJ,EAAE,GAAIF,GAAE2C,EAAEuI,OAAO5B,EAAG,IAAO,MAAJtJ,GAAa,MAAJA,GAAa,MAAJA,GAAa,MAAJA,EAAQ,MAAM,GAAGs/L,SAAS,MAAO,IAAIv8L,GAAE28L,SAASngM,EAAEO,EAAEyC,EAAEK,EAAE2G,EAAEg2L,WAAWngM,IAAI0I,OAAO,WAAW2B,GAAI,IAAIvJ,GAAEyC,EAAE2G,CAAE,IAAIO,EAAE,OAAe3J,EAAE2J,EAAE,qBAAqBA,EAAEjL,KAAKq/L,SAASC,SAASr0L,EAAEjL,KAAKq/L,SAASnmK,WAAWjuB,EAAEjL,KAAKq/L,SAASI,UAAUx0L,EAAEjL,KAAKq/L,SAAS9gC,UAAQj9J,YAAa6C,GAAE42L,SAASz5L,EAAE,GAAI6C,GAAEo7L,MAAMj+L,EAAEgK,cAAiBvH,EAAEkH,EAAEjL,KAAKq/L,SAASG,eAAe90L,EAAEO,EAAEjL,KAAKq/L,SAASC,SAASr0L,EAAEjL,KAAKq/L,SAASnmK,WAAWjuB,EAAEjL,KAAKq/L,SAASS,YAAY70L,EAAEjL,KAAKq/L,SAASI,UAAUx0L,EAAEjL,KAAKq/L,SAAS9gC,SAAQ,CAAC,IAAItzJ,EAAE,KAAK,KAAMQ,IAAG8oE,QAAQ,+BAA+B/vD,MAAMhkB,EAAE,GAAI,OAAOc,GAAEkb,KAAKlb,EAAE,GAAI6C,GAAEo7L,MAAMj+L,IAAI,GAAI6C,GAAE48L,OAAOz/L,EAAEyC,EAAE2G,EAAElK,EAAEmK,EAAEsxL,YAAa4E,aAAa,WAAWh2L,GAAI,IAAIvJ,GAAEqJ,CAAE,IAAGM,EAAE,yBAAyB3J,EAAE2J,EAAEjL,KAAKq/L,SAASG,eAAe70L,EAAEM,EAAE,UAAUA,EAAE,KAAK,MAAO9G,GAAEq8L,YAAYl/L,EAAEqJ,EAAEnK,IAAI6U,KAAK,WAAWxK,GAAI,IAAIvJ,GAAEqJ,CAAE,OAAGM,GAAE,iBAAiB3J,EAAE2J,EAAEjL,KAAKq/L,SAASG,eAAe70L,EAAEM,EAAEjL,KAAKq/L,SAASnmK,WAAWjuB,EAAEjL,KAAKq/L,SAASS,aAAa70L,EAAE,KAAY,GAAI9G,GAAE2oE,KAAKxrE,EAAEqJ,EAAEnK,OAAGsD,MAAK4xI,MAAM,WAAW,GAAIp0I,EAAE,IAAG2J,EAAE,OAAO3J,EAAE2J,EAAEjL,KAAK6+L,WAAW5zL,EAAE,KAAK,MAAO3J,IAAGk0I,QAAQ,WAAW,GAAS7qI,GAAM9K,EAAXyB,IAAsB,KAAJuJ,IAAUF,EAAEM,EAAEjL,KAAKqM,WAAU,CAAW,IAAV/K,EAAEqK,KAAKhB,GAASM,EAAEjL,KAAKg9I,WAAU,IAAI/xI,EAAE,KAAK,KAAM,MAAMA,EAAEjL,KAAKg9I,YAAW,GAAGryI,EAAE,KAAMM,EAAEjL,KAAKg9I,WAAU,GAAG17I,EAAE8C,OAAO,IAAIvE,EAAEoL,EAAEjL,KAAK01I,QAAQ,CAAC,GAAc,IAAXp0I,EAAE8C,QAAY9C,EAAE,GAAGoqB,SAAStnB,QAAiC,QAAzB9C,EAAE,GAAGoqB,SAAS,GAAG5jB,MAAc,CAAC,GAAI8C,GAAE,GAAIzG,GAAEy6L,QAAQt9L,EAAEzB,EAAG,OAAO+K,GAAEo2L,OAAM,EAAGp2L,EAAE,MAAO,IAAIzG,GAAEy6L,QAAQt9L,EAAEzB,GAAGiE,KAAKm7L,KAAK,WAAW,GAAI39L,GAAEzB,EAAEmE,EAAED,EAAEuI,OAAO5B,EAAO,IAAJG,IAAW,MAAJ7G,GAAa,MAAJA,IAAkB1C,EAAE2J,EAAEjL,KAAKk5B,WAAWjuB,EAAEjL,KAAKuvI,WAAU,CAAiB,GAAhB1vI,EAAEoL,EAAEjL,KAAK8H,OAAUjI,GAAGoL,EAAEjL,KAAKiO,KAAK,MAAO,IAAI9J,GAAE88L,KAAK3/L,EAAEzB,EAAEW,EAAEmK,EAAEsxL,SAAUt7L,GAAE+J,EAAE5G,MAAMomF,KAAK,WAA+B,IAApB,GAAkBrqF,GAAdyB,KAAKqJ,KAAiB9K,EAAEoL,EAAEjL,KAAKogM,SAAQz1L,EAAEgB,KAAK9L,EAA+B,IAA5ByB,EAAEqK,KAAK,GAAIxH,GAAE+8L,WAAWv2L,IAAOM,EAAE,KAAK,MAAMpL,EAAEoL,EAAEjL,KAAK4/L,eAAat+L,EAAEqK,KAAK9L,GAAOoL,EAAE,QAAW,MAAO,IAAI9G,GAAEg9L,MAAM7/L,IAAIwG,MAAM,WAAsB,IAAX,GAAIxG,GAAEqJ,MAAWrJ,EAAE2J,EAAEjL,KAAK4/L,eAAaj1L,EAAEgB,KAAKrK,GAAO2J,EAAE,QAAW,MAAGN,GAAEvG,OAAO,EAAS,GAAID,GAAEg9L,MAAMx2L,EAAEqD,IAAI,SAAS1M,GAAG,MAAOA,GAAEwG,MAAM,MAAoB,IAAX6C,EAAEvG,OAAkB,GAAID,GAAEg9L,MAAMx2L,GAAnC,QAAuC+F,IAAI,WAAW,GAAIpP,EAAE,IAAG2J,EAAE,OAAO3J,EAAE2J,EAAEjL,KAAK4/L,cAAc30L,EAAE,KAAK,MAAO3J,IAAG8/L,eAAe,WAAW,GAAI9/L,GAAEqJ,EAAE5G,EAAE2G,CAAE,IAAGpJ,EAAE2J,EAAEjL,KAAKqhM,SAAS,CAAC,MAAOt9L,EAAEkH,EAAE,MAAMA,EAAE,MAAMA,EAAE,QAAQN,EAAEM,EAAEjL,KAAKqhM,WAAU32L,EAAE,GAAIvG,GAAEm9L,UAAUv9L,GAAG2G,GAAGpJ,EAAEqJ,GAAGnK,EAAG,OAAOkK,IAAGpJ,IAAIigM,SAAS,WAAW,GAAIjgM,GAAEqJ,EAAE9K,EAAEmE,CAAE,IAAG1C,EAAE2J,EAAEjL,KAAKohM,gBAAgB,CAAC,MAAOvhM,EAAEoL,EAAE,aAA4B,KAAflH,EAAEuI,OAAO5B,EAAE,KAAUO,EAAE,MAAMA,EAAE,SAASN,EAAEM,EAAEjL,KAAKohM,kBAAiBp9L,EAAE,GAAIG,GAAEm9L,UAAUzhM,GAAGmE,GAAG1C,EAAEqJ,GAAGnK,EAAG,OAAOwD,IAAG1C,IAAI+/L,QAAQ,WAAW,MAAOp2L,GAAEjL,KAAK0Q,MAAMzF,EAAEjL,KAAKogM,SAASR,WAAW,WAA0B,IAAf,GAAIt+L,GAAIyC,KAAazC,EAAE2J,EAAEjL,KAAKuhM,WAAWt2L,EAAEjL,KAAKogM,SAAQr8L,EAAE4H,KAAKrK,EAAG,IAAGyC,EAAEK,OAAO,EAAE,MAAO,IAAID,GAAE+8L,WAAWn9L,IAAIwrI,SAAS,WAAW,GAAIjuI,GAAE2J,EAAE,+CAAgD,IAAG3J,EAAE,MAAOA,GAAE,SAAW0H,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaksL,SAAS,EAAE5zC,WAAWnsH,SAAYg/F,GAAG,SAAS54H,EAAEqJ,EAAE5G,IAAG,SAAUA,GAAG,QAASlE,GAAEyB,EAAEqJ,EAAE5G,EAAE2G,GAAmC,IAAI,GAAV1G,GAAE4G,EAAEpK,EAA1B2D,EAAEwG,EAAEwX,QAAQtiB,EAAE8K,EAAE62L,MAAoB7gM,EAAE,EAAEA,EAAEW,EAAE8C,OAAOzD,IAAIqD,EAAE1C,EAAEX,GAAGwhB,QAAQs/K,UAAUt9L,GAAGH,GAAGxD,EAAEuD,EAAEC,GAAGxD,EAAEA,EAAEkhM,SAAS7hM,IAAI+K,EAAEtJ,EAAEX,GAAGiM,MAAM5I,GAAG4G,EAAE82L,SAAS7hM,KAAKkE,EAAEC,GAAG4G,EAAEtJ,EAAE6M,OAAOxN,EAAE,EAAEiK,GAAGjK,OAAW,OAAJqD,IAAW1C,EAAEX,GAAGW,EAAEX,GAAGiM,QAAQtL,EAAEX,GAAG+gM,SAAS7hM,GAAI,OAAOyB,GAAE,QAAS0C,GAAE1C,EAAEqJ,GAAG,GAAiCC,GAAIjK,EAAjCoD,GAAG,GAAKsM,MAAM3F,KAAKvG,KAAKH,IAAW1C,GAAE2xB,QAAQ,SAAS3xB,GAAGA,EAAE6gB,QAAQ02E,GAAGluF,IAAK,KAAI,GAAI9G,GAAE,EAAEA,EAAEvC,EAAE8C,OAAOP,IAAI,CAAClD,EAAEW,EAAEuC,GAAGy8L,WAAW11L,GAAGtJ,EAAEuC,IAAI6G,EAAE/J,KAAK+J,EAAE/J,MAAM+J,EAAE/J,GAAG2/L,WAAW3/L,EAAEwD,EAAExD,MAAMqD,EAAE2H,KAAKjB,EAAE/J,IAAK,KAAI,GAAIO,GAAE2C,EAAE,EAAE3C,EAAEI,EAAE8C,OAAOlD,IAAII,EAAEJ,GAAGo/L,aAAa3/L,IAAIiK,EAAE/K,EAAE+K,EAAEtJ,EAAEJ,GAAGiD,EAAExD,GAAGgK,GAAI,KAAI,GAAIhH,GAAE,EAAEA,EAAEiH,EAAExG,OAAOT,IAAIQ,EAAExD,GAAGiK,EAAEjH,GAAGwe,SAASvX,EAAEjH,GAAG+G,EAAE/J,GAAGgL,KAAKf,EAAEjH,IAAI,MAAOgH,GAAEg3L,WAAWjtG,QAAQktG,KAAK,sBAAsB,GAAIvxL,MAAKtM,GAAG,MAAMC,EAAE,QAAS4G,GAAEtJ,EAAEqJ,GAAG,MAAOA,GAAE6Z,MAAMljB,EAAEkjB,MAAM,QAAShkB,GAAEc,EAAEqJ,GAAG,IAAI,GAAI5G,GAAE,EAAEA,EAAEzC,EAAE8C,OAAOL,IAAI,CAAC,GAAI2G,GAAEpJ,EAAEyC,EAAG2G,GAAE8Z,MAAMmN,EAAAA,CAAS,KAAI,GAAIxtB,GAAE,EAAEA,EAAEuG,EAAEtG,OAAOD,IAAsB,IAAI,GAAjBtE,GAAE6K,EAAEvG,GAAGq9L,MAAcx9L,EAAE,EAAEA,EAAEnE,EAAEuE,OAAOJ,IAAI,CAAC,GAAIxD,GAAEX,EAAEmE,EAAGxD,GAAEgkB,MAAM9Z,EAAE8Z,QAAQ9Z,EAAE8Z,MAAMhkB,EAAEgkB,QAAS,GAAI7jB,GAAEW,EAAEuB,OAAQ,OAAOlC,GAAEuN,KAAKtD,GAAGjK,EAAE,QAASA,GAAEW,EAAEqJ,EAAE5G,GAAG,GAAIlE,MAAKmE,EAAEG,EAAEy3L,KAAKuE,UAAU33L,KAAKq5L,YAAY7zL,GAAI,OAAOtD,GAAEpJ,GAAGmB,KAAK,SAASnB,EAAEqJ,GAAGA,IAAK3G,KAAInE,EAAE8K,GAAGA,EAAE,KAAKrJ,EAAE,OAAOqJ,EAAEzB,OAAO,SAAS5H,GAAG,MAA6B,QAAtBA,EAAEoqB,SAAS3d,KAAK,MAAcklB,QAAQ,SAAS3xB,GAAG,IAAI,GAAIqJ,GAAE,EAAEA,EAAErJ,EAAEkgM,MAAMp9L,OAAOuG,IAAI,CAAC,GAAID,GAAEpJ,EAAEkgM,MAAM72L,GAAGmM,IAAKpM,KAAK1G,IAAGD,EAAEU,OAAO8vE,QAAQ,QAAQ7pE,EAAE,wBAAwB8Z,MAAMljB,EAAEkgM,MAAM72L,GAAG6Z,QAAQ3kB,EAAE6K,GAAGpJ,EAAEkgM,MAAM72L,GAAGkuF,GAAG90F,GAAG+9L,MAAM/9L,MAAMlE,EAAE,GAAI6K,GAAE3G,EAAExD,GAAGe,EAAE,cAAc6C,EAAE7C,EAAE,UAAW6C,GAAEw3L,SAAS,SAAShxL,EAAE5G,GAAG/D,KAAK0+L,IAAI/zL,MAAM3K,KAAK0Y,QAAQ3U,MAAM/D,KAAK0Y,QAAQqpL,eAAe/hM,KAAK0Y,QAAQqpL,gBAAgB,SAAS59L,EAAEw3L,SAAStwL,UAAU22L,UAAU,SAASr3L,GAAG,GAAI5G,GAAE2G,EAAE1K,KAAK0+L,KAAK1nK,UAAU2qK,WAAU,EAAGM,iBAAgB,EAAGC,YAAa,KAAI/9L,EAAEy3L,KAAKuE,UAAUgC,WAAWniM,KAAK0Y,QAAQqpL,gBAAgB,KAAM,IAAI7yL,OAAM,mCAAmClP,KAAK0Y,QAAQqpL,eAAgB,IAAIliM,MAAK+K,IAAK7G,GAAE49L,WAAWjtG,QAAQ9qD,KAAK,cAAe,IAAIjpC,GAAEwD,EAAEu3L,OAAO33L,GAAGqL,MAAMzE,EAAG5G,GAAE49L,WAAWjtG,QAAQ0tG,QAAQ,eAAer+L,EAAE49L,WAAWjtG,QAAQ9qD,KAAK,kBAAmB,IAAI/lC,GAAElD,EAAEm+L,OAAO/6L,EAAGA,GAAE49L,WAAWjtG,QAAQ0tG,QAAQ,mBAAmBr+L,EAAE49L,WAAWjtG,QAAQ9qD,KAAK,mBAAoB,IAAI1oC,GAAE8C,EAAEH,EAAEE,EAAGA,GAAE49L,WAAWjtG,QAAQ0tG,QAAQ,oBAAoBr+L,EAAE49L,WAAWjtG,QAAQ9qD,KAAK,aAAc,IAAIjmC,GAAEnD,EAAEU,EAAE6C,EAAGA,GAAE49L,WAAWjtG,QAAQ0tG,QAAQ,cAAcr+L,EAAE49L,WAAWjtG,QAAQ9qD,KAAK,yBAA0B,KAAI,GAAQxoC,GAAEyJ,EAAN5G,EAAE,EAAMA,EAAEN,EAAES,OAAOH,IAAI,CAAC7C,EAAEuC,EAAEM,GAAG4G,EAAE,SAAwB,gBAAfzJ,EAAEk/L,WAA2B,IAAIl/L,EAAEk/L,WAAW,IAAI11L,EAAEe,KAAKd,EAAG,IAAI/G,GAAE,YAAW+G,EAAE,OAAO5G,EAAE,SAAUF,GAAE49L,WAAWjtG,QAAQ9qD,KAAK9lC,GAAGjE,EAAE8L,KAAKxH,EAAEy3L,KAAKyG,SAASx3L,EAAEzJ,EAAEk/L,WAAWl/L,EAAE2C,IAAIA,EAAE49L,WAAWjtG,QAAQ0tG,QAAQt+L,GAA0D,GAAvDC,EAAE49L,WAAWjtG,QAAQ0tG,QAAQ,0BAA6Br+L,EAAEwhJ,OAAO,KAAMxhJ,GAAEwhJ,MAAO,OAAO1lJ,GAAEkO,KAAK,OAAO5J,EAAEw3L,SAAStwL,UAAUo4B,OAAO,SAAS94B,GAAG,QAAS9G,GAAEvC,EAAEqJ,GAAG,MAAO,UAASrJ,GAAG,MAAOA,GAAEghM,UAAU3+L,EAAEmT,KAAKnM,IAAI,GAAI5G,GAAE2G,EAAE1K,KAAK0+L,KAAK1nK,UAAU2qK,WAAU,EAAGM,iBAAgB,EAAGC,WAAWK,IAAI,QAAS,KAAIp+L,EAAEy3L,KAAKuE,UAAUgC,WAAWniM,KAAK0Y,QAAQqpL,gBAAgB,KAAM,IAAI7yL,OAAM,mCAAmClP,KAAK0Y,QAAQqpL,eAA8V,KAAI,GAAhB7gM,GAAEyC,EAAEM,EAAE7C,EAAEyJ,EAAE/G,EAAxUjE,KAAK+K,EAAEF,EAAEC,EAAE63L,YAAYrpK,QAAQnrB,IAAI,SAAS1M,GAAG,GAAa,gBAAHA,GAAY,KAAM,IAAI4N,OAAM,gDAAgD5N,EAAE,IAAKyC,GAAE2G,EAAE3G,GAAG2B,QAAQu2L,SAAS36L,EAAE2L,IAAK,IAAItC,IAAG,GAAK0F,MAAMxQ,EAAEsE,EAAEu3L,OAAO33L,GAAGqL,MAAM9N,EAAEkH,KAAM,OAAOzE,GAAE49L,WAAWjtG,QAAQktG,KAAK,kBAAkB,GAAIvxL,MAAK1F,GAAG,MAAM9K,EAAEi/L,OAAO/6L,KAAK2xB,UAAU5tB,QAA4BpE,EAAE,EAAEA,EAAEiH,EAAE83L,MAAMr+L,OAAOV,IAAI,CAACC,EAAEgH,EAAE83L,MAAM/+L,GAAGxC,KAAK+C,KAAKF,EAAE49L,WAAWjtG,QAAQktG,KAAK,qBAAqBj+L,EAAEsJ,GAAyC,KAAI,GAArChC,IAAGtH,EAAS,OAAG,IAAIa,MAAM,QAAgB/D,EAAE,EAAEA,EAAEwK,EAAE7G,OAAO3D,IAAIwD,EAAEgH,EAAExK,KAAI,CAAGqD,GAAE8G,EAAE1B,OAAOrF,EAAEF,EAAEmT,KAAK7S,IAAI7C,EAAE4C,EAAEF,EAAEC,GAAG8G,EAAErK,EAAEY,EAAE2C,EAAG,KAAI,GAAQ0H,GAAErC,EAAN0B,EAAE,EAAMA,EAAED,EAAEzG,OAAO0G,IAAI,CAACW,EAAEZ,EAAEC,GAAG1B,EAAEzF,EAAEmT,MAAqB,gBAAfrL,EAAE60L,WAA2B,IAAI70L,EAAE60L,WAAW,GAAI,IAAIv1L,GAAE5G,EAAEy3L,KAAKyG,SAASj5L,EAAEqC,EAAE60L,WAAW70L,EAAE1H,EAAGgH,KAAIlL,EAAE8L,KAAKZ,GAAG7J,EAAEyK,KAAKvC,IAAIvJ,EAAE8L,KAAKxH,EAAEy3L,KAAK8G,SAAS/+L,EAAEzC,IAAIrB,EAAEqF,QAAQnB,EAAEm+L,QAAQl0L,IAAI,SAAS1M,GAAG,MAAOA,GAAEwgM,MAAM/9L,KAAKgK,KAAK,MAAO,IAAIhF,GAAEpI,EAAEgK,EAAEC,EAAE7G,EAAG,IAAGA,EAAEwhJ,OAAO,KAAMxhJ,GAAEwhJ,MAAO,IAAIvhI,GAAEtZ,EAAEC,GAAGuoB,OAAO,SAAS5xB,EAAEqJ,EAAE5G,GAAG,IAAI4G,GAAO,IAAJA,EAAM,MAAOrJ,EAAE,QAAOyC,GAAG,IAAI,MAAM,IAAI,QAAQ,IAAI,aAAa,KAAM,KAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAUzC,EAAEqK,KAAK,sBAAsB5H,EAAE,KAAK4G,EAAE,eAAgB,MAAM,KAAI,OAAO,IAAI,cAAc,IAAI,SAAS,IAAI,cAAc,IAAI,WAAWrJ,EAAEqK,KAAK,sBAAsB5H,EAAE,cAAc4G,EAAE,kBAAmB,MAAM,KAAI,SAASrJ,EAAEqK,KAAK,sBAAsB5H,EAAE,KAAK4G,EAAE,eAAgB,MAAM,KAAI,gBAAgBrJ,EAAEqK,KAAK,2CAA2ChB,EAAEoxC,MAAM,gBAAgBz6C,EAAEqK,KAAK,4CAA4ChB,EAAEiyJ,OAAO,eAAgB,MAAM,SAAQ,gBAAiBjyJ,GAAErJ,EAAEqK,KAAK,sBAAsB5H,EAAE,cAAc4G,EAAE,mBAAmB,gBAAiBA,GAAErJ,EAAEqK,KAAK,sBAAsB5H,EAAE,KAAK4G,EAAE,gBAAgB,iBAAkBA,IAAGrJ,EAAEqK,KAAK,sBAAsB5H,EAAE,KAAK4G,EAAE,gBAAgB,MAAOrJ,OAAO0iB,GAAE5f,QAAQvE,EAAEqF,QAAQ,iBAAiB8e,EAAEjW,KAAK,MAAM,oBAAqB,IAAI5C,GAAET,EAAE3B,GAAGiF,IAAI,SAAS1M,GAAG,MAAM,IAAIA,IAAIyM,KAAK,GAAI,OAAOlO,GAAEqF,QAAQ,iEAAiEiG,EAAE,OAAOtL,EAAE8L,KAAK,UAAU9L,EAAEkO,KAAK,OAAOpD,EAAE8oB,QAAQtvB,EAAEwG,EAAE8oB,QAAQiuK,SAAS7hM,EAAE8K,EAAE8oB,QAAQkvK,mBAAmB3+L,EAAE2G,EAAE8oB,QAAQmvK,WAAWpiM,IAAIwI,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAa8zL,UAAU,EAAEx7C,WAAWnsH,SAAYi/F,GAAG,SAAS9+F,QAAQ3H,OAAOD,UAAS,SAAUtY,SAAQ,SAAUoiK,OAAO,QAASulB,UAASxhM,EAAEqJ,GAAG3K,KAAK0Y,QAAQ/N,MAAM3K,KAAK+iM,aAAazhM,GAAGtB,KAAK+yD,SAASzxD,GAAG,GAAIs6L,MAAKvgK,QAAQ,UAAU96B,EAAE4a,OAAO5a,GAAG86B,QAAQ,aAAcynK,UAASL,MAAM,SAASnhM,EAAEqJ,GAAG3K,KAAK0Y,QAAQ/N,EAAE3K,KAAKgjM,OAAO1hM,GAAGwhM,SAASL,MAAMp3L,WAAW43L,SAAS,WAAW,MAAOjjM,MAAKgjM,OAAO1C,YAAYxpL,KAAK,WAAW,MAAO9W,MAAKijM,WAAWz+L,MAAM,MAAM,IAAIu6L,OAAO,WAAW,MAAO/+L,MAAKgjM,OAAOjE,QAAQuB,WAAW,WAAW,MAAOtgM,MAAKijM,WAAWz+L,MAAM,MAAM,IAAIsL,KAAK,SAASxO,GAAG,GAAIqJ,GAAE3K,KAAKgjM,OAAO1hM,EAAG,IAAIqJ,GAAIA,EAAEpE,MAAa,MAAOoE,GAAEpE,UAAU8O,KAAK,EAAE6tL,eAAe,KAAKzxJ,SAAS,SAASnwC,EAAEqJ,GAAG,GAAI5G,KAAK,KAAI,GAAI2G,KAAK1K,MAAKgjM,OAAW,eAAJt4L,GAAsB,SAAJA,GAAgB,WAAJA,GAAkB,gBAAJA,IAAoB3G,EAAE2G,GAAG1K,KAAKgjM,OAAOt4L,GAAGnE,MAAMjF,EAAEqJ,GAAI,OAAO5G,IAAGo/L,eAAe,WAAW,MAAOnjM,MAAKgjM,OAAOnB,aAAauB,WAAW,WAAW,IAAI,GAAI9hM,KAAKtB,MAAKgjM,OAAO,GAAO,eAAJ1hM,GAAsB,SAAJA,GAAgB,WAAJA,GAAkB,gBAAJA,IAAoBtB,KAAKgjM,OAAO1hM,GAAG+hM,SAAS,OAAM,CAAG,QAAM,GAAIC,UAAU,WAAW,MAAOtjM,MAAKgjM,QAAQ95L,OAAO,SAAS5H,EAAEqJ,EAAE5G,GAAG,IAAI,GAAI2G,KAAK1K,MAAKgjM,OAAO,CAAC,GAAI7+L,GAAEnE,KAAKgjM,OAAOt4L,GAAGC,EAAE5G,EAAG,IAAGI,EAAE,OAAM,EAAG,OAAM,GAAIo/L,kBAAkB,SAASjiM,GAAG,MAAOA,IAAGkiM,oBAAoB,SAASliM,GAAG,MAAOA,KAAIwhM,SAASz3L,WAAW0nD,SAAS,SAASzxD,GAAG,GAAIqJ,GAAE3K,KAAKoP,MAAM9N,EAAG,KAAIqJ,EAAE,KAAM,IAAIuE,OAAMlP,KAAKyjM,UAAUl+C,OAAQvlJ,MAAKy5C,OAAO9uC,EAAEqD,IAAI,SAAS1M,GAAG,MAAO,IAAIwhM,UAASL,MAAMnhM,MAAMkxD,UAAU,WAAW,MAAOxyD,MAAKy5C,QAAQiqJ,WAAW,WAAW,MAAO1jM,MAAK2jM,WAAWrD,WAAW,iBAAiBqD,UAAU,SAASriM,GAAG,MAAOf,GAAE2M,KAAKlN,KAAKy5C,OAAO,SAAS9uC,GAAG,IAAI,GAAI5G,KAAKzC,GAAE,CAAC,GAAIoJ,GAAEC,EAAE5G,EAAuC,IAA1B,kBAAH2G,KAAgBA,EAAEA,EAAE1B,KAAK2B,IAAOrJ,EAAEyC,KAAK2G,EAAE,OAAM,EAAG,OAAM,KAAMk5L,UAAU,SAAStiM,GAAG,GAAIqJ,GAAErJ,EAAEyM,KAAK,KAAM,OAAO/N,MAAK0Y,QAAQktI,OAAOlxD,QAAQt9C,IAAIzsC,GAAG0E,SAAS,OAAO,MAAM,sBAAsB1E,EAAE,sBAAsBk5L,SAAS,SAASb,QAAuB,gBAARA,UAAmBA,OAAOlzL,KAAK,wBAAwBkzL,OAAO,WAAWhjM,KAAK8jM,WAAWd,MAAO,KAAI,GAAIv2L,QAAQu2L,QAAO,CAAC,GAAI9hM,GAAE6iM,OAAOt3L,KAAMvL,KAAIlB,KAAK8mJ,SAAS5lJ,GAAG4O,KAAK,+CAA+Ck0L,aAAa,WAAW,MAAOhkM,MAAK+iM,WAAW3zL,MAAM,SAAS9N,GAAsL,QAAS6C,GAAE7C,GAAG,MAAOA,GAAEoqB,SAAS,GAAG,KAAKpqB,EAAEg/L,WAA7N,GAAI31L,IAAGo0L,UAAUx5C,UAAU9gJ,MAAM,SAASnD,GAAGtB,KAAKulJ,OAAO55I,KAAKrK,IAAKtB,MAAKyjM,UAAU94L,CAAE,IAAI5G,GAAE,IAAK,KAAIA,EAAE,GAAKw5K,OAAMme,OAAO/wL,GAAIyE,MAAM9N,GAAG,MAAMoJ,GAA4B,WAAzBC,GAAE46I,OAAO55I,KAAKjB,EAAE6pE,SAAgB,GAAGxwE,EAAE,CAAsD,GAAIlE,GAAEkE,EAAE+6L,OAAOn0L,EAAG9K,GAAEwlB,SAAmB,KAAI,GAATrhB,MAAa4G,EAAE,EAAEA,EAAE/K,EAAEuE,SAASwG,EAAE,CAAiD,IAAI,GAAhDpK,GAAEX,EAAE+K,GAAGjK,EAAEwD,EAAE3D,GAAGqD,EAAEG,EAAErD,GAAGqD,EAAErD,KAAKkhM,gBAAwB3gM,EAAE,EAAEA,EAAEV,EAAEghM,MAAMp9L,OAAOlD,IAAI,GAAqB,gBAAlBV,EAAEghM,MAAMtgM,GAAG4V,MAAwC,eAAlBtW,EAAEghM,MAAMtgM,GAAG4V,KAAoB;AAAC,GAAInT,GAAEnD,EAAEghM,MAAMtgM,GAAG4G,MAAMA,MAAM,GAAGA,MAAM,GAAGA,MAAMA,KAAM9H,MAAK+iM,UAAUp3L,KAAKhI,GAAGE,EAAEk7L,UAAUl7L,EAAEwR,KAAKumL,KAAK9uH,KAAK54C,GAAI,IAAIjwB,GAAEzD,EAAEyjM,KAAKt5L,EAAG3K,MAAK0Y,QAAQktI,OAAOlxD,QAAQt9C,IAAI,QAAQnzC,EAAG,KAAI,GAAI7C,KAAK6C,GAAE,CAAC,GAAI4G,GAAEhH,EAAEzC,GAAGyC,EAAEzC,KAAKiiM,UAAS,EAAGa,WAAW,KAAKzwG,MAAMjvE,MAAM,EAAG3Z,GAAE4oF,GAAG9nF,KAAK1H,EAAE7C,GAAG4M,IAAI,SAAS1M,GAAG,MAAOA,GAAEmyF,KAAK1lF,KAAK,OAAOlD,EAAEq5L,WAAW3jM,EAAEqN,MAAM3J,EAAE7C,GAAG4M,IAAI,SAAS1M,GAAG,MAAOA,GAAE4iM,cAAcr5L,EAAE2Z,MAAMjkB,EAAE0P,IAAIhM,EAAE7C,GAAG4M,IAAI,SAAS1M,GAAG,MAAOA,GAAEkjB,QAAQ7hB,OAAOkI,EAAE2Z,QAAQ3Z,EAAEw4L,UAAU9iM,EAAE6zB,IAAInwB,EAAE7C,GAAG4M,IAAI,SAAS1M,GAAG,OAAOA,EAAE+hM,aAAa,GAAIv/L,KAAK9D,MAAK0Y,QAAQktI,OAAOlxD,QAAQt9C,IAAIpzC,EAAY,KAAI,GAATN,MAAakH,EAAE,EAAEA,EAAE/K,EAAEuE,SAASwG,EAAE,CAAC,GAAIpK,GAAEX,EAAE+K,GAAGK,EAAE9G,EAAE3D,GAAGqD,EAAEG,EAAEiH,EAAG,KAAIvH,EAAEuH,GAAG,CAACjL,KAAK0Y,QAAQktI,OAAOlxD,QAAQt9C,IAAI,KAAKnsC,EAAG,KAAI,GAAIxK,KAAKoD,GAAM,SAAJpD,GAAgB,WAAJA,GAAkB,gBAAJA,IAAoBT,KAAK0Y,QAAQktI,OAAOlxD,QAAQt9C,IAAI,IAAI32C,GAAGoD,EAAEpD,GAAG8F,MAAMvG,KAAK4jM,UAAU//L,EAAEpD,GAAGgzF,IAAI5vF,EAAEg+L,YAAYl2L,KAAK9H,EAAEpD,GAAGyjM,YAAYrgM,EAAEg+L,YAAYthM,EAAEs1B,KAAKhyB,EAAEg+L,aAAch+L,GAAEy8L,WAAWr1L,EAAEnH,EAAE6H,KAAK9H,GAAGH,EAAEuH,IAAG,EAAGpH,EAAEwR,MAAM7U,EAAE6U,KAAKxR,EAAEk7L,OAAOpzL,KAAKnL,EAAEqgM,cAAc,IAAIj2L,EAAE,EAAEA,EAAE9G,EAAEM,SAASwG,EAAE9G,EAAE8G,GAAGm0L,OAAOx+L,EAAEs1B,KAAK/xB,EAAE8G,GAAGm0L,OAAQ,OAAOj7L,GAAE,MAAO,QAAOy5K,MAAMse,WAAW,SAASv6L,GAAGtB,KAAK0Y,QAAQpX,MAAMtB,KAAK0Y,QAAQqpL,eAAe/hM,KAAK0Y,QAAQqpL,gBAAgB,UAAUxkB,MAAMse,WAAWxwL,UAAUo4B,OAAO,SAAS94B,EAAE5G,GAAG,GAAI2G,GAAE2wB,QAAQ,qBAAsB,OAAOugK,MAAKuE,UAAU3kL,QAAQ9Q,EAAE+F,QAAQ0zL,QAAQ,GAAIrB,UAASn4L,EAAE3K,KAAK0Y,UAAyB,mBAARgb,UAAsBA,OAAOD,QAAQ8pJ,MAAMse,aAAcxgK,QAAQ,eAAeryB,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaq1L,WAAW,EAAE3H,qBAAqB,EAAExB,SAAS,EAAE5zC,WAAWnsH,SAAYk/F,GAAG,SAAS94H,EAAEqJ,EAAE5G,GAAG,GAAI2G,IAAG+F,QAAQ,QAAQlK,OAAO89L,eAAe/+L,MAAM,MAAM,SAAS4oC,IAAI,icAAico2J,gBAAgB,MAAMC,kBAAkB,kIAAkIC,iBAAiBjjM,IAAI,gBAAgB+iM,gBAAgB,OAAOC,kBAAkB,aAAaj/L,KAAK,YAAY+wB,YAAY,iBAAiB,IAAI,SAAS,IAAI,OAAO,IAAI,OAAO,IAAI,QAAQ,IAAI,cAAc,IAAI,aAAa,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,kBAAiB,IAAK,iBAAiB,IAAI,aAAa,IAAI6X,IAAI,4BAA4Bu2J,WAAWljM,IAAI,UAAU+iM,gBAAgB,WAAWC,kBAAkB,+CAA+Cr2J,IAAI,sGAAsG5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,cAAc,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,UAAU2N,SAAS1R,IAAI,UAAU+D,KAAK,QAAQ4oC,IAAI,yIAAyIo2J,gBAAgB,EAAEC,kBAAkB,8FAA8FxoJ,OAAOjlC,MAAMwtL,gBAAgB,GAAGh/L,KAAK,SAASo/L,UAAS,EAAGH,kBAAkB,kCAAkCr2J,IAAI,+GAA+Gy2J,KAAKL,gBAAgB,GAAGh/L,KAAK,SAASi/L,kBAAkB,8EAA8Er2J,IAAI,iSAAiSnhB,QAAQu3K,iBAAgB,EAAGh/L,KAAK,UAAUi/L,kBAAkB,mEAAmEr2J,IAAI,kFAAkFosD,SAASgqG,gBAAgB,IAAIh/L,KAAK,QAAQi/L,kBAAkB,0DAA0Dr2J,IAAI,wMAAwMqsD,SAAS+pG,gBAAgB,eAAeh/L,KAAK,QAAQi/L,kBAAkB,0DAA0Dr2J,IAAI,qaAAqa02J,WAAWN,iBAAgB,EAAGh/L,KAAK,UAAUi/L,kBAAkB,yEAAyEr2J,IAAI,8NAA8N22J,qBAAqBP,iBAAgB,EAAGh/L,KAAK,UAAUi/L,kBAAkB,oKAAoKr2J,IAAI,sTAAsT42J,YAAYR,gBAAgB,GAAGh/L,KAAK,SAASi/L,kBAAkB,0DAA0Dr2J,IAAI,2DAA2D62J,eAAeT,gBAAgB,IAAIh/L,KAAK,QAAQi/L,kBAAkB,yBAAyBr2J,IAAI,wIAAwI82J,kBAAkBV,gBAAgB,OAAOh/L,KAAK,OAAOi/L,kBAAkB,kCAAkCr2J,IAAI,wKAAwK2zJ,aAAax1K,KAAKm4K,iBAAiBjjM,IAAI,gBAAgB+iM,gBAAgB,OAAOC,kBAAkB,aAAaj/L,KAAK,YAAY+wB,YAAY,iBAAiB,IAAI,SAAS,IAAI,OAAO,IAAI,OAAO,IAAI,QAAQ,IAAI,cAAc,IAAI,aAAa,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,kBAAiB,IAAK,iBAAiB,IAAI,aAAa,IAAI6X,IAAI,4BAA4Bu2J,WAAWljM,IAAI,UAAU+iM,gBAAgB,WAAWC,kBAAkB,+CAA+Cr2J,IAAI,sGAAsG5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,cAAc,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,UAAU2N,SAAS1R,IAAI,UAAU+D,KAAK,QAAQ4oC,IAAI,yIAAyIo2J,gBAAgB,EAAEC,kBAAkB,8FAA8Fv2L,KAAKmuH,oBAAoB56H,IAAI,mBAAmB+iM,gBAAgB,OAAOC,kBAAkB,cAAcj/L,KAAK,QAAQ4oC,IAAI,wBAAwBkuF,oBAAoB76H,IAAI,mBAAmB+D,KAAK,MAAMg/L,gBAAgB,GAAGC,kBAAkB,cAAcr2J,IAAI,yEAAyE8sD,YAAY,wBAAwB2pG,KAAKpjM,IAAI,MAAM+D,KAAK,SAASg/L,gBAAgB,mDAAmDC,kBAAkB,4VAA4Vr2J,IAAI,wCAAwC62J,eAAexjM,IAAI,cAAc+iM,gBAAgB,IAAIh/L,KAAK,QAAQi/L,kBAAkB,yBAAyBr2J,IAAI,mNAAmN82J,kBAAkBzjM,IAAI,GAAG+iM,gBAAgB,OAAOh/L,KAAK,OAAOi/L,kBAAkB,kCAAkCr2J,IAAI,uJAAuJ7P,MAAM98B,IAAI,OAAO+iM,gBAAgB,GAAGC,kBAAkB,8KACx+/Bj/L,KAAK,SAAS4oC,IAAI,+SAA+S+2J,kBAAkB1jM,IAAI,GAAG+iM,iBAAgB,EAAGC,kBAAkB,uEAAuEj/L,KAAK,UAAU4oC,IAAI,iKAAiKg3J,mBAAmB3jM,IAAI,GAAG+iM,gBAAgB,OAAOC,kBAAkB,sFAAsFj/L,KAAK,SAAS4oC,IAAI,iGAAiGi3J,kBAAkB5jM,IAAI,iBAAiB+D,KAAK,MAAMg/L,gBAAgB,OAAOC,kBAAkB,2CAA2Cr2J,IAAI,6JAA6JiuB,SAASxI,MAAMpyD,IAAI,eAAe+D,KAAK,QAAQg/L,gBAAgB,sBAAsBC,kBAAkB,8DAA8Dr2J,IAAI,qCAAqCk3J,gBAAgB7jM,IAAI,kBAAkB+D,KAAK,QAAQ4oC,IAAI,6BAA6Bo2J,gBAAgB,EAAEC,kBAAkB,UAAU5iB,OAAOpgL,IAAI,gBAAgB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,oBAAoBtuK,MAAM,MAAMiY,IAAI,0CAA0Cm3J,gBAAgB9jM,IAAI,uBAAuB+D,MAAM,QAAQ,SAAS,OAAO,YAAY,YAAYg/L,gBAAgB,QAAQC,kBAAkB,kMAAkMr2J,IAAI,4TAA4TmwF,MAAM98H,IAAI,eAAe+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,0DAA0Dr2J,IAAI,8JAA8Jo3J,QAAQ/jM,IAAI,iBAAiB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,eAAetuK,MAAM,MAAMiY,IAAI,qIAAqIq3J,sBAAsBhkM,IAAI,6BAA6B+D,KAAK,YAAYg/L,gBAAgB,OAAOC,kBAAkB,mCAAmCr2J,IAAI,iEAAiE7X,YAAY,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,KAAKouK,WAAWljM,IAAI,kBAAkB+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAWggJ,MAAMjyF,QAAQ9xD,IAAI,aAAa+iM,gBAAgB,gBAAgBh/L,KAAK,QAAQi/L,kBAAkB,yDAAyDr2J,IAAI,6BAA6Bs3J,gBAAgBjkM,IAAI,aAAa+iM,gBAAgB,EAAEh/L,KAAK,QAAQ4oC,IAAI,iCAAiCu3J,kBAAkBlkM,IAAI,eAAe+iM,gBAAgB,EAAEh/L,KAAK,QAAQi/L,kBAAkB,SAASr2J,IAAI,yBAAyBw3J,mBAAmBnkM,IAAI,YAAY+iM,gBAAgB,QAAQh/L,MAAM,QAAQ,QAAQ,SAAS4oC,IAAI,sCAAsCy3J,kBAAkBpkM,IAAI,WAAW+iM,gBAAgB,OAAOh/L,MAAM,OAAO,QAAQ,UAAU4oC,IAAI,+BAA+B03J,gBAAgBrkM,IAAI,aAAa+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,oBAAoBtuK,MAAM,MAAMiY,IAAI,wCAAwC23J,uBAAuBtkM,IAAI,oBAAoB+D,MAAM,QAAQ,SAAS,OAAO,YAAY,YAAYg/L,gBAAgB,QAAQC,kBAAkB,kMAAkMr2J,IAAI,4TAA4T43J,oBAAoBvkM,IAAI,iBAAiB+D,KAAK,UAAU4oC,IAAI,oKAAoKo2J,gBAAgB,OAAOC,kBAAkB,cAAcwB,qBAAqBxkM,IAAI,mBAAmB+D,KAAK,UAAU4oC,IAAI,oIAAoIo2J,gBAAgB,OAAOC,kBAAkB,cAAcyB,qBAAqBzkM,IAAI,kBAAkB+D,KAAK,QAAQ4oC,IAAI,mTAAmTo2J,gBAAgB,EAAEC,kBAAkB,6JAA6JlmE,MAAM98H,IAAI,YAAY+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,0DAA0Dr2J,IAAI,8JAA8Jo3J,QAAQ/jM,IAAI,cAAc+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,eAAetuK,MAAM,MAAMiY,IAAI,qIAAqIr1B,QAAQtX,IAAI,cAAc+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,YAAYr2J,IAAI,iLAAiL+3J,YAAY1kM,IAAI,kBAAkB+D,MAAM,OAAO,QAAQg/L,gBAAgB,OAAOp2J,IAAI,sFAAsFq3J,sBAAsBhkM,IAAI,0BAA0B+D,KAAK,YAAYg/L,gBAAgB,OAAOC,kBAAkB,mCAAmCr2J,IAAI,iEAAiE7X,YAAY,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,KAAKouK,WAAWljM,IAAI,eAAe+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAW0zD,SAASv2C,MAAMlhB,IAAI,cAAc2sC,IAAI,8GAA8Go2J,gBAAgB,GAAGC,kBAAkB,+CAA+Cj/L,KAAK,OAAO2N,SAAS1R,IAAI,iBAAiB2sC,IAAI,oGAAoGo2J,gBAAgB,EAAEC,kBAAkB,mDAAmDj/L,KAAK,SAAS8/L,gBAAgB7jM,IAAI,sBAAsB2sC,IAAI,iCAAiCo2J,gBAAgB,EAAEC,kBAAkB,SAASj/L,KAAK,SAAS+tD,QAAQ9xD,IAAI,oBAAoB2sC,IAAI,iDAAiDo2J,gBAAgB,QAAQh/L,KAAK,SAASkgM,gBAAgBjkM,IAAI,oBAAoB2sC,IAAI,0IAA0I5oC,KAAK,SAASmgM,kBAAkBlkM,IAAI,sBAAsB+iM,gBAAgB,EAAEC,kBAAkB,SAASr2J,IAAI,wBAAwB5oC,KAAK,SAAS4gM,WAAW3kM,IAAI,mBAAmB+D,MAAM,QAAQ,OAAO,YAAYg/L,gBAAgB,QAAQC,kBAAkB,+DAA+Dr2J,IAAI,2PAA2Pi4J,gBAAgB5kM,IAAI,sBAAsB+D,MAAM,OAAO,QAAQ,WAAWg/L,gBAAgB,OAAOC,kBAAkB,uIAAuIr2J,IAAI,qgBAAqgBk4J,eAAe7kM,IAAI,cAAc+D,MAAM,QAAQ,UAAU,aAAag/L,gBAAgB,UAAUp2J,IAAI,gLAAgLtsC,OAAOL,IAAI,eAAe+iM,gBAAgB,GAAGp2J,IAAI,8DAA8D5oC,KAAK,QAAQs6L,YAAW,GAAI/9L,QAAQN,IAAI,gBAAgB+iM,gBAAgB,GAAGp2J,IAAI,+DAA+D5oC,KAAK,QAAQs6L,YAAW,GAAIjsI,MAAMpyD,IAAI,cAAc+iM,gBAAgB,OAAOp2J,IAAI,uCAAuC5oC,KAAK,SAAS+gM,iBAAiB9kM,IAAI,uBAAuB+D,KAAK,UAAUg/L,iBAAgB,EAAGp2J,IAAI,2DAA2Dq2J,kBAAkB,2FAA2F+B,oBAAoB/kM,IAAI,0BAA0B+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,yEAAyEr2J,IAAI,sGAAsGq4J,SAAShlM,IAAI,iBAAiB2sC,IAAI,gCAAgCo2J,gBAAgB,IAAIh/L,KAAK,SAASkhM,aAAajlM,IAAI,mBAAmB+D,KAAK,QAAQg/L,gBAAgB,GAAGp2J,IAAI,sMAAsMkD,WAAW7vC,IAAI,mBAAmB+D,KAAK,YAAY+wB,YAAY,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAIiuK,gBAAgB,GAAGC,kBAAkB,oBAAoBr2J,IAAI,iCAAiCmwF,MAAM98H,IAAI,cAAc+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,0DAA0Dr2J,IAAI,8JAA8Jo3J,QAAQ/jM,IAAI,gBAAgB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,eAAetuK,MAAM,MAAMiY,IAAI,qIAAqIq3J,sBAAsBhkM,IAAI,4BAA4B+D,KAAK,YAAYg/L,gBAAgB,OAAOC,kBAAkB,mCAAmCr2J,IAAI,iEAAiE7X,YAAY,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,KAAKouK,WAAWljM,IAAI,iBAAiB+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAWmhM,QAAQ3vL,MAAMvV,IAAI,cAAc+D,KAAK,SAASs6L,YAAW,EAAG8G,cAAc,UAAUx4J,IAAI,wGAAwGzrB,MAAMlhB,IAAI,cAAcmjM,UAAS,EAAGp/L,KAAK,MAAMg/L,gBAAgB,OAAOp2J,IAAI,+CAA+Cy4J,aAAaplM,IAAI,mBAAmB+D,KAAK,SAASy5B,SAAS,OAAOmP,IAAI,iDAAiDo2J,gBAAgB,GAAGI,UAAS,GAAIkC,gBAAgBrlM,IAAI,sBAAsB+D,KAAK,UAAU4oC,IAAI,wHAAwHo2J,iBAAgB,EAAGC,kBAAkB,gHAAgHl3L,MAAM9L,IAAI,cAAc+D,KAAK,QAAQ4oC,IAAI,yCAAyCylB,MAAMpyD,IAAI,cAAc+D,KAAK,QAAQ4oC,IAAI,gCAAgCg4J,WAAW3kM,IAAI,mBAAmB+D,MAAM,QAAQ,OAAO,SAAS,YAAYg/L,gBAAgB,QAAQp2J,IAAI,8OAA8O24J,eAAetlM,IAAI,qBAAqB2sC,IAAI,wEAAwE5oC,KAAK,UAAUg/L,iBAAgB,GAAI+B,iBAAiB9kM,IAAI,uBAAuB+D,KAAK,UAAUg/L,iBAAgB,EAAGp2J,IAAI,2DAA2Dq2J,kBAAkB,2EAA2EuC,oBAAoBvlM,IAAI,sBAAsB+D,KAAK,QAAQg/L,gBAAgB,EAAEp2J,IAAI,gFAAgFq4J,SAAShlM,IAAI,iBAAiB+D,KAAK,QAAQg/L,gBAAgB,EAAEp2J,IAAI,yEAAyE64J,mBAAmBxlM,IAAI,qBAAqB+iM,gBAAgB,EAAEp2J,IAAI,wFAAwF5oC,KAAK,SAAS0hM,cAAczlM,IAAI,oBAAoB+D,KAAK,WAAWg/L,gBAAgB,EAAEp2J,IAAI,gEAAgE+4J,eAAe1lM,IAAI,qBAAqB+D,KAAK,UAAUg/L,iBAAgB,EAAGp2J,IAAI,yGAAyGg5J,kBAAkB3lM,IAAI,wBAAwB+D,KAAK,SAASg/L,gBAAgB,IAAIp2J,IAAI,6DAA6Di5J,aAAa5lM,IAAI,mBAAmB+D,KAAK,QAAQg/L,gBAAgB,UAAUC,kBAAkB,QAAQr2J,IAAI,oDAAoDk5J,eAAe7lM,IAAI,qBAAqB2sC,IAAI,2CAA2Co2J,gBAAgB,EAAEC,kBAAkB,UAAUj/L,KAAK,SAAS+hM,qBAAqB9lM,IAAI,2BAA2B+D,KAAK,WAAWg/L,gBAAgB,EAAEp2J,IAAI,oHAAoHo5J,gBAAgB/lM,IAAI,sBAAsB2sC,IAAI,iEAAiE5oC,KAAK,YAAYs9C,IAAIrhD,IAAI,iBAAiB+D,KAAK,QAAQ4oC,IAAI,4HAA4Ho2J,gBAAgB,GAAGxhJ,IAAIvhD,IAAI,iBAAiB+D,KAAK,QAAQ4oC,IAAI,2HAA2Ho2J,gBAAgB,GAAGiD,aAAahmM,IAAI,YAAY+D,KAAK,QAAQ4oC,IAAI,gHAAgHo2J,gBAAgB,GAAGkD,aAAajmM,IAAI,YAAY+D,KAAK,QAAQ4oC,IAAI,+GAA+Go2J,gBAAgB,GAAGrxL,SAAS1R,IAAI,iBAAiB+D,KAAK,QAAQ4oC,IAAI,2DAA2Do2J,gBAAgB,GAAGmD,gBAAgBlmM,IAAI,sBAAsB+D,KAAK,QAAQ4oC,IAAI,kEAAkEo2J,gBAAgB,GAAGoD,wBAAwBnmM,IAAI,8BAA8B+D,MAAM,OAAO,SAAS,QAAQ,QAAQ4oC,IAAI,yDAAyDo2J,gBAAgB,QAAQqD,sBAAsBpmM,IAAI,4BAA4B+D,MAAM,MAAM,SAAS,SAAS,QAAQ4oC,IAAI,uDAAuDo2J,gBAAgB,UAAU/hE,kBAAkBhhI,IAAI,wBAAwB+D,MAAM,OAAO,YAAY,YAAY,cAAc4oC,IAAI,uCAAuCo2J,gBAAgB,QAAQsD,qBAAqBrmM,IAAI,2BAA2B+D,MAAM,OAAO,SAAS,QAAQ,QAAQ4oC,IAAI,mDAAmDo2J,gBAAgB,QAAQjmE,MAAM98H,IAAI,cAAc+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,0DAA0Dr2J,IAAI,8JAA8Ju2J,WAAWljM,IAAI,iBAAiB+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAWuiM,gBAAgBplL,MAAMlhB,IAAI,oBAAoB+D,KAAK,MAAMg/L,gBAAgB,OAAOI,UAAS,EAAGx2J,IAAI,wDAAwDmwF,MAAM98H,IAAI,oBAAoB+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,0DAA0Dr2J,IAAI,8JAA8Jo3J,QAAQ/jM,IAAI,sBAAsB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,eAAetuK,MAAM,MAAMiY,IAAI,qIAAqIq3J,sBAAsBhkM,IAAI,kCAAkC+D,KAAK,YAAYg/L,gBAAgB,OAAOC,kBAAkB,mCAAmCr2J,IAAI,iEAAiE7X,YAAY,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,KAAKouK,WAAWljM,IAAI,uBAAuB+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAWwiM,mBAAmBrlL,MAAMlhB,IAAI,uBAAuB+D,KAAK,MAAMg/L,gBAAgB,OAAOI,UAAS,EAAGx2J,IAAI,4DAA4D65J,WAAWxmM,IAAI,4BAA4B+D,MAAM,QAAQ,UAAUg/L,gBAAgB,QAAQp2J,IAAI,sEAAsEyzI,OAAOpgL,IAAI,wBAAwB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,oBAAoBtuK,MAAM,MAAMiY,IAAI,kDAAkDj7B,SAAS1R,IAAI,0BAA0B+D,KAAK,QAAQ4oC,IAAI,2EAA2Eo2J,gBAAgB,EAAEC,kBAAkB,+CAA+ClmE,MAAM98H,IAAI,uBAAuB+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,0DAA0Dr2J,IAAI;EAA8Jo3J,QAAQ/jM,IAAI,yBAAyB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,eAAetuK,MAAM,MAAMiY,IAAI,qIAAqIq3J,sBAAsBhkM,IAAI,qCAAqC+D,KAAK,YAAYg/L,gBAAgB,OAAOC,kBAAkB,mCAAmCr2J,IAAI,iEAAiE7X,YAAY,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,KAAKouK,WAAWljM,IAAI,0BAA0B+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAWirK,QAAQt9J,SAAS1R,IAAI,iBAAiB+iM,gBAAgB,EAAEC,kBAAkB,SAASj/L,KAAK,QAAQ4oC,IAAI,qEAAqE85J,iBAAiBzmM,IAAI,uBAAuB+iM,iBAAgB,EAAGC,kBAAkB,0DAA0Dj/L,KAAK,QAAQ4oC,IAAI,qLAAqL+5J,SAAS1mM,IAAI,iBAAiB+D,MAAM,OAAO,OAAO,WAAW,YAAY,UAAU,WAAW,WAAW,UAAU,UAAU,UAAU,SAAS,UAAU,SAAS,WAAW,SAAS,WAAW,OAAO,UAAU,YAAYg/L,gBAAgB,OAAOp2J,IAAI,+LAA+Lg6J,aAAa3mM,IAAI,mBAAmB+iM,gBAAgB,GAAGC,kBAAkB,uEAAuEj/L,KAAK,WAAW4oC,IAAI,wQAAwQu2J,WAAWljM,IAAI,iBAAiB+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAW+pC,OAAO5sB,MAAMlhB,IAAI,aAAa+D,KAAK,MAAMo/L,UAAS,EAAGJ,gBAAgB,OAAOp2J,IAAI,mCAAmCm4J,iBAAiB9kM,IAAI,sBAAsB+D,KAAK,UAAUg/L,iBAAgB,EAAGp2J,IAAI,0DAA0Dq2J,kBAAkB,2FAA2F+B,oBAAoB/kM,IAAI,yBAAyB+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,yEAAyEr2J,IAAI,sGAAsGj7B,SAAS1R,IAAI,gBAAgB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,eAAer2J,IAAI,2DAA2Dg4J,WAAW3kM,IAAI,kBAAkB+D,MAAM,WAAW,YAAY4oC,IAAI,wKAAwKo2J,gBAAgB,YAAYlzJ,WAAW7vC,IAAI,kBAAkB+D,KAAK,YAAY+wB,YAAY,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAIiuK,gBAAgB,GAAGC,kBAAkB,oBAAoBr2J,IAAI,iCAAiCu2J,WAAWljM,IAAI,gBAAgB+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAWuC,MAAMiP,MAAMvV,IAAI,YAAY+D,KAAK,SAASs6L,YAAW,EAAG8E,UAAS,EAAGJ,gBAAgB,GAAGoC,cAAc,UAAUx4J,IAAI,+FAA+Fy4J,aAAaplM,IAAI,iBAAiB+D,KAAK,SAASy5B,SAAS,OAAOmP,IAAI,2CAA2Cw2J,UAAS,GAAIr3L,MAAM9L,IAAI,YAAY+D,KAAK,QAAQg/L,gBAAgB,GAAGp2J,IAAI,uBAAuBi6J,cAAc5mM,IAAI,aAAa2sC,IAAI,4FAA4Fo2J,gBAAgB,EAAEh/L,KAAK,YAAY0hM,cAAczlM,IAAI,kBAAkB2sC,IAAI,+DAA+Do2J,gBAAgB,EAAEh/L,KAAK,YAAY2hM,eAAe1lM,IAAI,mBAAmB+D,KAAK,UAAUg/L,iBAAgB,EAAGp2J,IAAI,yGAAyGg5J,kBAAkB3lM,IAAI,sBAAsB+D,KAAK,SAASg/L,gBAAgB,IAAIp2J,IAAI,4DAA4Dq4J,SAAShlM,IAAI,eAAe+D,KAAK,WAAW4oC,IAAI,wEAAwEm5J,qBAAqB9lM,IAAI,yBAAyB+D,KAAK,QAAQg/L,gBAAgB,EAAEp2J,IAAI,8DAA8Do5J,gBAAgB/lM,IAAI,oBAAoB+iM,gBAAgB,EAAEh/L,KAAK,WAAW4oC,IAAI,uDAAuDk6J,4BAA4B7mM,IAAI,gCAAgC+iM,gBAAgB,EAAEh/L,KAAK,WAAW4oC,IAAI,mHAAmHm6J,wBAAwB9mM,IAAI,4BAA4B+D,KAAK,QAAQg/L,gBAAgB,OAAOp2J,IAAI,+PAA+PylB,MAAMpyD,IAAI,YAAY2sC,IAAI,mCAAmCo2J,gBAAgB,UAAUh/L,KAAK,SAAS2N,SAAS1R,IAAI,eAAe2sC,IAAI,2DAA2Do2J,gBAAgB,EAAEC,kBAAkB,eAAej/L,KAAK,SAAS6hM,aAAa5lM,IAAI,iBAAiB+D,KAAK,QAAQg/L,gBAAgB,UAAUC,kBAAkB,QAAQr2J,IAAI,oDAAoDk5J,eAAe7lM,IAAI,mBAAmB2sC,IAAI,2CAA2Co2J,gBAAgB,EAAEC,kBAAkB,UAAUj/L,KAAK,SAASs9C,IAAIrhD,IAAI,UAAU+D,KAAK,QAAQ4oC,IAAI,8GAA8Go2J,gBAAgB,GAAGxhJ,IAAIvhD,IAAI,UAAU+D,KAAK,QAAQ4oC,IAAI,6GAA6Go2J,gBAAgB,GAAGqD,sBAAsBpmM,IAAI,0BAA0B+D,MAAM,MAAM,SAAS,SAAS,QAAQ4oC,IAAI,gDAAgDo2J,gBAAgB,OAAOC,kBAAkB,uEAAuEsC,eAAetlM,IAAI,mBAAmB2sC,IAAI,wEAAwEo2J,iBAAgB,EAAGh/L,KAAK,WAAWwhM,oBAAoBvlM,IAAI,oBAAoB2sC,IAAI,0DAA0D5oC,KAAK,SAASyhM,mBAAmBxlM,IAAI,mBAAmB2sC,IAAI,8FAA8F5oC,KAAK,SAASgjM,uBAAuB/mM,IAAI,uBAAuB+D,KAAK,QAAQg/L,gBAAgB,EAAEC,kBAAkB,4BAA4Br2J,IAAI,sDAAsDm4J,iBAAiB9kM,IAAI,qBAAqB+D,KAAK,UAAUg/L,iBAAgB,EAAGp2J,IAAI,uDAAuDq2J,kBAAkB,yFAAyFh3J,aAAahsC,IAAI,mBAAmB+D,KAAK,QAAQs6L,YAAW,EAAG1xJ,IAAI,oBAAoBg4J,WAAW3kM,IAAI,iBAAiB+D,MAAM,QAAQ,OAAO,SAAS,YAAYg/L,gBAAgB,QAAQp2J,IAAI,oFAAoFq6J,kBAAkBhnM,IAAI,sBAAsB2sC,IAAI,oJAAoJ5oC,MAAM,QAAQ,UAAUg/L,gBAAgB,SAASkE,YAAYjnM,IAAI,kBAAkB+D,KAAK,SAASg/L,gBAAgB,GAAGp2J,IAAI,qIAAqIq0F,kBAAkBhhI,IAAI,iBAAiB+D,MAAM,OAAO,YAAY,YAAY,cAAc4oC,IAAI,uCAAuCo2J,gBAAgB,QAAQoD,wBAAwBnmM,IAAI,4BAA4B+D,MAAM,OAAO,SAAS,QAAQ,QAAQ4oC,IAAI,uDAAuDo2J,gBAAgB,QAAQsD,qBAAqBrmM,IAAI,aAAa+D,MAAM,OAAO,QAAQ,SAAS,QAAQ4oC,IAAI,+BAA+Bo2J,gBAAgB,OAAOC,kBAAkB,4QAA4QlmE,MAAM98H,IAAI,YAC///B+D,KAAK,UAAUg/L,iBAAgB,EAAGC,kBAAkB,0DAA0Dr2J,IAAI,8JAA8Ju2J,WAAWljM,IAAI,eAAe+iM,gBAAgB,WAAWC,kBAAkB,wDAAwDr2J,IAAI,gHAAgH5oC,MAAM,QAAQ,MAAM,MAAM,WAAW,WAAW,SAAS,SAAS,UAAU,UAAU,WAAW,WAAW,MAAM,OAAO,QAAQ,WAAW,SAAS,UAAU,SAAS,UAAU,cAAc,aAAa,aAAa,aAAa,aAAa,YAAY,WAAW,SAAS,aAAa,cAAc,gBAAgB,MAAM,aAAa,QAAQ,WAAWg9J,UAAU3uG,MAAMpyD,IAAI,gBAAgB+iM,gBAAgB,UAAUp2J,IAAI,oCAAoC5oC,KAAK,SAAS8/L,gBAAgB7jM,IAAI,wBAAwB+D,KAAK,QAAQ4oC,IAAI,+DAA+Do2J,gBAAgB,GAAGziM,QAAQN,IAAI,kBAAkB2sC,IAAI,wCAAwC5oC,KAAK,QAAQs6L,YAAW,EAAG0E,gBAAgB,MAAM1mB,QAAQ6qB,uBAAuBlnM,IAAI,sBAAsB+D,KAAK,QAAQg/L,gBAAgB,yBAAyBC,kBAAkB,aAAar2J,IAAI,4CAA4Cw6J,uBAAuBnnM,IAAI,sBAAsB+iM,gBAAgB,MAAMh/L,KAAK,QAAQi/L,kBAAkB,0CAA0Cr2J,IAAI,gJAAgJy6J,sBAAsBpnM,IAAI,qBAAqB+iM,gBAAgB,IAAIh/L,KAAK,QAAQi/L,kBAAkB,GAAGr2J,IAAI,+MAA+M06J,8BAA8BrnM,IAAI,6BAA6B+iM,gBAAgB,KAAKh/L,KAAK,QAAQi/L,kBAAkB,iCAAiCr2J,IAAI,iCAAiC26J,gCAAgCtnM,IAAI,+BAA+B+iM,gBAAgB,oBAAoBh/L,KAAK,SAASi/L,kBAAkB,8DAA8Dr2J,IAAI,sGAAsG46J,0BAA0BvnM,IAAI,yBAAyB+iM,gBAAgB,OAAOh/L,KAAK,SAASi/L,kBAAkB,6DAA6Dr2J,IAAI,iFAAiF66J,4BAA4BxnM,IAAI,2BAA2B+iM,gBAAgB,SAASh/L,MAAM,SAAS,cAAci/L,kBAAkB,gCAAgCr2J,IAAI,yHAAyH+qH,QAAQ+vC,WAAW,IAAI,IAAI,KAAKC,cAAc,IAAI,IAAI,KAAKC,MAAM,EAAE,IAAI,KAAKC,YAAY,IAAI,IAAI,KAAKC,OAAO,IAAI,IAAI,KAAKC,OAAO,IAAI,IAAI,KAAKC,QAAQ,IAAI,IAAI,KAAKC,OAAO,EAAE,EAAE,GAAGC,gBAAgB,IAAI,IAAI,KAAKC,MAAM,EAAE,EAAE,KAAKC,YAAY,IAAI,GAAG,KAAKC,OAAO,IAAI,GAAG,IAAIC,WAAW,IAAI,IAAI,KAAKC,WAAW,GAAG,IAAI,KAAKC,YAAY,IAAI,IAAI,GAAGC,WAAW,IAAI,IAAI,IAAIC,OAAO,IAAI,IAAI,IAAIC,gBAAgB,IAAI,IAAI,KAAKC,UAAU,IAAI,IAAI,KAAKC,SAAS,IAAI,GAAG,IAAIC,MAAM,EAAE,IAAI,KAAKC,UAAU,EAAE,EAAE,KAAKC,UAAU,EAAE,IAAI,KAAKC,eAAe,IAAI,IAAI,IAAIC,UAAU,IAAI,IAAI,KAAKC,WAAW,EAAE,IAAI,GAAGC,UAAU,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,aAAa,IAAI,EAAE,KAAKC,gBAAgB,GAAG,IAAI,IAAIC,YAAY,IAAI,IAAI,GAAGC,YAAY,IAAI,GAAG,KAAKC,SAAS,IAAI,EAAE,GAAGC,YAAY,IAAI,IAAI,KAAKC,cAAc,IAAI,IAAI,KAAKC,eAAe,GAAG,GAAG,KAAKC,eAAe,GAAG,GAAG,IAAIC,eAAe,EAAE,IAAI,KAAKC,YAAY,IAAI,EAAE,KAAKC,UAAU,IAAI,GAAG,KAAKC,aAAa,EAAE,IAAI,KAAKC,SAAS,IAAI,IAAI,KAAKC,SAAS,IAAI,IAAI,KAAKC,YAAY,GAAG,IAAI,KAAKC,WAAW,IAAI,GAAG,IAAIC,aAAa,IAAI,IAAI,KAAKC,aAAa,GAAG,IAAI,IAAIC,SAAS,IAAI,EAAE,KAAKC,WAAW,IAAI,IAAI,KAAKC,YAAY,IAAI,IAAI,KAAKC,MAAM,IAAI,IAAI,GAAGC,WAAW,IAAI,IAAI,IAAIC,MAAM,IAAI,IAAI,KAAK3Q,MAAM,IAAI,IAAI,KAAKF,OAAO,EAAE,IAAI,GAAG8Q,aAAa,IAAI,IAAI,IAAIC,UAAU,IAAI,IAAI,KAAKC,SAAS,IAAI,IAAI,KAAKC,WAAW,IAAI,GAAG,IAAIC,QAAQ,GAAG,EAAE,KAAKC,OAAO,IAAI,IAAI,KAAKC,OAAO,IAAI,IAAI,KAAKC,UAAU,IAAI,IAAI,KAAKC,eAAe,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,GAAGC,cAAc,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,YAAY,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,sBAAsB,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,YAAY,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,aAAa,IAAI,IAAI,KAAKC,eAAe,GAAG,IAAI,KAAKC,cAAc,IAAI,IAAI,KAAKC,gBAAgB,IAAI,IAAI,KAAKC,gBAAgB,IAAI,IAAI,KAAKC,gBAAgB,IAAI,IAAI,KAAKC,aAAa,IAAI,IAAI,KAAKC,MAAM,EAAE,IAAI,GAAGC,WAAW,GAAG,IAAI,IAAIC,OAAO,IAAI,IAAI,KAAKC,SAAS,IAAI,EAAE,KAAKC,QAAQ,IAAI,EAAE,GAAGC,kBAAkB,IAAI,IAAI,KAAKC,YAAY,EAAE,EAAE,KAAKC,cAAc,IAAI,GAAG,KAAKC,cAAc,IAAI,IAAI,KAAKC,gBAAgB,GAAG,IAAI,KAAKC,iBAAiB,IAAI,IAAI,KAAKC,mBAAmB,EAAE,IAAI,KAAKC,iBAAiB,GAAG,IAAI,KAAKC,iBAAiB,IAAI,GAAG,KAAKC,cAAc,GAAG,GAAG,KAAKC,WAAW,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,UAAU,IAAI,IAAI,KAAKC,aAAa,IAAI,IAAI,KAAKC,MAAM,EAAE,EAAE,KAAKC,SAAS,IAAI,IAAI,KAAKC,OAAO,IAAI,IAAI,GAAGC,WAAW,IAAI,IAAI,IAAIC,QAAQ,IAAI,IAAI,GAAGC,WAAW,IAAI,GAAG,GAAGC,QAAQ,IAAI,IAAI,KAAKC,eAAe,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,eAAe,IAAI,IAAI,KAAKC,eAAe,IAAI,IAAI,KAAKC,YAAY,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,MAAM,IAAI,IAAI,IAAIC,MAAM,IAAI,IAAI,KAAKC,MAAM,IAAI,IAAI,KAAKC,YAAY,IAAI,IAAI,KAAKC,QAAQ,IAAI,EAAE,KAAK3U,KAAK,IAAI,EAAE,GAAG4U,WAAW,IAAI,IAAI,KAAKC,WAAW,GAAG,IAAI,KAAKC,aAAa,IAAI,GAAG,IAAIC,QAAQ,IAAI,IAAI,KAAKC,YAAY,IAAI,IAAI,IAAIC,UAAU,GAAG,IAAI,IAAIC,UAAU,IAAI,IAAI,KAAKC,QAAQ,IAAI,GAAG,IAAIC,QAAQ,IAAI,IAAI,KAAKC,SAAS,IAAI,IAAI,KAAKC,WAAW,IAAI,GAAG,KAAKC,WAAW,IAAI,IAAI,KAAKC,WAAW,IAAI,IAAI,KAAKC,MAAM,IAAI,IAAI,KAAKC,aAAa,EAAE,IAAI,KAAKC,WAAW,GAAG,IAAI,KAAK95J,KAAK,IAAI,IAAI,KAAK+5J,MAAM,EAAE,IAAI,KAAKC,SAAS,IAAI,IAAI,KAAKC,QAAQ,IAAI,GAAG,IAAIC,WAAW,GAAG,IAAI,KAAKC,QAAQ,IAAI,IAAI,KAAKC,OAAO,IAAI,IAAI,KAAKC,OAAO,IAAI,IAAI,KAAKC,YAAY,IAAI,IAAI,KAAKrW,QAAQ,IAAI,IAAI,GAAGsW,aAAa,IAAI,IAAI,IAAIpoJ,aAAa,EAAE,EAAE,EAAE,IAAItgD,QAAQpB,OAAO,OAAO,QAAQ,OAAO,QAAQ,aAAa,UAAU,eAAgB6C,GAAE8oB,SAAShjB,SAAS0zL,OAAOz5L,EAAEmnM,QAAQnnM,SAAS2vH,GAAG,SAAS/4H,EAAEqJ,EAAE5G,GAAa,mBAAH4G,KAAiBA,EAAE8oB,QAAQvmB,KAAK,SAAS5L,EAAEqJ,GAAG,IAAI,GAAQD,GAAJ3G,EAAE,EAAIA,EAAEzC,EAAE8C,OAAOL,IAAI,GAAG2G,EAAEC,EAAE3B,KAAK1H,EAAEA,EAAEyC,IAAI,MAAO2G,EAAE,OAAO,aAAY4vH,GAAG,SAASh5H,EAAEqJ,EAAE5G,IAAG,SAAU4G,IAAG,SAAU5G,GAAG,GAAI2G,GAAEC,EAAEpK,GAAGe,EAAE,aAAcyC,GAAE47L,KAAK,SAASh1L,EAAE5G,EAAE2G,GAAG1K,KAAK8W,KAAKnM,EAAE3K,KAAKo8B,KAAKr4B,EAAE/D,KAAKwkB,MAAM9Z,GAAG3G,EAAE47L,KAAKt0L,WAAWmR,GAAG,OAAOq8E,GAAG,SAASv3F,GAAoD,IAAI,GAAjDqJ,GAAE3K,KAAKo8B,KAAKpuB,IAAI,SAASrD,GAAG,MAAOA,GAAEkuF,GAAGv3F,KAAa6C,EAAE,EAAEA,EAAEwG,EAAEvG,OAAOD,IAAI,GAAa,cAAVwG,EAAExG,GAAGqY,GAAiB,OAAOA,GAAG,YAAY1U,MAAM,YAAa,IAAG9H,KAAK8W,OAAQ/S,GAAEsyB,UAAU,CAAC,GAAGtyB,EAAEsyB,UAAUr2B,KAAK8W,MAAM1S,QAAQuG,EAAEvG,OAAO,CAAC,GAAIvE,GAAEkE,EAAEsyB,UAAUr2B,KAAK8W,MAAMlU,MAAMmB,EAAEsyB,UAAU1rB,EAAG,OAAW,QAAJ9K,GAAUyB,EAAEmD,OAAO8vE,QAAQ,gCAAgCv0E,KAAK8W,KAAK,KAAK0N,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,cAAcjI,EAAE,MAAOyB,GAAEmD,OAAO8vE,QAAQ,qCAAqCv0E,KAAK8W,KAAK,OAAO/S,EAAEsyB,UAAUr2B,KAAK8W,MAAM1S,OAAO,aAAaogB,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,aAAa,GAAI9D,GAAED,EAAEo8L,UAAU2R,gBAAgB9xM,KAAK8W,KAAM,IAAOokB,SAAJl3B,EAAc,CAAC,GAAI4G,GAAEF,EAAEisB,MAAM5yB,EAAEo8L,UAAU2R,iBAAiBtxM,EAAER,KAAK8W,KAAKnW,EAAEiK,EAAEoD,IAAI,SAAS1M,GAAG,OAAOA,EAAE,GAAGyC,EAAEo8L,UAAU4R,aAAavxM,EAAEc,EAAE,IAAIA,EAAE,MAAM4M,KAAK,SAAS5M,EAAEqJ,GAAG,MAAOrJ,GAAE,GAAGqJ,EAAE,IAAK,OAAOrJ,GAAEmD,OAAO8vE,QAAQ,oBAAoBv0E,KAAK8W,KAAK,oBAAoBnW,EAAE,GAAG,GAAG,IAAIA,EAAE,GAAG,GAAG,IAAI6jB,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,aAAa,MAAO9D,KAAI2G,EAAEvG,QAAUsH,MAAMtG,QAAQpB,IAAK0G,EAAE2pB,QAAQrwB,EAAE2G,EAAEvG,SAAUJ,KAAI,GAA4LhE,KAAKo8B,KAAKzxB,EAAE3K,OAApMsB,EAAEmD,OAAO8vE,QAAQ,YAAYv0E,KAAK8W,KAAK,YAAY9S,EAAE,4BAA4B2G,EAAEvG,OAAOogB,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,eAAkCwD,SAAS,SAAShK,EAAEqJ,GAAG,MAAO3K,MAAKo8B,KAAKh4B,OAAOpE,KAAK8W,KAAK,IAAI9W,KAAKo8B,KAAKruB,KAAK,KAAK,IAAI/N,KAAK8W,QAASxV,EAAE,cAAc0H,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaijM,UAAU,EAAE3qD,WAAWnsH,SAAYq/F,GAAG,SAASj5H,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEs5J,MAAM,SAASjwJ,EAAE5G,GAAG2H,MAAMtG,QAAQuF,GAAG3K,KAAK+5L,IAAIpvL,EAAE9H,MAAM,EAAE,GAAa,GAAV8H,EAAEvG,OAAUpE,KAAK+5L,IAAIpvL,EAAE6V,MAAM,SAASxS,IAAI,SAAS1M,GAAG,MAAO8T,UAAS9T,EAAE,MAAMtB,KAAK+5L,IAAIpvL,EAAEnG,MAAM,IAAIwJ,IAAI,SAAS1M,GAAG,MAAO8T,UAAS9T,EAAEA,EAAE,MAAgB,gBAAHyC,GAAY/D,KAAKq6L,MAAMt2L,EAAa,IAAX4G,EAAEvG,OAAWpE,KAAKq6L,MAAM1vL,EAAE,GAAG3K,KAAKq6L,MAAM,GAAG/4L,EAAEs5J,MAAMvvJ,WAAWmR,GAAG,QAAQq8E,GAAG,WAAW,MAAO74F,OAAMsL,SAAS,WAAW,MAAOtL,MAAKq6L,MAAM,EAAE,QAAQr6L,KAAK+5L,IAAI/rL,IAAI,SAAS1M,GAAG,MAAO0O,MAAKo6B,MAAM9oC,KAAKqB,OAAO3C,KAAKq6L,OAAOtsL,KAAK,MAAM,IAAI,IAAI/N,KAAK+5L,IAAI/rL,IAAI,SAAS1M,GAAG,MAAOA,GAAE0O,KAAKo6B,MAAM9oC,GAAGA,GAAGA,EAAE,IAAI,IAAIA,EAAE,EAAE,EAAEA,GAAGgK,SAAS,IAAe,IAAXhK,EAAE8C,OAAW,IAAI9C,EAAEA,IAAIyM,KAAK,KAAKkkM,QAAQ,SAAStnM,EAAE5G,EAAE2G,GAAG,GAAIvG,KAAKuG,aAAapJ,GAAEs5J,QAAQlwJ,EAAEA,EAAEwnM,UAAW,KAAI,GAAIryM,GAAE,EAAEA,EAAE,EAAEA,IAAIsE,EAAEtE,GAAGyB,EAAE2wM,QAAQluM,EAAE/D,KAAK+5L,IAAIl6L,GAAG6K,EAAEqvL,IAAIl6L,GAAI,OAAO,IAAIyB,GAAEs5J,MAAMz2J,IAAIg2L,MAAM,WAAW,GAA2Gn2L,GAAE4G,EAAzGtJ,EAAEtB,KAAK+5L,IAAI,GAAG,IAAIpvL,EAAE3K,KAAK+5L,IAAI,GAAG,IAAIh2L,EAAE/D,KAAK+5L,IAAI,GAAG,IAAIrvL,EAAE1K,KAAKq6L,MAAMl2L,EAAE6L,KAAKC,IAAI3O,EAAEqJ,EAAE5G,GAAGlE,EAAEmQ,KAAK4kB,IAAItzB,EAAEqJ,EAAE5G,GAAOvD,GAAG2D,EAAEtE,GAAG,EAAEc,EAAEwD,EAAEtE,CAAE,IAAGsE,IAAItE,EAAEmE,EAAE4G,EAAE,MAAM,CAA0B,OAAzBA,EAAEpK,EAAE,GAAGG,GAAG,EAAEwD,EAAEtE,GAAGc,GAAGwD,EAAEtE,GAAUsE,GAAG,IAAK7C,GAAE0C,GAAG2G,EAAE5G,GAAGpD,GAAGgK,EAAE5G,EAAE,EAAE,EAAG,MAAM,KAAK4G,GAAE3G,GAAGD,EAAEzC,GAAGX,EAAE,CAAE,MAAM,KAAKoD,GAAEC,GAAG1C,EAAEqJ,GAAGhK,EAAE,EAAEqD,GAAG,EAAE,OAAOL,EAAI,IAAFK,EAAMnE,EAAE+K,EAAE/G,EAAErD,EAAEA,EAAEkK,MAAOpJ,EAAE,cAAc0wM,UAAU,IAAIh4E,IAAI,SAAS14H,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE89L,QAAQ,SAASz0L,EAAE5G,GAAG/D,KAAK8H,MAAM6C,EAAE3K,KAAK68B,SAAS94B,GAAGzC,EAAE89L,QAAQ/zL,WAAWC,SAAS,SAAShK,GAAG,MAAM,OAAOtB,KAAK8H,MAAM,OAAO+wF,GAAG,WAAW,MAAO74F,SAASsB,EAAE,cAAc0wM,UAAU,IAAI/3E,IAAI,SAAS34H,EAAEqJ,EAAE5G,IAAG,SAAU4G,IAAG,SAAU5G,GAAG,QAASlE,GAAEyB,GAAG,QAASqJ,GAAErJ,GAAG,MAAOA,GAAE,GAAG0J,cAAc,MAAO1J,GAAEgL,OAAO,GAAGtB,cAAc1J,EAAEuB,MAAM,GAAG6B,QAAQ,MAAMiG,GAAG,aAAa,QAAS3G,GAAE1C,GAAG,MAAOA,GAAE4M,KAAK,SAAS5M,EAAEqJ,GAAG,MAAOrJ,GAAE,GAAGqJ,EAAE,KAAKqD,IAAI,SAAS1M,GAAG,MAAOA,GAAE,KAAK,GAAIoJ,GAAEpJ,EAAE,UAAU6C,EAAEwG,EAAEpK,GAAGe,EAAE,aAAcyC,GAAEouM,WAAW,SAASxnM,EAAExG,GAAGnE,KAAK0rB,SAAS/gB,EAAE+gB,SAAShhB,EAAEsvK,GAAGrvK,EAAEwX,kBAAmBpe,GAAEw8L,WAAWvgM,KAAKwhM,MAAMr9L,EAAEnE,KAAKoyM,YAAa,KAAI,GAAIvyM,GAAE,EAAEA,EAAEG,KAAKwhM,MAAMp9L,OAAOvE,IAAI,QAASG,MAAKwhM,MAAM3hM,KAAKG,KAAKwhM,MAAM3hM,GAAGG,KAAKwhM,MAAM3hM,GAAG+M,SAAS5M,KAAKwhM,MAAM3hM,GAAGwV,KAAK1K,EAAE0K,KAAKrV,KAAKoyM,UAAUpyM,KAAKwhM,MAAM3hM,GAAGwyM,aAAY,CAAGryM,MAAKmiB,QAAQxX,EAAEwX,QAAQniB,KAAKqV,KAAK1K,EAAE0K,KAAKrV,KAAK6gM,aAAal2L,EAAEk2L,aAAa7gM,KAAKsgM,WAAW31L,EAAE21L,YAAY,cAActgM,KAAKg/L,YAAYr0L,EAAEq0L,eAAej7L,EAAEouM,WAAW9mM,UAAUC,SAAS,WAAyC,IAAI,GAA9BhK,GAAEtB,KAAKmiB,QAAQ7W,WAAmBX,EAAE,EAAEA,EAAE3K,KAAKwhM,MAAMp9L,OAAOuG,IAAIrJ,GAAG,SAAStB,KAAKwhM,MAAM72L,EAAG,OAAOrJ,IAAGyC,EAAEouM,WAAW9mM,UAAUuB,MAAM,SAAStL,GAAGA,GAAGoJ,EAAEsvK,GAAG14K,YAAayC,GAAEw8L,UAAW,IAAI51L,GAAES,OAAO20B,OAAOh8B,EAAEouM,WAAW9mM,UAAW,OAAOV,GAAE62L,MAAMxhM,KAAKwhM,MAAM3+L,QAAQ8H,EAAEynM,UAAUjuM,EAAEyI,MAAM5M,KAAKoyM,WAAWznM,EAAEwX,QAAQ7gB,EAAEA,EAAEtB,KAAKmiB,QAAQvV,QAAQjC,EAAE21L,WAAWtgM,KAAKsgM,WAAW31L,GAAG5G,EAAEouM,WAAW9mM,UAAUq2L,SAAS,SAASpgM,GAAW,IAAI,GAARqJ,GAAE,EAAU5G,EAAE,EAAEA,EAAEzC,EAAE8C,OAAOL,IAAI/D,KAAKoyM,UAAU9wM,EAAEyC,GAAGkJ,MAAMjN,KAAKwhM,MAAM71L,KAAKrK,EAAEyC,IAAI/D,KAAKoyM,UAAU9wM,EAAEyC,GAAGkJ,KAAI,EAAGtC,IAAK,OAAOA,IAAG5G,EAAEouM,WAAW9mM,UAAUi3L,UAAU,SAAShhM,EAAEqJ,GAAG,IAAI,GAAI5G,GAAE,EAAE2G,EAAE1K,KAAK0rB,SAAStnB,OAAOL,EAAE2G,EAAE3G,IAAI,CAAC,GAAII,GAAEnE,KAAK0rB,SAAS3nB,EAAG,MAAKI,EAAEmuM,UAAmB,UAATnuM,EAAEmB,MAAgBqF,EAAExG,EAAEmjB,QAAiB,OAATnjB,EAAEmB,MAAahE,IAAI6C,EAAEmjB,OAAO,OAAM,EAAG,OAAM,GAAIvjB,EAAEouM,WAAW9mM,UAAUknM,iBAAiB,SAASjxM,EAAEqJ,EAAED,GAAG,GAAIvG,GAAEuG,EAAEo3L,MAAMxgM,GAAGyM,KAAK,IAAI/N,KAAKmiB,QAAQ2/K,MAAMxgM,GAAGsJ,KAAKpK,IAAK,KAAI,GAAIG,KAAKgK,GAAE,CAACnK,IAAK,KAAI,GAAIqD,KAAK8G,GAAEhK,GAAGH,EAAEmL,KAAKhB,EAAEhK,GAAGkD,GAAG2gB,MAAO,IAAItjB,GAAE8O,KAAK4kB,IAAIhyB,MAAMoN,KAAKxP,EAAGoK,GAAEe,MAAMhL,EAAEO,IAAI0J,EAAE5G,EAAE4G,EAAW,KAAI,GAARjH,GAAE,EAAUM,EAAE,EAAEA,EAAE2G,EAAExG,OAAOH,IAAI,CAAC,GAAI7C,GAAEuJ,EAAEC,EAAE3G,IAAI4G,EAAED,EAAE3G,GAAGO,MAAM,KAAKsE,KAAM,IAAO,MAAJ+B,EAAH,CAAoBlH,GAAI,IAAIG,GAAEC,EAAEo8L,UAAUqS,mBAAmB3nM,EAAEzJ,EAAG,IAAG0C,EAAE,CAAC,GAAIJ,GAAEtC,EAAEgK,OAAOmoB,KAAKnyB,GAAG0D,QAASxD,GAAEmD,OAAO8vE,QAAQzwE,EAAE0gB,MAAM9gB,EAAE8gB,MAAMy3K,SAASv4L,EAAEu4L,WAAW,GAAgBnxL,GAAZG,EAAEpL,EAAEgL,GAAGpK,GAAE,CAAK0D,IAAG,QAAQ8G,EAAE,GAAI,KAAI,GAAIQ,KAAKrK,GAAE,CAAK,QAAJyJ,GAAWvJ,EAAEmD,OAAO8vE,QAAQ,kDAAkD/vD,MAAMpjB,EAAEqK,GAAG+Y,MAAMy3K,SAAS76L,EAAEqK,GAAGwwL,UAAW,IAAI7yL,GAAErF,EAAEo8L,UAAU9zL,SAASjL,EAAEqK,GAAGqL,KAAM1N,IAAGA,EAAEs9L,eAAiC,YAAlBt9L,EAAEs9L,eAA2BjmM,GAAE,EAAGqK,EAAE1J,EAAEqK,GAAGotF,GAAGv3F,GAAGwgM,MAAMxgM,GAAE,IAAK8H,GAAGA,EAAEs9L,eAAiC,QAAlBt9L,EAAEs9L,eAAuBjmM,GAAE,EAAGqK,EAAE1J,EAAEqK,GAAGotF,GAAGv3F,GAAGwgM,MAAMxgM,GAAE,IAAK6C,GAAG/C,EAAEqK,GAAGotF,GAAGv3F,GAAGwgM,MAAMxgM,GAAG,IAAIb,EAAE0D,GAAG,OAAiB,mBAAH2G,KAAoC3G,GAAnB2G,EAAEmB,QAAQ,OAAM,EAAM,IAAInB,EAAE,KAAKG,EAAE,MAAS,aAAaH,EAAE,QAAQG,EAAE,QAAO,MAAOtH,IAAIQ,EAAK,aAAaA,EAAE,cAAlB,IAAiCJ,EAAEouM,WAAW9mM,UAAUonM,mBAAmB,SAASnxM,EAAEqJ,GAAc,IAAI,GAAND,GAAL3G,KAAeI,EAAEwG,EAAExG,EAAEnE,KAAKwhM,MAAMp9L,OAAOD,IAAI,CAACuG,EAAE1K,KAAKwhM,MAAMr9L,EAAG,IAAItE,GAAE6K,EAAEoqF,SAAS,IAAIpqF,EAAEw5L,UAAW5iM,GAAEu8B,QAAQnzB,EAAE2K,SAASxV,IAAKkE,OAAM2G,EAAEoM,OAAQ/S,GAAElE,OAAOyB,EAAEu8B,SAASnzB,EAAE2K,KAAKxV,IAAKkE,KAAIA,EAAElE,OAAOkE,EAAElE,GAAG6K,EAAEoM,MAAMpM,GAAG,GAAGU,OAAOmoB,KAAKxvB,GAAGK,OAAO,MAAO9C,GAAE29L,MAAM39L,EAAEoxM,YAAYpxM,EAAEu8B,QAAQ95B,GAAGA,EAAEouM,WAAW9mM,UAAUy2L,MAAM,SAASxgM,EAAEqJ,GAAG,GAAID,GAAE1K,KAAKmiB,QAAQ7W,UAAWZ,KAAKC,KAAIA,EAAED,GAAG3G,EAAE+oE,KAAK54C,IAAwD,KAAI,GAA/BtpB,GAApBzG,EAAEJ,EAAE+oE,KAAK54C,IAAIr0B,EAAE,GAAOW,GAAGkyM,UAAU3uM,EAAE+oE,KAAK54C,KAAavzB,EAAE,EAAEA,EAAEX,KAAKwhM,MAAMp9L,QAAQD,EAAExD,IAA+B,GAA1BH,EAAEy+L,KAAKj/L,KAAKwhM,MAAM7gM,GAAG0U,KAAU1K,EAAED,GAAGlK,EAAEy+L,KAAe,KAAMz+L,EAAEq9B,QAAQr9B,EAAEy+L,KAAK96L,GAAE,GAAGyG,EAAE5K,KAAKyyM,mBAAmBjyM,EAAEG,GAAG,CAAC,KAAKgK,EAAED,GAAGlK,EAAEq9B,SAAS,QAASh+B,IAAGG,KAAKuyM,iBAAiBjxM,EAAEsJ,GAAE,GAAK7G,GAAE+oE,MAAMjzB,QAAQlvC,EAAED,GAAGlK,EAAEq9B,UAAUlzB,EAAED,KAAKlK,EAAEq9B,QAAS,MAAOh+B,IAAGkE,EAAEouM,WAAW9mM,UAAU44L,KAAK,SAAS3iM,GAAG,GAAIqJ,MAAKD,EAAE,IAAI1K,KAAKqV,KAAK,sBAAsBxV,EAAEG,KAAK6gM,aAAa78L,EAAEhE,KAAKmiB,QAAQ8hL,KAAK3iM,GAAGsJ,GAAGF,EAAG,OAAO1G,IAAG4G,EAAEe,KAAK3H,GAAGnE,GAAG+K,EAAEe,KAAK,2BAA2B9L,GAAGmE,EAAE4G,EAAEmD,KAAK,QAAQ5J,EAAE1B,KAAKzC,KAAKwhM,MAAM,SAAS92L,GAAG,KAAKA,YAAa3G,GAAEk9L,MAAM,KAAM,IAAI/xL,OAAM,wBAAyBvE,GAAED,EAAEoM,MAAMnM,EAAED,EAAEoM,SAAU,IAAI3S,IAAGqgB,MAAM9Z,EAAE8Z,MAAM0/K,WAAWx5L,EAAEw5L,WAAYlgM,GAAEG,EAAEsvF,GAAG,MAAMzvF,EAAE,KAAK0G,EAAE5C,MAAMm8L,KAAK3iM,GAAG,IAAI6C,EAAEsvF,GAAG/oF,EAAE5C,MAAMm8L,KAAK3iM,GAAG6C,EAAEk/L,SAA4B,UAAnB34L,EAAE5C,MAAM+wF,GAAGv3F,GAAGkb,GAAarY,EAAEwuM,WAAW3uM,EAAE2G,EAAED,EAAEoM,MAAMnL,KAAKxH,KAAKwG,IAAKrJ,EAAE,cAAc0H,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaijM,UAAU,EAAEY,OAAO,GAAGvrD,WAAWnsH,SAAY23K,IAAI,SAASvxM,EAAEqJ,EAAE5G,IAAG,SAAU4G,IAAG,SAAU5G,GAAG,GAAI2G,GAAEC,EAAEpK,GAAGe,EAAE,aAAcyC,GAAE+1L,UAAU,SAASnvL,EAAE5G,EAAE2G,GAAG1K,KAAK8H,MAAM1B,WAAWuE,GAAG3K,KAAKwxB,KAAKztB,GAAG,KAAK/D,KAAKwkB,MAAM9Z,GAAG3G,EAAE+1L,UAAUzuL,WAAWmR,GAAG,QAAQs2L,gBAAgB,IAAI,KAAK,KAAK,KAAK,KAAK,MAAMC,cAAc,KAAK,KAAKC,WAAW,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAKC,WAAWnvM,EAAE,MAAMovM,GAAG,KAAK7jL,GAAG,KAAK8jL,GAAG,GAAG/lE,GAAG,GAAGv0C,GAAG,SAASv3F,GAAG,GAAGtB,KAAKwxB,OAAO9mB,EAAE0U,SAASpf,KAAKgzM,UAAUhzM,KAAKwxB,MAAM,MAAOlwB,GAAEmD,OAAO8vE,QAAQ,kBAAkBv0E,KAAKwxB,KAAK,IAAIhN,MAAMxkB,KAAKwkB,SAAShI,GAAG,YAAY1U,MAAM,YAAa,IAAG9H,KAAKwxB,MAAM9mB,EAAE0U,SAASpf,KAAK8yM,eAAe9yM,KAAKwxB,MAAM,CAAC,IAAIlwB,EAAEihM,IAAI,MAAOjhM,GAAEmD,OAAO8vE,QAAQ,gDAAgD/vD,MAAMxkB,KAAKwkB,SAAShI,GAAG,YAAY1U,MAAM,YAAa9H,MAAK8H,MAAM9H,KAAK8H,MAAM9H,KAAKizM,UAAUjzM,KAAKwxB,MAAMlwB,EAAEihM,IAAIviM,KAAKwxB,KAAK,KAAK,MAAOxxB,OAAMoqC,MAAM,WAAW,MAAOpqC,MAAK8H,MAAMkI,KAAKo6B,MAAMpqC,KAAK8H,OAAO9H,MAAMkyM,QAAQ,WAAW,MAAO,IAAInuM,GAAE62J,OAAO56J,KAAK8H,MAAM9H,KAAK8H,MAAM9H,KAAK8H,SAASsiC,MAAM,WAAW,MAAOpqC,MAAK8H,MAAMkI,KAAKo6B,MAAMpqC,KAAK8H,OAAO9H,MAAMsL,SAAS,WAAW,MAAOtL,MAAK8H,MAAMwD,YAAY2mM,QAAQ,SAAS3wM,EAAEqJ,EAAED,GAAG,MAAmB,MAAZ1K,KAAKwxB,MAAqB,MAAT9mB,EAAE8mB,MAAYlwB,EAAEmD,OAAO8vE,QAAQ,kDAAkD/vD,MAAMxkB,KAAKwkB,SAAShI,GAAG,YAAY1U,MAAM,cAA0B,MAAZ9H,KAAKwxB,MAAqB,MAAT9mB,EAAE8mB,KAAe,MAAJ7mB,GAAa,MAAJA,GAAa,MAAJA,GAASrJ,EAAEmD,OAAO8vE,QAAQ,mEAAmE/vD,MAAMxkB,KAAKwkB,SAAShI,GAAG,YAAY1U,MAAM,cAAc,GAAI/D,GAAE+1L,UAAU/1L,EAAEkuM,QAAQtnM,EAAE3K,KAAK8H,MAAM9H,KAAK8H,MAAM4C,EAAE5C,MAAM,KAAK9H,KAAKwxB,MAAM,GAAIztB,GAAE+1L,UAAU/1L,EAAEkuM,QAAQtnM,EAAE3K,KAAK8H,MAAM4C,EAAE5C,OAAO9H,KAAKwxB,MAAM9mB,EAAE8mB,SAAUlwB,EAAE,cAAc0H,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaijM,UAAU,EAAE3qD,WAAWnsH,SAAYk4K,IAAI,SAAS9xM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE++L,QAAQ,SAAS11L,GAAG3K,KAAK8H,MAAM6C,EAAEoB,OAAuB,MAAhB/L,KAAK8H,MAAM,KAAW9H,KAAKsF,KAAK,KAAKtF,KAAKsnB,MAAMtnB,KAAK8H,MAAMpD,QAAQ,KAAK,KAAqB,MAAhB1E,KAAK8H,MAAM,KAAW9H,KAAKsF,KAAK,QAAQtF,KAAKsnB,MAAMtnB,KAAK8H,MAAMpD,QAAQ,MAAM,KAAK1E,KAAK8H,MAAMmE,QAAQ,QAAO,IAAKjM,KAAKsF,KAAK,aAAahE,EAAE++L,QAAQh1L,UAAU2zL,YAAY,WAAW,OAAmB,OAAZh/L,KAAKsF,KAAY,EAAE,EAAc,UAAZtF,KAAKsF,KAAe,EAAE,IAAIhE,EAAE++L,QAAQh1L,UAAUC,SAAS,WAAW,MAAOtL,MAAK8H,QAASxG,EAAE,cAAc0wM,UAAU,IAAIqB,IAAI,SAAS/xM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE4/L,WAAW,SAASv2L,GAAG3K,KAAK8H,MAAM6C,GAAGrJ,EAAE4/L,WAAW71L,WAAWmR,GAAG,aAAaq8E,GAAG,SAASluF,GAAG,MAAO3K,MAAK8H,MAAM1D,OAAO,EAAE,GAAI9C,GAAE4/L,WAAWlhM,KAAK8H,MAAMkG,IAAI,SAAS1M,GAAG,MAAOA,GAAEu3F,GAAGluF,MAAM3K,KAAK8H,MAAM,GAAG+wF,GAAGluF,IAAIW,SAAS,SAAShK,GAAG,MAAOtB,MAAK8H,MAAMkG,IAAI,SAASrD,GAAG,MAAOA,GAAEW,SAAShK,KAAKyM,KAAK,QAASzM,EAAE,cAAc0wM,UAAU,IAAIsB,IAAI,SAAShyM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEi+L,MAAM,SAAS50L,GAAG3K,KAAK8H,MAAM6C,GAAG,IAAIrJ,EAAEi+L,MAAMl0L,WAAWmR,GAAG,QAAQlR,SAAS,WAAW,MAAM,IAAItL,KAAK8H,MAAM,KAAK+wF,GAAG,WAAW,MAAO74F,SAASsB,EAAE,cAAc0wM,UAAU,IAAIuB,IAAI,SAASjyM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEy/L,OAAO,SAASp2L,EAAE5G,EAAE2G,EAAEvG,EAAEtE,GAAGG,KAAK45B,IAAIjvB,EAAE3K,KAAK+xI,GAAGhuI,EAAE/D,KAAKmY,IAAIzN,EAAE1K,KAAKwkB,MAAMrgB,EAAEnE,KAAKi8L,SAASp8L,EAAEG,KAAKiN,GAAGjN,KAAK45B,IAAI55B,KAAK+xI,GAAG/xI,KAAKmY,IAAK,IAAIxN,IAAGstB,KAAK,SAAS,WAAWlW,KAAK,SAAS,WAAWyxL,KAAK,MAAM,QAAQC,MAAM,OAAO,QAAQC,MAAM,UAAU,WAAWC,MAAM,UAAU,WAAWC,MAAM,UAAU,SAAS,KAAMtyM,GAAEy/L,OAAO11L,UAAUwtF,GAAG,SAASv3F,GAAG,MAAOtB,MAAK45B,IAAI55B,KAAK45B,IAAIi/D,GAAGv3F,GAAGtB,KAAKmY,IAAInY,KAAKmY,IAAI0gF,GAAGv3F,GAAGtB,MAAMsB,EAAEy/L,OAAO11L,UAAUy2L,MAAM,SAAS/9L,GAAGzC,EAAE6+L,UAAU33L,KAAKU,SAAuB,YAAdlJ,KAAK45B,IAAIpd,KAAgB,IAAKlb,EAAE6+L,UAAU33L,KAAKU,OAAOpB,MAAMmE,QAAQjM,KAAK45B,IAAItuB,aAAavH,EAAEU,OAAO8vE,QAAQv0E,KAAK45B,IAAItuB,WAAW,iDAAiDkZ,MAAMxkB,KAAKwkB,MAAMy3K,SAASj8L,KAAKi8L,WAAyB,YAAdj8L,KAAKmY,IAAIqE,KAAgB,IAAKlb,EAAE6+L,UAAU33L,KAAKU,OAAOpB,MAAMmE,QAAQjM,KAAKmY,IAAI7M,aAAavH,EAAEU,OAAO8vE,QAAQv0E,KAAKmY,IAAI7M,WAAW,iDAAiDkZ,MAAMxkB,KAAKwkB,MAAMy3K,SAASj8L,KAAKi8L,WAAY,IAAIvxL,GAAE1K,KAAK45B,IAAItuB,UAAS,GAAInH,EAAEnE,KAAKmY,IAAI7M,SAAsB,UAAbtL,KAAKmY,IAAIqE,GAAc,QAAsB,WAAf7R,EAAE3K,KAAK+xI,IAAI,IAAe/iI,MAAM7K,IAAkB,UAAdnE,KAAKmY,IAAIqE,IAA6B,UAAf7R,EAAE3K,KAAK+xI,IAAI,IAAoB,KAAN5tI,EAAE,KAAUJ,EAAEU,OAAO8vE,QAAQ,wBAAwBv0E,KAAK+xI,GAAG,gBAAgB/xI,KAAKmY,IAAIqM,MAAMxkB,KAAKwkB,MAAMy3K,SAASj8L,KAAKi8L,WAAWvxL,EAAEC,EAAE3K,KAAK+xI,IAAI,GAAG5tI,GAAGwG,EAAE3K,KAAK+xI,IAAI,IAAI,KAAKzwI,EAAEy/L,OAAO11L,UAAUC,SAAS,WAAW,MAAM,IAAItL,KAAKiN,GAAG,MAAO3L,EAAE,cAAc0wM,UAAU,IAAI6B,IAAI,SAASvyM,EAAEqJ,EAAE5G,IAAG,SAAU4G,GAAG,GAAI5G,GAAEzC,EAAE,WAAWoJ,EAAEC,EAAEpK,GAAGe,EAAE,aAAcyC,GAAEw8L,UAAU,WAAWvgM,KAAKmiB,YAAYpe,EAAEw8L,UAAUl1L,UAAUy2L,MAAM,SAASxgM,GAAG,GAAIqJ,KAAK,KAAI,GAAI5G,KAAK/D,MAAKmiB,QAAQxX,EAAEgB,KAAK,IAAI3L,KAAKmiB,QAAQpe,GAAG+9L,MAAMxgM,GAAGyK,OAAO,IAAK,OAAOpB,GAAEvG,OAAO,eAAeuG,EAAEoD,KAAK,SAAS,cAAc,IAAIhK,EAAEw8L,UAAUl1L,UAAUC,SAAS,WAAW,GAAIhK,KAAK,KAAI,GAAIqJ,KAAK3K,MAAKmiB,QAAQ7gB,EAAEqK,KAAK3L,KAAKmiB,QAAQxX,GAAGsC,GAAI,OAAO3L,GAAE4M,OAAOH,KAAK,OAAMhK,EAAEw8L,UAAUl1L,UAAUwtF,GAAG,SAASv3F,GAAG,IAAI,GAAIqJ,KAAK3K,MAAKmiB,QAAQniB,KAAKmiB,QAAQxX,GAAGkuF,GAAGv3F,EAAG,OAAOtB,OAAM+D,EAAEw8L,UAAUl1L,UAAUuB,MAAM,WAAW,GAAItL,GAAE,GAAIyC,GAAEw8L,SAAU,KAAI,GAAI51L,KAAK3K,MAAKmiB,QAAQ7gB,EAAE6gB,QAAQxX,GAAG3K,KAAKmiB,QAAQxX,EAAG,OAAOrJ,IAAGyC,EAAEw8L,UAAUl1L,UAAUo2L,UAAU,SAASngM,GAAG,GAAIqJ,KAAK,KAAI,GAAID,KAAKpJ,GAAE6gB,QAAQ,CAAC,GAAIhe,GAAEnE,KAAK8zM,QAAQxyM,EAAE6gB,QAAQzX,GAAI,IAAGvG,KAAI,EAAG,OAAM,CAAGA,MAAI,GAAIwG,EAAEgB,KAAKrK,EAAE6gB,QAAQzX,IAAI,IAAIC,EAAEvG,OAAO,MAAO,KAAK,IAAIvE,GAAE,GAAIkE,GAAEw8L,SAAU,KAAI71L,IAAK1K,MAAKmiB,QAAQtiB,EAAEsiB,QAAQzX,GAAG1K,KAAKmiB,QAAQzX,EAAG,MAAMA,EAAEC,EAAE7F,SAAQjF,EAAE0I,IAAImC,EAAG,OAAO7K,IAAGkE,EAAEw8L,UAAUl1L,UAAU44L,KAAK,SAAS3iM,GAAG,GAAIqJ,IAAG6oM,IAAI,MAAO,OAAO9oM,GAAEsD,IAAIhO,KAAKmiB,QAAQ,SAAS7gB,GAAG,GAAIyC,GAAEzC,EAAEywI,EAAGhuI,KAAK4G,KAAI5G,EAAE4G,EAAE5G,GAAI,IAAI2G,GAAEpJ,EAAE6W,GAAa+iB,UAAT55B,EAAEyyM,OAAmBrpM,EAAEpJ,EAAEyyM,KAAKzoM,UAAS,GAAK,IAAInH,GAAE,MAAO,OAAOA,GAAE,IAAI7C,EAAEs4B,IAAI9xB,MAAM,IAAI/D,EAAE,KAAY,WAAP2G,EAAE8R,GAAc,IAAI9R,EAAE,IAAIA,KAAKqD,KAAK,SAAShK,EAAEw8L,UAAUl1L,UAAUyoM,QAAQ,SAASxyM,GAAG,GAAIqJ,GAAErJ,EAAEs4B,IAAItuB,WAAWvH,EAAEzC,EAAE6W,IAAI7M,UAA6D,QAAlDvH,EAAEyc,MAAM,yBAAyBzc,EAAEqC,WAAWrC,IAAWzC,EAAEywI,IAAI,IAAI,IAAI,MAAyB72G,UAAtBl7B,KAAKmiB,QAAQxX,EAAE,KAAwB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,IAAI7M,YAAYvH,GAAK,KAAiCm3B,SAAzBl7B,KAAKmiB,QAAQxX,EAAE,KAAK5G,OAAiDm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,OAAoCm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,OAAqCm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,MAAqCm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,KAAoB,KAAI,KAAK,OAAM,CAAG,KAAI,KAAK,MAAyBm3B,UAAtBl7B,KAAKmiB,QAAQxX,EAAE,KAAwB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,GAAK,KAAiCm3B,SAAzBl7B,KAAKmiB,QAAQxX,EAAE,KAAK5G,GAAsB,KAA8Bm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,EAAS,KAA8Bm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,EAAS,KAA+Bm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,EAAS,OAA+Bm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,IAAS,IAAc,KAAI,IAAI,MAAG4G,GAAE,KAAM3K,MAAKmiB,UAAeniB,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,IAAK,OAA8Bm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,OAAqCm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,KAAKpU,KAAoCm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,EAAS,OAA+Bm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,IAAS,MAAc,KAAI,KAAK,MAAyBm3B,UAAtBl7B,KAAKmiB,QAAQxX,EAAE,OAAwB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,IAAIpU,IAAK,OAA8Bm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,OAAqCm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,KAAoCm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,EAAS,OAA+Bm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,KAAKpU,IAAS,MAAc,KAAI,IAAI,MAAyBm3B,UAAtBl7B,KAAKmiB,QAAQxX,EAAE,OAAwB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,IAAK,OAA8Bm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,OAAqCm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,KAAKpU,KAAoCm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,EAAS,OAA+Bm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,IAAS,MAAc,KAAI,KAAK,MAAyBm3B,UAAtBl7B,KAAKmiB,QAAQxX,EAAE,OAAwB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,IAAIpU,IAAK,OAA8Bm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,OAAqCm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAIpU,KAAoCm3B,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB3K,KAAKmiB,QAAQxX,EAAE,KAAKwN,KAAKpU,EAAS,OAA+Bm3B,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB3K,KAAKmiB,QAAQxX,EAAE,MAAMwN,KAAKpU,IAAS,SAAgBA,EAAEw8L,UAAUl1L,UAAU2oM,SAAS,SAAS1yM,GAAG,GAAIqJ,GAAErJ,EAAEs4B,IAAItuB,WAAWvH,EAAEzC,EAAE6W,IAAI7M;AAAW,MAAO0D,OAAM5I,WAAWrC,MAAMA,EAAEqC,WAAWrC,KAAW,MAAPzC,EAAEywI,IAAgC72G,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB5G,GAAG/D,KAAKmiB,QAAQxX,EAAE,KAAKwN,IAAI7M,YAAmB,OAAPhK,EAAEywI,IAAiC72G,SAAtBl7B,KAAKmiB,QAAQxX,EAAE,MAAkB5G,GAAG/D,KAAKmiB,QAAQxX,EAAE,KAAKwN,IAAI7M,YAAmB,MAAPhK,EAAEywI,IAAiC72G,SAAvBl7B,KAAKmiB,QAAQxX,EAAE,OAAmB5G,GAAG/D,KAAKmiB,QAAQxX,EAAE,MAAMwN,IAAI7M,aAAWhK,EAAEgK,WAAW,aAAatL,KAAKsL,WAAW,+BAAkCvH,EAAEw8L,UAAUl1L,UAAU9C,IAAI,SAASjH,EAAEqJ,GAAG,GAAmD3G,GAA/CD,EAAEzC,EAAEs4B,IAAItuB,WAAanH,EAAE7C,EAAEywI,GAAGlyI,EAAEG,KAAKg0M,SAAS1yM,EAAK,IAAGzB,EAAE,MAAOA,EAAE,IAAO,MAAJsE,EAAQ,CAAC,IAAI,GAAIyG,KAAK5K,MAAKmiB,QAAQniB,KAAKmiB,QAAQvX,GAAGgvB,KAAK71B,SAAU/D,MAAKmiB,QAAQvX,EAAG5K,MAAKmiB,QAAQpe,EAAE,KAAKzC,MAAO,IAAO,OAAJ6C,EAASnE,KAAKmiB,QAAQpe,EAAE,KAAKzC,EAAE6W,KAAK7W,MAAO,IAAO,OAAJ6C,EAASnE,KAAKmiB,QAAQpe,EAAE,KAAKzC,EAAE6W,KAAK7W,MAAO,IAAO,MAAJ6C,EAAQ,CAAC,IAAI,GAAI3D,KAAKR,MAAKmiB,QAAQniB,KAAKmiB,QAAQ3hB,GAAGo5B,KAAK71B,GAAG/D,KAAKmiB,QAAQ3hB,GAAG2X,KAAK7W,EAAE6W,WAAYnY,MAAKmiB,QAAQ3hB,EAAGR,MAAKmiB,QAAQpe,EAAE,KAAKzC,MAAO,IAAO,OAAJ6C,EAAS,CAAC,IAAI,GAAIxD,KAAKX,MAAKmiB,QAAQne,GAAGhE,KAAKmiB,QAAQxhB,GAAGwX,IAAI7M,WAAWtL,KAAKmiB,QAAQxhB,GAAGi5B,KAAK71B,GAAGC,EAAE1C,EAAE6W,WAAYnY,MAAKmiB,QAAQxhB,EAAgCu6B,UAA7Bl7B,KAAKmiB,QAAQpe,EAAE,KAAKzC,EAAE6W,YAAyBnY,MAAKmiB,QAAQpe,EAAE,KAAKzC,EAAE6W,KAAK7W,EAAEywI,GAAG,IAAI/xI,KAAKmiB,QAAQpe,EAAE,KAAKzC,GAAGtB,KAAKmiB,QAAQpe,EAAE,MAAMzC,MAAO,IAAO,MAAJ6C,EAAQ,CAAC,IAAI,GAAIN,KAAK7D,MAAKmiB,QAAQne,GAAGhE,KAAKmiB,QAAQte,GAAGsU,IAAI7M,WAAWtL,KAAKmiB,QAAQte,GAAG+1B,KAAK71B,GAAGC,GAAG1C,EAAE6W,WAAYnY,MAAKmiB,QAAQte,EAAG7D,MAAKmiB,QAAQpe,EAAE,KAAKzC,MAAO,IAAO,OAAJ6C,EAAS,CAAC,IAAI,GAAIjD,KAAKlB,MAAKmiB,QAAQne,GAAGhE,KAAKmiB,QAAQjhB,GAAGiX,IAAI7M,WAAWtL,KAAKmiB,QAAQjhB,GAAG04B,KAAK71B,GAAGC,EAAE1C,EAAE6W,WAAYnY,MAAKmiB,QAAQjhB,EAAgCg6B,UAA7Bl7B,KAAKmiB,QAAQpe,EAAE,KAAKzC,EAAE6W,YAAyBnY,MAAKmiB,QAAQpe,EAAE,KAAKzC,EAAE6W,KAAK7W,EAAEywI,GAAG,IAAI/xI,KAAKmiB,QAAQpe,EAAE,KAAKzC,GAAGtB,KAAKmiB,QAAQpe,EAAE,MAAMzC,MAAM0H,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaijM,UAAU,EAAE3qD,WAAWnsH,SAAY+4K,IAAI,SAAS3yM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE4yM,YAAY,SAASvpM,EAAE5G,GAAG,GAAI2G,GAAE3G,EAAEgK,KAAK,GAAI,IAAGpD,EAAEwpM,UAAUxpM,EAAEwpM,SAASzpM,GAAG,MAAOC,GAAEwpM,SAASzpM,EAAG,IAAIvG,GAAE,GAAI7C,GAAE8yM,QAAQzpM,EAAE5G,EAAG,OAAO4G,GAAEu3L,QAAQv2L,KAAKxH,GAAGwG,EAAEwpM,WAAWxpM,EAAEwpM,aAAaxpM,EAAEwpM,SAASzpM,GAAGvG,EAAEA,GAAG7C,EAAE8yM,QAAQ,SAASzpM,EAAE5G,GAAG/D,KAAKq0M,MAAMtwM,EAAE/D,KAAK8W,KAAK,WAAWnM,EAAEu3L,QAAQ99L,QAAQ9C,EAAE8yM,QAAQ/oM,UAAUy2L,MAAM,SAASxgM,GAAG,MAAM,kBAAkBtB,KAAK8W,KAAK,OAAO9W,KAAKq0M,MAAMrmM,IAAI,SAAS1M,GAAG,MAAM,sBAAsBA,EAAE,QAAQyM,KAAK,MAAM,iBAAkBzM,EAAE,cAAc0wM,UAAU,IAAIsC,IAAI,SAAShzM,EAAEqJ,EAAE5G,GAAG,GAAI2G,GAAEpJ,EAAE,UAAWoJ,GAAE81L,YAAY,SAASl/L,EAAEqJ,EAAE5G,GAAoB,GAAjB4G,EAAEyK,SAASzK,EAAE,IAAOA,EAAED,EAAE81L,YAAYvwL,KAAKtF,GAAG,EAAE,MAAM4pE,QAAQ,0CAA0C7pE,EAAE81L,YAAYvwL,IAAI,cAAcuU,MAAMzgB,EAAG,IAAO,MAAJzC,EAAQ,MAAMizE,QAAQ,gDAAgD/vD,MAAMzgB,EAAG,OAAO4G,IAAGD,EAAE81L,YAAYvwL,IAAI,GAAGvF,EAAE81L,YAAYC,KAAK,IAAIuR,UAAU,IAAIuC,IAAI,SAASjzM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE05L,YAAY,SAASrwL,EAAE5G,GAAG/D,KAAKkJ,OAAOyB,EAAE3K,KAAKo8B,KAAKr4B,GAAG,MAAMzC,EAAE05L,YAAY3vL,WAAWmR,GAAG,cAAcq8E,GAAG,WAAW,MAAO74F,OAAMsL,SAAS,WAAW,MAAOtL,MAAKo8B,KAAKp8B,KAAKkJ,OAAO,IAAIlJ,KAAKo8B,KAAKruB,KAAK,KAAK,IAAI/N,KAAKkJ,UAAW5H,EAAE,cAAc0wM,UAAU,IAAIwC,IAAI,SAASlzM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE69L,QAAQ,SAASx0L,EAAE5G,EAAE2G,GAAG1K,KAAKy0M,MAAM9pM,EAAE3K,KAAKwkB,MAAMzgB,EAAE/D,KAAKsF,KAAK,SAAStF,KAAKu0E,QAAQ7pE,GAAG,iBAAiB1K,KAAKy0M,OAAOnzM,EAAE69L,QAAQ9zL,UAAUmR,GAAG,UAAUlb,EAAE69L,QAAQ9zL,UAAUwtF,GAAG,SAASv3F,GAAG,MAAOA,GAAEmD,OAAOgwM,MAAMz0M,KAAKy0M,MAAMjwL,MAAMxkB,KAAKwkB,MAAMlf,KAAK,SAASivE,QAAQv0E,KAAKu0E,SAAS,iBAAiBv0E,KAAKy0M,SAASj4L,GAAG,eAAgBlb,EAAE,cAAc0wM,UAAU,IAAI0C,IAAI,SAASpzM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEo+L,QAAQ,SAAS/0L,GAAG3K,KAAK8H,MAAM6C,CAAE,IAAI5G,IAAGylD,YAAY,QAAQmrJ,KAAO,UAAUC,MAAQ,UAAW50M,MAAKwc,GAAGzY,EAAE4G,GAAG5G,EAAE4G,GAAG,WAAWrJ,EAAEo+L,QAAQr0L,WAAWwtF,GAAG,WAAW,MAAO74F,OAAMsL,SAAS,WAAW,MAAOtL,MAAK8H,SAAUxG,EAAE,cAAc0wM,UAAU,IAAI6C,IAAI,SAASvzM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEohM,SAAS,SAAS/3L,EAAE5G,GAAG,GAAI2G,KAAK,KAAI,GAAIvG,KAAKwG,GAAEmqM,WAAWpqM,EAAEiB,KAAK,oBAAoBxH,EAAE,cAAcwG,EAAEmqM,WAAW3wM,GAAG,kBAAmB,IAAItE,GAAE,EAAG,KAAI,GAAImE,KAAK2G,GAAE00D,WAAyBx/D,GAAV,YAAJmE,EAAiB,cAAc1C,EAAEwrE,KAAKioI,OAAOpqM,EAAE00D,WAAWr7D,IAAI,MAAU,YAAJA,EAAiB,cAAc1C,EAAEwrE,KAAKioI,OAAOpqM,EAAE00D,WAAWr7D,GAAG,GAAG,MAAS,KAAKA,EAAE,KAAK2G,EAAE00D,WAAWr7D,GAAG,KAAM,OAAM,gBAAgB2G,EAAEmM,KAAK,MAAMjX,GAAoB,mBAAV8K,GAAEoiB,OAAoB,GAAG,aAAapiB,EAAEoiB,OAAO,QAAsB,mBAAPpiB,GAAEg6L,IAAiB,GAAG,UAAUh6L,EAAEg6L,IAAI,KAAK,UAAU5gM,EAAEshB,UAAUrX,IAAI,SAAS1M,GAAG,MAAM,cAAcA,EAAE,iBAAiByM,KAAK,WAAWrD,EAAEtG,OAAO,8BAA8BsG,EAAEqD,KAAK,aAAa,wBAAwB,IAAI,iBAAkBzM,EAAE,cAAc0wM,UAAU,IAAIgD,IAAI,SAAS1zM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE2zM,QAAQ,SAAStqM,GAAG3K,KAAK8H,MAAM6C,GAAG,GAAG3K,KAAKwc,GAAG,SAASlb,EAAE2zM,QAAQ5pM,WAAWC,SAAS,WAAW,MAAOtL,MAAK8H,OAAO+wF,GAAG,WAAW,MAAO74F,SAASsB,EAAE,cAAc0wM,UAAU,IAAIkD,IAAI,SAAS5zM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEggM,UAAU,SAAS32L,EAAE5G,EAAE2G,GAAG1K,KAAK+xI,GAAGpnI,EAAEoB,OAAO/L,KAAKm1M,SAASpxM,EAAE/D,KAAKwkB,MAAM9Z,GAAGpJ,EAAEggM,UAAUj2L,UAAUmR,GAAG,YAAYlb,EAAEggM,UAAUj2L,UAAUwtF,GAAG,SAASluF,GAAG,GAAsDxG,GAAlDJ,EAAE/D,KAAKm1M,SAAS,GAAGt8G,GAAGluF,GAAGD,EAAE1K,KAAKm1M,SAAS,GAAGt8G,GAAGluF,EAAK,OAAc,cAAP5G,EAAEyY,IAAyB,cAAP9R,EAAE8R,IAAkBA,GAAG,YAAY1U,MAAM,cAAc/D,YAAazC,GAAEw4L,WAAWpvL,YAAapJ,GAAEs5J,QAAkB,MAAV56J,KAAK+xI,IAAoB,MAAV/xI,KAAK+xI,IAAU5tI,EAAEuG,EAAEA,EAAE3G,EAAEA,EAAEI,GAAGwG,EAAElG,OAAOqS,KAAK,iBAAiBy9D,QAAQ,kDAAkD/vD,MAAMxkB,KAAKwkB,SAASzgB,YAAazC,GAAEy5L,QAAQrwL,YAAapJ,GAAEy5L,QAAkB,MAAV/6L,KAAK+xI,IAAUpnI,EAAElG,OAAO8vE,QAAQ,+CAA+C/vD,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,cAAc/D,YAAazC,GAAEi+L,OAAO70L,YAAapJ,GAAEi+L,OAAOx7L,YAAazC,GAAE2zM,SAASvqM,YAAapJ,GAAE2zM,QAAe,UAAPlxM,EAAEyY,IAAqB,UAAP9R,EAAE8R,IAAc7R,EAAElG,OAAO8vE,QAAQ,6DAA6D/vD,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,cAAc,GAAIxG,GAAE2zM,QAAQlxM,EAAE80F,GAAGluF,GAAGW,UAAS,GAAItL,KAAK+xI,GAAGrnI,EAAEmuF,GAAGluF,GAAGW,UAAS,IAAiB4vB,SAAZn3B,EAAEkuM,SAAqBtnM,EAAElG,OAAO8vE,QAAQ,4BAA4BxwE,EAAEyY,GAAG,IAAIgI,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,cAAc/D,EAAEkuM,QAAQtnM,EAAE3K,KAAK+xI,GAAGrnI,KAAKpJ,EAAE2wM,QAAQ,SAAS3wM,EAAEqJ,EAAE5G,GAAG,OAAOzC,GAAG,IAAI,IAAI,MAAOqJ,GAAE5G,CAAE,KAAI,IAAI,MAAO4G,GAAE5G,CAAE,KAAI,IAAI,MAAO4G,GAAE5G,CAAE,KAAI,IAAI,MAAO4G,GAAE5G,CAAE,KAAI,IAAI,MAAO4G,GAAE5G,KAAMzC,EAAE,cAAc0wM,UAAU,IAAIoD,IAAI,SAAS9zM,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEy5L,OAAO,SAASpwL,GAAG3K,KAAK8H,MAAM6C,GAAG,IAAIrJ,EAAEy5L,OAAO1vL,WAAWmR,GAAG,SAASlR,SAAS,SAAShK,GAAG,GAAIqJ,GAAE3K,KAAK8H,MAAMpD,QAAQ,KAAK,SAASX,EAAE4G,EAAEjG,QAAQ,MAAM,OAAOA,QAAQ,MAAM,UAAUA,QAAQ,KAAK,QAAQA,QAAQ,MAAM,OAAQ,OAAOpD,MAAI,EAAG,IAAIyC,EAAE,IAAI4G,GAAGkuF,GAAG,WAAW,MAAO74F,OAAMiyM,QAAQ,SAAStnM,EAAE5G,EAAE2G,GAAG,MAAO,IAAIpJ,GAAEy5L,OAAOz5L,EAAE2wM,QAAQluM,EAAE/D,KAAKsL,WAAWZ,EAAEY,SAAStL,KAAKq1M,qBAAsB/zM,EAAE,cAAc0wM,UAAU,IAAIsD,IAAI,SAASh0M,EAAEqJ,EAAE5G,IAAG,SAAU4G,IAAG,SAAU5G,GAAG,QAASlE,GAAEyB,GAAG,GAAIqJ,KAAK,KAAI,GAAI5G,KAAKzC,GAAEugM,YAAY,IAAI,GAAIn3L,KAAKpJ,GAAEugM,YAAY99L,GAAGzC,EAAEugM,YAAY99L,GAAG2G,GAAGc,eAAe,SAASb,EAAErJ,EAAEugM,YAAY99L,GAAG2G,GAAGnJ,MAAMD,EAAEugM,YAAY99L,GAAG2G,GAAG3G,EAAE2G,GAAI,OAAOC,GAAE,QAAS3G,GAAE1C,GAAG,GAAIqJ,KAAK,KAAI,GAAI5G,KAAKzC,GAAEugM,YAAY,IAAI,GAAIn3L,KAAKpJ,GAAEugM,YAAY99L,GAAG,GAA8B,cAA3BzC,EAAEugM,YAAY99L,GAAG2G,GAAGpF,KAAmB,IAAI,GAAInB,GAAE,EAAEA,EAAE7C,EAAEugM,YAAY99L,GAAG2G,GAAG2rB,UAAUjyB,OAAOD,IAAI,CAAC,GAAItE,GAAEyB,EAAEugM,YAAY99L,GAAG2G,GAAG2rB,UAAUlyB,EAAGwG,GAAE9K,EAAE,IAAIA,EAAE,GAAG,MAAO8K,GAAE,QAASC,GAAEtJ,GAAG,GAAIqJ,KAAK,KAAI,GAAI5G,KAAKzC,GAAEugM,YAAY,CAACl3L,EAAE5G,KAAM,KAAI,GAAI2G,KAAKpJ,GAAEugM,YAAY99L,GAAGzC,EAAEugM,YAAY99L,GAAG2G,GAAGg6L,UAAU/5L,EAAE5G,GAAG4H,KAAKrK,EAAEugM,YAAY99L,GAAG2G,GAAGnJ,KAAK,MAAOoJ,GAAE,QAASnK,GAAEc,EAAEqJ,GAAG,GAAmB,WAAhBrJ,EAAEwG,MAAM,GAAG0U,GAAc,OAAM,CAAG,KAAI,GAAIzY,KAAKzC,GAAEwG,MAAM,IAAI,GAAIjI,KAAKyB,GAAEwG,MAAM/D,GAAG+D,MAAM,CAAC,GAA4B,SAAzBxG,EAAEwG,MAAM/D,GAAG+D,MAAMjI,GAAG2c,GAAY,OAAM,CAAG,IAAIxY,GAAE0G,EAAEwC,KAAK/I,EAAEkI,SAAS1B,GAAG0rB,UAAU,SAAS1rB,GAAG,MAAOA,GAAE,IAAIrJ,EAAEwG,MAAM/D,GAAG+D,MAAMjI,GAAGiX,MAAO,MAAI9S,GAAGA,EAAE,KAAI,GAAOA,GAAGA,EAAE,KAAK1C,EAAEwG,MAAM/D,GAAG+D,MAAMjI,GAAGu8B,KAAKh4B,QAAO,OAAM,EAAG,OAAM,EAAG,QAASzD,GAAEW,EAAEqJ,GAAG,MAAkC,gBAApBxG,GAAEkI,SAAS1B,GAAGrF,KAAenB,EAAEkI,SAAS1B,GAAGrF,KAAK2G,QAAQ3K,EAAEwG,MAAM,GAAGA,UAAS,EAAwB,WAArB3D,EAAEkI,SAAS1B,GAAGrF,KAAgB,GAAIoF,GAAEC,EAAEpK,GAAGe,EAAE,cAAc6C,IAAKA,GAAEqX,QAAQ,SAASla,GAAG6C,EAAEqE,KAAKlH,EAAE6C,EAAEoxM,eAAe11M,EAAEyB,GAAG6C,EAAE2tM,gBAAgB9tM,EAAE1C,GAAG6C,EAAE2tM,gBAAgB0D,QAAQ,GAAGrxM,EAAE2tM,gBAAgB55I,WAAW,EAAE,GAAG/zD,EAAE2tM,gBAAgBzgK,OAAO,EAAE,GAAGltC,EAAE2tM,gBAAgBznG,QAAQ,EAAE,GAAGlmG,EAAE2tM,gBAAgB2D,OAAO,GAAGtxM,EAAE2tM,gBAAgB4D,OAAO,GAAGvxM,EAAEwxM,eAAe/qM,EAAEtJ,IAAI6C,EAAEg+L,WAAW,SAASx3L,GAAG,GAAI5G,GAAEzC,EAAE,mBAAoB,SAAOyC,EAAE0M,QAAQjF,eAAeb,KAAIxG,EAAEqX,QAAQzX,EAAE0M,QAAQ9F,KAAI,IAAQxG,EAAEyxM,aAAa,SAASt0M,EAAEqJ,GAAG,GAAGxG,EAAEoxM,eAAej0M,GAAG,MAAO6C,GAAEoxM,eAAej0M,GAAGqJ,IAAIxG,EAAE0xM,cAAc,SAASv0M,GAAG,QAAQ6C,EAAEoxM,eAAej0M,IAAI6C,EAAE2xM,aAAa,SAASx0M,GAAG,MAAO6C,GAAEyxM,aAAat0M,EAAE,IAAI6C,EAAEkI,SAAS,SAAS/K,GAAG,MAAO6C,GAAEyxM,aAAat0M,EAAE,IAAI6C,EAAE+/L,WAAW,SAAS5iM,GAAG,MAAO6C,GAAEyxM,aAAat0M,EAAE,IAAI6C,EAAEquM,mBAAmB,SAASlxM,EAAEqJ,GAAG,GAAI5G,GAAEI,EAAEwxM,eAAer0M,EAAG,KAAI,GAAIoJ,KAAK3G,GAAE,KAAKA,EAAE2G,IAAKC,IAAG,MAAM,YAAY5G,EAAE2G,GAAG,0BAA0BpJ,EAAE,YAAY6C,EAAE4xM,gBAAgB7rH,KAAK,SAAS5oF,EAAEqJ,GAAG,OAAOrJ,EAAE2gM,kBAAiB3gM,EAAE2gM,gBAAgBoS,OAAM/yM,EAAE2gM,gBAAgBoS,MAAMpoM,QAAQtB,KAAI,IAAQxG,EAAE6xM,OAAO,SAAS10M,GAAG,MAA+B,QAAxB6C,EAAEkI,SAAS/K,GAAGy9B,UAAkB56B,EAAE4tM,aAAa,SAASzwM,EAAEqJ,GAAG,GAAc,IAAXrJ,EAAE8C,OAAW,MAAOuG,GAAEvG,MAAO,IAAc,IAAXuG,EAAEvG,OAAW,MAAO9C,GAAE8C,MAAgB,KAAI,GAATL,MAAa2G,EAAE,EAAEA,GAAGC,EAAEvG,OAAOsG,IAAI3G,EAAE2G,IAAIA,EAAG,KAAI,GAAIvG,GAAE,EAAEA,GAAG7C,EAAE8C,OAAOD,IAAIJ,EAAE,GAAGI,GAAGA,CAAE,KAAIuG,EAAE,EAAEA,GAAGC,EAAEvG,OAAOsG,IAAI,IAAIvG,EAAE,EAAEA,GAAG7C,EAAE8C,OAAOD,IAAIwG,EAAE2B,OAAO5B,EAAE,IAAIpJ,EAAEgL,OAAOnI,EAAE,GAAGJ,EAAE2G,GAAGvG,GAAGJ,EAAE2G,EAAE,GAAGvG,EAAE,GAAGJ,EAAE2G,GAAGvG,GAAG6L,KAAK4kB,IAAI7wB,EAAE2G,EAAE,GAAGvG,EAAE,GAAG,EAAE6L,KAAK4kB,IAAI7wB,EAAE2G,GAAGvG,EAAE,GAAG,EAAEJ,EAAE2G,EAAE,GAAGvG,GAAG,GAAI,OAAOJ,GAAE4G,EAAEvG,QAAQ9C,EAAE8C,SAASD,EAAE8xM,WAAW,SAAS30M,EAAEqJ,EAAE5G,GAAG,GAAI2G,EAAI,KAAIvG,EAAEkI,SAAS1B,GAAG,OAAM,CAAG,IAAkB,WAAf5G,EAAE+D,MAAM,GAAG0U,GAAc,MAAO7b,GAAEoD,EAAE4G,EAAG,IAAkB,aAAf5G,EAAE+D,MAAM,GAAG0U,GAAgB,OAAM,CAAG,IAAuB,WAApBrY,EAAEkI,SAAS1B,GAAGrF,KAAgB,CAAC,IAAIoF,IAAK3G,GAAE+D,MAAM,GAAmB,UAAhB/D,EAAE+D,MAAM4C,GAAG8R,GAAa,OAAM,CAAG,QAAM,EAAG,GAAuB,QAApBrY,EAAEkI,SAAS1B,GAAGrF,KAAa,CAAC,IAAIvB,EAAE+D,MAAM,OAAM,CAAG,KAAI/D,EAAE+D,MAAM,GAAGA,MAAM,MAAuB,QAAhB/D,EAAE+D,MAAM,GAAG0U,EAAW,KAAI9R,EAAE,EAAEA,EAAE3G,EAAE+D,MAAM,GAAGA,MAAM1D,OAAOsG,IAAI,GAA4B,QAAzB3G,EAAE+D,MAAM,GAAGA,MAAM4C,GAAG8R,GAAW,OAAM,CAAG,QAAM,EAAG,GAAuB,aAApBrY,EAAEkI,SAAS1B,GAAGrF,KAAkB,MAAO9E,GAAEuD,EAAE4G,EAAG,IAAwB,aAArBxG,EAAEkI,SAAS1B,GAAGrF,KAAkB,MAAuB,UAAhBvB,EAAE+D,MAAM,GAAG0U,KAAczY,EAAE+D,MAAM,GAAGsiC,SAAQ,EAAO,IAAGjmC,EAAEkI,SAAS1B,GAAGi1L,WAAW,OAAM,CAAG,IAAGz7L,EAAEkI,SAAS1B,GAAGo0B,SAAS,CAAC,GAAI/6B,IAAE,CAAG,KAAI0G,EAAE,EAAEA,EAAE3G,EAAE+D,MAAM1D,OAAOsG,IAAI,GAAGvG,EAAEkI,SAAS1B,GAAGrF,MAAMvB,EAAE+D,MAAM4C,GAAG8R,IAAIrY,EAAE4xM,eAAe5xM,EAAEkI,SAAS1B,GAAGo0B,UAAUz9B,EAAEyC,EAAE+D,MAAM4C,GAAG5C,OAAO,OAAM,CAAG,OAAO9D,GAAE,MAAOG,GAAEkI,SAAS1B,GAAGrF,MAAMvB,EAAE+D,MAAM,GAAG0U,IAAIzY,EAAEo8L,UAAUh8L,GAAI7C,EAAE,cAAc0H,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaijM,UAAU,EAAEkE,mBAAmB,GAAG7uD,WAAWnsH,SAAYi7K,IAAI,SAAS70M,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAG,QAASqJ,GAAEA,GAAG,MAAOS,QAAOmoB,KAAKjyB,EAAE6+L,UAAUoV,gBAAgBvnM,IAAI,SAASjK,GAAG,OAAOA,EAAEzC,EAAE6+L,UAAU4R,aAAapnM,EAAE5G,MAAMmK,KAAK,SAAS5M,EAAEqJ,GAAG,MAAOrJ,GAAE,GAAGqJ,EAAE,KAAKrJ,EAAE2/L,KAAK,SAASl9L,EAAE2G,EAAEvG,EAAEtE,GAAG,GAAImE,GAAED,EAAES,MAAM,IAAKxE,MAAK8W,KAAK9S,EAAE8E,MAAM9I,KAAK80F,SAAS9wF,EAAEI,OAAOJ,EAAE,GAAG,cAAchE,KAAK8H,MAAM4C,YAAapJ,GAAE6/L,MAAMz2L,EAAE,GAAIpJ,GAAE6/L,OAAOz2L,IAAI1K,KAAKwkB,MAAMrgB,EAAEnE,KAAKkkM,WAAW5iM,EAAE6+L,UAAU+D,WAAWlkM,KAAK8W,MAAM9W,KAAKi8L,SAASp8L,EAAEG,KAAKk5B,SAAuB,MAAdn1B,EAAEuI,OAAO,IAAUhL,EAAE2/L,KAAK51L,UAAUmR,GAAG,OAAOlb,EAAE2/L,KAAK51L,UAAUuB,MAAM,WAAW,GAAIjC,GAAES,OAAO20B,OAAOz+B,EAAE2/L,KAAK51L,UAAW,OAAOV,GAAEmM,KAAK9W,KAAK8W,KAAKnM,EAAE7C,MAAM9H,KAAK8H,MAAM6C,EAAE6Z,MAAMxkB,KAAKwkB,MAAM7Z,EAAEmqF,SAAS90F,KAAK80F,SAASnqF,EAAEu5L,WAAWlkM,KAAKkkM,WAAWv5L,EAAEsxL,SAASj8L,KAAKi8L,SAAStxL,EAAEuuB,SAASl5B,KAAKk5B,SAASvuB,GAAGrJ,EAAE2/L,KAAK51L,UAAUgnM,SAAS,WAAW,MAAOryM,MAAKiN,GAAGjN,KAAKqV,KAAK,IAAIrV,KAAK80F,SAAS,IAAI90F,KAAK8W,MAAMxV,EAAE2/L,KAAK51L,UAAUC,SAAS,WAAW,MAAM,IAAIhK,EAAEwrE,KAAKxhE,SAAStL,KAAKqV,MAAM,KAAKrV,KAAK8W,KAAK,KAAK9W,KAAK8H,OAAOxG,EAAE2/L,KAAK51L,UAC///By2L,MAAM,SAAS/9L,EAAE2G,EAAEvG,EAAEtE,GAAG,IAAIyB,EAAE6+L,UAAU0V,cAAc71M,KAAK8W,MAAM,CAAC,GAAI9S,GAAE2G,EAAE3K,KAAK8W,MAAMlM,EAAE,EAAG,OAAO5G,GAAE,GAAG,GAAG,IAAI4G,EAAE,kBAAkB5G,EAAE,GAAG,GAAG,KAAKD,EAAEU,OAAO8vE,QAAQ,sBAAsBv0E,KAAK8W,KAAKlM,EAAE4Z,MAAMxkB,KAAKwkB,MAAMlf,KAAK,SAAS22L,SAASj8L,KAAKi8L,WAAW,GAAGj8L,KAAK8H,gBAAiBxG,GAAE6/L,QAAQ7/L,EAAE6+L,UAAU8V,WAAWlyM,EAAE/D,KAAK8W,KAAK9W,KAAK8H,OAAO,CAAC,IAAIxG,EAAE6+L,UAAU9zL,SAASrM,KAAK8W,MAAM,MAAO/S,GAAEU,OAAO8vE,QAAQ,0BAA0Bv0E,KAAK8W,KAAK0N,MAAMxkB,KAAKwkB,MAAMlf,KAAK,SAAS22L,SAASj8L,KAAKi8L,UAAW,IAAIz7L,EAAE,OAAgDA,GAAzCc,EAAE6+L,UAAU9zL,SAASrM,KAAK8W,MAAMioB,SAAWz9B,EAAE6+L,UAAU9zL,SAASrM,KAAK8W,MAAMioB,SAAsD,gBAAtCz9B,GAAE6+L,UAAU9zL,SAASrM,KAAK8W,MAAMxR,KAAiB,qBAAqBhE,EAAE6+L,UAAU9zL,SAASrM,KAAK8W,MAAMxR,KAAKyI,KAAK,MAAM,IAAMzM,EAAE6+L,UAAU9zL,SAASrM,KAAK8W,MAAMxR,KAAKvB,EAAEU,OAAO8vE,QAAQ,qBAAqBv0E,KAAK8W,KAAK,cAActW,EAAE,iBAAiBR,KAAK8H,MAAM,aAAa9H,KAAK8H,MAAMA,MAAM,GAAG0U,GAAG,gBAAmBgI,MAAMxkB,KAAKwkB,MAAMlf,KAAK,SAAS22L,SAASj8L,KAAKi8L,WAAW,GAAGj8L,KAAKk5B,SAAS,MAAM,EAAG,IAAG53B,EAAE6+L,UAAU6V,OAAOh2M,KAAK8W,OAAO9W,KAAK8H,MAAMA,MAAM1D,OAAO,EAAE,CAAC,GAAIzD,GAAEW,EAAE4yM,YAAYnwM,EAAE/D,KAAK8H,MAAMA,MAAO,OAAM,iBAAiBnH,EAAEmW,KAAK,IAAI,MAAOpM,GAAE1K,KAAK8H,MAAMwD,SAASvH,EAAE/D,KAAK8W,KAAK3S,GAAG7C,EAAE6+L,UAAU2V,aAAa91M,KAAK8W,MAAM,KAAK9W,KAAK8H,MAAMwD,SAASvH,EAAE/D,KAAK8W,MAAM,KAAKxV,EAAE2/L,KAAK51L,UAAUwtF,GAAG,SAASluF,GAAG,MAAO,IAAIrJ,GAAE2/L,KAAKjhM,KAAK8W,KAAK9W,KAAK8H,MAAM+wF,GAAGluF,GAAG3K,KAAKwkB,MAAMxkB,KAAKi8L,YAAa36L,EAAE,cAAc0wM,UAAU,IAAIoE,IAAI,SAAS90M,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEs9L,QAAQ,SAASj0L,EAAE5G,GAAG/D,KAAKmhB,UAAUxW,EAAE3K,KAAKwhM,MAAMz9L,EAAE/D,KAAKq2M,aAAa/0M,EAAEs9L,QAAQvzL,WAAWmR,GAAG,UAAUq8E,GAAG,SAASluF,GAAG,GAAI5G,GAAE2G,EAAE,GAAIpJ,GAAEs9L,QAAQ5+L,KAAKmhB,UAAUnhB,KAAKwhM,MAAM3+L,MAAM,GAAyC,KAArC6H,EAAE3K,KAAKC,KAAKD,KAAK4K,EAAEo0L,OAAO75L,QAAQwF,GAAO3G,EAAE,EAAEk7L,KAAKl7L,EAAE2G,EAAE82L,MAAMp9L,OAAOL,IAAIk7L,KAAKv0L,EAAE82L,MAAMz9L,GAAG2G,EAAE82L,MAAMz9L,GAAGk7L,KAAKpmG,GAAGomG,KAAKpmG,GAAGluF,GAAGs0L,IAAK,OAAOt0L,GAAEo0L,OAAOj6L,QAAQ4F,GAAG8V,MAAM,SAASlf,GAAG,OAAOA,GAAc,IAAXA,EAAE8C,QAAYkyM,UAAU,WAAW,MAAOt2M,MAAKu2M,WAAWv2M,KAAKu2M,WAAWv2M,KAAKu2M,WAAWv2M,KAAKwhM,MAAMtuK,OAAO,SAASvoB,EAAE5G,GAAG,MAAOA,aAAazC,GAAE2/L,MAAMl9L,EAAEm1B,YAAW,IAAKvuB,EAAE5G,EAAE+S,MAAM/S,GAAG4G,QAAQuuB,SAAS,SAAS53B,GAAG,MAAOtB,MAAKs2M,YAAYh1M,IAAIk1M,SAAS,WAAW,MAAOx2M,MAAKy2M,UAAUz2M,KAAKy2M,UAAUz2M,KAAKy2M,UAAUz2M,KAAKwhM,MAAMt4L,OAAO,SAASyB,GAAG,MAAOA,aAAarJ,GAAEs9L,WAAW1xL,KAAK,SAASvC,EAAE5G,GAAGA,EAAEA,GAAG/D,IAAK,IAAWH,GAAP6K,KAAS1G,EAAE2G,EAAEW,UAAW,OAAOtH,KAAKhE,MAAKq2M,SAASr2M,KAAKq2M,SAASryM,IAAIhE,KAAKw2M,WAAWvjL,QAAQ,SAAS9uB,GAAG,GAAGA,IAAIJ,EAAE,IAAI,GAAIC,GAAE,EAAEA,EAAEG,EAAEgd,UAAU/c,OAAOJ,IAA+B,GAA1BnE,EAAE8K,EAAE6V,MAAMrc,EAAEgd,UAAUnd,IAAS,CAAC2G,EAAE+gB,SAAStnB,OAAO,EAAEsH,MAAML,UAAUM,KAAK/I,MAAM8H,EAAEvG,EAAE+I,KAAK,GAAI5L,GAAEw/L,SAAS,KAAK,KAAK,KAAKn2L,EAAE+gB,SAAS7oB,MAAM,IAAIkB,IAAI2G,EAAEiB,KAAKxH,EAAG,UAAUnE,KAAKq2M,SAASryM,GAAG0G,IAAIgsM,QAAQ,SAAS/rM,GAAG,IAAI,GAAI5G,GAAE,EAAEA,EAAE/D,KAAKmhB,UAAU/c,OAAOL,IAAI,CAAkB,IAAI,GAAjB2G,GAAEpJ,EAAEwrE,KAAK54C,IAAY/vB,EAAE,EAAEA,EAAEnE,KAAKmhB,UAAUpd,GAAGsR,KAAKjR,OAAOD,IAAIuG,GAAG1K,KAAKmhB,UAAUpd,GAAGsR,KAAKlR,GAAG00F,GAAGluF,GAAG0K,IAAKrV,MAAKmhB,UAAUpd,GAAGsR,KAAK3K,IAAIgrB,QAAQ,SAAS/qB,EAAE5G,EAAE2G,GAAG,GAAS7K,GAAEmE,EAAPG,IAA2F,KAA1D,IAAxBnE,KAAKmhB,UAAU/c,SAAasG,EAAEq0L,OAAOr0L,EAAEq0L,OAAOp8L,OAAO3C,KAAKwhM,QAAQxhM,KAAK02M,QAAQhsM,GAAO7K,EAAE,EAAEA,EAAEG,KAAKmhB,UAAU/c,OAAOvE,IAAI,CAAC,GAAI+K,GAAE5K,KAAKmhB,UAAUthB,EAAG,IAAI+K,EAAEuX,QAAiB,GAAGpe,EAAEK,OAAO,IAAIJ,EAAE,EAAEA,EAAED,EAAEK,OAAOJ,IAAI,CAAC,GAAIxD,GAAEuD,EAAEC,GAAGrD,EAAEH,EAAE2hB,QAAQs/K,UAAU72L,EAAEuX,QAAS,IAAO,OAAJxhB,EAAS,CAAC,GAAGH,EAAE6U,QAAQ7U,EAAE6U,KAAKzK,EAAEyK,OAAO7U,EAAEqgM,eAAej2L,EAAEi2L,cAAcrgM,EAAE8/L,aAAa11L,EAAE01L,YAAY9/L,EAAEkrB,SAAS3d,SAASnD,EAAE8gB,SAAS3d,OAAO,CAAC5J,EAAEwH,KAAKnL,EAAG,UAASG,EAAEH,EAAE2hB,YAAa,KAAIxhB,EAAE,QAAS,IAAIkD,GAAEuH,OAAO20B,OAAOz+B,EAAEw/L,SAASz1L,UAAWxH,GAAEse,QAAQxhB,EAAEkD,EAAEwR,KAAK7U,EAAE6U,KAAKzK,EAAEyK,KAAKxR,EAAEg9L,aAAaj2L,EAAEi2L,aAAah9L,EAAE6nB,SAASlrB,EAAEkrB,SAAS/oB,OAAOiI,EAAE8gB,UAAUlrB,EAAE8/L,YAAY11L,EAAE01L,WAAWz8L,EAAEy8L,WAAW9/L,EAAE8/L,WAAW,IAAI11L,EAAE01L,WAAWz8L,EAAEy8L,WAAW11L,EAAE01L,YAAY9/L,EAAE8/L,WAAWz8L,EAAE88L,WAAWngM,EAAEmgM,WAAW/1L,EAAE+1L,WAAW98L,EAAE2gB,MAAM5Z,EAAE4Z,MAAMrgB,EAAEwH,KAAK9H,OAAQM,GAAEwH,KAAKf,GAAG,GAAI1J,KAAK,KAAIrB,EAAE,EAAEA,EAAEG,KAAKwhM,MAAMp9L,OAAOvE,IAAI,CAAC,GAAI8D,GAAE3D,KAAKwhM,MAAM3hM,EAAG8D,aAAarC,GAAEs9L,QAAQj7L,EAAE+xB,QAAQ/qB,EAAExG,EAAEuG,GAAG/G,YAAarC,GAAE2/L,KAAK//L,EAAEyK,KAAKhI,GAAGA,YAAarC,GAAE69L,SAASz0L,EAAEjG,MAAMd,GAAG,GAAIM,KAAE/C,EAAEkD,QAAOlD,EAAE,GAAGsjB,KAAS,KAAI3kB,EAAE,EAAEA,EAAEsE,EAAEC,OAAOvE,IAAIoE,KAAI,IAAKE,EAAEtE,GAAG2kB,MAAMvgB,GAAG0G,EAAEgB,KAAK,GAAIrK,GAAE6wM,WAAWhuM,EAAEtE,GAAGqB,EAAE2B,SAAU,OAAO8H,MAAMrJ,EAAE,cAAc0wM,UAAU,IAAI2E,IAAI,SAASr1M,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAEw/L,SAAS,SAAS/8L,EAAE2G,EAAEvG,EAAEtE,EAAEmE,EAAE4G,EAAEpK,GAAGR,KAAK0rB,SAAS7rB,MAAMG,KAAKsgM,WAAWt8L,EAAEhE,KAAKmiB,QAAQpe,MAAM/D,KAAK6gM,aAAa18L,EAAEnE,KAAKqV,KAAe,mBAAH3K,GAAeA,EAAEpJ,EAAEwrE,KAAK54C,IAAIl0B,KAAK2gM,WAAW/1L,EAAE5K,KAAKwkB,MAAMhkB,GAAGc,EAAEw/L,SAASz1L,UAAU2zL,YAAY,WAAW,MAAOh/L,MAAK0rB,SAASwH,OAAO,SAAS5xB,EAAEqJ,GAAG,GAAI5G,GAAE4G,EAAEq0L,aAAc,OAAO19L,GAAE,IAAIyC,EAAE,GAAGzC,EAAE,IAAIyC,EAAE,GAAGzC,IAAI,EAAE,EAAEtB,KAAK2gM,WAAW3gM,KAAKwkB,UAAWljB,EAAE,cAAc0wM,UAAU,IAAI4E,IAAI,SAASt1M,EAAEqJ,EAAE5G,IAAG,SAAU4G,IAAG,SAAU5G,GAAG,GAAI2G,GAAEC,EAAEpK,GAAGe,EAAE,aAAcyC,GAAEs+L,SAAS,SAAS/gM,EAAEqJ,EAAE5G,EAAEI,GAAqC,IAAI,GAAlCtE,MAAKmE,KAAK4G,KAAKpK,KAAKG,KAAKkD,KAAa3C,EAAE,EAAEA,EAAE6C,EAAEK,OAAOlD,IAAI,IAAI,GAAIyC,GAAE,EAAEA,EAAEI,EAAE7C,GAAGsgM,MAAMp9L,OAAOT,IAAyB,kBAArBI,EAAE7C,GAAGsgM,MAAM79L,GAAGmT,MAAwB9S,EAAE2H,KAAK5H,EAAE7C,GAAGsgM,MAAM79L,IAAyB,0BAArBI,EAAE7C,GAAGsgM,MAAM79L,GAAGmT,MAAgClM,EAAEe,KAAK5H,EAAE7C,GAAGsgM,MAAM79L,IAAyB,yBAArBI,EAAE7C,GAAGsgM,MAAM79L,GAAGmT,MAA+BtW,EAAEmL,KAAK5H,EAAE7C,GAAGsgM,MAAM79L,IAAyB,YAArBI,EAAE7C,GAAGsgM,MAAM79L,GAAGmT,MAAkBnW,EAAEgL,KAAK5H,EAAE7C,GAAGsgM,MAAM79L,IAAyB,YAArBI,EAAE7C,GAAGsgM,MAAM79L,GAAGmT,MAAkBjT,EAAE8H,KAAK5H,EAAE7C,GAAGsgM,MAAM79L,GAAI,IAAIM,GAAEF,EAAEiK,IAAI,SAAS1M,GAAG,MAAOA,GAAEwgM,MAAM39L,EAAEtE,KAAKuB,EAAE,EAAG4C,GAAEI,SAAShD,GAAG,mBAAmBsJ,EAAEyuB,MAAMn1B,GAAG6xB,KAAK,SAASv0B,GAAG,MAAOA,GAAE2L,KAAKe,IAAI,SAAS1M,GAAG,MAAOA,GAAEu3F,GAAG10F,GAAG29L,MAAM39L,GAAE,EAAG,IAAI,kBAAkB2D,QAAQiG,KAAK,KAAK,KAAKnD,EAAExG,SAAShD,GAAG,2BAA2BwJ,EAAE,GAAG9C,MAAM+wF,GAAG10F,GAAGmH,WAAW,KAAK9K,EAAE4D,SAAShD,GAAG,0BAA0BsJ,EAAEyuB,MAAM34B,GAAGq1B,KAAK,SAASv0B,GAAG,MAAOA,GAAE2L,KAAKe,IAAI,SAAS1M,GAAG,MAAOA,GAAEu3F,GAAG10F,GAAG29L,MAAM39L,GAAE,EAAG,IAAI,yBAAyB2D,QAAQiG,KAAK,KAAK,KAAKpN,EAAEyD,QAAgC,YAAxBzD,EAAE,GAAGmH,MAAM+wF,GAAG10F,GAAG2D,QAAoB1G,GAAG,aAAaT,EAAE,GAAGmH,MAAM+wF,GAAG10F,GAAGmH,WAAW,KAAKzH,EAAEO,QAAgC,GAAxBP,EAAE,GAAGiE,MAAM+wF,GAAG10F,GAAG2D,QAAW1G,GAAG,aAAayC,EAAE,GAAGiE,MAAM+wF,GAAG10F,GAAGmH,WAAW,IAAK,IAAIT,GAAE5G,EAAE8J,KAAK,GAAI,OAAO3M,IAAIyJ,EAAK,gBAAgBvJ,EAAE,wBAAwBF,EAAE,MAAMyJ,EAAE,WAAvD,KAAqEvJ,EAAE,cAAc0H,KAAKhJ,KAAoB,mBAARmb,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaijM,UAAU,EAAE3qD,WAAWnsH,SAAY27K,IAAI,SAASv1M,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE2+L,IAAI,SAASt1L,EAAE5G,GAAG/D,KAAK8H,MAAM6C,EAAE3K,KAAKy8F,MAAM14F,GAAGzC,EAAE2+L,IAAI50L,WAAWmR,GAAG,MAAMlR,SAAS,WAAW,MAAOtL,MAAK8H,MAAMwD,YAAYutF,GAAG,SAASluF,GAAG,MAAO,IAAIrJ,GAAE2+L,IAAIjgM,KAAK8H,MAAM+wF,GAAGluF,GAAG3K,KAAKy8F,UAAWn7F,EAAE,cAAc0wM,UAAU,IAAI8E,IAAI,SAASx1M,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE6/L,MAAM,SAASx2L,GAAG3K,KAAK8H,MAAM6C,GAAGrJ,EAAE6/L,MAAM91L,WAAWmR,GAAG,QAAQq8E,GAAG,SAASluF,GAAG,MAA2B,KAApB3K,KAAK8H,MAAM1D,OAAWpE,KAAK8H,MAAM,GAAG+wF,GAAGluF,GAAG,GAAIrJ,GAAE6/L,MAAMnhM,KAAK8H,MAAMkG,IAAI,SAAS1M,GAAG,MAAOA,GAAEu3F,GAAGluF,OAAOW,SAAS,SAAShK,EAAEqJ,EAAE5G,EAAE2G,GAAG,MAAO1K,MAAK8H,MAAMkG,IAAI,SAASrD,GAAG,MAAOA,GAAEW,SAAShK,EAAEoJ,KAAKqD,KAAKhK,GAAG,OAAO6I,MAAM,WAAW,GAAIjC,GAAES,OAAO20B,OAAOz+B,EAAE6/L,MAAM91L,UAAW,OAAOK,OAAMtG,QAAQuF,GAAGA,EAAE7C,MAAM9H,KAAK8H,MAAMjF,QAAQ8H,EAAE7C,MAAM9H,KAAK8H,MAAM6C,EAAE6R,GAAGxc,KAAKwc,GAAG7R,GAAGs5L,KAAK,SAAS3iM,GAAG,GAAIqJ,GAAE3K,KAAK64F,GAAGv3F,GAAGyC,EAAE4G,EAAEW,UAAW,OAAc,UAAPX,EAAE6R,IAAqB,QAAP7R,EAAE6R,IAAmB,WAAP7R,EAAE6R,IAAsB,YAAP7R,EAAE6R,GAAezY,EAAE,IAAIA,EAAE,IAAW,UAAP4G,EAAE6R,GAAazY,EAAEA,EAAEW,QAAQ,YAAY,cAAqB,SAAPiG,EAAE6R,KAAczY,EAAEoL,KAAK0rB,WAAW/jB,KAAKnM,EAAEmM,KAAKslB,KAAKzxB,EAAEyxB,QAAQ,YAAYr4B,EAAE,OAAQzC,EAAE,cAAc0wM,UAAU,IAAI+E,IAAI,SAASz1M,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAGA,EAAE4+L,SAAS,SAASv1L,EAAE5G,EAAE2G,GAAG1K,KAAK8W,KAAKnM,EAAE3K,KAAKwkB,MAAMzgB,EAAE/D,KAAKi8L,SAASvxL,GAAGpJ,EAAE4+L,SAAS70L,WAAWmR,GAAG,WAAWlR,SAAS,WAAW,MAAOtL,MAAK8W,MAAM+hF,GAAG,SAASv3F,GAAatB,KAAK8W,IAAK,IAAG9W,KAAKg3M,KAAK,MAAOh3M,MAAKg3M,IAAK,IAAI7yM,GAAE7C,EAAEy9L,OAAO71L,OAAO,SAAS5H,GAAG,MAAOA,GAAEwV,MAAM9W,KAAK8W,MAAM+I,KAAK7f,MAAO,OAAOmE,GAAEC,OAAOD,EAAE,GAAG2D,MAAM+wF,GAAGv3F,IAAIA,EAAEmD,OAAO8vE,QAAQ,YAAYv0E,KAAK8W,KAAK,gBAAgB0N,MAAMxkB,KAAKwkB,MAAMlf,KAAK,UAAU22L,SAASj8L,KAAKi8L,YAAYz/K,GAAG,YAAY1U,MAAM,iBAAkBxG,EAAE,cAAc0wM,UAAU,IAAIiF,IAAI,SAAS31M,EAAEqJ,EAAE5G,GAAG,GAAI2G,GAAEpJ,EAAE,UAAWoJ,GAAEoiE,KAAK,SAASxrE,EAAEqJ,EAAE5G,GAAG/D,KAAK+xI,GAAGzwI,EAAEtB,KAAK8H,MAAM6C,EAAE3K,KAAKwkB,MAAMzgB,GAAG2G,EAAEoiE,KAAKzhE,UAAUwuC,QAAQ,SAASv4C,GAAG,MAAOtB,MAAKqV,KAAK/T,EAAEtB,MAAM0K,EAAEoiE,KAAKzhE,UAAUwtF,GAAG,SAASv3F,GAAG,GAAIqJ,GAAE,EAAE5G,EAAE4tB,EAAAA,EAASxtB,EAAEiR,SAASpV,KAAK8H,MAAM+wF,GAAGv3F,GAAGgK,WAAW,IAAIzL,EAAE,CAA8H,SAA3HsE,EAAEuG,EAAEoiE,KAAKzxB,SAASl3C,EAAE,IAAI7C,EAAEmD,OAAO8vE,QAAQ,kCAAkC7pE,EAAEoiE,KAAKzxB,QAAQ,cAAc72B,MAAMxkB,KAAKwkB,QAAexkB,KAAK+xI,IAAI,IAAI,IAAI,MAAO/xI,MAAKqV,KAAK,GAAGlR,EAAEnE,IAAK,KAAI,IAAI2K,EAAExG,EAAE,CAAE,MAAM,KAAI,KAAKwG,EAAExG,CAAE,MAAM,KAAI,IAAIJ,EAAEI,EAAE,CAAE,MAAM,KAAI,KAAKJ,EAAEI,EAAE,IAAI,GAAIH,GAAE,EAAEA,GAAG0G,EAAEoiE,KAAKzxB,QAAQr3C,IAAIA,GAAG2G,GAAG3G,GAAGD,IAAIlE,GAAG,GAAGmE,EAAG,OAAOhE,MAAKqV,KAAKxV,EAAEG,MAAM0K,EAAEoiE,KAAKzhE,UAAUC,SAAS,WAAW,MAAOtL,MAAKqV,MAAM3K,EAAEoiE,KAAK54C,IAAI,QAAQxpB,EAAEoiE,KAAKzxB,QAAQ,GAAG3wC,EAAEoiE,KAAKioI,QAAQmC,EAAE,IAAIp9E,EAAE,IAAIC,EAAE,IAAIykE,EAAE,IAAItkE,EAAE,IAAIC,EAAE,KAAKC,EAAE,MAAMC,EAAE,KAAKC,EAAE,IAAIC,EAAE,KAAKP,GAAG,KAAKC,GAAG,IAAI44E,GAAG,IAAIO,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,MAAMM,GAAG,IAAII,GAAG,KAAKK,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIE,GAAG,IAAIG,GAAG,KAAKnqM,EAAEoiE,KAAKzhE,UAAUy2L,MAAM,WAAW,GAAIxgM,KAAK,IAAGtB,KAAKqV,MAAM3K,EAAEoiE,KAAK54C,IAAI,CAAmB,IAAI,GAAlBvpB,GAAE,KAAK5G,EAAE,KAAaI,EAAE,EAAEA,GAAGuG,EAAEoiE,KAAKzxB,QAAQl3C,IAAInE,KAAKqV,KAAK,GAAGlR,IAAQ,OAAJwG,IAAWA,EAAExG,GAAGJ,EAAEI,EAAGwG,GAAE,GAAGrJ,EAAEqK,KAAK,4BAA4BjB,EAAEoiE,KAAKioI,OAAOpqM,GAAG,4BAA4B5G,EAAE,IAAIzC,EAAEqK,KAAK,4BAA4BjB,EAAEoiE,KAAKioI,OAAOhxM,EAAE,GAAG,4BAA4B,MAAOzC,IAAGoJ,EAAEoiE,KAAKzhE,UAAUC,SAAS,WAAoB,IAAI,GAAThK,GAAE,GAAWqJ,EAAE,EAAEA,GAAGD,EAAEoiE,KAAKzxB,QAAQ1wC,IAAIrJ,GAAGtB,KAAKqV,KAAK,GAAG1K,EAAE,IAAI,GAAI,OAAOrJ,MAAK0wM,UAAU,IAAImF,IAAI,SAAS71M,EAAEqJ,EAAE5G,SAASqzM,IAAI,SAAS91M,EAAEqJ,EAAE5G,GAAG,QAAS6G,GAAEtJ,EAAEqJ,GAAG,MAAOD,GAAEktB,YAAYjtB,GAAG,GAAGA,GAAED,EAAE+sB,SAAS9sB,KAAKqE,MAAMrE,IAAKsE,SAAStE,GAAiBD,EAAE5E,WAAW6E,IAAID,EAAEi2B,SAASh2B,GAAGA,EAAEW,WAAWX,EAAzDA,EAAEW,WAAyD,QAAS9K,GAAEc,EAAEqJ,GAAG,MAAOD,GAAE4sB,SAASh2B,GAAGA,EAAE8C,OAAOuG,EAAErJ,EAAEA,EAAEuB,MAAM,EAAE8H,GAAGrJ,EAAE,QAASX,GAAEW,GAAG,MAAOd,GAAE2O,KAAK0rB,UAAUv5B,EAAE+1M,OAAOzsM,GAAG,KAAK,IAAItJ,EAAEg2M,SAAS,IAAI92M,EAAE2O,KAAK0rB,UAAUv5B,EAAEi2M,SAAS3sM,GAAG,KAAK,QAAS/G,GAAEvC,EAAEqJ,EAAE5G,EAAE2G,EAAEvG,GAAG,KAAM,IAAIH,GAAEwzM,gBAAgBjjI,QAAQxwE,EAAEszM,OAAO/1M,EAAEi2M,SAAS5sM,EAAE2sM,SAAS5sM,EAAE+sM,mBAAmBtzM,IAAI,QAASjD,GAAEI,EAAEqJ,GAAGrJ,GAAGuC,EAAEvC,GAAE,EAAGqJ,EAAE,KAAK3G,EAAEg2K,IAAI,QAASr2K,GAAErC,EAAEqJ,GAAG,GAAGrJ,IAAIqJ,EAAE,OAAM,CAAG,IAAGD,EAAEgtM,SAASp2M,IAAIoJ,EAAEgtM,SAAS/sM,GAAG,CAAC,GAAGrJ,EAAE8C,QAAQuG,EAAEvG,OAAO,OAAM,CAAG,KAAI,GAAIL,GAAE,EAAEA,EAAEzC,EAAE8C,OAAOL,IAAI,GAAGzC,EAAEyC,KAAK4G,EAAE5G,GAAG,OAAM,CAAG,QAAM,EAAG,MAAO2G,GAAEitM,OAAOr2M,IAAIoJ,EAAEitM,OAAOhtM,GAAGrJ,EAAEgP,YAAY3F,EAAE2F,UAAU5F,EAAEi2B,SAASr/B,IAAIoJ,EAAEi2B,SAASh2B,GAAGrJ,EAAEgiB,SAAS3Y,EAAE2Y,QAAQhiB,EAAE6Z,SAASxQ,EAAEwQ,QAAQ7Z,EAAE61B,YAAYxsB,EAAEwsB,WAAW71B,EAAEk4B,YAAY7uB,EAAE6uB,WAAWl4B,EAAE81B,aAAazsB,EAAEysB,WAAY1sB,EAAEusB,SAAS31B,IAAKoJ,EAAEusB,SAAStsB,GAAQvJ,EAAEE,EAAEqJ,GAATrJ,GAAGqJ,EAAS,QAAS1G,GAAE3C,GAAG,MAA0C,sBAAnC8J,OAAOC,UAAUC,SAAStC,KAAK1H,GAAyB,QAASF,GAAEE,EAAEqJ,GAAG,GAAGD,EAAEktM,kBAAkBt2M,IAAIoJ,EAAEktM,kBAAkBjtM,GAAG,OAAM,CAAG,IAAGrJ,EAAE+J,YAAYV,EAAEU,UAAU,OAAM,CAAG,IAAGpH,EAAE3C,GAAG,QAAO2C,EAAE0G,KAAIrJ,EAAE6C,EAAE6E,KAAK1H,GAAGqJ,EAAExG,EAAE6E,KAAK2B,GAAGhH,EAAErC,EAAEqJ,GAAO,KAAI,GAAkB3G,GAAE4G,EAAhB7G,EAAEL,EAAEpC,GAAGzB,EAAE6D,EAAEiH,GAAO,MAAMnK,GAAG,OAAM,EAAG,GAAGuD,EAAEK,QAAQvE,EAAEuE,OAAO,OAAM,CAAqB,KAAlBL,EAAEmK,OAAOrO,EAAEqO,OAAWtD,EAAE7G,EAAEK,OAAO,EAAEwG,GAAG,EAAEA,IAAI,GAAG7G,EAAE6G,IAAI/K,EAAE+K,GAAG,OAAM,CAAG,KAAIA,EAAE7G,EAAEK,OAAO,EAAEwG,GAAG,EAAEA,IAAY,GAAP5G,EAAED,EAAE6G,IAAOjH,EAAErC,EAAE0C,GAAG2G,EAAE3G,IAAI,OAAM,CAAG,QAAM,EAAG,QAAS6G,GAAEvJ,EAAEqJ,GAAG,SAAOrJ,IAAIqJ,KAAwC,mBAAnCS,OAAOC,UAAUC,SAAStC,KAAK2B,GAAsBA,EAAE1F,KAAK3D,GAAGA,YAAaqJ,IAAKA,EAAE3B,QAAQ1H,MAAK,GAAS,QAASwC,GAAExC,EAAEqJ,EAAE5G,EAAEI,GAAG,GAAItE,EAAE6K,GAAE4sB,SAASvzB,KAAKI,EAAEJ,EAAEA,EAAE,KAAM,KAAI4G,IAAI,MAAM3G,GAAGnE,EAAEmE,EAA8I,GAA5IG,GAAGJ,GAAGA,EAAE+S,KAAK,KAAK/S,EAAE+S,KAAK,KAAK,MAAM3S,EAAE,IAAIA,EAAE,KAAK7C,IAAIzB,GAAGgE,EAAEhE,EAAEkE,EAAE,6BAA6BI,IAAI7C,GAAGuJ,EAAEhL,EAAEkE,IAAIF,EAAEhE,EAAEkE,EAAE,yBAAyBI,GAAM7C,GAAGzB,GAAGkE,IAAI8G,EAAEhL,EAAEkE,KAAKzC,GAAGzB,EAAE,KAAMA,GAAE,GAAI6K,GAAEpJ,EAAE,SAAS6C,EAAEuH,MAAML,UAAUxI,MAAMhD,EAAEuL,OAAOC,UAAUG,eAAexH,EAAE2G,EAAE8oB,QAAQvyB,CAAE8C,GAAEwzM,eAAe,SAAS7sM,GAAG3K,KAAK8W,KAAK,iBAAiB9W,KAAKq3M,OAAO1sM,EAAE0sM,OAAOr3M,KAAKu3M,SAAS5sM,EAAE4sM,SAASv3M,KAAKs3M,SAAS3sM,EAAE2sM,SAAS3sM,EAAE4pE,SAASv0E,KAAKu0E,QAAQ5pE,EAAE4pE,QAAQv0E,KAAK63M,kBAAiB,IAAK73M,KAAKu0E,QAAQ5zE,EAAEX,MAAMA,KAAK63M,kBAAiB,EAAI,IAAI9zM,GAAE4G,EAAE8sM,oBAAoB5zM,CAAE,IAAGqL,MAAM4oM,kBAAkB5oM,MAAM4oM,kBAAkB93M,KAAK+D,OAAO,CAAC,GAAI2G,GAAE,GAAIwE,MAAM,IAAGxE,EAAEykF,MAAM,CAAC,GAAIhrF,GAAEuG,EAAEykF,MAAMtvF,EAAEkE,EAAE+S,KAAK9S,EAAEG,EAAE8H,QAAQ,KAAKpM,EAAG,IAAGmE,GAAG,EAAE,CAAC,GAAI4G,GAAEzG,EAAE8H,QAAQ,KAAKjI,EAAE,EAAGG,GAAEA,EAAE4S,UAAUnM,EAAE,GAAG5K,KAAKmvF,MAAMhrF,KAAKuG,EAAE05B,SAASpgC,EAAEwzM,eAAetoM,OAAOlL,EAAEgO,KAAKnO,EAAEG,EAAEg2K,GAAG94K,EAAE8C,EAAE+zM,MAAM,SAASptM,EAAE5G,EAAE2G,GAAGC,GAAG5G,GAAGF,EAAE8G,EAAE5G,EAAE2G,EAAE,KAAK1G,EAAE+zM,QAAQ/zM,EAAEg0M,SAAS,SAASrtM,EAAE5G,EAAE2G,GAAGC,GAAG5G,GAAGF,EAAE8G,EAAE5G,EAAE2G,EAAE,KAAK1G,EAAEg0M,WAAWh0M,EAAEi0M,UAAU,SAASttM,EAAE5G,EAAE2G,GAAG/G,EAAEgH,EAAE5G,IAAIF,EAAE8G,EAAE5G,EAAE2G,EAAE,YAAY1G,EAAEi0M,YAAYj0M,EAAEk0M,aAAa,SAASvtM,EAAE5G,EAAE2G,GAAG/G,EAAEgH,EAAE5G,IAAIF,EAAE8G,EAAE5G,EAAE2G,EAAE,eAAe1G,EAAEk0M,eAAel0M,EAAEm0M,YAAY,SAASxtM,EAAE5G,EAAE2G,GAAGC,IAAI5G,GAAGF,EAAE8G,EAAE5G,EAAE2G,EAAE,MAAM1G,EAAEm0M,cAAcn0M,EAAEo0M,eAAe,SAASztM,EAAE5G,EAAE2G,GAAGC,IAAI5G,GAAGF,EAAE8G,EAAE5G,EAAE2G,EAAE,MAAM1G,EAAEo0M,iBAAiBp0M,EAAEq0M,OAAO,SAAS/2M,EAAEqJ,EAAE5G,GAAGD,EAAElB,MAAM5C,OAAM,GAAI2C,OAAOwB,EAAE6E,KAAK8E,cAAc9J,EAAEs0M,aAAa,SAASh3M,EAAEqJ,GAAG7G,EAAElB,MAAM5C,OAAM,GAAI2C,OAAOwB,EAAE6E,KAAK8E,cAAc9J,EAAEu0M,QAAQ,SAASj3M,GAAG,GAAGA,EAAE,KAAMA,GAAG,IAAIoC,GAAE0H,OAAOmoB,MAAM,SAASjyB,GAAG,GAAIqJ,KAAK,KAAI,GAAI5G,KAAKzC,GAAEzB,EAAEmJ,KAAK1H,EAAEyC,IAAI4G,EAAEgB,KAAK5H,EAAG,OAAO4G,MAAK6tM,QAAQ,KAAKC,IAAI,SAASn3M,EAAEqJ,EAAE5G,GAAyB,kBAAfqH,QAAO20B,OAAmBp1B,EAAE8oB,QAAQ,SAAS9oB,EAAE5G,GAAG4G,EAAE+tM,OAAO30M,EAAE4G,EAAEU,UAAUD,OAAO20B,OAAOh8B,EAAEsH,WAAWc,aAAarE,MAAM6C,EAAEguM,YAAW,EAAGC,UAAS,EAAGC,cAAa,MAAOluM,EAAE8oB,QAAQ,SAAS9oB,EAAE5G,GAAG4G,EAAE+tM,OAAO30M,CAAE,IAAI2G,GAAE,YAAaA,GAAEW,UAAUtH,EAAEsH,UAAUV,EAAEU,UAAU,GAAIX,GAAEC,EAAEU,UAAUc,YAAYxB,QAAQmuM,IAAI,SAASx3M,EAAEqJ,EAAE5G,IAAG,SAAUzC,GAAG,QAASqJ,GAAErJ,EAAEqJ,GAAW,IAAI,GAAR5G,GAAE,EAAU2G,EAAEpJ,EAAE8C,OAAO,EAAEsG,GAAG,EAAEA,IAAI,CAAC,GAAIvG,GAAE7C,EAAEoJ,EAAO,OAAJvG,EAAQ7C,EAAE6M,OAAOzD,EAAE,GAAO,OAAJvG,GAAU7C,EAAE6M,OAAOzD,EAAE,GAAG3G,KAAKA,IAAIzC,EAAE6M,OAAOzD,EAAE,GAAG3G,KAAK,GAAG4G,EAAE,KAAK5G,IAAIA,EAAEzC,EAAE4D,QAAQ,KAAM,OAAO5D,GAAE,QAASzB,GAAEyB,EAAEqJ,GAAG,GAAGrJ,EAAE4H,OAAO,MAAO5H,GAAE4H,OAAOyB,EAAY,KAAI,GAAT5G,MAAa2G,EAAE,EAAEA,EAAEpJ,EAAE8C,OAAOsG,IAAIC,EAAErJ,EAAEoJ,GAAGA,EAAEpJ,IAAIyC,EAAE4H,KAAKrK,EAAEoJ,GAAI,OAAO3G,GAAE,GAAI2G,GAAE,gEAAgEvG,EAAE,SAAS7C,GAAG,MAAOoJ,GAAE6B,KAAKjL,GAAGuB,MAAM,GAAIkB,GAAE6N,QAAQ,WAAyB,IAAI,GAAd7N,GAAE,GAAG2G,GAAE,EAAWvG,EAAE2J,UAAU1J,OAAO,EAAED,IAAG,IAAKuG,EAAEvG,IAAI,CAAC,GAAIH,GAAEG,GAAG,EAAE2J,UAAU3J,GAAG7C,EAAEy3M,KAAM,IAAa,gBAAH/0M,GAAY,KAAM,IAAI+vB,WAAU,4CAAiD/vB,KAAWD,EAAEC,EAAE,IAAID,EAAE2G,EAAgB,MAAd1G,EAAEsI,OAAO,IAAS,MAAOvI,GAAE4G,EAAE9K,EAAEkE,EAAES,MAAM,KAAK,SAASlD,GAAG,QAAQA,KAAKoJ,GAAGqD,KAAK,MAAMrD,EAAE,IAAI,IAAI3G,GAAG,KAAKA,EAAE8uF,UAAU,SAASvxF,GAAG,GAAIoJ,GAAE3G,EAAEi1M,WAAW13M,GAAG6C,EAAY,MAAVH,EAAE1C,GAAE,EAAU,OAAOA,GAAEqJ,EAAE9K,EAAEyB,EAAEkD,MAAM,KAAK,SAASlD,GAAG,QAAQA,KAAKoJ,GAAGqD,KAAK,MAAMzM,IAAIoJ,IAAIpJ,EAAE,KAAKA,GAAG6C,IAAI7C,GAAG,MAAMoJ,EAAE,IAAI,IAAIpJ,GAAGyC,EAAEi1M,WAAW,SAAS13M,GAAG,MAAqB,MAAdA,EAAEgL,OAAO,IAAUvI,EAAEgK,KAAK,WAAW,GAAIzM,GAAEoK,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAU,EAAG,OAAO/J,GAAE8uF,UAAUhzF,EAAEyB,EAAE,SAASA,EAAEqJ,GAAG,GAAa,gBAAHrJ,GAAY,KAAM,IAAIyyB,WAAU,yCAA0C,OAAOzyB,KAAIyM,KAAK,OAAOhK,EAAEwc,SAAS,SAASjf,EAAEqJ,GAAG,QAASD,GAAEpJ,GAAW,IAAR,GAAIqJ,GAAE,EAAOA,EAAErJ,EAAE8C,QAAqB,KAAP9C,EAAEqJ,GAATA,KAAwC,IAAjB,GAAI5G,GAAEzC,EAAE8C,OAAO,EAAOL,GAAG,GAAgB,KAAPzC,EAAEyC,GAATA,KAAuB,MAAO4G,GAAE5G,KAAKzC,EAAEuB,MAAM8H,EAAE5G,EAAE4G,EAAE,GAAGrJ,EAAEyC,EAAE6N,QAAQtQ,GAAG0E,OAAO,GAAG2E,EAAE5G,EAAE6N,QAAQjH,GAAG3E,OAAO,EAA6E,KAAI,GAA1E7B,GAAEuG,EAAEpJ,EAAEkD,MAAM,MAAM3E,EAAE6K,EAAEC,EAAEnG,MAAM,MAAMR,EAAEgM,KAAK4kB,IAAIzwB,EAAEC,OAAOvE,EAAEuE,QAAQwG,EAAE5G,EAAUxD,EAAE,EAAEA,EAAEwD,EAAExD,IAAI,GAAG2D,EAAE3D,KAAKX,EAAEW,GAAG,CAACoK,EAAEpK,CAAE,OAAe,IAAI,GAATG,MAAaH,EAAEoK,EAAEpK,EAAE2D,EAAEC,OAAO5D,IAAIG,EAAEgL,KAAK,KAAM,OAAOhL,GAAEA,EAAEgC,OAAO9C,EAAEgD,MAAM+H,IAAIjK,EAAEoN,KAAK,MAAMhK,EAAEk1M,IAAI,IAAIl1M,EAAEm1M,UAAU,IAAIn1M,EAAEo1M,QAAQ,SAAS73M,GAAG,GAAIqJ,GAAExG,EAAE7C,GAAGyC,EAAE4G,EAAE,GAAGD,EAAEC,EAAE,EAAG,OAAO5G,IAAI2G,GAAOA,IAAIA,EAAEA,EAAE1E,OAAO,EAAE0E,EAAEtG,OAAO,IAAIL,EAAE2G,GAArC,KAAyC3G,EAAEq1M,SAAS,SAAS93M,EAAEqJ,GAAG,GAAI5G,GAAEI,EAAE7C,GAAG,EAAG,OAAOqJ,IAAG5G,EAAEiC,QAAO,EAAG2E,EAAEvG,UAAUuG,IAAI5G,EAAEA,EAAEiC,OAAO,EAAEjC,EAAEK,OAAOuG,EAAEvG,SAASL,GAAGA,EAAEs1M,QAAQ,SAAS/3M,GAAG,MAAO6C,GAAE7C,GAAG,GAAI,IAAI0C,GAAoB,MAAlB,KAAKgC,QAAO,GAAU,SAAS1E,EAAEqJ,EAAE5G,GAAG,MAAOzC,GAAE0E,OAAO2E,EAAE5G,IAAI,SAASzC,EAAEqJ,EAAE5G,GAAG,MAAO4G,GAAE,IAAIA,EAAErJ,EAAE8C,OAAOuG,GAAGrJ,EAAE0E,OAAO2E,EAAE5G,MAAMiF,KAAKhJ,KAAKsB,EAAE,eAAeg9L,SAAS,KAAKgb,IAAI,SAASh4M,EAAEqJ,EAAE5G,GAAG,QAASI,MAAK,GAAIuG,GAAEC,EAAE8oB,UAAW/oB,GAAE6uM,SAAS,WAAW,GAAIj4M,GAAiB,mBAARyN,SAAqBA,OAAOyqM,aAAa7uM,EAAiB,mBAARoE,SAAqBA,OAAO0qM,iBAAiB11M,EAAiB,mBAARgL,SAAqBA,OAAOw8F,aAAax8F,OAAOH,gBAAiB,IAAGtN,EAAE,MAAO,UAASA,GAAG,MAAOyN,QAAOyqM,aAAal4M,GAAI,IAAIoJ,KAAK,IAAGC,EAAE,CAAC,GAAIxG,GAAEjC,SAASR,cAAc,OAAO7B,EAAE,GAAI45M,kBAAiB,WAAW,GAAIn4M,GAAEoJ,EAAE7H,OAAQ6H,GAAEtG,OAAO,EAAE9C,EAAE2xB,QAAQ,SAAS3xB,GAAGA,OAAQ,OAAOzB,GAAE65M,QAAQv1M,GAAG0S,YAAW,IAAK,SAASlM,GAAGD,EAAEtG,QAAQD,EAAEyO,aAAa,MAAM,MAAMlI,EAAEiB,KAAKhB,IAAI,MAAO5G,IAAGgL,OAAOH,iBAAiB,UAAU,SAAStN,GAAG,GAAIqJ,GAAErJ,EAAEgiB,MAAO,KAAI3Y,IAAIoE,QAAY,OAAJpE,IAAoB,iBAATrJ,EAAEkH,OAAuBlH,EAAEub,kBAAqBnS,EAAEtG,OAAO,GAAE,CAAC,GAAIL,GAAE2G,EAAE5F,OAAQf,QAAO,GAAI,SAAS4G,GAAGD,EAAEiB,KAAKhB,GAAGoE,OAAOw8F,YAAY,eAAe,OAAO,SAAS5gG,GAAG1H,WAAW0H,EAAE,OAAOD,EAAE83B,MAAM,UAAU93B,EAAE8F,SAAQ,EAAG9F,EAAEg0L,OAAOh0L,EAAEivM,QAAQjvM,EAAEiV,GAAGxb,EAAEuG,EAAEy1D,YAAYh8D,EAAEuG,EAAE0G,KAAKjN,EAAEuG,EAAE+D,IAAItK,EAAEuG,EAAEi2D,eAAex8D,EAAEuG,EAAEkvM,mBAAmBz1M,EAAEuG,EAAE6zI,KAAKp6I,EAAEuG,EAAEmvM,QAAQ,SAASv4M,GAAG,KAAM,IAAI4N,OAAM,qCAAqCxE,EAAEquM,IAAI,WAAW,MAAM,KAAKruM,EAAEovM,MAAM,SAASx4M,GAAG,KAAM,IAAI4N,OAAM,wCAAwC6qM,IAAI,SAASz4M,EAAEqJ,EAAE5G,GAAG4G,EAAE8oB,QAAQ,SAAS9oB,GAAG,MAAOA,IAAa,gBAAHA,IAA4B,kBAARA,GAAEqvM,MAAiC,kBAARrvM,GAAEgpD,MAAsC,kBAAbhpD,GAAEsvM,gBAA4BC,IAAI,SAAS54M,EAAEqJ,EAAE5G,IAAG,SAAU4G,EAAED,GAAG,QAASE,GAAEtJ,EAAEqJ,GAAG,GAAID,IAAGyvM,QAAQC,QAAQz5M,EAAG,OAAOmN,WAAU1J,QAAQ,IAAIsG,EAAE2vM,MAAMvsM,UAAU,IAAIA,UAAU1J,QAAQ,IAAIsG,EAAEuuJ,OAAOnrJ,UAAU,IAAI7C,EAAEN,GAAGD,EAAE4vM,WAAW3vM,EAAEA,GAAG5G,EAAEw2M,QAAQ7vM,EAAEC,GAAG5B,EAAE2B,EAAE4vM,cAAc5vM,EAAE4vM,YAAW,GAAIvxM,EAAE2B,EAAE2vM,SAAS3vM,EAAE2vM,MAAM,GAAGtxM,EAAE2B,EAAEuuJ,UAAUvuJ,EAAEuuJ,QAAO,GAAIlwJ,EAAE2B,EAAE8vM,iBAAiB9vM,EAAE8vM,eAAc,GAAI9vM,EAAEuuJ,SAASvuJ,EAAE0vM,QAAQ55M,GAAGU,EAAEwJ,EAAEpJ,EAAEoJ,EAAE2vM,OAAO,QAAS75M,GAAEc,EAAEqJ,GAAG,GAAI5G,GAAE6G,EAAE0+C,OAAO3+C,EAAG,OAAO5G,GAAE,KAAK6G,EAAEquJ,OAAOl1J,GAAG,GAAG,IAAIzC,EAAE,KAAKsJ,EAAEquJ,OAAOl1J,GAAG,GAAG,IAAIzC,EAAE,QAASX,GAAEW,EAAEqJ,GAAG,MAAOrJ,GAAE,QAASuC,GAAEvC,GAAG,GAAIqJ,KAAK,OAAOrJ,GAAE2xB,QAAQ,SAAS3xB,EAAEyC,GAAG4G,EAAErJ,IAAG,IAAKqJ,EAAE,QAASzJ,GAAEI,EAAEqJ,EAAED,GAAG,GAAGpJ,EAAEk5M,eAAe7vM,GAAGN,EAAEM,EAAE8vM,UAAU9vM,EAAE8vM,UAAU12M,EAAE02M,WAAW9vM,EAAEwB,aAAaxB,EAAEwB,YAAYd,YAAYV,GAAG,CAAC,GAAIxG,GAAEwG,EAAE8vM,QAAQ/vM,EAAEpJ,EAAG,OAAO8H,GAAEjF,KAAKA,EAAEjD,EAAEI,EAAE6C,EAAEuG,IAAIvG,EAAE,GAAItE,GAAE8D,EAAErC,EAAEqJ,EAAG,IAAG9K,EAAE,MAAOA,EAAE,IAAImE,GAAEoH,OAAOmoB,KAAK5oB,GAAGC,EAAE/G,EAAEG,EAAmD,IAAhD1C,EAAEg5M,aAAat2M,EAAEoH,OAAOsvM,oBAAoB/vM,IAAOvK,EAAEuK,KAAK3G,EAAEiI,QAAQ,YAAY,GAAGjI,EAAEiI,QAAQ,gBAAgB,GAAG,MAAOhI,GAAE0G,EAAG,IAAc,IAAX3G,EAAEI,OAAW,CAAC,GAAGiG,EAAEM,GAAG,CAAC,GAAInK,GAAEmK,EAAEmM,KAAK,KAAKnM,EAAEmM,KAAK,EAAG,OAAOxV,GAAE84M,QAAQ,YAAY55M,EAAE,IAAI,WAAW,GAAGwjB,EAAErZ,GAAG,MAAOrJ,GAAE84M,QAAQ//L,OAAOhP,UAAUC,SAAStC,KAAK2B,GAAG,SAAU,IAAGtG,EAAEsG,GAAG,MAAOrJ,GAAE84M,QAAQ/pM,KAAKhF,UAAUC,SAAStC,KAAK2B,GAAG,OAAQ,IAAGvK,EAAEuK,GAAG,MAAO1G,GAAE0G,GAAG,GAAIhK,GAAE,GAAGsK,GAAE,EAAGxK,GAAG,IAAI,IAA8B,IAAzBiD,EAAEiH,KAAKM,GAAE,EAAGxK,GAAG,IAAI,MAAS4J,EAAEM,GAAG,CAAC,GAAIG,GAAEH,EAAEmM,KAAK,KAAKnM,EAAEmM,KAAK,EAAGnW,GAAE,aAAamK,EAAE,IAAwH,GAApHkZ,EAAErZ,KAAKhK,EAAE,IAAI0Z,OAAOhP,UAAUC,SAAStC,KAAK2B,IAAItG,EAAEsG,KAAKhK,EAAE,IAAI0P,KAAKhF,UAAUsvM,YAAY3xM,KAAK2B,IAAIvK,EAAEuK,KAAKhK,EAAE,IAAIsD,EAAE0G,IAAkB,IAAX3G,EAAEI,QAAc6G,GAAa,GAAVN,EAAEvG,OAAU,CAAC,GAAGsG,EAAE,EAAE,MAAOsZ,GAAErZ,GAAGrJ,EAAE84M,QAAQ//L,OAAOhP,UAAUC,SAAStC,KAAK2B,GAAG,UAAUrJ,EAAE84M,QAAQ,WAAW,UAAW94M,GAAE64M,KAAKxuM,KAAKhB,EAAG,IAAIc,EAAE,OAASA,GAAFR,EAAI7J,EAAEE,EAAEqJ,EAAED,EAAEE,EAAE5G,GAAKA,EAAEgK,IAAI,SAASjK,GAAG,MAAO8G,GAAEvJ,EAAEqJ,EAAED,EAAEE,EAAE7G,EAAEkH,KAAK3J,EAAE64M,KAAKrxM,MAAMhF,EAAE2H,EAAE9K,EAAEF,GAAG,MAAOA,GAAE,GAAGE,EAAEF,EAAE,GAAG,QAASkD,GAAErC,EAAEqJ,GAAG,GAAG5B,EAAE4B,GAAG,MAAOrJ,GAAE84M,QAAQ,YAAY,YAAa,IAAGhxM,EAAEuB,GAAG,CAAC,GAAI5G,GAAE,IAAIoL,KAAK0rB,UAAUlwB,GAAGjG,QAAQ,SAAS,IAAIA,QAAQ,KAAK,OAAOA,QAAQ,OAAO,KAAK,GAAI,OAAOpD,GAAE84M,QAAQr2M,EAAE,UAAU,MAAG0H,GAAEd,GAAUrJ,EAAE84M,QAAQ,GAAGzvM,EAAE,UAAaM,EAAEN,GAAUrJ,EAAE84M,QAAQ,GAAGzvM,EAAE,WAAclK,EAAEkK,GAAUrJ,EAAE84M,QAAQ,OAAO,QAAhC,OAAwC,QAASn2M,GAAE3C,GAAG,MAAM,IAAI4N,MAAM7D,UAAUC,SAAStC,KAAK1H,GAAG,IAAI,QAASF,GAAEE,EAAEqJ,EAAE5G,EAAE2G,EAAEvG,GAAY,IAAI,GAATtE,MAAamE,EAAE,EAAE4G,EAAED,EAAEvG,OAAOJ,EAAE4G,IAAI5G,EAAEgI,EAAErB,EAAEmB,OAAO9H,IAAInE,EAAE8L,KAAKd,EAAEvJ,EAAEqJ,EAAE5G,EAAE2G,EAAEoB,OAAO9H,IAAG,IAAKnE,EAAE8L,KAAK,GAAI,OAAOxH,GAAE8uB,QAAQ,SAAS9uB,GAAGA,EAAEqc,MAAM,UAAU3gB,EAAE8L,KAAKd,EAAEvJ,EAAEqJ,EAAE5G,EAAE2G,EAAEvG,GAAE,MAAOtE,EAAE,QAASgL,GAAEvJ,EAAEqJ,EAAE5G,EAAE2G,EAAEvG,EAAEtE,GAAG,GAAImE,GAAE4G,EAAEpK,CAA4d,IAA1dA,EAAE4K,OAAOwvM,yBAAyBjwM,EAAExG,KAAK2D,MAAM6C,EAAExG,IAAI3D,EAAE+M,IAAU3C,EAANpK,EAAE6X,IAAM/W,EAAE84M,QAAQ,kBAAkB,WAAa94M,EAAE84M,QAAQ,WAAW,WAAW55M,EAAE6X,MAAMzN,EAAEtJ,EAAE84M,QAAQ,WAAW,YAAYpuM,EAAEtB,EAAEvG,KAAKH,EAAE,IAAIG,EAAE,KAAKyG,IAAItJ,EAAE64M,KAAKluM,QAAQzL,EAAEsH,OAAO,GAAQ8C,EAALnK,EAAEsD,GAAK7C,EAAEI,EAAEd,EAAEsH,MAAM,MAAQ5G,EAAEI,EAAEd,EAAEsH,MAAM/D,EAAE,GAAG6G,EAAEqB,QAAQ,OAAM,IAAOrB,EAAF/K,EAAI+K,EAAEpG,MAAM,MAAMwJ,IAAI,SAAS1M,GAAG,MAAM,KAAKA,IAAIyM,KAAK,MAAM/H,OAAO,GAAK,KAAK4E,EAAEpG,MAAM,MAAMwJ,IAAI,SAAS1M,GAAG,MAAM,MAAMA,IAAIyM,KAAK,QAAQnD,EAAEtJ,EAAE84M,QAAQ,aAAa,YAAerxM,EAAE/E,GAAG,CAAC,GAAGnE,GAAGsE,EAAEqc,MAAM,SAAS,MAAO5V,EAAE5G,GAAEmL,KAAK0rB,UAAU,GAAG12B,GAAGH,EAAEwc,MAAM,iCAAiCxc,EAAEA,EAAEgC,OAAO,EAAEhC,EAAEI,OAAO,GAAGJ,EAAE1C,EAAE84M,QAAQp2M,EAAE,UAAUA,EAAEA,EAAEU,QAAQ,KAAK,OAAOA,QAAQ,OAAO,KAAKA,QAAQ,WAAW,KAAKV,EAAE1C,EAAE84M,QAAQp2M,EAAE,WAAW,MAAOA,GAAE,KAAK4G,EAAE,QAAS9G,GAAExC,EAAEqJ,EAAE5G,GAAG,GAAI2G,GAAE,EAAEvG,EAAE7C,EAAE4xB,OAAO,SAAS5xB,EAAEqJ,GAAG,MAAOD,KAAIC,EAAEsB,QAAQ,OAAO,GAAGvB,IAAIpJ,EAAEqJ,EAAEjG,QAAQ,kBAAkB,IAAIN,OAAO,GAAG,EAAG,OAAOD,GAAE,GAAGJ,EAAE,IAAQ,KAAJ4G,EAAO,GAAGA,EAAE,OAAO,IAAIrJ,EAAEyM,KAAK,SAAS,IAAIhK,EAAE,GAAGA,EAAE,GAAG4G,EAAE,IAAIrJ,EAAEyM,KAAK,MAAM,IAAIhK,EAAE,GAAG,QAASL,GAAEpC,GAAG,MAAOoK,OAAMtG,QAAQ9D,GAAG,QAAS2J,GAAE3J,GAAG,MAAiB,iBAAHA,GAAa,QAASb,GAAEa,GAAG,MAAW,QAAJA,EAAS,QAASwJ,GAAExJ,GAAG,MAAU,OAAHA,EAAQ,QAASmK,GAAEnK,GAAG,MAAiB,gBAAHA,GAAY,QAAS8H,GAAE9H,GAAG,MAAiB,gBAAHA,GAAY,QAASyJ,GAAEzJ,GAAG,MAAiB,gBAAHA,GAAY,QAASyH,GAAEzH,GAAG,MAAW,UAAJA,EAAW,QAAS0iB,GAAE1iB,GAAG,MAAO6J,GAAE7J,IAAW,oBAAPyiB,EAAEziB,GAAuB,QAAS6J,GAAE7J,GAAG,MAAiB,gBAAHA,IAAiB,OAAJA,EAAS,QAAS+C,GAAE/C,GAAG,MAAO6J,GAAE7J,IAAW,kBAAPyiB,EAAEziB,GAAqB,QAASlB,GAAEkB,GAAG,MAAO6J,GAAE7J,KAAY,mBAAPyiB,EAAEziB,IAAuBA,YAAa4N,QAAO,QAAS7E,GAAE/I,GAAG,MAAiB,kBAAHA,GAAc,QAAS2H,GAAE3H,GAAG,MAAW,QAAJA,GAAoB,iBAAHA,IAAwB,gBAAHA,IAAuB,gBAAHA,IAAuB,gBAAHA,IAAuB,mBAAHA,GAAe,QAASyiB,GAAEziB,GAAG,MAAO8J,QAAOC,UAAUC,SAAStC,KAAK1H,GAAG,QAASf,GAAEe,GAAG,MAAOA,GAAE,GAAG,IAAIA,EAAEgK,SAAS,IAAIhK,EAAEgK,SAAS,IAAI,QAAS2Y,KAAI,GAAI3iB,GAAE,GAAI+O,MAAK1F,GAAGpK,EAAEe,EAAEu5M,YAAYt6M,EAAEe,EAAEw5M,cAAcv6M,EAAEe,EAAEy5M,eAAehtM,KAAK,IAAK,QAAOzM,EAAE05M,UAAUzvM,EAAEjK,EAAE25M,YAAYtwM,GAAGoD,KAAK,KAAK,QAAS/B,GAAE1K,EAAEqJ,GAAG,MAAOS,QAAOC,UAAUG,eAAexC,KAAK1H,EAAEqJ,GAAG,GAAIxG,GAAE,UAAWJ,GAAEwlD,OAAO,SAASjoD,GAAG,IAAI8H,EAAE9H,GAAG,CAAU,IAAI,GAATqJ,MAAa5G,EAAE,EAAEA,EAAE+J,UAAU1J,OAAOL,IAAI4G,EAAEgB,KAAKf,EAAEkD,UAAU/J,IAAK,OAAO4G,GAAEoD,KAAK,KAAiR,IAAI,GAA5QhK,GAAE,EAAE2G,EAAEoD,UAAUjO,EAAE6K,EAAEtG,OAAOJ,EAAE8H,OAAOxK,GAAGoD,QAAQP,EAAE,SAAS7C,GAAG,GAAO,OAAJA,EAAS,MAAM,GAAI,IAAGyC,GAAGlE,EAAE,MAAOyB,EAAE,QAAOA,GAAG,IAAI,KAAK,MAAOwK,QAAOpB,EAAE3G,KAAM,KAAI,KAAK,MAAO02B,QAAO/vB,EAAE3G,KAAM,KAAI,KAAK,IAAI,MAAOoL,MAAK0rB,UAAUnwB,EAAE3G,MAAM,MAAM4G,GAAG,MAAM,aAAc,QAAQ,MAAOrJ,MAAad,EAAEkK,EAAE3G,GAAGA,EAAElE,EAAEW,EAAEkK,IAAI3G,GAAeC,GAAZvD,EAAED,KAAK2K,EAAE3K,GAAM,IAAIA,EAAK,IAAIoK,EAAEpK,EAAG,OAAOwD,IAAGD,EAAEm3M,UAAU,SAAS55M,EAAE6C,GAAG,QAASH,KAAI,IAAInE,EAAE,CAAC,GAAG8K,EAAEwwM,iBAAiB,KAAM,IAAIjsM,OAAM/K,EAAGwG,GAAEywM,iBAAiB1mH,QAAQ2mH,MAAMl3M,GAAGuwF,QAAQjwF,MAAMN,GAAGtE,GAAE,EAAG,MAAOyB,GAAEsB,MAAM5C,KAAK8N,WAAW,GAAG/E,EAAE2B,EAAE4wM,SAAS,MAAO,YAAW,MAAOv3M,GAAEm3M,UAAU55M,EAAE6C,GAAGvB,MAAM5C,KAAK8N,WAAY,IAAGnD,EAAE4wM,iBAAgB,EAAG,MAAOj6M,EAAE,IAAIzB,IAAE,CAAG,OAAOmE,GAAG,IAASA,GAALnE,IAAOkE,GAAEy3M,SAAS,SAASl6M,GAAoD,GAAjDyH,EAAE/E,KAAKA,EAAE2G,EAAE+zL,IAAI+c,YAAY,IAAIn6M,EAAEA,EAAE0J,eAAkBnL,EAAEyB,GAAG,GAAG,GAAK+Y,QAAO,MAAM/Y,EAAE,MAAM,KAAM2D,KAAKjB,GAAG,CAAC,GAAI0G,GAAEC,EAAE+wM,GAAI77M,GAAEyB,GAAG,WAAW,GAAIqJ,GAAE5G,EAAEwlD,OAAO3mD,MAAMmB,EAAE+J,UAAW4mF,SAAQjwF,MAAM,YAAYnD,EAAEoJ,EAAEC,QAAS9K,GAAEyB,GAAG,YAAa,OAAOzB,GAAEyB,IAAIyC,EAAE02M,QAAQ7vM,EAAEA,EAAEquJ,QAAQkiC,MAAM,EAAE,IAAIwgB,QAAQ,EAAE,IAAItgB,WAAW,EAAE,IAAID,SAAS,EAAE,IAAIsW,OAAO,GAAG,IAAIjW,MAAM,GAAG,IAAI8N,OAAO,GAAG,IAAIE,MAAM,GAAG,IAAIW,MAAM,GAAG,IAAI7O,OAAO,GAAG,IAAI2S,SAAS,GAAG,IAAI1S,KAAK,GAAG,IAAIF,QAAQ,GAAG,KAAK1wL,EAAE0+C,QAAQhvC,QAAQ,OAAOg7J,OAAO,SAASsmC,QAAU,SAAS1gL,UAAY,OAAO2gL,KAAO,OAAOviL,OAAO,QAAQwiL,KAAK,UAAUC,OAAO,OAAOh4M,EAAEqB,QAAQ1B,EAAEK,EAAE2zB,UAAUzsB,EAAElH,EAAE4zB,OAAOl3B,EAAEsD,EAAE6zM,kBAAkB9sM,EAAE/G,EAAE0zB,SAAShsB,EAAE1H,EAAEuzB,SAASluB,EAAErF,EAAEi4M,SAASjxM,EAAEhH,EAAE6zB,YAAY7uB,EAAEhF,EAAE48B,SAAS3c,EAAEjgB,EAAEkzB,SAAS9rB,EAAEpH,EAAE4zM,OAAOtzM,EAAEN,EAAEk4M,QAAQ77M,EAAE2D,EAAE+B,WAAWuE,EAAEtG,EAAEm4M,YAAYjzM,EAAElF,EAAE2zM,SAASp2M,EAAE,qBAAsB,IAAIiK,IAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAOxH,GAAEqzC,IAAI,WAAWs9C,QAAQt9C,IAAI,UAAUnzB,IAAIlgB,EAAEwlD,OAAO3mD,MAAMmB,EAAE+J,aAAa/J,EAAEqgC,SAAS9iC,EAAE;AAAYyC,EAAEw2M,QAAQ,SAASj5M,EAAEqJ,GAAG,IAAIA,IAAIQ,EAAER,GAAG,MAAOrJ,EAAkC,KAAhC,GAAIyC,GAAEqH,OAAOmoB,KAAK5oB,GAAGD,EAAE3G,EAAEK,OAAasG,KAAIpJ,EAAEyC,EAAE2G,IAAIC,EAAE5G,EAAE2G,GAAI,OAAOpJ,MAAK0H,KAAKhJ,KAAKsB,EAAE,YAA2B,mBAAR6Z,QAAoBA,OAAoB,mBAAN4tB,MAAkBA,KAAoB,mBAARh6B,QAAoBA,aAAaotM,qBAAqB,GAAG7d,SAAS,GAAGl6J,SAAS,KAAKg4K,IAAI,SAAS96M,EAAEqJ,EAAE5G,IAAG,SAAUA,GAAG,GAAcI,IAAR7C,EAAE,MAAQA,EAAE,SAAQzB,EAAEyB,EAAE,MAAM+6M,YAAY/6M,EAAE,QAAQ+6M,UAAW1xM,GAAE8oB,QAAQhjB,UAAW,IAAIzM,IAAG,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAASA,GAAEgK,IAAI,SAAStD,GAAGC,EAAE8oB,QAAQhjB,QAAQ/F,GAAGpJ,EAAE6C,EAAE4J,KAAKhK,EAAE2G,EAAE,kBAAmB,IAAI1G,GAAEG,EAAE4J,KAAKhK,EAAE2G,EAAE,mBAAoB7K,GAAEmE,KAAK2G,EAAE8oB,QAAQhjB,QAAQ/F,GAAG4xM,YAAYh7M,EAAE0C,GAAGs4M,iBAAiBtzM,KAAKhJ,KAAK,oCAAoCu+L,GAAG,GAAGzyI,KAAK,KAAKywJ,IAAI,SAASj7M,EAAEqJ,EAAE5G,GAAG4G,EAAE8oB,SAAS3c,KAAK,QAAQrG,QAAQ,SAASuqF,YAAY,+BAA+BpzE,IAAI,mCAAmC40L,YAAYl3M,KAAK,MAAMsiB,IAAI,uCAAuC60L,QAAQ3lM,KAAK,UAAU8Q,IAAI,sBAAsB80L,UAAU,OAAO,MAAM,eAAeC,cAAc,sCAAsC,mBAAmB,sCAAsC,gCAAgC,qCAAqCC,WAAWt3M,KAAK,WAAWu3M,KAAKt/B,MAAM,eAAeu/B,IAAI,gBAAgBC,KAAK,oBAAoBC,SAAShhL,KAAK,WAAWihL,cAAc51D,WAAW,SAAS6uD,mBAAmB,SAASgH,SAAS,UAAUC,iBAAiBC,MAAM,SAASC,OAAO,QAAQC,IAAI,QAAQC,SAAS,UAAUC,UAAU,UAAUC,WAAW,SAASC,YAAY,SAAS1xJ,SAAS2xJ,QAAQ,cAAc14M,KAAK,gBAAgB24M,SAAS,4FAA4F,IAAI,MAOzitB,SAASt8M,GAAG,GAAG,gBAAiBmyB,UAAS,mBAAoBC,QAAOA,OAAOD,QAAQnyB,QAAS,IAAG,kBAAmBxB,SAAQA,OAAOkzB,IAAIlzB,UAAUwB,OAAO,CAAC,GAAIX,EAAE,oBAAoBoO,QAAOpO,EAAEoO,OAAO,mBAAoBoM,QAAOxa,EAAEwa,OAAO,mBAAoB4tB,QAAOpoC,EAAEooC,MAAMpoC,EAAEi9K,OAAOt8K,MAAM,WAAqC,MAAO,SAAUA,GAAEqJ,EAAE5G,EAAE2G,GAAG,QAAS7K,GAAEmE,EAAE4G,GAAG,IAAI7G,EAAEC,GAAG,CAAC,IAAI2G,EAAE3G,GAAG,CAAC,GAAIxD,GAAkB,kBAAT66B,UAAqBA,OAAQ,KAAIzwB,GAAGpK,EAAE,MAAOA,GAAEwD,GAAE,EAAI,IAAGG,EAAE,MAAOA,GAAEH,GAAE,EAAI,IAAIrD,GAAE,GAAIuO,OAAM,uBAAuBlL,EAAE,IAAK,MAAMrD,GAAEw3C,KAAK,mBAAmBx3C,EAAE,GAAIkD,GAAEE,EAAEC,IAAIyvB,WAAY9oB,GAAE3G,GAAG,GAAGgF,KAAKnF,EAAE4vB,QAAQ,SAASnyB,GAAG,GAAIyC,GAAE4G,EAAE3G,GAAG,GAAG1C,EAAG,OAAOzB,GAAEkE,EAAEA,EAAEzC,IAAIuC,EAAEA,EAAE4vB,QAAQnyB,EAAEqJ,EAAE5G,EAAE2G,GAAG,MAAO3G,GAAEC,GAAGyvB,QAAkD,IAAI,GAA1CtvB,GAAkB,kBAATk3B,UAAqBA,QAAgBr3B,EAAE,EAAEA,EAAE0G,EAAEtG,OAAOJ,IAAInE,EAAE6K,EAAE1G,GAAI,OAAOnE,KAAKi6H,GAAG,SAASz+F,EAAQ3H,EAAOD,IAC3xB,SAAWtY,GAoBT,QAAS0iM,GAAS/hL,EAAUpjB,GAC1B,IAAIA,EAAQuhJ,MACV,KAAM,IAAI/qJ,OAAM,uBAElBlP,MAAK0Y,QAAUA,EACf1Y,KAAK89M,SAAU,EACf99M,KAAK+9M,MAAQ/9M,KAAK+9M,MAAMl+L,KAAK7f,MAC7BA,KAAKg+M,KAAO,GAAI3tM,MAChBrQ,KAAK87B,SAAWA,EAChB97B,KAAKi+M,MAAQ,EACbj+M,KAAKk+M,YAAa,EAElBl+M,KAAK0Y,QAAUklK,EAAOl4K,QAClBy4M,eAAgB,EAChBC,SAAU,GACVC,KAAuBnjL,SAAjBxiB,EAAQ2lM,MAA4B3lM,EAAQ2lM,MACnDr+M,KAAK0Y,SAER1Y,KAAKs+M,UArCT,GAAI1gC,GAASviJ,EAAQ,MAEjB4P,EAAwB9vB,EAAO8vB,uBAC5B9vB,EAAOojM,0BACPpjM,EAAOqjM,6BACPrjM,EAAOsjM,yBACP,SAAS3iL,GAAY,MAAO3gB,GAAOlY,WAAW64B,EAAU,IAAO,KAElEqP,EAAuBhwB,EAAOgwB,sBAC3BhwB,EAAOujM,yBACPvjM,EAAOwjM,4BACPxjM,EAAOyjM,wBACP,SAAS3xM,GAAMwK,aAAaxK,GA8BjC4wM,GAASxyM,WAEPimB,MAAO,WACHtxB,KAAK89M,SAAU,EACf7yK,EAAsBjrC,KAAK+9M,OAC3B/9M,KAAK0Y,QAAQmmM,SAAW7+M,KAAK0Y,QAAQmmM,UACX,IAAvB7+M,KAAK0Y,QAAQuhJ,QACdj6J,KAAK89M,SAAU,IAIrBgB,UAAW,WACT,MAAO9+M,MAAK89M,SAGdtmM,KAAM,WACJxX,KAAKghI,QACLhhI,KAAK4pC,KAAK,GACV5pC,KAAK0Y,QAAQqmM,QAAU/+M,KAAK0Y,QAAQqmM,UAItCn1K,KAAM,SAASrpC,GACb,IAAKuN,UAAU1J,OAAQ,MAAOpE,MAAKi+M,KACnCj+M,MAAKi+M,MAAQ19M,CACb,IAAIoK,GAAI3K,KAAKi2B,MAAMj2B,KAAKgoI,OAAOhoI,KAAKi+M,OACpCj+M,MAAK87B,SAASnxB,IAGhBwV,OAAQ,WACFngB,KAAK89M,QACP99M,KAAKghI,QAELhhI,KAAKsxB,SAITgtL,QAAS,WAOP,MANAt+M,MAAKg/M,UAAYphC,EAAOqhC,KAAKnuL,OAAO9wB,KAAK0Y,QAAQylM,eAAgBn+M,KAAK0Y,QAAQylM,eAAiBn+M,KAAK0Y,QAAQwmM,mBAC5Gl/M,KAAKgoI,OAAShoI,KAAKg/M,UAAUpoL,SAC7B52B,KAAKi2B,MAAQ2nJ,EAAOqhC,KAAKnuL,OAAO,EAAG9wB,KAAK0Y,QAAQuhJ,OAChDj6J,KAAKm/M,SAAWn/M,KAAKi2B,MAAMW,SAC3B52B,KAAK4pC,KAAK5pC,KAAKi+M,OACfj+M,KAAK89M,QAAS99M,KAAKsxB,QAAStxB,KAAKghI,QAC1BhhI,MAGT4wB,SAAU,SAASrwB,GACjB,MAAKuN,WAAU1J,QACfpE,KAAK0Y,QAAQwmM,kBAAoB3+M,EAC7BP,KAAK4pC,OAASrpC,GAChBP,KAAK4pC,KAAK,GAEZ5pC,KAAKs+M,UACEt+M,MANwBA,KAAK0Y,QAAQwmM,mBAS9CjlD,MAAO,SAAS15J,GAEd,MADAP,MAAK0Y,QAAQuhJ,MAAQ15J,EACdP,KAAKs+M,WAGdltL,KAAM,SAASvxB,GACb,MAAwB,KAArBiO,UAAU1J,OAAqBpE,KAAKi2B,MAAMj2B,KAAKgoI,OAAOhoI,KAAKi+M,aAC9Dj+M,KAAKi+M,MAAQj+M,KAAKg/M,UAAUh/M,KAAKm/M,SAASt/M,MAG5CmhI,MAAO,WACLhhI,KAAK89M,SAAU,EACf3yK,EAAqBnrC,KAAK+9M,OAC1B/9M,KAAK0Y,QAAQ0mM,SAAWp/M,KAAK0Y,QAAQ0mM,WAGvCrB,MAAO,WACL,GAAIhoH,IAAM,GAAI1lF,MACV4pC,EAAwB,MAAf87C,EAAK/1F,KAAKg+M,IAGvB/jK,GAAQjqC,KAAK4kB,IAAI50B,KAAK0Y,QAAQ0lM,SAAUnkK,GACxCj6C,KAAKg+M,IAAMjoH,EACX/1F,KAAKi+M,OAAShkK,EACXj6C,KAAKoxB,QAAUpxB,KAAK0Y,QAAQuhJ,QACzBj6J,KAAK0Y,QAAQ2lM,KAKfr+M,KAAKi+M,MAAQ,GAHbj+M,KAAK4pC,KAAK5pC,KAAK0Y,QAAQwmM,mBACvBl/M,KAAKghI,UAKNhhI,KAAK89M,UACN99M,KAAK4pC,KAAK5pC,KAAKi+M,OACfhzK,EAAsBjrC,KAAK+9M,UAMnCrqL,EAAOD,QAAUoqL,IAEd70M,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,aACxHswM,KAAK,KAAKtlF,GAAG,SAAS1+F,EAAQ3H,EAAOD,GACxC,GAAI6rL,IACA7uM,QAAW,QACXlK,OACIk+L,WACIljM,IAAO,UACP+iM,gBAAiB,WACjBC,kBAAmB,+CACnBr2J,IAAO,sGACP5oC,MACI,MACA,WACA,WACA,SACA,SACA,UACA,UACA,WACA,WACA,MACA,SACA,aAIZy2C,OACIgpJ,eACIT,gBAAiB,IACjBh/L,KAAO,QACPi/L,kBAAmB,yBACnBr2J,IAAO,wIAEXu6J,uBACIlnM,IAAO,sBACP+D,KAAQ,QACRg/L,gBAAiB,yBACjBC,kBAAmB,aACnBr2J,IAAO,4CAEXw6J,uBACInnM,IAAO,sBACP+iM,gBAAiB,MACjBh/L,KAAO,SACPi/L,kBAAmB,0CACnBr2J,IAAO,gJAEXy6J,sBACIpnM,IAAO,qBACP+iM,gBAAiB,IACjBh/L,KAAO,SACPi/L,kBAAmB,GACnBr2J,IAAO,+MAEX06J,8BACIrnM,IAAO,6BACP+iM,gBAAiB,KACjBh/L,KAAO,SACPi/L,kBAAmB,iCACnBr2J,IAAO,iCAEX26J,gCACItnM,IAAO,+BACP+iM,gBAAiB,oBACjBh/L,KAAQ,SACRi/L,kBAAmB,8DACnBr2J,IAAO,sGAEX46J,0BACIvnM,IAAO,yBACP+iM,gBAAiB,OACjBh/L,KAAQ,SACRi/L,kBAAmB,6DACnBr2J,IAAO,iFAEX66J,4BACIxnM,IAAO,2BACP+iM,gBAAiB,SACjBh/L,MACE,cAEFi/L,kBAAmB,gCACnBr2J,IAAO,wHAGf2zJ,aACIx1K,KACIo4K,WACIljM,IAAO,UACP+iM,gBAAiB,WACjBC,kBAAmB,+CACnBr2J,IAAO,sGACP5oC,MACE,MACA,WACA,WACA,SACA,SACA,UACA,UACA,WACA,WACA,MACA,SACA,YAGN2N,SACI1R,IAAO,UACP+D,KAAQ,QACR4oC,IAAO,yIACPo2J,gBAAiB,EACjBC,kBAAmB,8FAG3Bj6F,OACE2vD,OACE14J,IAAO,cACP+D,KAAQ,QACRg/L,gBAAiB,EACjBC,kBAAmB,iBACnBr2J,IAAO,sDAGXiuB,SACIxI,MACIpyD,IAAO,eACP+D,KAAQ,QACRg/L,gBAAiB,sBACjBC,kBAAmB,8DACnBr2J,IAAO,qCAEXk3J,gBACI7jM,IAAO,kBACP+D,KAAQ,QACR4oC,IAAO,6BACPo2J,gBAAiB,EACjBC,kBAAmB,WAG3Bj/C,MACIjyF,QACI9xD,IAAO,aACP+iM,gBAAiB,gBACjBh/L,KAAQ,QACRi/L,kBAAmB,yDACnBr2J,IAAO,6BAEXs3J,gBACIjkM,IAAO,aACP+iM,gBAAiB,EACjBh/L,KAAQ,QACR4oC,IAAO,iCAEXu3J,kBACIlkM,IAAO,eACP+iM,gBAAiB,EACjBh/L,KAAQ,QACRi/L,kBAAmB,SACnBr2J,IAAO,yBAEXw3J,mBACInkM,IAAO,YACP+iM,gBAAiB,QACjBh/L,MACI,QACA,QACA,SAEJ4oC,IAAO,sCAEXy3J,kBACIpkM,IAAO,WACP+iM,gBAAiB,OACjBh/L,MACI,OACA,QACA,UAEJ4oC,IAAO,gCAGf8qB,SACIv2C,MACIlhB,IAAO,cACP2sC,IAAO,8GACPo2J,gBAAiB,GACjBC,kBAAmB,+CACnBj/L,KAAQ,OAEZ2N,SACI1R,IAAO,iBACP2sC,IAAO,oGACPo2J,gBAAiB,EACjBC,kBAAmB,mDACnBj/L,KAAQ,SAEZ8/L,gBACI7jM,IAAO,sBACP2sC,IAAO,iCACPo2J,gBAAiB,EACjBC,kBAAmB,SACnBj/L,KAAQ,SAEZ+tD,QACI9xD,IAAO,oBACP2sC,IAAO,iDACPo2J,gBAAiB,QACjBh/L,KAAQ,SAEZkgM,gBACIjkM,IAAO,oBACP2sC,IAAO,0IACP5oC,KAAQ,SAEZmgM,kBACIlkM,IAAO,sBACP+iM,gBAAiB,EACjBC,kBAAmB,SACnBr2J,IAAO,wBACP5oC,KAAQ,SAEZquD,MACIpyD,IAAO,cACP+iM,gBAAiB,OACjBp2J,IAAO,uCACP5oC,KAAQ,SAEZ8gM,eACI7kM,IAAO,cACP+D,MACI,YACA,WAEJg/L,gBAAiB,UACjBp2J,IAAO,oLAEVtsC,OACGL,IAAO,eACP+iM,gBAAiB,GACjBp2J,IAAO,8DACP5oC,KAAQ,UAGhB+pC,OACI5sB,MACIlhB,IAAO,aACP+D,KAAQ,MACRo/L,UAAY,EACZJ,gBAAiB,OACjBp2J,IAAO,mCAEXj7B,SACI1R,IAAO,gBACP+D,KAAQ,QACRg/L,gBAAiB,EACjBC,kBAAmB,eACnBr2J,IAAO,6DAInB+qH,QACI+vC,WAAe,IAAK,IAAK,KACzBC,cAAkB,IAAK,IAAK,KAC5BC,MAAU,EAAG,IAAK,KAClBC,YAAgB,IAAK,IAAK,KAC1BC,OAAW,IAAK,IAAK,KACrBC,OAAW,IAAK,IAAK,KACrBC,QAAY,IAAK,IAAK,KACtBC,OAAW,EAAG,EAAG,GACjBC,gBAAoB,IAAI,IAAI,KAC5BC,MAAU,EAAG,EAAG,KAChBC,YAAgB,IAAK,GAAI,KACzBC,OAAW,IAAK,GAAI,IACpBC,WAAe,IAAK,IAAK,KACzBC,WAAe,GAAI,IAAK,KACxBC,YAAgB,IAAK,IAAK,GAC1BC,WAAe,IAAK,IAAK,IACzBC,OAAW,IAAK,IAAK,IACrBC,gBAAoB,IAAK,IAAK,KAC9BC,UAAc,IAAK,IAAK,KACxBC,SAAa,IAAK,GAAI,IACtBC,MAAU,EAAG,IAAK,KAClBC,UAAc,EAAG,EAAG,KACpBC,UAAc,EAAG,IAAK,KACtBC,eAAmB,IAAK,IAAK,IAC7BC,UAAc,IAAK,IAAK,KACxBC,WAAe,EAAG,IAAK,GACvBC,UAAc,IAAK,IAAK,KACxBC,WAAe,IAAK,IAAK,KACzBC,aAAiB,IAAK,EAAG,KACzBC,gBAAoB,GAAI,IAAK,IAC7BC,YAAgB,IAAK,IAAK,GAC1BC,YAAgB,IAAK,GAAI,KACzBC,SAAa,IAAK,EAAG,GACrBC,YAAgB,IAAK,IAAK,KAC1BC,cAAkB,IAAK,IAAK,KAC5BC,eAAmB,GAAI,GAAI,KAC3BC,eAAmB,GAAI,GAAI,IAC3BC,eAAmB,EAAG,IAAK,KAC3BC,YAAgB,IAAK,EAAG,KACxBC,UAAc,IAAK,GAAI,KACvBC,aAAiB,EAAG,IAAK,KACzBC,SAAa,IAAK,IAAK,KACvBC,SAAa,IAAK,IAAK,KACvBC,YAAgB,GAAI,IAAK,KACzBC,WAAe,IAAK,GAAI,IACxBC,aAAiB,IAAK,IAAK,KAC3BC,aAAiB,GAAI,IAAK,IAC1BC,SAAa,IAAK,EAAG,KACrBC,WAAe,IAAK,IAAK,KACzBC,YAAgB,IAAK,IAAK,KAC1BC,MAAU,IAAK,IAAK,GACpBC,WAAe,IAAK,IAAK,IACzBC,MAAU,IAAK,IAAK,KACpB3Q,MAAU,IAAK,IAAK,KACpBF,OAAW,EAAG,IAAK,GACnB8Q,aAAiB,IAAK,IAAK,IAC3BC,UAAc,IAAK,IAAK,KACxBC,SAAa,IAAK,IAAK,KACvBC,WAAe,IAAK,GAAI,IACxBC,QAAY,GAAI,EAAG,KACnBC,OAAW,IAAK,IAAK,KACrBC,OAAW,IAAK,IAAK,KACrBC,UAAc,IAAK,IAAK,KACxBC,eAAmB,IAAK,IAAK,KAC7BC,WAAe,IAAK,IAAK,GACzBC,cAAkB,IAAK,IAAK,KAC5BC,WAAe,IAAK,IAAK,KACzBC,YAAgB,IAAK,IAAK,KAC1BC,WAAe,IAAK,IAAK,KACzBC,sBAA0B,IAAK,IAAK,KACpCC,WAAe,IAAK,IAAK,KACzBC,YAAgB,IAAK,IAAK,KAC1BC,WAAe,IAAK,IAAK,KACzBC,WAAe,IAAK,IAAK,KACzBC,aAAiB,IAAK,IAAK,KAC3BC,eAAmB,GAAI,IAAK,KAC5BC,cAAkB,IAAK,IAAK,KAC5BC,gBAAoB,IAAK,IAAK,KAC9BC,gBAAoB,IAAK,IAAK,KAC9BC,gBAAoB,IAAK,IAAK,KAC9BC,aAAiB,IAAK,IAAK,KAC3BC,MAAU,EAAG,IAAK,GAClBC,WAAe,GAAI,IAAK,IACxBC,OAAW,IAAK,IAAK,KACrBC,SAAa,IAAK,EAAG,KACrBC,QAAY,IAAK,EAAG,GACpBC,kBAAsB,IAAK,IAAK,KAChCC,YAAgB,EAAG,EAAG,KACtBC,cAAkB,IAAK,GAAI,KAC3BC,cAAkB,IAAK,IAAK,KAC5BC,gBAAoB,GAAI,IAAK,KAC7BC,iBAAqB,IAAK,IAAK,KAC/BC,mBAAuB,EAAG,IAAK,KAC/BC,iBAAqB,GAAI,IAAK,KAC9BC,iBAAqB,IAAK,GAAI,KAC9BC,cAAkB,GAAI,GAAI,KAC1BC,WAAe,IAAK,IAAK,KACzBC,WAAe,IAAK,IAAK,KACzBC,UAAc,IAAK,IAAK,KACxBC,aAAiB,IAAK,IAAK,KAC3BC,MAAU,EAAG,EAAG,KAChBC,SAAa,IAAK,IAAK,KACvBC,OAAW,IAAK,IAAK,GACrBC,WAAe,IAAK,IAAK,IACzBC,QAAY,IAAK,IAAK,GACtBC,WAAe,IAAK,GAAI,GACxBC,QAAY,IAAK,IAAK,KACtBC,eAAmB,IAAK,IAAK,KAC7BC,WAAe,IAAK,IAAK,KACzBC,eAAmB,IAAK,IAAK,KAC7BC,eAAmB,IAAK,IAAK,KAC7BC,YAAgB,IAAK,IAAK,KAC1BC,WAAe,IAAK,IAAK,KACzBC,MAAU,IAAK,IAAK,IACpBC,MAAU,IAAK,IAAK,KACpBC,MAAU,IAAK,IAAK,KACpBC,YAAgB,IAAK,IAAK,KAC1BC,QAAY,IAAK,EAAG,KACpB3U,KAAS,IAAK,EAAG,GACjB4U,WAAe,IAAK,IAAK,KACzBC,WAAe,GAAI,IAAK,KACxBC,aAAiB,IAAK,GAAI,IAC1BC,QAAY,IAAK,IAAK,KACtBC,YAAgB,IAAK,IAAK,IAC1BC,UAAc,GAAI,IAAK,IACvBC,UAAc,IAAK,IAAK,KACxBC,QAAY,IAAK,GAAI,IACrBC,QAAY,IAAK,IAAK,KACtBC,SAAa,IAAK,IAAK,KACvBC,WAAe,IAAK,GAAI,KACxBC,WAAe,IAAK,IAAK,KACzBC,WAAe,IAAK,IAAK,KACzBC,MAAU,IAAK,IAAK,KACpBC,aAAiB,EAAG,IAAK,KACzBC,WAAe,GAAI,IAAK,KACxB95J,KAAS,IAAK,IAAK,KACnB+5J,MAAU,EAAG,IAAK,KAClBC,SAAa,IAAK,IAAK,KACvBC,QAAY,IAAK,GAAI,IACrBC,WAAe,GAAI,IAAK,KACxBC,QAAY,IAAK,IAAK,KACtBC,OAAW,IAAK,IAAK,KACrBC,OAAW,IAAK,IAAK,KACrBC,YAAgB,IAAK,IAAK,KAC1BrW,QAAY,IAAK,IAAK,GACtBsW,aAAiB,IAAK,IAAK,IAC3BpoJ,aAAiB,EAAG,EAAG,EAAG,IAIlC91B,GAAOD,SACLhjB,SACE0zL,OAAQmb,EACRC,QAASD,SAIP9gB,GAAG,SAASnjK,EAAQ3H,EAAOD,IACjC,SAAWtY,GAMX,QAASgyI,MAFT,GAAIowB,GAAQpiK,EAAOoiK,OAASliJ,EAAQ,QAIpC8xH,GAAY9hJ,aAGZ8hJ,EAAYqyD,iBAAmB,SAAStjC,GACtC,GAAI//E,KACJ,KAAK+/E,EAAW,MAAO//E,EACvB,IAAIl/D,IACF8nK,cAAe,cACf2D,sBAAuB,QACvBC,qBAAsB,aACtBC,6BAA8B,oBAC9BC,+BAAgC,UAChCC,yBAA0B,SAC1BC,2BAA4B,mBAE9B,KAAK,GAAI5kM,KAAK84B,GAAO,CACnB,GAAIpyB,GAAIqxK,EAAUpsK,KAAK3L,EACvB,IAAU+2B,SAANrwB,EAAiB,CACnB,GAAIrK,GAAIy8B,EAAM94B,EACdg4F,GAAK37F,GAAKqK,GAGd,MAAOsxF,IAGTgxD,EAAYsyD,oBAAsB,SAASxvC,GACzC,GAAI+yB,IAAS,GAAIzlB,GAAMse,YAAap4J,OAAOwsI,GACvCiM,EAAY8mB,EAAOW,WAAY7sL,KAAM,OACzC,OAAOq2I,GAAYqyD,iBAAiBtjC,IAGtCxoJ,EAAOD,QAAQ05H,YAAcA,IAE1BnkJ,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,aACxHwuK,MAAQriJ,SAAYg/F,GAAG,SAAS7+F,EAAQ3H,EAAOD,IAClD,SAAWtY,GAqCT,QAASzV,KAGL,IAAK,GAFDg6M,GAAO5xM,UACPtN,EAAIk/M,EAAK,GACJv7M,EAAI,EAAGA,EAAIu7M,EAAKt7M,SAAUD,EAAG,CAClC,GAAI1D,GAAIi/M,EAAKv7M,EACb,KAAK,GAAIE,KAAK5D,GACVD,EAAE6D,GAAK5D,EAAE4D,GAGjB,MAAO7D,GAGX,QAASoM,GAAMpM,GACb,MAAOkF,MAAWlF,GAGpB,QAASsF,GAAWnF,GAClB,MAAmB,kBAALA,KAAmB,EAGnC,QAASyE,GAAQ0C,GACb,MAAOA,IAAyB,gBAATA,IAA8D,kBAAzCsD,OAAOC,UAAUC,SAAStC,KAAKlB,GAY/E,QAAS63M,KACP,QAASz9M,SAASR,cAAc,UAGlC,QAASwJ,KACL,MAA4B,mBAAdpB,WAA4BA,UAAUoB,UAAY,GA1EpE,GAAIwQ,KACJA,GAAMiE,GAAK,SAASu5D,EAAKp9C,GACrB,GAAIv4B,GAAKvD,KAAK4/M,eAAiB5/M,KAAK4/M,mBAChC/7M,EAAIN,EAAG21E,KAAS31E,EAAG21E,MAEvB,OADAr1E,GAAE8H,KAAKmwB,GACA97B,MAGX0b,EAAMlN,QAAU,SAAS0qE,GAErB,IAAI,GADAh4E,GAAIlB,KAAK4/M,gBAAkB5/M,KAAK4/M,eAAe1mI,GAC3C/0E,EAAI,EAAGjD,GAAKiD,EAAIjD,EAAEkD,SAAUD,EAChCjD,EAAEiD,GAAGvB,MAAM5C,KAAM0L,MAAML,UAAUxI,MAAMmG,KAAK8E,UAAW,GAE3D,OAAO9N,OAGX0b,EAAMjS,KAAOiS,EAAMlN,QAEnBkN,EAAMjN,IAAM,SAAUyqE,EAAKp9C,GACvB,GAAI56B,GAAIlB,KAAK4/M,gBAAkB5/M,KAAK4/M,eAAe1mI,EACnD,IAAIh4E,IAAM46B,EAER,aADO97B,MAAK4/M,eAAe1mI,GACpBl5E,IAGV,KAAI,GADAwB,MACI2C,EAAI,EAAGjD,GAAKiD,EAAIjD,EAAEkD,SAAUD,EAC/BjD,EAAEiD,KAAO23B,GAAUt6B,EAAOmK,KAAKxH,EAEpC,MAA6B+2B,UAAtB/2B,EAAI3C,EAAOsH,QAAsB5H,EAAEiN,OAAOhK,EAAG,EACrD,OAAOnE,OAGT0b,EAAMksI,UAAY,SAAS1uE,GACzB,MAAQl5E,MAAK4/M,gBAAkB5/M,KAAK4/M,eAAe1mI,OA4BrD,IAAI/sC,IACF4sB,WAA6C,mBAA1B59C,GAAoB,WAAoBA,EAAO49C,WAAartD,MAC/Em0M,kBAA2D,mBAAjC1kM,GAA2B,kBAAoBA,EAAO0kM,kBAAmBn0M,MACnGo0M,YAA+C,mBAA3B3kM,GAAqB,YAAoBA,EAAO2kM,YAAcp0M,MAClFq0M,WAA6C,mBAA1B5kM,GAAoB,WAAoBA,EAAO4kM,WAAar0M,MAC/Es0M,WAA6C,mBAA1B7kM,GAAoB,WAAoBA,EAAO6kM,WAAYt0M,OAW5Eu0M,GACFC,kBAAmBh1M,IAAYe,QAAQ,aAAc,GAAMf,IAAYe,QAAQ,cAAe,EAGlGynB,GAAOD,SACH/X,MAAOA,EACPhW,OAAQA,EACRkH,MAAOA,EACP9G,WAAYA,EACZV,QAASA,EACT+mC,MAAOA,EACPwzK,mBAAoBA,EACpBM,MAAOA,KAGRj3M,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,gBACrHorH,GAAG,SAAS9+F,EAAQ3H,EAAOD,GAgCjC,QAAS0sL,GAAYC,GAgGnB,QAASC,GAAeC,EAAS3mH,GAC/B,MAAO,YAAaA,EAAK/2F,MAAM09M,IA1FjCtgN,KAAKugN,UAAW,EAOhBvgN,KAAKwgN,aAAc,EAOnBxgN,KAAKygN,UAAYN,EAAYO,mBAQ7B1gN,KAAK2gN,eAAiB,KAStB3gN,KAAK4gN,eAAiB,KAQtB5gN,KAAK6gN,SAAW,KAQhB7gN,KAAK8gN,gBAAkB,KAOvB9gN,KAAK+gN,gBAAkB,KAQvB/gN,KAAKghN,cAAe,EAQpBhhN,KAAKihN,yBAA2B,IAEhC,IAAI52J,GAASnoD,SAASR,cAAc,SACpC2oD,GAAO9jD,MAAMsP,SAAW,WACxBw0C,EAAO9jD,MAAMuP,IAAM,EACnBu0C,EAAO9jD,MAAMkjB,KAAO,EACpB4gC,EAAO9jD,MAAM4uD,cAAgB,OAM7Bn1D,KAAKqqD,OAASA,EAgBdrqD,KAAKkhN,oBAAsBb,EAAergN,KAAMA,KAAKmhN,mBAOrDnhN,KAAKohN,gBAAkBf,EAAergN,KAAMA,KAAKqhN,SAOjDrhN,KAAKshN,uBAAyBjB,EAAergN,KAAMA,KAAKuhN,SAGpDnB,GACFpgN,KAAKsqC,WAAW81K,GAIpBD,EAAY90M,UAAY,GAAI8vF,QAAOC,KAAKwkF,YAQxCugC,EAAYO,mBAAqB,eASjCP,EAAYqB,eAAiB,WAS3B,IAAK,GARD3yK,GAAM3sC,SAASR,cAAc,OAC7B+/M,GACF,YACA,kBACA,eACA,aACA,eAEOt9M,EAAI,EAAGA,EAAIs9M,EAAer9M,OAAQD,IAAK,CAC9C,GAAIyT,GAAO6pM,EAAet9M,EAC1B,IAAwB+2B,SAApB2T,EAAItoC,MAAMqR,GACZ,MAAOA,GAKX,MAAO6pM,GAAe,MAWxBtB,EAAY90M,UAAUq2M,kBAClB3yM,OAAOk8B,uBACPl8B,OAAOyvM,6BACPzvM,OAAOwvM,0BACPxvM,OAAO4yM,wBACP5yM,OAAO0vM,yBACP,SAAS3iL,GACP,MAAO/sB,QAAO9L,WAAW64B,EAAU,IAAO,KAYhDqkL,EAAY90M,UAAUu2M,iBAClB7yM,OAAOo8B,sBACPp8B,OAAO4vM,4BACP5vM,OAAO2vM,yBACP3vM,OAAO8yM,uBACP9yM,OAAO6vM,wBACP,SAASkD,KAMb3B,EAAY90M,UAAUi/B,WAAa,SAAS5xB,GAClBwiB,SAApBxiB,EAAQ8W,SACVxvB,KAAK+hN,WAAWrpM,EAAQ8W,SAGD0L,SAArBxiB,EAAQspM,UACVhiN,KAAKiiN,QAAQvpM,EAAQspM,UAGO9mL,SAA1BxiB,EAAQwpM,eACVliN,KAAKmiN,iBAAiBzpM,EAAQwpM,eAGFhnL,SAA1BxiB,EAAQ0pM,eACVpiN,KAAKqiN,iBAAiB3pM,EAAQ0pM,eAG7B1pM,EAAQ4pM,eACTtiN,KAAKsiN,aAAe5pM,EAAQ4pM,eAWhCnC,EAAY90M,UAAU02M,WAAa,SAASvyL,GAC1CxvB,KAAKwgN,cAAgBhxL,EAEjBxvB,KAAKwgN,aACPxgN,KAAKuiN,kBAOTpC,EAAY90M,UAAUm3M,WAAa,WACjC,MAAOxiN,MAAKwgN,aAQdL,EAAY90M,UAAUo3M,YAAc,SAAST,GAC3ChiN,KAAKygN,UAAYuB,EAEjBhiN,KAAK0iN,YAQPvC,EAAY90M,UAAUknC,WAAa,SAAUt/B,GAC3CjT,KAAKqqD,OAAO9jD,MAAM0M,QAAUA,GAQ9BktM,EAAY90M,UAAUs3M,WAAa,WACjC,MAAO3iN,MAAKqqD,OAAO9jD,MAAM0M,SAM3BktM,EAAY90M,UAAUu3M,YAAc,WAClC,MAAO5iN,MAAKygN,WASdN,EAAY90M,UAAUq3M,SAAW,WAC/B,GAAK1iN,KAAKugN,SAAV,CAKA,GAAItgK,GAAQjgD,KAAKg/C,UACjB,KAAKiB,EAAMjgD,KAAKygN,WACd,KAAM,IAAIvxM,OAAM,IAAMlP,KAAKygN,UAAY,iCAGzCxgK,GAAMjgD,KAAKygN,WAAW3+M,YAAY9B,KAAKqqD,UASzC81J,EAAY90M,UAAUg3M,iBAAmB,SAASQ,GAChD7iN,KAAK4gN,eAAiBiC,GASxB1C,EAAY90M,UAAU82M,iBAAmB,SAASW,GAChD9iN,KAAK2gN,eAAiBmC,GAMxB3C,EAAY90M,UAAU02C,MAAQ,WACxB/hD,KAAKugN,WAITvgN,KAAKugN,UAAW,EAChBvgN,KAAK0iN,WAEL1iN,KAAK+gN,gBAAkB5lH,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAK+iN,SACtD,SAAU/iN,KAAKohN,iBACnBphN,KAAK8gN,gBAAkB3lH,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAK+iN,SACtD,iBAAkB/iN,KAAKkhN,qBAE3BlhN,KAAKqhN,UACLrhN,KAAKmhN,oBACLnhN,KAAKsiN,cAAgBtiN,KAAKsiN,iBAM5BnC,EAAY90M,UAAUmxC,SAAW,WAC1Bx8C,KAAKugN,WAIVvgN,KAAKugN,UAAW,EAChBvgN,KAAK6gN,SAAW,KAGhB7gN,KAAKqqD,OAAO24J,cAAczgN,YAAYvC,KAAKqqD,QACvCrqD,KAAK8gN,kBACP3lH,OAAOC,KAAK9yF,MAAMq4D,eAAe3gE,KAAK8gN,iBACtC9gN,KAAK8gN,gBAAkB,MAErB9gN,KAAK+gN,kBACP5lH,OAAOC,KAAK9yF,MAAMq4D,eAAe3gE,KAAK+gN,iBACtC/gN,KAAK+gN,gBAAkB,MAIrB/gN,KAAKihN,2BACPjhN,KAAK4hN,iBAAiB54M,KAAK+F,OAAQ/O,KAAKihN,0BACxCjhN,KAAKihN,yBAA2B,QASpCd,EAAY90M,UAAUg2M,QAAU,WAK9B,GAAKrhN,KAAKugN,SAAV,CAIA,GAAIvyM,GAAMhO,KAAK+iN,SACXnhN,EAAQoM,EAAIstF,SAASp1F,YACrBrE,EAASmM,EAAIstF,SAASn1F,aACtB88M,EAAWjjN,KAAKqqD,OAAOzoD,MACvBshN,EAAYljN,KAAKqqD,OAAOxoD,MAGxBohN,KAAarhN,GAASshN,IAAcrhN,IACtC7B,KAAKqqD,OAAOzoD,MAAQA,EACpB5B,KAAKqqD,OAAOxoD,OAASA,EACrB7B,KAAKqqD,OAAO9jD,MAAM3E,MAAQA,EAAQ,KAClC5B,KAAKqqD,OAAO9jD,MAAM1E,OAASA,EAAS,KAEpC7B,KAAKghN,cAAe,EACpBhhN,KAAKuiN,oBAOTpC,EAAY90M,UAAUw0K,KAAO,WAC3B7/K,KAAKmhN,qBASPhB,EAAY90M,UAAU81M,kBAAoB,WAKxC,GAAI1wK,GAASzwC,KAAK+iN,SAASnoK,WAC3B56C,MAAK6gN,SAAW,GAAI1lH,QAAOC,KAAKnnD,OAAOxD,EAAO0F,eAAejC,MACzDzD,EAAOyF,eAAe/B,MAI1B,IAAI0D,GAAa73C,KAAK+/K,gBAClBojC,EAAatrK,EAAWurK,qBAAqBpjN,KAAK6gN,UAIlDhwD,EAAyC,KAA9B,GAAK7wJ,KAAK+iN,SAASrpK,UAC9B1pC,MAAKkgC,IAAIizK,EAAWp4M,GAAK8lJ,IAC3BsyD,EAAWp4M,GAAK8lJ,GAElB7wJ,KAAKqqD,OAAO9jD,MAAM45M,EAAYqB,gBAAkB,aAC5CxxM,KAAKo6B,MAAM+4K,EAAWp4M,GAAK,MAAQiF,KAAKo6B,MAAM+4K,EAAWl4M,GAAK,MAElEjL,KAAKuiN,kBASPpC,EAAY90M,UAAUk2M,QAAU,WAC9BvhN,KAAKihN,yBAA2B,KAE3BjhN,KAAKugN,WAINvgN,KAAKwgN,aACPxgN,KAAKuiN,iBAGHviN,KAAKghN,cAAgBhhN,KAAK4gN,iBAC5B5gN,KAAKghN,cAAe,EACpBhhN,KAAK4gN,kBAGH5gN,KAAK2gN,gBACP3gN,KAAK2gN,mBASTR,EAAY90M,UAAUg4M,WAAa,WACjC,MAAOrjN,MAAK6gN,UAOdV,EAAY90M,UAAUk3M,eAAiB,WACjCviN,KAAKugN,WAAavgN,KAAKihN,2BACzBjhN,KAAKihN,yBACDjhN,KAAK0hN,kBAAkB14M,KAAK+F,OAAQ/O,KAAKshN,0BAIjD5tL,EAAOD,QAAU0sL,OAEX/lF,GAAG,SAAS/+F,EAAQ3H,EAAOD,GAOjC,QAAS6vL,GAAgBC,EAAc9/K,GACrCzjC,KAAK6jD,SAAW,GAAIs3C,QAAOC,KAAKS,KAAK,IAAK,KAC1C77F,KAAKq7C,QAAU,GACfr7C,KAAK8W,KAAO,UACZ9W,KAAKo0C,IAAM,oBACXp0C,KAAK+lD,SACL/lD,KAAKujN,aAAeA,EACpBvjN,KAAKyjC,OAASA,EACTA,IACDzjC,KAAKyjC,OAAS8/K,GAMpBD,EAAgBj4M,UAAUm4M,mBAAqB,SAAU1nH,EAAOzmF,EAAM3M,GAGpE,GAAI2hD,GAAS3hD,EAAchH,cAAc,UACrC+hN,EAAa/6M,EAAchH,cAAc,SAC7C2oD,GAAO9jD,MAAMgP,OAASkuM,EAAWl9M,MAAMgP,OAAS,OAChD80C,EAAO9jD,MAAMwjB,OAAS05L,EAAWl9M,MAAMwjB,OAAS,IAChDsgC,EAAO9jD,MAAM+O,QAAUmuM,EAAWl9M,MAAM+O,QAAU,GAGlD,IAAI6mB,GAAMkuB,EAAOiM,WAAW,KAC5Bn6B,GAAIv6B,MAAQyoD,EAAOzoD,MAAQ5B,KAAK6jD,SAASjiD,MACzCu6B,EAAIt6B,OAASwoD,EAAOxoD,OAAS7B,KAAK6jD,SAAShiD,MAE3C,IAAI6hN,GAAUD,EAAWntJ,WAAW,KACpCmtJ,GAAW7hN,MAAQ8hN,EAAQ9hN,MAAQ5B,KAAK6jD,SAASjiD,MACjD6hN,EAAW5hN,OAAS6hN,EAAQ7hN,OAAS7B,KAAK6jD,SAAShiD,MAGnD,IAAI8hN,GAAU7nH,EAAM/wF,EAAI,IAAM+wF,EAAM7wF,EAAI,IAAMoK,CAe9C,OAbAg1C,GAAOz3C,aAAa,KAAM+wM,GAC1BF,EAAW7wM,aAAa,KAAM+wM,GAE1BA,IAAW3jN,MAAK+lD,aACT/lD,MAAK+lD,MAAM49J,GAEtB3jN,KAAK+lD,MAAM49J,IAAYt5J,OAAOA,EAAQluB,IAAIA,EAAKsnL,WAAWA,EAAYC,QAAQA,EAAS5nH,MAAMA,EAAOzmF,KAAKA,EAAMuuM,WAAW,MAItH5jN,KAAKujN,cACLvjN,KAAKujN,aAAavjN,KAAK+lD,MAAM49J,GAAU7nH,EAAOzmF,GAE3Cg1C,GAKTi5J,EAAgBj4M,UAAU5I,KAAO,SAAUq5B,GACzC,IAAK,GAAInxB,KAAK3K,MAAK+lD,MAAO,CACtB,GAAII,GAAOnmD,KAAK+lD,MAAMp7C,EACtBmxB,GAASqqB,KAIfm9J,EAAgBj4M,UAAUw4M,SAAW,WACnC,IAAK,GAAIl5M,KAAK3K,MAAK+lD,MAAO,CACtB,GAAII,GAAOnmD,KAAK+lD,MAAMp7C,EACtB3K,MAAKujN,aAAap9J,EAAMA,EAAK21C,MAAO31C,EAAK9wC,QAI/CiuM,EAAgBj4M,UAAUy4M,YAAc,SAAU39J,GAChDnmD,KAAKyjC,OAAO0iB,EAAMA,EAAK21C,MAAO31C,EAAK9wC,OAGrCiuM,EAAgBj4M,UAAUu6C,OAAS,WACjC,IAAK,GAAIj7C,KAAK3K,MAAK+lD,MAAO,CACtB,GAAII,GAAOnmD,KAAK+lD,MAAMp7C,EACtB3K,MAAKyjC,OAAO0iB,EAAMA,EAAK21C,MAAO31C,EAAK9wC,QAKzCiuM,EAAgBj4M,UAAU0rF,QAAU,SAAU+E,EAAOzmF,EAAM3M,GACzD,MAAO1I,MAAKwjN,mBAAmB1nH,EAAOzmF,EAAM3M,IAG9C46M,EAAgBj4M,UAAU0wF,YAAc,SAAU51C,GAChD,GAAIl5C,GAAKk5C,EAAKx8C,aAAa,YACpB3J,MAAK+lD,MAAM94C,IAGpBymB,EAAOD,QAAU6vL,OAEXjpF,GAAG,SAASh/F,EAAQ3H,EAAOD,GACjC,QAASswL,MAITA,EAAgB14M,WAEd24M,gBAAiB,SAASh2M,EAAK6pC,GAC7B73C,KAAKskD,KAAOt2C,EACZhO,KAAKikN,YAAcpsK,EACnB73C,KAAKgmD,UACLhmD,KAAKkkN,iBACLlkN,KAAKomD,aAAe,EACpBpmD,KAAKmkN,aAAenkN,KAAKmkN,aAAatkM,KAAK7f,MAC3CA,KAAKokN,cACLpkN,KAAKokN,WAAWz4M,KACdwvF,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKskD,KAAM,UAAWtkD,KAAKmkN,cACzDhpH,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAKskD,KAAM,eAAgBtkD,KAAKmkN,eAEhEnkN,KAAK6jD,SAAW,IAChB7jD,KAAKmkN,gBAGPE,kBAAmB,WACjBrkN,KAAKokN,WAAWnxL,QAAQ,SAAUslD,GAChC4iB,OAAOC,KAAK9yF,MAAMq4D,eAAe4X,KAGnCv4E,KAAKskN,gBAGPA,aAAc,WACZ,IAAK,GAAI1qL,KAAO55B,MAAKgmD,OACnBhmD,KAAKynD,YAAY7tB,IAIrB2qL,aAAc,WACZvkN,KAAKskN,eACLtkN,KAAKmkN,gBAGPA,aAAc,WAEV,GAAKnkN,KAAKskD,KAAV,CAEA,GAAI7T,GAASzwC,KAAKskD,KAAK1J,YACnBvlC,EAAOrV,KAAKskD,KAAK5K,UACjBmK,EAAW7jD,KAAK6jD,SAChB2gK,EAAS,GAAKnvM,EAEd6sC,EAAU,GAAIi5C,QAAOC,KAAKnnD,OAC5BxD,EAAO0F,eAAejC,MACtBzD,EAAOyF,eAAe/B,OAGpBswK,EAAc,GAAItpH,QAAOC,KAAKnnD,OAChCxD,EAAOyF,eAAehC,MACtBzD,EAAO0F,eAAehC,MAIxBn0C,MAAKikN,YAAcjkN,KAAKskD,KAAKy7H,eAC7B,IAAIojC,GAAanjN,KAAKikN,YAAYS,kBAAkBxiK,GAChDyiK,EAAiB3kN,KAAKikN,YAAYS,kBAAkBD,GAGpDG,EAAc,GAAIzpH,QAAOC,KAAKhsD,MAC1Bp/B,KAAK8nB,MAAMqrL,EAAWp4M,EAAEy5M,EAAQ3gK,GAChC7zC,KAAK8nB,MAAMqrL,EAAWl4M,EAAEu5M,EAAQ3gK,IACpCghK,EAAc,GAAI1pH,QAAOC,KAAKhsD,MAC1Bp/B,KAAK8nB,MAAM6sL,EAAe55M,EAAEy5M,EAAQ3gK,GACpC7zC,KAAK8nB,MAAM6sL,EAAe15M,EAAEu5M,EAAQ3gK,GAG5C7jD,MAAK4mD,uBAAuBg+J,EAAaC,GACzC7kN,KAAK6mD,kBAAkB+9J,EAAaC,KAGxCh+J,kBAAmB,SAAU+9J,EAAaC,GACtC,GAAIr9J,GAAMz8C,EAAGE,EAAG2uB,EAEZvkB,EAAOrV,KAAKskD,KAAK5K,SACrB,KAAK9f,IAAO55B,MAAKgmD,OACThmD,KAAKgmD,OAAOx6C,eAAeouB,KAC3B4tB,EAAO5tB,EAAIp1B,MAAM,KACjBuG,EAAIqK,SAASoyC,EAAK,GAAI,IACtBv8C,EAAImK,SAASoyC,EAAK,GAAI,IACtBp9C,EAAIgL,SAASoyC,EAAK,GAAI,KAGlBp9C,IAAMiL,GAAQtK,EAAI65M,EAAY75M,GAAKA,EAAI85M,EAAY95M,GAAKE,EAAI25M,EAAY35M,GAAKA,EAAI45M,EAAY55M,IAC7FjL,KAAKynD,YAAY7tB,KAMjC6tB,YAAa,SAAU7tB,GACnB55B,KAAK8kN,eAAiB9kN,KAAK8kN,cAAc9kN,KAAKgmD,OAAOpsB,UAC9C55B,MAAKgmD,OAAOpsB,SACZ55B,MAAKkkN,cAActqL,IAG9BmrL,SAAU,SAAS99J,GACjB,MAAOA,GAAUl8C,EAAI,IAAMk8C,EAAUh8C,EAAI,IAAMg8C,EAAU5xC,MAG3DyxC,oBAAqB,SAAUG,GAC3B,GAAI5iD,GAAIrE,KAAK+kN,SAAS99J,EACtB,SAAS5iD,IAAKrE,MAAKgmD,QAAa3hD,IAAKrE,MAAKkkN,gBAG9Cp7J,YAAa,SAAS7B,EAAW+9J,GAC/BhlN,KAAKomD,cACL,IAAI/hD,GAAI4iD,EAAUl8C,EAAI,IAAMk8C,EAAUh8C,EAAI,IAAMg8C,EAAU5xC,IAC1DrV,MAAKgmD,OAAO3hD,GAAK2gN,QACVhlN,MAAKkkN,cAAc7/M,GACD,IAAtBrE,KAAKomD,cACNpmD,KAAKilN,eAAiBjlN,KAAKilN,iBAI/BC,WAAY,SAAUj+J,GACpB,GAAIE,GAAS,GAAKnnD,KAAKskD,KAAK5K,SAE5BuN,IACEl8C,GAAKk8C,EAAUl8C,EAAIo8C,EAASA,GAASA,EACrCl8C,EAAGg8C,EAAUh8C,GAGfg8C,EAAY,GAAIk0C,QAAOC,KAAKhsD,MAC1B6X,EAAUl8C,EAAI/K,KAAK6jD,SACnBoD,EAAUh8C,EAAIjL,KAAK6jD,SAGrB,IAAIpT,GAASzwC,KAAKskD,KAAK1J,YACnBsH,EAAU,GAAIi5C,QAAOC,KAAKnnD,OAC5BxD,EAAO0F,eAAejC,MACtBzD,EAAOyF,eAAe/B,OAGpBgvK,EAAanjN,KAAKskD,KAAKy7H,gBAAgB2kC,kBAAkBxiK,EAK7D,OAJA7sC,MAAQ,GAAKrV,KAAKskD,KAAK5K,UACvBypK,EAAWp4M,EAAIo4M,EAAWp4M,EAAIsK,KAC9B8tM,EAAWl4M,EAAIk4M,EAAWl4M,EAAIoK,KAEvB,GAAI8lF,QAAOC,KAAKhsD,MACrB6X,EAAUl8C,EAAIo4M,EAAWp4M,EACzBk8C,EAAUh8C,EAAIk4M,EAAWl4M,IAI7B27C,uBAAwB,SAAUg+J,EAAaC,GAyB3C,QAASM,GAAmB91K,GAC1B,GAAIuT,GAAKvT,EAAMtkC,EAAImuC,EAAOnuC,EACtB+3C,EAAKzT,EAAMpkC,EAAIiuC,EAAOjuC,CAC1B,OAAO23C,GAAKA,EAAKE,EAAKA,EA3BxB,GAOIl/C,GAAGO,EAAGkrC,EAPNl4B,KACA+hC,EAAS,GAAIiiD,QAAOC,KAAKhsD,MACW,IAAjCw1K,EAAY75M,EAAI85M,EAAY95M,GACK,IAAjC65M,EAAY35M,EAAI45M,EAAY55M,IAE/BoK,EAAOrV,KAAKskD,KAAK5K,SAIrB,KAAK91C,EAAIghN,EAAY35M,EAAGrH,GAAKihN,EAAY55M,EAAGrH,IACxC,IAAKO,EAAIygN,EAAY75M,EAAG5G,GAAK0gN,EAAY95M,EAAG5G,IACxCkrC,EAAQ,GAAI8rD,QAAOC,KAAKhsD,MAAOjrC,EAAGP,GAClCyrC,EAAMh6B,KAAOA,EAETrV,KAAK8mD,oBAAoBzX,IACzBl4B,EAAMxL,KAAK0jC,EAKvB,IAAI0X,GAAc5vC,EAAM/S,MAExB,IAAoB,IAAhB2iD,EAAJ,CAeE,IANF5vC,EAAMjJ,KAAK,SAAU1N,EAAGC,GACpB,MAAO0kN,GAAmB3kN,GAAK2kN,EAAmB1kN,KAGtDT,KAAKomD,cAAgBW,EAEd5iD,EAAI,EAAGA,EAAI4iD,EAAa5iD,IAAK,CAChC,GAAIwG,GAAIwM,EAAMhT,GACVE,EAAIrE,KAAK+kN,SAASp6M,EACtB3K,MAAKkkN,cAAc7/M,GAAKsG,EAEpB3K,KAAKolN,aACPplN,KAAKolN,YAAYz6M,GAIvB3K,KAAKqlN,gBAAkBrlN,KAAKqlN,oBAKlC3xL,EAAOD,QAAUswL,OAEXzpF,GAAG,SAASj/F,EAAQ3H,EAAOD,GACjC,GAAI+tJ,KACkB,oBAAXrmF,SAAiD,mBAAhBA,QAAOC,OAC/ComF,EAAQnmJ,EAAQ,YAChBmmJ,EAAMuiC,gBAAkB1oL,EAAQ,6BAEpC3H,EAAOD,QAAU+tJ,IAEd8jC,2BAA2B,EAAEC,WAAW,IAAIhrF,GAAG,SAASl/F,EAAQ3H,EAAOD,IAC1E,SAAWtY,GAOX,QAASqqM,GAAiB9sM,GACxB,GAAIqwB,GAAO/oC,IACX,KAAK49K,EAAO+hC,qBACV,KAAM,IAAIzwM,OAAM,qCAElBlP,MAAK45B,IAAM,EACX55B,KAAKgjM,OAAS,KACdhjM,KAAKmK,OAAQ,EACbnK,KAAK0Y,QAAUklK,EAAOl4K,UAAWgT,GACjC1Y,KAAK0Y,QAAUklK,EAAOl4K,QACpB2pJ,SAAU,YACVo2D,SAAU,QACV1wH,WAAY,EACZklE,MAAO,IACPnwI,SAAS,GACR9pB,KAAK0Y,SACJA,EAAQu3J,UACV2N,EAAOl4K,OAAO1F,KAAK0Y,QACfklK,EAAOl6B,OAAOyJ,YAAYsyD,oBAAoB/mM,EAAQu3J,WAG5DjwK,KAAK6pB,QAAU7pB,KAAK0Y,QAAQoR,QAE5B9pB,KAAK0lN,SAAW,GAAI9nC,GAAOigC,SAAS,SAASj0K,GAC3C,GAAIvlC,GAAW,EAAPulC,CACLb,GAAKnP,MAAQv1B,GACd0kC,EAAK48K,OAAOthN,IAEbu5K,EAAOhxK,MAAM5M,KAAK0Y,UAErB1Y,KAAK4lN,KAAO5lN,KAAK0lN,SAASp0L,MAAMzR,KAAK7f,KAAK0lN,UAC1C1lN,KAAKwX,KAAOxX,KAAK0lN,SAASluM,KAAKqI,KAAK7f,KAAK0lN,UACzC1lN,KAAKghI,MAAQhhI,KAAK0lN,SAAS1kF,MAAMnhH,KAAK7f,KAAK0lN,UAC3C1lN,KAAKmgB,OAASngB,KAAK0lN,SAASvlM,OAAON,KAAK7f,KAAK0lN,UAC7C1lN,KAAK6lN,YAAc7lN,KAAK0lN,SAAS90L,SAAS/Q,KAAK7f,KAAK0lN,UACpD1lN,KAAK8+M,UAAY9+M,KAAK0lN,SAAS5G,UAAUj/L,KAAK7f,KAAK0lN,UAGnDvF,EAAYn3M,KAAKhJ,MACfgO,IAAKhO,KAAK0Y,QAAQ1K,IAElBwhB,SAAS,EACT0yL,cAAeliN,KAAKyjC,OACpB6+K,aAActiN,KAAK+8B,aAgTvB,QAAS+oL,GAAsBptM,GAC7B1Y,KAAK0Y,QAAUklK,EAAOl4K,UAAWgT,GACjC4qM,EAAgBt6M,KAAKhJ,KAAMA,KAAK6nD,UAAUhoC,KAAK7f,MAAOA,KAAKkqD,SAASrqC,KAAK7f,OACzEA,KAAK+8B,WAAWrkB,GApWlB,GAAI6kK,GAAQpiK,EAAOoiK,OAASliJ,EAAQ,SAChCuiJ,EAASviJ,EAAQ,OACjB8kL,EAAc9kL,EAAQ,iBACtBioL,EAAkBjoL,EAAQ,uBAC1B0oL,EAAkB1oL,EAAQ,2BAqD9BmqL,GAAiBn6M,UAAYuyK,EAAOl4K,UAClCy6M,EAAY90M,UACZ04M,EAAgB14M,UAChBuyK,EAAOliK,OAGPqqM,WACEC,QAAWpoC,EAAOmoC,UAAU35L,KAC5B65L,aAAgBroC,EAAOmoC,UAAUG,UACjCC,UAAavoC,EAAOmoC,UAAUI,WAGhCC,WACE/2K,MAASuuI,EAAO6nC,SAASr2K,MACzBi3K,MAASzoC,EAAO6nC,SAAS9oJ,WAG3B5/B,WAAY,WACV,GAAIgM,GAAO/oC,IAEXA,MAAKolN,YAAcplN,KAAKolN,YAAYvlM,KAAK7f,MAEzCA,KAAK0Y,QAAQvO,MAAQ,WACnB4+B,EAAKt/B,KAAK,iBACRgnC,OAAQ1H,EAAKsmH,SAASz0G,cAExB7R,EAAK28K,SAASzrD,MAAMlxH,EAAKsmH,SAASi3D,YAClCv9K,EAAK28K,SAASpH,UACdv1K,EAAKt/B,KAAK,gBACRwwJ,MAAOlxH,EAAKsmH,SAASi3D,aAEvBv9K,EAAK48K,OAAO58K,EAAKnP,MAGnB55B,KAAKqvJ,SAAW,GAAIrvJ,MAAK+lN,UAAU/lN,KAAK0Y,QAAQ22I,UAAUrvJ,KAAK0Y,SAC/D1Y,KAAKylN,SAAW,GAAIzlN,MAAKomN,UAAUpmN,KAAK0Y,QAAQ+sM,UAAUzlN,KAAKumN,YAAavmN,KAAK0Y,SACjF1Y,KAAKylN,SAAS/sM,QAAQ8tM,cAAgBxmN,KAAK0Y,QAAQ8tM,cAGnDxmN,KAAKymN,eAAiBtrH,OAAOC,KAAK9yF,MAAM63D,YAAYngE,KAAK0Y,QAAQ1K,IAAK,eAAgB,WACpF+6B,EAAK08K,UAAY18K,EAAK08K,SAASiB,qBAGjC1mN,KAAKgkN,gBAAgBhkN,KAAK0Y,QAAQ1K,IAAKhO,KAAK+/K,iBAExC//K,KAAKgjM,QACPhjM,KAAKylN,SAASkB,UAAU3mN,KAAKgjM,SAKjCvzK,KAAM,WACJ,MAAGzvB,MAAK6pB,OAAe7pB,MACvBA,KAAKghI,QACLhhI,KAAKs9B,QACLt9B,KAAK6pB,QAAS,EACP7pB,OAGTuvB,KAAM,WACJ,MAAIvvB,MAAK6pB,QACT7pB,KAAK6pB,QAAS,EACd7pB,KAAK4lN,OACsB,IAAvB5lN,KAAK0Y,QAAQuhJ,OACfj6J,KAAK4lD,SAEA5lD,MANiBA,MAS1B2wK,OAAQ,SAASZ,GACf,GAAI/vK,KAAKqvJ,SAAS32I,QAAQoqI,UAAW,KAAM,IAAI5zI,OAAM,0CACrD,KAAKlP,KAAKqvJ,WAAarvJ,KAAKqvJ,SAASshB,OACnC,KAAM,IAAIzhK,OAAM,qCAIlB,OAFAlP,MAAKqvJ,SAASshB,OAAOZ,GACrB/vK,KAAKukN,eACEvkN,MAGT4mN,aAAc,SAASrmN,GACrBP,KAAKylN,UAAYzlN,KAAKylN,SAASmB,aAAarmN,GAC5CP,KAAK4lD,UAGPihK,SAAU,SAAS5sD,GACjBj6J,KAAKqvJ,UAAYrvJ,KAAKqvJ,SAASw3D,SAAS5sD,GACxCj6J,KAAK0lN,UAAY1lN,KAAK0lN,SAASzrD,MAAMA,GACrCj6J,KAAKukN,gBAGPuC,UAAW,SAAShgC,EAAQigC,GAC1B/mN,KAAKqvJ,UAAYrvJ,KAAKqvJ,SAASy3D,UAAUhgC,EAAQigC,GACjD/mN,KAAKukN,gBAGPyC,cAAe,WACb,MAAOhnN,MAAKqvJ,UAAYrvJ,KAAKqvJ,SAAS43D,cAGxCV,UAAW,WACT,MAAOvmN,MAAKqqD,QAId+6J,YAAa,SAASz6M,GACpB,GAAIo+B,GAAO/oC,IACXA,MAAKqvJ,SAAS63D,YAAYv8M,EAAGA,EAAE0K,KAAM,SAAS2vM,GAExCr6M,EAAE0K,OAAS0zB,EAAKrwB,QAAQ1K,IAAI0rC,YAChC3Q,EAAK+f,YAAYn+C,EAAGq6M,GAChBA,GACFj8K,EAAK6c,aAKXtoB,MAAO,WACL,GAAI+sB,GAASrqD,KAAKqqD,MAClBA,GAAOzoD,MAAQyoD,EAAOzoD,OAQxB6hC,OAAQ,WACN,IAAGzjC,KAAK6pB,OAAR,CACA,GAAIlf,GAAGw7C,EAAM50B,EACT84B,EAASrqD,KAAKqqD,MAClBrqD,MAAKylN,SAAS0B,aACd,IAAIhrL,GAAMkuB,EAAOiM,WAAW,KAG5B,KAAI3rD,IAAK3K,MAAKgmD,OACZG,EAAOnmD,KAAKgmD,OAAOr7C,GACfw7C,IACF50B,EAAMvxB,KAAKklN,WAAW/+J,EAAK21C,OAC3B3/D,EAAIirL,aAAa,EAAG,EAAG,EAAG,EAAG71L,EAAIxmB,EAAGwmB,EAAItmB,GACxCjL,KAAKylN,SAAS4B,WAAWlhK,EAAMnmD,KAAK45B,KAGxC55B,MAAKylN,SAAS6B,iBAGhBC,oBAAqB,SAASn2L,GAC5B,GAAIo2L,KACUxnN,MAAK0Y,QAAQq8E,YAAc,IAAI/0F,KAAK0Y,QAAQq8E,WAAa,EACvE,KAAI,GAAIpqF,KAAK3K,MAAKgmD,OAAQ,CACxB,GAAIG,GAAOnmD,KAAKgmD,OAAOr7C,EACvB68M,GAAYA,EAAU7kN,OAAO3C,KAAKylN,SAAS8B,oBAAoBphK,EAAM/0B,IAEvE,MAAOo2L,IAQT7B,OAAQ,SAAS/rL,GACf55B,KAAK45B,IAAMA,EACX55B,KAAK0lN,SAASt0L,KAAKwI,GACnB55B,KAAK4lD,SACL5lD,KAAKyJ,KAAK,eAAiBmgC,KAAM5pC,KAAKsQ,UAAW8gB,KAAMpxB,KAAK45B,OAO9DiyJ,QAAS,SAASjiJ,GAChB,GAAY1O,SAAT0O,GAAsC1O,SAAhB0O,EAAKxlC,OAC5B,KAAM,IAAI8K,OAAM,8BAElBlP,MAAK2lN,OAAO/7K,IASd69K,WAAY,SAASr2L,GACnB,IAAKpxB,KAAKqvJ,SAAU,MAAO,EAC3B,IAAIx3H,GAAQ73B,KAAKqvJ,SAAS43D,aACtBr9K,EAAO/R,EAAMvG,OAASuG,EAAM5pB,IAAM4pB,EAAMvG,QAAQF,EAAKpxB,KAAKqvJ,SAASi3D,WACvE,OAAO,IAAIj2M,MAAKu5B,IAGlB89K,WAAY,SAAStyI,GAEnB,GADyB,cAAdA,KAAsBA,EAAYA,EAAU9kE,YAClDtQ,KAAKqvJ,SAAU,MAAO,EAC3B,IAAIx3H,GAAQ73B,KAAKqvJ,SAAS43D,aACtB71L,EAAQpxB,KAAKqvJ,SAASi3D,YAAclxI,EAAYv9C,EAAMvG,QAAWuG,EAAM5pB,IAAM4pB,EAAMvG,MACvF,OAAOF,IAGTu6J,QAAS,WACP,MAAO3rL,MAAK45B,KAOdtpB,QAAS,WACP,MAAOtQ,MAAKynN,WAAWznN,KAAK45B,MAM9Bg3I,YAAa,SAASX,GACpB,GAAIjwK,KAAKqvJ,UAAYrvJ,KAAKqvJ,SAAS32I,QAAQoqI,UAAW,KAAM,IAAI5zI,OAAM,4CACtE,IAAI8zL,IAAS,GAAIzlB,GAAMse,YAAap4J,OAAOwsI,EAC3CjwK,MAAKgjM,OAASA,EACVhjM,KAAKylN,UACPzlN,KAAKylN,SAASkB,UAAU3jB,EAI1B,IAAItqL,GAAUklK,EAAOl6B,OAAOyJ,YAAYqyD,iBAAiBxc,EAAOW,WAAY7sL,KAAM,QAalF,OAZA9W,MAAKqvJ,UAAYrvJ,KAAKqvJ,SAASuhB,aAAe5wK,KAAKqvJ,SAASuhB,YAAYX,GACrEjwK,KAAKqvJ,UAAYrvJ,KAAKqvJ,SAAS/kH,WAAW5xB,IAC3C1Y,KAAKukN,eAEP3mC,EAAOl4K,OAAO1F,KAAK0Y,QAASA,GAGxBA,EAAQwmM,mBACVl/M,KAAK0lN,SAAS90L,SAASlY,EAAQwmM,mBAGjCl/M,KAAK4lD,SACE5lD,MAGT4lD,OAAQ,WACN5lD,KAAKuiN,kBAGP/lK,SAAU,WACRx8C,KAAKyJ,KAAK,UACV02M,EAAY90M,UAAUmxC,SAASxzC,KAAKhJ,MACpCA,KAAK0lN,SAASluM,OACdxX,KAAKqkN,oBACLlpH,OAAOC,KAAK9yF,MAAMq4D,eAAe3gE,KAAKymN,iBAGxCkB,eAAgB,SAAS58M,EAAGE,EAAGmmB,GAC7BA,EAAgB8J,SAAT9J,EAAqBpxB,KAAK45B,IAAKxI,CACtC,IAAIzmB,GAAGw7C,EAAM50B,EAAmBq2L,EAAIC,EAAlB//M,EAAQ,IAC1B,KAAI6C,IAAK3K,MAAKgmD,OAQZ,GAPAG,EAAOnmD,KAAKgmD,OAAOr7C,GACnB4mB,EAAMvxB,KAAKklN,WAAW/+J,EAAK21C,OAC3B8rH,EAAK78M,EAAIwmB,EAAIxmB,EACb88M,EAAK58M,EAAIsmB,EAAItmB,EACT28M,GAAM,GAAKC,GAAM,GAAKD,EAAK5nN,KAAKylN,SAASqC,WAAaD,GAAM7nN,KAAKylN,SAASqC,YAC5EhgN,EAAQ9H,KAAKylN,SAASsC,YAAY5hK,EAAM/0B,EAAMw2L,EAAIC,IAEtC,OAAV//M,EACF,MAAOA,EAGX,OAAO,OAETkgN,gBAAiB,SAASj9M,EAAGE,EAAGH,EAAGnH,GACjC,GAAIskN,GAAKl9M,EAAID,EAAGo9M,EAAKj9M,EAAItH,EACrBwkN,EAAM,CACV,KAAIC,GAAKn9M,EAAGA,EAAEi9M,EAAIj9M,GAAGjL,KAAK0Y,QAAQq8E,WAChC,IAAIszH,GAAKt9M,EAAGA,EAAEk9M,EAAIl9M,GAAG/K,KAAK0Y,QAAQq8E,WAAW,CAC3C,GAAIuzH,GAAYtoN,KAAK2nN,eAAeU,GAAGD,GACvC,IAAIE,EAAU,CACZ,GAAI3iM,GAAK2iM,EAAUz+J,KACf0+J,EAAOvoN,KAAK+/K,gBACZyoC,EAAKD,EAAKvoC,2BAA2B,GAAI7kF,QAAOC,KAAKnnD,OAAOtuB,EAAG,GAAGuuB,IAAKvuB,EAAG,GAAGyvB,KAC9EozK,GAAGz9M,EAAIk9M,GAAMO,EAAGv9M,EAAIi9M,IACrBC,GAAOG,EAAUxgN,QAKzB,MAAOqgN,IAGT1jN,MAAO,SAAUq3B,GAEf,MADA97B,MAAK0Y,QAAQ8tM,cAAgB1qL,EACtB97B,QAaX8lN,EAAsBz6M,UAAYuyK,EAAOl4K,UAAW49M,EAAgBj4M,WAElE06M,WACEC,QAAWpoC,EAAOmoC,UAAU35L,KAC5B65L,aAAgBroC,EAAOmoC,UAAUG,WAGnCE,WACE/2K,MAASuuI,EAAO6nC,SAASr2K,MACzBi3K,MAASzoC,EAAO6nC,SAAS9oJ,WAG3B5/B,WAAY,SAASrkB,GAEnB1Y,KAAK45B,IAAM,EAEX55B,KAAK0Y,QAAQ+sM,SAAWzlN,KAAK0Y,QAAQ+sM,UAAY;AACjDzlN,KAAK0Y,QAAQ22I,SAAWrvJ,KAAK0Y,QAAQ22I,UAAY,UAEjDrvJ,KAAKqvJ,SAAW,GAAIrvJ,MAAK+lN,UAAU/lN,KAAK0Y,QAAQ22I,UAAU32I,GAC1D1Y,KAAKylN,SAAW,GAAIzlN,MAAKomN,UAAUpmN,KAAK0Y,QAAQ+sM,UAAU,KAAM/sM,IAIlEowC,YAAa,SAAS3C,EAAM6+J,GAC1B7+J,EAAK39C,KAAOw8M,EACZhlN,KAAKkqD,SAAS/D,IAGhB0B,UAAW,SAAS1B,EAAM21C,EAAOzmF,GAC/B,GAAI0zB,GAAO/oC,KACPmnD,EAAQ,GAAK9xC,EAEbozM,GACF19M,GAAK+wF,EAAM/wF,EAAIo8C,EAASA,GAASA,EACjCl8C,EAAG6wF,EAAM7wF,EAGXjL,MAAKqvJ,SAAS63D,YAAYuB,EAAcpzM,EAAM,SAAS2vM,GACrDj8K,EAAK+f,YAAY3C,EAAM6+J,MAI3B96J,SAAU,SAAU/D,GAClB,GAAIkE,GAASlE,EAAKkE,MAClB,IAAIlE,EAAK39C,KAAT,CACA6hD,EAAOzoD,MAAQyoD,EAAOzoD,MAEtB5B,KAAKylN,SAASiD,UAAUr+J,EAExB,IAAIklD,GAAQvvG,KAAKylN,SAASkD,WAAWxiK,EAAK39C,KAAMxI,KAAK45B,IACrD55B,MAAKylN,SAASmD,gBAAgBr5G,EAAO,EAAG,KAG1Co2G,OAAQ,SAAS/rL,GACf55B,KAAK45B,IAAMA,EACX55B,KAAK4lD,UAMPgrH,YAAa,SAASX,GACpB,IAAKjwK,KAAKylN,SAAU,KAAM,IAAIv2M,OAAM,wBACpC,OAAOlP,MAAKylN,SAAS70C,YAAYX,MAKrCv8I,EAAOD,SACHqyL,sBAAuBA,EACvBN,iBAAkBA,KAGnBx8M,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,aACxH85M,MAAM,GAAGC,gBAAgB,EAAEC,sBAAsB,EAAEzD,2BAA2B,EAAE/nC,MAAQriJ,SAAY8+F,IAAI,SAAS3+F,EAAQ3H,EAAOD,GACnIC,EAAOD,QAAU4H,EAAQ,UAEzB3H,EAAOD,QAAQoqL,SAAWxiL,EAAQ,cAClC3H,EAAOD,QAAQu1L,mBAAqB3tL,EAAQ,wBAC5C3H,EAAOD,QAAQiwH,OAASroH,EAAQ,YAChC3H,EAAOD,QAAQwrL,KAAO5jL,EAAQ,UAC9B3H,EAAOD,QAAQuvB,SAAW3nB,EAAQ,cAClC3H,EAAOD,QAAQw1L,IAAM5tL,EAAQ,aAC7B3H,EAAOD,QAAQgyL,SAAWpqL,EAAQ,cAClC3H,EAAOD,QAAQsyL,UAAY1qL,EAAQ,cAEnCA,EAAQ,YAER,IAAImmJ,GAAQnmJ,EAAQ,UACpB3H,GAAOD,QAAQswL,gBAAkBviC,EAAMuiC,gBACvCrwL,EAAOD,QAAQ+xL,iBAAmBhkC,EAAMgkC,iBACxC9xL,EAAOD,QAAQqyL,sBAAwBtkC,EAAMskC,wBAE1CoD,aAAa,EAAEC,uBAAuB,EAAEC,WAAW,EAAEC,SAAS,EAAEC,UAAU,EAAEC,YAAY,GAAGC,SAAS,GAAGC,aAAa,GAAGC,aAAa,GAAGntB,aAAa,GAAGotB,YAAY,KAAK1vF,IAAI,SAAS5+F,EAAQ3H,EAAOD,GACvM4H,EAAQ,8BAMRj7B,EAAE+/M,YAAc//M,EAAEmrC,MAAM7lC,QAEtBmmC,UAAWzrC,EAAE8rC,MAAMrQ,OAAQz7B,EAAE8rC,MAAM09K,YAEnClxM,SACIsjC,QAAS,EACTX,QAAS,GACTwI,SAAU,IACVC,WAAY,MACZC,aAAc,GACdC,YAAa,GACbC,WAAY,EACZhxC,QAAS,EACTixC,qBAAsB9jD,EAAE2uC,QAAQzB,OAChC6W,eAAgB/jD,EAAE2uC,QAAQzB,OAC1Bu8K,YAAY,EACZ3tK,eAAe,GAGnBnf,WAAY,SAAUrkB,GAEpBA,EAAUA,MAEV1Y,KAAKyjC,OAASzjC,KAAKyjC,OAAO5jB,KAAK7f,MAC/BI,EAAE+oC,KAAKmB,WAAWtqC,KAAM0Y,GACxB1Y,KAAK8pN,QAAU9pN,KAAK+pN,gBAEhB/pN,KAAK0Y,QAAQwjC,gBACfl8C,KAAKgqN,YAAchqN,KAAK+pN,iBAE1B/pN,KAAK82D,KAAO92D,KAAK8pN,QAAQxzJ,WAAW,MACpCt2D,KAAKiqN,uBAAwB,EAC7BjqN,KAAKirC,sBAAwBl8B,OAAOk8B,uBAAyBl8B,OAAOwvM,0BACxCxvM,OAAOyvM,6BAA+BzvM,OAAO0vM,yBAA2B,SAAS3iL,GAC7E,MAAO/sB,QAAO9L,WAAW64B,EAAU,IAAO,KAE1E97B,KAAKmrC,qBAAuBp8B,OAAOo8B,sBAAwBp8B,OAAO2vM,yBACtC3vM,OAAO4vM,4BAA8B5vM,OAAO6vM,wBAA0B,SAAS3xM,GAAMwK,aAAaxK,KAGhI88M,cAAe,WACb,GAAI1/J,EACJA,GAASnoD,SAASR,cAAc,UAChC2oD,EAAO9jD,MAAMsP,SAAW,WACxBw0C,EAAO9jD,MAAMuP,IAAM,EACnBu0C,EAAO9jD,MAAMkjB,KAAO,EACpB4gC,EAAO9jD,MAAM4uD,cAAgB,OAC7B9K,EAAO9jD,MAAM2iB,OAASlpB,KAAK0Y,QAAQwQ,QAAU,CAC7C,IAAI5V,GAAY,wBAKhB,OAJItT,MAAK0Y,QAAQwjC,gBACf5oC,GAAa,0BAEf+2C,EAAOz3C,aAAa,QAASU,GACtB+2C,GAGTtI,MAAO,SAAU/zC,GACfhO,KAAKskD,KAAOt2C,CAKZ,IAAIsyC,GAAWtgD,KAAKskD,KAAKrF,OAAOqB,SAC5BhD,EAAal9C,EAAEoxC,QAAQzR,OAAO,MAAO,gBACzCud,GAAWx7C,YAAY9B,KAAK8pN,SACxB9pN,KAAK0Y,QAAQwjC,gBACfoB,EAAWx7C,YAAY9B,KAAKgqN,aAC5BhqN,KAAKgqN,YAAYzjN,MAAMyO,QAAU,QAEnCsrC,EAASx+C,YAAYw7C,GAErBt9C,KAAKs9C,WAAaA,EAIlBtvC,EAAI0zC,SAASmiB,WAAWlkD,GAAG,UAAW,WACpC,GAAIve,GAAI4M,EAAI0zC,SAASmiB,UACrBzjE,GAAEoxC,QAAQ2B,YAAYnzC,KAAK8pN,SAAW/+M,GAAI3J,EAAE0hE,QAAQ/3D,EAAGE,GAAI7J,EAAE0hE,QAAQ73D,KACpEjL,MAEHgO,EAAI2R,IAAK8kC,UAAazkD,KAAKm/B,QAAUn/B,MACrCgO,EAAI2R,GAAG,OAAQ3f,KAAK4lD,OAAQ5lD,MAC5BgO,EAAI2R,GAAG,SAAU3f,KAAKm/B,OAAQn/B,MAE1BA,KAAK0Y,QAAQwjC,eACfluC,EAAI2R,IACFilC,SAAY5kD,KAAK6kD,aACjBC,QAAW9kD,KAAK+kD,aAChBL,QAAW1kD,KAAKm/B,QACfn/B,MAGFA,KAAK0Y,QAAQmxM,YACd7pN,KAAKgkN,kBAGPhkN,KAAKm/B,UAGP0lB,aAAc,SAAUvjD,GACjBtB,KAAKuzE,aACNvzE,KAAKuzE,YAAa,EAEtB,IAAI22I,GAAOlqN,KAAKgqN,WAEhBE,GAAKtoN,MAAQ5B,KAAK8pN,QAAQloN,MAC1BsoN,EAAKroN,OAAS7B,KAAK8pN,QAAQjoN,MAG3B,IAAI0vB,GAAMvxB,KAAK8pN,QAAQz2K,eAAkBtoC,EAAG,EAAGE,EAAG,EAClDi/M,GAAK5zJ,WAAW,MAAM6zJ,UAAUnqN,KAAK8pN,QAAS,EAAG,GAEjD1pN,EAAEoxC,QAAQ2B,YAAY+2K,EAAM9pN,EAAEoxC,QAAQ+B,YAAYvzC,KAAK8pN,UAGvD9pN,KAAK8pN,QAAQvjN,MAAMyO,QAAU,OAC7Bk1M,EAAK3jN,MAAMyO,QAAU,OACrB,IAAIhH,GAAMhO,KAAKskD,KAEX7J,GADQzsC,EAAIosC,aAAa94C,EAAE+T,MACfrH,EAAIg0C,uBAAuBh0C,EAAIqiC,YAAa/uC,EAAE+T,KAAM/T,EAAE43C,SAClE8D,EAAYhvC,EAAIg0C,uBAAuB1gD,EAAE43C,OAAQ53C,EAAE+T,KAAM/T,EAAE43C,QAE3DlG,GACFjoC,EAAI0vC,EAAU1vC,EAAIiyC,EAAUjyC,EAAIwmB,EAAIxmB,EACpCE,EAAIwvC,EAAUxvC,EAAI+xC,EAAU/xC,EAAIsmB,EAAItmB,GAGlC+a,EAAKkkM,EACL94K,EAAYhxC,EAAEoxC,QAAQ8B,SAC1BrwC,YAAW,WACT+iB,EAAGzf,MAAM6qC,GAAahxC,EAAEoxC,QAAQqB,mBAAmBG,GAAU,UAAY1xC,EAAE+vC,MAAQ,MAClF,IAGL0T,aAAc,WACZ/kD,KAAKuzE,YAAa,EAClBvzE,KAAK8pN,QAAQvjN,MAAMyO,QAAU,QAC7BhV,KAAKgqN,YAAYzjN,MAAMyO,QAAU,OACjChV,KAAKgqN,YAAYzjN,MAAMnG,EAAEoxC,QAAQ8B,WAAa,IAGhDizK,UAAW,WACT,MAAOvmN,MAAK8pN,SAGdxkK,eAAgB,WACd,MAAOtlD,MAAK0Y,QAAQsrC,aAGtB67H,KAAM,WACJ,MAAO7/K,MAAKm/B,UAGdqd,SAAU,SAAUxuC,GAClBhO,KAAKs9C,WAAWj0C,WAAW9G,YAAYvC,KAAKs9C,YAC5CtvC,EAAIS,KACFg2C,UAAazkD,KAAKm/B,OAClBm3D,KAAQt2F,KAAKoqN,QACb1lK,QAAW1kD,KAAKm/B,OAChBsiG,OAAUzhI,KAAKm/B,OACfylB,SAAY5kD,KAAK6kD,aACjBC,QAAW9kD,KAAK+kD,cACf/kD,OAGLilD,MAAO,SAAUj3C,GAEf,MADAA,GAAI8tC,SAAS97C,MACNA,MAGTyE,MAAO,SAAUq3B,GAEf,MADA97B,MAAKqvJ,SAAS32I,QAAQ8tM,cAAgB1qL,EAC/B97B,MAGTuyC,WAAY,SAAUt/B,GAGpB,MAFAjT,MAAK0Y,QAAQzF,QAAUA,EACvBjT,KAAKulD,iBACEvlD,MAGTwlD,UAAW,SAASt8B,GAClBlpB,KAAK8pN,QAAQvjN,MAAM2iB,OAASA,EACxBlpB,KAAK0Y,QAAQwjC,gBACfl8C,KAAKgqN,YAAYzjN,MAAM2iB,OAASA,IAIpCg8B,aAAc,WACZ,MAAOllD,OAGTqlD,YAAa,WACX,MAAOrlD,OAGTm/B,OAAQ,WACN,GAAI9xB,GAAOrN,KAAKskD,KAAK9T,SACrBxwC,MAAK8pN,QAAQloN,MAAQyL,EAAKtC,EAC1B/K,KAAK8pN,QAAQjoN,OAASwL,EAAKpC,CAG3B,IAAIsmB,GAAMnxB,EAAEoxC,QAAQ+B,YAAYvzC,KAAKskD,KAAKtF,WAAWmB,QACjD5uB,IACFnxB,EAAEoxC,QAAQ2B,YAAYnzC,KAAK8pN,SAAW/+M,GAAIwmB,EAAIxmB,EAAGE,GAAIsmB,EAAItmB,IAE3DjL,KAAKqqN,WACLrqN,KAAKoqN,WAUP7kK,eAAgB,aAEhB6kK,QAAS,WACHpqN,KAAKiqN,uBAAyB,GAChCjqN,KAAKmrC,qBAAqBniC,KAAK+F,OAAQ/O,KAAKiqN,uBAE9CjqN,KAAKiqN,sBAAwBjqN,KAAKirC,sBAAsBjiC,KAAK+F,OAAQ/O,KAAKyjC,SAI5EmiB,OAAQ,SAAS0kK,GACf,GAAIC,GAAcnqN,EAAEoxC,QAAQ+B,YAAYvzC,KAAKskD,KAAKtF,WAAWmB,QACzDoqK,IACFnqN,EAAEoxC,QAAQ2B,YAAYnzC,KAAK8pN,SAAW/+M,GAAIw/M,EAAYx/M,EAAGE,GAAIs/M,EAAYt/M,IAEvEq/M,EACFtqN,KAAKyjC,SAELzjC,KAAKoqN,WAITC,SAAU,aAGV5mL,OAAQ,WACN,KAAM,IAAIv0B,OAAM,8CAKjBs7M,6BAA6B,KAAK3X,IAAI,SAASx3K,EAAQ3H,EAAOD,GAChD,mBAANrzB,IACPi7B,EAAQ,cAGTkqL,WAAW,KAAKnS,IAAI,SAAS/3K,EAAQ3H,EAAOD,GAC/CrzB,EAAE8rC,MAAM09K,YAEN5F,gBAAiB,WACfhkN,KAAKgmD,UACLhmD,KAAKkkN,iBACLlkN,KAAKomD,aAAe,EACpBpmD,KAAKskD,KAAK3kC,IACN+kC,QAAW1kD,KAAKmkN,cACjBnkN,MACHA,KAAKmkN,gBAGPE,kBAAmB,WACjBrkN,KAAKskD,KAAK71C,KACNi2C,QAAW1kD,KAAKmkN,cACjBnkN,MACHA,KAAKskN,gBAGPH,aAAc,WAEV,GAAKnkN,KAAKskD,KAAV,CAEA,GAAI7T,GAASzwC,KAAKskD,KAAKvG,iBACnB1oC,EAAOrV,KAAKskD,KAAK5K,UACjBmK,EAAW7jD,KAAK0Y,QAAQmrC,QAE5B,MAAIxuC,EAAOrV,KAAK0Y,QAAQ2iC,SAAWhmC,EAAOrV,KAAK0Y,QAAQsjC,SAAvD,CAIA,GAAI4oK,GAAc,GAAIxkN,GAAEgvC,MAChBp/B,KAAK8nB,MAAM2Y,EAAO7b,IAAI7pB,EAAI84C,GAC1B7zC,KAAK8nB,MAAM2Y,EAAO7b,IAAI3pB,EAAI44C,IAE9BghK,EAAc,GAAIzkN,GAAEgvC,MAChBp/B,KAAK8nB,MAAM2Y,EAAOxgC,IAAIlF,EAAI84C,GAC1B7zC,KAAK8nB,MAAM2Y,EAAOxgC,IAAIhF,EAAI44C,IAE9B8C,EAAa,GAAIvmD,GAAE+vC,OAAOy0K,EAAaC,EAE3C7kN,MAAK4mD,uBAAuBD,GAC5B3mD,KAAK6mD,kBAAkBF,MAG3B29J,aAAc,SAAU7zK,GACpB,IAAK,GAAI7W,KAAO55B,MAAKgmD,OACnBhmD,KAAKynD,YAAY7tB,IAIvB2qL,aAAc,WACZvkN,KAAKskN,eACLtkN,KAAKmkN,gBAGPt9J,kBAAmB,SAAUpW,GACzB,GAAI+W,GAAMz8C,EAAGE,EAAGb,EAAGwvB,EACfvkB,EAAOrV,KAAKskD,KAAK5K,SAErB,KAAK9f,IAAO55B,MAAKgmD,OACThmD,KAAKgmD,OAAOx6C,eAAeouB,KAC3B4tB,EAAO5tB,EAAIp1B,MAAM,KACjBuG,EAAIqK,SAASoyC,EAAK,GAAI,IACtBv8C,EAAImK,SAASoyC,EAAK,GAAI,IACtBp9C,EAAIgL,SAASoyC,EAAK,GAAI,KAGlBnyC,IAASjL,GAAKW,EAAI0lC,EAAO7b,IAAI7pB,GAAKA,EAAI0lC,EAAOxgC,IAAIlF,GAAKE,EAAIwlC,EAAO7b,IAAI3pB,GAAKA,EAAIwlC,EAAOxgC,IAAIhF,IACzFjL,KAAKynD,YAAY7tB,KAMjC6tB,YAAa,SAAU7tB,GACnB55B,KAAKyJ,KAAK,cAAezJ,KAAKgmD,OAAOpsB,UAC9B55B,MAAKgmD,OAAOpsB,SACZ55B,MAAKkkN,cAActqL,IAG9BmrL,SAAU,SAAS99J,GACjB,MAAOA,GAAUl8C,EAAI,IAAMk8C,EAAUh8C,EAAI,IAAMg8C,EAAU5xC,MAG3DyxC,oBAAqB,SAAUG,GAC3B,GAAI5iD,GAAIrE,KAAK+kN,SAAS99J,EACtB,SAAS5iD,IAAKrE,MAAKgmD,QAAa3hD,IAAKrE,MAAKkkN,gBAG9Cp7J,YAAa,SAAS7B,EAAW+9J,GAC/BhlN,KAAKomD,cACL,IAAI/hD,GAAI4iD,EAAUl8C,EAAI,IAAMk8C,EAAUh8C,EAAI,IAAMg8C,EAAU5xC,IAC1DrV,MAAKgmD,OAAO3hD,GAAK2gN,QACVhlN,MAAKkkN,cAAc7/M,GACD,IAAtBrE,KAAKomD,cACNpmD,KAAKyJ,KAAK,gBAIdy7M,WAAY,SAAUj+J,GACpBA,EAAY,GAAI7mD,GAAEgvC,MAAM6X,EAAUl8C,EAAGk8C,EAAUh8C,EAC/C,IAAI+nC,GAAShzC,KAAKskD,KAAKtD,oBAAoBhhD,KAAKskD,KAAKjU,aACjDwT,EAAW7jD,KAAK0Y,QAAQmrC,QAE5B,OAAOoD,GAAUtX,WAAWkU,GAAUtU,SAASyD,IAGjD4T,uBAAwB,SAAUnW,GAC9B,GAII7sC,GAAGO,EAAGkrC,EAJNl4B,KACA+hC,EAASzI,EAAOJ,YAChBh7B,EAAOrV,KAAKskD,KAAK5K,SAIrB,KAAK91C,EAAI6sC,EAAO7b,IAAI3pB,EAAGrH,GAAK6sC,EAAOxgC,IAAIhF,EAAGrH,IACtC,IAAKO,EAAIssC,EAAO7b,IAAI7pB,EAAG5G,GAAKssC,EAAOxgC,IAAIlF,EAAG5G,IACtCkrC,EAAQ,GAAIjvC,GAAEgvC,MAAMjrC,EAAGP,GACvByrC,EAAMh6B,KAAQA,EAEVrV,KAAK8mD,oBAAoBzX,IACzBl4B,EAAMxL,KAAK0jC,EAKvB,IAAI0X,GAAc5vC,EAAM/S,MAExB,IAAoB,IAAhB2iD,EAAJ,CASA,IANA5vC,EAAMjJ,KAAK,SAAU1N,EAAGC,GACpB,MAAOD,GAAEuvC,WAAWmJ,GAAUz4C,EAAEsvC,WAAWmJ,KAG/Cl5C,KAAKomD,cAAgBW,EAEhB5iD,EAAI,EAAGA,EAAI4iD,EAAa5iD,IAAK,CAChC,GAAIwG,GAAIwM,EAAMhT,GACVE,EAAIrE,KAAK+kN,SAASp6M,EACtB3K,MAAKkkN,cAAc7/M,GAAKsG,EACxB3K,KAAKyJ,KAAK,YAAakB,GAEzB3K,KAAKyJ,KAAK,wBAMV4pM,IAAI,SAASh4K,EAAQ3H,EAAOD,IAClC,SAAWtY,GACX,GAAIoiK,GAAQpiK,EAAOoiK,OAASliJ,EAAQ,SAChCuiJ,EAASviJ,EAAQ,MAErBA,GAAQ,kBAKRj7B,EAAE+sJ,YAAc/sJ,EAAE+/M,YAAYz6M,QAE5BqgN,WACEC,QAAWpoC,EAAOmoC,UAAU35L,KAC5B65L,aAAgBroC,EAAOmoC,UAAUG,UACjCC,UAAavoC,EAAOmoC,UAAUI,WAGhCC,WACE/2K,MAASuuI,EAAO6nC,SAASr2K,MACzBi3K,MAASzoC,EAAO6nC,SAAS9oJ,WAG3B5/B,WAAY,SAASrkB,GACnB,GAAIqwB,GAAO/oC,IACX,KAAK49K,EAAO+hC,qBACV,KAAM,IAAIzwM,OAAM,qCAElBwJ,GAAQmxM,YAAa,EACrB7pN,KAAK45B,IAAM,EACX55B,KAAKyqN,gBAAkB,EACnB/xM,EAAQu3J,UACV2N,EAAOl4K,OAAOgT,EAASklK,EAAOl6B,OAAOyJ,YAAYsyD,oBAAoB/mM,EAAQu3J,WAG/Ev3J,EAAQq8E,WAAar8E,EAAQq8E,YAAc,EAC3Cr8E,EAAQuhJ,MAAQvhJ,EAAQuhJ,OAAS,IACjCvhJ,EAAQoR,QAA8BoR,SAApBxiB,EAAQoR,SAA8BpR,EAAQoR,QAChE9pB,KAAK6pB,QAAUnR,EAAQoR,QAEvB9pB,KAAK0lN,SAAW,GAAI9nC,GAAOigC,SAAS,SAASj0K,GAC3C,GAAIvlC,GAAW,EAAPulC,CACLb,GAAKnP,MAAQv1B,GACd0kC,EAAK48K,OAAOthN,GAAKimN,QAAQ,KAE1B1sC,EAAOl4K,OAAOk4K,EAAOhxK,MAAM8L,IAC5B0mM,QAAS,WACPr2K,EAAKt/B,KAAK,UAEZs1M,OAAQ,WACNh2K,EAAKt/B,KAAK,SAEZo1M,QAAS,WACP91K,EAAKt/B,KAAK,YAIdzJ,KAAK4lN,KAAO5lN,KAAK0lN,SAASp0L,MAAMzR,KAAK7f,KAAK0lN,UAC1C1lN,KAAKwX,KAAOxX,KAAK0lN,SAASluM,KAAKqI,KAAK7f,KAAK0lN,UACzC1lN,KAAKghI,MAAQhhI,KAAK0lN,SAAS1kF,MAAMnhH,KAAK7f,KAAK0lN,UAC3C1lN,KAAKmgB,OAASngB,KAAK0lN,SAASvlM,OAAON,KAAK7f,KAAK0lN,UAC7C1lN,KAAK6lN,YAAc7lN,KAAK0lN,SAAS90L,SAAS/Q,KAAK7f,KAAK0lN,UACpD1lN,KAAK8+M,UAAY9+M,KAAK0lN,SAAS5G,UAAUj/L,KAAK7f,KAAK0lN,UAGnDtlN,EAAE+/M,YAAY90M,UAAU0xB,WAAW/zB,KAAKhJ,KAAM0Y,GAE9C1Y,KAAK0Y,QAAQ+sM,SAAWzlN,KAAK0Y,QAAQ+sM,UAAY,QACjDzlN,KAAK0Y,QAAQ22I,SAAWrvJ,KAAK0Y,QAAQ22I,UAAY,YAEjDrvJ,KAAKqvJ,SAAW,GAAIrvJ,MAAK+lN,UAAU/lN,KAAK0Y,QAAQ22I,UAAU32I,GAC1D1Y,KAAKylN,SAAW,GAAIzlN,MAAKomN,UAAUpmN,KAAK0Y,QAAQ+sM,UAAUzlN,KAAKumN,YAAa7tM,GAE5EA,EAAQvO,MAAQ,WACd4+B,EAAKt/B,KAAK,iBACRgnC,OAAQ1H,EAAKsmH,SAASz0G,cAExB7R,EAAK28K,SAASzrD,MAAMlxH,EAAKsmH,SAASi3D,YAClCv9K,EAAK28K,SAASpH,UACdv1K,EAAKt/B,KAAK,gBACRwwJ,MAAOlxH,EAAKsmH,SAASi3D,aAEvBv9K,EAAK48K,OAAO58K,EAAKnP,MAGnB55B,KAAKylN,SAAS9lM,GAAG,iBAAkB3f,KAAKyjC,OAAO5jB,KAAK7f,OAIpDA,KAAK2f,GAAG,YAAa,SAAShV,GACb3K,KAAKqvJ,SAAS63D,YAAYv8M,EAAGA,EAAE0K,KAAM,SAAS2vM,GAEvDr6M,EAAE0K,OAAS0zB,EAAKub,KAAK5K,YACzB3Q,EAAK+f,YAAYn+C,EAAGq6M,GACpBj8K,EAAK2hL,mBACD1F,GACFj8K,EAAK6c,aAGR5lD,OAIL0qN,iBAAkB,WAChB,GAAI//M,GAAGw7C,CACP,KAAIx7C,IAAK3K,MAAKgmD,OACZG,EAAOnmD,KAAKgmD,OAAOr7C,GACfw7C,GAAQA,EAAKwkK,aACfxkK,EAAKwkK,WAAa,OAKxBC,aAAc,WACZ5qN,KAAKylN,UAAYzlN,KAAKylN,SAASiB,mBAC/B1mN,KAAK0qN,oBAGP3oK,MAAO,SAAU/zC,GACfA,EAAI2R,IACFmlC,QAAW9kD,KAAK4qN,aAChBC,UAAa7qN,KAAK8qN,cACjB9qN,MAEHgO,EAAI2R,IACFmlC,QAAW9kD,KAAK+qN,eACf/qN,MACHI,EAAE+/M,YAAY90M,UAAU02C,MAAM/4C,KAAKhJ,KAAMgO,IAG3CwuC,SAAU,SAASxuC,GACjBhO,KAAKyJ,KAAK,UACVzJ,KAAKqkN,oBACLr2M,EAAIS,KACFq2C,QAAW9kD,KAAK4qN,aAChBC,UAAa7qN,KAAK8qN,cACjB9qN,MACHgO,EAAIS,KACFq2C,QAAW9kD,KAAK+qN,eACf/qN,MACHI,EAAE+/M,YAAY90M,UAAUmxC,SAASxzC,KAAKhJ,KAAMgO,IAG9C88M,aAAc,WACZ9qN,KAAKgrN,WAAahrN,KAAK8+M,YACnB9+M,KAAKgrN,YACPhrN,KAAKghI,SAIT+pF,cAAe,WACT/qN,KAAKgrN,YACPhrN,KAAK4lN,QAITn2L,KAAM,WACJ,MAAGzvB,MAAK6pB,OAAe7pB,MACvBA,KAAKghI,QACLhhI,KAAKs9B,QACLt9B,KAAK6pB,QAAS,EACP7pB,OAGTuvB,KAAM,WACJ,MAAIvvB,MAAK6pB,QACT7pB,KAAK6pB,QAAS,EACd7pB,KAAK4lN,OACsB,IAAvB5lN,KAAK0Y,QAAQuhJ,OACfj6J,KAAK4lD,SAEA5lD,MANiBA,MAS1B2wK,OAAQ,SAASZ,GACf,GAAI/vK,KAAKqvJ,SAAS32I,QAAQoqI,UAAW,KAAM,IAAI5zI,OAAM,0CACrD,KAAKlP,KAAKqvJ,WAAarvJ,KAAKqvJ,SAASshB,OACnC,KAAM,IAAIzhK,OAAM,qCAIlB,OAFAlP,MAAKqvJ,SAASshB,OAAOZ,GACrB/vK,KAAKukN,eACEvkN,MAGT4mN,aAAc,SAASrmN,GACrBP,KAAKylN,SAASmB,aAAarmN,GAC3BP,KAAK4lD,UAGPihK,SAAU,SAAS5sD,GACjBj6J,KAAKqvJ,SAASw3D,SAAS5sD,GACvBj6J,KAAKukN,gBAGPuC,UAAW,SAAShgC,EAAQigC,GAC1B/mN,KAAKqvJ,SAASy3D,UAAUhgC,EAAQigC,GAChC/mN,KAAKukN,gBAGPyC,cAAe,WACb,MAAOhnN,MAAKqvJ,UAAYrvJ,KAAKqvJ,SAAS43D,cAGxC3pL,MAAO,WACL,GAAI+sB,GAASrqD,KAAKumN,WAClBl8J,GAAOzoD,MAAQyoD,EAAOzoD,OAQxB6hC,OAAQ,WACN,IAAGzjC,KAAK6pB,OAAR,CACA,GAAIlf,GAAGw7C,EAAM50B,EACT84B,EAASrqD,KAAKumN,WAClBvmN,MAAKylN,SAAS0B,aACd,IAAIhrL,GAAMkuB,EAAOiM,WAAW,KAE5B,KAAI3rD,IAAK3K,MAAKgmD,OACZG,EAAOnmD,KAAKgmD,OAAOr7C,GACfw7C,IAEEnmD,KAAK0lN,SAAS5G,cAChB34J,EAAKwkK,WAAa,MAGpBp5L,EAAMvxB,KAAKklN,WAAW/+J,EAAK21C,OAC3B3/D,EAAIirL,aAAa,EAAG,EAAG,EAAG,EAAG71L,EAAIxmB,EAAGwmB,EAAItmB,GAEpCk7C,EAAKwkK,WAGP3qN,KAAKylN,SAAS3uJ,KAAKqzJ,UAAUhkK,EAAKwkK,WAAY,EAAG,GAEjD3qN,KAAKylN,SAAS4B,WAAWlhK,EAAMnmD,KAAK45B,KAS1C,IALA55B,KAAKylN,SAAS6B,gBAKTtnN,KAAK0lN,SAAS5G,aAAe9+M,KAAK45B,MAAQ55B,KAAKyqN,gBAAiB,CACnE,GAAIQ,GAAYjrN,KAAKylN,SAASqC,SAC9B,KAAIn9M,IAAK3K,MAAKgmD,OAEZ,GADAG,EAAOnmD,KAAKgmD,OAAOr7C,GACfw7C,IAASA,EAAKwkK,WAAY,CAC5B,GAAIzpN,GAAIilD,EAAKwkK,WAAazoN,SAASR,cAAc,SACjDR,GAAEU,MAAQV,EAAEW,OAASopN,EACrB15L,EAAMvxB,KAAKklN,WAAW/+J,EAAK21C,MAE3B,IAAI/wF,GAAIiF,KAAKC,IAAI,EAAGshB,EAAIxmB,GACpBE,EAAI+E,KAAKC,IAAI,EAAGshB,EAAItmB,GACpBH,EAAIkF,KAAK4kB,IAAIq2L,EAAWjrN,KAAKumN,YAAY3kN,MAAQmJ,GACjDpH,EAAIqM,KAAK4kB,IAAIq2L,EAAWjrN,KAAKumN,YAAY1kN,OAASoJ,EAClDH,GAAI,GAAKnH,EAAI,GACfzC,EAAEo1D,WAAW,MAAM6zJ,UAAUnqN,KAAKumN,YAAax7M,EAAGE,EAAGH,EAAGnH,EAAGoH,EAAIwmB,EAAIxmB,EAAGE,EAAIsmB,EAAItmB,EAAGH,EAAGnH,IAM5F3D,KAAKyqN,gBAAkBzqN,KAAK45B,MAS9B+rL,OAAQ,SAAS/rL,EAAKlhB,GACpB1Y,KAAK45B,IAAMA,EACX55B,KAAK0lN,SAASt0L,KAAKwI,GACnB55B,KAAK0qN,mBACL1qN,KAAK4lD,OAAOltC,GAAWA,EAAQ4xM,QAC/BtqN,KAAKyJ,KAAK,eAAiBmgC,KAAM5pC,KAAKsQ,UAAW8gB,KAAMpxB,KAAK45B,OAO9DiyJ,QAAS,SAASjiJ,GAChB,GAAY1O,SAAT0O,GAAsC1O,SAAhB0O,EAAKxlC,OAC5B,KAAM,IAAI8K,OAAM,8BAElBlP,MAAK2lN,OAAO/7K,IASd69K,WAAY,SAASr2L,GACnB,GAAIyG,GAAQ73B,KAAKqvJ,SAAS43D,aACtBr9K,EAAO/R,EAAMvG,OAASuG,EAAM5pB,IAAM4pB,EAAMvG,QAAQF,EAAKpxB,KAAKqvJ,SAASi3D,WACvE,OAAO,IAAIj2M,MAAKu5B,IAGlB89K,WAAY,SAAStyI,GAEnB,GADyB,cAAdA,KAAsBA,EAAYA,EAAU9kE,YAClDtQ,KAAKqvJ,SAAU,MAAO,EAC3B,IAAIx3H,GAAQ73B,KAAKqvJ,SAAS43D,aACtB71L,EAAQpxB,KAAKqvJ,SAASi3D,YAAclxI,EAAYv9C,EAAMvG,QAAWuG,EAAM5pB,IAAM4pB,EAAMvG,MACvF,OAAOF,IAGTu6J,QAAS,WACP,MAAO3rL,MAAK45B,KAOdtpB,QAAS,WACP,MAAOtQ,MAAKynN,WAAWznN,KAAK45B,MAM9BsxL,YAAa,WACX,MAAOlrN,MAAKqvJ,SAAS43D,cAMvBr2C,YAAa,SAASX,GACpB,GAAIjwK,KAAKqvJ,SAAS32I,QAAQoqI,UAAW,KAAM,IAAI5zI,OAAM,4CACrD,KAAKlP,KAAKylN,SAAU,KAAM,IAAIv2M,OAAM,wBACpC,IAAI8zL,IAAS,GAAIzlB,GAAMse,YAAap4J,OAAOwsI,EAC3CjwK,MAAKylN,SAASkB,UAAU3jB,EAGxB,IAAItqL,GAAUklK,EAAOl6B,OAAOyJ,YAAYqyD,iBAAiBxc,EAAOW,WAAY7sL,KAAM,QAclF,OAbA9W,MAAKqvJ,SAASuhB,aAAe5wK,KAAKqvJ,SAASuhB,YAAYX,GACpDjwK,KAAKqvJ,SAAS/kH,WAAW5xB,IAC1B1Y,KAAKukN,eAGP3mC,EAAOl4K,OAAO1F,KAAK0Y,QAASA,GAGxBA,EAAQwmM,mBACVl/M,KAAK0lN,SAAS90L,SAASlY,EAAQwmM,mBAEjCl/M,KAAK4qN,eACL5qN,KAAK4lD,SACE5lD,MAQTunN,oBAAqB,SAASn2L,GAC5B,GAAIo2L,KACJ,KAAI,GAAI78M,KAAK3K,MAAKgmD,OAAQ,CACxB,GAAIG,GAAOnmD,KAAKgmD,OAAOr7C,EACvB68M,GAAYA,EAAU7kN,OAAO3C,KAAKylN,SAAS8B,oBAAoBphK,EAAM/0B,IAEvE,MAAOo2L,IAMTG,eAAgB,SAAS58M,EAAGE,EAAGmmB,GAC7BA,EAAgB8J,SAAT9J,EAAqBpxB,KAAK45B,IAAKxI,CACtC,IAAIzmB,GAAGw7C,EAAM50B,EAAmBq2L,EAAIC,EAAlB//M,EAAQ,IAC1B,KAAI6C,IAAK3K,MAAKgmD,OAQZ,GAPAG,EAAOnmD,KAAKgmD,OAAOr7C,GACnB4mB,EAAMvxB,KAAKklN,WAAW/+J,EAAK21C,OAC3B8rH,EAAK78M,EAAIwmB,EAAIxmB,EACb88M,EAAK58M,EAAIsmB,EAAItmB,EACT28M,GAAM,GAAKC,GAAM,GAAKD,EAAK5nN,KAAKylN,SAASqC,WAAaD,GAAM7nN,KAAKylN,SAASqC,YAC5EhgN,EAAQ9H,KAAKylN,SAASsC,YAAY5hK,EAAM/0B,EAAMw2L,EAAIC,IAEtC,OAAV//M,EACF,MAAOA,EAGX,OAAO,OAGTkgN,gBAAiB,SAASj9M,EAAGE,EAAGH,EAAGnH,GACjC,GAAIskN,GAAKl9M,EAAID,EAAGo9M,EAAKj9M,EAAItH,EAAG0kN,EAAGt9M,EAC3Bo9M,EAAM,CACV,KAAIC,GAAKn9M,EAAGm9M,GAAGF,EAAIE,IAAIpoN,KAAK0Y,QAAQq8E,WAClC,IAAIszH,EAAKt9M,EAAGs9M,EAAGJ,EAAII,GAAIroN,KAAK0Y,QAAQq8E,WAAW,CAC7C,GAAIuzH,GAAYtoN,KAAK2nN,eAAeU,EAAGD,GACvC,IAAIE,EAAU,CACZ,GAAI3iM,GAAK2iM,EAAUz+J,KACf2+J,EAAKxoN,KAAKskD,KAAK/J,wBAAwB50B,EAAG,GAAGuuB,IAAKvuB,EAAG,GAAGyvB,KACzDozK,GAAGz9M,EAAIk9M,GAAMO,EAAGv9M,EAAIi9M,IACrBC,GAAOG,EAAUxgN,QAKzB,MAAOqgN,IAGT35D,WAAY,WACVxuJ,KAAKqvJ,SAAS8oB,cAIfnvK,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,aACxH85M,MAAM,GAAGsC,iBAAiB,GAAG5tC,MAAQriJ,SAAYo4K,IAAI,SAASj4K,EAAQ3H,EAAOD,GAC9E,QAASuhK,GAAMx0L,EAAGC,GAChB,MAAO,UAASkK,GACd,MAAOqF,MAAKC,IAAID,KAAK4kB,IAAIjqB,EAAGlK,GAAID,IAIpC,QAAS4qN,GAAU5qN,EAAGC,GACpB,GAAIS,GAAI8zL,EAAM,EAAG,EACjB,OAAO,UAASrqL,GACd,MAAOzJ,IAAGyJ,EAAInK,IAAIC,EAAID,KAI1B,QAASswB,GAAOtwB,EAAGC,GAEjB,QAAS4qN,GAAQ1gN,GACf,MAAOzJ,GAAEV,GAAG,EAAMmK,GAAKA,EAAElK,GAF3B,GAAIS,GAAI8zL,EAAMx0L,EAAGC,EASjB,OAJA4qN,GAAQz0L,OAAS,WACf,MAAOw0L,GAAU5qN,EAAGC,IAGf4qN,EAGX33L,EAAOD,SACHuhK,MAAOA,EACPlkK,OAAQA,EACRs6L,UAAWA,QAGT7X,IAAI,SAASl4K,EAAQ3H,EAAOD,GAMlC,QAASuhK,GAAMltL,EAAOwjN,EAAQC,GAG5B,MAFe,QAAXD,IAAiBxjN,EAAQkI,KAAKC,IAAInI,EAAOwjN,IAC9B,OAAXC,IAAiBzjN,EAAQkI,KAAK4kB,IAAI9sB,EAAOyjN,IACtCzjN,EAGT,QAAS0jN,GAAiBC,GACxB,MAAOA,IAAOz7M,KAAKihB,GAAK,KAG1B,QAASy6L,GAAiBC,GACxB,MAAOA,IAAO37M,KAAKihB,GAAK,KAhB1B,GAAIme,GAAQ,SAASrkC,EAAGE,GACtBjL,KAAK+K,EAAIA,GAAK,EACd/K,KAAKiL,EAAIA,GAAK,GAkBZ2gN,EAAqB,WAEvB5rN,KAAK6rN,UAAY,IACjB7rN,KAAK8rN,aAAe,GAAI18K,GAAMpvC,KAAK6rN,UAAY,EAAG7rN,KAAK6rN,UAAY,GACnE7rN,KAAK+rN,oBAAsB/rN,KAAK6rN,UAAY,IAC5C7rN,KAAKgsN,oBAAsBhsN,KAAK6rN,WAAa,EAAI77M,KAAKihB,IAGxD26L,GAAmBvgN,UAAU4gN,mBAAqB,SAAS/3K,EAAKkB,GAC9D,GAAI/F,GAAQ,GAAID,GAAM,EAAG,GACrB4D,EAAShzC,KAAK8rN,YAElBz8K,GAAMtkC,EAAIioC,EAAOjoC,EAAIqqC,EAAMp1C,KAAK+rN,mBAKhC,IAAIG,GAAOl3B,EAAMhlL,KAAKilC,IAAIu2K,EAAiBt3K,KAAO,MAAS,MAE3D,OADA7E,GAAMpkC,EAAI+nC,EAAO/nC,EAAI,GAAM+E,KAAKonC,KAAK,EAAI80K,IAAS,EAAIA,KAAUlsN,KAAKgsN,oBAC9D38K,GAGTu8K,EAAmBvgN,UAAU8gN,mBAAqB,SAAS98K,GACzD,GAAIm9G,GAAKxsJ,KACLgzC,EAASw5G,EAAGs/D,aACZ12K,GAAO/F,EAAMtkC,EAAIioC,EAAOjoC,GAAKyhJ,EAAGu/D,oBAChCK,GAAc/8K,EAAMpkC,EAAI+nC,EAAO/nC,IAAMuhJ,EAAGw/D,oBACxC93K,EAAMw3K,EAAiB,EAAI17M,KAAKunC,KAAKvnC,KAAKwnC,IAAI40K,IAAep8M,KAAKihB,GAAK,EAC3E,QAASijB,IAAIA,EAAKkB,IAAIA,IAGxBw2K,EAAmBvgN,UAAUghN,cAAgB,SAASC,EAAOC,GAC3D,OACExhN,EAAGuhN,EAAMtsN,KAAK6rN,UACd5gN,EAAGshN,EAAMvsN,KAAK6rN,YAIlBD,EAAmBvgN,UAAUmhN,cAAgB,SAASzhN,EAAGE,EAAGoK,EAAMo3M,EAAIC,EAAIv6G,GACxEA,EAAMA,GAAO,CACb,IAAIw6G,GAAW,GAAIt3M,EACfoxI,EAAMt0C,EAAIw6G,CAGd,OAFAF,IAAM1hN,EAAE/K,KAAK6rN,UAAYY,GAAIE,EAC7BD,GAAMzhN,EAAEjL,KAAK6rN,UAAYa,GAAIC,GAE3B3sN,KAAKmsN,mBAAmB,GAAI/8K,GAAMq9K,EAAIC,EAAKjmE,IAC3CzmJ,KAAKmsN,mBAAmB,GAAI/8K,GAAMq9K,EAAKhmE,EAAKimE,MAIhDd,EAAmBvgN,UAAUuhN,SAAW,SAAS7hN,EAAGE,EAAGoK,EAAMw3M,GAC3D,GAAIF,GAAW,GAAIt3M,CACnBw3M,GAAaA,GAAc,CAC3B,IAAIpmE,IAAQzmJ,KAAK6rN,UAAuB,EAAXgB,GAAcF,EACvCF,GAAM1hN,EAAE/K,KAAK6rN,UAAYgB,GAAcF,EACvCD,GAAMzhN,EAAEjL,KAAK6rN,UAAYgB,GAAcF,CAC3C,QACE3sN,KAAKmsN,mBAAmB,GAAI/8K,GAAMq9K,EAAIC,EAAKjmE,IAC3CzmJ,KAAKmsN,mBAAmB,GAAI/8K,GAAMq9K,EAAKhmE,EAAKimE,MAIhDd,EAAmBvgN,UAAUyhN,kBAAoB,SAAS54K,EAAKkB,EAAKk3K,EAAOC,EAAOl3M,GAChF,GAAIs3M,GAAW,GAAIt3M,EACf03M,EAAkB/sN,KAAKisN,mBAAmB/3K,EAAKkB,GAC/C43K,EAAkB,GAAI59K,GAAM29K,EAAgBhiN,EAAE4hN,EAAUI,EAAgB9hN,EAAE0hN,GAC1EM,EAAkBjtN,KAAKqsN,cAAcC,EAAOC,EAChD,OAAO,IAAIn9K,GAAMp/B,KAAKo6B,MAAM4iL,EAAgBjiN,EAAEkiN,EAAaliN,GAAIiF,KAAKo6B,MAAM4iL,EAAgB/hN,EAAEgiN,EAAahiN,KAG3GyoB,EAAOD,QAAUm4L,OAEX/X,IAAI,SAASx4K,EAAQ3H,EAAOD,GAgClC,QAASoyH,MAqCT,QAASC,GAAOhvI,GACd9W,KAAK81F,GAAK,KACV91F,KAAK8W,KAAOA,EACZ9W,KAAK0mE,MAAQ,EAzCf,GAAIq/E,GAAc,IAElBF,GAASG,WAETH,EAASt4I,IAAM,SAASuJ,GACtB,MAAO+uI,GAASG,QAAQlvI,KACtB7G,IAAK,EACL2kB,IAAK6F,OAAO02E,UACZ+0C,IAAK,EACLC,MAAO,EACPz/E,MAAO,EACPjmC,QAAkC,mBAAnB,cAAiC,GAAI2lH,cAAaL,QAIrEF,EAASS,UAAY,SAAUxvI,EAAMhP,GACnC,GAAI6C,GAAIk7I,EAASG,QAAQlvI,GAAQ+uI,EAASt4I,IAAIuJ,EAE9CnM,GAAEsF,IAAMD,KAAKC,IAAItF,EAAEsF,IAAKnI,GACxB6C,EAAEiqB,IAAM5kB,KAAK4kB,IAAIjqB,EAAEiqB,IAAK9sB,GACxB6C,EAAEw7I,OAASr+I,IACT6C,EAAE+7D,MACJ/7D,EAAEu7I,IAAMv7I,EAAEw7I,MAAQx7I,EAAE+7D,MACpB/7D,EAAE81B,QAAQ91B,EAAE+7D,MAAMq/E,GAAej+I,GAGnC+9I,EAASU,YAAc,WACrB,IAAKliJ,IAAKwhJ,GAASG,QAAS,CAC1B,GAAIr7I,GAAIk7I,EAASG,QAAQ3hJ,EACzBqwF,SAAQt9C,IAAI,QAAU/yC,EAAI,SAC1BqwF,QAAQt9C,IAAI,SAAWzsC,EAAEsF,KACzBykF,QAAQt9C,IAAI,SAAWzsC,EAAEiqB,KACzB8/D,QAAQt9C,IAAI,SAAWzsC,EAAEu7I,KACzBxxD,QAAQt9C,IAAI,WAAazsC,EAAE+7D,OAC3BguB,QAAQt9C,IAAI,WAAazsC,EAAEw7I,SAU/BL,EAAOz6I,WAKLimB,MAAO,WAEL,MADAtxB,MAAK81F,IAAM,GAAIzlF,MACRrQ,MAITwmJ,SAAU,WACR,OAAQ,GAAIn2I,MAASrQ,KAAK81F,IAQ5B7nF,IAAK,WACa,OAAZjO,KAAK81F,KACP+vD,EAASS,UAAUtmJ,KAAK8W,KAAM9W,KAAKwmJ,YACnCxmJ,KAAK81F,GAAK,OAQd2wD,IAAK,SAASC,GACZA,EAAcxrH,SAARwrH,EAAoB,EAAGA,EAC7Bb,EAASS,UAAUtmJ,KAAK8W,KAAM+uI,EAASt4I,IAAIvN,KAAK8W,MAAM4vD,OAASggF,EAAMA,EAAK,KAO5EC,IAAK,SAASD,GACZA,EAAcxrH,SAARwrH,EAAoB,EAAGA,EAC7B1mJ,KAAKymJ,KAAKC,IAMZtK,KAAM,WAEJ,KADEp8I,KAAK0mE,MACQ,OAAZ1mE,KAAK81F,GAEN,WADA91F,MAAKsxB,OAGP,IAAIqwC,GAAU3hE,KAAKwmJ,UAChB7kF,GAAU,IACXkkF,EAASS,UAAUtmJ,KAAK8W,KAAM9W,KAAK0mE,OACnC1mE,KAAK0mE,MAAQ,EACb1mE,KAAKsxB,WAKXu0H,EAASt3E,OAAS,SAASz3D,GACzB,MAAO,IAAIgvI,GAAOhvI,IAGpB4c,EAAOD,QAAUoyH,OAEXouD,IAAI,SAAS54K,EAAQ3H,EAAOD,GAClCC,EAAOD,SACHrH,KAAMiP,EAAQ,UACd6qL,UAAW7qL,EAAQ,eACnB8qL,UAAW9qL,EAAQ,kBAGpB6xL,SAAS,GAAGC,cAAc,GAAGC,cAAc,KAAK9Y,IAAI,SAASj5K,EAAQ3H,EAAOD,GAS7E,QAAS81B,GAAO5vB,GACd,IAAI,GAAIx1B,GAAI,EAAGA,EAAI2J,UAAU1J,SAAUD,EAAG,CACxC,GAAI84B,GAAQnvB,UAAU3J,EACtB,KAAI,GAAIsI,KAAQwwB,GACdtD,EAAMA,EAAIj1B,QAAQ2V,OAAO,MAAQ5N,EAAO,MAAO,KAAMwwB,EAAMxwB,IAG/D,MAAOktB,GAfX,GAAIikJ,GAASviJ,EAAQ,OACjBwqH,EAAWxqH,EAAQ,eAEjB09B,EAAa6kH,EAAOzxI,MAAM4sB,WAC1BinJ,EAAapiC,EAAOzxI,MAAM6zK,WAC1BF,EAAcliC,EAAOzxI,MAAM2zK,YAa3B1zL,EAAO,SAAU1T,GAenB,GAdA1Y,KAAKqiL,QAAS,EACdriL,KAAKqtN,cACLrtN,KAAK0Y,QAAUA,EAEf1Y,KAAK0Y,QAAQ40M,QAAmCpyL,SAAzBl7B,KAAK0Y,QAAQ40M,SAA8BttN,KAAK0Y,QAAQ40M,QAC/EttN,KAAK0Y,QAAQs1I,eAAiBt1I,EAAQs1I,gBAAkB,OACxDhuJ,KAAK0Y,QAAQo1I,aAAep1I,EAAQo1I,cAAgB,YACpD9tJ,KAAK0Y,QAAQq1I,WAAar1I,EAAQq1I,YAAc,GAE5C/tJ,KAAK0Y,QAAQ60M,mBACfvtN,KAAK0Y,QAAQ80M,WAA+C,eAAlCxtN,KAAK0Y,QAAQ60M,kBAIdryL,SAAvBxiB,EAAQq8E,WAA2B,KAAM,IAAI7lF,OAAM,gCACvD,IAAsBgsB,SAAlBxiB,EAAQuhJ,MAAsB,KAAM,IAAI/qJ,OAAM,2BAC7BgsB,UAAlBxiB,EAAQ4Y,MACTtxB,KAAKytN,gBAELztN,KAAK0tN,WAAU,GAInBthM,GAAK/gB,WAWHsiN,aAAc,SAASj5B,EAAM54F,EAAOzmF,GAClC,GAAI3K,GACAK,EAAI,GAAIguD,GAAW27H,EAAKtwL,QACxB6G,EAAI,GAAI8tD,GAAW27H,EAAKtwL,QAExBwpN,EAAW/nE,EAASt3E,OAAO,oBAC3Bs/I,EAAmBhoE,EAASt3E,OAAO,4BACnCu/I,EAAoBjoE,EAASt3E,OAAO,6BAA6Bj9C,QAGjEy8L,EAAQ,EACRC,GAAe,CACnB,KAAKtjN,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAAG,CAChC,GAAIg7K,GAAMgP,EAAKhqL,EACfqjN,IAASroC,EAAIuoC,cAAc7pN,MAC3B,KAAI,GAAIhD,GAAI,EAAGA,EAAIskL,EAAIuoC,cAAc7pN,SAAUhD,EAC7C4sN,EAAeh+M,KAAKC,IAAI+9M,EAActoC,EAAIuoC,cAAc7sN,IAIzDpB,KAAK0Y,QAAQ80M,aACdO,GAAS,EAAIC,GAAgBt5B,EAAKtwL,OAGpC,IAAIkB,GAAOtF,KAAK0Y,QAAQ80M,WAAa1N,EAAa/mJ,EAG9Cm1J,EAAY,GAAIlO,GAAWgO,EAAe,GAC1CG,EAAY,GAAInO,GAAWgO,EAAe,GAC1CI,EAAa,IAAKpuN,KAAK0Y,QAAQ21M,eAAiB/oN,GAAMyoN,GACtDO,EAAgB,GAAIxO,GAAYiO,EAEpCH,GAASnnE,IACP,EAAIunE,EACJ,EAAIA,EACJD,EACQ,EAARA,GAGFF,EAAiBpnE,IAAIiuC,EAAKtwL,OAK1B,KAAK,GAHDmqN,MAGK7jN,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAAG,CACpC,GAAIg7K,GAAMgP,EAAKhqL,EACfK,GAAEL,GAAKg7K,EAAI8oC,SAAWxuN,KAAK0Y,QAAQq8E,WAG/B2wF,EAAI+oC,YAAa,EACnBxjN,EAAEP,GAAK,EAEPO,EAAEP,GAAKg7K,EAAI+oC,SAAWzuN,KAAK0Y,QAAQq8E,UAGrC,IAAIg5H,GAAQroC,EAAIuoC,cACZS,EAAOhpC,EAAIipC,WACf,IAAK3uN,KAAK0Y,QAAQ80M,WASX,CAEL,IAAK,GADDoB,MACKhrN,EAAI,EAAGylC,EAAM0kL,EAAM3pN,OAAQR,EAAIylC,IAAOzlC,EAC7CgrN,EAAUb,EAAMnqN,IAAM8qN,EAAK9qN,EAK7B,KAAK,GAHD2rG,GAAQ,EAGH3rG,EAAImqN,EAAM,GAAInqN,GAAKoqN,IAAgBpqN,EAAG,CAC3C,GAAIirN,GAAKN,EAAY3qN,KAAO2qN,EAAY3qN,OACpCiH,EAAI+jN,EAAUhrN,EACdiH,KACF0kG,GAAS1kG,GAEXgkN,EAAGljN,MAAMjB,EAAG6kG,SAtBhB,KAAK,GAAI3rG,GAAI,EAAGylC,EAAM0kL,EAAM3pN,OAAQR,EAAIylC,IAAOzlC,EAAG,CAC9C,GAAIirN,GAAKN,EAAYR,EAAMnqN,MAAQ2qN,EAAYR,EAAMnqN,OAClD5D,MAAK0Y,QAAQ80M,aACZkB,EAAK9qN,IAAMkrN,UAEfA,SAAWJ,EAAK9qN,GAChBirN,EAAGljN,MAAMjB,EAAGgkN,EAAK9qN,MAiCzB,IAAI,GAHAmrN,GAAkB,EAClBC,EAAgB,EAChB7qN,EAAI,EACAA,EAAI,EAAGA,GAAK6pN,IAAgB7pN,EAAG,CACrC,GAAIjD,GAAI,EACJ+tN,EAAWV,EAAYpqN,EAC3B,IAAG8qN,EACD,IAAK,GAAIvkN,GAAI,EAAGA,EAAIukN,EAAS7qN,SAAUsG,EAAG,CACxC,GAAImkN,GAAKI,EAASvkN,KAChBxJ,EACFotN,EAAcS,GAAmBF,EAAG,GACpCT,EAAWW,GAAmBF,EAAG,KAC/BE,EAGNb,EAAU/pN,GAAK6qN,EACfb,EAAUhqN,GAAKjD,EACf8tN,GAAiB9tN,EAKnB,MAFA4sN,GAAkB7/M,OAGhBlD,EAAGA,EACHE,EAAGA,EACHb,EAAGiL,EACHymF,OACE/wF,EAAG+wF,EAAM/wF,EACTE,EAAG6wF,EAAM7wF,EACTb,EAAGiL,GAEL84M,UAAWA,EACXD,UAAWA,EACXI,cAAeA,EACfF,WAAYA,EACZc,QAASlB,IAIbz6C,MAAO,WACL,GAAIp3E,GAAOn8F,KAAK0Y,QACZuvH,EAAO9rC,EAAK+xD,aACZlmB,GAAW7rC,EAAK+1E,WAAa/1E,EAAKyyF,MAAQ,KAAOzyF,EAAK8xD,gBAAkB,cAAiBhmB,EAAO,IAAMA,EAAM,IAC5GxlG,EAAW05D,EAAKgyD,kBAAoB,MACxC,OAAOnuJ,MAAK0Y,QAAQkP,KAAO6a,EAAW,MAAQulG,EAAS,eAGzDpgH,IAAK,SAASqtJ,GACZ,GAAI94E,GAAOn8F,KAAK0Y,QACZ+pB,EAAW05D,EAAKgyD,kBAAoB,MACxC,KAAKnuJ,KAAK0Y,QAAQ21I,QAChB,MAAOruJ,MAAKuzK,OAEd,IAAI5vK,GAAI8+B,EAAU,KACdwyI,KACFtxK,GAAKsxK,EAAU,IAEjB,IAAIC,GAAW/4E,EAAKkyD,OACpB,KAAI6mB,EAAS3kF,OAAS2kF,EAASb,MAC7B,KAAM,IAAInlK,OAAM,oDAGlB,OADAvL,IAAKuxK,EAASzyI,GAAY,KAAO05D,EAAK+1E,WAAa/1E,EAAKyyF,MAAQ,eAIlEvuE,MAAO,SAAS1mF,GACd,GAAI2I,GAAO,CACX,KAAK3I,GAAqB,GAAdA,EAAIv1B,OAAa,MAAOk+B,EACpC,KAAK,GAAIn+B,GAAI,EAAGN,EAAI81B,EAAIv1B,OAAQD,EAAIN,IAAKM,EACrCm+B,GAAWA,GAAQ,GAAMA,EAAS3I,EAAID,WAAWv1B,GAAM,CAE3D,OAAOm+B,IAGT6sL,aAAc,WACZ,GAAInvN,KAAK0Y,QAAQ01I,aAAc,CAC7B,GAAInqJ,KACJ,KAAI,GAAII,KAAKrE,MAAK0Y,QAAQ01I,aAAc,CACtC,GAAIvjJ,GAAI7K,KAAK0Y,QAAQ01I,aAAa/pJ,EAC9BwG,IACF5G,EAAE0H,KAAKtH,EAAI,IAAMypB,mBAAmBjjB,IAGxC,MAAO5G,GAAE8J,KAAK,KAEhB,MAAO,OAGTumK,QAAS,WACP,MAAOt0K,MAAK0Y,QAAQy1I,kBAAsD,UAAlCnuJ,KAAK0Y,QAAQy1I,kBAIvD4hB,IAAK,SAASA,EAAKj0I,EAAUpjB,GAC3BA,EAAUA,KACV,IAAIorC,GAAa9jD,KAAK0Y,QAAQorC,YAAc,MACzC9jD,MAAKs0K,YACNxwH,GAAc,MAIhB,IAAIl8B,EAEFA,GADElP,EAAQ08J,OACJp1K,KAAKuzK,QAELvzK,KAAK4nB,IAAIk8B,EAAW9zC,KAAKkgC,IAAIlwC,KAAKqgH,MAAM0vD,IAAMjsH,EAAW1/C,QAEjE,IAAIwkI,GAAQ5oI,KAAKmvN,cACjBvxC,GAAOqrC,IAAI17M,IAAKqa,EAAM,MAAQkG,mBAAmBiiJ,IAAQnnC,EAAQ,IAAMA,EAAO,IAAK,SAAUpgI,GACtFkQ,EAAQ7O,YACTrB,EAAO2G,KAAKC,MAAM5G,GAAQA,EAAK+iB,eAEjCuQ,GAAYA,EAAStzB,MAI3B0+M,YAAa,SAASprH,EAAOzmF,EAAMymB,GAC7B97B,KAAKqiL,OAGPriL,KAAKovN,aAAatzH,EAAOzmF,EAAMymB,GAF/B97B,KAAKqtN,WAAW1hN,MAAMmwF,EAAOzmF,EAAMymB,KAMvC4xL,UAAW,SAASvjN,GAClBnK,KAAKqiL,QAAS,EACdriL,KAAKqvN,gBACLrvN,KAAK0Y,QAAQvO,OAASnK,KAAK0Y,QAAQvO,SAGrCklN,cAAe,WAEb,IADA,GAAI58K,GACGA,EAAOzyC,KAAKqtN,WAAWvkN,OAC5B9I,KAAKovN,aAAaxsN,MAAM5C,KAAMyyC,IAQlC28K,aAAc,SAAStzH,EAAOzmF,EAAMymB,GAClC,GAAIwzL,GAAkBzpE,EAASt3E,OAAO,gCAAgCj9C,OACtEtxB,MAAK4rF,MAAQ5rF,KAAK0Y,QAAQkzE,KAC1B,IAEI2jI,GAAcvvN,KAAK0Y,QAAQouK,MAE5B9mL,MAAK0Y,QAAQ40M,UACdiC,EAAchmK,EAAO,+BAAgCvpD,KAAK0Y,SAG5D,IAAIq3J,GAAM,6nBAyBN7nC,EAAQ3+E,EAAOwmH,EAAK/vK,KAAK0Y,SAC3BrD,KAAMA,EACNtK,EAAG+wF,EAAM/wF,EACTE,EAAG6wF,EAAM7wF,EACTskN,YAAaA,EACbz5B,KAAM91L,KAAKgwK,WAGTjnI,EAAO/oC,IACXA,MAAK+vK,IAAI7nC,EAAO,SAAU1/H,GACxB,GAAIA,EAAM,CACR,GAAIksL,GAAOvlL,KAAKC,MAAM5G,EAAK+iB,cAAcmpK,IACzC54J,GAASiN,EAAK4kL,aAAaj5B,EAAM54F,EAAOzmF,QAExCymB,GAAS,KAEXwzL,GAAgBrhN,SAIpBg5M,WAAY,WACV,OACE31L,MAA4B,IAArBtxB,KAAK0Y,QAAQ4Y,MACpBrjB,IAAwB,IAAnBjO,KAAK0Y,QAAQzK,IAClBmjB,KAAMpxB,KAAK0Y,QAAQ0Y,KACnB6oI,MAAOj6J,KAAK0Y,QAAQuhJ,MACpBu1D,WAAYxvN,KAAK0Y,QAAQ40M,QAAU,OAAQ,WAI/CxG,UAAW,SAAShgC,EAAQigC,GAC1B/mN,KAAK0Y,QAAQouK,OAASA,EACtB9mL,KAAK0Y,QAAQ40M,QAAqBpyL,SAAX6rL,EACvB/mN,KAAKm4K,UAGPs3C,cAAe,SAASt9G,GACtBnyG,KAAK0Y,QAAQq8E,WAAaod,GAI5B7nE,WAAY,SAASyjB,GACnB,GAAI2hK,IAAU,CAsBd,IApBsBx0L,SAAnB6yB,EAAIgnC,YAA4BhnC,EAAIgnC,aAAe/0F,KAAK0Y,QAAQq8E,aACjE/0F,KAAK0Y,QAAQq8E,WAAahnC,EAAIgnC,WAC9B26H,GAAU,GAGKx0L,SAAd6yB,EAAIksG,OAAuBlsG,EAAIksG,QAAUj6J,KAAK0Y,QAAQuhJ,QACvDj6J,KAAK6mN,SAAS94J,EAAIksG,OAASp9H,QAAQ,IACnC6yL,GAAU,GAGMx0L,SAAf6yB,EAAI+4H,QAAwB/4H,EAAI+4H,SAAW9mL,KAAK0Y,QAAQouK,SACzD9mL,KAAK0Y,QAAQouK,OAAS/4H,EAAI+4H,OAC1B4oC,GAAU,GAGOx0L,SAAhB6yB,EAAI4hK,SAAyB5hK,EAAI4hK,UAAY3vN,KAAK0Y,QAAQi3M,UAC3D3vN,KAAK0Y,QAAQi3M,QAAU5hK,EAAI4hK,QAC3BD,GAAU,GAGgBx0L,SAAzB6yB,EAAIw/J,iBAAgC,CACrC,GAAIrsN,GAA6B,eAAzB6sD,EAAIw/J,gBACRvtN,MAAK0Y,QAAQ80M,aAAetsN,IAC9BlB,KAAK0Y,QAAQ80M,WAAatsN,EAC1BwuN,GAAU,GAKd,MADIA,IAAS1vN,KAAKm4K,SACXu3C,GAITv3C,OAAQ,WACNn4K,KAAKqiL,QAAS,EACdriL,KAAKytN,iBAGP98C,OAAQ,SAASZ,GACX/vK,KAAK0Y,QAAQq3J,KAAOA,IACtB/vK,KAAK0Y,QAAQq3J,IAAMA,EACnB/vK,KAAKm4K,WAITmuC,SAAU,WACR,MAAOt2M,MAAK4kB,IAAI50B,KAAK0Y,QAAQuhJ,MAAOj6J,KAAK0Y,QAAQk3M,aAGnD/I,SAAU,SAAS5sD,EAAOlsG,GACxBA,EAAMA,MACF/tD,KAAK0Y,QAAQuhJ,QAAUA,IACzBj6J,KAAK0Y,QAAQuhJ,MAAQA,EACrBj6J,KAAK0Y,QAAQ0Y,MAAQpxB,KAAK0Y,QAAQzK,IAAMjO,KAAK0Y,QAAQ4Y,OAAOtxB,KAAKsmN,WACjEtmN,KAAK0Y,QAAQ0Y,KAAOpxB,KAAK0Y,QAAQ0Y,MAAQ,EACpC28B,EAAIlxB,QAAQ78B,KAAKm4K,WAI1Bv9H,UAAW,WACT,MAAO56C,MAAK0Y,QAAQ+3B,QAGtBu/H,OAAQ,WACN,MAAOhwK,MAAK0Y,QAAQq3J,KAAO,iBAAmB/vK,KAAK0Y,QAAQkzE,OAG7DqnF,WAAY,WACV,GAAI92E,GAAOn8F,KAAK0Y,QACZk2K,EAAQzyF,EAAK+1E,WAAa/1E,EAAKyyF,IACnC,OAAOzyF,GAAK6xD,eACP,OAAS4gC,EAAOA,EAAO,IAAM,IAC7BzyF,EAAK2xD,cACgB,IAAnB3xD,EAAK4xD,WAAqB,IAAM5xD,EAAK4xD,WAAc,KAG5D8hE,eAAgB,SAAS/zL,GACvB,GAAIiN,GAAO/oC,KACP09K,GACFjtK,QAAW,QACXsyI,SAAY/iJ,KAAK0Y,QAAQqqI,UAAY,SACrCtpG,SACEn0C,KAAQ,UACRoT,SACEy3J,iBAAoB,QACpBF,SAAY,YACZF,IAAO/vK,KAAKgwK,aAIdpoJ,EAAM5nB,KAAKizK,aAAe,oBAC1BrqC,EAAQ5oI,KAAKmvN,cAIbvmF,KACFA,EAAQA,EAAMlkI,QAAQ,WAAY,aAGpCkjB,EAAMA,EACJ,WAAakG,mBAAmB3e,KAAK0rB,UAAU6iJ,IAC/C,eAAiB90C,EAAQ,IAAMA,EAAO,IAExCg1C,EAAOqrC,IAAIh7L,MAAMrG,EAAK,SAAUpf,GAC9B,GAAI0/H,GAAQ3+E,EAAO,mDAAqDwmH,IAAKhnI,EAAKinI,UAClFjnI,GAAKgnI,IAAI7nC,EAAO,SAAU4nF,GACpBtnN,GAAQsnN,GACVh0L,GACEmvJ,WAAYziL,EAAKunN,aACjBnzD,OAAQkzD,EAAUlzD,WAGnB/yJ,WAAW,OASpB4jN,cAAe,WACb,GACIuC,GAASC,EAASC,EAAUC,EAD5BpnL,EAAO/oC,IAGXA,MAAK6vN,eAAe,SAASrnN,GAC3B,GAAKA,EAAL,CACAugC,EAAKrwB,QAAQ01I,aAAerlH,EAAKrwB,QAAQ01I,iBACzCrlH,EAAKrwB,QAAQ01I,aAAa2hE,aAAevnN,EAAKyiL,YAAc,EAC5DliJ,EAAKrwB,QAAQ01I,aAAagiE,aAAe,UACzCrnL,EAAKrwB,QAAQ40M,QAAoD,SAA1C9kN,EAAKo0J,OAAO7zH,EAAKrwB,QAAQouK,QAAQxhL,IAExD,IAAIiqN,GAAcxmL,EAAKrwB,QAAQouK,MAC3B/9I,GAAKrwB,QAAQ40M,SACf4C,EAAW,oCACXC,EAAW,oCACXZ,EAAchmK,EAAO,+BAAgCxgB,EAAKrwB,WAE1Dw3M,EAAW,gBACXC,EAAW,iBAGbH,EAAUzmK,EAAO2mK,GAAYppC,OAAQ/9I,EAAKrwB,QAAQouK,SAClDmpC,EAAU1mK,EAAO4mK,GAAYrpC,OAAQ/9I,EAAKrwB,QAAQouK,QA6BlD,IAAIupC,GAAY,6SASZtgD,EAAMxmH,EAAO8mK,GACfL,QAASA,EACTC,QAASA,EACTnpC,OAAQyoC,EACRx/C,IAAKhnI,EAAKinI,UAGZjnI,GAAKgnI,IAAIA,EAAK,SAASvnK,GAErBA,EAAOA,EAAKksL,KAAK,GACjB3rJ,EAAKrwB,QAAQ4Y,MAAQ9oB,EAAK8nN,SAC1BvnL,EAAKrwB,QAAQzK,IAAMzF,EAAK+nN,SACxBxnL,EAAKrwB,QAAQ0Y,MAAQ5oB,EAAK+nN,SAAW/nN,EAAK8nN,UAAUtgN,KAAK4kB,IAAImU,EAAKrwB,QAAQuhJ,MAAOzxJ,EAAKgoN,WAAW,GACjGznL,EAAKrwB,QAAQk3M,WAAapnN,EAAKgoN,WAAa,EAE5CznL,EAAKrwB,QAAQ0Y,KAAO2X,EAAKrwB,QAAQ0Y,MAAQ,EACzC2X,EAAKrwB,QAAQ+3B,SACVjoC,EAAKioN,KAAMjoN,EAAKkoN,OAChBloN,EAAKmoN,KAAMnoN,EAAKooN,OAEnB7nL,EAAK2kL,WAAU,KACZ7jN,WAAW,EAAMurK,QAAQ,OAC3BvrK,WAAW,EAAMurK,QAAQ,MAKpC1hJ,EAAOD,QAAUrH,IAEdy8L,MAAM,GAAGgI,cAAc,KAAKtc,IAAI,SAASl5K,EAAQ3H,EAAOD,GAC3D,GAAImqJ,GAASviJ,EAAQ,OACjBwqH,EAAWxqH,EAAQ,eAEjB09B,EAAa6kH,EAAOzxI,MAAM4sB,WAC1BinJ,EAAapiC,EAAOzxI,MAAM6zK,WAC1BF,EAAcliC,EAAOzxI,MAAM2zK,YAa3B1zL,EAAO,SAAU1T,GAEnB1Y,KAAK0Y,QAAUA,EAIjB0T,GAAK/gB,WAUHylN,eAAgB,SAASp8B,GACvB,QAASq8B,GAAQrrC,GAIf,IAAK,GAHDsrC,GAAc,EACdC,EAAcvrC,EAAIl9K,KAAK,GACvB+qB,KACK1zB,EAAI,EAAGA,EAAIoxN,IAAepxN,EACjC0zB,EAAKmyJ,EAAIl9K,KAAKwoN,EAAcnxN,IAAM6lL,EAAIl9K,KAAKwoN,EAAcC,EAAcpxN,EAEzE,OAAO0zB,GAET,GAAIA,KACJ,KAAK7oB,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAAG,CAChC,GAAIwmN,GAAUH,EAAQr8B,EAAKhqL,GAC3B,KAAI,GAAIrG,KAAK6sN,GACX39L,EAAKlvB,GAAKkvB,EAAKlvB,IAAM,EACrBkvB,EAAKlvB,IAAM6sN,EAAQ7sN,GAGvB,MAAOkvB,IASTo6L,aAAc,SAASj5B,EAAM54F,EAAOzmF,GAOlC,QAAS87M,GAAWzrC,GASlB,IAAK,GARDsrC,GAAc,EACdhtN,GACF+G,EAAG26K,EAAIl9K,KAAK,GAAKugC,EAAKrwB,QAAQq8E,WAC9B9pF,EAAGy6K,EAAIl9K,KAAK,GAAKugC,EAAKrwB,QAAQq8E,WAC9Bk8H,YAAavrC,EAAIl9K,KAAK,GACtBqvB,SACA1C,WAEOt1B,EAAI,EAAGA,EAAImE,EAAEitN,cAAepxN,EAClCmE,EAAE6zB,MAAMlsB,KAAK+5K,EAAIl9K,KAAKwoN,EAAcnxN,IACpCmE,EAAEmxB,OAAOxpB,KAAK+5K,EAAIl9K,KAAKwoN,EAAchtN,EAAEitN,YAAcpxN,GAExD,IAAGkpC,EAAKrwB,QAAQ80M,WACd,IAAK,GAAI3tN,GAAI,EAAGA,EAAImE,EAAEitN,cAAepxN,EACpCmE,EAAEmxB,OAAOt1B,IAAMmE,EAAEmxB,OAAOt1B,EAAI,EAG/B,OAAOmE,GAxBT,GAAI0G,GACAK,EAAI,GAAIguD,GAAW27H,EAAKtwL,QACxB6G,EAAI,GAAI8tD,GAAW27H,EAAKtwL,QACxB2kC,EAAO/oC,IAyBX,KAAK0K,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAC7BgqL,EAAKhqL,GAAKymN,EAAWz8B,EAAKhqL,GAI5B,IAAIqjN,GAAQ,EACRC,EAAe,CACnB,KAAKtjN,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAAG,CAChC,GAAIg7K,GAAMgP,EAAKhqL,EACfqjN,IAASroC,EAAI7tJ,MAAMzzB,MACnB,KAAI,GAAIhD,GAAI,EAAGA,EAAIskL,EAAI7tJ,MAAMzzB,SAAUhD,EACrC4sN,EAAeh+M,KAAKC,IAAI+9M,EAActoC,EAAI7tJ,MAAMz2B,IAapD,IAAK,GARD8sN,GAAY,GAAIlO,GAAWgO,EAAe,GAC1CG,EAAY,GAAInO,GAAWgO,EAAe,GAC1CI,EAAa,IAAKpuN,KAAK0Y,QAAQ21M,eAAiBt1J,GAAYg1J,GAC5DO,EAAgB,GAAIxO,GAAYiO,GAEhCQ,KAGK7jN,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAAG,CACpC,GAAIg7K,GAAMgP,EAAKhqL,EACfK,GAAEL,GAAKg7K,EAAI36K,EACXE,EAAEP,GAAKg7K,EAAIz6K,CAIX,KAAK,GAFD8iN,GAAQroC,EAAI7tJ,MACZ62L,EAAOhpC,EAAIvwJ,OACNvxB,EAAI,EAAGylC,EAAM0kL,EAAM3pN,OAAQR,EAAIylC,IAAOzlC,EAAG,CAC9C,GAAIirN,GAAKN,EAAYR,EAAMnqN,MAAQ2qN,EAAYR,EAAMnqN,OACrDirN,GAAGljN,MAAMjB,EAAGgkN,EAAK9qN,MAQvB,IAAI,GAHAmrN,GAAkB,EAClBC,EAAgB,EAChB7qN,EAAI,EACAA,EAAI,EAAGA,GAAK6pN,IAAgB7pN,EAAG,CACrC,GAAIjD,GAAI,EACJ+tN,EAAWV,EAAYpqN,EAC3B,IAAG8qN,EACD,IAAK,GAAIvkN,GAAI,EAAGA,EAAIukN,EAAS7qN,SAAUsG,EAAG,CACxC,GAAImkN,GAAKI,EAASvkN,KAChBxJ,EACFotN,EAAcS,GAAmBF,EAAG,GACpCT,EAAWW,GAAmBF,EAAG,KAC/BE,EAGNb,EAAU/pN,GAAK6qN,EACfb,EAAUhqN,GAAKjD,EACf8tN,GAAiB9tN,EAGnB,OACE6J,EAAGA,EACHE,EAAGA,EACH6wF,OACE/wF,EAAG+wF,EAAM/wF,EACTE,EAAG6wF,EAAM7wF,EACTb,EAAGiL,GAEL84M,UAAWA,EACXD,UAAWA,EACXI,cAAeA,EACfF,WAAYA,IAIhBxmM,IAAK,WACH,MAAO5nB,MAAK0Y,QAAQkP,KAItBwpM,QAAS,SAASt1H,EAAOzmF,GACvB,GAAI4jB,GAAWj5B,KAAK4nB,MAChB/nB,GAAKG,KAAK0Y,QAAQorC,YAAc,SAASg4C,EAAM/wF,EAAI+wF,EAAM7wF,EAAIoK,GAAQ,EACzE,OAAO4jB,GACJv0B,QAAQ,MAAOo3F,EAAM/wF,GACrBrG,QAAQ,MAAOo3F,EAAM7wF,GACrBvG,QAAQ,MAAO2Q,GACf3Q,QAAQ,MAAO7E,IAGpBk3F,QAAS,SAAS+E,EAAOzmF,EAAMymB,GAC7B,GAAI7C,GAAWj5B,KAAKoxN,QAAQt1H,EAAOzmF,GAG/Bg8M,EAAYxrE,EAASt3E,OAAO,uBAChC8iJ,GAAU//L,QACVssJ,EAAOqrC,IAAI17M,IAAI0rB,EAAU,SAAUzwB,GACjC6oN,EAAUpjN,MACPzF,IACDA,EAAO2G,KAAKC,MAAM5G,EAAK+iB,eAEzBuQ,EAAStzB,MAQb0+M,YAAa,SAASprH,EAAOzmF,EAAMymB,GACjC,GAAI7C,GAAWj5B,KAAKoxN,QAAQt1H,EAAOzmF,GAE/B0zB,EAAO/oC,KACPqxN,EAAYxrE,EAASt3E,OAAO,uBAChC8iJ,GAAU//L,QACVssJ,EAAOqrC,IAAI17M,IAAI0rB,EAAU,SAAUzwB,GACjC6oN,EAAUpjN,KACV,IAAIqjN,GAAY,KAEZC,EAAiB1rE,EAASt3E,OAAO,6BACjCijJ,EAAc3rE,EAASt3E,OAAO,yBAClC,KACEgjJ,EAAejgM,QACfkgM,EAAYlgM,OACZ,IAAIojK,GAAOvlL,KAAKC,MAAM5G,EAAK+iB,cAAgB/iB,EAAK4pL,UAAUsC,IAC1D88B,GAAYvjN,MACZqjN,EAAYvoL,EAAK4kL,aAAaj5B,EAAM54F,EAAOzmF,GAC3Ck8M,EAAetjN,MACf,MAAM3M,GACNozF,QAAQjwF,MAAM,2BAA4Bq3F,EAAOzmF,GAGnDymB,EAASw1L,OAOf59L,EAAOD,QAAUrH,IAEhBy8L,MAAM,GAAGgI,cAAc,KAAKrc,IAAI,SAASn5K,EAAQ3H,EAAOD,GACzD,GAAImqJ,GAASviJ,EAAQ,OACjBwqH,EAAWxqH,EAAQ,eAEnB09B,EAAa6kH,EAAOzxI,MAAM4sB,WAC1BinJ,EAAapiC,EAAOzxI,MAAM6zK,WAC1BF,EAAcliC,EAAOzxI,MAAM2zK,YAC3BD,EAAoBjiC,EAAOzxI,MAAM0zK,kBAajCsG,EAAY,SAAUztM,GAsBxB,GArBA1Y,KAAKqiL,QAAS,EACdriL,KAAKqtN,cACLrtN,KAAK0Y,QAAUA,EAEf1Y,KAAK0Y,QAAQ40M,QAAmCpyL,SAAzBl7B,KAAK0Y,QAAQ40M,SAA8BttN,KAAK0Y,QAAQ40M,QAC/EttN,KAAK0Y,QAAQs1I,eAAiBt1I,EAAQs1I,gBAAkB,OACxDhuJ,KAAK0Y,QAAQo1I,aAAep1I,EAAQo1I,cAAgB,YACpD9tJ,KAAK0Y,QAAQq1I,WAAar1I,EAAQq1I,YAAc,GAG3Cr1I,EAAQ4pI,kBAGXtiJ,KAAK0Y,QAAQ4pI,kBAAqB5pI,EAAQ4pI,kBAF1CtiJ,KAAKuiJ,sBAAsBviJ,KAAK0Y,SAKlC1Y,KAAK0Y,QAAQ+4M,sBAAwBzxN,KAAK0Y,QAAQ+4M,uBAAyB14J,EAEvE/4D,KAAK0Y,QAAQ60M,mBACfvtN,KAAK0Y,QAAQ80M,WAA+C,eAAlCxtN,KAAK0Y,QAAQ60M,kBAErCvtN,KAAK0Y,QAAQo6J,WAAY,CAC3B,GAAIxxK,GAAItB,KAAK0Y,QAAQ01I,eAAiBpuJ,KAAK0Y,QAAQ01I,gBACnD9sJ,GAAEwxK,WAAa9yK,KAAK0Y,QAAQo6J,WAEzB9yK,KAAK0Y,QAAQg5M,cAChB1xN,KAAK2xN,YAITxL,GAAU96M,WAWRsiN,aAAc,SAASj5B,EAAM54F,EAAOzmF,GAClC,GAAI3K,GACAK,EAAI,GAAI/K,MAAK0Y,QAAQ+4M,sBAAsB/8B,EAAKtwL,QAChD6G,EAAI,GAAIjL,MAAK0Y,QAAQ+4M,sBAAsB/8B,EAAKtwL,QAEhDwpN,EAAW/nE,EAASt3E,OAAO,iCAC3Bs/I,EAAmBhoE,EAASt3E,OAAO,oCACnCu/I,EAAoBjoE,EAASt3E,OAAO,0CAA0Cj9C,QAG9Ey8L,EAAQ,EACRC,GAAe,CACnB,KAAKtjN,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAAG,CAChC,GAAIg7K,GAAMgP,EAAKhqL,EACfqjN,IAASroC,EAAIuoC,cAAc7pN,MAC3B,KAAI,GAAIhD,GAAI,EAAGA,EAAIskL,EAAIuoC,cAAc7pN,SAAUhD,EAC7C4sN,EAAeh+M,KAAKC,IAAI+9M,EAActoC,EAAIuoC,cAAc7sN,IAIzDpB,KAAK0Y,QAAQ80M,aACdO,GAAS,EAAIC,GAAgBt5B,EAAKtwL,OAGpC,IAAIkB,GAAOtF,KAAK0Y,QAAQ80M,WAAa1N,EAAaD,EAG9CqO,EAAY,GAAIlO,GAAWgO,EAAe,GAC1CG,EAAY,GAAInO,GAAWgO,EAAe,GAC1CI,EAAa,IAAKpuN,KAAK0Y,QAAQ21M,eAAiB/oN,GAAMyoN,GACtDO,EAAgB,GAAIxO,GAAYiO,EAEpCH,GAASnnE,IACP,EAAIunE,EACJ,EAAIA,EACJD,EACQ,EAARA,GAGFF,EAAiBpnE,IAAIiuC,EAAKtwL,OAK1B,KAAK,GAHDmqN,MAGK7jN,EAAI,EAAGA,EAAIgqL,EAAKtwL,SAAUsG,EAAG,CACpC,GAAIg7K,GAAMgP,EAAKhqL,EACfK,GAAEL,GAAKg7K,EAAI8oC,SAAWxuN,KAAK0Y,QAAQq8E,WACnC9pF,EAAEP,GAAKg7K,EAAI+oC,SAAWzuN,KAAK0Y,QAAQq8E,UAEnC,IAAIg5H,GAAQroC,EAAIuoC,cACZS,EAAOhpC,EAAIipC,WACf,IAAK3uN,KAAK0Y,QAAQ80M,WASX,CAEL,IAAK,GADDoB,MACKhrN,EAAI,EAAGylC,EAAM0kL,EAAM3pN,OAAQR,EAAIylC,IAAOzlC,EAC7CgrN,EAAUb,EAAMnqN,IAAM8qN,EAAK9qN,EAK7B,KAAK,GAHD2rG,GAAQ,EAGH3rG,EAAImqN,EAAM,GAAInqN,GAAKoqN,IAAgBpqN,EAAG,CAC3C,GAAIirN,GAAKN,EAAY3qN,KAAO2qN,EAAY3qN,OACpCiH,EAAI+jN,EAAUhrN,EACdiH,KACF0kG,GAAS1kG,GAEXgkN,EAAGljN,MAAMjB,EAAG6kG,SAtBhB,KAAK,GAAI3rG,GAAI,EAAGylC,EAAM0kL,EAAM3pN,OAAQR,EAAIylC,IAAOzlC,EAAG,CAC9C,GAAIirN,GAAKN,EAAYR,EAAMnqN,MAAQ2qN,EAAYR,EAAMnqN,OAClD5D,MAAK0Y,QAAQ80M,aACZkB,EAAK9qN,IAAMkrN,UAEfA,SAAWJ,EAAK9qN,GAChBirN,EAAGljN,MAAMjB,EAAGgkN,EAAK9qN,MAiCzB,IAAI,GAHAmrN,GAAkB,EAClBC,EAAgB,EAChB7qN,EAAI,EACAA,EAAI,EAAGA,GAAK6pN,IAAgB7pN,EAAG,CACrC,GAAIjD,GAAI,EACJ+tN,EAAWV,EAAYpqN,EAC3B,IAAG8qN,EACD,IAAK,GAAIvkN,GAAI,EAAGA,EAAIukN,EAAS7qN,SAAUsG,EAAG,CACxC,GAAImkN,GAAKI,EAASvkN,KAChBxJ,EACFotN,EAAcS,GAAmBF,EAAG,GACpCT,EAAWW,GAAmBF,EAAG,KAC/BE,EAGNb,EAAU/pN,GAAK6qN,EACfb,EAAUhqN,GAAKjD,EACf8tN,GAAiB9tN,EAKnB,MAFA4sN,GAAkB7/M,OAGhBlD,EAAGA,EACHE,EAAGA,EACHb,EAAGiL,EACHymF,OACE/wF,EAAG+wF,EAAM/wF,EACTE,EAAG6wF,EAAM7wF,EACTb,EAAGiL,GAEL84M,UAAWA,EACXD,UAAWA,EACXI,cAAeA,EACfF,WAAYA,EACZc,QAASlB,IAQbnH,SAAU,SAAS5sD,EAAOlsG,GACxBA,EAAMA,MACF/tD,KAAK0Y,QAAQuhJ,QAAUA,IACzBj6J,KAAK0Y,QAAQuhJ,MAAQA,EACrBj6J,KAAK0Y,QAAQ0Y,MAAQpxB,KAAK0Y,QAAQzK,IAAMjO,KAAK0Y,QAAQ4Y,OAAOtxB,KAAKsmN,WACjEtmN,KAAK0Y,QAAQ0Y,KAAOpxB,KAAK0Y,QAAQ0Y,MAAQ,EACpC28B,EAAIlxB,QAAQ78B,KAAKm4K,WAI1B7tI,WAAY,SAASyjB,GACnB,GAAI2hK,IAAU,CAsBd,IApBsBx0L,SAAnB6yB,EAAIgnC,YAA4BhnC,EAAIgnC,aAAe/0F,KAAK0Y,QAAQq8E,aACjE/0F,KAAK0Y,QAAQq8E,WAAahnC,EAAIgnC,WAC9B26H,GAAU,GAGKx0L,SAAd6yB,EAAIksG,OAAuBlsG,EAAIksG,QAAUj6J,KAAK0Y,QAAQuhJ,QACvDj6J,KAAK6mN,SAAS94J,EAAIksG,OAASp9H,QAAQ,IACnC6yL,GAAU,GAGMx0L,SAAf6yB,EAAI+4H,QAAwB/4H,EAAI+4H,SAAW9mL,KAAK0Y,QAAQouK,SACzD9mL,KAAK0Y,QAAQouK,OAAS/4H,EAAI+4H,OAC1B4oC,GAAU,GAGOx0L,SAAhB6yB,EAAI4hK,SAAyB5hK,EAAI4hK,UAAY3vN,KAAK0Y,QAAQi3M,UAC3D3vN,KAAK0Y,QAAQi3M,QAAU5hK,EAAI4hK,QAC3BD,GAAU,GAGgBx0L,SAAzB6yB,EAAIw/J,iBAAgC,CACrC,GAAIrsN,GAA6B,eAAzB6sD,EAAIw/J,gBACRvtN,MAAK0Y,QAAQ80M,aAAetsN,IAC9BlB,KAAK0Y,QAAQ80M,WAAatsN,EAC1BwuN,GAAU,GAKd,MADIA,IAAS1vN,KAAKm4K,SACXu3C,GAGTP,aAAc,SAAS7tN,GAErB,GADAA,EAAIs8K,EAAOl4K,OAAOk4K,EAAOl4K,UAAWpE,GAAItB,KAAK0Y,QAAQ01I,cAC9C,CACL,GAAInqJ,KACJ,KAAI,GAAII,KAAK/C,GAAG,CACd,GAAIuJ,GAAIvJ,EAAE+C,EACV,IAAIwG,EACF,GAAI+yK,EAAOx4K,QAAQyF,GACjB,IAAK,GAAI1G,GAAI,EAAGklC,EAAMx+B,EAAEzG,OAAQD,EAAIklC,EAAKllC,IACvCF,EAAE0H,KAAKtH,EAAI,MAAQypB,mBAAmBjjB,EAAE1G,SAG1CF,GAAE0H,KAAKtH,EAAI,IAAMypB,mBAAmBjjB,IAI1C,MAAO5G,GAAE8J,KAAK,KAEhB,MAAO,OAGTm5M,YAAa,SAASprH,EAAOzmF,EAAMymB,GAC7B97B,KAAKqiL,OAGPriL,KAAKovN,aAAatzH,EAAOzmF,EAAMymB,GAF/B97B,KAAKqtN,WAAW1hN,MAAMmwF,EAAOzmF,EAAMymB,KAMvC4xL,UAAW,SAASvjN,GAClBnK,KAAKqiL,QAAS,EACdriL,KAAKqvN,gBACLrvN,KAAK0Y,QAAQvO,OAASnK,KAAK0Y,QAAQvO,SAGrCklN,cAAe,WAEb,IADA,GAAI58K,GACGA,EAAOzyC,KAAKqtN,WAAWvkN,OAC5B9I,KAAKovN,aAAaxsN,MAAM5C,KAAMyyC;EAQlC28K,aAAc,SAAStzH,EAAOzmF,EAAMymB,GAClC,GAAIiN,GAAO/oC,KACPsvN,EAAkBzpE,EAASt3E,OAAO,wCAAwCj9C,QAC1EwyB,EAAa9jD,KAAK0Y,QAAQorC,YAAc,OACxC8tK,EAAU5hN,KAAKm6B,IAAI,EAAG90B,GACtBw8M,GAAgB/1H,EAAM/wF,EAAI6mN,EAAWA,GAAWA,EAChDptM,EAAQxU,KAAKkgC,IAAI2hL,EAAc/1H,EAAM7wF,GAAK64C,EAAW1/C,OACrDwjB,EAAM5nB,KAAK8xN,YACJptN,QAAQ,MAAOmtN,GACfntN,QAAQ,MAAOo3F,EAAM7wF,GACrBvG,QAAQ,MAAO2Q,GACf3Q,QAAQ,MAAOo/C,EAAWt/B,IAEjCokH,EAAQ5oI,KAAKmvN,cACjBvxC,GAAOqrC,IAAI17M,IAAKqa,GAAOghH,EAAQ,IAAMA,EAAO,IAAK,SAAUpgI,GAEzD,GADA8mN,EAAgBrhN,MACZzF,GAAQA,EAAK+iB,aAAc,CAC7B,GAAImpK,GAAOvlL,KAAKC,MAAM5G,EAAK+iB,aAC3BuQ,GAASiN,EAAK4kL,aAAaj5B,EAAM54F,EAAOzmF,QAExCwwI,GAASt3E,OAAO,wCAAwCk4E,MACxD3qH,EAAS,SAKfmrL,WAAY,WACV,OACE31L,MAAOtxB,KAAK0Y,QAAQ4Y,MACpBrjB,IAAKjO,KAAK0Y,QAAQzK,IAClBmjB,KAAMpxB,KAAK0Y,QAAQ0Y,KACnB6oI,MAAOj6J,KAAK0Y,QAAQuhJ,MACpBu1D,WAAYxvN,KAAK0Y,QAAQq5M,cAI7BjL,UAAW,SAAShgC,EAAQigC,GAC1B/mN,KAAK0Y,QAAQouK,OAASA,EACtB9mL,KAAK0Y,QAAQ40M,QAAqBpyL,SAAX6rL,EACvB/mN,KAAKm4K,UAGPA,OAAQ,WACNn4K,KAAKqiL,QAAS,EACdriL,KAAK2xN,aAGPrL,SAAU,WACR,MAAOt2M,MAAK4kB,IAAI50B,KAAK0Y,QAAQuhJ,MAAOj6J,KAAK0Y,QAAQk3M,aAGnDh1K,UAAW,WACT,MAAO56C,MAAK0Y,QAAQ+3B,QAGtBu/H,OAAQ,WACN,MAAOhwK,MAAK0Y,QAAQq3J,KAAO,iBAAmB/vK,KAAK0Y,QAAQkzE,OAG7D+kF,OAAQ,SAASZ,GACX/vK,KAAK0Y,QAAQq3J,KAAOA,IACtB/vK,KAAK0Y,QAAQq3J,IAAMA,EACnB/vK,KAAKm4K,WAIT51B,sBAAuB,SAASpmD,GAC7B,GAAIyyF,GAAOzyF,EAAK+1E,WAAa/1E,EAAKyyF,IAClCzyF,GAAKmmD,kBAAoBnmD,EAAK6xD,eAC1B,OAAS,EAAS,UAAU,IAC5B7xD,EAAK2xD,cACgB,IAAnB3xD,EAAK4xD,WAAqB,IAAM5xD,EAAK4xD,WAAc,KAG5DklB,WAAY,WACV,GAAI92E,GAAOn8F,KAAK0Y,QACZk2K,EAAOzyF,EAAK+1E,WAAa/1E,EAAKyyF,IAClC,OAAOzyF,GAAKmmD,kBAAkB59I,QAAQ,SAAUkqL,IAGlDhnK,IAAK,WACH,GAAIu0E,GAAOn8F,KAAK0Y,QACZw8J,EAAW/4E,EAAKkyD,QAChB8mB,GAAiBD,GAAaA,IAAcA,EAAS3kF,OAAS2kF,EAASb,KAE3E,IAAIl4E,EAAKi5E,QAAUD,EACjB,MAAOn1K,MAAKizK,YAEZ,IAAIxwI,GAAWziC,KAAKs0K,UAAY,QAAS,OACrC3wK,EAAI8+B,EAAW,KACdziC,MAAKs0K,YACR3wK,GAAK,OAEP,IAAI0qJ,GAAU6mB,EAASzyI,EAIlBziC,MAAKq1K,mBAAmBhnB,KAC3BA,GAAqB,UAEvB,IAAIugC,GAAOzyF,EAAK+1E,WAAa/1E,EAAKyyF,IAElC,OADAjrL,IAAK0qJ,EAAQ3pJ,QAAQ,SAAUkqL,IAMnCvZ,mBAAoB,SAAS1qK,GAC3B,MAAOA,IAAKA,EAAEsB,QAAQ,aAAc,GAGtCqoK,QAAS,WACP,MAA2D,KAApDt0K,KAAK0Y,QAAQ4pI,kBAAkBr2I,QAAQ,UAGhD+lN,kBAAmB,WACjB,GAAIvlN,IACFi8L,sBAAuB1oM,KAAK0Y,QAAQuhJ,MACpC0uC,qBAAsB3oM,KAAK0Y,QAAQq8E,WACnC8zG,+BAAgC,IAAM7oM,KAAK0Y,QAAQi3M,QAAU,IAC7D7mB,yBAA0B,IAAM9oM,KAAK0Y,QAAQouK,OAAS,IACtDiiB,2BAA4B/oM,KAAK0Y,QAAQ80M,WAAa,aAAc,UAElEl+F,EAAK,MACT,KAAK,GAAIjrH,KAAKoI,GACZ6iH,GAAMjrH,EAAI,IAAMoI,EAAKpI,GAAK,GAE5B,OAAOirH,GAAK,KAGdqiG,UAAW,SAAS71L,GAClB,GAAIiN,GAAO/oC,KACP09K,KACAh7I,EAAO1iC,KAAK0Y,QAAQ46J,YAActzK,KAAK4nB,MAAMljB,QAAQ,MAAO,KAAM1E,KAAKizK,aACvErrJ,EAAM8a,EAAO,cACbuvL,EAAQjyN,KAAK0Y,QAAQoqI,UACrBovE,IAEDD,IAEDrqM,EAAM8a,EAAO,qBAAuBuvL,EAAMn7M,KAAO,SACtB,mBAAjBm7M,GAAMztL,SACdk5I,EAAau0C,EAAMztL,SAGrBk5I,GACEjtK,QAAW,QACXsyI,SAAY/iJ,KAAK0Y,QAAQqqI,UAAY,SACrCtpG,SACEn0C,KAAQ,SACRoT,SACEy3J,iBAAoB,QACpBF,SAAYjwK,KAAKgyN,oBACjBjiD,IAAO/vK,KAAKgwK,aAMjBhwK,KAAK0Y,QAAQqqI,WACdmvE,EAAoB,SAAIlyN,KAAK0Y,QAAQqqI,UAGvCna,MAAQ5oI,KAAKmvN,aAAa+C,GAItBtpF,QACFA,MAAQA,MAAMlkI,QAAQ,WAAY,aAGpCkjB,EAAMA,EACJ,WAAakG,mBAAmB3e,KAAK0rB,UAAU6iJ,IAC/C,eAAiB90C,MAAQ,IAAMA,MAAO,GAExC,IAAIupF,GAAoBtsE,EAASt3E,OAAO,6CAA6Cj9C,OACrFssJ,GAAOqrC,IAAIh7L,MAAMrG,EAAK,SAAUpf,GAE9B,GADA2pN,EAAkBlkN,MACdzF,EAAM,CACR,GAAIA,EAAK+8I,OAEP,YADAx8G,EAAKrwB,QAAQ8tM,eAAiBz9K,EAAKrwB,QAAQ8tM,cAAch+M,EAAK+8I,QAGhE,IAAI6sE,GAAahnN,OAAOmoB,KAAK/qB,EAAKipK,SAASmM,QAAQ,GAC/C7vH,EAAMvlD,EAAKipK,SAASmM,OAAOw0C,EAC/B,KAAI,GAAI/tN,KAAK0pD,GACXhlB,EAAKrwB,QAAQrU,GAAK0pD,EAAI1pD,EAGxB,IAAImE,EAAK6lJ,QAAS,CAChB,GAAIntJ,GAAI6nC,EAAKrwB,QAAQ21I,QAAUtlH,EAAKrwB,QAAQ21I,WAC5CntJ,GAAEqvF,KAAO/nF,EAAK6lJ,QAAQ99D,MAAQrvF,EAAEqvF,KAChCrvF,EAAEmzK,MAAQ7rK,EAAK6lJ,QAAQgmB,OAASnzK,EAAEmzK,MAEpCtrI,EAAK+oL,YAAc/oL,EAAKnhB,MAAQ,eAAiBpf,EAAK+oK,aAAe,IAAM6gD,EAAa,2BACxFrpL,EAAK2kL,WAAU,OAEf7nE,GAASt3E,OAAO,8CAA8Ck4E,QAE7D4rE,aAActpL,EAAKrwB,QAAQmpI,wBAKpCnuH,EAAOD,QAAU0yL,IAEhB0C,MAAM,GAAGgI,cAAc,KAAKnc,IAAI,SAASr5K,EAAQ3H,EAAOD,GAOzD,QAAS6+L,GAAYn2L,EAAKmzF,GACxBnzF,EAAI+6B,UAAYo4D,EAAG,cACnB,IAAIijG,GAAajjG,EAAG,eAOpBnzF,GAAIm7B,YACJn7B,EAAI8hC,IAAI,EAAG,EAAGs0J,EAAY,EAAGC,GAAK,GAAM,GACxCr2L,EAAIs7B,YAEyBv8B,SAAzBo0F,EAAG,oBAAmCA,EAAG,uBAAyBA,EAAG,uBAAyBA,EAAG,mBAEjGA,EAAG,iBACHnzF,EAAIw7B,YAAc23D,EAAG,wBAA0B,EAAGA,EAAG,uBAAwB,EAE3EnzF,EAAIw7B,YAAc,GACpBx7B,EAAIw3B,QAKJ27D,EAAG,sBAAwBA,EAAG,sBAAwBA,EAAG,qBAAuBmjG,IAClFt2L,EAAIw7B,YAAc23D,EAAG,wBAA0B,EAAGA,EAAG,uBAAwB,EAC7Cp0F,SAA5Bo0F,EAAG,uBACLnzF,EAAI66B,UAAYs4D,EAAG,sBAErBnzF,EAAI86B,YAAcq4D,EAAG,qBAGjBnzF,EAAIw7B,YAAc,GACpBx7B,EAAIk3B,UAKV,QAASq/J,GAAgBv2L,EAAKmzF,GAC5BnzF,EAAI+6B,UAAYo4D,EAAG,cACnB,IAAIijG,GAAajjG,EAAG,gBAChBxkH,EAAiB,EAAbynN,CAGJjjG,GAAG,iBAC6Bp0F,SAA9Bo0F,EAAG,wBAAiEp0F,SAAzBo0F,EAAG,oBAChDnzF,EAAIw7B,YAAc23D,EAAG,wBAA0BA,EAAG,mBAEpDnzF,EAAIw2L,UAAUJ,GAAaA,EAAYznN,EAAGA,IAI5CqxB,EAAIw7B,YAAc,EACd23D,EAAG,sBAAwBA,EAAG,uBAC5BA,EAAG,yBACLnzF,EAAIw7B,YAAc23D,EAAG,wBAEnBA,EAAG,uBACLnzF,EAAI66B,UAAYs4D,EAAG,sBAErBnzF,EAAI86B,YAAcq4D,EAAG,qBAGjBnzF,EAAIw7B,YAAc,GACpBx7B,EAAIy2L,YAAYL,GAAaA,EAAYznN,EAAGA,IAKlD,QAAS+nN,GAAa12L,EAAK+uB,EAAKokE,GAE3BpkE,EAAI5/B,WAC6B4P,SAA9Bo0F,EAAG,wBAAiEp0F,SAAzBo0F,EAAG,oBAChDnzF,EAAIw7B,YAAc23D,EAAG,wBAA0BA,EAAG,mBAEpDnzF,EAAIguL,UAAUj/J,EAAK,EAAG,EAAGl7C,KAAK4kB,IAAIs2B,EAAItpD,MAAOkxN,GAAoB9iN,KAAK4kB,IAAIs2B,EAAIrpD,OAAQixN,KAjF1F,GAAIN,GAAc,EAARxiN,KAAKihB,GAGXwhM,EAAsB,IACtBK,EAAoB,GAiF1Bp/L,GAAOD,SACH6+L,YAAaA,EACbO,aAAcA,EACdH,gBAAiBA,EACjBI,kBAAmBA,QAGjBje,IAAI,SAASx5K,EAAQ3H,EAAOD,GAClCC,EAAOD,SACHw8I,SAAU50I,EAAQ,qBAClB+T,MAAO/T,EAAQ,WACfshC,UAAWthC,EAAQ,kBAEpB03L,oBAAoB,GAAGC,UAAU,GAAGC,cAAc,KAAKje,IAAI,SAAS35K,EAAQ3H,EAAOD,IACtF,SAAWtY,GAqCT,QAAS+3M,GAAcC,GACrB,MAAOC,GAAkBD,IAAWA,EAMtC,QAASE,GAAchpK,EAAQ3xC,GAC7B,IAAK2xC,EACH,KAAM,IAAIn7C,OAAM,4BAElBlP,MAAK0Y,QAAUA,EACf1Y,KAAK8pN,QAAUz/J,EACfrqD,KAAK82D,KAAOzM,EAAOiM,WAAW,MAC9Bt2D,KAAKszN,YACLtzN,KAAKuzN,QAAU,KACfvzN,KAAKwzN,UACLxzN,KAAKyzN,aAAe,EACpBzzN,KAAKw1L,SAAW,GAAIk+B,GAAQ1zN,KAAK8pN,SAAU6J,YAAaj7M,EAAQi7M,cAChE3zN,KAAK4wK,YAAY5wK,KAAK0Y,QAAQu3J,UAAY2jD,GAC1C5zN,KAAK8nN,UAAY,IACjB9nN,KAAK6zN,OAAS,KACd7zN,KAAK8zN,cAEL9zN,KAAK+zN,cAAe,EA5DxB,GAAIn2C,GAASviJ,EAAQ,OACjB40I,EAAW50I,EAAQ,qBACnBwqH,EAAWxqH,EAAQ,eACnBkiJ,EAAQpiK,EAAOoiK,OAASliJ,EAAQ,SAChCq4L,EAAUr4L,EAAQ,oBAGhBu4L,GADgB,EAAV5jN,KAAKihB,IAEb,WACA,0BACA,qBACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,0CACA,KACAljB,KAAK,OAEHqlN,GACF1rM,IAAO,cACPssM,WAAY,cACZC,WAAY,mBACZC,SAAU,YACVC,SAAU,iBACVC,UAAW,aACXC,UAAW,kBACXC,WAAY,cACZC,WAAY,mBACZC,IAAO,MACP/5B,OAAU,SACVD,QAAW,UA8Bb5c,GAAOl4K,OAAO2tN,EAAchoN,UAAWuyK,EAAOliK,OAE5CyrM,YAAa,WACX,GAAI98J,GAASrqD,KAAK8pN,QACdx2J,EAAQtzD,KAAKy0N,KAAK,sBAEtB,IAAe,2BAAXnhK,GAAwCA,EAErC,CACL,GAAIn3B,GAAMn8B,KAAK82D,IACf36B,GAAIirL,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,EAChC,IAAI+L,GAASnzN,KAAKy0N,KAAK,UACvBt4L,GAAIu4L,yBAA2BxB,EAAcC,GAC7Ch3L,EAAI+6B,UAAY5D,EAChBn3B,EAAIw2L,SAAS,EAAG,EAAGtoK,EAAOzoD,MAAOyoD,EAAOxoD,YAPxC7B,MAAK8pN,QAAQloN,MAAQ5B,KAAK8pN,QAAQloN,OAWtC8mN,UAAW,SAASr+J,GAClBrqD,KAAK8pN,QAAUz/J,EACfrqD,KAAK82D,KAAOzM,EAAOiM,WAAW,OAMhCs6G,YAAa,SAASX,GAEpBjwK,KAAK2mN,WAAU,GAAIppC,GAAMse,YAAap4J,OAAOwsI,KAG/C02C,UAAW,SAAS3jB,GAElBhjM,KAAKszN,YACLtzN,KAAKuzN,QAAUvwB,EACfhjM,KAAKy0N,KAAOz0N,KAAKuzN,QAAQ7vB,aAAajyJ,aAAep8B,KAAM,GAC3D,IAAIs/M,GAAY30N,KAAKuzN,QAAQvvB,cAC7BhkM,MAAK40N,cAAcD,IAGrBjO,iBAAkB,WAChB1mN,KAAKszN,aAOPuB,eAAgB,SAAS7xB,EAAQl7L,EAAOgtN,GACtC,GACIC,GAAOlvE,EAASt3E,OAAO,wCAAwCj9C,QAC/Dg+F,EAAK0zE,EAAOvxJ,UACd3pC,MAAOA,GACNgtN,EACgB,QAAhB90N,KAAK6zN,QAAmB7zN,KAAK6zN,SAAWvkG,IACzCtvH,KAAK6zN,OAASvkG,EAGhB,IAAI0lG,GAAY1lG,EAAG,eACnB,KAAK0lG,EACH,MAAO,KAGT,IAA6B,IAAzB1lG,EAAG,oBAA4BA,EAAG,uBACpC,MAAO,KAGT,IAAIjlE,GAASrqD,KAAK+pN,gBACd5tL,EAAMkuB,EAAOiM,WAAW,MAExB2+J,EAAa3lG,EAAG,gBAAkBA,EAAG,cACrC4lG,EAAeD,GAAcj1N,KAAKm1N,YAAYF,EAElD,IAAIC,GAAgBl1N,KAAKyzN,cAAgB,GAAKzzN,KAAKwzN,OAAO0B,GAAe,CACvE,GAAIhqK,GAAMlrD,KAAKwzN,OAAO0B,GAElBE,EAAUplN,KAAK4kB,IAAyB,EAArB06F,EAAG,iBAAuBpkE,EAAItpD,MAAoC,EAA7BquK,EAAS6iD,mBACjEuC,EAAUrlN,KAAK4kB,KAAK06F,EAAG,kBAAoB8lG,IAAWlqK,EAAItpD,MAAQspD,EAAIrpD,QAAsC,EAA7BouK,EAAS6iD,kBAE5FzoK,GAAOzoD,MAAQu6B,EAAIv6B,MAAQwzN,EAC3B/qK,EAAOxoD,OAASs6B,EAAIt6B,OAASwzN,EAE7Bl5L,EAAIkV,MAAM+jL,EAAOlqK,EAAItpD,MAAOyzN,EAAQnqK,EAAIrpD,QAExCouK,EAAS4iD,aAAa12L,EAAK+uB,EAAKokE,OAC3B,CAEL,GAAIgmG,IAAchmG,EAAG,sBAAwB,GAAe,EAAV0lG,EAC9ClqN,EAAIqxB,EAAIv6B,MAAQyoD,EAAOzoD,MAAQu6B,EAAIt6B,OAASwoD,EAAOxoD,OAASmO,KAAKkmB,KAAKo/L,EAC1En5L,GAAI+7B,UAAUptD,EAAE,EAAGA,EAAE,EAErB,IAAIyqN,GAAKjmG,EAAG,cACRimG,IAAa,cAAPA,EACRtlD,EAASyiD,gBAAgBv2L,EAAKmzF,GAE9B2gD,EAASqiD,YAAYn2L,EAAKmzF,GAI9B,GADAylG,EAAK9mN,KAAI,GACL2vK,EAAOqiC,MAAMC,kBAAmB,CAClC,GAAI/7M,GAAInE,KAAKw1N,cAEb,OADArxN,GAAEujB,IAAM2iC,EAAOorK,YACRtxN,EAGT,MAAOkmD,IAMTg9J,WAAY,SAASlhK,EAAMvsB,EAAKkC,GAC9B,GAAI97B,KAAKyzN,aAAe,EAIpB,MAHAzzN,MAAK2f,GAAG,iBAAkB,WACtB3f,KAAKqnN,WAAWzkN,MAAM5C,MAAOmmD,EAAMvsB,EAAKkC,OAErC,CAIX,KAAI,GAFAi5L,GAAOlvE,EAASt3E,OAAO,sCAAsCj9C,QAC7DmoB,EAASz5C,KAAKuzN,QAAQ/gK,YAClBruD,EAAI,EAAGJ,EAAI01C,EAAOr1C,OAAQD,EAAIJ,IAAKI,EAAI,CAC7C,GAAI43C,GAAQtC,EAAOt1C,EACnB,IAAqB,QAAjB43C,EAAMjlC,OAGR,IAAI,GAFA4+M,GAAU11N,KAAKszN,SAASnvN,KAAOnE,KAAKszN,SAASnvN,OAEzCwxN,EAAK,EAAGA,EAAK55K,EAAMgjJ,SAAS36L,SAAUuxN,EAAI,CAChD,GAAIxrI,GAAQpuC,EAAMgjJ,SAAS42B,GACvBC,EAAaF,EAAQvrI,KAAWurI,EAAQvrI,MAC5CnqF,MAAK61N,YAAY1vK,EAAMvsB,EAAMuwD,EAAOA,EAAOyrI,EAAY75K,IAO7D,MAFAg5K,GAAK9mN,KAAI,GAEF6tB,GAAYA,EAAS,OAG9BiuL,cAAe,WACb,MAAO/pN,MAAK0Y,QAAQi7M,YAChB,GAAI3zN,MAAK0Y,QAAQi7M,YACjBzxN,SAASR,cAAc,WAG7B8zN,aAAc,WACZ,MAAOx1N,MAAK0Y,QAAQo9M,WAChB,GAAI91N,MAAK0Y,QAAQo9M,WACjB,GAAI3hI,QAGV4hI,aAAc,SAAS7qK,EAAKtjC,EAAKkU,GAC3B97B,KAAK0Y,QAAQs9M,YACfh2N,KAAK0Y,QAAQs9M,YAAY9qK,EAAKtjC,EAAKkU,IAEnCovB,EAAI18B,OAAS,WACTsN,EAAS,OAEbovB,EAAItC,QAAU,WACV9sB,EAAS,GAAI5sB,OAAM,0BAEvBg8C,EAAIxjC,IAAME,IAIdutM,YAAa,SAASvtM,GACpB,GAAuC,mBAA5B5nB,MAAK0Y,QAAQu9M,WACtB,MAAOj2N,MAAK0Y,QAAQu9M,WAAWruM,EAG/B,IAAIpnB,GAAI0B,SAASR,cAAc,IAE/B,OADAlB,GAAEuZ,KAAO6N,EACFpnB,EAAEuZ,MAQb87M,YAAa,SAAS1vK,EAAMvsB,EAAKinK,EAAc60B,EAAS1yB,EAAQ8xB,GAC9D,GAAK90N,KAAK8pN,QAAV,CAEA,GAAIiL,GAAOlvE,EAASt3E,OAAO,oCAAoCj9C,QAC3D6K,EAAMn8B,KAAK82D,KACXo/J,EAAYhD,EAAclwB,EAAOlzL,KAAK,aAAe9P,KAAK0Y,QAAQy9M,SAClED,KACF/5L,EAAIu4L,yBAA2BwB,GAE7Bl2N,KAAK0Y,QAAQ80M,YAAc5zL,EAAMusB,EAAK+oK,UAExCt1L,EAAMusB,EAAK+oK,QAEb,IAAIkH,GAAUp2N,KAAK0Y,QAAQq8E,YAAc/0F,KAAK8nN,UAAU9nN,KAAK0Y,QAAQq8E,WAAa,GAC9EshI,EAAelwK,EAAKgoK,UAAUv0L,GAC9ByxB,EAASrrD,KAAK0Y,QAAQq8E,WAAW,CACrC,IAAIshI,EAEF,IAAI,GADAC,GAAanwK,EAAK+nK,UAAUt0L,GACxB31B,EAAI,EAAGA,EAAIoyN,IAAgBpyN,EAAG,CACpC,GAAIsyN,GAASpwK,EAAKmoK,cAAcgI,EAAaryN,GACzC/C,EAAIilD,EAAKioK,WAAWkI,EAAaryN,EACrC,IAAI/C,EAAG,CACN,GAAIs1N,GAAKd,EAAQx0N,EAIjB,IAHWg6B,SAAPs7L,IACFA,EAAKd,EAAQx0N,GAAKlB,KAAK60N,eAAe7xB,EAAQ9hM,EAAG08K,EAAOl4K,QAAS2P,KAAM8wC,EAAK/7C,EAAG84L,eAAgBrC,GAAgBi0B,KAE7G0B,EAAI,CACN,GAAIzrN,GAAIo7C,EAAKp7C,EAAEwrN,IAAUC,EAAG50N,OAAS,GAAKypD,EACtCpgD,EAAImrN,EAAUjwK,EAAKl7C,EAAEsrN,GAAUlrK,CACnClvB,GAAIguL,UAAUqM,EAAIzrN,EAAGE,GAAKurN,EAAG30N,QAAU,MAO9CkzN,EAAK9mN,KAAI,KAGX24M,aAAc,SAASnmN,GACrBT,KAAK0Y,QAAQy9M,UAAY11N,GAQ3B8mN,oBAAqB,SAASphK,EAAM/0B,GAQlC,IAAI,GAPAo2L,MACAiP,EAAW,GAAI74C,GAAO56H,SAEtBozK,EAAUp2N,KAAK0Y,QAAQq8E,YAAc/0F,KAAK8nN,UAAU9nN,KAAK0Y,QAAQq8E,WAAa,GAE9EshI,EAAelwK,EAAKgoK,UAAU/8L,GAC9BklM,EAAanwK,EAAK+nK,UAAU98L,GACxBntB,EAAI,EAAGA,EAAIoyN,IAAgBpyN,EAAG,CACpC,GAAIsyN,GAASpwK,EAAKmoK,cAAcgI,EAAaryN,GACzC/C,EAAIilD,EAAKioK,WAAWkI,EAAaryN,EACrC,IAAI/C,EAAG,CACN,GAAI6J,GAAIo7C,EAAKp7C,EAAEwrN,GACXtrN,EAAImrN,EAAUjwK,EAAKl7C,EAAEsrN,EACzB/O,GAAU77M,KAAK8qN,EAASjK,cACtBrmK,EAAK21C,MAAM/wF,EACXo7C,EAAK21C,MAAM7wF,EACXk7C,EAAK21C,MAAM1xF,EACXW,EAAGE,KAIR,MAAOu8M,IAKTO,YAAa,SAAS5hK,EAAM/0B,EAAMq7L,EAAIC,GASpC,IAAI,GARA+J,GAAW,GAAI74C,GAAO56H,SACtBmvD,EAAMnyG,KAAK0Y,QAAQq8E,WACnB2hI,EAAOvkH,GAAO,EAEdikH,EAAUp2N,KAAK0Y,QAAQq8E,YAAc/0F,KAAK8nN,UAAU9nN,KAAK0Y,QAAQq8E,WAAa,GAE9EshI,EAAelwK,EAAKgoK,UAAU/8L,GAC9BklM,EAAanwK,EAAK+nK,UAAU98L,GACxBntB,EAAI,EAAGA,EAAIoyN,IAAgBpyN,EAAG,CACpC,GAAIsyN,GAASpwK,EAAKmoK,cAAcgI,EAAaryN,GACzC/C,EAAIilD,EAAKioK,WAAWkI,EAAaryN,EACrC,IAAI/C,EAAG,CACN,GAAI6J,GAAIo7C,EAAKp7C,EAAEwrN,GACXtrN,EAAImrN,EAAUjwK,EAAKl7C,EAAEsrN,GACrB3zK,EAAK6pK,EAAKiK,EAAO3rN,EACjB+3C,EAAK4pK,EAAKgK,EAAOzrN,CACrB,IAAI23C,GAAM,GAAKA,EAAKuvD,GAAOrvD,GAAM,GAAKA,EAAKqvD,EACzC,OACErqG,MAAO5G,EACP2oD,KAAM4sK,EAASjK,cACbrmK,EAAK21C,MAAM/wF,EACXo7C,EAAK21C,MAAM7wF,EACXk7C,EAAK21C,MAAM1xF,EACXW,EAAI2rN,EAAMzrN,EAAIyrN,EAAMvkH,KAM7B,MAAO,OAGTyiH,cAAe,SAASD,GACtB,GAAI5rL,GAAO/oC,IAEX,IAAI20N,EAAUvwN,OAAS,IAAMpE,KAAK+zN,aAAc,CAE9C,GAAI4C,GAAuBvrN,OAAOmoB,KAAKohM,EAAUzhM,OAAO,SAAS0jM,EAAaC,GAC1E,GAAI3B,GAAensL,EAAKosL,YAAY0B,EAIpC,OAHK9tL,GAAKyqL,OAAO0B,KACb0B,EAAY1B,IAAgB,GAEzB0B,QAGPjkB,EAAW5pK,EAAKwqL,QAAQ/gK,YAAYn/B,KAAK,SAAS0oB,GACpD,MAAgD,mBAAlCA,GAAMinJ,OAAO,kBAG7BhjM,MAAKyzN,cAAgBkD,EAAqBvyN,OAE1CuyN,EAAqB1jM,QAAQ,SAAS6jM,GACpC/tL,EAAKyqL,OAAOsD,GAAqB,IAEjC,IAAI5rK,GAAMniB,EAAKysL,cAEX7iB,KACFznJ,EAAIylC,YAAc,aAGpB5nD,EAAKgtL,aAAa7qK,EAAK4rK,EAAmB,SAASt1J,GAC7CA,GACFz4B,EAAKgrL,cAAe,EACpBhrL,EAAK29K,mBACL39K,EAAK0qL,aAAe,EACpB1qL,EAAKt/B,KAAK,kBACPkpM,GACDj+G,QAAQixD,KAAK,+FAEfjxD,QAAQjwF,MAAM,4BAA8BqyN,KAE5C/tL,EAAKyqL,OAAOsD,GAAqB5rK,EACjCniB,EAAK0qL,eAED1qL,EAAK0qL,cAAgB,IACvB1qL,EAAK29K,mBACL39K,EAAKt/B,KAAK,4BAMhBzJ,MAAKyJ,KAAK,mBAIlB69M,aAAc,WAGR,QAASyP,GAAYC,GAEnB,IAAI,GADA10L,GAAO,GACHn+B,EAAI,EAAGA,EAAI6yN,EAAI56L,KAAKh4B,OAAQD,IAAI,CACtC,GAAI41L,GAAMi9B,EAAI56L,KAAKj4B,GAAG41L,GACtBz3J,IAAQy3J,EAAI,GAAK,IAAMA,EAAI,GAAK,IAAMA,EAAI,GAE5C,MAAOz3J,GAIP,QAASy3H,GAAe74J,GACtB,GAAI24J,GAAM34J,EAAEoK,SAAS,GACrB,OAAqB,IAAduuJ,EAAIz1J,OAAc,IAAMy1J,EAAMA,EAGvC,QAASo9D,GAASvsN,EAAGhH,EAAGjD,GACtB,MAAO,IAAMs5J,EAAervJ,GAAKqvJ,EAAer2J,GAAKq2J,EAAet5J,GAlB5E,GAAGT,KAAK6zN,QACH7zN,KAAK6zN,OAAO,iBAAiB,CAS9B,GAAIqD,GAAWl3N,KAAK8zN,WAAWiD,EAAY/2N,KAAK6zN,OAAO,kBACvD,KAAIqD,EAAS,CASXA,IAIA,KAAK,GAHDC,GAAWn3N,KAAK6zN,OAAO,iBAAiBz3L,KAExCg7L,EAAY,EAAED,EAAS/yN,OAClBD,EAAI,EAAGA,EAAIgzN,EAAS/yN,OAAQD,IAAI,CACvC,GAAIy1B,GAAMw9L,EAAYjzN,EAAIizN,EACtBr9B,EAAMo9B,EAAShzN,GAAG41L,IAClBs9B,EAAiBJ,EAASl9B,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAClDm9B,GAASt9L,GAAOy9L,EAElBr3N,KAAK8zN,WAAWiD,EAAY/2N,KAAK6zN,OAAO,mBAAqBqD,EAE/Dl3N,KAAKw1L,SAAS0hC,SAASA,GACvBl3N,KAAKw1L,SAAS3V,WAQtBnsJ,EAAOD,QAAU4/L,IAEdrqN,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,aACxH85M,MAAM,GAAGgI,cAAc,GAAGkC,oBAAoB,GAAGuE,mBAAmB,GAAG/5C,MAAQriJ,SAAYg6K,IAAI,SAAS75K,EAAQ3H,EAAOD,IAC1H,SAAWtY,GAmBT,QAASo8M,GAAkBltK,EAAQ3xC,GACjC1Y,KAAK0Y,QAAUA,EACf6kK,EAAMqe,KAAKuE,UAAU9nL,IAAIulK,OAAO,qBAChC59K,KAAK0oN,UAAUr+J,GACfrqD,KAAK4wK,YAAY5wK,KAAK0Y,QAAQu3J,UAAY2jD,GAtB9C,GAAIr2C,GAAQpiK,EAAOoiK,OAASliJ,EAAQ,SAE9Bu4L,GACF,WACA,2BACA,4CACA,6CACA,8CACA,+CACA,gDACA,KACA7lN,KAAK,KAEa,GAAViC,KAAKihB,EAYfsmM,GAAkBlsN,WAKhBulK,YAAa,SAASX,GAEpB,GADAjwK,KAAKw3N,gBAAiB,GAAIj6C,GAAMse,YAAap4J,OAAOwsI,GACjDjwK,KAAKw3N,eAAehlK,YAAYpuD,OAAS,EAC1C,KAAM,IAAI8K,OAAM,uCAElBlP,MAAKuzN,QAAUvzN,KAAKw3N,eAAehlK,YAAY,GAAGwwI,QAGpD0lB,UAAW,SAASr+J,GACdA,IACJrqD,KAAK8pN,QAAUz/J,EACfrqD,KAAK82D,KAAOzM,EAAOiM,WAAW,QAGhCqyJ,WAAY,SAASxiK,EAAM5yB,GACzB,GACIxoB,GAAGE,EAAGsrN,EAAQtyN,EAAGI,EAAGu1B,EAAKy8L,EAAcC,EADvCvB,EAAOlvE,SAASt3E,OAAO,8BAA8Bj9C,QAErD6gF,EAAMnyG,KAAK0Y,QAAQq8E,WACnBl1F,EAAI,IAAIsyG,EACR5C,EAAQ,GAAI62C,cAAavmJ,EAAEA,EAM/B,KAJoB,gBAAX,KACP0zB,GAAQA,IAGNlvB,EAAI,EAAGA,EAAIkvB,EAAKnvB,SAAUC,EAG5B,GAFAu1B,EAAMrG,EAAKlvB,GACXgyN,EAAelwK,EAAKgoK,UAAUv0L,GAG5B,IADA08L,EAAanwK,EAAK+nK,UAAUt0L,GACxB31B,EAAI,EAAGA,EAAIoyN,IAAgBpyN,EAC7BsyN,EAASpwK,EAAKmoK,cAAcgI,EAAaryN,GACzC8G,EAAIo7C,EAAKp7C,EAAEwrN,GAAQpkH,EACnBlnG,EAAIk7C,EAAKl7C,EAAEsrN,GAAQpkH,EACnB5C,EAAMxkG,EAAElL,EAAIoL,IAAMk7C,EAAKioK,WAAWkI,EAAaryN,EAMrD,OADA8wN,GAAK9mN,MACEshG,GAGTq5G,gBAAiB,SAASr5G,EAAOk9G,EAAIC,GACnC,GACIp5J,GAAOvoD,EAAGE,EAAGovL,EADb06B,EAAOlvE,SAASt3E,OAAO,mCAAmCj9C,QAE1D6gF,EAAMnyG,KAAK0Y,QAAQq8E,WACnB54D,EAAMn8B,KAAK82D,KACXj3D,EAAK,IAAIsyG,EAAO,EAChBslH,EAAK53N,EAAEA,CACEG,MAAK03N,OACf13N,MAAK0Y,QAAQy9M,YACdh6L,EAAIu4L,yBAA2B10N,KAAK0Y,QAAQy9M,UAG9C,KAAI,GADAwB,GAAgB33N,KAAKuzN,QAAQ,oBAAsB,WAAa,MAAO,IACnEpvN,EAAI,EAAGA,EAAIszN,IAAMtzN,EAAG,CAC1B,GAAIqkN,GAAKrkN,EACL2D,EAAQynG,EAAMprG,EACf2D,KACDiD,EAAKy9M,EAAG3oN,EAAK,EACboL,EAAIu9M,EAAK3oN,EAETyzD,EAAQtzD,KAAKuzN,QAAQ,iBAAkBzrN,MAAOA,IAAWuN,KAAM,IAC/D8mB,EAAI+6B,UAAY5D,EAGhB+mI,EAAQs9B,GAAgB7vN,MAAOA,IAAWuN,KAAM,IACnC,OAAVglL,IACDA,EAAQ,GAEVl+J,EAAIw7B,YAAc0iI,EAClBl+J,EAAIw2L,SAAS5nN,EAAIonG,EAAK,IAAMA,EAAMlnG,EAAIknG,EAAKA,EAAKA,IAGpD4iH,EAAK9mN,OAOPo5M,WAAY,SAASlhK,EAAMvsB,EAAKkC,GAC9B,GAAI97B,KAAK8pN,QAAT,CAEA,GAAI33G,GAAMnyG,KAAK0Y,QAAQq8E,WAGnB54D,EAAMn8B,KAAK82D,KACXmiG,EAASj5J,KAAK03N,QACdE,EAAezxK,EAAKgoK,UAAUv0L,EAClC,IAAGg+L,EAMD,IAAI,GADAtB,IAJIt2N,KAAK8pN,QAAQloN,MACb5B,KAAK8pN,QAAQjoN,OAGJskD,EAAK+nK,UAAUt0L,IACxB31B,EAAI,EAAGA,EAAIoyN,eAAgBpyN,EAAG,CACpC,GAAIsyN,GAASpwK,EAAKmoK,cAAcgI,EAAaryN,GACzC/C,EAAIilD,EAAKioK,WAAWkI,EAAaryN,EACrC,IAAG/C,EAAG,CACL,GAAIoyD,GAAQ2lG,EAAOjpJ,KAAK4kB,IAAI1zB,EAAG+3J,EAAO70J,OAAS,IAC3C2G,EAAIo7C,EAAKp7C,EAAEwrN,GACXtrN,EAAIk7C,EAAKl7C,EAAEsrN,EAEfp6L,GAAI+6B,UAAY5D,EAChBn3B,EAAIw2L,SAAS5nN,EAAGE,EAAGknG,EAAKA,IAkB7B,MAAOr2E,IAAYA,EAAS,SAMlCpI,EAAOD,QAAU8jM,IAEdvuN,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,aACxHwuK,MAAQriJ,SAAYk6K,IAAI,SAAS/5K,EAAQ3H,EAAOD,GAOnD,YAEA,SAASokM,GAAextK,EAAQ3xC,GAE5B,MAAM1Y,gBAAgB63N,IAEtBn/M,EAAUA,MAEV1Y,KAAK8pN,QAAUz/J,EAA2B,gBAAXA,GAAsBnoD,SAAS8K,eAAeq9C,GAAUA,EAEvFrqD,KAAK82D,KAAOzM,EAAOiM,WAAW,MAC9Bt2D,KAAK83N,OAASztK,EAAOzoD,MACrB5B,KAAK+3N,QAAU1tK,EAAOxoD,OAEtB7B,KAAKg4N,KAAO,EACZh4N,KAAKmI,cAELnI,KAAK2zN,YAAcj7M,EAAQi7M,cAbqB,GAAIkE,GAAextK,EAAQ3xC,GAgB/Em/M,EAAexsN,WAEX4sN,iBACIC,GAAK,OACLC,GAAK,OACLC,GAAK,OACLC,GAAK,SACLv+F,EAAK,OAGTo9F,SAAU,SAAUoB,GAEhB,GAAIjuK,GAASrqD,KAAK+pN,gBACd5tL,EAAMkuB,EAAOiM,WAAW,MACxB4gK,EAAW/6L,EAAIo8L,qBAAqB,EAAG,EAAG,EAAG,IAEjDluK,GAAOzoD,MAAQ,EACfyoD,EAAOxoD,OAAS,GAEhB,KAAK,GAAIsC,KAAKm0N,GACVpB,EAASsB,cAAcr0N,EAAGm0N,EAAKn0N,GAQnC,OALAg4B,GAAI+6B,UAAYggK,EAChB/6L,EAAIw2L,SAAS,EAAG,EAAG,EAAG,KAEtB3yN,KAAKy4N,MAAQt8L,EAAIu8L,aAAa,EAAG,EAAG,EAAG,KAAKlwN,KAErCxI,MAGX6/K,KAAM,WACG7/K,KAAKy4N,OACNz4N,KAAKk3N,SAASl3N,KAAKi4N,gBAGvB,IAAI97L,GAAMn8B,KAAK82D,KACX6hK,EAAUx8L,EAAIu8L,aAAa,EAAG,EAAG14N,KAAK8pN,QAAQloN,MAAO5B,KAAK8pN,QAAQjoN,OAItE,OAHA7B,MAAK44N,UAAUD,EAAQnwN,KAAMxI,KAAKy4N,OAClCt8L,EAAI08L,aAAaF,EAAS,EAAG,GAEtB34N,MAGX44N,UAAW,SAAUE,EAAQ5B,GACzB,IAAK,GAAgCtzN,GAA5BO,EAAI,EAAGklC,EAAMyvL,EAAO10N,OAAWD,EAAIklC,EAAKllC,GAAK,EAClDP,EAAgB,EAAZk1N,EAAO30N,GAEPP,IACAk1N,EAAO30N,EAAI,GAAK+yN,EAAStzN,GACzBk1N,EAAO30N,EAAI,GAAK+yN,EAAStzN,EAAI,GAC7Bk1N,EAAO30N,EAAI,GAAK+yN,EAAStzN,EAAI,KAKzCmmN,cAAe,WACX,MAAO/pN,MAAK2zN,YACN,GAAI3zN,MAAK2zN,YACTzxN,SAASR,cAAc,YAIrCgyB,EAAOD,QAAUokM,OAEXviB,IAAI,SAASj6K,EAAQ3H,EAAOD,IAClC,SAAWtY,GAKT,QAAS8S,GAAMrG,EAAKkU,EAAUpjB,GAa3B,QAAS4O,KACP+G,EAAK9rB,YAAY4rB,GACjB1W,aAAashN,SACNhqN,QAAOiqN,GAfhBtgN,EAAUA,MACVA,EAAQkV,QAA8BsN,SAApBxiB,EAAQkV,QAAwB,IAAOlV,EAAQkV,OACjE,IAAIS,GAAOnsB,SAAS+E,qBAAqB,QAAQ,GAC7CknB,EAASjsB,SAASR,cAAc,UAGhCs3N,EAAStgN,EAAQ25M,cAAgB,UAAYhiN,KAAKnN,KAElD06K,GAAO93K,WAAWkzN,KACpBA,EAASA,KASXjqN,OAAOiqN,GAAU,WACf1xM,IACAwU,EAASl5B,MAAMmM,OAAQjB,WAIzB,IAAIirN,GAAe91N,WAAW,WAC5BqkB,IACAwU,EAAS9yB,KAAK+F,OAAQ,OACrB2J,EAAQkV,QAGXhG,GAAMA,EAAIljB,QAAQ,aAAe,YAAcs0N,GAC/C7qM,EAAO7oB,KAAO,kBACd6oB,EAAOzG,IAAME,EACbuG,EAAO1e,OAAQ,EAGfxM,WAAW,WAAaorB,EAAKvsB,YAAYqsB,IAAY,GAGxD,QAAS5gB,GAAIqa,EAAKkU,EAAUpjB,GAiB1B,QAASugN,KACP,GAAIlsM,GAASwlJ,EAAIxlJ,OACbriB,EAA6B,gBAAzBgO,EAAQwgN,aAAiC3mD,EAAI6f,SAAU7f,EAAIhnJ,YAEjEuQ,IADG/O,GAAUriB,GAAKqiB,GAAU,KAAOA,EAAS,KAAkB,MAAXA,EAC1CwlJ,EAEA,MAtBb75J,EAAUA,IACRulB,OAAQ,MACRz1B,KAAM,KACN0wN,aAAc,QAEhBC,GAAavxM,IAAKA,EAAKkU,SAAUA,EACjC,IAAIutB,GAAU/lD,gBAEV6X,EAAOi+M,gBACF,mBAAqB/vK,KACvB,oBAAoBpkD,KAAK2iB,KAAMyhC,EAAU+vK,eAEhD,IAAI7mD,GAAM,GAAIlpH,EA2Bd,OA1BAkpH,GAAIvjJ,KAAKtW,EAAQulB,OAAQrW,GAAK,GAa9B,UAAY2qJ,GACRA,EAAI/jJ,OAAS+jJ,EAAI3pH,QAAUqwK,EAC3B1mD,EAAI9jJ,mBAAqB,WAAa8jJ,EAAI5jK,WAAa,GAAKsqN,KAEhE1mD,EAAI8mD,WAAa,aAEjB9mD,EAAI2mD,aAAexgN,EAAQwgN,aACvBxgN,EAAQlQ,OACV+pK,EAAInlJ,iBAAiB,eAAgB,oBAErCmlJ,EAAInlJ,iBAAiB,SAAU,MAEjCmlJ,EAAI1kJ,KAAKnV,EAAQlQ,MACV+pK,EAGT,QAAS+mD,GAAK1xM,EAAKpf,EAAMszB,GACvB,MAAOvuB,GAAIqa,EAAKkU,GACdtzB,KAAMA,EACNy1B,OAAQ,SA1Fd,GAAI2/I,GAASviJ,EAAQ,UAEf89L,EAAW,IA4FjBzlM,GAAOD,SACHlmB,IAAKA,EACL+rN,KAAMA,EACNrrM,MAAOA,EACPkrM,SAAU,WAAa,MAAOA,OAG/BnwN,KAAKhJ,KAAuB,mBAAXmb,QAAyBA,OAAyB,mBAAT4tB,MAAuBA,KAAyB,mBAAXh6B,QAAyBA,aACxHs6M,SAAS,SAAS,KAAK,MAE1B,WAEA,GAAqB,mBAAZ,SAAkD,mBAAhBluH,QAAW,KAAtD,CAGA,GAAI2mF,GAAuB,SAAShK,EAAYmG,GAE9C,GAAIr1C,GAAQkvC,EAAWvqK,IAAI,eAC3Bg0I,KAAIgC,IAAIw6B,eAAe/0K,KAAKhJ,KAAM83K,EAAY93K,KAAMi+K,EAEpD,IAAI/1C,GAAQloI,KAAKu5N,UAAUzhD,EAC3B8F,QAAO4nC,iBAAiBx8M,KAAKhJ,MACzB4rF,MAAOksF,EAAWvqK,IAAI,cACtBqhL,KAAM9W,EAAWvqK,IAAI,aACrBu5K,OAAQhP,EAAWvqK,IAAI,YACvB4oN,UAAWr+C,EAAWvqK,IAAI,qBAC1BwnF,WAAY,EAEZ46H,QAAS,oBACT1hE,eAAgB6pB,EAAWvqK,IAAI,kBAC/B4gJ,iBAAkB2pB,EAAWvqK,IAAI,oBACjC2gJ,aAAc4pB,EAAWvqK,IAAI,gBAC7BygJ,eAAgB8pB,EAAWvqK,IAAI,kBAC/BugJ,aAAcgqB,EAAWvqK,IAAI,gBAC7BwgJ,WAAY+pB,EAAWvqK,IAAI,cAC3B+0I,kBAAmBw1B,EAAWvqK,IAAI,qBAClCw1I,SAAU+0B,EAAWvqK,IAAI,YACzB2xM,kBAAmBpnC,EAAWvqK,IAAI,mBAClC0sJ,MAAO6d,EAAWvqK,IAAI,gBACtBwiK,IAAK7nC,EACLp+G,QAASguJ,EAAWvqK,IAAI,WACxB6gJ,cACEwkB,QAAShqC,EAAQA,EAAMiqC,QAAS,IAElC7kK,IAAKiwK,EACL1D,aAAczC,EAAWvqK,IAAI,gBAC7By2C,YAAa8zH,EAAWvqK,IAAI,eAC5B0iK,SAAU6H,EAAWvqK,IAAI,aAAeuqK,EAAWvqK,IAAI,cACvDu1I,UAAWg1B,EAAWvqK,IAAI,aAC1BulK,WAAYgF,EAAWvqK,IAAI,cAC3B6nK,OAAQ0C,EAAWvqK,IAAI,UACvB8wM,KAAMvmC,EAAWvqK,IAAI,WAAY,IAIjCuqK,EAAWvqK,IAAI,YACjBvN,KAAK4lN,OAKTrlN,GAAEmF,OACAo8K,EAAqBz2K,UACrBk2I,IAAIgC,IAAIw6B,eAAe1yK,UACvBuyK,OAAO4nC,iBAAiBn6M,WAGxBs5C,QAAS,WACP,GAAIjoB,GAAU18B,KAAKw9B,MAAMkB,mBACtBhC,MAAY,IACfA,EAAQm6I,YAAc72K,KAAK4wK,YAAY5wK,KAAKw9B,MAAMjwB,IAAI,gBAClD,SAAWmvB,IAAW,iBAAmBA,KAC3C18B,KAAK2wK,OAAO3wK,KAAKu5N,UAAUv5N,KAAKw9B,QAE9B,WAAad,KACf18B,KAAKw9B,MAAMjwB,IAAI,WAAavN,KAAKuvB,OAAQvvB,KAAKyvB,UAGlD8pM,UAAW,SAASzhD,GAClB,GAAI5vC,GAAQ4vC,EAAWvqK,IAAI,SACvBisN,EAAK1hD,EAAWvqK,IAAI,gBAIxB,OAHGisN,KACDtxF,EAAQ3nI,EAAE04B,SAASugM,IAAMzpD,IAAK7nC,GAAU,iBAAmB4vC,EAAWvqK,IAAI,iBAErE26H,GAGTo2C,YAAa,aAIbv8H,MAAO,WACL67H,OAAO4nC,iBAAiBn6M,UAAU02C,MAAMn/C,MAAM5C,MAEb,GAA7BA,KAAK0Y,QAAQ6hK,cACfh5B,IAAIgC,IAAIG,OAAO4zB,YAAYI,UAAWjuJ,KAAM,GAAI6nC,OAAO,GAAK,IAAMtxD,KAAKgO,IAAIstF,WAG/E2pH,cAAe,WAEb3kN,SAASu7B,OAAOrtB,QAAQxF,KAAKhJ,KAAM,SAGrCqlN,eAAgB,WACd/kN,SAASu7B,OAAOrtB,QAAQxF,KAAKhJ,KAAM,cAMvCuhJ,IAAIgC,IAAIu+B,qBAAuBA,MAK/B,WAEA,GAAiB,mBAAR,GAAT,CAMA,GAAIjE,GAAqBz9K,EAAE+sJ,YAAYznJ,QAErCq3B,WAAY,SAAS+6I,EAAYE,GAC/B,GAAIpvC,GAAQkvC,EAAWvqK,IAAI,gBAEvB26H,EAAQloI,KAAKu5N,UAAUzhD,EAG3B13K,GAAE+sJ,YAAY9hJ,UAAU0xB,WAAW/zB,KAAKhJ,MACtC4rF,MAAOksF,EAAWvqK,IAAI,cACtBqhL,KAAM9W,EAAWvqK,IAAI,aACrBu5K,OAAQhP,EAAWvqK,IAAI,YACvB4oN,UAAWr+C,EAAWvqK,IAAI,qBAC1BwnF,WAAY,EAEZ46H,QAAS,oBACT1hE,eAAgB6pB,EAAWvqK,IAAI,kBAC/B4gJ,iBAAkB2pB,EAAWvqK,IAAI,oBACjC2gJ,aAAc4pB,EAAWvqK,IAAI,gBAC7BygJ,eAAgB8pB,EAAWvqK,IAAI,kBAC/BugJ,aAAcgqB,EAAWvqK,IAAI,gBAC7BwgJ,WAAY+pB,EAAWvqK,IAAI,cAC3B+0I,kBAAmBw1B,EAAWvqK,IAAI,qBAClCw1I,SAAU+0B,EAAWvqK,IAAI,YACzB2xM,kBAAmBpnC,EAAWvqK,IAAI,mBAClC0sJ,MAAO6d,EAAWvqK,IAAI,gBACtBwiK,IAAK7nC,EACLp+G,QAASguJ,EAAWvqK,IAAI,WACxB6gJ,cACEwkB,QAAShqC,EAAQA,EAAMiqC,QAAS,IAElC0H,aAAczC,EAAWvqK,IAAI,gBAC7By2C,YAAa8zH,EAAWvqK,IAAI,eAC5B0iK,SAAU6H,EAAWvqK,IAAI,aAAeuqK,EAAWvqK,IAAI,cACvDu1I,UAAWg1B,EAAWvqK,IAAI,aAC1BulK,WAAYgF,EAAWvqK,IAAI,cAC3B6nK,OAAQ0C,EAAWvqK,IAAI,UACvB+lK,YAAawE,EAAWvqK,IAAI,eAC5B8wM,KAAMvmC,EAAWvqK,IAAI,WAAY,EACjCs0I,oBAAqB,WACnB,GAAIouB,GAAW6H,EAAWvqK,IAAI,aAAeuqK,EAAWvqK,IAAI,aAE5D,OAAO,UAAYg0I,IAAIC,KAAKC,KAAK2I,mBAAmB6lB,EAAW/nC,MAInEqZ,IAAIgC,IAAIs0B,iBAAiB7uK,KAAKhJ,KAAM83K,EAAY93K,KAAMg4K,GAGtDh4K,KAAKyJ,KAAOzJ,KAAKwO,QAGbspK,EAAWvqK,IAAI,YACjBvN,KAAK4lN,OAGP5lN,KAAK6f,KAAK,cAAe,WACvB7f,KAAKwO,QAAQ,SACZxO,MAEHA,KAAK6f,KAAK,eAAgB,WACxB7f,KAAKwO,QAAQ,YACZxO,OAIL+hD,MAAO,SAAS/zC,GACd5N,EAAE+sJ,YAAY9hJ,UAAU02C,MAAMn/C,MAAM5C,MAAOgO,IAEV,GAA7BhO,KAAK0Y,QAAQ6hK,cACfh5B,IAAIgC,IAAIG,OAAO4zB,YAAYI,UAAWjuJ,KAAK,EAAG6nC,OAAO,GAAK,EAAGtjD,EAAIsvC,aAGrEi8K,UAAW,SAASzhD,GAClB,GAAI5vC,GAAQ4vC,EAAWvqK,IAAI,SACvBisN,EAAK1hD,EAAWvqK,IAAI,gBAIxB,OAHGisN,KACDtxF,EAAQ3nI,EAAE04B,SAASugM,IAAMzpD,IAAK7nC,GAAU,iBAAmB4vC,EAAWvqK,IAAI,iBAErE26H,GAGTgwC,cAAe,SAAS16I,GACtB,GAAId,GAAU18B,KAAKw9B,MAAMkB,mBACtBhC,MAAY,IACfA,EAAQm6I,YAAc72K,KAAK4wK,YAAY5wK,KAAKw9B,MAAMjwB,IAAI,gBAClD,SAAWmvB,IAAW,iBAAmBA,KAC3C18B,KAAK2wK,OAAO3wK,KAAKu5N,UAAUv5N,KAAKw9B,QAG9B,WAAad,KACf18B,KAAKw9B,MAAMjwB,IAAI,WAAavN,KAAKuvB,OAAQvvB,KAAKyvB,WAKpDlvB,GAAEmF,OAAOm4K,EAAmBxyK,UAAWk2I,IAAIgC,IAAIs0B,iBAAiBxsK,WAEhEk2I,IAAIgC,IAAIs6B,mBAAqBA,MAG7Bt8B,IAAIgC,IAAIC,GAAG8pB,WAAa/rB,IAAIgC,IAAIC,GAAGqqB,QAAQnoK,QAEzC+zN,mBAAoB,GACpBnmN,UAAW,qBAEXy6J,gBACE,8NAOF3lK,QACEsxN,gBAAkB,aAClBC,cAAkB,eAClB71J,UAAkB,mBAClB/B,UAAkB,mBAClBC,WAAkB,mBAClBE,cAAkB,mBAClB41F,SAAkB,mBAClBvhF,WAAkB,mBAClBwhF,eAAkB,mBAClB33I,MAAkB,oBAGpB2c,WAAY,WACVx8B,EAAE61B,QAAQp2B,KAAM,QAAS,SAAU,SAAU,aAAc,eAAgB,oBAAqB,eAAgB,aAAc,aAAc,eAE5IA,MAAK0Y,QAAQugB,SAAWj5B,KAAK0Y,QAAQugB,UAAYj5B,KAAK+tK,gBACtD/tK,KAAK0Y,QAAQ7C,SAAW,cACxB7V,KAAK0Y,QAAQ9W,MAAQ,KAIrB5B,KAAKgrN,YAAa,EAElBhrN,KAAK45N,WAAW55N,KAAK0Y,QAAQqjC,OAE7B/7C,KAAK2f,GAAG,QAAS3f,KAAK65N,cACtBt4E,IAAIgC,IAAIC,GAAGqqB,QAAQxiK,UAAU0xB,WAAW/zB,KAAKhJ,OAI/CghJ,SAAU,SAASjlG,GACjB/7C,KAAK65N,eACL75N,KAAK45N,WAAW79K,GAChB/7C,KAAK85N,eAGPF,WAAY,SAAS79K,GAOnB,MANA/7C,MAAKotK,YAAcrxH,EACnB/7C,KAAKotK,YAAYztJ,GAAG,cAAe3f,KAAK+5N,cACxC/5N,KAAKotK,YAAYztJ,GAAG,cAAe3f,KAAKg6N,YACxCh6N,KAAKotK,YAAYztJ,GAAG,eAAgB3f,KAAKi6N,mBACzCj6N,KAAKotK,YAAYztJ,GAAG,OAAQ3f,KAAKk6N,cACjCl6N,KAAKotK,YAAYztJ,GAAG,QAAS3f,KAAKk6N,cAC3Bl6N,MAGT65N,aAAc,WAIZ,MAHA75N,MAAKotK,YAAY3+J,IAAI,cAAezO,KAAK+5N,cACzC/5N,KAAKotK,YAAY3+J,IAAI,cAAezO,KAAKg6N,YACzCh6N,KAAKotK,YAAY3+J,IAAI,eAAgBzO,KAAKi6N,mBACnCj6N,MAGT+5N,aAAc,SAAS38L,GACrBp9B,KAAKG,EAAE,WAAY4qK,QAASjjK,MAAOs1B,EAAQhM,QAG7C6oM,kBAAmB,SAAS78L,GACtBA,EAAQ68H,MAAQ,GAClBj6J,KAAKuvB,OACLvvB,KAAKG,EAAE,WAAY4qK,QAAS96J,IAAKmtB,EAAQ68H,MAAQ,KAGjDj6J,KAAKyvB,QAKTuqM,WAAY,SAAS58L,GACnB,GAAI2L,GAAO/oC,KACPm6N,EAAKpxL,EAAKqkI,YAAY45C,eAC1B,IAAKmT,EACL,GAAsB,SAAlBA,EAAG3K,YAAyBxvN,KAAK0Y,QAAQ0hN,mBAC3C,GAAID,GAAmBj/L,SAAbi/L,EAAG7oM,MAAqB,CAChC,GAAI3wB,GAAIooC,EAAKrwB,QAAQ+7E,WAAaz0F,KAAKq6N,kBAAkBF,EAAG7oM,MAAO6oM,EAAGlsN,IAEjE1N,GAAEyO,MAAMouB,EAAQwM,KAAK0wL,YACxBvxL,EAAK5oC,EAAE,UAAU0H,KAAKlH,EAAEy8B,EAAQwM,KAAM5pC,KAAKotK,mBAI7CrkI,GAAK5oC,EAAE,UAAU0H,KAAKu1B,EAAQhM,OAIpCqjE,UAAW,SAASl0F,GAClBP,KAAK0Y,QAAQ+7E,UAAYl0F,GAG3B85N,kBAAmB,SAAS/oM,EAAOrjB,GAWjC,QAAS2nC,GAAI7xC,GACX,MAAOA,GAAI,GAAK,IAAMA,EAAIA,EAG5B,QAASw2N,GAAYze,GACnB,MAAOlmK,GAAIkmK,EAAKb,WAAa,GAAK,IAAMrlK,EAAIkmK,EAAKd,WAAa,IAAMplK,EAAIkmK,EAAK0e,eAG/E,QAASC,GAAU3e,GACjB,MAAOlmK,GAAIkmK,EAAKjB,YAAc,IAAMjlK,EAAIkmK,EAAKhB,cAG/C,QAAS4f,GAAY5e,EAAM1uC,GACzB,GAAIutD,GAAkB7e,EAAKxrM,UACvB6pN,EAAK/sD,EAAY45C,gBACjB4T,GAAkB,GAAIvqN,MAAK8pN,EAAGlsN,KAAKqC,UAAY,GAAID,MAAK8pN,EAAG7oM,OAAOhhB,WAAa88J,EAAY10J,QAAQuhJ,MACnG4gE,EAAc,GAAIxqN,MAAKsqN,EAAkBC,GACzCE,GAAU,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAC3F,OAAOllL,GAAIklL,EAAOhf,EAAKb,aAAe,IAAMrlK,EAAIkmK,EAAKd,WAAc,MAC/DplK,EAAIklL,EAAOD,EAAY5f,aAAe,IAAMrlK,EAAIilL,EAAY7f,WA7BlE1pL,EAAQA,EAAMhhB,QAAUghB,EAAQ,GAAIjhB,MAAKihB,GACzCrjB,EAAMA,EAAIqC,QAAUrC,EAAM,GAAIoC,MAAKpC,EACnC,IAAIgoB,IAAShoB,EAAIqC,UAAYghB,EAAMhhB,WAAa,IAC5CyqN,EAAU,MACVC,EAAqB,EAARD,EACbE,EAAqB,GAAVF,EAAe,EAC9B,IAAG/6N,KAAKotK,YAAY10J,QAClB,GAAIkiN,IAAkB3sN,EAAIqC,UAAYghB,EAAMhhB,WAAatQ,KAAKotK,YAAY10J,QAAQuhJ,KA2BpF,OAAIhkI,GAAQ+kM,EACN1pM,EAAM0pL,YAAc/sM,EAAI+sM,UACnByf,EAGA,SAAS3e,GACd,MAAOye,GAAYze,GAAO,IAAK2e,EAAU3e,IAK3C7lL,EAAQglM,EACNL,EAA2B,IAAVG,EACZL,EAEFH,EAIF,SAASze,GACd,MAAOlmK,GAAIkmK,EAAKb,WAAa,GAAK,IAAMrlK,EAAIkmK,EAAK0e,iBAIrDU,OAAQ,SAAS55N,EAAGkiJ,GAClBxjJ,KAAK4oJ,UAAUtnJ,EACf,IAAI8vB,GAAOoyH,EAAG17I,KACd9H,MAAKotK,YAAYye,QAAQz6J,IAG3B+pM,OAAQ,SAAS75N,EAAGkiJ,GACfxjJ,KAAKotK,YAAY0xC,cAClB9+M,KAAKgrN,YAAa,EAClBhrN,KAAKwtK,eAIT4tD,MAAO,SAAS95N,EAAGkiJ,GACbxjJ,KAAKgrN,YACPhrN,KAAKwtK,aAGPxtK,KAAKgrN,YAAa,GAGpB8O,YAAa,WACX,GAAI1sD,GAAcptK,KAAKotK,YACnBrC,EAAS/qK,KAAKG,EAAE,UACpB4qK,GAAOA,QACL90I,MAAO,MACPrB,IAAK,EACL3kB,IAAKjQ,KAAKotK,YAAY10J,QAAQuhJ,MAC9BnyJ,MAAO,EACPspB,KAAM,EACNtpB,MAAO9H,KAAKotK,YAAYue,UACxBn0K,KAAMxX,KAAKo7N,MACX9pM,MAAOtxB,KAAKm7N,OACZxzD,MAAO3nK,KAAKk7N,SAEX9tD,EAAY/d,UACbrvJ,KAAKi6N,mBAAmBhgE,MAASmT,EAAY/d,SAASi3D,cAI1D94C,WAAY,SAASlsK,GACnBtB,KAAK4oJ,UAAUtnJ,GACftB,KAAKotK,YAAYjtJ,UAEnB+5M,aAAc,WACZl6N,KAAKG,EAAE,WACHH,KAAKotK,YAAY0xC,YAAc,WAAY,eAAgB,QAC5DryM,KAAK,OAAO,MAAQzM,KAAKotK,YAAY0xC,YAAc,QAAS,SAC5DlmM,KAAK5Y,KAAKotK,YAAY0xC,YAAc,QAAS,SAGlDzhK,OAAQ,aAER+6G,iBAAkB,SAASv/D,GACzBA,EAAGh8E,mBAGJw+M,aAAc,WACbr7N,KAAKwO,QAAQ,eAAgBxO,OAG/ByjC,OAAQ,WAGN,MAFA89G,KAAIgC,IAAIC,GAAGqqB,QAAQxiK,UAAUo4B,OAAO7gC,MAAM5C,KAAM8N,WAChD9N,KAAK85N,cACE95N,QAcX,SAAWG,EAAG+6B,GA4Kd,QAASogM,GAAWx3L,EAASy3L,GAC5B,GAAIx0N,GAAW+8B,EAAQ/8B,SAASxC,aAChC,IAAK,SAAWwC,EAAW,CAC1B,GAECmkD,GAFGl9C,EAAM81B,EAAQz6B,WACjBmyN,EAAUxtN,EAAI8I,IAEf,UAAMgtB,EAAQ/pB,OAASyhN,GAA0C,QAA/BxtN,EAAIjH,SAASxC,iBAG/C2mD,EAAM/qD,EAAG,eAAiBq7N,EAAU,KAAM,KACjCtwK,GAAOphC,EAASohC,IAE1B,OAAS,sCAAsCjmD,KAAM8B,IACjD+8B,EAAQvyB,SACT,KAAOxK,EACN+8B,EAAQ/pB,MAAQwhN,EAChBA,IAEAzxM,EAASga,GAGd,QAASha,GAASga,GACjB,OAAQ3jC,EAAG2jC,GAAUjf,UAAUD,UAAU1b,OAAO,WAC/C,MAA0C,WAAnC/I,EAAEmpB,OAAQtpB,KAAM,eACtBG,EAAEugB,KAAKyB,QAAQ0H,OAAQ7pB,QACtBoE,OAhMJjE,EAAEqjJ,GAAKrjJ,EAAEqjJ,OACJrjJ,EAAEqjJ,GAAG/yI,UAIVtQ,EAAEuF,OAAQvF,EAAEqjJ,IACX/yI,QAAS,SAET2M,SACCq+M,IAAK,GACLC,UAAW,EACXC,UAAW,GACXC,MAAO,IACPC,QAAS,GACTC,aAAc,GACdC,cAAe,GACfC,QAAS,GACTC,OAAQ,GACRC,KAAM,GACNp6J,IAAK,GACLq6J,MAAO,GACP71F,OAAQ,GACR81F,KAAM,GACNC,OAAQ,GACRC,KAAM,GACNC,KAAM,GACNC,WAAY,IACZC,eAAgB,IAChBC,cAAe,IACfC,aAAc,IACdC,gBAAiB,IACjBC,gBAAiB,IACjBC,UAAW,GACXC,QAAS,GACTC,OAAQ,IACRC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,IAAK,EACLC,GAAI,GACJC,QAAS,MAKXn9N,EAAEoK,GAAG7E,QACJ63N,SAAUp9N,EAAEoK,GAAGqN,MAAQzX,EAAEoK,GAAGkC,KAE5B+wN,OAAQr9N,EAAEoK,GAAG8T,MACbA,MAAO,SAAUhH,EAAO9M,GACvB,MAAwB,gBAAV8M,GACbrX,KAAKyC,KAAK,WACT,GAAIkY,GAAO3a,IACXiD,YAAW,WACV9C,EAAGwa,GAAO0D,QACL9T,GACJA,EAAGvB,KAAM2R,IAERtD,KAEJrX,KAAKw9N,OAAO56N,MAAO5C,KAAM8N,YAG3B2vN,aAAc,WACb,GAAIA,EAWJ,OATCA,GADIt9N,EAAEqQ,QAAQq6I,MAAQ,oBAAsB5lJ,KAAKjF,KAAKuB,IAAI,cAAiB,WAAa0D,KAAKjF,KAAKuB,IAAI,aACvFvB,KAAK6kB,UAAU3b,OAAO,WACpC,MAAO,4BAA8BjE,KAAK9E,EAAEmpB,OAAOtpB,KAAK,WAAW,KAAO,gBAAkBiF,KAAK9E,EAAEmpB,OAAOtpB,KAAK,WAAW,GAAGG,EAAEmpB,OAAOtpB,KAAK,aAAa,GAAGG,EAAEmpB,OAAOtpB,KAAK,aAAa,MACpL2N,GAAG,GAES3N,KAAK6kB,UAAU3b,OAAO,WACpC,MAAO,gBAAkBjE,KAAK9E,EAAEmpB,OAAOtpB,KAAK,WAAW,GAAGG,EAAEmpB,OAAOtpB,KAAK,aAAa,GAAGG,EAAEmpB,OAAOtpB,KAAK,aAAa,MACjH2N,GAAG,GAGA,QAAU1I,KAAKjF,KAAKuB,IAAI,eAAiBk8N,EAAar5N,OAASjE,EAAE+B,UAAYu7N,GAGrFv0M,OAAQ,SAAUA,GACjB,GAAKA,IAAWgS,EACf,MAAOl7B,MAAKuB,IAAK,SAAU2nB,EAG5B,IAAKlpB,KAAKoE,OAET,IADA,GAA2ByR,GAAU/N,EAAjC6S,EAAOxa,EAAGH,KAAM,IACZ2a,EAAKvW,QAAUuW,EAAM,KAAQzY,UAAW,CAK/C,GADA2T,EAAW8E,EAAKpZ,IAAK,aACH,aAAbsU,GAAwC,aAAbA,GAAwC,UAAbA,KAK1D/N,EAAQsN,SAAUuF,EAAKpZ,IAAK,UAAY,KAClCyN,MAAOlH,IAAqB,IAAVA,GACvB,MAAOA,EAGT6S,GAAOA,EAAK0H,SAId,MAAO,IAGRq7M,iBAAkB,WACjB,MAAO19N,MAAK6f,MAAQ1f,EAAEiC,QAAQu7N,YAAc,cAAgB,aAC3D,uBAAwB,SAAUr1N,GACjCA,EAAM4T,oBAIT0hN,gBAAiB,WAChB,MAAO59N,MAAK8f,OAAQ,2BAKhB3f,EAAG,OAAQgzD,WAAY,GAAIhmD,QAChChN,EAAEsC,MAAQ,QAAS,UAAY,SAAU0B,EAAG2S,GAU3C,QAASoc,GAAQvY,EAAMtN,EAAMkI,EAAQwU,GAUpC,MATA5pB,GAAEsC,KAAMo7N,EAAM,WACbxwN,GAAQjH,WAAYjG,EAAEmpB,OAAQ3O,EAAM,UAAY3a,MAAM,KAAW,EAC5DuV,IACJlI,GAAQjH,WAAYjG,EAAEmpB,OAAQ3O,EAAM,SAAW3a,KAAO,SAAS,KAAW,GAEtE+pB,IACJ1c,GAAQjH,WAAYjG,EAAEmpB,OAAQ3O,EAAM,SAAW3a,MAAM,KAAW,KAG3DqN,EAnBR,GAAIwwN,GAAgB,UAAT/mN,GAAqB,OAAQ,UAAc,MAAO,UAC5DxR,EAAOwR,EAAKvS,cACZ2sB,GACCwsE,WAAYv9F,EAAEoK,GAAGmzF,WACjBG,YAAa19F,EAAEoK,GAAGszF,YAClB1qC,WAAYhzD,EAAEoK,GAAG4oD,WACjBC,YAAajzD,EAAEoK,GAAG6oD,YAgBpBjzD,GAAEoK,GAAI,QAAUuM,GAAS,SAAUzJ,GAClC,MAAKA,KAAS6tB,EACNhK,EAAM,QAAUpa,GAAO9N,KAAMhJ,MAG9BA,KAAKyC,KAAK,WAChBtC,EAAGH,MAAOuB,IAAK+D,EAAM4tB,EAAQlzB,KAAMqN,GAAS,SAI9ClN,EAAEoK,GAAI,QAAUuM,GAAQ,SAAUzJ,EAAM0c,GACvC,MAAqB,gBAAT1c,GACJ6jB,EAAM,QAAUpa,GAAO9N,KAAMhJ,KAAMqN,GAGpCrN,KAAKyC,KAAK,WAChBtC,EAAGH,MAAMuB,IAAK+D,EAAM4tB,EAAQlzB,KAAMqN,GAAM,EAAM0c,GAAW,WAmC7D5pB,EAAEuF,OAAQvF,EAAEugB,KAAM,MACjBlY,KAAMrI,EAAEugB,KAAKo9M,aACZ39N,EAAEugB,KAAKo9M,aAAa,SAAUC,GAC7B,MAAO,UAAUpjN,GAChB,QAASxa,EAAEqI,KAAMmS,EAAMojN,MAIzB,SAAUpjN,EAAMxW,EAAGqc,GAClB,QAASrgB,EAAEqI,KAAMmS,EAAM6F,EAAO,KAGhC86M,UAAW,SAAUx3L,GACpB,MAAOw3L,GAAWx3L,GAAU90B,MAAO7O,EAAEsM,KAAMq3B,EAAS,eAGrDk6L,SAAU,SAAUl6L,GACnB,GAAIjqB,GAAW1Z,EAAEsM,KAAMq3B,EAAS,YAC/Bm6L,EAAgBjvN,MAAO6K,EACxB,QAASokN,GAAiBpkN,GAAY,IAAOyhN,EAAWx3L,GAAUm6L,MAKpE99N,EAAE,WACD,GAAIgB,GAAOe,SAASf,KACnB0tC,EAAM1tC,EAAKW,YAAa+sC,EAAM3sC,SAASR,cAAe,OAKvDmtC,GAAI1oC,aAEJhG,EAAEuF,OAAQmpC,EAAItoC,OACb23N,UAAW,QACXr8N,OAAQ,OACRyT,QAAS,EACT6oN,YAAa,IAGdh+N,EAAEiC,QAAQ87N,UAAiC,MAArBrvL,EAAI1oC,aAC1BhG,EAAEiC,QAAQu7N,YAAc,iBAAmB9uL,GAI3C1tC,EAAKoB,YAAassC,GAAMtoC,MAAMyO,QAAU,SAInC7U,EAAEmpB,SACPnpB,EAAEmpB,OAASnpB,EAAEoB,KAQdpB,EAAEuF,OAAQvF,EAAEqjJ,IAEX46E,QACC71N,IAAK,SAAUmrB,EAAQpb,EAAQD,GAC9B,GAAIszB,GAAQxrC,EAAEqjJ,GAAI9vH,GAASroB,SAC3B,KAAM,GAAIlH,KAAKkU,GACdszB,EAAM0yL,QAASl6N,GAAMwnC,EAAM0yL,QAASl6N,OACpCwnC,EAAM0yL,QAASl6N,GAAIwH,MAAQ2M,EAAQD,EAAKlU,MAG1C6E,KAAM,SAAU8rF,EAAUh+E,EAAMslB,GAC/B,GAAI/jB,GAAMy8E,EAASupI,QAASvnN,EAC5B,IAAMuB,GAAQy8E,EAAShxD,QAAS,GAAIz6B,WAIpC,IAAM,GAAIlF,GAAI,EAAGA,EAAIkU,EAAIjU,OAAQD,IAC3B2wF,EAASp8E,QAASL,EAAKlU,GAAK,KAChCkU,EAAKlU,GAAK,GAAIvB,MAAOkyF,EAAShxD,QAAS1H,KAO3Chd,SAAU,SAAU5e,EAAGC,GACtB,MAAOyB,UAASshB,wBACkB,GAAjChjB,EAAEgjB,wBAAyB/iB,GAC3BD,IAAMC,GAAKD,EAAE4e,SAAU3e,IAIzB69N,UAAW,SAAU16L,EAAIpjC,GAGxB,GAAmC,WAA9BL,EAAGyjC,GAAKriC,IAAK,YACjB,OAAO,CAGR,IAAIg9N,GAAW/9N,GAAW,SAANA,EAAiB,aAAe,YACnDyQ,GAAM,CAEP,OAAK2yB,GAAI26L,GAAW,IAOpB36L,EAAI26L,GAAW,EACfttN,EAAQ2yB,EAAI26L,GAAW,EACvB36L,EAAI26L,GAAW,EACRttN,IAIRutN,WAAY,SAAUzzN,EAAG0zN,EAAWpxN,GAEnC,MAAStC,GAAI0zN,GAAiB1zN,EAAM0zN,EAAYpxN,GAEjDqxN,OAAQ,SAAUzzN,EAAGF,EAAG+K,EAAK2T,EAAM5nB,EAAQD,GAE1C,MAAOzB,GAAEqjJ,GAAGg7E,WAAYvzN,EAAG6K,EAAKjU,IAAY1B,EAAEqjJ,GAAGg7E,WAAYzzN,EAAG0e,EAAM7nB,QAIpE1B,QAUJ,SAAWC,EAAG+6B,GAGd,GAAK/6B,EAAEqnB,UAAY,CAClB,GAAIm3M,GAAax+N,EAAEqnB,SACnBrnB,GAAEqnB,UAAY,SAAUo3M,GACvB,IAAM,GAAWjkN,GAAPxW,EAAI,EAA8B,OAApBwW,EAAOikN,EAAMz6N,IAAaA,IACjD,IACChE,EAAGwa,GAAO3D,eAAgB,UAEzB,MAAO1V,IAEVq9N,EAAYC,QAEP,CACN,GAAI30C,GAAU9pL,EAAEoK,GAAG/I,MACnBrB,GAAEoK,GAAG/I,OAAS,SAAU6K,EAAUwyN,GACjC,MAAO7+N,MAAKyC,KAAK,WAWhB,MAVMo8N,IACCxyN,IAAYlM,EAAE+I,OAAQmD,GAAYrM,OAASoE,QAChDjE,EAAG,IAAKH,MAAOuI,KAAOvI,OAASyC,KAAK,WACnC,IACCtC,EAAGH,MAAOgX,eAAgB,UAEzB,MAAO1V,OAIL2oL,EAAQjhL,KAAM7I,EAAEH,MAAOqM,EAAUwyN,MAK3C1+N,EAAEwoL,OAAS,SAAU7xK,EAAMunB,EAAMhzB,GAChC,GACC43L,GADGjoL,EAAYlE,EAAKtS,MAAO,KAAO,EAEnCsS,GAAOA,EAAKtS,MAAO,KAAO,GAC1By+L,EAAWjoL,EAAY,IAAMlE,EAEvBzL,IACLA,EAAYgzB,EACZA,EAAOl+B,EAAE2+N,QAIV3+N,EAAEugB,KAAM,KAAOuiL,GAAa,SAAUtoL,GACrC,QAASxa,EAAEqI,KAAMmS,EAAM7D,IAGxB3W,EAAG6a,GAAc7a,EAAG6a,OACpB7a,EAAG6a,GAAalE,GAAS,SAAU4B,EAASorB,GAEtCh2B,UAAU1J,QACdpE,KAAK++N,cAAermN,EAASorB,GAI/B,IAAIk7L,GAAgB,GAAI3gM,EASxB2gM,GAActmN,QAAUvY,EAAEuF,QAAQ,KAAUs5N,EAActmN,SAC1DvY,EAAG6a,GAAalE,GAAOzL,UAAYlL,EAAEuF,QAAQ,EAAMs5N,GAClDhkN,UAAWA,EACXikN,WAAYnoN,EACZooN,kBAAmB/+N,EAAG6a,GAAalE,GAAOzL,UAAU6zN,mBAAqBpoN,EACzEqoN,gBAAiBl8B,GACf53L,GAEHlL,EAAEwoL,OAAOy2C,OAAQtoN,EAAM3W,EAAG6a,GAAalE,KAGxC3W,EAAEwoL,OAAOy2C,OAAS,SAAUtoN,EAAMN,GACjCrW,EAAEoK,GAAIuM,GAAS,SAAU4B,GACxB,GAAI2mN,GAAkC,gBAAZ3mN,GACzB0jB,EAAO1wB,MAAML,UAAUxI,MAAMmG,KAAM8E,UAAW,GAC9C+Q,EAAc7e,IAQf,OALA0Y,IAAW2mN,GAAgBjjM,EAAKh4B,OAC/BjE,EAAEuF,OAAO9C,MAAO,OAAQ,EAAM8V,GAAU/V,OAAOy5B,IAC/C1jB,EAGI2mN,GAAwC,MAAxB3mN,EAAQpM,OAAQ,GAC7BuS,GAGHwgN,EACJr/N,KAAKyC,KAAK,WACT,GAAIqyF,GAAW30F,EAAEqI,KAAMxI,KAAM8W,GAC5BwoN,EAAcxqI,GAAY30F,EAAE2F,WAAYgvF,EAASp8E,IAChDo8E,EAAUp8E,GAAU9V,MAAOkyF,EAAU14D,GACrC04D,CAUF,IAAKwqI,IAAgBxqI,GAAYwqI,IAAgBpkM,EAEhD,MADArc,GAAcygN,GACP,IAITt/N,KAAKyC,KAAK,WACT,GAAIqyF,GAAW30F,EAAEqI,KAAMxI,KAAM8W,EACxBg+E,GACJA,EAASx8E,OAAQI,OAAgB6mN,QAEjCp/N,EAAEqI,KAAMxI,KAAM8W,EAAM,GAAIN,GAAQkC,EAAS1Y,SAKrC6e,KAIT1e,EAAE2+N,OAAS,SAAUpmN,EAASorB,GAExBh2B,UAAU1J,QACdpE,KAAK++N,cAAermN,EAASorB,IAI/B3jC,EAAE2+N,OAAOzzN,WACR4zN,WAAY,SACZC,kBAAmB,GACnBxmN,SACCnH,UAAU,GAEXwtN,cAAe,SAAUrmN,EAASorB,GAGjC3jC,EAAEqI,KAAMs7B,EAAS9jC,KAAKi/N,WAAYj/N,MAClCA,KAAK8jC,QAAU3jC,EAAG2jC,GAClB9jC,KAAK0Y,QAAUvY,EAAEuF,QAAQ,KACxB1F,KAAK0Y,QACL1Y,KAAKw/N,oBACL9mN,EAED,IAAIqwB,GAAO/oC,IACXA,MAAK8jC,QAAQjkB,KAAM,UAAY7f,KAAKi/N,WAAY,WAC/Cl2L,EAAK5K,YAGNn+B,KAAKy/N,UACLz/N,KAAK0/N,SAAU,UACf1/N,KAAKu/N,SAENC,kBAAmB,WAClB,MAAOr/N,GAAEsxK,UAAYtxK,EAAEsxK,SAASlkK,IAAKvN,KAAK8jC,QAAQ,IAAM9jC,KAAKi/N,aAE9DQ,QAAS,aACTF,MAAO,aAEPphM,QAAS,WACRn+B,KAAK8jC,QACHhkB,OAAQ,IAAM9f,KAAKi/N,YACnBz1N,WAAYxJ,KAAKi/N,YACnBj/N,KAAK2oL,SACH7oK,OAAQ,IAAM9f,KAAKi/N,YACnBtnN,WAAY,iBACZK,YACAhY,KAAKm/N,gBAAkB,gCAI1Bx2C,OAAQ,WACP,MAAO3oL,MAAK8jC,SAGbxrB,OAAQ,SAAUshB,EAAK9xB,GACtB,GAAI4Q,GAAUkhB,CAEd,IAA0B,IAArB9rB,UAAU1J,OAEd,MAAOjE,GAAEuF,UAAY1F,KAAK0Y,QAG3B,IAAoB,gBAARkhB,GAAmB,CAC9B,GAAK9xB,IAAUozB,EACd,MAAOl7B,MAAK0Y,QAASkhB,EAEtBlhB,MACAA,EAASkhB,GAAQ9xB,EAKlB,MAFA9H,MAAK2/N,YAAajnN,GAEX1Y,MAER2/N,YAAa,SAAUjnN,GACtB,GAAIqwB,GAAO/oC,IAKX,OAJAG,GAAEsC,KAAMiW,EAAS,SAAUkhB,EAAK9xB,GAC/BihC,EAAK62L,WAAYhmM,EAAK9xB,KAGhB9H,MAER4/N,WAAY,SAAUhmM,EAAK9xB,GAW1B,MAVA9H,MAAK0Y,QAASkhB,GAAQ9xB,EAET,aAAR8xB,GACJ55B,KAAK2oL,SACF7gL,EAAQ,WAAa,eACtB9H,KAAKm/N,gBAAkB,+BAEvB1yN,KAAM,gBAAiB3E,GAGnB9H,MAGRq9C,OAAQ,WACP,MAAOr9C,MAAK4/N,WAAY,YAAY,IAErCvuN,QAAS,WACR,MAAOrR,MAAK4/N,WAAY,YAAY,IAGrCF,SAAU,SAAUp6N,EAAMgD,EAAOE,GAChC,GAAIoP,GAAMsZ,EACT4K,EAAW97B,KAAK0Y,QAASpT;AAa1B,GAXAkD,EAAOA,MACPF,EAAQnI,EAAEub,MAAOpT,GACjBA,EAAMhD,MAASA,IAAStF,KAAKk/N,kBAC5B55N,EACAtF,KAAKk/N,kBAAoB55N,GAAOf,cAGjC+D,EAAMyT,OAAS/b,KAAK8jC,QAAS,GAG7B5S,EAAO5oB,EAAMqW,cAEZ,IAAM/G,IAAQsZ,GACLtZ,IAAQtP,KACfA,EAAOsP,GAASsZ,EAAMtZ,GAOzB,OAFA5X,MAAK8jC,QAAQt1B,QAASlG,EAAOE,KAEnBrI,EAAE2F,WAAWg2B,IACtBA,EAAS9yB,KAAMhJ,KAAK8jC,QAAQ,GAAIx7B,EAAOE,MAAW,GAClDF,EAAM6T,yBAILjc,QAaJ,SAAWC,EAAG+6B,GAEd,GAAI2kM,IAAe,CACnB1/N,GAAG+B,UAAW49N,QAAS,SAAUx+N,GAChCu+N,GAAe,IAGhB1/N,EAAEwoL,OAAO,YACRjwK,SACCqrK,OAAQ,gBACR/oH,SAAU,EACV3jD,MAAO,GAER0oN,WAAY,WACX,GAAIh3L,GAAO/oC,IAEXA,MAAK8jC,QACHjkB,KAAK,aAAa7f,KAAKi/N,WAAY,SAAS32N,GAC5C,MAAOygC,GAAKi3L,WAAW13N,KAEvBuX,KAAK,SAAS7f,KAAKi/N,WAAY,SAAS32N,GACxC,IAAI,IAASnI,EAAEqI,KAAKF,EAAMyT,OAAQgtB,EAAKk2L,WAAa,sBAGnD,MAFG9+N,GAAEqJ,WAAWlB,EAAMyT,OAAQgtB,EAAKk2L,WAAa,sBAChD32N,EAAM2W,4BACC,IAIVjf,KAAKkhC,SAAU,GAKhB++L,cAAe,WACdjgO,KAAK8jC,QAAQhkB,OAAO,IAAI9f,KAAKi/N,YACxBj/N,KAAKkgO,oBACT//N,EAAE+B,UACA4d,OAAO,aAAa9f,KAAKi/N,WAAYj/N,KAAKkgO,oBAC1CpgN,OAAO,WAAW9f,KAAKi/N,WAAYj/N,KAAKmgO,mBAI5CH,WAAY,SAAS13N,GAEpB,IAAIu3N,EAAJ,CAGC7/N,KAAKogO,eAAiBpgO,KAAKqgO,SAAS/3N,GAErCtI,KAAKsgO,gBAAkBh4N,CAEvB,IAAIygC,GAAO/oC,KACVugO,EAA4B,GAAfj4N,EAAM4U,MAGnBsjN,IAA4C,gBAAvBxgO,MAAK0Y,QAAQqrK,SAAsBz7K,EAAMyT,OAAOhV,WAAW5G,EAAEmI,EAAMyT,QAAQ0I,QAAQzkB,KAAK0Y,QAAQqrK,QAAQ3/K,MAC9H,SAAKm8N,IAAaC,GAAexgO,KAAKygO,cAAcn4N,MAIpDtI,KAAK0gO,eAAiB1gO,KAAK0Y,QAAQrB,MAC9BrX,KAAK0gO,gBACT1gO,KAAK2gO,iBAAmB19N,WAAW,WAClC8lC,EAAK23L,eAAgB,GACnB1gO,KAAK0Y,QAAQrB,QAGbrX,KAAK4gO,kBAAkBt4N,IAAUtI,KAAK6gO,eAAev4N,KACxDtI,KAAKogO,cAAiBpgO,KAAK8gO,YAAYx4N,MAAW,GAC7CtI,KAAKogO,gBACT93N,EAAM4T,kBACC,KAKL,IAAS/b,EAAEqI,KAAKF,EAAMyT,OAAQ/b,KAAKi/N,WAAa,uBACnD9+N,EAAEqJ,WAAWlB,EAAMyT,OAAQ/b,KAAKi/N,WAAa,sBAI9Cj/N,KAAKkgO,mBAAqB,SAAS53N,GAClC,MAAOygC,GAAKg4L,WAAWz4N,IAExBtI,KAAKmgO,iBAAmB,SAAS73N,GAChC,MAAOygC,GAAKs3L,SAAS/3N,IAEtBnI,EAAE+B,UACA2d,KAAK,aAAa7f,KAAKi/N,WAAYj/N,KAAKkgO,oBACxCrgN,KAAK,WAAW7f,KAAKi/N,WAAYj/N,KAAKmgO,kBAExC73N,EAAM4T,iBAEN2jN,GAAe,GACR,MAGRkB,WAAY,SAASz4N,GAEpB,OAAInI,EAAEqQ,QAAQq6I,MAAU3oJ,SAAS8/B,cAAgB,GAAO15B,EAAM4R,OAI1Dla,KAAKogO,eACRpgO,KAAKghO,WAAW14N,GACTA,EAAM4T,mBAGVlc,KAAK4gO,kBAAkBt4N,IAAUtI,KAAK6gO,eAAev4N,KACxDtI,KAAKogO,cACHpgO,KAAK8gO,YAAY9gO,KAAKsgO,gBAAiBh4N,MAAW,EACnDtI,KAAKogO,cAAgBpgO,KAAKghO,WAAW14N,GAAStI,KAAKqgO,SAAS/3N,KAGtDtI,KAAKogO,eAdLpgO,KAAKqgO,SAAS/3N,IAiBvB+3N,SAAU,SAAS/3N,GAelB,MAdAnI,GAAE+B,UACA4d,OAAO,aAAa9f,KAAKi/N,WAAYj/N,KAAKkgO,oBAC1CpgN,OAAO,WAAW9f,KAAKi/N,WAAYj/N,KAAKmgO,kBAEtCngO,KAAKogO,gBACRpgO,KAAKogO,eAAgB,EAEjB93N,EAAMyT,QAAU/b,KAAKsgO,gBAAgBvkN,QACrC5b,EAAEqI,KAAKF,EAAMyT,OAAQ/b,KAAKi/N,WAAa,sBAAsB,GAGjEj/N,KAAKihO,WAAW34N,KAGV,GAGRs4N,kBAAmB,SAASt4N,GAC3B,MAAQ0H,MAAKC,IACXD,KAAKkgC,IAAIlwC,KAAKsgO,gBAAgB/iN,MAAQjV,EAAMiV,OAC5CvN,KAAKkgC,IAAIlwC,KAAKsgO,gBAAgB3iN,MAAQrV,EAAMqV,SACxC3d,KAAK0Y,QAAQsiD,UAIpB6lK,eAAgB,SAASv4N,GACxB,MAAOtI,MAAK0gO,eAIbI,YAAa,SAASx4N,KACtB04N,WAAY,SAAS14N,KACrB24N,WAAY,SAAS34N,KACrBm4N,cAAe,SAASn4N,GAAS,OAAO,MAGtCpI,QAWH,SAAUO,GAAqH,QAASW,GAAEsC,EAAEC,GAAG,KAAGD,EAAEib,cAAc8jD,QAAQr+D,OAAO,GAAlC,CAA6CV,EAAEwY,gBAAiB,IAAI/X,GAAET,EAAEib,cAAcopD,eAAe,GAAGpnE,EAAEuB,SAAS0nE,YAAY,cAAejpE,GAAEkpE,eAAelmE,GAAE,GAAK,EAAKoL,OAAO,EAAE5K,EAAE2lE,QAAQ3lE,EAAE4lE,QAAQ5lE,EAAEqZ,QAAQrZ,EAAEyZ,SAAQ,GAAM,GAAM,GAAM,EAAM,EAAE,MAAMla,EAAEqY,OAAOiuD,cAAcrpE,IAA5W,GAAzCF,EAAE2B,QAAQssC,MAAM,cAAgBxsC,UAAazB,EAAE2B,QAAQssC,MAAd,CAA6B,GAA0CluC,GAAtCU,EAAET,EAAE+iJ,GAAG09E,MAAM71N,UAAU/J,EAAEJ,EAAE6+N,UAAoT7+N,GAAEigO,YAAY,SAASz9N,GAAG,GAAI/C,GAAEX,MAAQQ,GAAIG,EAAE8/N,cAAc/8N,EAAEib,cAAcopD,eAAe,MAAavnE,GAAE,EAAKG,EAAEygO,aAAY,EAAMhgO,EAAEsC,EAAE,aAAatC,EAAEsC,EAAE,aAAatC,EAAEsC,EAAE,eAAexC,EAAEmgO,WAAW,SAAS1gO,GAAOH,IAAWR,KAAKohO,aAAY,EAAKhgO,EAAET,EAAE,eAAeO,EAAEogO,UAAU,SAAS3gO,GAAOH,IAAWY,EAAET,EAAE,WAAWS,EAAET,EAAE,YAAgBX,KAAKohO,aAAahgO,EAAET,EAAE,SAAUH,GAAE,IAAQU,EAAE6+N,WAAW,WAAW,GAAIp/N,GAAEX,IAAKW,GAAEmjC,QAAQjkB,KAAK,aAAapf,EAAE0P,MAAMxP,EAAE,gBAAgBkf,KAAK,YAAYpf,EAAE0P,MAAMxP,EAAE,eAAekf,KAAK,WAAWpf,EAAE0P,MAAMxP,EAAE,cAAcW,EAAE0H,KAAKrI,MAAQT,QAgB59B,SAAUC,EAAG+6B,GAId,GAAIqmM,GAAW,CAEfphO,GAAEwoL,OAAQ,YAAaxoL,EAAEqjJ,GAAG09E,OAE3BhC,kBAAmB,QAEnBxmN,SACC8W,SAAS,EACTwrC,SAAU,EACV/qD,IAAK,IACL2kB,IAAK,EACL2Y,YAAa,aACbtX,OAAO,EACP7E,KAAM,EACNtpB,MAAO,EACPqtB,OAAQ,MAGTsqM,QAAS,WACR,GAAI12L,GAAO/oC,KACVgE,EAAIhE,KAAK0Y,QACT8oN,EAAkBxhO,KAAK8jC,QAAQ52B,KAAM,qBAAsB6K,SAAU,kCACrE1P,EAAS,2EACTo5N,EAAgBz9N,EAAEmxB,QAAUnxB,EAAEmxB,OAAO/wB,QAAY,EACjDs9N,IAED1hO,MAAK2hO,aAAc,EACnB3hO,KAAK4hO,eAAgB,EACrB5hO,KAAK6hO,aAAc,EACnB7hO,KAAK8hO,aAAe,KACpB9hO,KAAK+hO,qBACL/hO,KAAK+/N,aAEL//N,KAAK8jC,QACH/rB,SAAU,uBACM/X,KAAKutC,YACrB,8CAGEvpC,EAAEuN,SAAW,kCAAoC,KAErDvR,KAAKi2B,MAAQ91B,MAER6D,EAAEiyB,QACDjyB,EAAEiyB,SAAU,IACVjyB,EAAEmxB,SACPnxB,EAAEmxB,QAAWn1B,KAAKgiO,YAAahiO,KAAKgiO,cAEhCh+N,EAAEmxB,OAAO/wB,QAA8B,IAApBJ,EAAEmxB,OAAO/wB,SAChCJ,EAAEmxB,QAAWnxB,EAAEmxB,OAAO,GAAInxB,EAAEmxB,OAAO,MAIrCn1B,KAAKi2B,MAAQ91B,EAAG,eACdkB,SAAUrB,KAAK8jC,SACf/rB,SAAU,oCAIK,QAAZ/T,EAAEiyB,OAA+B,QAAZjyB,EAAEiyB,MAAoB,oBAAsBjyB,EAAEiyB,MAAQ,KAGjF,KAAM,GAAI9xB,GAAIq9N,EAAgBp9N,OAAQD,EAAIs9N,EAAat9N,GAAK,EAC3Du9N,EAAQ/1N,KAAMtD,EAGfrI,MAAK0hO,QAAUF,EAAgBj5N,IAAKpI,EAAGuhO,EAAQ3zN,KAAM,KAAO1M,SAAU0nC,EAAKjF,UAE3E9jC,KAAKqI,OAASrI,KAAK0hO,QAAQ/zN,GAAI,GAE/B3N,KAAK0hO,QAAQn5N,IAAKvI,KAAKi2B,OAAQ/sB,OAAQ,KACrCkX,MAAM,SAAU9X,GAChBA,EAAM4T,mBAEN3B,MAAM,WACAvW,EAAEuN,UACPpR,EAAGH,MAAO+X,SAAU,mBAEnB,WACF5X,EAAGH,MAAOgY,YAAa,oBAEvBqG,MAAM,WACAra,EAAEuN,SAIPpR,EAAGH,MAAOse,QAHVne,EAAG,8BAA+B6X,YAAa,kBAC/C7X,EAAGH,MAAO+X,SAAU,qBAKrBuG,KAAK,WACLne,EAAGH,MAAOgY,YAAa,oBAGzBhY,KAAK0hO,QAAQj/N,KAAK,SAAU0B,GAC3BhE,EAAGH,MAAOwI,KAAM,yBAA0BrE,KAG3CnE,KAAK0hO,QACHO,QAAQ,SAAU35N,GAClB,GACC47K,GACAg+C,EACAC,EACA/wM,EAJG5M,EAAQrkB,EAAGH,MAAOwI,KAAM,yBAM5B,KAAKugC,EAAKrwB,QAAQnH,SAAlB,CAIA,OAASjJ,EAAM8U,SACd,IAAKjd,GAAEqjJ,GAAGpmI,QAAQg/M,KAClB,IAAKj8N,GAAEqjJ,GAAGpmI,QAAQ0kD,IAClB,IAAK3hE,GAAEqjJ,GAAGpmI,QAAQ2/M,QAClB,IAAK58N,GAAEqjJ,GAAGpmI,QAAQ0/M,UAClB,IAAK38N,GAAEqjJ,GAAGpmI,QAAQigN,GAClB,IAAKl9N,GAAEqjJ,GAAGpmI,QAAQ6/M,MAClB,IAAK98N,GAAEqjJ,GAAGpmI,QAAQ8+M,KAClB,IAAK/7N,GAAEqjJ,GAAGpmI,QAAQk/M,KAEjB,GADAh0N,EAAM4T,kBACA6sB,EAAK44L,cACV54L,EAAK44L,aAAc,EACnBxhO,EAAGH,MAAO+X,SAAU,mBACpBmsK,EAAUn7I,EAAKoyL,OAAQ7yN,EAAOkc,GACzB0/J,KAAY,GAChB,OAaJ,OAPA9yJ,EAAO2X,EAAKrwB,QAAQ0Y,KAEnB8wM,EAASC,EADLp5L,EAAKrwB,QAAQyc,QAAU4T,EAAKrwB,QAAQyc,OAAO/wB,OAC7B2kC,EAAK5T,OAAQ3Q,GAEbukB,EAAKjhC,QAGfQ,EAAM8U,SACd,IAAKjd,GAAEqjJ,GAAGpmI,QAAQg/M,KACjB+F,EAASp5L,EAAKi5L,WACd,MACD,KAAK7hO,GAAEqjJ,GAAGpmI,QAAQ0kD,IACjBqgK,EAASp5L,EAAKq5L,WACd,MACD,KAAKjiO,GAAEqjJ,GAAGpmI,QAAQ2/M,QACjBoF,EAASp5L,EAAKs5L,gBAAiBH,GAAYn5L,EAAKq5L,YAAcr5L,EAAKi5L,aAAeT,EAClF,MACD,KAAKphO,GAAEqjJ,GAAGpmI,QAAQ0/M,UACjBqF,EAASp5L,EAAKs5L,gBAAiBH,GAAYn5L,EAAKq5L,YAAcr5L,EAAKi5L,aAAeT,EAClF,MACD,KAAKphO,GAAEqjJ,GAAGpmI,QAAQigN,GAClB,IAAKl9N,GAAEqjJ,GAAGpmI,QAAQ6/M,MACjB,GAAKiF,IAAWn5L,EAAKq5L,YACpB,MAEDD,GAASp5L,EAAKs5L,gBAAiBH,EAAS9wM,EACxC,MACD,KAAKjxB,GAAEqjJ,GAAGpmI,QAAQ8+M,KAClB,IAAK/7N,GAAEqjJ,GAAGpmI,QAAQk/M,KACjB,GAAK4F,IAAWn5L,EAAKi5L,YACpB,MAEDG,GAASp5L,EAAKs5L,gBAAiBH,EAAS9wM,GAI1C2X,EAAKmyL,OAAQ5yN,EAAOkc,EAAO29M,MAE3BG,MAAM,SAAUh6N,GAChB,GAAIkc,GAAQrkB,EAAGH,MAAOwI,KAAM,yBAEvBugC,GAAK44L,cACT54L,EAAK44L,aAAc,EACnB54L,EAAKqyL,MAAO9yN,EAAOkc,GACnBukB,EAAKw5L,QAASj6N,EAAOkc,GACrBrkB,EAAGH,MAAOgY,YAAa,sBAK1BhY,KAAKwiO,gBAELxiO,KAAK6hO,aAAc,GAGpB1jM,QAAS,WAiBR,MAhBAn+B,MAAK0hO,QAAQlgO,SACbxB,KAAKi2B,MAAMz0B,SAEXxB,KAAK8jC,QACH9rB,YAAa,kHAObxO,WAAY,UACZsW,OAAQ,WAEV9f,KAAKigO,gBAEEjgO,MAGRygO,cAAe,SAAUn4N,GACxB,GACCuN,GACA4sN,EACAznK,EACA0nK,EACA35L,EACAvkB,EACA0/J,EACArrK,EACA8pN,EATG3+N,EAAIhE,KAAK0Y,OAWb,QAAK1U,EAAEuN,WAIPvR,KAAK4iO,aACJhhO,MAAO5B,KAAK8jC,QAAQqvB,aACpBtxD,OAAQ7B,KAAK8jC,QAAQsvB,eAEtBpzD,KAAK6iO,cAAgB7iO,KAAK8jC,QAAQjrB,SAElChD,GAAa9K,EAAGzC,EAAMiV,MAAOtS,EAAG3C,EAAMqV,OACtC8kN,EAAYziO,KAAK8iO,oBAAqBjtN,GACtCmlD,EAAWh7D,KAAKoiO,YAAcpiO,KAAKgiO,YAAc,EACjDj5L,EAAO/oC,KACPA,KAAK0hO,QAAQj/N,KAAK,SAAU0B,GAC3B,GAAI4+N,GAAe/yN,KAAKkgC,IAAKuyL,EAAY15L,EAAK5T,OAAOhxB,GAChD62D,GAAW+nK,IACf/nK,EAAW+nK,EACXL,EAAgBviO,EAAGH,MACnBwkB,EAAQrgB,KAONH,EAAEiyB,SAAU,GAAQj2B,KAAKm1B,OAAO,KAAOnxB,EAAE4wB,MAC5CpQ,GAAS,EACTk+M,EAAgBviO,EAAGH,KAAK0hO,QAAQl9M,KAGjC0/J,EAAUlkL,KAAKm7N,OAAQ7yN,EAAOkc,GACzB0/J,KAAY,IAGjBlkL,KAAK4hO,eAAgB,EAErB74L,EAAK+4L,aAAet9M,EAEpBk+M,EACE3qN,SAAU,mBACVsG,QAEFxF,EAAS6pN,EAAc7pN,SACvB8pN,GAAmBxiO,EAAGmI,EAAMyT,QAAS8I,UAAUD,UAAUpI,GAAI,qBAC7Dxc,KAAKgjO,aAAeL,GAAoBl5M,KAAM,EAAG3T,IAAK,IACrD2T,KAAMnhB,EAAMiV,MAAQ1E,EAAO4Q,KAASi5M,EAAc9gO,QAAU,EAC5DkU,IAAKxN,EAAMqV,MAAQ9E,EAAO/C,IACvB4sN,EAAc7gO,SAAW,GACzBuT,SAAUstN,EAAcnhO,IAAI,kBAAmB,KAAQ,IACvD6T,SAAUstN,EAAcnhO,IAAI,qBAAsB,KAAQ,IAC1D6T,SAAUstN,EAAcnhO,IAAI,aAAc,KAAQ,IAGhDvB,KAAK0hO,QAAQxpN,SAAU,mBAC5BlY,KAAKk7N,OAAQ5yN,EAAOkc,EAAOi+M,GAE5BziO,KAAK6hO,aAAc,GACZ,KAGRf,YAAa,SAAUx4N,GACtB,OAAO,GAGR04N,WAAY,SAAU14N,GACrB,GAAIuN,IAAa9K,EAAGzC,EAAMiV,MAAOtS,EAAG3C,EAAMqV,OACzC8kN,EAAYziO,KAAK8iO,oBAAqBjtN,EAIvC,OAFA7V,MAAKk7N,OAAQ5yN,EAAOtI,KAAK8hO,aAAcW,IAEhC,GAGRxB,WAAY,SAAU34N,GAWrB,MAVAtI,MAAK0hO,QAAQ1pN,YAAa,mBAC1BhY,KAAK4hO,eAAgB,EAErB5hO,KAAKo7N,MAAO9yN,EAAOtI,KAAK8hO,cACxB9hO,KAAKuiO,QAASj6N,EAAOtI,KAAK8hO,cAE1B9hO,KAAK8hO,aAAe,KACpB9hO,KAAKgjO,aAAe,KACpBhjO,KAAK6hO,aAAc,GAEZ,GAGRE,mBAAoB,WACnB/hO,KAAKutC,YAA6C,aAA7BvtC,KAAK0Y,QAAQ60B,YAA+B,WAAa,cAG/Eu1L,oBAAqB,SAAUjtN,GAC9B,GAAIotN,GACHC,EACAC,EACAC,EACAC,CAwBD,OAtB0B,eAArBrjO,KAAKutC,aACT01L,EAAajjO,KAAK4iO,YAAYhhO,MAC9BshO,EAAartN,EAAS9K,EAAI/K,KAAK6iO,cAAcp5M,MAASzpB,KAAKgjO,aAAehjO,KAAKgjO,aAAav5M,KAAO,KAEnGw5M,EAAajjO,KAAK4iO,YAAY/gO,OAC9BqhO,EAAartN,EAAS5K,EAAIjL,KAAK6iO,cAAc/sN,KAAQ9V,KAAKgjO,aAAehjO,KAAKgjO,aAAaltN,IAAM,IAGlGqtN,EAAiBD,EAAaD,EACzBE,EAAe,IACnBA,EAAe,GAEXA,EAAe,IACnBA,EAAe,GAEU,aAArBnjO,KAAKutC,cACT41L,EAAe,EAAIA,GAGpBC,EAAapjO,KAAKoiO,YAAcpiO,KAAKgiO,YACrCqB,EAAarjO,KAAKgiO,YAAcmB,EAAeC,EAExCpjO,KAAKqiO,gBAAiBgB,IAG9BlI,OAAQ,SAAU7yN,EAAOkc,GACxB,GAAI8+M,IACHj7N,OAAQrI,KAAK0hO,QAASl9M,GACtB1c,MAAO9H,KAAK8H,QAMb,OAJK9H,MAAK0Y,QAAQyc,QAAUn1B,KAAK0Y,QAAQyc,OAAO/wB,SAC/Ck/N,EAAOx7N,MAAQ9H,KAAKm1B,OAAQ3Q,GAC5B8+M,EAAOnuM,OAASn1B,KAAKm1B,UAEfn1B,KAAK0/N,SAAU,QAASp3N,EAAOg7N,IAGvCpI,OAAQ,SAAU5yN,EAAOkc,EAAO29M,GAC/B,GAAIoB,GACHC,EACAt/C,CAEIlkL,MAAK0Y,QAAQyc,QAAUn1B,KAAK0Y,QAAQyc,OAAO/wB,QAC/Cm/N,EAAWvjO,KAAKm1B,OAAQ3Q,EAAQ,EAAI,GAEE,IAA/BxkB,KAAK0Y,QAAQyc,OAAO/wB,QAAgBpE,KAAK0Y,QAAQud,SAAU,IAClD,IAAVzR,GAAe29M,EAASoB,GAAyB,IAAV/+M,GAAe29M,EAASoB,KAEpEpB,EAASoB,GAGLpB,IAAWniO,KAAKm1B,OAAQ3Q,KAC5Bg/M,EAAYxjO,KAAKm1B,SACjBquM,EAAWh/M,GAAU29M,EAErBj+C,EAAUlkL,KAAK0/N,SAAU,QAASp3N,GACjCD,OAAQrI,KAAK0hO,QAASl9M,GACtB1c,MAAOq6N,EACPhtM,OAAQquM,IAETD,EAAWvjO,KAAKm1B,OAAQ3Q,EAAQ,EAAI,GAC/B0/J,KAAY,GAChBlkL,KAAKm1B,OAAQ3Q,EAAO29M,GAAQ,KAIzBA,IAAWniO,KAAK8H,UAEpBo8K,EAAUlkL,KAAK0/N,SAAU,QAASp3N,GACjCD,OAAQrI,KAAK0hO,QAASl9M,GACtB1c,MAAOq6N,IAEHj+C,KAAY,GAChBlkL,KAAK8H,MAAOq6N,KAMhB/G,MAAO,SAAU9yN,EAAOkc,GACvB,GAAI8+M,IACHj7N,OAAQrI,KAAK0hO,QAASl9M,GACtB1c,MAAO9H,KAAK8H,QAER9H,MAAK0Y,QAAQyc,QAAUn1B,KAAK0Y,QAAQyc,OAAO/wB,SAC/Ck/N,EAAOx7N,MAAQ9H,KAAKm1B,OAAQ3Q,GAC5B8+M,EAAOnuM,OAASn1B,KAAKm1B,UAGtBn1B,KAAK0/N,SAAU,OAAQp3N,EAAOg7N,IAG/Bf,QAAS,SAAUj6N,EAAOkc,GACzB,IAAMxkB,KAAK2hO,cAAgB3hO,KAAK4hO,cAAgB,CAC/C,GAAI0B,IACHj7N,OAAQrI,KAAK0hO,QAASl9M,GACtB1c,MAAO9H,KAAK8H,QAER9H,MAAK0Y,QAAQyc,QAAUn1B,KAAK0Y,QAAQyc,OAAO/wB,SAC/Ck/N,EAAOx7N,MAAQ9H,KAAKm1B,OAAQ3Q,GAC5B8+M,EAAOnuM,OAASn1B,KAAKm1B,UAGtBn1B,KAAK0/N,SAAU,SAAUp3N,EAAOg7N,KAIlCx7N,MAAO,SAAUu3I,GAChB,MAAKvxI,WAAU1J,QACdpE,KAAK0Y,QAAQ5Q,MAAQ9H,KAAKqiO,gBAAiBhjF,GAC3Cr/I,KAAKwiO,oBACLxiO,MAAKuiO,QAAS,KAAM,IAIdviO,KAAKyjO,UAGbtuM,OAAQ,SAAU3Q,EAAO66H,GACxB,GAAIqvE,GACH8U,EACAr/N,CAED,IAAK2J,UAAU1J,OAAS,EAIvB,MAHApE,MAAK0Y,QAAQyc,OAAQ3Q,GAAUxkB,KAAKqiO,gBAAiBhjF,GACrDr/I,KAAKwiO,oBACLxiO,MAAKuiO,QAAS,KAAM/9M,EAIrB,KAAK1W,UAAU1J,OAiBd,MAAOpE,MAAK0jO,SAhBZ,KAAKvjO,EAAEiF,QAAS0I,UAAW,IAS1B,MAAK9N,MAAK0Y,QAAQyc,QAAUn1B,KAAK0Y,QAAQyc,OAAO/wB,OACxCpE,KAAK0jO,QAASl/M,GAEdxkB,KAAK8H,OATb,KAFA4mN,EAAO1uN,KAAK0Y,QAAQyc,OACpBquM,EAAY11N,UAAW,GACjB3J,EAAI,EAAGA,EAAIuqN,EAAKtqN,OAAQD,GAAK,EAClCuqN,EAAMvqN,GAAMnE,KAAKqiO,gBAAiBmB,EAAWr/N,IAC7CnE,KAAKuiO,QAAS,KAAMp+N,EAErBnE,MAAKwiO,iBAaR5C,WAAY,SAAUhmM,EAAK9xB,GAC1B,GAAI3D,GACHw/N,EAAa,CAQd,QANKxjO,EAAEiF,QAASpF,KAAK0Y,QAAQyc,UAC5BwuM,EAAa3jO,KAAK0Y,QAAQyc,OAAO/wB,QAGlCjE,EAAE2+N,OAAOzzN,UAAUu0N,WAAWh9N,MAAO5C,KAAM8N,WAElC8rB,GACR,IAAK,WACC9xB,GACJ9H,KAAK0hO,QAAQx4N,OAAQ,mBAAoBoV,OACzCte,KAAK0hO,QAAQ1pN,YAAa,kBAC1BhY,KAAK0hO,QAAQnE,SAAU,YAAY,GACnCv9N,KAAK8jC,QAAQ/rB,SAAU,iBAEvB/X,KAAK0hO,QAAQnE,SAAU,YAAY,GACnCv9N,KAAK8jC,QAAQ9rB,YAAa,eAE3B,MACD,KAAK,cACJhY,KAAK+hO,qBACL/hO,KAAK8jC,QACH9rB,YAAa,2CACbD,SAAU,aAAe/X,KAAKutC,aAChCvtC,KAAKwiO,eACL,MACD,KAAK,QACJxiO,KAAK6hO,aAAc,EACnB7hO,KAAKwiO,gBACLxiO,KAAKuiO,QAAS,KAAM,GACpBviO,KAAK6hO,aAAc,CACnB,MACD,KAAK,SAGJ,IAFA7hO,KAAK6hO,aAAc,EACnB7hO,KAAKwiO,gBACCr+N,EAAI,EAAGA,EAAIw/N,EAAYx/N,GAAK,EACjCnE,KAAKuiO,QAAS,KAAMp+N,EAErBnE,MAAK6hO,aAAc,IAOtB4B,OAAQ,WACP,GAAItrN,GAAMnY,KAAK0Y,QAAQ5Q,KAGvB,OAFAqQ,GAAMnY,KAAKqiO,gBAAiBlqN,IAQ7BurN,QAAS,SAAUl/M,GAClB,GAAIrM,GACHu2M,EACAvqN,CAED,IAAK2J,UAAU1J,OAId,MAHA+T,GAAMnY,KAAK0Y,QAAQyc,OAAQ3Q,GAC3BrM,EAAMnY,KAAKqiO,gBAAiBlqN,EAO5B,KADAu2M,EAAO1uN,KAAK0Y,QAAQyc,OAAOtyB,QACrBsB,EAAI,EAAGA,EAAIuqN,EAAKtqN,OAAQD,GAAI,EACjCuqN,EAAMvqN,GAAMnE,KAAKqiO,gBAAiB3T,EAAMvqN,GAGzC,OAAOuqN,IAKT2T,gBAAiB,SAAUlqN,GAC1B,GAAKA,GAAOnY,KAAKgiO,YAChB,MAAOhiO,MAAKgiO,WAEb,IAAK7pN,GAAOnY,KAAKoiO,YAChB,MAAOpiO,MAAKoiO,WAEb,IAAIhxM,GAASpxB,KAAK0Y,QAAQ0Y,KAAO,EAAMpxB,KAAK0Y,QAAQ0Y,KAAO,EAC1DwyM,GAAczrN,EAAMnY,KAAKgiO,aAAe5wM,EACxCyyM,EAAa1rN,EAAMyrN,CAQpB,OAN4B,GAAvB5zN,KAAKkgC,IAAI0zL,IAAmBxyM,IAChCyyM,GAAgBD,EAAa,EAAMxyM,GAAUA,GAKvChrB,WAAYy9N,EAAW7pI,QAAQ,KAGvCgoI,UAAW,WACV,MAAOhiO,MAAK0Y,QAAQkc,KAGrBwtM,UAAW,WACV,MAAOpiO,MAAK0Y,QAAQzI,KAGrBuyN,cAAe,WACd,GAICsB,GAEAC,EACAj8N,EACAk8N,EACAC,EATGC,EAASlkO,KAAK0Y,QAAQud,MACzBjyB,EAAIhE,KAAK0Y,QACTqwB,EAAO/oC,KACPwvB,GAAaxvB,KAAK6hO,aAAgB79N,EAAEwrB,QAEpCyiK,IAMIjyL,MAAK0Y,QAAQyc,QAAUn1B,KAAK0Y,QAAQyc,OAAO/wB,OAC/CpE,KAAK0hO,QAAQj/N,KAAK,SAAU0B,EAAGP,GAC9BkgO,GAAe/6L,EAAK5T,OAAOhxB,GAAK4kC,EAAKi5L,cAAkBj5L,EAAKq5L,YAAcr5L,EAAKi5L,aAAgB,IAC/F/vC,EAA2B,eAArBlpJ,EAAKwE,YAA+B,OAAS,UAAau2L,EAAa,IAC7E3jO,EAAGH,MAAOwX,KAAM,EAAG,GAAKgY,EAAU,UAAY,OAASyiK,EAAMjuL,EAAEwrB,SAC1DuZ,EAAKrwB,QAAQud,SAAU,IACD,eAArB8S,EAAKwE,aACE,IAANppC,GACJ4kC,EAAK9S,MAAMze,KAAM,EAAG,GAAKgY,EAAU,UAAY,QAAW/F,KAAMq6M,EAAa,KAAO9/N,EAAEwrB,SAE5E,IAANrrB,GACJ4kC,EAAK9S,MAAOzG,EAAU,UAAY,QAAW5tB,MAASkiO,EAAaC,EAAmB,MAAS5sN,OAAO,EAAOyZ,SAAU5sB,EAAEwrB,YAG/G,IAANrrB,GACJ4kC,EAAK9S,MAAMze,KAAM,EAAG,GAAKgY,EAAU,UAAY,QAAW8hC,OAAQ,EAAiB,KAAOttD,EAAEwrB,SAElF,IAANrrB,GACJ4kC,EAAK9S,MAAOzG,EAAU,UAAY,QAAW3tB,OAAUiiO,EAAaC,EAAmB,MAAS5sN,OAAO,EAAOyZ,SAAU5sB,EAAEwrB,YAI7Hu0M,EAAiBD,KAGlBh8N,EAAQ9H,KAAK8H,QACbk8N,EAAWhkO,KAAKgiO,YAChBiC,EAAWjkO,KAAKoiO,YAChB0B,EAAeG,IAAaD,GACxBl8N,EAAQk8N,IAAeC,EAAWD,GAAa,IACjD,EACF/xC,EAA2B,eAArBlpJ,EAAKwE,YAA+B,OAAS,UAAau2L,EAAa,IAC7E9jO,KAAKqI,OAAOmP,KAAM,EAAG,GAAKgY,EAAU,UAAY,OAASyiK,EAAMjuL,EAAEwrB,SAEjD,QAAX00M,GAAyC,eAArBlkO,KAAKutC,aAC7BvtC,KAAKi2B,MAAMze,KAAM,EAAG,GAAKgY,EAAU,UAAY,QAAW5tB,MAAOkiO,EAAa,KAAO9/N,EAAEwrB,SAExE,QAAX00M,GAAyC,eAArBlkO,KAAKutC,aAC7BvtC,KAAKi2B,MAAOzG,EAAU,UAAY,QAAW5tB,MAAS,IAAMkiO,EAAe,MAAS3sN,OAAO,EAAOyZ,SAAU5sB,EAAEwrB,UAE/F,QAAX00M,GAAyC,aAArBlkO,KAAKutC,aAC7BvtC,KAAKi2B,MAAMze,KAAM,EAAG,GAAKgY,EAAU,UAAY,QAAW3tB,OAAQiiO,EAAa,KAAO9/N,EAAEwrB,SAEzE,QAAX00M,GAAyC,aAArBlkO,KAAKutC,aAC7BvtC,KAAKi2B,MAAOzG,EAAU,UAAY,QAAW3tB,OAAU,IAAMiiO,EAAe,MAAS3sN,OAAO,EAAOyZ,SAAU5sB,EAAEwrB,cAOnHrvB,EAAEuF,OAAQvF,EAAEqjJ,GAAGunB,QACdt6J,QAAS,YAGRvQ,QAEF4jJ,QAAQklC,WAAW,SAAUpL,QAE7B/3B,SAAW/B,QAAQtC,KAAKqE,SChjOxBtE,IAAImC,UACJnC,IAAI4iF,SACJ5iF,IAAI4iF,MAAMC,aACV7iF,IAAI8iF,SACJ9iF,IAAIvyH,QACJuyH,IAAI6iF,aAEJ7iF,IAAI+B,OAAOghF,cAAgB,SAASC,EAAWtmM,EAAQpzB,GACrD02I,IAAI+B,OAAOjrI,IAAIksN,EAAY,IAAMtmM,EAAS,eAAgBpzB,GAAK,OAGjE02I,IAAI+B,OAAOkhF,WAAa,SAASD,EAAWtmM,EAAQwmM,GAClDxmM,EAASA,GAAU,EACnB,IAAIxtB,GAAU8wI,IAAI+B,OAAO/1I,IAAIg3N,EAAY,IAAMtmM,EAAS,eACxD,OAAOxtB,IAAWg0N,GAAkB,MAItCljF,IAAI+B,OAAOohF,UAAY,WACrB,MAAO1kO,MAAKuN,IAAI,eAAiB,IAKnCg0I,IAAI+B,OAAOqhF,kBAAoB,WAC7B,GAAIv0K,GAASpwD,KAAK0kO,WAClB,IAAe,KAAXt0K,EACF,IACE,GAAIA,GAAUA,EAAOnkD,QAAQ,QAAS,EAAI,KAAM,IAAI8nB,WAAU,cAC9D,IAAIvzB,GAAI0B,SAASR,cAAc,IAC/BlB,GAAEuZ,KAAOq2C,CACT,IAAIxoC,GAAMpnB,EAAEihC,QAEZ,OAAO7Z,GAAIljB,QAAQ,MAAO,IAC1B,MAAMpD,IAIV,MAAO8uD,IAOTmxF,IAAI+B,OAAOshF,oBAAsB,SAAS71M,GACxC,GAAInH,GACAo9H,EAAkBhlJ,KAAKuN,IAAI,oBAI/B,OAHIy3I,KACFp9H,EAAMo9H,EAAgBtgJ,QAAQ,qBAAsB,IAAIA,QAAQ,UAAWqqB,IAEtEnH,EH7CT,IAAIi9M,OAEFt7K,OAAQ,SAAU5vB,GAChB,IAAI,GAAIx1B,GAAI,EAAGA,EAAI2J,UAAU1J,SAAUD,EAAG,CACxC,GAAI84B,GAAQnvB,UAAU3J,EACtB,KAAI,GAAIsI,KAAQwwB,GACdtD,EAAMA,EAAIj1B,QAAQ2V,OAAO,MAAQ5N,EAAO,MAAO,KAAMwwB,EAAMxwB,IAG/D,MAAOktB,MAIX,WAGE,GAAI2C,GAAW,SAAS9lB,EAAQoB,EAAMqmB,GACpC,MAAMznB,IAAUA,EAAOoB,GAChBrX,EAAEuF,WAAW0Q,EAAOoB,IAASpB,EAAOoB,GAAMqmB,GAAUznB,EAAOoB,GAD5B,MAKpC0mB,EAAW,WACb,KAAM,IAAIpvB,OAAM,kDAKlB5O,UAASwkO,aAAexkO,SAASq9B,KACjCr9B,SAASq9B,KAAO,SAASM,EAAQT,EAAO9kB,GACtC,GAAIkP,GAAMlP,EAAQkP,KAAO0U,EAASkB,EAAO,MAAOS,IAAWK,IAEvDymM,EAAsC,IAAxBn9M,EAAI3b,QAAQ,SAAuC,IAAtB2b,EAAI3b,QAAQ,KAY3D,OAXK84N,GAGHrsN,EAAQkP,IAAMA,EAFdlP,EAAQkP,IAAM25H,IAAI+B,OAAOohF,YAAc98M,EAI1B,SAAXqW,GAEET,EAAMwnM,eACR1kO,SAAS2kO,WAAWC,wBAAwB5oM,EAASkB,EAAO,kBAGzDl9B,SAASwkO,aAAa7mM,EAAQT,EAAO9kB,IAG9CpY,SAAS6kO,YAAc7kO,SAASq9B,KAChCr9B,SAAS8kO,SAAW,SAASnnM,EAAQT,EAAO9kB,GAa1C,MAZKA,KACHA,MAGGA,EAAQ8U,cACX9U,EAAQ8U,aAAc,GAGnB9U,EAAQuW,YACXvW,EAAQuW,WAAc6hE,iBAAiB,IAGlCxwF,SAAS6kO,YAAYlnM,EAAQT,EAAO9kB,IAU7CpY,SAAS2kO,WAAa,SAASjqN,EAAW2iB,GAExC,IAAK3iB,EACH,KAAM,IAAI9L,OAAM,2CAGlB,IAAIm2N,GAAerqN,EACfsqN,EAAUv2N,OAAOw2N,WAAax2N,OAAOw2N,UAAUx2M,QAInD,KAAIu2M,EAGF,MAAOhlO,UAASq9B,IAFhB3iB,IAAa,IAAMsqN,CAKrB,IAAIE,GAAe,aAAexqN,EAK9BwJ,GAGFihN,MAAO,WACL,MAAOt2N,MAAKC,MAAMs2N,aAAaC,QAAQH,IAAiB,OAI1Dj9N,IAAK,SAASqxB,GACZ,GAAIrG,GAAOvzB,KAAKylO,OAChBlyM,GAAKqG,IAAQ,GAAIvpB,MACjBq1N,aAAaE,QAAQJ,EAAcr2N,KAAK0rB,UAAUtH,KAIpDi7H,WAAY,WACV,GAAIj7H,GAAOvzB,KAAKylO,OAChBllO,GAAEkC,KAAK8wB,EAAM,SAAS1oB,EAAGxG,GACvBqhO,aAAaG,WAAWxhO,KAE1BqhO,aAAaG,WAAWL,KAMxBrvN,GAEFyvN,QAAS,SAAShsM,EAAK9xB,GAGrB,MAFA49N,cAAaE,QAAQhsM,EAAK9xB,GAC1B0c,EAAMjc,IAAIqxB,GACH55B,MAIT2lO,QAAS,SAAS/rM,EAAKkC,GACrB,GAAI3jB,GAAMutN,aAAaC,QAAQ/rM,EAC/Br5B,GAAEg2B,MAAM,WACNuF,EAAS3jB,MAIb0tN,WAAY,SAASjsM,GACnB8rM,aAAaG,WAAWjsM,GACxBpV,EAAMgqI,eAINs3E,EAAS,SAAS7nM,EAAQT,EAAO9kB,GACnC,GAAIkP,GAAMlP,EAAQkP,KAAO0U,EAASkB,EAAO,QAAUc,IAC/C1E,EAAM4rM,EAAe,IAAM59M,CAE/B,IAAe,SAAXqW,EAAmB,CACrB,GAAItS,GAAUjT,EAAQiT,QAClBo6M,EAAc,IAElBrtN,GAAQiT,QAAU,SAAS8R,EAAM1Q,EAAQ8B,GAElCk3M,GAAel3M,EAAItD,eAAiBw6M,IAGxC5vN,EAAMyvN,QAAQhsM,EAAK/K,EAAItD,cACvBI,EAAQ8R,EAAM1Q,EAAQ8B,KAGzB1Y,EAAMwvN,QAAQ/rM,EAAK,SAASzhB,GAC1B4tN,EAAc5tN,EACVA,GACFwT,EAAQxc,KAAKC,MAAM+I,GAAM,iBAI7BhC,GAAM0vN,WAAWjsM,EAEnB,QAAQ+D,GAAQr9B,SAASq9B,MAAMM,EAAQT,EAAO9kB,GAehD,OAVAotN,GAAOt3E,WAAa,WAClBhqI,EAAMgqI,cAIRs3E,EAAO3vN,MAAQA,EAGf7V,SAAS2kO,WAAWD,cAAcK,GAAgBS,EAE3CA,GAGTxlO,SAAS2kO,WAAWD,iBAEpB1kO,SAAS2kO,WAAWC,wBAA0B,SAAS3xM,GACrDhzB,EAAEkC,KAAK8wB,EAAM,SAASlvB,GACpB,GAAIxE,GAAIS,SAAS2kO,WAAWD,cAAc3gO,EACtCxE,GACFA,EAAE2uJ,aAEFjN,IAAInqG,IAAIwuG,MAAM,4BAA8BvhJ,SAOpD/D,SAAS0lO,UAAY,WACnB,GAAIj9L,GAAOj7B,UAAU,EAMrB,OALIi7B,GAAKk9L,MACPl9L,EAAKk9L,KAAK14M,QAEZwb,EAAKk9L,KAAO3lO,SAASq9B,KAAK/6B,MAAM5C,KAAM8N,WACtCi7B,EAAKk9L,KAAK3zN,OAAO,WAAay2B,EAAKk9L,KAAO,OACnCl9L,EAAKk9L,MAGd3lO,SAAS4lO,gBAAkB,SAASvoM,EAAMtmB,GACxC,GAAI8uN,GAAQ5lO,EAAEk2B,SAASkH,EAAMtmB,EAC7B,OAAO,UAAS4mB,EAAQT,EAAO9kB,GAC7B,MAAe,WAAXulB,GAAkC,WAAXA,EAClBkoM,EAAMloM,EAAQT,EAAO9kB,GAErBilB,EAAKM,EAAQT,EAAO9kB,KAKjCpY,SAAS8lO,UAAY,WACnB,GAAIr9L,GAAO/oC,IACPA,MAAKqmO,SAAWrmO,KAAKimO,MACvBjmO,KAAKimO,KAAK14M,QAEZvtB,KAAKqmO,SAAU,CACf,IAAIx3M,GAAMvuB,SAAS+7B,MAAMhxB,UAAUuyB,KAAKh7B,MAAM5C,KAAM8N,UAGpD,OAFA9N,MAAKimO,KAAOp3M,EACZA,EAAIvc,OAAO,WAAay2B,EAAKs9L,SAAU,IAChCx3M,GI5OT0yH,IAAI+B,OAAOjrI,IAAI,aAAc,kBAC7Bq8E,QAAQt9C,IAAI","file":"cdb.js","sourcesContent":["//i18n\n//\nfunction _t(s) {\n  return s;\n}\n\nvar i18n = {\n  // format('hello, {0}', 'rambo') -> \"hello, rambo\"\n  format: function (str) {\n    for(var i = 1; i < arguments.length; ++i) {\n      var attrs = arguments[i];\n      for(var attr in attrs) {\n        str = str.replace(RegExp('\\\\{' + attr + '\\\\}', 'g'), attrs[attr]);\n      }\n    }\n    return str;\n  }\n};\n\n(function() {\n\n  // helper functions needed from backbone (they are not exported)\n  var getValue = function(object, prop, method) {\n    if (!(object && object[prop])) return null;\n    return _.isFunction(object[prop]) ? object[prop](method) : object[prop];\n  };\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n\n  // backbone.sync replacement to control url prefix\n  Backbone.originalSync = Backbone.sync;\n  Backbone.sync = function(method, model, options) {\n    var url = options.url || getValue(model, 'url', method) || urlError();\n    // prefix if http is not present\n    var absoluteUrl = url.indexOf('http') === 0 || url.indexOf(\"//\") === 0;\n    if (!absoluteUrl) {\n      options.url = cdb.config.prefixUrl() + url;\n    } else {\n      options.url = url;\n    }\n    if (method !== 'read') {\n      // remove everything related\n      if (model.surrogateKeys) {\n        Backbone.cachedSync.invalidateSurrogateKeys(getValue(model, 'surrogateKeys'));\n      }\n    }\n    return Backbone.originalSync(method, model, options);\n  };\n\n  Backbone.currentSync = Backbone.sync;\n  Backbone.withCORS = function(method, model, options) {\n    if (!options) {\n      options = {};\n    }\n\n    if (!options.crossDomain) {\n      options.crossDomain = true;\n    }\n\n    if (!options.xhrFields) {\n      options.xhrFields = { withCredentials: true };\n    }\n\n    return Backbone.currentSync(method, model, options);\n  };\n\n  // this method returns a cached version of backbone sync\n  // take a look at https://github.com/teambox/backbone.memoized_sync/blob/master/backbone.memoized_sync.js\n  // this is the same concept but implemented as a wrapper for ``Backbone.sync``\n  // usage:\n  // initialize: function() {\n  //    this.sync = Backbone.cachedSync(this.user_name);\n  // }\n  Backbone.cachedSync = function(namespace, sync) {\n\n    if (!namespace) {\n      throw new Error(\"cachedSync needs a namespace as argument\");\n    }\n\n    var surrogateKey = namespace;\n    var session = window.user_data && window.user_data.username;\n    // no user session, no cache\n    // there should be a session to have cache so we avoid\n    // cache collision for someone with more than one account\n    if (session) {\n      namespace += \"-\" + session;\n    } else {\n      return Backbone.sync;\n    }\n\n    var namespaceKey = \"cdb-cache/\" + namespace;\n\n    // saves all the localstore references to the namespace\n    // inside localstore. It allows to remove all the references\n    // at a time\n    var index = {\n\n      // return a list of references for the namespace\n      _keys: function() {\n        return JSON.parse(localStorage.getItem(namespaceKey) || '{}');\n      },\n\n      // add a new reference for the namespace\n      add: function(key) {\n        var keys = this._keys();\n        keys[key] = +new Date();\n        localStorage.setItem(namespaceKey, JSON.stringify(keys));\n      },\n\n      // remove all the references for the namespace\n      invalidate: function() {\n        var keys = this._keys();\n        _.each(keys, function(v, k) {\n          localStorage.removeItem(k);\n        });\n        localStorage.removeItem(namespaceKey);\n      }\n\n    }\n\n    // localstore-like cache wrapper\n    var cache = {\n\n      setItem: function(key, value) {\n        localStorage.setItem(key, value);\n        index.add(key);\n        return this;\n      },\n\n      // this is async in case the data needs to be compressed\n      getItem: function(key, callback) {\n        var val = localStorage.getItem(key);\n        _.defer(function() {\n          callback(val);\n        });\n      },\n\n      removeItem: function(key) {\n        localStorage.removeItem(key);\n        index.invalidate();\n      }\n    }\n\n    var cached = function(method, model, options) {\n      var url = options.url || getValue(model, 'url') || urlError();\n      var key = namespaceKey + \"/\" + url;\n\n      if (method === 'read') {\n        var success = options.success;\n        var cachedValue = null;\n\n        options.success = function(resp, status, xhr) {\n           // if cached value is ok\n           if (cachedValue && xhr.responseText === cachedValue) {\n             return;\n           }\n           cache.setItem(key, xhr.responseText);\n           success(resp, status, xhr);\n        }\n\n        cache.getItem(key, function(val) {\n          cachedValue = val;\n          if (val) {\n            success(JSON.parse(val), \"success\");\n          }\n        });\n      } else {\n        cache.removeItem(key);\n      }\n      return (sync || Backbone.sync)(method, model, options);\n    }\n\n    // create a public function to invalidate all the namespace\n    // items\n    cached.invalidate = function() {\n      index.invalidate();\n    }\n\n    // for testing and debugging porpuposes\n    cached.cache = cache;\n\n    // have a global namespace -> sync function in order to avoid invalidation\n    Backbone.cachedSync.surrogateKeys[surrogateKey] = cached;\n\n    return cached;\n  }\n\n  Backbone.cachedSync.surrogateKeys = {};\n\n  Backbone.cachedSync.invalidateSurrogateKeys = function(keys) {\n    _.each(keys, function(k) {\n      var s = Backbone.cachedSync.surrogateKeys[k];\n      if (s) {\n        s.invalidate();\n      } else {\n        cdb.log.debug(\"surrogate key not found: \" + k);\n      }\n    });\n  }\n\n})();\n\nBackbone.syncAbort = function() {\n  var self = arguments[1];\n  if (self._xhr) {\n    self._xhr.abort();\n  }\n  self._xhr = Backbone.sync.apply(this, arguments);\n  self._xhr.always(function() { self._xhr = null; });\n  return self._xhr;\n};\n\nBackbone.delayedSaveSync = function(sync, delay) {\n  var dsync = _.debounce(sync, delay);\n  return function(method, model, options) {\n    if (method === 'create' || method === 'update') {\n      return dsync(method, model, options);\n    } else {\n      return sync(method, model, options);\n    }\n  }\n}\n\nBackbone.saveAbort = function() {\n  var self = this;\n  if (this._saving && this._xhr) {\n    this._xhr.abort();\n  }\n  this._saving = true;\n  var xhr = Backbone.Model.prototype.save.apply(this, arguments);\n  this._xhr = xhr;\n  xhr.always(function() { self._saving = false; });\n  return xhr;\n};\n","// cartodb.js version: 3.15.10\n// uncompressed version: cartodb.uncompressed.js\n// sha: a316f4c786ae84597f7931cdaeea4540e914d7d4\n(function() {\n  var define;  // Undefine define (require.js), see https://github.com/CartoDB/cartodb.js/issues/543\n  var root = this;\n\n  if(!true) {\n    if(root.jQuery === undefined) {\n      throw \"jQuery should be loaded before include cartodb.js\";\n    }\n  }\n\n  // save current libraries\n  var __prev = {\n    jQuery: root.jQuery,\n    $: root.$,\n    L: root.L,\n    Mustache: root.Mustache,\n    Backbone: root.Backbone,\n    _: root._\n  };\n\n\n  /*! jQuery v1.7.2 jquery.com | jquery.org/license */\n(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f(\"<\"+a+\">\").appendTo(b),e=d.css(\"display\");d.remove();if(e===\"none\"||e===\"\"){ck||(ck=c.createElement(\"iframe\"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement)cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?\"<!doctype html>\":\"\")+\"<html><body>\"),cl.close();d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,\"display\"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h==\"string\"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k===\"*\")k=l;else if(l!==\"*\"&&l!==k){m=l+\" \"+k,n=e[m]||e[\"* \"+k];if(!n){p=b;for(o in e){j=o.split(\" \");if(j[0]===l||j[0]===\"*\"){p=e[j[1]+\" \"+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error(\"No conversion from \"+m.replace(\" \",\" to \")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]===\"*\")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader(\"content-type\"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+\" \"+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+\"[\"+(typeof e==\"object\"?b:\"\")+\"]\",e,c,d)});else if(!c&&f.type(b)===\"object\")for(var e in b)b_(a+\"[\"+e+\"]\",b[e],c,d);else d(a,b)}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l==\"string\"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)));(k||!l)&&!g[\"*\"]&&(l=bZ(a,c,d,e,\"*\",g));return l}function bY(a){return function(b,c){typeof b!=\"string\"&&(c=b,b=\"*\");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\\+/.test(h),j&&(h=h.substr(1)||\"*\"),i=a[h]=a[h]||[],i[j?\"unshift\":\"push\"](c)}}}function bB(a,b,c){var d=b===\"width\"?a.offsetWidth:a.offsetHeight,e=b===\"width\"?1:0,g=4;if(d>0){if(c!==\"border\")for(;e<g;e+=2)c||(d-=parseFloat(f.css(a,\"padding\"+bx[e]))||0),c===\"margin\"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,\"border\"+bx[e]+\"Width\"))||0;return d+\"px\"}d=by(a,b);if(d<0||d==null)d=a.style[b];if(bt.test(d))return d;d=parseFloat(d)||0;if(c)for(;e<g;e+=2)d+=parseFloat(f.css(a,\"padding\"+bx[e]))||0,c!==\"padding\"&&(d+=parseFloat(f.css(a,\"border\"+bx[e]+\"Width\"))||0),c===\"margin\"&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+\"px\"}function bo(a){var b=c.createElement(\"div\");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||\"\").toLowerCase();b===\"input\"?bm(a):b!==\"script\"&&typeof a.getElementsByTagName!=\"undefined\"&&f.grep(a.getElementsByTagName(\"input\"),bm)}function bm(a){if(a.type===\"checkbox\"||a.type===\"radio\")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!=\"undefined\"?a.getElementsByTagName(\"*\"):typeof a.querySelectorAll!=\"undefined\"?a.querySelectorAll(\"*\"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c===\"object\"?b.outerHTML=a.outerHTML:c!==\"input\"||a.type!==\"checkbox\"&&a.type!==\"radio\"?c===\"option\"?b.selected=a.defaultSelected:c===\"input\"||c===\"textarea\"?b.defaultValue=a.defaultValue:c===\"script\"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute(\"_submit_attached\"),b.removeAttribute(\"_change_attached\"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c,i[c][d])}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,\"table\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function U(a){var b=V.split(\"|\"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b==\"string\"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+\"defer\",e=b+\"queue\",g=b+\"mark\",h=f._data(a,d);h&&(c===\"queue\"||!f._data(a,e))&&(c===\"mark\"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b===\"data\"&&f.isEmptyObject(a[b]))continue;if(b!==\"toJSON\")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e=\"data-\"+c.replace(k,\"-$1\").toLowerCase();d=a.getAttribute(e);if(typeof d==\"string\"){try{d=d===\"true\"?!0:d===\"false\"?!1:d===\"null\"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll(\"left\")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,j=/\\S/,k=/^\\s+/,l=/\\s+$/,m=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,n=/^[\\],:{}\\s]*$/,o=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,q=/(?:^|:|,)(?:\\s*\\[)+/g,r=/(webkit)[ \\/]([\\w.]+)/,s=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,t=/(msie) ([\\w.]+)/,u=/(mozilla)(?:.*? rv:([\\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+\"\").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a===\"body\"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a==\"string\"){a.charAt(0)!==\"<\"||a.charAt(a.length-1)!==\">\"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:\"\",jquery:\"1.7.2\",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b===\"find\"?d.selector=this.selector+(this.selector?\" \":\"\")+c:b&&(d.selector=this.selector+\".\"+b+\"(\"+c+\")\");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),\"slice\",F.call(arguments).join(\",\"))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i==\"boolean\"&&(l=i,i=arguments[1]||{},j=2),typeof i!=\"object\"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger(\"ready\").off(\"ready\")}},bindReady:function(){if(!A){A=e.Callbacks(\"once memory\");if(c.readyState===\"complete\")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener(\"DOMContentLoaded\",B,!1),a.addEventListener(\"load\",e.ready,!1);else if(c.attachEvent){c.attachEvent(\"onreadystatechange\",B),a.attachEvent(\"onload\",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)===\"function\"},isArray:Array.isArray||function(a){return e.type(a)===\"array\"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||\"object\"},isPlainObject:function(a){if(!a||e.type(a)!==\"object\"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,\"constructor\")&&!D.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!=\"string\"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,\"@\").replace(p,\"]\").replace(q,\"\")))return(new Function(\"return \"+b))();e.error(\"Invalid JSON: \"+b)},parseXML:function(c){if(typeof c!=\"string\"||!c)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,\"text/xml\")):(d=new ActiveXObject(\"Microsoft.XMLDOM\"),d.async=\"false\",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName(\"parsererror\").length)&&e.error(\"Invalid XML: \"+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,\"ms-\").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?\"\":G.call(a)}:function(a){return a==null?\"\":(a+\"\").replace(k,\"\").replace(l,\"\")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d===\"string\"||d===\"function\"||d===\"regexp\"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length==\"number\")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j==\"number\"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c==\"string\"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d==\"object\"){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c)for(;l<m;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf(\"compatible\")<0&&u.exec(a)||[];return{browser:b[1]||\"\",version:b[2]||\"0\"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"),function(a,b){I[\"[object \"+b+\"]\"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(\" \")&&(k=/^[\\s\\xA0]+/,l=/[\\s\\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener(\"DOMContentLoaded\",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState===\"complete\"&&(c.detachEvent(\"onreadystatechange\",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h===\"array\"?n(g):h===\"function\"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks(\"once memory\"),c=f.Callbacks(\"once memory\"),d=f.Callbacks(\"memory\"),e=\"pending\",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,\"resolve\"],fail:[b,\"reject\"],progress:[c,\"notify\"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+\"With\"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+\"With\"]=g[j].fireWith;i.done(function(){e=\"resolved\"},c.disable,d.lock).fail(function(){e=\"rejected\"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement(\"div\"),q=c.documentElement;p.setAttribute(\"className\",\"t\"),p.innerHTML=\"   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>\",d=p.getElementsByTagName(\"*\"),e=p.getElementsByTagName(\"a\")[0];if(!d||!d.length||!e)return{};g=c.createElement(\"select\"),h=g.appendChild(c.createElement(\"option\")),i=p.getElementsByTagName(\"input\")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName(\"tbody\").length,htmlSerialize:!!p.getElementsByTagName(\"link\").length,style:/top/.test(e.getAttribute(\"style\")),hrefNormalized:e.getAttribute(\"href\")===\"/a\",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value===\"on\",optSelected:h.selected,getSetAttribute:p.className!==\"t\",enctype:!!c.createElement(\"form\").enctype,html5Clone:c.createElement(\"nav\").cloneNode(!0).outerHTML!==\"<:nav></:nav>\",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode===\"CSS1Compat\",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent(\"onclick\",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent(\"onclick\")),i=c.createElement(\"input\"),i.value=\"t\",i.setAttribute(\"type\",\"radio\"),b.radioValue=i.value===\"t\",i.setAttribute(\"checked\",\"checked\"),i.setAttribute(\"name\",\"t\"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent)for(n in{submit:1,change:1,focusin:1})m=\"on\"+n,o=m in p,o||(p.setAttribute(m,\"return;\"),o=typeof p[m]==\"function\"),b[n+\"Bubbles\"]=o;j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName(\"body\")[0];!u||(m=1,t=\"padding:0;margin:0;border:\",r=\"position:absolute;top:0;left:0;width:1px;height:1px;\",s=t+\"0;visibility:hidden;\",n=\"style='\"+r+t+\"5px solid #000;\",q=\"<div \"+n+\"display:block;'><div style='\"+t+\"0;display:block;overflow:hidden;'></div></div>\"+\"<table \"+n+\"' cellpadding='0' cellspacing='0'>\"+\"<tr><td></td></tr></table>\",d=c.createElement(\"div\"),d.style.cssText=s+\"width:0;height:0;position:static;top:0;margin-top:\"+m+\"px\",u.insertBefore(d,u.firstChild),p=c.createElement(\"div\"),d.appendChild(p),p.innerHTML=\"<table><tr><td style='\"+t+\"0;display:none'></td><td>t</td></tr></table>\",k=p.getElementsByTagName(\"td\"),o=k[0].offsetHeight===0,k[0].style.display=\"\",k[1].style.display=\"none\",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML=\"\",l=c.createElement(\"div\"),l.style.width=\"0\",l.style.marginRight=\"0\",p.style.width=\"2px\",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!=\"undefined\"&&(p.innerHTML=\"\",p.style.width=p.style.padding=\"1px\",p.style.border=0,p.style.overflow=\"hidden\",p.style.display=\"inline\",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display=\"block\",p.style.overflow=\"visible\",p.innerHTML=\"<div style='width:5px;'></div>\",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position=\"fixed\",g.style.top=\"20px\",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top=\"\",e.style.overflow=\"hidden\",e.style.position=\"relative\",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop=\"1%\",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!==\"1%\"),typeof d.style.zoom!=\"undefined\"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\\{.*\\}|\\[.*\\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:\"jQuery\"+(f.fn.jquery+Math.random()).replace(/\\D/g,\"\"),noData:{embed:!0,object:\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c==\"string\",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c===\"events\";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c==\"object\"||typeof c==\"function\")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(\" \")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute(\"classid\")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,\"parsedAttrs\")){g=j.attributes;for(i=g.length;k<i;k++)h=g[k].name,h.indexOf(\"data-\")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,\"parsedAttrs\",!0)}}return m}if(typeof a==\"object\")return this.each(function(){f.data(this,a)});d=a.split(\".\",2),d[1]=d[1]?\".\"+d[1]:\"\",e=d[1]+\"!\";return f.access(this,function(c){if(c===b){m=this.triggerHandler(\"getData\"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler(\"setData\"+e,d),f.data(this,a,c),b.triggerHandler(\"changeData\"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||\"fx\")+\"mark\",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||\"fx\";var d=c+\"mark\",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,\"mark\"))}},queue:function(a,b,c){var d;if(a){b=(b||\"fx\")+\"queue\",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||\"fx\";var c=f.queue(a,b),d=c.shift(),e={};d===\"inprogress\"&&(d=c.shift()),d&&(b===\"fx\"&&c.unshift(\"inprogress\"),f._data(a,b+\".run\",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+\"queue \"+b+\".run\",!0),n(a,b,\"queue\"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!=\"string\"&&(c=a,a=\"fx\",d--);if(arguments.length<d)return f.queue(this[0],a);return c===b?this:this.each(function(){var b=f.queue(this,a,c);a===\"fx\"&&b[0]!==\"inprogress\"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||\"fx\";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!=\"string\"&&(c=a,a=b),a=a||\"fx\";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+\"defer\",j=a+\"queue\",k=a+\"mark\",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks(\"once memory\"),!0))h++,l.add(m);m();return d.promise(c)}});var o=/[\\n\\t\\r]/g,p=/\\s+/,q=/\\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a==\"string\"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=\" \"+e.className+\" \";for(h=0,i=b.length;h<i;h++)~g.indexOf(\" \"+b[h]+\" \")||(g+=b[h]+\" \");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a==\"string\"||a===b){c=(a||\"\").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(\" \"+g.className+\" \").replace(o,\" \");for(i=0,j=c.length;i<j;i++)h=h.replace(\" \"+c[i]+\" \",\" \");g.className=f.trim(h)}else g.className=\"\"}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b==\"boolean\";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c===\"string\"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?\"addClass\":\"removeClass\"](e)}else if(c===\"undefined\"||c===\"boolean\")this.className&&f._data(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":f._data(this,\"__className__\")||\"\"})},hasClass:function(a){var b=\" \"+a+\" \",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(\" \"+this[c].className+\" \").replace(o,\" \").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h=\"\":typeof h==\"number\"?h+=\"\":f.isArray(h)&&(h=f.map(h,function(a){return a==null?\"\":a+\"\"})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!(\"set\"in c)||c.set(this,h,\"value\")===b)this.value=h}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&\"get\"in c&&(d=c.get(g,\"value\"))!==b)return d;d=g.value;return typeof d==\"string\"?d.replace(q,\"\"):d==null?\"\":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type===\"select-one\";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute(\"disabled\")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,\"optgroup\"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find(\"option\").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute==\"undefined\")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&\"set\"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,\"\"+d);return d}if(h&&\"get\"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,\"\"),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error(\"type property can't be changed\");else if(!f.support.radioValue&&b===\"radio\"&&f.nodeName(a,\"input\")){var c=a.value;a.setAttribute(\"type\",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,\"button\"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,\"button\"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:\"tabIndex\",readonly:\"readOnly\",\"for\":\"htmlFor\",\"class\":\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&\"set\"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&\"get\"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode(\"tabindex\");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!=\"boolean\"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!==\"\":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+\"\"}},f.attrHooks.tabindex.set=w.set,f.each([\"width\",\"height\"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===\"\"){a.setAttribute(b,\"auto\");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===\"\"&&(b=\"false\"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each([\"href\",\"src\",\"width\",\"height\"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=\"\"+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype=\"encoding\"),f.support.checkOn||f.each([\"radio\",\"checkbox\"],function(){f.valHooks[this]={get:function(a){return a.getAttribute(\"value\")===null?\"on\":a.value}}}),f.each([\"radio\",\"checkbox\"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\\.]*)?(?:\\.(.+))?$/,B=/(?:^|\\s)hover(\\.\\S+)?\\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\\w*)(?:#([\\w\\-]+))?(?:\\.([\\w\\-]+))?$/,G=function(\na){var b=F.exec(a);b&&(b[1]=(b[1]||\"\").toLowerCase(),b[3]=b[3]&&new RegExp(\"(?:^|\\\\s)\"+b[3]+\"(?:\\\\s|$)\"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c[\"class\"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,\"mouseenter$1 mouseleave$1\")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!=\"undefined\"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(\" \");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||\"\").split(\".\").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(\".\")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent(\"on\"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||\"\")).split(\" \");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp(\"(^|\\\\.)\"+l.split(\".\").sort().join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d===\"**\"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,[\"events\",\"handle\"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf(\"!\")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(\".\")>=0&&(i=h.split(\".\"),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c==\"object\"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join(\".\"),c.namespace_re=c.namespace?new RegExp(\"(^|\\\\.)\"+i.join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\"):null,o=h.indexOf(\":\")<0?\"on\"+h:\"\";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,\"events\")||{})[c.type]&&f._data(m,\"handle\"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!==\"click\"||!f.nodeName(e,\"a\"))&&f.acceptData(e)&&o&&e[h]&&(h!==\"focus\"&&h!==\"blur\"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,\"events\")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!==\"click\")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this)if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:\"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:\"focusin\"},blur:{delegateType:\"focusout\"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent(\"on\"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,\"form\"))return!1;f.event.add(this,\"click._submit keypress._submit\",function(a){var c=a.target,d=f.nodeName(c,\"input\")||f.nodeName(c,\"button\")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,\"submit._submit\",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate(\"submit\",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,\"form\"))return!1;f.event.remove(this,\"._submit\")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type===\"checkbox\"||this.type===\"radio\")f.event.add(this,\"propertychange._change\",function(a){a.originalEvent.propertyName===\"checked\"&&(this._just_changed=!0)}),f.event.add(this,\"click._change\",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate(\"change\",this,a,!0))});return!1}f.event.add(this,\"beforeactivate._change\",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,\"change._change\",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate(\"change\",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!==\"radio\"&&b.type!==\"checkbox\")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,\"._change\");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a==\"object\"){typeof c!=\"string\"&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c==\"string\"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+\".\"+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a==\"object\"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c==\"function\")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||\"**\",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,\"**\"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,\"lastToggle\"+a.guid)||0)%d;f._data(this,\"lastToggle\"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!=\"string\"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,d=\"sizcache\"+(Math.random()+\"\").replace(\".\",\"\"),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\\\/g,k=/\\r\\n/g,l=/\\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!=\"string\")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(\"\"),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]===\"~\"||w[0]===\"+\")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q=\"\",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)===\"[object Array]\")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!==\"\\\\\"){g[1]=(g[1]||\"\").replace(j,\"\"),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],\"\");break}}}}d||(d=typeof b.getElementsByTagName!=\"undefined\"?b.getElementsByTagName(\"*\"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)===\"\\\\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],\"\");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e=\"\";if(d){if(d===1||d===9||d===11){if(typeof a.textContent==\"string\")return a.textContent;if(typeof a.innerText==\"string\")return a.innerText.replace(k,\"\");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?(?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)*)|)|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\(\\s*(even|odd|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n\\s*(?:[+\\-]\\s*\\d+)?))\\s*\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(a){return a.getAttribute(\"href\")},type:function(a){return a.getAttribute(\"type\")}},relative:{\"+\":function(a,b){var c=typeof b==\"string\",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},\">\":function(a,b){var c,d=typeof b==\"string\",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},\"\":function(a,b,c){var d,f=e++,g=x;typeof b==\"string\"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g(\"parentNode\",b,f,a,d,c)},\"~\":function(a,b,c){var d,f=e++,g=x;typeof b==\"string\"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g(\"previousSibling\",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=\"undefined\"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!=\"undefined\"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute(\"name\")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!=\"undefined\")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=\" \"+a[1].replace(j,\"\")+\" \";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(\" \"+h.className+\" \").replace(/[\\t\\n\\r]/g,\" \").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,\"\")},TAG:function(a,b){return a[1].replace(j,\"\").toLowerCase()},CHILD:function(a){if(a[1]===\"nth\"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\\+|\\s*/g,\"\");var b=/(-?)(\\d*)(?:n([+\\-]?\\d*))?/.exec(a[2]===\"even\"&&\"2n\"||a[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(a[2])&&\"0n+\"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,\"\");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||\"\").replace(j,\"\"),a[2]===\"~=\"&&(a[4]=\" \"+a[4]+\" \");return a},PSEUDO:function(b,c,d,e,f){if(b[1]===\"not\")if((a.exec(b[3])||\"\").length>1||/^\\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!==\"hidden\"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute(\"type\"),c=a.type;return a.nodeName.toLowerCase()===\"input\"&&\"text\"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"radio\"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"checkbox\"===a.type},file:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"file\"===a.type},password:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"password\"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b===\"input\"||b===\"button\")&&\"submit\"===a.type},image:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"image\"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b===\"input\"||b===\"button\")&&\"reset\"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b===\"input\"&&\"button\"===a.type||b===\"button\"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e===\"contains\")return(a.textContent||a.innerText||n([a])||\"\").indexOf(b[3])>=0;if(e===\"not\"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case\"only\":case\"first\":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k===\"first\")return!0;l=a;case\"last\":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case\"nth\":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute(\"id\")===b},TAG:function(a,b){return b===\"*\"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(\" \"+(a.className||a.getAttribute(\"class\"))+\" \").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+\"\",f=b[2],g=b[4];return d==null?f===\"!=\":!f&&m.attr?d!=null:f===\"=\"?e===g:f===\"*=\"?e.indexOf(g)>=0:f===\"~=\"?(\" \"+e+\" \").indexOf(g)>=0:g?f===\"!=\"?e!==g:f===\"^=\"?e.indexOf(g)===0:f===\"$=\"?e.substr(e.length-g.length)===g:f===\"|=\"?e===g||e.substr(0,g.length+1)===g+\"-\":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return\"\\\\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+o.match[r].source.replace(/\\\\(\\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)===\"[object Array]\")Array.prototype.push.apply(d,a);else if(typeof a.length==\"number\")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement(\"div\"),d=\"script\"+(new Date).getTime(),e=c.documentElement;a.innerHTML=\"<a name='\"+d+\"'/>\",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!=\"undefined\"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!=\"undefined\"&&e.getAttributeNode(\"id\").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=\"undefined\"&&a.getAttributeNode(\"id\");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement(\"div\");a.appendChild(c.createComment(\"\")),a.getElementsByTagName(\"*\").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]===\"*\"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML=\"<a href='#'></a>\",a.firstChild&&typeof a.firstChild.getAttribute!=\"undefined\"&&a.firstChild.getAttribute(\"href\")!==\"#\"&&(o.attrHandle.href=function(a){return a.getAttribute(\"href\",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement(\"div\"),d=\"__sizzle__\";b.innerHTML=\"<p class='TEST'></p>\";if(!b.querySelectorAll||b.querySelectorAll(\".TEST\").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b===\"body\"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!==\"object\"){var k=e,l=e.getAttribute(\"id\"),n=l||d,p=e.parentNode,q=/^\\s*[+~]/.test(b);l?n=n.replace(/'/g,\"\\\\$&\"):e.setAttribute(\"id\",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll(\"[id='\"+n+\"'] \"+b),f)}catch(r){}finally{l||k.removeAttribute(\"id\")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement(\"div\"),\"div\"),e=!1;try{b.call(c.documentElement,\"[test!='']:sizzle\")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\\=\\s*([^'\"\\]]*)\\s*\\]/g,\"='$1']\");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement(\"div\");a.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(!!a.getElementsByClassName&&a.getElementsByClassName(\"e\").length!==0){a.lastChild.className=\"e\";if(a.getElementsByClassName(\"e\").length===1)return;o.order.splice(1,0,\"CLASS\"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=\"undefined\"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!==\"HTML\":!1};var y=function(a,b,c){var d,e=[],f=\"\",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,\"\");a=o.relative[a]?a+\"*\":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[\":\"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\\[\\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!=\"string\")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack(\"\",\"find\",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),\"not\",a)},filter:function(a){return this.pushStack(T(this,a,!0),\"filter\",a)},is:function(a){return!!a&&(typeof a==\"string\"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!=\"string\"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,\"closest\",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a==\"string\")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==\"string\"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return f.dir(a,\"parentNode\",c)},next:function(a){return f.nth(a,2,\"nextSibling\")},prev:function(a){return f.nth(a,2,\"previousSibling\")},nextAll:function(a){return f.dir(a,\"nextSibling\")},prevAll:function(a){return f.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return f.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return f.dir(a,\"previousSibling\",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,\"iframe\")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d==\"string\"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(\",\"))}}),f.extend({filter:function(a,b,c){c&&(a=\":not(\"+a+\")\");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V=\"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",W=/ jQuery\\d+=\"(?:\\d+|null)\"/g,X=/^\\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,Z=/<([\\w:]+)/,$=/<tbody/i,_=/<|&#?\\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp(\"<(?:\"+V+\")[\\\\s/>]\",\"i\"),bd=/checked\\s*(?:[^=]|=\\s*.checked.)/i,be=/\\/(java|ecma)script/i,bf=/^\\s*<!(?:\\[CDATA\\[|\\-\\-)/,bg={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],area:[1,\"<map>\",\"</map>\"],_default:[0,\"\",\"\"]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,\"div<div>\",\"</div>\"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,\"body\")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f\n.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,\"before\",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,\"after\",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName(\"*\")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName(\"*\"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(W,\"\"):null;if(typeof a==\"string\"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=a.replace(Y,\"<$1></$2>\");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName(\"*\")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!=\"string\"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),\"replaceWith\",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j==\"string\"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,\"tr\");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:\"GET\",global:!1,url:b.src,async:!1,dataType:\"script\"}):f.globalEval((b.text||b.textContent||b.innerHTML||\"\").replace(bf,\"/*$0*/\")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j==\"string\"&&j.length<512&&i===c&&j.charAt(0)===\"<\"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test(\"<\"+a.nodeName+\">\")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement==\"undefined\"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l==\"number\"&&(l+=\"\");if(!l)continue;if(typeof l==\"string\")if(!_.test(l))l=b.createTextNode(l);else{l=l.replace(Y,\"<$1></$2>\");var m=(Z.exec(l)||[\"\",\"\"])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement(\"div\"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var s=$.test(l),t=m===\"table\"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]===\"<table>\"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i)f.nodeName(t[i],\"tbody\")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}var u;if(!f.support.appendChecked)if(l[0]&&typeof (u=l.length)==\"number\")for(i=0;i<u;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return!a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,\"script\")&&(!h.type||be.test(h.type)))e.push(h.parentNode?h.parentNode.removeChild(h):h);else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName(\"script\"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\\([^)]*\\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\\-+]?(?:\\d*\\.)?\\d+$/i,bt=/^-?(?:\\d*\\.)?\\d+(?!px)[^\\d\\s]+$/i,bu=/^([\\-+])=([\\-+.\\de]+)/,bv=/^margin/,bw={position:\"absolute\",visibility:\"hidden\",display:\"block\"},bx=[\"Top\",\"Right\",\"Bottom\",\"Left\"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,\"opacity\");return c===\"\"?\"1\":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":f.support.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&\"get\"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h===\"string\"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h=\"number\");if(d==null||h===\"number\"&&isNaN(d))return;h===\"number\"&&!f.cssNumber[i]&&(d+=\"px\");if(!k||!(\"set\"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c===\"cssFloat\"&&(c=\"float\");if(g&&\"get\"in g&&(e=g.get(a,!0,d))!==b)return e;if(by)return by(a,c)},swap:function(a,b,c){var d={},e,f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,\"-$1\").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===\"\"&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b===\"fontSize\"?\"1em\":f,f=g.pixelLeft+\"px\",g.left=c,d&&(a.runtimeStyle.left=d));return f===\"\"?\"auto\":f}),by=bz||bA,f.each([\"height\",\"width\"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})},set:function(a,b){return bs.test(b)?b+\"px\":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\"\")?parseFloat(RegExp.$1)/100+\"\":b?\"1\":\"\"},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?\"alpha(opacity=\"+b*100+\")\":\"\",g=d&&d.filter||c.filter||\"\";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,\"\"))===\"\"){c.removeAttribute(\"filter\");if(d&&!d.filter)return}c.filter=bp.test(g)?g.replace(bp,e):g+\" \"+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:\"inline-block\"},function(){return b?by(a,\"margin-right\"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,\"display\"))===\"none\"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:\"\",padding:\"\",border:\"Width\"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c==\"string\"?c.split(\" \"):[c],f={};for(d=0;d<4;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bC=/%20/g,bD=/\\[\\]$/,bE=/\\r?\\n/g,bF=/#.*$/,bG=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\\/\\//,bL=/\\?/,bM=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=[\"*/\"]+[\"*\"];try{bU=e.href}catch(bX){bU=c.createElement(\"a\"),bU.href=\"\",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!=\"string\"&&bR)return bR.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(\" \");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h=\"GET\";c&&(f.isFunction(c)?(d=c,c=b):typeof c==\"object\"&&(c=f.param(c,f.ajaxSettings.traditional),h=\"POST\"));var i=this;f.ajax({url:a,type:h,dataType:\"html\",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f(\"<div>\").append(c.replace(bM,\"\")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,\"\\r\\n\")}}):{name:b.name,value:c.replace(bE,\"\\r\\n\")}}).get()}}),f.each(\"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split(\" \"),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each([\"get\",\"post\"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,\"script\")},getJSON:function(a,b,c){return f.get(a,b,c,\"json\")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:\"GET\",contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",processData:!0,async:!0,accepts:{xml:\"application/xml, text/xml\",html:\"text/html\",text:\"text/plain\",json:\"application/json, text/javascript\",\"*\":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\"},converters:{\"* text\":a.String,\"text html\":!0,\"text json\":f.parseJSON,\"text xml\":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||\"\",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader(\"Last-Modified\"))f.lastModified[k]=y;if(z=v.getResponseHeader(\"Etag\"))f.etag[k]=z}if(a===304)w=\"notmodified\",o=!0;else try{r=cb(d,x),w=\"success\",o=!0}catch(A){w=\"parsererror\",u=A}}else{u=w;if(!w||a)w=\"error\",a<0&&(a=0)}v.status=a,v.statusText=\"\"+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger(\"ajax\"+(o?\"Success\":\"Error\"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger(\"ajaxComplete\",[v,d]),--f.active||f.event.trigger(\"ajaxStop\"))}}typeof a==\"object\"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks(\"once memory\"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||\"abort\",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+\"\").replace(bF,\"\").replace(bK,bV[1]+\"//\"),d.dataTypes=f.trim(d.dataType||\"*\").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]===\"http:\"?80:443))==(bV[3]||(bV[1]===\"http:\"?80:443)))),d.data&&d.processData&&typeof d.data!=\"string\"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger(\"ajaxStart\");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?\"&\":\"?\")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,\"$1_=\"+x);d.url=y+(y===d.url?(bL.test(d.url)?\"&\":\"?\")+\"_=\"+x:\"\")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader(\"Content-Type\",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader(\"If-Modified-Since\",f.lastModified[k]),f.etag[k]&&v.setRequestHeader(\"If-None-Match\",f.etag[k])),v.setRequestHeader(\"Accept\",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!==\"*\"?\", \"+bW+\"; q=0.01\":\"\"):d.accepts[\"*\"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=bZ(bT,d,c,v);if(!p)w(-1,\"No Transport\");else{v.readyState=1,t&&g.trigger(\"ajaxSend\",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort(\"timeout\")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join(\"&\").replace(bC,\"+\")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\\=)\\?(&|$)|\\?\\?/i;f.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){return f.expando+\"_\"+cc++}}),f.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e=typeof b.data==\"string\"&&/^application\\/x\\-www\\-form\\-urlencoded/.test(b.contentType);if(b.dataTypes[0]===\"jsonp\"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l=\"$1\"+h+\"$2\";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\\?/.test(j)?\"&\":\"?\")+b.jsonp+\"=\"+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters[\"script json\"]=function(){g||f.error(h+\" was not called\");return g[0]},b.dataTypes[0]=\"json\";return\"script\"}}),f.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/javascript|ecmascript/},converters:{\"text script\":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter(\"script\",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\",a.global=!1)}),f.ajaxTransport(\"script\",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName(\"head\")[0]||c.documentElement;return{send:function(f,g){d=c.createElement(\"script\"),d.async=\"async\",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,\"success\")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&\"withCredentials\"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e[\"X-Requested-With\"]&&(e[\"X-Requested-With\"]=\"XMLHttpRequest\");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=\"\"}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\\-]=)?([\\d+.\\-]+)([a-z%]*)$/i,co,cp=[[\"height\",\"marginTop\",\"marginBottom\",\"paddingTop\",\"paddingBottom\"],[\"width\",\"marginLeft\",\"marginRight\",\"paddingLeft\",\"paddingRight\"],[\"opacity\"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(ct(\"show\",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,\"olddisplay\")&&e===\"none\"&&(e=d.style.display=\"\"),(e===\"\"&&f.css(d,\"display\")===\"none\"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,\"olddisplay\",cu(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===\"\"||e===\"none\")d.style.display=f._data(d,\"olddisplay\")||\"\"}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(ct(\"hide\",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,\"display\"),e!==\"none\"&&!f._data(d,\"olddisplay\")&&f._data(d,\"olddisplay\",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display=\"none\");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a==\"boolean\";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(\":hidden\");f(this)[b?\"show\":\"hide\"]()}):this.animate(ct(\"toggle\",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(\":hidden\").css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(\":hidden\"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&\"expand\"in k){l=k.expand(a[g]),delete a[g];for(i in l)i in a||(a[i]=l[i])}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||\"swing\";if(h===\"hide\"&&d||h===\"show\"&&!d)return b.complete.call(this);c&&(g===\"height\"||g===\"width\")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,\"display\")===\"inline\"&&f.css(this,\"float\")===\"none\"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)===\"inline\"?this.style.display=\"inline-block\":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow=\"hidden\");for(i in a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,\"toggle\"+i)||(h===\"toggle\"?d?\"show\":\"hide\":0),q?(f._data(this,\"toggle\"+i,q===\"show\"?\"hide\":\"show\"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?\"\":\"px\"),p!==\"px\"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]===\"-=\"?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,\"\"));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!=\"string\"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||\"fx\",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(\".run\")===b.length-4&&h(this,g,b);else g[b=a+\".run\"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct(\"show\",1),slideUp:ct(\"hide\",1),slideToggle:ct(\"toggle\",1),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a==\"object\"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration==\"number\"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue=\"fx\";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b===\"auto\"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?\"\":\"px\"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,\"fxshow\"+e.prop)===b&&(e.options.hide?f._data(e.elem,\"fxshow\"+e.prop,e.start):e.options.show&&f._data(e.elem,\"fxshow\"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,\"fxshow\"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop===\"width\"||this.prop===\"height\"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,\"fxshow\"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each([\"\",\"X\",\"Y\"],function(a,b){h.style[\"overflow\"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,\"fxshow\"+b,!0),f.removeData(h,\"toggle\"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,\"opacity\",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf(\"margin\")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;\"getBoundingClientRect\"in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position===\"fixed\")break;d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!==\"visible\"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position===\"relative\"||j.position===\"static\")k+=h.offsetTop,l+=h.offsetLeft;f.support.fixedPosition&&j.position===\"fixed\"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;if(!d)return null;if(c===d.body)return f.offset.bodyOffset(c);return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,\"marginTop\"))||0,c+=parseFloat(f.css(a,\"marginLeft\"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,\"position\");d===\"static\"&&(a.style.position=\"relative\");var e=f(a),g=e.offset(),h=f.css(a,\"top\"),i=f.css(a,\"left\"),j=(d===\"absolute\"||d===\"fixed\")&&f.inArray(\"auto\",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),\"using\"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,\"marginTop\"))||0,c.left-=parseFloat(f.css(a,\"marginLeft\"))||0,d.top+=parseFloat(f.css(b[0],\"borderTopWidth\"))||0,d.left+=parseFloat(f.css(b[0],\"borderLeftWidth\"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,\"position\")===\"static\")a=a.offsetParent;return a})}}),f.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b)return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e];h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:\"height\",Width:\"width\"},function(a,c){var d=\"client\"+a,e=\"scroll\"+a,g=\"offset\"+a;f.fn[\"inner\"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,\"padding\")):this[c]():null},f.fn[\"outer\"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?\"margin\":\"border\")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e])return i[d];return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define==\"function\"&&define.amd&&define.amd.jQuery&&define(\"jquery\",[],function(){return f})})(window);(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,d=e.filter,g=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,j=i.bind,w=function(n){return n instanceof w?n:this instanceof w?(this._wrapped=n,void 0):new w(n)};\"undefined\"!=typeof exports?(\"undefined\"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):n._=w,w.VERSION=\"1.4.4\";var A=w.each=w.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a in n)if(w.has(n,a)&&t.call(e,n[a],a,n)===r)return};w.map=w.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e[e.length]=t.call(r,n,u,i)}),e)};var O=\"Reduce of empty array with no initial value\";w.reduce=w.foldl=w.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=w.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},w.reduceRight=w.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=w.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=w.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},w.find=w.detect=function(n,t,r){var e;return E(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},w.filter=w.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&(e[e.length]=n)}),e)},w.reject=function(n,t,r){return w.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},w.every=w.all=function(n,t,e){t||(t=w.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var E=w.some=w.any=function(n,t,e){t||(t=w.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};w.contains=w.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:E(n,function(n){return n===t})},w.invoke=function(n,t){var r=o.call(arguments,2),e=w.isFunction(t);return w.map(n,function(n){return(e?t:n[t]).apply(n,r)})},w.pluck=function(n,t){return w.map(n,function(n){return n[t]})},w.where=function(n,t,r){return w.isEmpty(t)?r?null:[]:w[r?\"find\":\"filter\"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},w.findWhere=function(n,t){return w.where(n,t,!0)},w.max=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.max.apply(Math,n);if(!t&&w.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>=e.computed&&(e={value:n,computed:a})}),e.value},w.min=function(n,t,r){if(!t&&w.isArray(n)&&n[0]===+n[0]&&65535>n.length)return Math.min.apply(Math,n);if(!t&&w.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;e.computed>a&&(e={value:n,computed:a})}),e.value},w.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=w.random(r++),e[r-1]=e[t],e[t]=n}),e};var k=function(n){return w.isFunction(n)?n:function(t){return t[n]}};w.sortBy=function(n,t,r){var e=k(t);return w.pluck(w.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index<t.index?-1:1}),\"value\")};var F=function(n,t,r,e){var u={},i=k(t||w.identity);return A(n,function(t,a){var o=i.call(r,t,a,n);e(u,o,t)}),u};w.groupBy=function(n,t,r){return F(n,t,r,function(n,t,r){(w.has(n,t)?n[t]:n[t]=[]).push(r)})},w.countBy=function(n,t,r){return F(n,t,r,function(n,t){w.has(n,t)||(n[t]=0),n[t]++})},w.sortedIndex=function(n,t,r,e){r=null==r?w.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;u>r.call(e,n[o])?i=o+1:a=o}return i},w.toArray=function(n){return n?w.isArray(n)?o.call(n):n.length===+n.length?w.map(n,w.identity):w.values(n):[]},w.size=function(n){return null==n?0:n.length===+n.length?n.length:w.keys(n).length},w.first=w.head=w.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},w.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},w.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},w.rest=w.tail=w.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},w.compact=function(n){return w.filter(n,w.identity)};var R=function(n,t,r){return A(n,function(n){w.isArray(n)?t?a.apply(r,n):R(n,t,r):r.push(n)}),r};w.flatten=function(n,t){return R(n,t,[])},w.without=function(n){return w.difference(n,o.call(arguments,1))},w.uniq=w.unique=function(n,t,r,e){w.isFunction(t)&&(e=r,r=t,t=!1);var u=r?w.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:w.contains(a,r))||(a.push(r),i.push(n[e]))}),i},w.union=function(){return w.uniq(c.apply(e,arguments))},w.intersection=function(n){var t=o.call(arguments,1);return w.filter(w.uniq(n),function(n){return w.every(t,function(t){return w.indexOf(t,n)>=0})})},w.difference=function(n){var t=c.apply(e,o.call(arguments,1));return w.filter(n,function(n){return!w.contains(t,n)})},w.zip=function(){for(var n=o.call(arguments),t=w.max(w.pluck(n,\"length\")),r=Array(t),e=0;t>e;e++)r[e]=w.pluck(n,\"\"+e);return r},w.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},w.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if(\"number\"!=typeof r)return e=w.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},w.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},w.range=function(n,t,r){1>=arguments.length&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=Array(e);e>u;)i[u++]=n,n+=r;return i},w.bind=function(n,t){if(n.bind===j&&j)return j.apply(n,o.call(arguments,1));var r=o.call(arguments,2);return function(){return n.apply(t,r.concat(o.call(arguments)))}},w.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},w.bindAll=function(n){var t=o.call(arguments,1);return 0===t.length&&(t=w.functions(n)),A(t,function(t){n[t]=w.bind(n[t],n)}),n},w.memoize=function(n,t){var r={};return t||(t=w.identity),function(){var e=t.apply(this,arguments);return w.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},w.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},w.defer=function(n){return w.delay.apply(w,[n,1].concat(o.call(arguments,1)))},w.throttle=function(n,t){var r,e,u,i,a=0,o=function(){a=new Date,u=null,i=n.apply(r,e)};return function(){var c=new Date,l=t-(c-a);return r=this,e=arguments,0>=l?(clearTimeout(u),u=null,a=c,i=n.apply(r,e)):u||(u=setTimeout(o,l)),i}},w.debounce=function(n,t,r){var e,u;return function(){var i=this,a=arguments,o=function(){e=null,r||(u=n.apply(i,a))},c=r&&!e;return clearTimeout(e),e=setTimeout(o,t),c&&(u=n.apply(i,a)),u}},w.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},w.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},w.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},w.after=function(n,t){return 0>=n?t():function(){return 1>--n?t.apply(this,arguments):void 0}},w.keys=_||function(n){if(n!==Object(n))throw new TypeError(\"Invalid object\");var t=[];for(var r in n)w.has(n,r)&&(t[t.length]=r);return t},w.values=function(n){var t=[];for(var r in n)w.has(n,r)&&t.push(n[r]);return t},w.pairs=function(n){var t=[];for(var r in n)w.has(n,r)&&t.push([r,n[r]]);return t},w.invert=function(n){var t={};for(var r in n)w.has(n,r)&&(t[n[r]]=r);return t},w.functions=w.methods=function(n){var t=[];for(var r in n)w.isFunction(n[r])&&t.push(r);return t.sort()},w.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},w.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},w.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)w.contains(r,u)||(t[u]=n[u]);return t},w.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)null==n[r]&&(n[r]=t[r])}),n},w.clone=function(n){return w.isObject(n)?w.isArray(n)?n.slice():w.extend({},n):n},w.tap=function(n,t){return t(n),n};var I=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof w&&(n=n._wrapped),t instanceof w&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case\"[object String]\":return n==t+\"\";case\"[object Number]\":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case\"[object Date]\":case\"[object Boolean]\":return+n==+t;case\"[object RegExp]\":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if(\"object\"!=typeof n||\"object\"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;r.push(n),e.push(t);var a=0,o=!0;if(\"[object Array]\"==u){if(a=n.length,o=a==t.length)for(;a--&&(o=I(n[a],t[a],r,e)););}else{var c=n.constructor,f=t.constructor;if(c!==f&&!(w.isFunction(c)&&c instanceof c&&w.isFunction(f)&&f instanceof f))return!1;for(var s in n)if(w.has(n,s)&&(a++,!(o=w.has(t,s)&&I(n[s],t[s],r,e))))break;if(o){for(s in t)if(w.has(t,s)&&!a--)break;o=!a}}return r.pop(),e.pop(),o};w.isEqual=function(n,t){return I(n,t,[],[])},w.isEmpty=function(n){if(null==n)return!0;if(w.isArray(n)||w.isString(n))return 0===n.length;for(var t in n)if(w.has(n,t))return!1;return!0},w.isElement=function(n){return!(!n||1!==n.nodeType)},w.isArray=x||function(n){return\"[object Array]\"==l.call(n)},w.isObject=function(n){return n===Object(n)},A([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\"],function(n){w[\"is\"+n]=function(t){return l.call(t)==\"[object \"+n+\"]\"}}),w.isArguments(arguments)||(w.isArguments=function(n){return!(!n||!w.has(n,\"callee\"))}),\"function\"!=typeof/./&&(w.isFunction=function(n){return\"function\"==typeof n}),w.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},w.isNaN=function(n){return w.isNumber(n)&&n!=+n},w.isBoolean=function(n){return n===!0||n===!1||\"[object Boolean]\"==l.call(n)},w.isNull=function(n){return null===n},w.isUndefined=function(n){return n===void 0},w.has=function(n,t){return f.call(n,t)},w.noConflict=function(){return n._=t,this},w.identity=function(n){return n},w.times=function(n,t,r){for(var e=Array(n),u=0;n>u;u++)e[u]=t.call(r,u);return e},w.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var M={escape:{\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"/\":\"&#x2F;\"}};M.unescape=w.invert(M.escape);var S={escape:RegExp(\"[\"+w.keys(M.escape).join(\"\")+\"]\",\"g\"),unescape:RegExp(\"(\"+w.keys(M.unescape).join(\"|\")+\")\",\"g\")};w.each([\"escape\",\"unescape\"],function(n){w[n]=function(t){return null==t?\"\":(\"\"+t).replace(S[n],function(t){return M[n][t]})}}),w.result=function(n,t){if(null==n)return null;var r=n[t];return w.isFunction(r)?r.call(n):r},w.mixin=function(n){A(w.functions(n),function(t){var r=w[t]=n[t];w.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),D.call(this,r.apply(w,n))}})};var N=0;w.uniqueId=function(n){var t=++N+\"\";return n?n+t:t},w.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var T=/(.)^/,q={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},B=/\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;w.template=function(n,t,r){var e;r=w.defaults({},r,w.templateSettings);var u=RegExp([(r.escape||T).source,(r.interpolate||T).source,(r.evaluate||T).source].join(\"|\")+\"|$\",\"g\"),i=0,a=\"__p+='\";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(B,function(n){return\"\\\\\"+q[n]}),r&&(a+=\"'+\\n((__t=(\"+r+\"))==null?'':_.escape(__t))+\\n'\"),e&&(a+=\"'+\\n((__t=(\"+e+\"))==null?'':__t)+\\n'\"),u&&(a+=\"';\\n\"+u+\"\\n__p+='\"),i=o+t.length,t}),a+=\"';\\n\",r.variable||(a=\"with(obj||{}){\\n\"+a+\"}\\n\"),a=\"var __t,__p='',__j=Array.prototype.join,\"+\"print=function(){__p+=__j.call(arguments,'');};\\n\"+a+\"return __p;\\n\";try{e=Function(r.variable||\"obj\",\"_\",a)}catch(o){throw o.source=a,o}if(t)return e(t,w);var c=function(n){return e.call(this,n,w)};return c.source=\"function(\"+(r.variable||\"obj\")+\"){\\n\"+a+\"}\",c},w.chain=function(n){return w(n).chain()};var D=function(n){return this._chain?w(n).chain():n};w.mixin(w),A([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(n){var t=e[n];w.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),\"shift\"!=n&&\"splice\"!=n||0!==r.length||delete r[0],D.call(this,r)}}),A([\"concat\",\"join\",\"slice\"],function(n){var t=e[n];w.prototype[n]=function(){return D.call(this,t.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);\n/*\n    json2.js\n    2012-10-08\n\n    Public Domain.\n\n    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\n    See http://www.JSON.org/js.html\n\n\n    This code should be minified before deployment.\n    See http://javascript.crockford.com/jsmin.html\n\n    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n    NOT CONTROL.\n\n\n    This file creates a global JSON object containing two methods: stringify\n    and parse.\n\n        JSON.stringify(value, replacer, space)\n            value       any JavaScript value, usually an object or array.\n\n            replacer    an optional parameter that determines how object\n                        values are stringified for objects. It can be a\n                        function or an array of strings.\n\n            space       an optional parameter that specifies the indentation\n                        of nested structures. If it is omitted, the text will\n                        be packed without extra whitespace. If it is a number,\n                        it will specify the number of spaces to indent at each\n                        level. If it is a string (such as '\\t' or '&nbsp;'),\n                        it contains the characters used to indent at each level.\n\n            This method produces a JSON text from a JavaScript value.\n\n            When an object value is found, if the object contains a toJSON\n            method, its toJSON method will be called and the result will be\n            stringified. A toJSON method does not serialize: it returns the\n            value represented by the name/value pair that should be serialized,\n            or undefined if nothing should be serialized. The toJSON method\n            will be passed the key associated with the value, and this will be\n            bound to the value\n\n            For example, this would serialize Dates as ISO strings.\n\n                Date.prototype.toJSON = function (key) {\n                    function f(n) {\n                        // Format integers to have at least two digits.\n                        return n < 10 ? '0' + n : n;\n                    }\n\n                    return this.getUTCFullYear()   + '-' +\n                         f(this.getUTCMonth() + 1) + '-' +\n                         f(this.getUTCDate())      + 'T' +\n                         f(this.getUTCHours())     + ':' +\n                         f(this.getUTCMinutes())   + ':' +\n                         f(this.getUTCSeconds())   + 'Z';\n                };\n\n            You can provide an optional replacer method. It will be passed the\n            key and value of each member, with this bound to the containing\n            object. The value that is returned from your method will be\n            serialized. If your method returns undefined, then the member will\n            be excluded from the serialization.\n\n            If the replacer parameter is an array of strings, then it will be\n            used to select the members to be serialized. It filters the results\n            such that only members with keys listed in the replacer array are\n            stringified.\n\n            Values that do not have JSON representations, such as undefined or\n            functions, will not be serialized. Such values in objects will be\n            dropped; in arrays they will be replaced with null. You can use\n            a replacer function to replace those with JSON values.\n            JSON.stringify(undefined) returns undefined.\n\n            The optional space parameter produces a stringification of the\n            value that is filled with line breaks and indentation to make it\n            easier to read.\n\n            If the space parameter is a non-empty string, then that string will\n            be used for indentation. If the space parameter is a number, then\n            the indentation will be that many spaces.\n\n            Example:\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}]);\n            // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\\t');\n            // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n            text = JSON.stringify([new Date()], function (key, value) {\n                return this[key] instanceof Date ?\n                    'Date(' + this[key] + ')' : value;\n            });\n            // text is '[\"Date(---current time---)\"]'\n\n\n        JSON.parse(text, reviver)\n            This method parses a JSON text to produce an object or array.\n            It can throw a SyntaxError exception.\n\n            The optional reviver parameter is a function that can filter and\n            transform the results. It receives each of the keys and values,\n            and its return value is used instead of the original value.\n            If it returns what it received, then the structure is not modified.\n            If it returns undefined then the member is deleted.\n\n            Example:\n\n            // Parse the text. Values that look like ISO date strings will\n            // be converted to Date objects.\n\n            myData = JSON.parse(text, function (key, value) {\n                var a;\n                if (typeof value === 'string') {\n                    a =\n/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n                    if (a) {\n                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n                            +a[5], +a[6]));\n                    }\n                }\n                return value;\n            });\n\n            myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n                var d;\n                if (typeof value === 'string' &&\n                        value.slice(0, 5) === 'Date(' &&\n                        value.slice(-1) === ')') {\n                    d = new Date(value.slice(5, -1));\n                    if (d) {\n                        return d;\n                    }\n                }\n                return value;\n            });\n\n\n    This is a reference implementation. You are free to copy, modify, or\n    redistribute.\n*/\n\n/*jslint evil: true, regexp: true */\n\n/*members \"\", \"\\b\", \"\\t\", \"\\n\", \"\\f\", \"\\r\", \"\\\"\", JSON, \"\\\\\", apply,\n    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nif (typeof JSON !== 'object') {\n    JSON = {};\n}\n\n(function () {\n    'use strict';\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10 ? '0' + n : n;\n    }\n\n    if (typeof Date.prototype.toJSON !== 'function') {\n\n        Date.prototype.toJSON = function (key) {\n\n            return isFinite(this.valueOf())\n                ? this.getUTCFullYear()     + '-' +\n                    f(this.getUTCMonth() + 1) + '-' +\n                    f(this.getUTCDate())      + 'T' +\n                    f(this.getUTCHours())     + ':' +\n                    f(this.getUTCMinutes())   + ':' +\n                    f(this.getUTCSeconds())   + 'Z'\n                : null;\n        };\n\n        String.prototype.toJSON      =\n            Number.prototype.toJSON  =\n            Boolean.prototype.toJSON = function (key) {\n                return this.valueOf();\n            };\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string'\n                ? c\n                : '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            mind = gap,\n            partial,\n            value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === 'object' &&\n                typeof value.toJSON === 'function') {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce 'null'. The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is 'object', we might be dealing with an object or an array or\n// null.\n\n        case 'object':\n\n// Due to a specification blunder in ECMAScript, typeof null is 'object',\n// so watch out for that case.\n\n            if (!value) {\n                return 'null';\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0\n                    ? '[]'\n                    : gap\n                    ? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']'\n                    : '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === 'string') {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0\n                ? '{}'\n                : gap\n                ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}'\n                : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== 'function') {\n        JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = '';\n            indent = '';\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                    typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n\n// Make a fake root object containing our value under the key of ''.\n// Return the result of stringifying the value.\n\n            return str('', {'': value});\n        };\n    }\n\n\n// If the JSON object does not yet have a parse method, give it one.\n\n    if (typeof JSON.parse !== 'function') {\n        JSON.parse = function (text, reviver) {\n\n// The parse method takes a text and an optional reviver function, and returns\n// a JavaScript value if the text is a valid JSON text.\n\n            var j;\n\n            function walk(holder, key) {\n\n// The walk method is used to recursively walk the resulting structure so\n// that modifications can be made.\n\n                var k, v, value = holder[key];\n                if (value && typeof value === 'object') {\n                    for (k in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, k)) {\n                            v = walk(value, k);\n                            if (v !== undefined) {\n                                value[k] = v;\n                            } else {\n                                delete value[k];\n                            }\n                        }\n                    }\n                }\n                return reviver.call(holder, key, value);\n            }\n\n\n// Parsing happens in four stages. In the first stage, we replace certain\n// Unicode characters with escape sequences. JavaScript handles many characters\n// incorrectly, either silently deleting them, or treating them as line endings.\n\n            text = String(text);\n            cx.lastIndex = 0;\n            if (cx.test(text)) {\n                text = text.replace(cx, function (a) {\n                    return '\\\\u' +\n                        ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n                });\n            }\n\n// In the second stage, we run the text against regular expressions that look\n// for non-JSON patterns. We are especially concerned with '()' and 'new'\n// because they can cause invocation, and '=' because it can cause mutation.\n// But just to be safe, we want to reject all unexpected forms.\n\n// We split the second stage into 4 regexp operations in order to work around\n// crippling inefficiencies in IE's and Safari's regexp engines. First we\n// replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\n// replace all simple value tokens with ']' characters. Third, we delete all\n// open brackets that follow a colon or comma or that begin the text. Finally,\n// we look to see that the remaining characters are only whitespace or ']' or\n// ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n            if (/^[\\],:{}\\s]*$/\n                    .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                        .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                        .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n// In the third stage we use the eval function to compile the text into a\n// JavaScript structure. The '{' operator is subject to a syntactic ambiguity\n// in JavaScript: it can begin a block or an object literal. We wrap the text\n// in parens to eliminate the ambiguity.\n\n                j = eval('(' + text + ')');\n\n// In the optional fourth stage, we recursively walk the new structure, passing\n// each name/value pair to a reviver function for possible transformation.\n\n                return typeof reviver === 'function'\n                    ? walk({'': j}, '')\n                    : j;\n            }\n\n// If the text is not JSON parseable, then a SyntaxError is thrown.\n\n            throw new SyntaxError('JSON.parse');\n        };\n    }\n}());\n//     Backbone.js 0.9.2\n\n//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(){\n\n  // Initial Setup\n  // -------------\n\n  // Save a reference to the global object (`window` in the browser, `global`\n  // on the server).\n  var root = this;\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create a local reference to slice/splice.\n  var slice = Array.prototype.slice;\n  var splice = Array.prototype.splice;\n\n  // The top-level namespace. All public Backbone classes and modules will\n  // be attached to this. Exported for both CommonJS and the browser.\n  var Backbone;\n  if (typeof exports !== 'undefined') {\n    Backbone = exports;\n  } else {\n    Backbone = root.Backbone = {};\n  }\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = '0.9.2';\n\n  // Require Underscore, if we're on the server, and it's not already present.\n  var _ = root._;\n  if (!_ && (typeof require !== 'undefined')) _ = require('underscore');\n\n  // For Backbone's purposes, jQuery, Zepto, or Ender owns the `$` variable.\n  var $ = root.jQuery || root.Zepto || root.ender;\n\n  // Set the JavaScript library that will be used for DOM manipulation and\n  // Ajax calls (a.k.a. the `$` variable). By default Backbone will use: jQuery,\n  // Zepto, or Ender; but the `setDomLibrary()` method lets you inject an\n  // alternate JavaScript library (or a mock library for testing your views\n  // outside of a browser).\n  Backbone.setDomLibrary = function(lib) {\n    $ = lib;\n  };\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n  // `application/json` requests ... will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // -----------------\n\n  // Regular expression used to split event strings\n  var eventSplitter = /\\s+/;\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback functions\n  // to an event; trigger`-ing an event fires all callbacks in succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  var Events = Backbone.Events = {\n\n    // Bind one or more space separated events, `events`, to a `callback`\n    // function. Passing `\"all\"` will bind the callback to all events fired.\n    on: function(events, callback, context) {\n\n      var calls, event, node, tail, list;\n      if (!callback) return this;\n      events = events.split(eventSplitter);\n      calls = this._callbacks || (this._callbacks = {});\n\n      // Create an immutable callback list, allowing traversal during\n      // modification.  The tail is an empty object that will always be used\n      // as the next node.\n      while (event = events.shift()) {\n        list = calls[event];\n        node = list ? list.tail : {};\n        node.next = tail = {};\n        node.context = context;\n        node.callback = callback;\n        calls[event] = {tail: tail, next: list ? list.next : node};\n      }\n\n      return this;\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all callbacks\n    // with that function. If `callback` is null, removes all callbacks for the\n    // event. If `events` is null, removes all bound callbacks for all events.\n    off: function(events, callback, context) {\n      var event, calls, node, tail, cb, ctx;\n\n      // No events, or removing *all* events.\n      if (!(calls = this._callbacks)) return;\n      if (!(events || callback || context)) {\n        delete this._callbacks;\n        return this;\n      }\n\n      // Loop through the listed events and contexts, splicing them out of the\n      // linked list of callbacks if appropriate.\n      events = events ? events.split(eventSplitter) : _.keys(calls);\n      while (event = events.shift()) {\n        node = calls[event];\n        delete calls[event];\n        if (!node || !(callback || context)) continue;\n        // Create a new list, omitting the indicated callbacks.\n        tail = node.tail;\n        while ((node = node.next) !== tail) {\n          cb = node.callback;\n          ctx = node.context;\n          if ((callback && cb !== callback) || (context && ctx !== context)) {\n            this.on(event, cb, ctx);\n          }\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(events) {\n      var event, node, calls, tail, args, all, rest;\n      if (!(calls = this._callbacks)) return this;\n      all = calls.all;\n      events = events.split(eventSplitter);\n      rest = slice.call(arguments, 1);\n\n      // For each event, walk through the linked list of callbacks twice,\n      // first to trigger the event, then to trigger any `\"all\"` callbacks.\n      while (event = events.shift()) {\n        if (node = calls[event]) {\n          tail = node.tail;\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, rest);\n          }\n        }\n        if (node = all) {\n          tail = node.tail;\n          args = [event].concat(rest);\n          while ((node = node.next) !== tail) {\n            node.callback.apply(node.context || this, args);\n          }\n        }\n      }\n\n      return this;\n    }\n\n  };\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Backbone.Model\n  // --------------\n\n  // Create a new model, with defined attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var defaults;\n    attributes || (attributes = {});\n    if (options && options.parse) attributes = this.parse(attributes);\n    if (defaults = getValue(this, 'defaults')) {\n      attributes = _.extend({}, defaults, attributes);\n    }\n    if (options && options.collection) this.collection = options.collection;\n    this.attributes = {};\n    this._escapedAttributes = {};\n    this.cid = _.uniqueId('c');\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this.set(attributes, {silent: true});\n    // Reset change tracking.\n    this.changed = {};\n    this._silent = {};\n    this._pending = {};\n    this._previousAttributes = _.clone(this.attributes);\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // A hash of attributes that have silently changed since the last time\n    // `change` was called.  Will become pending attributes on the next call.\n    _silent: null,\n\n    // A hash of attributes that have changed since the last `'change'` event\n    // began.\n    _pending: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n    idAttribute: 'id',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      var html;\n      if (html = this._escapedAttributes[attr]) return html;\n      var val = this.get(attr);\n      return this._escapedAttributes[attr] = _.escape(val == null ? '' : '' + val);\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Set a hash of model attributes on the object, firing `\"change\"` unless\n    // you choose to silence it.\n    set: function(key, value, options) {\n      var attrs, attr, val;\n\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\n      if (_.isObject(key) || key == null) {\n        attrs = key;\n        options = value;\n      } else {\n        attrs = {};\n        attrs[key] = value;\n      }\n\n      // Extract attributes and options.\n      options || (options = {});\n      if (!attrs) return this;\n      if (attrs instanceof Model) attrs = attrs.attributes;\n      if (options.unset) for (attr in attrs) attrs[attr] = void 0;\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Check for changes of `id`.\n      if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\n      var changes = options.changes = {};\n      var now = this.attributes;\n      var escaped = this._escapedAttributes;\n      var prev = this._previousAttributes || {};\n\n      // For each `set` attribute...\n      for (attr in attrs) {\n        val = attrs[attr];\n\n        // If the new and current value differ, record the change.\n        if (!_.isEqual(now[attr], val) || (options.unset && _.has(now, attr))) {\n          delete escaped[attr];\n          (options.silent ? this._silent : changes)[attr] = true;\n        }\n\n        // Update or delete the current value.\n        options.unset ? delete now[attr] : now[attr] = val;\n\n        // If the new and previous value differ, record the change.  If not,\n        // then remove changes for this attribute.\n        if (!_.isEqual(prev[attr], val) || (_.has(now, attr) != _.has(prev, attr))) {\n          this.changed[attr] = val;\n          if (!options.silent) this._pending[attr] = true;\n        } else {\n          delete this.changed[attr];\n          delete this._pending[attr];\n        }\n      }\n\n      // Fire the `\"change\"` events.\n      if (!options.silent) this.change(options);\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `\"change\"` unless you choose\n    // to silence it. `unset` is a noop if the attribute doesn't exist.\n    unset: function(attr, options) {\n      (options || (options = {})).unset = true;\n      return this.set(attr, null, options);\n    },\n\n    // Clear all attributes on the model, firing `\"change\"` unless you choose\n    // to silence it.\n    clear: function(options) {\n      (options || (options = {})).unset = true;\n      return this.set(_.clone(this.attributes), options);\n    },\n\n    // Fetch the model from the server. If the server's representation of the\n    // model differs from its current attributes, they will be overriden,\n    // triggering a `\"change\"` event.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n      options.success = function(resp, status, xhr) {\n        if (!model.set(model.parse(resp, xhr), options)) return false;\n        if (success) success(model, resp);\n      };\n      options.error = Backbone.wrapError(options.error, model, options);\n      return (this.sync || Backbone.sync).call(this, 'read', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n    save: function(key, value, options) {\n      var attrs, current;\n\n      // Handle both `(\"key\", value)` and `({key: value})` -style calls.\n      if (_.isObject(key) || key == null) {\n        attrs = key;\n        options = value;\n      } else {\n        attrs = {};\n        attrs[key] = value;\n      }\n      options = options ? _.clone(options) : {};\n\n      // If we're \"wait\"-ing to set changed attributes, validate early.\n      if (options.wait) {\n        if (!this._validate(attrs, options)) return false;\n        current = _.clone(this.attributes);\n      }\n\n      // Regular saves `set` attributes before persisting to the server.\n      var silentOptions = _.extend({}, options, {silent: true});\n      if (attrs && !this.set(attrs, options.wait ? silentOptions : options)) {\n        return false;\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      var model = this;\n      var success = options.success;\n      options.success = function(resp, status, xhr) {\n        var serverAttrs = model.parse(resp, xhr);\n        if (options.wait) {\n          delete options.wait;\n          serverAttrs = _.extend(attrs || {}, serverAttrs);\n        }\n        if (!model.set(serverAttrs, options)) return false;\n        if (success) {\n          success(model, resp);\n        } else {\n          model.trigger('sync', model, resp, options);\n        }\n      };\n\n      // Finish configuring and sending the Ajax request.\n      options.error = Backbone.wrapError(options.error, model, options);\n      var method = this.isNew() ? 'create' : 'update';\n      var xhr = (this.sync || Backbone.sync).call(this, method, this, options);\n      if (options.wait) this.set(current, silentOptions);\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n\n      var triggerDestroy = function() {\n        model.trigger('destroy', model, model.collection, options);\n      };\n\n      if (this.isNew()) {\n        triggerDestroy();\n        return false;\n      }\n\n      options.success = function(resp) {\n        if (options.wait) triggerDestroy();\n        if (success) {\n          success(model, resp);\n        } else {\n          model.trigger('sync', model, resp, options);\n        }\n      };\n\n      options.error = Backbone.wrapError(options.error, model, options);\n      var xhr = (this.sync || Backbone.sync).call(this, 'delete', this, options);\n      if (!options.wait) triggerDestroy();\n      return xhr;\n    },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base = getValue(this, 'urlRoot') || getValue(this.collection, 'url') || urlError();\n      if (this.isNew()) return base;\n      return base + (base.charAt(base.length - 1) == '/' ? '' : '/') + encodeURIComponent(this.id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, xhr) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return this.id == null;\n    },\n\n    // Call this method to manually fire a `\"change\"` event for this model and\n    // a `\"change:attribute\"` event for each changed attribute.\n    // Calling this will cause all objects observing the model to update.\n    change: function(options) {\n      options || (options = {});\n      var changing = this._changing;\n      this._changing = true;\n\n      // Silent changes become pending changes.\n      for (var attr in this._silent) this._pending[attr] = true;\n\n      // Silent changes are triggered.\n      var changes = _.extend({}, options.changes, this._silent);\n      this._silent = {};\n      for (var attr in changes) {\n        this.trigger('change:' + attr, this, this.get(attr), options);\n      }\n      if (changing) return this;\n\n      // Continue firing `\"change\"` events while there are pending changes.\n      while (!_.isEmpty(this._pending)) {\n        this._pending = {};\n        this.trigger('change', this, options);\n        // Pending and silent changes still remain.\n        for (var attr in this.changed) {\n          if (this._pending[attr] || this._silent[attr]) continue;\n          delete this.changed[attr];\n        }\n        this._previousAttributes = _.clone(this.attributes);\n      }\n\n      this._changing = false;\n      return this;\n    },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (!arguments.length) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var val, changed = false, old = this._previousAttributes;\n      for (var attr in diff) {\n        if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n        (changed || (changed = {}))[attr] = val;\n      }\n      return changed;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n    previous: function(attr) {\n      if (!arguments.length || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Check if the model is currently in a valid state. It's only possible to\n    // get into an *invalid* state if you're using silent changes.\n    isValid: function() {\n      return !this.validate(this.attributes);\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. If a specific `error` callback has\n    // been passed, call that instead of firing the general `\"error\"` event.\n    _validate: function(attrs, options) {\n      if (options.silent || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validate(attrs, options);\n      if (!error) return true;\n      if (options && options.error) {\n        options.error(this, error, options);\n      } else {\n        this.trigger('error', this, error, options);\n      }\n      return false;\n    }\n\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // Provides a standard collection class for our sets of models, ordered\n  // or unordered. If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they're added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    if (options.model) this.model = options.model;\n    if (options.comparator) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, {silent: true, parse: options.parse});\n  };\n\n  // Define the Collection's inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n    toJSON: function(options) {\n      return this.map(function(model){ return model.toJSON(options); });\n    },\n\n    // Add a model, or list of models to the set. Pass **silent** to avoid\n    // firing the `add` event for every new model.\n    add: function(models, options) {\n      var i, index, length, model, cid, id, cids = {}, ids = {}, dups = [];\n      options || (options = {});\n      models = _.isArray(models) ? models.slice() : [models];\n\n      // Begin by turning bare objects into model references, and preventing\n      // invalid models or duplicate models from being added.\n      for (i = 0, length = models.length; i < length; i++) {\n        if (!(model = models[i] = this._prepareModel(models[i], options))) {\n          throw new Error(\"Can't add an invalid model to a collection\");\n        }\n        cid = model.cid;\n        id = model.id;\n        if (cids[cid] || this._byCid[cid] || ((id != null) && (ids[id] || this._byId[id]))) {\n          dups.push(i);\n          continue;\n        }\n        cids[cid] = ids[id] = model;\n      }\n\n      // Remove duplicates.\n      i = dups.length;\n      while (i--) {\n        models.splice(dups[i], 1);\n      }\n\n      // Listen to added models' events, and index models for lookup by\n      // `id` and by `cid`.\n      for (i = 0, length = models.length; i < length; i++) {\n        (model = models[i]).on('all', this._onModelEvent, this);\n        this._byCid[model.cid] = model;\n        if (model.id != null) this._byId[model.id] = model;\n      }\n\n      // Insert models into the collection, re-sorting if needed, and triggering\n      // `add` events unless silenced.\n      this.length += length;\n      index = options.at != null ? options.at : this.models.length;\n      splice.apply(this.models, [index, 0].concat(models));\n      if (this.comparator) this.sort({silent: true});\n      if (options.silent) return this;\n      for (i = 0, length = this.models.length; i < length; i++) {\n        if (!cids[(model = this.models[i]).cid]) continue;\n        options.index = i;\n        model.trigger('add', model, this, options);\n      }\n      return this;\n    },\n\n    // Remove a model, or a list of models from the set. Pass silent to avoid\n    // firing the `remove` event for every model removed.\n    remove: function(models, options) {\n      var i, l, index, model;\n      options || (options = {});\n      models = _.isArray(models) ? models.slice() : [models];\n      for (i = 0, l = models.length; i < l; i++) {\n        model = this.getByCid(models[i]) || this.get(models[i]);\n        if (!model) continue;\n        delete this._byId[model.id];\n        delete this._byCid[model.cid];\n        index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n        if (!options.silent) {\n          options.index = index;\n          model.trigger('remove', model, this, options);\n        }\n        this._removeReference(model);\n      }\n      return this;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      model = this._prepareModel(model, options);\n      this.add(model, options);\n      return model;\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      model = this._prepareModel(model, options);\n      this.add(model, _.extend({at: 0}, options));\n      return model;\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Get a model from the set by id.\n    get: function(id) {\n      if (id == null) return void 0;\n      return this._byId[id.id != null ? id.id : id];\n    },\n\n    // Get a model from the set by client id.\n    getByCid: function(cid) {\n      return cid && this._byCid[cid.cid || cid];\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of `filter`.\n    where: function(attrs) {\n      if (_.isEmpty(attrs)) return [];\n      return this.filter(function(model) {\n        for (var key in attrs) {\n          if (attrs[key] !== model.get(key)) return false;\n        }\n        return true;\n      });\n    },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      options || (options = {});\n      if (!this.comparator) throw new Error('Cannot sort a set without a comparator');\n      var boundComparator = _.bind(this.comparator, this);\n      if (this.comparator.length == 1) {\n        this.models = this.sortBy(boundComparator);\n      } else {\n        this.models.sort(boundComparator);\n      }\n      if (!options.silent) this.trigger('reset', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return _.map(this.models, function(model){ return model.get(attr); });\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any `add` or `remove` events. Fires `reset` when finished.\n    reset: function(models, options) {\n      models  || (models = []);\n      options || (options = {});\n      for (var i = 0, l = this.models.length; i < l; i++) {\n        this._removeReference(this.models[i]);\n      }\n      this._reset();\n      this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger('reset', this, options);\n      return this;\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `add: true` is passed, appends the\n    // models to the collection instead of resetting.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      if (options.parse === undefined) options.parse = true;\n      var collection = this;\n      var success = options.success;\n      options.success = function(resp, status, xhr) {\n        collection[options.add ? 'add' : 'reset'](collection.parse(resp, xhr), options);\n        if (success) success(collection, resp);\n      };\n      options.error = Backbone.wrapError(options.error, collection, options);\n      return (this.sync || Backbone.sync).call(this, 'read', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      var coll = this;\n      options = options ? _.clone(options) : {};\n      model = this._prepareModel(model, options);\n      if (!model) return false;\n      if (!options.wait) coll.add(model, options);\n      var success = options.success;\n      options.success = function(nextModel, resp, xhr) {\n        if (options.wait) coll.add(nextModel, options);\n        if (success) {\n          success(nextModel, resp);\n        } else {\n          nextModel.trigger('sync', model, resp, options);\n        }\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, xhr) {\n      return resp;\n    },\n\n    // Proxy to _'s chain. Can't be proxied the same way the rest of the\n    // underscore methods are proxied because it relies on the underscore\n    // constructor.\n    chain: function () {\n      return _(this.models).chain();\n    },\n\n    // Reset all internal state. Called when the collection is reset.\n    _reset: function(options) {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n      this._byCid = {};\n    },\n\n    // Prepare a model or hash of attributes to be added to this collection.\n    _prepareModel: function(model, options) {\n      options || (options = {});\n      if (!(model instanceof Model)) {\n        var attrs = model;\n        options.collection = this;\n        model = new this.model(attrs, options);\n        if (!model._validate(model.attributes, options)) model = false;\n      } else if (!model.collection) {\n        model.collection = this;\n      }\n      return model;\n    },\n\n    // Internal method to remove a model's ties to a collection.\n    _removeReference: function(model) {\n      if (this == model.collection) {\n        delete model.collection;\n      }\n      model.off('all', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if ((event == 'add' || event == 'remove') && collection != this) return;\n      if (event == 'destroy') {\n        this.remove(model, options);\n      }\n      if (model && event === 'change:' + model.idAttribute) {\n        delete this._byId[model.previous(model.idAttribute)];\n        this._byId[model.id] = model;\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  var methods = ['forEach', 'each', 'map', 'reduce', 'reduceRight', 'find',\n    'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any',\n    'include', 'contains', 'invoke', 'max', 'min', 'sortBy', 'sortedIndex',\n    'toArray', 'size', 'first', 'initial', 'rest', 'last', 'without', 'indexOf',\n    'shuffle', 'lastIndexOf', 'isEmpty', 'groupBy'];\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  _.each(methods, function(method) {\n    Collection.prototype[method] = function() {\n      return _[method].apply(_, [this.models].concat(_.toArray(arguments)));\n    };\n  });\n\n  // Backbone.Router\n  // -------------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var namedParam    = /:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[-[\\]{}()+?.,\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route('search/:query/p:num', 'search', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      Backbone.history || (Backbone.history = new History);\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (!callback) callback = this[name];\n      Backbone.history.route(route, _.bind(function(fragment) {\n        var args = this._extractParameters(route, fragment);\n        callback && callback.apply(this, args);\n        this.trigger.apply(this, ['route:' + name].concat(args));\n        Backbone.history.trigger('route', this, name, args);\n      }, this));\n      return this;\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      var routes = [];\n      for (var route in this.routes) {\n        routes.unshift([route, this.routes[route]]);\n      }\n      for (var i = 0, l = routes.length; i < l; i++) {\n        this.route(routes[i][0], routes[i][1], this[routes[i][1]]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, '\\\\$&')\n                   .replace(namedParam, '([^\\/]+)')\n                   .replace(splatParam, '(.*?)');\n      return new RegExp('^' + route + '$');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted parameters.\n    _extractParameters: function(route, fragment) {\n      return route.exec(fragment).slice(1);\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on URL fragments. If the\n  // browser does not support `onhashchange`, falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    _.bindAll(this, 'checkUrl');\n  };\n\n  // Cached regex for cleaning leading hashes and slashes .\n  var routeStripper = /^[#\\/]/;\n\n  // Cached regex for detecting MSIE.\n  var isExplorer = /msie [\\w.]+/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(windowOverride) {\n      var loc = windowOverride ? windowOverride.location : window.location;\n      var match = loc.href.match(/#(.*)$/);\n      return match ? match[1] : '';\n    },\n\n    // Get the cross-browser normalized URL fragment, either from the URL,\n    // the hash, or the override.\n    getFragment: function(fragment, forcePushState) {\n      if (fragment == null) {\n        if (this._hasPushState || forcePushState) {\n          fragment = window.location.pathname;\n          var search = window.location.search;\n          if (search) fragment += search;\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      if (!fragment.indexOf(this.options.root)) fragment = fragment.substr(this.options.root.length);\n      return fragment.replace(routeStripper, '');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error(\"Backbone.history has already been started\");\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({}, {root: '/'}, this.options, options);\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.options.pushState && window.history && window.history.pushState);\n      var fragment          = this.getFragment();\n      var docMode           = document.documentMode;\n      var oldIE             = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));\n\n      if (oldIE) {\n        this.iframe = $('<iframe src=\"javascript:0\" tabindex=\"-1\" />').hide().appendTo('body')[0].contentWindow;\n        this.navigate(fragment);\n      }\n\n      // Depending on whether we're using pushState or hashes, and whether\n      // 'onhashchange' is supported, determine how we check the URL state.\n      if (this._hasPushState) {\n        $(window).bind('popstate', this.checkUrl);\n      } else if (this._wantsHashChange && ('onhashchange' in window) && !oldIE) {\n        $(window).bind('hashchange', this.checkUrl);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      // Determine if we need to change the base url, for a pushState link\n      // opened by a non-pushState browser.\n      this.fragment = fragment;\n      var loc = window.location;\n      var atRoot  = loc.pathname == this.options.root;\n\n      // If we've started off with a route from a `pushState`-enabled browser,\n      // but we're currently in a browser that doesn't support it...\n      if (this._wantsHashChange && this._wantsPushState && !this._hasPushState && !atRoot) {\n        this.fragment = this.getFragment(null, true);\n        window.location.replace(this.options.root + '#' + this.fragment);\n        // Return immediately as browser will do redirect to new url\n        return true;\n\n      // Or if we've started out with a hash-based route, but we're currently\n      // in a browser where it could be `pushState`-based instead...\n      } else if (this._wantsPushState && this._hasPushState && atRoot && loc.hash) {\n        this.fragment = this.getHash().replace(routeStripper, '');\n        window.history.replaceState({}, document.title, loc.protocol + '//' + loc.host + this.options.root + this.fragment);\n      }\n\n      if (!this.options.silent) {\n        return this.loadUrl();\n      }\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      $(window).unbind('popstate', this.checkUrl).unbind('hashchange', this.checkUrl);\n      clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n      if (current == this.fragment && this.iframe) current = this.getFragment(this.getHash(this.iframe));\n      if (current == this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl() || this.loadUrl(this.getHash());\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragmentOverride) {\n      var fragment = this.fragment = this.getFragment(fragmentOverride);\n      var matched = _.any(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n      return matched;\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // 'replace' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: options};\n      var frag = (fragment || '').replace(routeStripper, '');\n      if (this.fragment == frag) return;\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._hasPushState) {\n        if (frag.indexOf(this.options.root) != 0) frag = this.options.root + frag;\n        this.fragment = frag;\n        window.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, frag);\n\n      // If hash changes haven't been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this.fragment = frag;\n        this._updateHash(window.location, frag, options.replace);\n        if (this.iframe && (frag != this.getFragment(this.getHash(this.iframe)))) {\n          // Opening and closing the iframe tricks IE7 and earlier to push a history entry on hash-tag change.\n          // When replace is true, we don't want this.\n          if(!options.replace) this.iframe.document.open().close();\n          this._updateHash(this.iframe.location, frag, options.replace);\n        }\n\n      // If you've told us that you explicitly don't want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        window.location.assign(this.options.root + fragment);\n      }\n      if (options.trigger) this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        location.replace(location.toString().replace(/(javascript:|#).*$/, '') + '#' + fragment);\n      } else {\n        location.hash = fragment;\n      }\n    }\n  });\n\n  // Backbone.View\n  // -------------\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId('view');\n    this._configure(options || {});\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n    this.delegateEvents();\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be merged as properties.\n  var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View's element is `\"div\"`.\n    tagName: 'div',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be prefered to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view from the DOM. Note that the view isn't present in the\n    // DOM by default, so calling this method may be a no-op.\n    remove: function() {\n      this.$el.remove();\n      return this;\n    },\n\n    // For small amounts of DOM Elements, where a full-blown template isn't\n    // needed, use **make** to manufacture elements, one at a time.\n    //\n    //     var el = this.make('li', {'class': 'row'}, this.model.escape('title'));\n    //\n    make: function(tagName, attributes, content) {\n      var el = document.createElement(tagName);\n      if (attributes) $(el).attr(attributes);\n      if (content) $(el).html(content);\n      return el;\n    },\n\n    // Change the view's element (`this.el` property), including event\n    // re-delegation.\n    setElement: function(element, delegate) {\n      if (this.$el) this.undelegateEvents();\n      this.$el = (element instanceof $) ? element : $(element);\n      this.el = this.$el[0];\n      if (delegate !== false) this.delegateEvents();\n      return this;\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save'\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    // This only works for delegate-able events: not `focus`, `blur`, and\n    // not `change`, `submit`, and `reset` in Internet Explorer.\n    delegateEvents: function(events) {\n      if (!(events || (events = getValue(this, 'events')))) return;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[events[key]];\n        if (!method) throw new Error('Method \"' + events[key] + '\" does not exist');\n        var match = key.match(delegateEventSplitter);\n        var eventName = match[1], selector = match[2];\n        method = _.bind(method, this);\n        eventName += '.delegateEvents' + this.cid;\n        if (selector === '') {\n          this.$el.bind(eventName, method);\n        } else {\n          this.$el.delegate(selector, eventName, method);\n        }\n      }\n    },\n\n    // Clears all callbacks previously bound to the view with `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      this.$el.unbind('.delegateEvents' + this.cid);\n    },\n\n    // Performs the initial configuration of a View with a set of options.\n    // Keys with special meaning *(model, collection, id, className)*, are\n    // attached directly to the view.\n    _configure: function(options) {\n      if (this.options) options = _.extend({}, this.options, options);\n      for (var i = 0, l = viewOptions.length; i < l; i++) {\n        var attr = viewOptions[i];\n        if (options[attr]) this[attr] = options[attr];\n      }\n      this.options = options;\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = getValue(this, 'attributes') || {};\n        if (this.id) attrs.id = this.id;\n        if (this.className) attrs['class'] = this.className;\n        this.setElement(this.make(this.tagName, attrs), false);\n      } else {\n        this.setElement(this.el, false);\n      }\n    }\n\n  });\n\n  // The self-propagating extend function that Backbone classes use.\n  var extend = function (protoProps, classProps) {\n    var child = inherits(this, protoProps, classProps);\n    child.extend = this.extend;\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, and view.\n  Model.extend = Collection.extend = Router.extend = View.extend = extend;\n\n  // Backbone.sync\n  // -------------\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    'create': 'POST',\n    'update': 'PUT',\n    'delete': 'DELETE',\n    'read':   'GET'\n  };\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model's `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    options || (options = {});\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: 'json'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = getValue(model, 'url') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (!options.data && model && (method == 'create' || method == 'update')) {\n      params.contentType = 'application/json';\n      params.data = JSON.stringify(model.toJSON());\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (Backbone.emulateJSON) {\n      params.contentType = 'application/x-www-form-urlencoded';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (Backbone.emulateHTTP) {\n      if (type === 'PUT' || type === 'DELETE') {\n        if (Backbone.emulateJSON) params.data._method = type;\n        params.type = 'POST';\n        params.beforeSend = function(xhr) {\n          xhr.setRequestHeader('X-HTTP-Method-Override', type);\n        };\n      }\n    }\n\n    // Don't process data on a non-GET request.\n    if (params.type !== 'GET' && !Backbone.emulateJSON) {\n      params.processData = false;\n    }\n\n    // Make the request, allowing the user to override any Ajax options.\n    return $.ajax(_.extend(params, options));\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  Backbone.wrapError = function(onError, originalModel, options) {\n    return function(model, resp) {\n      resp = model === originalModel ? resp : model;\n      if (onError) {\n        onError(originalModel, resp, options);\n      } else {\n        originalModel.trigger('error', originalModel, resp, options);\n      }\n    };\n  };\n\n  // Helpers\n  // -------\n\n  // Shared empty constructor function to aid in prototype-chain creation.\n  var ctor = function(){};\n\n  // Helper function to correctly set up the prototype chain, for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var inherits = function(parent, protoProps, staticProps) {\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (protoProps && protoProps.hasOwnProperty('constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ parent.apply(this, arguments); };\n    }\n\n    // Inherit class (static) properties from parent.\n    _.extend(child, parent);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Add static properties to the constructor function, if supplied.\n    if (staticProps) _.extend(child, staticProps);\n\n    // Correctly set child's `prototype.constructor`.\n    child.prototype.constructor = child;\n\n    // Set a convenience property in case the parent's prototype is needed later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Helper function to get a value from a Backbone object as a property\n  // or as a function.\n  var getValue = function(object, prop) {\n    if (!(object && object[prop])) return null;\n    return _.isFunction(object[prop]) ? object[prop]() : object[prop];\n  };\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error('A \"url\" property or function must be specified');\n  };\n\n}).call(this);\n/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false*/\n\n(function (global, factory) {\n  if (typeof exports === \"object\" && exports) {\n    factory(exports); // CommonJS\n  } else if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    factory(global.Mustache = {}); // <script>\n  }\n}(this, function (mustache) {\n\n  var Object_toString = Object.prototype.toString;\n  var isArray = Array.isArray || function (object) {\n    return Object_toString.call(object) === '[object Array]';\n  };\n\n  function isFunction(object) {\n    return typeof object === 'function';\n  }\n\n  function escapeRegExp(string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var RegExp_test = RegExp.prototype.test;\n  function testRegExp(re, string) {\n    return RegExp_test.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace(string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    \"/\": '&#x2F;'\n  };\n\n  function escapeHtml(string) {\n    return String(string).replace(/[&<>\"'\\/]/g, function (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate(template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace() {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags(tags) {\n      if (typeof tags === 'string')\n        tags = tags.split(spaceRe, 2);\n\n      if (!isArray(tags) || tags.length !== 2)\n        throw new Error('Invalid tags: ' + tags);\n\n      openingTagRe = new RegExp(escapeRegExp(tags[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tags[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tags[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens(tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens(tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n      case '#':\n      case '^':\n        collector.push(token);\n        sections.push(token);\n        collector = token[4] = [];\n        break;\n      case '/':\n        section = sections.pop();\n        section[5] = token[2];\n        collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n        break;\n      default:\n        collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner(string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function () {\n    return this.tail === \"\";\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n    case -1:\n      match = this.tail;\n      this.tail = \"\";\n      break;\n    case 0:\n      match = \"\";\n      break;\n    default:\n      match = this.tail.substring(0, index);\n      this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context(view, parentContext) {\n    this.view = view == null ? {} : view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function (name) {\n    var cache = this.cache;\n\n    var value;\n    if (name in cache) {\n      value = cache[name];\n    } else {\n      var context = this, names, index;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          value = context.view;\n          names = name.split('.');\n          index = 0;\n\n          while (value != null && index < names.length)\n            value = value[names[index++]];\n        } else if (typeof context.view == 'object') {\n          value = context.view[name];\n        }\n\n        if (value != null)\n          break;\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer() {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function (template, tags) {\n    var cache = this.cache;\n    var tokens = cache[template];\n\n    if (tokens == null)\n      tokens = cache[template] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   */\n  Writer.prototype.render = function (template, view, partials) {\n    var tokens = this.parse(template);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this._renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this._renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this._renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this._unescapedValue(token, context);\n      else if (symbol === 'name') value = this._escapedValue(token, context);\n      else if (symbol === 'text') value = this._rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype._renderSection = function (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender(template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype._renderInverted = function(token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype._renderPartial = function(token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype._unescapedValue = function(token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype._escapedValue = function(token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype._rawValue = function(token) {\n    return token[1];\n  };\n\n  mustache.name = \"mustache.js\";\n  mustache.version = \"1.1.0\";\n  mustache.tags = [ \"{{\", \"}}\" ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer.\n   */\n  mustache.render = function (template, view, partials) {\n    return defaultWriter.render(template, view, partials);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.\n  mustache.to_html = function (template, view, partials, send) {\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n}));\n/*\n Leaflet, a JavaScript library for mobile-friendly interactive maps. http://leafletjs.com\n (c) 2010-2013, Vladimir Agafonkin\n (c) 2010-2011, CloudMade\n*/\n(function (window, document, undefined) {\nvar oldL = window.L,\n    L = {};\n\nL.version = '0.7.3';\n\n// define Leaflet for Node module pattern loaders, including Browserify\nif (typeof module === 'object' && typeof module.exports === 'object') {\n\tmodule.exports = L;\n\n// define Leaflet as an AMD module\n} else if (typeof define === 'function' && define.amd) {\n\tdefine(L);\n}\n\n// define Leaflet as a global L variable, saving the original L to restore later if needed\n\nL.noConflict = function () {\n\twindow.L = oldL;\n\treturn this;\n};\n\nwindow.L = L;\n\n\n/*\n * L.Util contains various utility functions used throughout Leaflet code.\n */\n\nL.Util = {\n\textend: function (dest) { // (Object[, Object, ...]) ->\n\t\tvar sources = Array.prototype.slice.call(arguments, 1),\n\t\t    i, j, len, src;\n\n\t\tfor (j = 0, len = sources.length; j < len; j++) {\n\t\t\tsrc = sources[j] || {};\n\t\t\tfor (i in src) {\n\t\t\t\tif (src.hasOwnProperty(i)) {\n\t\t\t\t\tdest[i] = src[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t},\n\n\tbind: function (fn, obj) { // (Function, Object) -> Function\n\t\tvar args = arguments.length > 2 ? Array.prototype.slice.call(arguments, 2) : null;\n\t\treturn function () {\n\t\t\treturn fn.apply(obj, args || arguments);\n\t\t};\n\t},\n\n\tstamp: (function () {\n\t\tvar lastId = 0,\n\t\t    key = '_leaflet_id';\n\t\treturn function (obj) {\n\t\t\tobj[key] = obj[key] || ++lastId;\n\t\t\treturn obj[key];\n\t\t};\n\t}()),\n\n\tinvokeEach: function (obj, method, context) {\n\t\tvar i, args;\n\n\t\tif (typeof obj === 'object') {\n\t\t\targs = Array.prototype.slice.call(arguments, 3);\n\n\t\t\tfor (i in obj) {\n\t\t\t\tmethod.apply(context, [i, obj[i]].concat(args));\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\tlimitExecByInterval: function (fn, time, context) {\n\t\tvar lock, execOnUnlock;\n\n\t\treturn function wrapperFn() {\n\t\t\tvar args = arguments;\n\n\t\t\tif (lock) {\n\t\t\t\texecOnUnlock = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlock = true;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tlock = false;\n\n\t\t\t\tif (execOnUnlock) {\n\t\t\t\t\twrapperFn.apply(context, args);\n\t\t\t\t\texecOnUnlock = false;\n\t\t\t\t}\n\t\t\t}, time);\n\n\t\t\tfn.apply(context, args);\n\t\t};\n\t},\n\n\tfalseFn: function () {\n\t\treturn false;\n\t},\n\n\tformatNum: function (num, digits) {\n\t\tvar pow = Math.pow(10, digits || 5);\n\t\treturn Math.round(num * pow) / pow;\n\t},\n\n\ttrim: function (str) {\n\t\treturn str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '');\n\t},\n\n\tsplitWords: function (str) {\n\t\treturn L.Util.trim(str).split(/\\s+/);\n\t},\n\n\tsetOptions: function (obj, options) {\n\t\tobj.options = L.extend({}, obj.options, options);\n\t\treturn obj.options;\n\t},\n\n\tgetParamString: function (obj, existingUrl, uppercase) {\n\t\tvar params = [];\n\t\tfor (var i in obj) {\n\t\t\tparams.push(encodeURIComponent(uppercase ? i.toUpperCase() : i) + '=' + encodeURIComponent(obj[i]));\n\t\t}\n\t\treturn ((!existingUrl || existingUrl.indexOf('?') === -1) ? '?' : '&') + params.join('&');\n\t},\n\ttemplate: function (str, data) {\n\t\treturn str.replace(/\\{ *([\\w_]+) *\\}/g, function (str, key) {\n\t\t\tvar value = data[key];\n\t\t\tif (value === undefined) {\n\t\t\t\tthrow new Error('No value provided for variable ' + str);\n\t\t\t} else if (typeof value === 'function') {\n\t\t\t\tvalue = value(data);\n\t\t\t}\n\t\t\treturn value;\n\t\t});\n\t},\n\n\tisArray: Array.isArray || function (obj) {\n\t\treturn (Object.prototype.toString.call(obj) === '[object Array]');\n\t},\n\n\temptyImageUrl: 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\n};\n\n(function () {\n\n\t// inspired by http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n\n\tfunction getPrefixed(name) {\n\t\tvar i, fn,\n\t\t    prefixes = ['webkit', 'moz', 'o', 'ms'];\n\n\t\tfor (i = 0; i < prefixes.length && !fn; i++) {\n\t\t\tfn = window[prefixes[i] + name];\n\t\t}\n\n\t\treturn fn;\n\t}\n\n\tvar lastTime = 0;\n\n\tfunction timeoutDefer(fn) {\n\t\tvar time = +new Date(),\n\t\t    timeToCall = Math.max(0, 16 - (time - lastTime));\n\n\t\tlastTime = time + timeToCall;\n\t\treturn window.setTimeout(fn, timeToCall);\n\t}\n\n\tvar requestFn = window.requestAnimationFrame ||\n\t        getPrefixed('RequestAnimationFrame') || timeoutDefer;\n\n\tvar cancelFn = window.cancelAnimationFrame ||\n\t        getPrefixed('CancelAnimationFrame') ||\n\t        getPrefixed('CancelRequestAnimationFrame') ||\n\t        function (id) { window.clearTimeout(id); };\n\n\n\tL.Util.requestAnimFrame = function (fn, context, immediate, element) {\n\t\tfn = L.bind(fn, context);\n\n\t\tif (immediate && requestFn === timeoutDefer) {\n\t\t\tfn();\n\t\t} else {\n\t\t\treturn requestFn.call(window, fn, element);\n\t\t}\n\t};\n\n\tL.Util.cancelAnimFrame = function (id) {\n\t\tif (id) {\n\t\t\tcancelFn.call(window, id);\n\t\t}\n\t};\n\n}());\n\n// shortcuts for most used utility functions\nL.extend = L.Util.extend;\nL.bind = L.Util.bind;\nL.stamp = L.Util.stamp;\nL.setOptions = L.Util.setOptions;\n\n\n/*\n * L.Class powers the OOP facilities of the library.\n * Thanks to John Resig and Dean Edwards for inspiration!\n */\n\nL.Class = function () {};\n\nL.Class.extend = function (props) {\n\n\t// extended class with the new prototype\n\tvar NewClass = function () {\n\n\t\t// call the constructor\n\t\tif (this.initialize) {\n\t\t\tthis.initialize.apply(this, arguments);\n\t\t}\n\n\t\t// call all constructor hooks\n\t\tif (this._initHooks) {\n\t\t\tthis.callInitHooks();\n\t\t}\n\t};\n\n\t// instantiate class without calling constructor\n\tvar F = function () {};\n\tF.prototype = this.prototype;\n\n\tvar proto = new F();\n\tproto.constructor = NewClass;\n\n\tNewClass.prototype = proto;\n\n\t//inherit parent's statics\n\tfor (var i in this) {\n\t\tif (this.hasOwnProperty(i) && i !== 'prototype') {\n\t\t\tNewClass[i] = this[i];\n\t\t}\n\t}\n\n\t// mix static properties into the class\n\tif (props.statics) {\n\t\tL.extend(NewClass, props.statics);\n\t\tdelete props.statics;\n\t}\n\n\t// mix includes into the prototype\n\tif (props.includes) {\n\t\tL.Util.extend.apply(null, [proto].concat(props.includes));\n\t\tdelete props.includes;\n\t}\n\n\t// merge options\n\tif (props.options && proto.options) {\n\t\tprops.options = L.extend({}, proto.options, props.options);\n\t}\n\n\t// mix given properties into the prototype\n\tL.extend(proto, props);\n\n\tproto._initHooks = [];\n\n\tvar parent = this;\n\t// jshint camelcase: false\n\tNewClass.__super__ = parent.prototype;\n\n\t// add method for calling all hooks\n\tproto.callInitHooks = function () {\n\n\t\tif (this._initHooksCalled) { return; }\n\n\t\tif (parent.prototype.callInitHooks) {\n\t\t\tparent.prototype.callInitHooks.call(this);\n\t\t}\n\n\t\tthis._initHooksCalled = true;\n\n\t\tfor (var i = 0, len = proto._initHooks.length; i < len; i++) {\n\t\t\tproto._initHooks[i].call(this);\n\t\t}\n\t};\n\n\treturn NewClass;\n};\n\n\n// method for adding properties to prototype\nL.Class.include = function (props) {\n\tL.extend(this.prototype, props);\n};\n\n// merge new default options to the Class\nL.Class.mergeOptions = function (options) {\n\tL.extend(this.prototype.options, options);\n};\n\n// add a constructor hook\nL.Class.addInitHook = function (fn) { // (Function) || (String, args...)\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\tvar init = typeof fn === 'function' ? fn : function () {\n\t\tthis[fn].apply(this, args);\n\t};\n\n\tthis.prototype._initHooks = this.prototype._initHooks || [];\n\tthis.prototype._initHooks.push(init);\n};\n\n\n/*\n * L.Mixin.Events is used to add custom events functionality to Leaflet classes.\n */\n\nvar eventsKey = '_leaflet_events';\n\nL.Mixin = {};\n\nL.Mixin.Events = {\n\n\taddEventListener: function (types, fn, context) { // (String, Function[, Object]) or (Object[, Object])\n\n\t\t// types can be a map of types/handlers\n\t\tif (L.Util.invokeEach(types, this.addEventListener, this, fn, context)) { return this; }\n\n\t\tvar events = this[eventsKey] = this[eventsKey] || {},\n\t\t    contextId = context && context !== this && L.stamp(context),\n\t\t    i, len, event, type, indexKey, indexLenKey, typeIndex;\n\n\t\t// types can be a string of space-separated words\n\t\ttypes = L.Util.splitWords(types);\n\n\t\tfor (i = 0, len = types.length; i < len; i++) {\n\t\t\tevent = {\n\t\t\t\taction: fn,\n\t\t\t\tcontext: context || this\n\t\t\t};\n\t\t\ttype = types[i];\n\n\t\t\tif (contextId) {\n\t\t\t\t// store listeners of a particular context in a separate hash (if it has an id)\n\t\t\t\t// gives a major performance boost when removing thousands of map layers\n\n\t\t\t\tindexKey = type + '_idx';\n\t\t\t\tindexLenKey = indexKey + '_len';\n\n\t\t\t\ttypeIndex = events[indexKey] = events[indexKey] || {};\n\n\t\t\t\tif (!typeIndex[contextId]) {\n\t\t\t\t\ttypeIndex[contextId] = [];\n\n\t\t\t\t\t// keep track of the number of keys in the index to quickly check if it's empty\n\t\t\t\t\tevents[indexLenKey] = (events[indexLenKey] || 0) + 1;\n\t\t\t\t}\n\n\t\t\t\ttypeIndex[contextId].push(event);\n\n\n\t\t\t} else {\n\t\t\t\tevents[type] = events[type] || [];\n\t\t\t\tevents[type].push(event);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\thasEventListeners: function (type) { // (String) -> Boolean\n\t\tvar events = this[eventsKey];\n\t\treturn !!events && ((type in events && events[type].length > 0) ||\n\t\t                    (type + '_idx' in events && events[type + '_idx_len'] > 0));\n\t},\n\n\tremoveEventListener: function (types, fn, context) { // ([String, Function, Object]) or (Object[, Object])\n\n\t\tif (!this[eventsKey]) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (!types) {\n\t\t\treturn this.clearAllEventListeners();\n\t\t}\n\n\t\tif (L.Util.invokeEach(types, this.removeEventListener, this, fn, context)) { return this; }\n\n\t\tvar events = this[eventsKey],\n\t\t    contextId = context && context !== this && L.stamp(context),\n\t\t    i, len, type, listeners, j, indexKey, indexLenKey, typeIndex, removed;\n\n\t\ttypes = L.Util.splitWords(types);\n\n\t\tfor (i = 0, len = types.length; i < len; i++) {\n\t\t\ttype = types[i];\n\t\t\tindexKey = type + '_idx';\n\t\t\tindexLenKey = indexKey + '_len';\n\n\t\t\ttypeIndex = events[indexKey];\n\n\t\t\tif (!fn) {\n\t\t\t\t// clear all listeners for a type if function isn't specified\n\t\t\t\tdelete events[type];\n\t\t\t\tdelete events[indexKey];\n\t\t\t\tdelete events[indexLenKey];\n\n\t\t\t} else {\n\t\t\t\tlisteners = contextId && typeIndex ? typeIndex[contextId] : events[type];\n\n\t\t\t\tif (listeners) {\n\t\t\t\t\tfor (j = listeners.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif ((listeners[j].action === fn) && (!context || (listeners[j].context === context))) {\n\t\t\t\t\t\t\tremoved = listeners.splice(j, 1);\n\t\t\t\t\t\t\t// set the old action to a no-op, because it is possible\n\t\t\t\t\t\t\t// that the listener is being iterated over as part of a dispatch\n\t\t\t\t\t\t\tremoved[0].action = L.Util.falseFn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (context && typeIndex && (listeners.length === 0)) {\n\t\t\t\t\t\tdelete typeIndex[contextId];\n\t\t\t\t\t\tevents[indexLenKey]--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclearAllEventListeners: function () {\n\t\tdelete this[eventsKey];\n\t\treturn this;\n\t},\n\n\tfireEvent: function (type, data) { // (String[, Object])\n\t\tif (!this.hasEventListeners(type)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tvar event = L.Util.extend({}, data, { type: type, target: this });\n\n\t\tvar events = this[eventsKey],\n\t\t    listeners, i, len, typeIndex, contextId;\n\n\t\tif (events[type]) {\n\t\t\t// make sure adding/removing listeners inside other listeners won't cause infinite loop\n\t\t\tlisteners = events[type].slice();\n\n\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\n\t\t\t\tlisteners[i].action.call(listeners[i].context, event);\n\t\t\t}\n\t\t}\n\n\t\t// fire event for the context-indexed listeners as well\n\t\ttypeIndex = events[type + '_idx'];\n\n\t\tfor (contextId in typeIndex) {\n\t\t\tlisteners = typeIndex[contextId].slice();\n\n\t\t\tif (listeners) {\n\t\t\t\tfor (i = 0, len = listeners.length; i < len; i++) {\n\t\t\t\t\tlisteners[i].action.call(listeners[i].context, event);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\taddOneTimeEventListener: function (types, fn, context) {\n\n\t\tif (L.Util.invokeEach(types, this.addOneTimeEventListener, this, fn, context)) { return this; }\n\n\t\tvar handler = L.bind(function () {\n\t\t\tthis\n\t\t\t    .removeEventListener(types, fn, context)\n\t\t\t    .removeEventListener(types, handler, context);\n\t\t}, this);\n\n\t\treturn this\n\t\t    .addEventListener(types, fn, context)\n\t\t    .addEventListener(types, handler, context);\n\t}\n};\n\nL.Mixin.Events.on = L.Mixin.Events.addEventListener;\nL.Mixin.Events.off = L.Mixin.Events.removeEventListener;\nL.Mixin.Events.once = L.Mixin.Events.addOneTimeEventListener;\nL.Mixin.Events.fire = L.Mixin.Events.fireEvent;\n\n\n/*\n * L.Browser handles different browser and feature detections for internal Leaflet use.\n */\n\n(function () {\n\n\tvar ie = 'ActiveXObject' in window,\n\t\tielt9 = ie && !document.addEventListener,\n\n\t    // terrible browser detection to work around Safari / iOS / Android browser bugs\n\t    ua = navigator.userAgent.toLowerCase(),\n\t    webkit = ua.indexOf('webkit') !== -1,\n\t    chrome = ua.indexOf('chrome') !== -1,\n\t    phantomjs = ua.indexOf('phantom') !== -1,\n\t    android = ua.indexOf('android') !== -1,\n\t    android23 = ua.search('android [23]') !== -1,\n\t\tgecko = ua.indexOf('gecko') !== -1,\n\n\t    mobile = typeof orientation !== undefined + '',\n\t    msPointer = window.navigator && window.navigator.msPointerEnabled &&\n\t              window.navigator.msMaxTouchPoints && !window.PointerEvent,\n\t\tpointer = (window.PointerEvent && window.navigator.pointerEnabled && window.navigator.maxTouchPoints) ||\n\t\t\t\t  msPointer,\n\t    retina = ('devicePixelRatio' in window && window.devicePixelRatio > 1) ||\n\t             ('matchMedia' in window && window.matchMedia('(min-resolution:144dpi)') &&\n\t              window.matchMedia('(min-resolution:144dpi)').matches),\n\n\t    doc = document.documentElement,\n\t    ie3d = ie && ('transition' in doc.style),\n\t    webkit3d = ('WebKitCSSMatrix' in window) && ('m11' in new window.WebKitCSSMatrix()) && !android23,\n\t    gecko3d = 'MozPerspective' in doc.style,\n\t    opera3d = 'OTransition' in doc.style,\n\t    any3d = !window.L_DISABLE_3D && (ie3d || webkit3d || gecko3d || opera3d) && !phantomjs;\n\n\n\t// PhantomJS has 'ontouchstart' in document.documentElement, but doesn't actually support touch.\n\t// https://github.com/Leaflet/Leaflet/pull/1434#issuecomment-13843151\n\n\tvar touch = !window.L_NO_TOUCH && !phantomjs && (function () {\n\n\t\tvar startName = 'ontouchstart';\n\n\t\t// IE10+ (We simulate these into touch* events in L.DomEvent and L.DomEvent.Pointer) or WebKit, etc.\n\t\tif (pointer || (startName in doc)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Firefox/Gecko\n\t\tvar div = document.createElement('div'),\n\t\t    supported = false;\n\n\t\tif (!div.setAttribute) {\n\t\t\treturn false;\n\t\t}\n\t\tdiv.setAttribute(startName, 'return;');\n\n\t\tif (typeof div[startName] === 'function') {\n\t\t\tsupported = true;\n\t\t}\n\n\t\tdiv.removeAttribute(startName);\n\t\tdiv = null;\n\n\t\treturn supported;\n\t}());\n\n\n\tL.Browser = {\n\t\tie: ie,\n\t\tielt9: ielt9,\n\t\twebkit: webkit,\n\t\tgecko: gecko && !webkit && !window.opera && !ie,\n\n\t\tandroid: android,\n\t\tandroid23: android23,\n\n\t\tchrome: chrome,\n\n\t\tie3d: ie3d,\n\t\twebkit3d: webkit3d,\n\t\tgecko3d: gecko3d,\n\t\topera3d: opera3d,\n\t\tany3d: any3d,\n\n\t\tmobile: mobile,\n\t\tmobileWebkit: mobile && webkit,\n\t\tmobileWebkit3d: mobile && webkit3d,\n\t\tmobileOpera: mobile && window.opera,\n\n\t\ttouch: touch,\n\t\tmsPointer: msPointer,\n\t\tpointer: pointer,\n\n\t\tretina: retina\n\t};\n\n}());\n\n\n/*\n * L.Point represents a point with x and y coordinates.\n */\n\nL.Point = function (/*Number*/ x, /*Number*/ y, /*Boolean*/ round) {\n\tthis.x = (round ? Math.round(x) : x);\n\tthis.y = (round ? Math.round(y) : y);\n};\n\nL.Point.prototype = {\n\n\tclone: function () {\n\t\treturn new L.Point(this.x, this.y);\n\t},\n\n\t// non-destructive, returns a new point\n\tadd: function (point) {\n\t\treturn this.clone()._add(L.point(point));\n\t},\n\n\t// destructive, used directly for performance in situations where it's safe to modify existing point\n\t_add: function (point) {\n\t\tthis.x += point.x;\n\t\tthis.y += point.y;\n\t\treturn this;\n\t},\n\n\tsubtract: function (point) {\n\t\treturn this.clone()._subtract(L.point(point));\n\t},\n\n\t_subtract: function (point) {\n\t\tthis.x -= point.x;\n\t\tthis.y -= point.y;\n\t\treturn this;\n\t},\n\n\tdivideBy: function (num) {\n\t\treturn this.clone()._divideBy(num);\n\t},\n\n\t_divideBy: function (num) {\n\t\tthis.x /= num;\n\t\tthis.y /= num;\n\t\treturn this;\n\t},\n\n\tmultiplyBy: function (num) {\n\t\treturn this.clone()._multiplyBy(num);\n\t},\n\n\t_multiplyBy: function (num) {\n\t\tthis.x *= num;\n\t\tthis.y *= num;\n\t\treturn this;\n\t},\n\n\tround: function () {\n\t\treturn this.clone()._round();\n\t},\n\n\t_round: function () {\n\t\tthis.x = Math.round(this.x);\n\t\tthis.y = Math.round(this.y);\n\t\treturn this;\n\t},\n\n\tfloor: function () {\n\t\treturn this.clone()._floor();\n\t},\n\n\t_floor: function () {\n\t\tthis.x = Math.floor(this.x);\n\t\tthis.y = Math.floor(this.y);\n\t\treturn this;\n\t},\n\n\tdistanceTo: function (point) {\n\t\tpoint = L.point(point);\n\n\t\tvar x = point.x - this.x,\n\t\t    y = point.y - this.y;\n\n\t\treturn Math.sqrt(x * x + y * y);\n\t},\n\n\tequals: function (point) {\n\t\tpoint = L.point(point);\n\n\t\treturn point.x === this.x &&\n\t\t       point.y === this.y;\n\t},\n\n\tcontains: function (point) {\n\t\tpoint = L.point(point);\n\n\t\treturn Math.abs(point.x) <= Math.abs(this.x) &&\n\t\t       Math.abs(point.y) <= Math.abs(this.y);\n\t},\n\n\ttoString: function () {\n\t\treturn 'Point(' +\n\t\t        L.Util.formatNum(this.x) + ', ' +\n\t\t        L.Util.formatNum(this.y) + ')';\n\t}\n};\n\nL.point = function (x, y, round) {\n\tif (x instanceof L.Point) {\n\t\treturn x;\n\t}\n\tif (L.Util.isArray(x)) {\n\t\treturn new L.Point(x[0], x[1]);\n\t}\n\tif (x === undefined || x === null) {\n\t\treturn x;\n\t}\n\treturn new L.Point(x, y, round);\n};\n\n\n/*\n * L.Bounds represents a rectangular area on the screen in pixel coordinates.\n */\n\nL.Bounds = function (a, b) { //(Point, Point) or Point[]\n\tif (!a) { return; }\n\n\tvar points = b ? [a, b] : a;\n\n\tfor (var i = 0, len = points.length; i < len; i++) {\n\t\tthis.extend(points[i]);\n\t}\n};\n\nL.Bounds.prototype = {\n\t// extend the bounds to contain the given point\n\textend: function (point) { // (Point)\n\t\tpoint = L.point(point);\n\n\t\tif (!this.min && !this.max) {\n\t\t\tthis.min = point.clone();\n\t\t\tthis.max = point.clone();\n\t\t} else {\n\t\t\tthis.min.x = Math.min(point.x, this.min.x);\n\t\t\tthis.max.x = Math.max(point.x, this.max.x);\n\t\t\tthis.min.y = Math.min(point.y, this.min.y);\n\t\t\tthis.max.y = Math.max(point.y, this.max.y);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetCenter: function (round) { // (Boolean) -> Point\n\t\treturn new L.Point(\n\t\t        (this.min.x + this.max.x) / 2,\n\t\t        (this.min.y + this.max.y) / 2, round);\n\t},\n\n\tgetBottomLeft: function () { // -> Point\n\t\treturn new L.Point(this.min.x, this.max.y);\n\t},\n\n\tgetTopRight: function () { // -> Point\n\t\treturn new L.Point(this.max.x, this.min.y);\n\t},\n\n\tgetSize: function () {\n\t\treturn this.max.subtract(this.min);\n\t},\n\n\tcontains: function (obj) { // (Bounds) or (Point) -> Boolean\n\t\tvar min, max;\n\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.Point) {\n\t\t\tobj = L.point(obj);\n\t\t} else {\n\t\t\tobj = L.bounds(obj);\n\t\t}\n\n\t\tif (obj instanceof L.Bounds) {\n\t\t\tmin = obj.min;\n\t\t\tmax = obj.max;\n\t\t} else {\n\t\t\tmin = max = obj;\n\t\t}\n\n\t\treturn (min.x >= this.min.x) &&\n\t\t       (max.x <= this.max.x) &&\n\t\t       (min.y >= this.min.y) &&\n\t\t       (max.y <= this.max.y);\n\t},\n\n\tintersects: function (bounds) { // (Bounds) -> Boolean\n\t\tbounds = L.bounds(bounds);\n\n\t\tvar min = this.min,\n\t\t    max = this.max,\n\t\t    min2 = bounds.min,\n\t\t    max2 = bounds.max,\n\t\t    xIntersects = (max2.x >= min.x) && (min2.x <= max.x),\n\t\t    yIntersects = (max2.y >= min.y) && (min2.y <= max.y);\n\n\t\treturn xIntersects && yIntersects;\n\t},\n\n\tisValid: function () {\n\t\treturn !!(this.min && this.max);\n\t}\n};\n\nL.bounds = function (a, b) { // (Bounds) or (Point, Point) or (Point[])\n\tif (!a || a instanceof L.Bounds) {\n\t\treturn a;\n\t}\n\treturn new L.Bounds(a, b);\n};\n\n\n/*\n * L.Transformation is an utility class to perform simple point transformations through a 2d-matrix.\n */\n\nL.Transformation = function (a, b, c, d) {\n\tthis._a = a;\n\tthis._b = b;\n\tthis._c = c;\n\tthis._d = d;\n};\n\nL.Transformation.prototype = {\n\ttransform: function (point, scale) { // (Point, Number) -> Point\n\t\treturn this._transform(point.clone(), scale);\n\t},\n\n\t// destructive transform (faster)\n\t_transform: function (point, scale) {\n\t\tscale = scale || 1;\n\t\tpoint.x = scale * (this._a * point.x + this._b);\n\t\tpoint.y = scale * (this._c * point.y + this._d);\n\t\treturn point;\n\t},\n\n\tuntransform: function (point, scale) {\n\t\tscale = scale || 1;\n\t\treturn new L.Point(\n\t\t        (point.x / scale - this._b) / this._a,\n\t\t        (point.y / scale - this._d) / this._c);\n\t}\n};\n\n\n/*\n * L.DomUtil contains various utility functions for working with DOM.\n */\n\nL.DomUtil = {\n\tget: function (id) {\n\t\treturn (typeof id === 'string' ? document.getElementById(id) : id);\n\t},\n\n\tgetStyle: function (el, style) {\n\n\t\tvar value = el.style[style];\n\n\t\tif (!value && el.currentStyle) {\n\t\t\tvalue = el.currentStyle[style];\n\t\t}\n\n\t\tif ((!value || value === 'auto') && document.defaultView) {\n\t\t\tvar css = document.defaultView.getComputedStyle(el, null);\n\t\t\tvalue = css ? css[style] : null;\n\t\t}\n\n\t\treturn value === 'auto' ? null : value;\n\t},\n\n\tgetViewportOffset: function (element) {\n\n\t\tvar top = 0,\n\t\t    left = 0,\n\t\t    el = element,\n\t\t    docBody = document.body,\n\t\t    docEl = document.documentElement,\n\t\t    pos;\n\n\t\tdo {\n\t\t\ttop  += el.offsetTop  || 0;\n\t\t\tleft += el.offsetLeft || 0;\n\n\t\t\t//add borders\n\t\t\ttop += parseInt(L.DomUtil.getStyle(el, 'borderTopWidth'), 10) || 0;\n\t\t\tleft += parseInt(L.DomUtil.getStyle(el, 'borderLeftWidth'), 10) || 0;\n\n\t\t\tpos = L.DomUtil.getStyle(el, 'position');\n\n\t\t\tif (el.offsetParent === docBody && pos === 'absolute') { break; }\n\n\t\t\tif (pos === 'fixed') {\n\t\t\t\ttop  += docBody.scrollTop  || docEl.scrollTop  || 0;\n\t\t\t\tleft += docBody.scrollLeft || docEl.scrollLeft || 0;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (pos === 'relative' && !el.offsetLeft) {\n\t\t\t\tvar width = L.DomUtil.getStyle(el, 'width'),\n\t\t\t\t    maxWidth = L.DomUtil.getStyle(el, 'max-width'),\n\t\t\t\t    r = el.getBoundingClientRect();\n\n\t\t\t\tif (width !== 'none' || maxWidth !== 'none') {\n\t\t\t\t\tleft += r.left + el.clientLeft;\n\t\t\t\t}\n\n\t\t\t\t//calculate full y offset since we're breaking out of the loop\n\t\t\t\ttop += r.top + (docBody.scrollTop  || docEl.scrollTop  || 0);\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tel = el.offsetParent;\n\n\t\t} while (el);\n\n\t\tel = element;\n\n\t\tdo {\n\t\t\tif (el === docBody) { break; }\n\n\t\t\ttop  -= el.scrollTop  || 0;\n\t\t\tleft -= el.scrollLeft || 0;\n\n\t\t\tel = el.parentNode;\n\t\t} while (el);\n\n\t\treturn new L.Point(left, top);\n\t},\n\n\tdocumentIsLtr: function () {\n\t\tif (!L.DomUtil._docIsLtrCached) {\n\t\t\tL.DomUtil._docIsLtrCached = true;\n\t\t\tL.DomUtil._docIsLtr = L.DomUtil.getStyle(document.body, 'direction') === 'ltr';\n\t\t}\n\t\treturn L.DomUtil._docIsLtr;\n\t},\n\n\tcreate: function (tagName, className, container) {\n\n\t\tvar el = document.createElement(tagName);\n\t\tel.className = className;\n\n\t\tif (container) {\n\t\t\tcontainer.appendChild(el);\n\t\t}\n\n\t\treturn el;\n\t},\n\n\thasClass: function (el, name) {\n\t\tif (el.classList !== undefined) {\n\t\t\treturn el.classList.contains(name);\n\t\t}\n\t\tvar className = L.DomUtil._getClass(el);\n\t\treturn className.length > 0 && new RegExp('(^|\\\\s)' + name + '(\\\\s|$)').test(className);\n\t},\n\n\taddClass: function (el, name) {\n\t\tif (el.classList !== undefined) {\n\t\t\tvar classes = L.Util.splitWords(name);\n\t\t\tfor (var i = 0, len = classes.length; i < len; i++) {\n\t\t\t\tel.classList.add(classes[i]);\n\t\t\t}\n\t\t} else if (!L.DomUtil.hasClass(el, name)) {\n\t\t\tvar className = L.DomUtil._getClass(el);\n\t\t\tL.DomUtil._setClass(el, (className ? className + ' ' : '') + name);\n\t\t}\n\t},\n\n\tremoveClass: function (el, name) {\n\t\tif (el.classList !== undefined) {\n\t\t\tel.classList.remove(name);\n\t\t} else {\n\t\t\tL.DomUtil._setClass(el, L.Util.trim((' ' + L.DomUtil._getClass(el) + ' ').replace(' ' + name + ' ', ' ')));\n\t\t}\n\t},\n\n\t_setClass: function (el, name) {\n\t\tif (el.className.baseVal === undefined) {\n\t\t\tel.className = name;\n\t\t} else {\n\t\t\t// in case of SVG element\n\t\t\tel.className.baseVal = name;\n\t\t}\n\t},\n\n\t_getClass: function (el) {\n\t\treturn el.className.baseVal === undefined ? el.className : el.className.baseVal;\n\t},\n\n\tsetOpacity: function (el, value) {\n\n\t\tif ('opacity' in el.style) {\n\t\t\tel.style.opacity = value;\n\n\t\t} else if ('filter' in el.style) {\n\n\t\t\tvar filter = false,\n\t\t\t    filterName = 'DXImageTransform.Microsoft.Alpha';\n\n\t\t\t// filters collection throws an error if we try to retrieve a filter that doesn't exist\n\t\t\ttry {\n\t\t\t\tfilter = el.filters.item(filterName);\n\t\t\t} catch (e) {\n\t\t\t\t// don't set opacity to 1 if we haven't already set an opacity,\n\t\t\t\t// it isn't needed and breaks transparent pngs.\n\t\t\t\tif (value === 1) { return; }\n\t\t\t}\n\n\t\t\tvalue = Math.round(value * 100);\n\n\t\t\tif (filter) {\n\t\t\t\tfilter.Enabled = (value !== 100);\n\t\t\t\tfilter.Opacity = value;\n\t\t\t} else {\n\t\t\t\tel.style.filter += ' progid:' + filterName + '(opacity=' + value + ')';\n\t\t\t}\n\t\t}\n\t},\n\n\ttestProp: function (props) {\n\n\t\tvar style = document.documentElement.style;\n\n\t\tfor (var i = 0; i < props.length; i++) {\n\t\t\tif (props[i] in style) {\n\t\t\t\treturn props[i];\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tgetTranslateString: function (point) {\n\t\t// on WebKit browsers (Chrome/Safari/iOS Safari/Android) using translate3d instead of translate\n\t\t// makes animation smoother as it ensures HW accel is used. Firefox 13 doesn't care\n\t\t// (same speed either way), Opera 12 doesn't support translate3d\n\n\t\tvar is3d = L.Browser.webkit3d,\n\t\t    open = 'translate' + (is3d ? '3d' : '') + '(',\n\t\t    close = (is3d ? ',0' : '') + ')';\n\n\t\treturn open + point.x + 'px,' + point.y + 'px' + close;\n\t},\n\n\tgetScaleString: function (scale, origin) {\n\n\t\tvar preTranslateStr = L.DomUtil.getTranslateString(origin.add(origin.multiplyBy(-1 * scale))),\n\t\t    scaleStr = ' scale(' + scale + ') ';\n\n\t\treturn preTranslateStr + scaleStr;\n\t},\n\n\tsetPosition: function (el, point, disable3D) { // (HTMLElement, Point[, Boolean])\n\n\t\t// jshint camelcase: false\n\t\tel._leaflet_pos = point;\n\n\t\tif (!disable3D && L.Browser.any3d) {\n\t\t\tel.style[L.DomUtil.TRANSFORM] =  L.DomUtil.getTranslateString(point);\n\t\t} else {\n\t\t\tel.style.left = point.x + 'px';\n\t\t\tel.style.top = point.y + 'px';\n\t\t}\n\t},\n\n\tgetPosition: function (el) {\n\t\t// this method is only used for elements previously positioned using setPosition,\n\t\t// so it's safe to cache the position for performance\n\n\t\t// jshint camelcase: false\n\t\treturn el._leaflet_pos;\n\t}\n};\n\n\n// prefix style property names\n\nL.DomUtil.TRANSFORM = L.DomUtil.testProp(\n        ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform']);\n\n// webkitTransition comes first because some browser versions that drop vendor prefix don't do\n// the same for the transitionend event, in particular the Android 4.1 stock browser\n\nL.DomUtil.TRANSITION = L.DomUtil.testProp(\n        ['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition']);\n\nL.DomUtil.TRANSITION_END =\n        L.DomUtil.TRANSITION === 'webkitTransition' || L.DomUtil.TRANSITION === 'OTransition' ?\n        L.DomUtil.TRANSITION + 'End' : 'transitionend';\n\n(function () {\n    if ('onselectstart' in document) {\n        L.extend(L.DomUtil, {\n            disableTextSelection: function () {\n                L.DomEvent.on(window, 'selectstart', L.DomEvent.preventDefault);\n            },\n\n            enableTextSelection: function () {\n                L.DomEvent.off(window, 'selectstart', L.DomEvent.preventDefault);\n            }\n        });\n    } else {\n        var userSelectProperty = L.DomUtil.testProp(\n            ['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);\n\n        L.extend(L.DomUtil, {\n            disableTextSelection: function () {\n                if (userSelectProperty) {\n                    var style = document.documentElement.style;\n                    this._userSelect = style[userSelectProperty];\n                    style[userSelectProperty] = 'none';\n                }\n            },\n\n            enableTextSelection: function () {\n                if (userSelectProperty) {\n                    document.documentElement.style[userSelectProperty] = this._userSelect;\n                    delete this._userSelect;\n                }\n            }\n        });\n    }\n\n\tL.extend(L.DomUtil, {\n\t\tdisableImageDrag: function () {\n\t\t\tL.DomEvent.on(window, 'dragstart', L.DomEvent.preventDefault);\n\t\t},\n\n\t\tenableImageDrag: function () {\n\t\t\tL.DomEvent.off(window, 'dragstart', L.DomEvent.preventDefault);\n\t\t}\n\t});\n})();\n\n\n/*\n * L.LatLng represents a geographical point with latitude and longitude coordinates.\n */\n\nL.LatLng = function (lat, lng, alt) { // (Number, Number, Number)\n\tlat = parseFloat(lat);\n\tlng = parseFloat(lng);\n\n\tif (isNaN(lat) || isNaN(lng)) {\n\t\tthrow new Error('Invalid LatLng object: (' + lat + ', ' + lng + ')');\n\t}\n\n\tthis.lat = lat;\n\tthis.lng = lng;\n\n\tif (alt !== undefined) {\n\t\tthis.alt = parseFloat(alt);\n\t}\n};\n\nL.extend(L.LatLng, {\n\tDEG_TO_RAD: Math.PI / 180,\n\tRAD_TO_DEG: 180 / Math.PI,\n\tMAX_MARGIN: 1.0E-9 // max margin of error for the \"equals\" check\n});\n\nL.LatLng.prototype = {\n\tequals: function (obj) { // (LatLng) -> Boolean\n\t\tif (!obj) { return false; }\n\n\t\tobj = L.latLng(obj);\n\n\t\tvar margin = Math.max(\n\t\t        Math.abs(this.lat - obj.lat),\n\t\t        Math.abs(this.lng - obj.lng));\n\n\t\treturn margin <= L.LatLng.MAX_MARGIN;\n\t},\n\n\ttoString: function (precision) { // (Number) -> String\n\t\treturn 'LatLng(' +\n\t\t        L.Util.formatNum(this.lat, precision) + ', ' +\n\t\t        L.Util.formatNum(this.lng, precision) + ')';\n\t},\n\n\t// Haversine distance formula, see http://en.wikipedia.org/wiki/Haversine_formula\n\t// TODO move to projection code, LatLng shouldn't know about Earth\n\tdistanceTo: function (other) { // (LatLng) -> Number\n\t\tother = L.latLng(other);\n\n\t\tvar R = 6378137, // earth radius in meters\n\t\t    d2r = L.LatLng.DEG_TO_RAD,\n\t\t    dLat = (other.lat - this.lat) * d2r,\n\t\t    dLon = (other.lng - this.lng) * d2r,\n\t\t    lat1 = this.lat * d2r,\n\t\t    lat2 = other.lat * d2r,\n\t\t    sin1 = Math.sin(dLat / 2),\n\t\t    sin2 = Math.sin(dLon / 2);\n\n\t\tvar a = sin1 * sin1 + sin2 * sin2 * Math.cos(lat1) * Math.cos(lat2);\n\n\t\treturn R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\t},\n\n\twrap: function (a, b) { // (Number, Number) -> LatLng\n\t\tvar lng = this.lng;\n\n\t\ta = a || -180;\n\t\tb = b ||  180;\n\n\t\tlng = (lng + b) % (b - a) + (lng < a || lng === b ? b : a);\n\n\t\treturn new L.LatLng(this.lat, lng);\n\t}\n};\n\nL.latLng = function (a, b) { // (LatLng) or ([Number, Number]) or (Number, Number)\n\tif (a instanceof L.LatLng) {\n\t\treturn a;\n\t}\n\tif (L.Util.isArray(a)) {\n\t\tif (typeof a[0] === 'number' || typeof a[0] === 'string') {\n\t\t\treturn new L.LatLng(a[0], a[1], a[2]);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\tif (a === undefined || a === null) {\n\t\treturn a;\n\t}\n\tif (typeof a === 'object' && 'lat' in a) {\n\t\treturn new L.LatLng(a.lat, 'lng' in a ? a.lng : a.lon);\n\t}\n\tif (b === undefined) {\n\t\treturn null;\n\t}\n\treturn new L.LatLng(a, b);\n};\n\n\n\n/*\n * L.LatLngBounds represents a rectangular area on the map in geographical coordinates.\n */\n\nL.LatLngBounds = function (southWest, northEast) { // (LatLng, LatLng) or (LatLng[])\n\tif (!southWest) { return; }\n\n\tvar latlngs = northEast ? [southWest, northEast] : southWest;\n\n\tfor (var i = 0, len = latlngs.length; i < len; i++) {\n\t\tthis.extend(latlngs[i]);\n\t}\n};\n\nL.LatLngBounds.prototype = {\n\t// extend the bounds to contain the given point or bounds\n\textend: function (obj) { // (LatLng) or (LatLngBounds)\n\t\tif (!obj) { return this; }\n\n\t\tvar latLng = L.latLng(obj);\n\t\tif (latLng !== null) {\n\t\t\tobj = latLng;\n\t\t} else {\n\t\t\tobj = L.latLngBounds(obj);\n\t\t}\n\n\t\tif (obj instanceof L.LatLng) {\n\t\t\tif (!this._southWest && !this._northEast) {\n\t\t\t\tthis._southWest = new L.LatLng(obj.lat, obj.lng);\n\t\t\t\tthis._northEast = new L.LatLng(obj.lat, obj.lng);\n\t\t\t} else {\n\t\t\t\tthis._southWest.lat = Math.min(obj.lat, this._southWest.lat);\n\t\t\t\tthis._southWest.lng = Math.min(obj.lng, this._southWest.lng);\n\n\t\t\t\tthis._northEast.lat = Math.max(obj.lat, this._northEast.lat);\n\t\t\t\tthis._northEast.lng = Math.max(obj.lng, this._northEast.lng);\n\t\t\t}\n\t\t} else if (obj instanceof L.LatLngBounds) {\n\t\t\tthis.extend(obj._southWest);\n\t\t\tthis.extend(obj._northEast);\n\t\t}\n\t\treturn this;\n\t},\n\n\t// extend the bounds by a percentage\n\tpad: function (bufferRatio) { // (Number) -> LatLngBounds\n\t\tvar sw = this._southWest,\n\t\t    ne = this._northEast,\n\t\t    heightBuffer = Math.abs(sw.lat - ne.lat) * bufferRatio,\n\t\t    widthBuffer = Math.abs(sw.lng - ne.lng) * bufferRatio;\n\n\t\treturn new L.LatLngBounds(\n\t\t        new L.LatLng(sw.lat - heightBuffer, sw.lng - widthBuffer),\n\t\t        new L.LatLng(ne.lat + heightBuffer, ne.lng + widthBuffer));\n\t},\n\n\tgetCenter: function () { // -> LatLng\n\t\treturn new L.LatLng(\n\t\t        (this._southWest.lat + this._northEast.lat) / 2,\n\t\t        (this._southWest.lng + this._northEast.lng) / 2);\n\t},\n\n\tgetSouthWest: function () {\n\t\treturn this._southWest;\n\t},\n\n\tgetNorthEast: function () {\n\t\treturn this._northEast;\n\t},\n\n\tgetNorthWest: function () {\n\t\treturn new L.LatLng(this.getNorth(), this.getWest());\n\t},\n\n\tgetSouthEast: function () {\n\t\treturn new L.LatLng(this.getSouth(), this.getEast());\n\t},\n\n\tgetWest: function () {\n\t\treturn this._southWest.lng;\n\t},\n\n\tgetSouth: function () {\n\t\treturn this._southWest.lat;\n\t},\n\n\tgetEast: function () {\n\t\treturn this._northEast.lng;\n\t},\n\n\tgetNorth: function () {\n\t\treturn this._northEast.lat;\n\t},\n\n\tcontains: function (obj) { // (LatLngBounds) or (LatLng) -> Boolean\n\t\tif (typeof obj[0] === 'number' || obj instanceof L.LatLng) {\n\t\t\tobj = L.latLng(obj);\n\t\t} else {\n\t\t\tobj = L.latLngBounds(obj);\n\t\t}\n\n\t\tvar sw = this._southWest,\n\t\t    ne = this._northEast,\n\t\t    sw2, ne2;\n\n\t\tif (obj instanceof L.LatLngBounds) {\n\t\t\tsw2 = obj.getSouthWest();\n\t\t\tne2 = obj.getNorthEast();\n\t\t} else {\n\t\t\tsw2 = ne2 = obj;\n\t\t}\n\n\t\treturn (sw2.lat >= sw.lat) && (ne2.lat <= ne.lat) &&\n\t\t       (sw2.lng >= sw.lng) && (ne2.lng <= ne.lng);\n\t},\n\n\tintersects: function (bounds) { // (LatLngBounds)\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\tvar sw = this._southWest,\n\t\t    ne = this._northEast,\n\t\t    sw2 = bounds.getSouthWest(),\n\t\t    ne2 = bounds.getNorthEast(),\n\n\t\t    latIntersects = (ne2.lat >= sw.lat) && (sw2.lat <= ne.lat),\n\t\t    lngIntersects = (ne2.lng >= sw.lng) && (sw2.lng <= ne.lng);\n\n\t\treturn latIntersects && lngIntersects;\n\t},\n\n\ttoBBoxString: function () {\n\t\treturn [this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join(',');\n\t},\n\n\tequals: function (bounds) { // (LatLngBounds)\n\t\tif (!bounds) { return false; }\n\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\treturn this._southWest.equals(bounds.getSouthWest()) &&\n\t\t       this._northEast.equals(bounds.getNorthEast());\n\t},\n\n\tisValid: function () {\n\t\treturn !!(this._southWest && this._northEast);\n\t}\n};\n\n//TODO International date line?\n\nL.latLngBounds = function (a, b) { // (LatLngBounds) or (LatLng, LatLng)\n\tif (!a || a instanceof L.LatLngBounds) {\n\t\treturn a;\n\t}\n\treturn new L.LatLngBounds(a, b);\n};\n\n\n/*\n * L.Projection contains various geographical projections used by CRS classes.\n */\n\nL.Projection = {};\n\n\n/*\n * Spherical Mercator is the most popular map projection, used by EPSG:3857 CRS used by default.\n */\n\nL.Projection.SphericalMercator = {\n\tMAX_LATITUDE: 85.0511287798,\n\n\tproject: function (latlng) { // (LatLng) -> Point\n\t\tvar d = L.LatLng.DEG_TO_RAD,\n\t\t    max = this.MAX_LATITUDE,\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),\n\t\t    x = latlng.lng * d,\n\t\t    y = lat * d;\n\n\t\ty = Math.log(Math.tan((Math.PI / 4) + (y / 2)));\n\n\t\treturn new L.Point(x, y);\n\t},\n\n\tunproject: function (point) { // (Point, Boolean) -> LatLng\n\t\tvar d = L.LatLng.RAD_TO_DEG,\n\t\t    lng = point.x * d,\n\t\t    lat = (2 * Math.atan(Math.exp(point.y)) - (Math.PI / 2)) * d;\n\n\t\treturn new L.LatLng(lat, lng);\n\t}\n};\n\n\n/*\n * Simple equirectangular (Plate Carree) projection, used by CRS like EPSG:4326 and Simple.\n */\n\nL.Projection.LonLat = {\n\tproject: function (latlng) {\n\t\treturn new L.Point(latlng.lng, latlng.lat);\n\t},\n\n\tunproject: function (point) {\n\t\treturn new L.LatLng(point.y, point.x);\n\t}\n};\n\n\n/*\n * L.CRS is a base object for all defined CRS (Coordinate Reference Systems) in Leaflet.\n */\n\nL.CRS = {\n\tlatLngToPoint: function (latlng, zoom) { // (LatLng, Number) -> Point\n\t\tvar projectedPoint = this.projection.project(latlng),\n\t\t    scale = this.scale(zoom);\n\n\t\treturn this.transformation._transform(projectedPoint, scale);\n\t},\n\n\tpointToLatLng: function (point, zoom) { // (Point, Number[, Boolean]) -> LatLng\n\t\tvar scale = this.scale(zoom),\n\t\t    untransformedPoint = this.transformation.untransform(point, scale);\n\n\t\treturn this.projection.unproject(untransformedPoint);\n\t},\n\n\tproject: function (latlng) {\n\t\treturn this.projection.project(latlng);\n\t},\n\n\tscale: function (zoom) {\n\t\treturn 256 * Math.pow(2, zoom);\n\t},\n\n\tgetSize: function (zoom) {\n\t\tvar s = this.scale(zoom);\n\t\treturn L.point(s, s);\n\t}\n};\n\n\n/*\n * A simple CRS that can be used for flat non-Earth maps like panoramas or game maps.\n */\n\nL.CRS.Simple = L.extend({}, L.CRS, {\n\tprojection: L.Projection.LonLat,\n\ttransformation: new L.Transformation(1, 0, -1, 0),\n\n\tscale: function (zoom) {\n\t\treturn Math.pow(2, zoom);\n\t}\n});\n\n\n/*\n * L.CRS.EPSG3857 (Spherical Mercator) is the most common CRS for web mapping\n * and is used by Leaflet by default.\n */\n\nL.CRS.EPSG3857 = L.extend({}, L.CRS, {\n\tcode: 'EPSG:3857',\n\n\tprojection: L.Projection.SphericalMercator,\n\ttransformation: new L.Transformation(0.5 / Math.PI, 0.5, -0.5 / Math.PI, 0.5),\n\n\tproject: function (latlng) { // (LatLng) -> Point\n\t\tvar projectedPoint = this.projection.project(latlng),\n\t\t    earthRadius = 6378137;\n\t\treturn projectedPoint.multiplyBy(earthRadius);\n\t}\n});\n\nL.CRS.EPSG900913 = L.extend({}, L.CRS.EPSG3857, {\n\tcode: 'EPSG:900913'\n});\n\n\n/*\n * L.CRS.EPSG4326 is a CRS popular among advanced GIS specialists.\n */\n\nL.CRS.EPSG4326 = L.extend({}, L.CRS, {\n\tcode: 'EPSG:4326',\n\n\tprojection: L.Projection.LonLat,\n\ttransformation: new L.Transformation(1 / 360, 0.5, -1 / 360, 0.5)\n});\n\n\n/*\n * L.Map is the central class of the API - it is used to create a map.\n */\n\nL.Map = L.Class.extend({\n\n\tincludes: L.Mixin.Events,\n\n\toptions: {\n\t\tcrs: L.CRS.EPSG3857,\n\n\t\t/*\n\t\tcenter: LatLng,\n\t\tzoom: Number,\n\t\tlayers: Array,\n\t\t*/\n\n\t\tfadeAnimation: L.DomUtil.TRANSITION && !L.Browser.android23,\n\t\ttrackResize: true,\n\t\tmarkerZoomAnimation: L.DomUtil.TRANSITION && L.Browser.any3d\n\t},\n\n\tinitialize: function (id, options) { // (HTMLElement or String, Object)\n\t\toptions = L.setOptions(this, options);\n\n\n\t\tthis._initContainer(id);\n\t\tthis._initLayout();\n\n\t\t// hack for https://github.com/Leaflet/Leaflet/issues/1980\n\t\tthis._onResize = L.bind(this._onResize, this);\n\n\t\tthis._initEvents();\n\n\t\tif (options.maxBounds) {\n\t\t\tthis.setMaxBounds(options.maxBounds);\n\t\t}\n\n\t\tif (options.center && options.zoom !== undefined) {\n\t\t\tthis.setView(L.latLng(options.center), options.zoom, {reset: true});\n\t\t}\n\n\t\tthis._handlers = [];\n\n\t\tthis._layers = {};\n\t\tthis._zoomBoundLayers = {};\n\t\tthis._tileLayersNum = 0;\n\n\t\tthis.callInitHooks();\n\n\t\tthis._addLayers(options.layers);\n\t},\n\n\n\t// public methods that modify map state\n\n\t// replaced by animation-powered implementation in Map.PanAnimation.js\n\tsetView: function (center, zoom) {\n\t\tzoom = zoom === undefined ? this.getZoom() : zoom;\n\t\tthis._resetView(L.latLng(center), this._limitZoom(zoom));\n\t\treturn this;\n\t},\n\n\tsetZoom: function (zoom, options) {\n\t\tif (!this._loaded) {\n\t\t\tthis._zoom = this._limitZoom(zoom);\n\t\t\treturn this;\n\t\t}\n\t\treturn this.setView(this.getCenter(), zoom, {zoom: options});\n\t},\n\n\tzoomIn: function (delta, options) {\n\t\treturn this.setZoom(this._zoom + (delta || 1), options);\n\t},\n\n\tzoomOut: function (delta, options) {\n\t\treturn this.setZoom(this._zoom - (delta || 1), options);\n\t},\n\n\tsetZoomAround: function (latlng, zoom, options) {\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t    viewHalf = this.getSize().divideBy(2),\n\t\t    containerPoint = latlng instanceof L.Point ? latlng : this.latLngToContainerPoint(latlng),\n\n\t\t    centerOffset = containerPoint.subtract(viewHalf).multiplyBy(1 - 1 / scale),\n\t\t    newCenter = this.containerPointToLatLng(viewHalf.add(centerOffset));\n\n\t\treturn this.setView(newCenter, zoom, {zoom: options});\n\t},\n\n\tfitBounds: function (bounds, options) {\n\n\t\toptions = options || {};\n\t\tbounds = bounds.getBounds ? bounds.getBounds() : L.latLngBounds(bounds);\n\n\t\tvar paddingTL = L.point(options.paddingTopLeft || options.padding || [0, 0]),\n\t\t    paddingBR = L.point(options.paddingBottomRight || options.padding || [0, 0]),\n\n\t\t    zoom = this.getBoundsZoom(bounds, false, paddingTL.add(paddingBR)),\n\t\t    paddingOffset = paddingBR.subtract(paddingTL).divideBy(2),\n\n\t\t    swPoint = this.project(bounds.getSouthWest(), zoom),\n\t\t    nePoint = this.project(bounds.getNorthEast(), zoom),\n\t\t    center = this.unproject(swPoint.add(nePoint).divideBy(2).add(paddingOffset), zoom);\n\n\t\tzoom = options && options.maxZoom ? Math.min(options.maxZoom, zoom) : zoom;\n\n\t\treturn this.setView(center, zoom, options);\n\t},\n\n\tfitWorld: function (options) {\n\t\treturn this.fitBounds([[-90, -180], [90, 180]], options);\n\t},\n\n\tpanTo: function (center, options) { // (LatLng)\n\t\treturn this.setView(center, this._zoom, {pan: options});\n\t},\n\n\tpanBy: function (offset) { // (Point)\n\t\t// replaced with animated panBy in Map.PanAnimation.js\n\t\tthis.fire('movestart');\n\n\t\tthis._rawPanBy(L.point(offset));\n\n\t\tthis.fire('move');\n\t\treturn this.fire('moveend');\n\t},\n\n\tsetMaxBounds: function (bounds) {\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\tthis.options.maxBounds = bounds;\n\n\t\tif (!bounds) {\n\t\t\treturn this.off('moveend', this._panInsideMaxBounds, this);\n\t\t}\n\n\t\tif (this._loaded) {\n\t\t\tthis._panInsideMaxBounds();\n\t\t}\n\n\t\treturn this.on('moveend', this._panInsideMaxBounds, this);\n\t},\n\n\tpanInsideBounds: function (bounds, options) {\n\t\tvar center = this.getCenter(),\n\t\t\tnewCenter = this._limitCenter(center, this._zoom, bounds);\n\n\t\tif (center.equals(newCenter)) { return this; }\n\n\t\treturn this.panTo(newCenter, options);\n\t},\n\n\taddLayer: function (layer) {\n\t\t// TODO method is too big, refactor\n\n\t\tvar id = L.stamp(layer);\n\n\t\tif (this._layers[id]) { return this; }\n\n\t\tthis._layers[id] = layer;\n\n\t\t// TODO getMaxZoom, getMinZoom in ILayer (instead of options)\n\t\tif (layer.options && (!isNaN(layer.options.maxZoom) || !isNaN(layer.options.minZoom))) {\n\t\t\tthis._zoomBoundLayers[id] = layer;\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\n\t\t// TODO looks ugly, refactor!!!\n\t\tif (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {\n\t\t\tthis._tileLayersNum++;\n\t\t\tthis._tileLayersToLoad++;\n\t\t\tlayer.on('load', this._onTileLayerLoad, this);\n\t\t}\n\n\t\tif (this._loaded) {\n\t\t\tthis._layerAdd(layer);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\n\t\tif (!this._layers[id]) { return this; }\n\n\t\tif (this._loaded) {\n\t\t\tlayer.onRemove(this);\n\t\t}\n\n\t\tdelete this._layers[id];\n\n\t\tif (this._loaded) {\n\t\t\tthis.fire('layerremove', {layer: layer});\n\t\t}\n\n\t\tif (this._zoomBoundLayers[id]) {\n\t\t\tdelete this._zoomBoundLayers[id];\n\t\t\tthis._updateZoomLevels();\n\t\t}\n\n\t\t// TODO looks ugly, refactor\n\t\tif (this.options.zoomAnimation && L.TileLayer && (layer instanceof L.TileLayer)) {\n\t\t\tthis._tileLayersNum--;\n\t\t\tthis._tileLayersToLoad--;\n\t\t\tlayer.off('load', this._onTileLayerLoad, this);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\thasLayer: function (layer) {\n\t\tif (!layer) { return false; }\n\n\t\treturn (L.stamp(layer) in this._layers);\n\t},\n\n\teachLayer: function (method, context) {\n\t\tfor (var i in this._layers) {\n\t\t\tmethod.call(context, this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\tinvalidateSize: function (options) {\n\t\tif (!this._loaded) { return this; }\n\n\t\toptions = L.extend({\n\t\t\tanimate: false,\n\t\t\tpan: true\n\t\t}, options === true ? {animate: true} : options);\n\n\t\tvar oldSize = this.getSize();\n\t\tthis._sizeChanged = true;\n\t\tthis._initialCenter = null;\n\n\t\tvar newSize = this.getSize(),\n\t\t    oldCenter = oldSize.divideBy(2).round(),\n\t\t    newCenter = newSize.divideBy(2).round(),\n\t\t    offset = oldCenter.subtract(newCenter);\n\n\t\tif (!offset.x && !offset.y) { return this; }\n\n\t\tif (options.animate && options.pan) {\n\t\t\tthis.panBy(offset);\n\n\t\t} else {\n\t\t\tif (options.pan) {\n\t\t\t\tthis._rawPanBy(offset);\n\t\t\t}\n\n\t\t\tthis.fire('move');\n\n\t\t\tif (options.debounceMoveend) {\n\t\t\t\tclearTimeout(this._sizeTimer);\n\t\t\t\tthis._sizeTimer = setTimeout(L.bind(this.fire, this, 'moveend'), 200);\n\t\t\t} else {\n\t\t\t\tthis.fire('moveend');\n\t\t\t}\n\t\t}\n\n\t\treturn this.fire('resize', {\n\t\t\toldSize: oldSize,\n\t\t\tnewSize: newSize\n\t\t});\n\t},\n\n\t// TODO handler.addTo\n\taddHandler: function (name, HandlerClass) {\n\t\tif (!HandlerClass) { return this; }\n\n\t\tvar handler = this[name] = new HandlerClass(this);\n\n\t\tthis._handlers.push(handler);\n\n\t\tif (this.options[name]) {\n\t\t\thandler.enable();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremove: function () {\n\t\tif (this._loaded) {\n\t\t\tthis.fire('unload');\n\t\t}\n\n\t\tthis._initEvents('off');\n\n\t\ttry {\n\t\t\t// throws error in IE6-8\n\t\t\tdelete this._container._leaflet;\n\t\t} catch (e) {\n\t\t\tthis._container._leaflet = undefined;\n\t\t}\n\n\t\tthis._clearPanes();\n\t\tif (this._clearControlPos) {\n\t\t\tthis._clearControlPos();\n\t\t}\n\n\t\tthis._clearHandlers();\n\n\t\treturn this;\n\t},\n\n\n\t// public methods for getting map state\n\n\tgetCenter: function () { // (Boolean) -> LatLng\n\t\tthis._checkIfLoaded();\n\n\t\tif (this._initialCenter && !this._moved()) {\n\t\t\treturn this._initialCenter;\n\t\t}\n\t\treturn this.layerPointToLatLng(this._getCenterLayerPoint());\n\t},\n\n\tgetZoom: function () {\n\t\treturn this._zoom;\n\t},\n\n\tgetBounds: function () {\n\t\tvar bounds = this.getPixelBounds(),\n\t\t    sw = this.unproject(bounds.getBottomLeft()),\n\t\t    ne = this.unproject(bounds.getTopRight());\n\n\t\treturn new L.LatLngBounds(sw, ne);\n\t},\n\n\tgetMinZoom: function () {\n\t\treturn this.options.minZoom === undefined ?\n\t\t\t(this._layersMinZoom === undefined ? 0 : this._layersMinZoom) :\n\t\t\tthis.options.minZoom;\n\t},\n\n\tgetMaxZoom: function () {\n\t\treturn this.options.maxZoom === undefined ?\n\t\t\t(this._layersMaxZoom === undefined ? Infinity : this._layersMaxZoom) :\n\t\t\tthis.options.maxZoom;\n\t},\n\n\tgetBoundsZoom: function (bounds, inside, padding) { // (LatLngBounds[, Boolean, Point]) -> Number\n\t\tbounds = L.latLngBounds(bounds);\n\n\t\tvar zoom = this.getMinZoom() - (inside ? 1 : 0),\n\t\t    maxZoom = this.getMaxZoom(),\n\t\t    size = this.getSize(),\n\n\t\t    nw = bounds.getNorthWest(),\n\t\t    se = bounds.getSouthEast(),\n\n\t\t    zoomNotFound = true,\n\t\t    boundsSize;\n\n\t\tpadding = L.point(padding || [0, 0]);\n\n\t\tdo {\n\t\t\tzoom++;\n\t\t\tboundsSize = this.project(se, zoom).subtract(this.project(nw, zoom)).add(padding);\n\t\t\tzoomNotFound = !inside ? size.contains(boundsSize) : boundsSize.x < size.x || boundsSize.y < size.y;\n\n\t\t} while (zoomNotFound && zoom <= maxZoom);\n\n\t\tif (zoomNotFound && inside) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn inside ? zoom : zoom - 1;\n\t},\n\n\tgetSize: function () {\n\t\tif (!this._size || this._sizeChanged) {\n\t\t\tthis._size = new L.Point(\n\t\t\t\tthis._container.clientWidth,\n\t\t\t\tthis._container.clientHeight);\n\n\t\t\tthis._sizeChanged = false;\n\t\t}\n\t\treturn this._size.clone();\n\t},\n\n\tgetPixelBounds: function () {\n\t\tvar topLeftPoint = this._getTopLeftPoint();\n\t\treturn new L.Bounds(topLeftPoint, topLeftPoint.add(this.getSize()));\n\t},\n\n\tgetPixelOrigin: function () {\n\t\tthis._checkIfLoaded();\n\t\treturn this._initialTopLeftPoint;\n\t},\n\n\tgetPanes: function () {\n\t\treturn this._panes;\n\t},\n\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\n\t// TODO replace with universal implementation after refactoring projections\n\n\tgetZoomScale: function (toZoom) {\n\t\tvar crs = this.options.crs;\n\t\treturn crs.scale(toZoom) / crs.scale(this._zoom);\n\t},\n\n\tgetScaleZoom: function (scale) {\n\t\treturn this._zoom + (Math.log(scale) / Math.LN2);\n\t},\n\n\n\t// conversion methods\n\n\tproject: function (latlng, zoom) { // (LatLng[, Number]) -> Point\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\n\t\treturn this.options.crs.latLngToPoint(L.latLng(latlng), zoom);\n\t},\n\n\tunproject: function (point, zoom) { // (Point[, Number]) -> LatLng\n\t\tzoom = zoom === undefined ? this._zoom : zoom;\n\t\treturn this.options.crs.pointToLatLng(L.point(point), zoom);\n\t},\n\n\tlayerPointToLatLng: function (point) { // (Point)\n\t\tvar projectedPoint = L.point(point).add(this.getPixelOrigin());\n\t\treturn this.unproject(projectedPoint);\n\t},\n\n\tlatLngToLayerPoint: function (latlng) { // (LatLng)\n\t\tvar projectedPoint = this.project(L.latLng(latlng))._round();\n\t\treturn projectedPoint._subtract(this.getPixelOrigin());\n\t},\n\n\tcontainerPointToLayerPoint: function (point) { // (Point)\n\t\treturn L.point(point).subtract(this._getMapPanePos());\n\t},\n\n\tlayerPointToContainerPoint: function (point) { // (Point)\n\t\treturn L.point(point).add(this._getMapPanePos());\n\t},\n\n\tcontainerPointToLatLng: function (point) {\n\t\tvar layerPoint = this.containerPointToLayerPoint(L.point(point));\n\t\treturn this.layerPointToLatLng(layerPoint);\n\t},\n\n\tlatLngToContainerPoint: function (latlng) {\n\t\treturn this.layerPointToContainerPoint(this.latLngToLayerPoint(L.latLng(latlng)));\n\t},\n\n\tmouseEventToContainerPoint: function (e) { // (MouseEvent)\n\t\treturn L.DomEvent.getMousePosition(e, this._container);\n\t},\n\n\tmouseEventToLayerPoint: function (e) { // (MouseEvent)\n\t\treturn this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e));\n\t},\n\n\tmouseEventToLatLng: function (e) { // (MouseEvent)\n\t\treturn this.layerPointToLatLng(this.mouseEventToLayerPoint(e));\n\t},\n\n\n\t// map initialization methods\n\n\t_initContainer: function (id) {\n\t\tvar container = this._container = L.DomUtil.get(id);\n\n\t\tif (!container) {\n\t\t\tthrow new Error('Map container not found.');\n\t\t} else if (container._leaflet) {\n\t\t\tthrow new Error('Map container is already initialized.');\n\t\t}\n\n\t\tcontainer._leaflet = true;\n\t},\n\n\t_initLayout: function () {\n\t\tvar container = this._container;\n\n\t\tL.DomUtil.addClass(container, 'leaflet-container' +\n\t\t\t(L.Browser.touch ? ' leaflet-touch' : '') +\n\t\t\t(L.Browser.retina ? ' leaflet-retina' : '') +\n\t\t\t(L.Browser.ielt9 ? ' leaflet-oldie' : '') +\n\t\t\t(this.options.fadeAnimation ? ' leaflet-fade-anim' : ''));\n\n\t\tvar position = L.DomUtil.getStyle(container, 'position');\n\n\t\tif (position !== 'absolute' && position !== 'relative' && position !== 'fixed') {\n\t\t\tcontainer.style.position = 'relative';\n\t\t}\n\n\t\tthis._initPanes();\n\n\t\tif (this._initControlPos) {\n\t\t\tthis._initControlPos();\n\t\t}\n\t},\n\n\t_initPanes: function () {\n\t\tvar panes = this._panes = {};\n\n\t\tthis._mapPane = panes.mapPane = this._createPane('leaflet-map-pane', this._container);\n\n\t\tthis._tilePane = panes.tilePane = this._createPane('leaflet-tile-pane', this._mapPane);\n\t\tpanes.objectsPane = this._createPane('leaflet-objects-pane', this._mapPane);\n\t\tpanes.shadowPane = this._createPane('leaflet-shadow-pane');\n\t\tpanes.overlayPane = this._createPane('leaflet-overlay-pane');\n\t\tpanes.markerPane = this._createPane('leaflet-marker-pane');\n\t\tpanes.popupPane = this._createPane('leaflet-popup-pane');\n\n\t\tvar zoomHide = ' leaflet-zoom-hide';\n\n\t\tif (!this.options.markerZoomAnimation) {\n\t\t\tL.DomUtil.addClass(panes.markerPane, zoomHide);\n\t\t\tL.DomUtil.addClass(panes.shadowPane, zoomHide);\n\t\t\tL.DomUtil.addClass(panes.popupPane, zoomHide);\n\t\t}\n\t},\n\n\t_createPane: function (className, container) {\n\t\treturn L.DomUtil.create('div', className, container || this._panes.objectsPane);\n\t},\n\n\t_clearPanes: function () {\n\t\tthis._container.removeChild(this._mapPane);\n\t},\n\n\t_addLayers: function (layers) {\n\t\tlayers = layers ? (L.Util.isArray(layers) ? layers : [layers]) : [];\n\n\t\tfor (var i = 0, len = layers.length; i < len; i++) {\n\t\t\tthis.addLayer(layers[i]);\n\t\t}\n\t},\n\n\n\t// private methods that modify map state\n\n\t_resetView: function (center, zoom, preserveMapOffset, afterZoomAnim) {\n\n\t\tvar zoomChanged = (this._zoom !== zoom);\n\n\t\tif (!afterZoomAnim) {\n\t\t\tthis.fire('movestart');\n\n\t\t\tif (zoomChanged) {\n\t\t\t\tthis.fire('zoomstart');\n\t\t\t}\n\t\t}\n\n\t\tthis._zoom = zoom;\n\t\tthis._initialCenter = center;\n\n\t\tthis._initialTopLeftPoint = this._getNewTopLeftPoint(center);\n\n\t\tif (!preserveMapOffset) {\n\t\t\tL.DomUtil.setPosition(this._mapPane, new L.Point(0, 0));\n\t\t} else {\n\t\t\tthis._initialTopLeftPoint._add(this._getMapPanePos());\n\t\t}\n\n\t\tthis._tileLayersToLoad = this._tileLayersNum;\n\n\t\tvar loading = !this._loaded;\n\t\tthis._loaded = true;\n\n\t\tthis.fire('viewreset', {hard: !preserveMapOffset});\n\n\t\tif (loading) {\n\t\t\tthis.fire('load');\n\t\t\tthis.eachLayer(this._layerAdd, this);\n\t\t}\n\n\t\tthis.fire('move');\n\n\t\tif (zoomChanged || afterZoomAnim) {\n\t\t\tthis.fire('zoomend');\n\t\t}\n\n\t\tthis.fire('moveend', {hard: !preserveMapOffset});\n\t},\n\n\t_rawPanBy: function (offset) {\n\t\tL.DomUtil.setPosition(this._mapPane, this._getMapPanePos().subtract(offset));\n\t},\n\n\t_getZoomSpan: function () {\n\t\treturn this.getMaxZoom() - this.getMinZoom();\n\t},\n\n\t_updateZoomLevels: function () {\n\t\tvar i,\n\t\t\tminZoom = Infinity,\n\t\t\tmaxZoom = -Infinity,\n\t\t\toldZoomSpan = this._getZoomSpan();\n\n\t\tfor (i in this._zoomBoundLayers) {\n\t\t\tvar layer = this._zoomBoundLayers[i];\n\t\t\tif (!isNaN(layer.options.minZoom)) {\n\t\t\t\tminZoom = Math.min(minZoom, layer.options.minZoom);\n\t\t\t}\n\t\t\tif (!isNaN(layer.options.maxZoom)) {\n\t\t\t\tmaxZoom = Math.max(maxZoom, layer.options.maxZoom);\n\t\t\t}\n\t\t}\n\n\t\tif (i === undefined) { // we have no tilelayers\n\t\t\tthis._layersMaxZoom = this._layersMinZoom = undefined;\n\t\t} else {\n\t\t\tthis._layersMaxZoom = maxZoom;\n\t\t\tthis._layersMinZoom = minZoom;\n\t\t}\n\n\t\tif (oldZoomSpan !== this._getZoomSpan()) {\n\t\t\tthis.fire('zoomlevelschange');\n\t\t}\n\t},\n\n\t_panInsideMaxBounds: function () {\n\t\tthis.panInsideBounds(this.options.maxBounds);\n\t},\n\n\t_checkIfLoaded: function () {\n\t\tif (!this._loaded) {\n\t\t\tthrow new Error('Set map center and zoom first.');\n\t\t}\n\t},\n\n\t// map events\n\n\t_initEvents: function (onOff) {\n\t\tif (!L.DomEvent) { return; }\n\n\t\tonOff = onOff || 'on';\n\n\t\tL.DomEvent[onOff](this._container, 'click', this._onMouseClick, this);\n\n\t\tvar events = ['dblclick', 'mousedown', 'mouseup', 'mouseenter',\n\t\t              'mouseleave', 'mousemove', 'contextmenu'],\n\t\t    i, len;\n\n\t\tfor (i = 0, len = events.length; i < len; i++) {\n\t\t\tL.DomEvent[onOff](this._container, events[i], this._fireMouseEvent, this);\n\t\t}\n\n\t\tif (this.options.trackResize) {\n\t\t\tL.DomEvent[onOff](window, 'resize', this._onResize, this);\n\t\t}\n\t},\n\n\t_onResize: function () {\n\t\tL.Util.cancelAnimFrame(this._resizeRequest);\n\t\tthis._resizeRequest = L.Util.requestAnimFrame(\n\t\t        function () { this.invalidateSize({debounceMoveend: true}); }, this, false, this._container);\n\t},\n\n\t_onMouseClick: function (e) {\n\t\tif (!this._loaded || (!e._simulated &&\n\t\t        ((this.dragging && this.dragging.moved()) ||\n\t\t         (this.boxZoom  && this.boxZoom.moved()))) ||\n\t\t            L.DomEvent._skipped(e)) { return; }\n\n\t\tthis.fire('preclick');\n\t\tthis._fireMouseEvent(e);\n\t},\n\n\t_fireMouseEvent: function (e) {\n\t\tif (!this._loaded || L.DomEvent._skipped(e)) { return; }\n\n\t\tvar type = e.type;\n\n\t\ttype = (type === 'mouseenter' ? 'mouseover' : (type === 'mouseleave' ? 'mouseout' : type));\n\n\t\tif (!this.hasEventListeners(type)) { return; }\n\n\t\tif (type === 'contextmenu') {\n\t\t\tL.DomEvent.preventDefault(e);\n\t\t}\n\n\t\tvar containerPoint = this.mouseEventToContainerPoint(e),\n\t\t    layerPoint = this.containerPointToLayerPoint(containerPoint),\n\t\t    latlng = this.layerPointToLatLng(layerPoint);\n\n\t\tthis.fire(type, {\n\t\t\tlatlng: latlng,\n\t\t\tlayerPoint: layerPoint,\n\t\t\tcontainerPoint: containerPoint,\n\t\t\toriginalEvent: e\n\t\t});\n\t},\n\n\t_onTileLayerLoad: function () {\n\t\tthis._tileLayersToLoad--;\n\t\tif (this._tileLayersNum && !this._tileLayersToLoad) {\n\t\t\tthis.fire('tilelayersload');\n\t\t}\n\t},\n\n\t_clearHandlers: function () {\n\t\tfor (var i = 0, len = this._handlers.length; i < len; i++) {\n\t\t\tthis._handlers[i].disable();\n\t\t}\n\t},\n\n\twhenReady: function (callback, context) {\n\t\tif (this._loaded) {\n\t\t\tcallback.call(context || this, this);\n\t\t} else {\n\t\t\tthis.on('load', callback, context);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_layerAdd: function (layer) {\n\t\tlayer.onAdd(this);\n\t\tthis.fire('layeradd', {layer: layer});\n\t},\n\n\n\t// private methods for getting map state\n\n\t_getMapPanePos: function () {\n\t\treturn L.DomUtil.getPosition(this._mapPane);\n\t},\n\n\t_moved: function () {\n\t\tvar pos = this._getMapPanePos();\n\t\treturn pos && !pos.equals([0, 0]);\n\t},\n\n\t_getTopLeftPoint: function () {\n\t\treturn this.getPixelOrigin().subtract(this._getMapPanePos());\n\t},\n\n\t_getNewTopLeftPoint: function (center, zoom) {\n\t\tvar viewHalf = this.getSize()._divideBy(2);\n\t\t// TODO round on display, not calculation to increase precision?\n\t\treturn this.project(center, zoom)._subtract(viewHalf)._round();\n\t},\n\n\t_latLngToNewLayerPoint: function (latlng, newZoom, newCenter) {\n\t\tvar topLeft = this._getNewTopLeftPoint(newCenter, newZoom).add(this._getMapPanePos());\n\t\treturn this.project(latlng, newZoom)._subtract(topLeft);\n\t},\n\n\t// layer point of the current center\n\t_getCenterLayerPoint: function () {\n\t\treturn this.containerPointToLayerPoint(this.getSize()._divideBy(2));\n\t},\n\n\t// offset of the specified place to the current center in pixels\n\t_getCenterOffset: function (latlng) {\n\t\treturn this.latLngToLayerPoint(latlng).subtract(this._getCenterLayerPoint());\n\t},\n\n\t// adjust center for view to get inside bounds\n\t_limitCenter: function (center, zoom, bounds) {\n\n\t\tif (!bounds) { return center; }\n\n\t\tvar centerPoint = this.project(center, zoom),\n\t\t    viewHalf = this.getSize().divideBy(2),\n\t\t    viewBounds = new L.Bounds(centerPoint.subtract(viewHalf), centerPoint.add(viewHalf)),\n\t\t    offset = this._getBoundsOffset(viewBounds, bounds, zoom);\n\n\t\treturn this.unproject(centerPoint.add(offset), zoom);\n\t},\n\n\t// adjust offset for view to get inside bounds\n\t_limitOffset: function (offset, bounds) {\n\t\tif (!bounds) { return offset; }\n\n\t\tvar viewBounds = this.getPixelBounds(),\n\t\t    newBounds = new L.Bounds(viewBounds.min.add(offset), viewBounds.max.add(offset));\n\n\t\treturn offset.add(this._getBoundsOffset(newBounds, bounds));\n\t},\n\n\t// returns offset needed for pxBounds to get inside maxBounds at a specified zoom\n\t_getBoundsOffset: function (pxBounds, maxBounds, zoom) {\n\t\tvar nwOffset = this.project(maxBounds.getNorthWest(), zoom).subtract(pxBounds.min),\n\t\t    seOffset = this.project(maxBounds.getSouthEast(), zoom).subtract(pxBounds.max),\n\n\t\t    dx = this._rebound(nwOffset.x, -seOffset.x),\n\t\t    dy = this._rebound(nwOffset.y, -seOffset.y);\n\n\t\treturn new L.Point(dx, dy);\n\t},\n\n\t_rebound: function (left, right) {\n\t\treturn left + right > 0 ?\n\t\t\tMath.round(left - right) / 2 :\n\t\t\tMath.max(0, Math.ceil(left)) - Math.max(0, Math.floor(right));\n\t},\n\n\t_limitZoom: function (zoom) {\n\t\tvar min = this.getMinZoom(),\n\t\t    max = this.getMaxZoom();\n\n\t\treturn Math.max(min, Math.min(max, zoom));\n\t}\n});\n\nL.map = function (id, options) {\n\treturn new L.Map(id, options);\n};\n\n\n/*\n * Mercator projection that takes into account that the Earth is not a perfect sphere.\n * Less popular than spherical mercator; used by projections like EPSG:3395.\n */\n\nL.Projection.Mercator = {\n\tMAX_LATITUDE: 85.0840591556,\n\n\tR_MINOR: 6356752.314245179,\n\tR_MAJOR: 6378137,\n\n\tproject: function (latlng) { // (LatLng) -> Point\n\t\tvar d = L.LatLng.DEG_TO_RAD,\n\t\t    max = this.MAX_LATITUDE,\n\t\t    lat = Math.max(Math.min(max, latlng.lat), -max),\n\t\t    r = this.R_MAJOR,\n\t\t    r2 = this.R_MINOR,\n\t\t    x = latlng.lng * d * r,\n\t\t    y = lat * d,\n\t\t    tmp = r2 / r,\n\t\t    eccent = Math.sqrt(1.0 - tmp * tmp),\n\t\t    con = eccent * Math.sin(y);\n\n\t\tcon = Math.pow((1 - con) / (1 + con), eccent * 0.5);\n\n\t\tvar ts = Math.tan(0.5 * ((Math.PI * 0.5) - y)) / con;\n\t\ty = -r * Math.log(ts);\n\n\t\treturn new L.Point(x, y);\n\t},\n\n\tunproject: function (point) { // (Point, Boolean) -> LatLng\n\t\tvar d = L.LatLng.RAD_TO_DEG,\n\t\t    r = this.R_MAJOR,\n\t\t    r2 = this.R_MINOR,\n\t\t    lng = point.x * d / r,\n\t\t    tmp = r2 / r,\n\t\t    eccent = Math.sqrt(1 - (tmp * tmp)),\n\t\t    ts = Math.exp(- point.y / r),\n\t\t    phi = (Math.PI / 2) - 2 * Math.atan(ts),\n\t\t    numIter = 15,\n\t\t    tol = 1e-7,\n\t\t    i = numIter,\n\t\t    dphi = 0.1,\n\t\t    con;\n\n\t\twhile ((Math.abs(dphi) > tol) && (--i > 0)) {\n\t\t\tcon = eccent * Math.sin(phi);\n\t\t\tdphi = (Math.PI / 2) - 2 * Math.atan(ts *\n\t\t\t            Math.pow((1.0 - con) / (1.0 + con), 0.5 * eccent)) - phi;\n\t\t\tphi += dphi;\n\t\t}\n\n\t\treturn new L.LatLng(phi * d, lng);\n\t}\n};\n\n\n\nL.CRS.EPSG3395 = L.extend({}, L.CRS, {\n\tcode: 'EPSG:3395',\n\n\tprojection: L.Projection.Mercator,\n\n\ttransformation: (function () {\n\t\tvar m = L.Projection.Mercator,\n\t\t    r = m.R_MAJOR,\n\t\t    scale = 0.5 / (Math.PI * r);\n\n\t\treturn new L.Transformation(scale, 0.5, -scale, 0.5);\n\t}())\n});\n\n\n/*\n * L.TileLayer is used for standard xyz-numbered tile layers.\n */\n\nL.TileLayer = L.Class.extend({\n\tincludes: L.Mixin.Events,\n\n\toptions: {\n\t\tminZoom: 0,\n\t\tmaxZoom: 18,\n\t\ttileSize: 256,\n\t\tsubdomains: 'abc',\n\t\terrorTileUrl: '',\n\t\tattribution: '',\n\t\tzoomOffset: 0,\n\t\topacity: 1,\n\t\t/*\n\t\tmaxNativeZoom: null,\n\t\tzIndex: null,\n\t\ttms: false,\n\t\tcontinuousWorld: false,\n\t\tnoWrap: false,\n\t\tzoomReverse: false,\n\t\tdetectRetina: false,\n\t\treuseTiles: false,\n\t\tbounds: false,\n\t\t*/\n\t\tunloadInvisibleTiles: L.Browser.mobile,\n\t\tupdateWhenIdle: L.Browser.mobile\n\t},\n\n\tinitialize: function (url, options) {\n\t\toptions = L.setOptions(this, options);\n\n\t\t// detecting retina displays, adjusting tileSize and zoom levels\n\t\tif (options.detectRetina && L.Browser.retina && options.maxZoom > 0) {\n\n\t\t\toptions.tileSize = Math.floor(options.tileSize / 2);\n\t\t\toptions.zoomOffset++;\n\n\t\t\tif (options.minZoom > 0) {\n\t\t\t\toptions.minZoom--;\n\t\t\t}\n\t\t\tthis.options.maxZoom--;\n\t\t}\n\n\t\tif (options.bounds) {\n\t\t\toptions.bounds = L.latLngBounds(options.bounds);\n\t\t}\n\n\t\tthis._url = url;\n\n\t\tvar subdomains = this.options.subdomains;\n\n\t\tif (typeof subdomains === 'string') {\n\t\t\tthis.options.subdomains = subdomains.split('');\n\t\t}\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\t\tthis._animated = map._zoomAnimated;\n\n\t\t// create a container div for tiles\n\t\tthis._initContainer();\n\n\t\t// set up events\n\t\tmap.on({\n\t\t\t'viewreset': this._reset,\n\t\t\t'moveend': this._update\n\t\t}, this);\n\n\t\tif (this._animated) {\n\t\t\tmap.on({\n\t\t\t\t'zoomanim': this._animateZoom,\n\t\t\t\t'zoomend': this._endZoomAnim\n\t\t\t}, this);\n\t\t}\n\n\t\tif (!this.options.updateWhenIdle) {\n\t\t\tthis._limitedUpdate = L.Util.limitExecByInterval(this._update, 150, this);\n\t\t\tmap.on('move', this._limitedUpdate, this);\n\t\t}\n\n\t\tthis._reset();\n\t\tthis._update();\n\t},\n\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\tonRemove: function (map) {\n\t\tthis._container.parentNode.removeChild(this._container);\n\n\t\tmap.off({\n\t\t\t'viewreset': this._reset,\n\t\t\t'moveend': this._update\n\t\t}, this);\n\n\t\tif (this._animated) {\n\t\t\tmap.off({\n\t\t\t\t'zoomanim': this._animateZoom,\n\t\t\t\t'zoomend': this._endZoomAnim\n\t\t\t}, this);\n\t\t}\n\n\t\tif (!this.options.updateWhenIdle) {\n\t\t\tmap.off('move', this._limitedUpdate, this);\n\t\t}\n\n\t\tthis._container = null;\n\t\tthis._map = null;\n\t},\n\n\tbringToFront: function () {\n\t\tvar pane = this._map._panes.tilePane;\n\n\t\tif (this._container) {\n\t\t\tpane.appendChild(this._container);\n\t\t\tthis._setAutoZIndex(pane, Math.max);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tbringToBack: function () {\n\t\tvar pane = this._map._panes.tilePane;\n\n\t\tif (this._container) {\n\t\t\tpane.insertBefore(this._container, pane.firstChild);\n\t\t\tthis._setAutoZIndex(pane, Math.min);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\n\t\tif (this._map) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tsetZIndex: function (zIndex) {\n\t\tthis.options.zIndex = zIndex;\n\t\tthis._updateZIndex();\n\n\t\treturn this;\n\t},\n\n\tsetUrl: function (url, noRedraw) {\n\t\tthis._url = url;\n\n\t\tif (!noRedraw) {\n\t\t\tthis.redraw();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._reset({hard: true});\n\t\t\tthis._update();\n\t\t}\n\t\treturn this;\n\t},\n\n\t_updateZIndex: function () {\n\t\tif (this._container && this.options.zIndex !== undefined) {\n\t\t\tthis._container.style.zIndex = this.options.zIndex;\n\t\t}\n\t},\n\n\t_setAutoZIndex: function (pane, compare) {\n\n\t\tvar layers = pane.children,\n\t\t    edgeZIndex = -compare(Infinity, -Infinity), // -Infinity for max, Infinity for min\n\t\t    zIndex, i, len;\n\n\t\tfor (i = 0, len = layers.length; i < len; i++) {\n\n\t\t\tif (layers[i] !== this._container) {\n\t\t\t\tzIndex = parseInt(layers[i].style.zIndex, 10);\n\n\t\t\t\tif (!isNaN(zIndex)) {\n\t\t\t\t\tedgeZIndex = compare(edgeZIndex, zIndex);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.options.zIndex = this._container.style.zIndex =\n\t\t        (isFinite(edgeZIndex) ? edgeZIndex : 0) + compare(1, -1);\n\t},\n\n\t_updateOpacity: function () {\n\t\tvar i,\n\t\t    tiles = this._tiles;\n\n\t\tif (L.Browser.ielt9) {\n\t\t\tfor (i in tiles) {\n\t\t\t\tL.DomUtil.setOpacity(tiles[i], this.options.opacity);\n\t\t\t}\n\t\t} else {\n\t\t\tL.DomUtil.setOpacity(this._container, this.options.opacity);\n\t\t}\n\t},\n\n\t_initContainer: function () {\n\t\tvar tilePane = this._map._panes.tilePane;\n\n\t\tif (!this._container) {\n\t\t\tthis._container = L.DomUtil.create('div', 'leaflet-layer');\n\n\t\t\tthis._updateZIndex();\n\n\t\t\tif (this._animated) {\n\t\t\t\tvar className = 'leaflet-tile-container';\n\n\t\t\t\tthis._bgBuffer = L.DomUtil.create('div', className, this._container);\n\t\t\t\tthis._tileContainer = L.DomUtil.create('div', className, this._container);\n\n\t\t\t} else {\n\t\t\t\tthis._tileContainer = this._container;\n\t\t\t}\n\n\t\t\ttilePane.appendChild(this._container);\n\n\t\t\tif (this.options.opacity < 1) {\n\t\t\t\tthis._updateOpacity();\n\t\t\t}\n\t\t}\n\t},\n\n\t_reset: function (e) {\n\t\tfor (var key in this._tiles) {\n\t\t\tthis.fire('tileunload', {tile: this._tiles[key]});\n\t\t}\n\n\t\tthis._tiles = {};\n\t\tthis._tilesToLoad = 0;\n\n\t\tif (this.options.reuseTiles) {\n\t\t\tthis._unusedTiles = [];\n\t\t}\n\n\t\tthis._tileContainer.innerHTML = '';\n\n\t\tif (this._animated && e && e.hard) {\n\t\t\tthis._clearBgBuffer();\n\t\t}\n\n\t\tthis._initContainer();\n\t},\n\n\t_getTileSize: function () {\n\t\tvar map = this._map,\n\t\t    zoom = map.getZoom() + this.options.zoomOffset,\n\t\t    zoomN = this.options.maxNativeZoom,\n\t\t    tileSize = this.options.tileSize;\n\n\t\tif (zoomN && zoom > zoomN) {\n\t\t\ttileSize = Math.round(map.getZoomScale(zoom) / map.getZoomScale(zoomN) * tileSize);\n\t\t}\n\n\t\treturn tileSize;\n\t},\n\n\t_update: function () {\n\n\t\tif (!this._map) { return; }\n\n\t\tvar map = this._map,\n\t\t    bounds = map.getPixelBounds(),\n\t\t    zoom = map.getZoom(),\n\t\t    tileSize = this._getTileSize();\n\n\t\tif (zoom > this.options.maxZoom || zoom < this.options.minZoom) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar tileBounds = L.bounds(\n\t\t        bounds.min.divideBy(tileSize)._floor(),\n\t\t        bounds.max.divideBy(tileSize)._floor());\n\n\t\tthis._addTilesFromCenterOut(tileBounds);\n\n\t\tif (this.options.unloadInvisibleTiles || this.options.reuseTiles) {\n\t\t\tthis._removeOtherTiles(tileBounds);\n\t\t}\n\t},\n\n\t_addTilesFromCenterOut: function (bounds) {\n\t\tvar queue = [],\n\t\t    center = bounds.getCenter();\n\n\t\tvar j, i, point;\n\n\t\tfor (j = bounds.min.y; j <= bounds.max.y; j++) {\n\t\t\tfor (i = bounds.min.x; i <= bounds.max.x; i++) {\n\t\t\t\tpoint = new L.Point(i, j);\n\n\t\t\t\tif (this._tileShouldBeLoaded(point)) {\n\t\t\t\t\tqueue.push(point);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar tilesToLoad = queue.length;\n\n\t\tif (tilesToLoad === 0) { return; }\n\n\t\t// load tiles in order of their distance to center\n\t\tqueue.sort(function (a, b) {\n\t\t\treturn a.distanceTo(center) - b.distanceTo(center);\n\t\t});\n\n\t\tvar fragment = document.createDocumentFragment();\n\n\t\t// if its the first batch of tiles to load\n\t\tif (!this._tilesToLoad) {\n\t\t\tthis.fire('loading');\n\t\t}\n\n\t\tthis._tilesToLoad += tilesToLoad;\n\n\t\tfor (i = 0; i < tilesToLoad; i++) {\n\t\t\tthis._addTile(queue[i], fragment);\n\t\t}\n\n\t\tthis._tileContainer.appendChild(fragment);\n\t},\n\n\t_tileShouldBeLoaded: function (tilePoint) {\n\t\tif ((tilePoint.x + ':' + tilePoint.y) in this._tiles) {\n\t\t\treturn false; // already loaded\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\tif (!options.continuousWorld) {\n\t\t\tvar limit = this._getWrapTileNum();\n\n\t\t\t// don't load if exceeds world bounds\n\t\t\tif ((options.noWrap && (tilePoint.x < 0 || tilePoint.x >= limit.x)) ||\n\t\t\t\ttilePoint.y < 0 || tilePoint.y >= limit.y) { return false; }\n\t\t}\n\n\t\tif (options.bounds) {\n\t\t\tvar tileSize = options.tileSize,\n\t\t\t    nwPoint = tilePoint.multiplyBy(tileSize),\n\t\t\t    sePoint = nwPoint.add([tileSize, tileSize]),\n\t\t\t    nw = this._map.unproject(nwPoint),\n\t\t\t    se = this._map.unproject(sePoint);\n\n\t\t\t// TODO temporary hack, will be removed after refactoring projections\n\t\t\t// https://github.com/Leaflet/Leaflet/issues/1618\n\t\t\tif (!options.continuousWorld && !options.noWrap) {\n\t\t\t\tnw = nw.wrap();\n\t\t\t\tse = se.wrap();\n\t\t\t}\n\n\t\t\tif (!options.bounds.intersects([nw, se])) { return false; }\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_removeOtherTiles: function (bounds) {\n\t\tvar kArr, x, y, key;\n\n\t\tfor (key in this._tiles) {\n\t\t\tkArr = key.split(':');\n\t\t\tx = parseInt(kArr[0], 10);\n\t\t\ty = parseInt(kArr[1], 10);\n\n\t\t\t// remove tile if it's out of bounds\n\t\t\tif (x < bounds.min.x || x > bounds.max.x || y < bounds.min.y || y > bounds.max.y) {\n\t\t\t\tthis._removeTile(key);\n\t\t\t}\n\t\t}\n\t},\n\n\t_removeTile: function (key) {\n\t\tvar tile = this._tiles[key];\n\n\t\tthis.fire('tileunload', {tile: tile, url: tile.src});\n\n\t\tif (this.options.reuseTiles) {\n\t\t\tL.DomUtil.removeClass(tile, 'leaflet-tile-loaded');\n\t\t\tthis._unusedTiles.push(tile);\n\n\t\t} else if (tile.parentNode === this._tileContainer) {\n\t\t\tthis._tileContainer.removeChild(tile);\n\t\t}\n\n\t\t// for https://github.com/CloudMade/Leaflet/issues/137\n\t\tif (!L.Browser.android) {\n\t\t\ttile.onload = null;\n\t\t\ttile.src = L.Util.emptyImageUrl;\n\t\t}\n\n\t\tdelete this._tiles[key];\n\t},\n\n\t_addTile: function (tilePoint, container) {\n\t\tvar tilePos = this._getTilePos(tilePoint);\n\n\t\t// get unused tile - or create a new tile\n\t\tvar tile = this._getTile();\n\n\t\t/*\n\t\tChrome 20 layouts much faster with top/left (verify with timeline, frames)\n\t\tAndroid 4 browser has display issues with top/left and requires transform instead\n\t\t(other browsers don't currently care) - see debug/hacks/jitter.html for an example\n\t\t*/\n\t\tL.DomUtil.setPosition(tile, tilePos, L.Browser.chrome);\n\n\t\tthis._tiles[tilePoint.x + ':' + tilePoint.y] = tile;\n\n\t\tthis._loadTile(tile, tilePoint);\n\n\t\tif (tile.parentNode !== this._tileContainer) {\n\t\t\tcontainer.appendChild(tile);\n\t\t}\n\t},\n\n\t_getZoomForUrl: function () {\n\n\t\tvar options = this.options,\n\t\t    zoom = this._map.getZoom();\n\n\t\tif (options.zoomReverse) {\n\t\t\tzoom = options.maxZoom - zoom;\n\t\t}\n\n\t\tzoom += options.zoomOffset;\n\n\t\treturn options.maxNativeZoom ? Math.min(zoom, options.maxNativeZoom) : zoom;\n\t},\n\n\t_getTilePos: function (tilePoint) {\n\t\tvar origin = this._map.getPixelOrigin(),\n\t\t    tileSize = this._getTileSize();\n\n\t\treturn tilePoint.multiplyBy(tileSize).subtract(origin);\n\t},\n\n\t// image-specific code (override to implement e.g. Canvas or SVG tile layer)\n\n\tgetTileUrl: function (tilePoint) {\n\t\treturn L.Util.template(this._url, L.extend({\n\t\t\ts: this._getSubdomain(tilePoint),\n\t\t\tz: tilePoint.z,\n\t\t\tx: tilePoint.x,\n\t\t\ty: tilePoint.y\n\t\t}, this.options));\n\t},\n\n\t_getWrapTileNum: function () {\n\t\tvar crs = this._map.options.crs,\n\t\t    size = crs.getSize(this._map.getZoom());\n\t\treturn size.divideBy(this._getTileSize())._floor();\n\t},\n\n\t_adjustTilePoint: function (tilePoint) {\n\n\t\tvar limit = this._getWrapTileNum();\n\n\t\t// wrap tile coordinates\n\t\tif (!this.options.continuousWorld && !this.options.noWrap) {\n\t\t\ttilePoint.x = ((tilePoint.x % limit.x) + limit.x) % limit.x;\n\t\t}\n\n\t\tif (this.options.tms) {\n\t\t\ttilePoint.y = limit.y - tilePoint.y - 1;\n\t\t}\n\n\t\ttilePoint.z = this._getZoomForUrl();\n\t},\n\n\t_getSubdomain: function (tilePoint) {\n\t\tvar index = Math.abs(tilePoint.x + tilePoint.y) % this.options.subdomains.length;\n\t\treturn this.options.subdomains[index];\n\t},\n\n\t_getTile: function () {\n\t\tif (this.options.reuseTiles && this._unusedTiles.length > 0) {\n\t\t\tvar tile = this._unusedTiles.pop();\n\t\t\tthis._resetTile(tile);\n\t\t\treturn tile;\n\t\t}\n\t\treturn this._createTile();\n\t},\n\n\t// Override if data stored on a tile needs to be cleaned up before reuse\n\t_resetTile: function (/*tile*/) {},\n\n\t_createTile: function () {\n\t\tvar tile = L.DomUtil.create('img', 'leaflet-tile');\n\t\ttile.style.width = tile.style.height = this._getTileSize() + 'px';\n\t\ttile.galleryimg = 'no';\n\n\t\ttile.onselectstart = tile.onmousemove = L.Util.falseFn;\n\n\t\tif (L.Browser.ielt9 && this.options.opacity !== undefined) {\n\t\t\tL.DomUtil.setOpacity(tile, this.options.opacity);\n\t\t}\n\t\t// without this hack, tiles disappear after zoom on Chrome for Android\n\t\t// https://github.com/Leaflet/Leaflet/issues/2078\n\t\tif (L.Browser.mobileWebkit3d) {\n\t\t\ttile.style.WebkitBackfaceVisibility = 'hidden';\n\t\t}\n\t\treturn tile;\n\t},\n\n\t_loadTile: function (tile, tilePoint) {\n\t\ttile._layer  = this;\n\t\ttile.onload  = this._tileOnLoad;\n\t\ttile.onerror = this._tileOnError;\n\n\t\tthis._adjustTilePoint(tilePoint);\n\t\ttile.src     = this.getTileUrl(tilePoint);\n\n\t\tthis.fire('tileloadstart', {\n\t\t\ttile: tile,\n\t\t\turl: tile.src\n\t\t});\n\t},\n\n\t_tileLoaded: function () {\n\t\tthis._tilesToLoad--;\n\n\t\tif (this._animated) {\n\t\t\tL.DomUtil.addClass(this._tileContainer, 'leaflet-zoom-animated');\n\t\t}\n\n\t\tif (!this._tilesToLoad) {\n\t\t\tthis.fire('load');\n\n\t\t\tif (this._animated) {\n\t\t\t\t// clear scaled tiles after all new tiles are loaded (for performance)\n\t\t\t\tclearTimeout(this._clearBgBufferTimer);\n\t\t\t\tthis._clearBgBufferTimer = setTimeout(L.bind(this._clearBgBuffer, this), 500);\n\t\t\t}\n\t\t}\n\t},\n\n\t_tileOnLoad: function () {\n\t\tvar layer = this._layer;\n\n\t\t//Only if we are loading an actual image\n\t\tif (this.src !== L.Util.emptyImageUrl) {\n\t\t\tL.DomUtil.addClass(this, 'leaflet-tile-loaded');\n\n\t\t\tlayer.fire('tileload', {\n\t\t\t\ttile: this,\n\t\t\t\turl: this.src\n\t\t\t});\n\t\t}\n\n\t\tlayer._tileLoaded();\n\t},\n\n\t_tileOnError: function () {\n\t\tvar layer = this._layer;\n\n\t\tlayer.fire('tileerror', {\n\t\t\ttile: this,\n\t\t\turl: this.src\n\t\t});\n\n\t\tvar newUrl = layer.options.errorTileUrl;\n\t\tif (newUrl) {\n\t\t\tthis.src = newUrl;\n\t\t}\n\n\t\tlayer._tileLoaded();\n\t}\n});\n\nL.tileLayer = function (url, options) {\n\treturn new L.TileLayer(url, options);\n};\n\n\n/*\n * L.TileLayer.WMS is used for putting WMS tile layers on the map.\n */\n\nL.TileLayer.WMS = L.TileLayer.extend({\n\n\tdefaultWmsParams: {\n\t\tservice: 'WMS',\n\t\trequest: 'GetMap',\n\t\tversion: '1.1.1',\n\t\tlayers: '',\n\t\tstyles: '',\n\t\tformat: 'image/jpeg',\n\t\ttransparent: false\n\t},\n\n\tinitialize: function (url, options) { // (String, Object)\n\n\t\tthis._url = url;\n\n\t\tvar wmsParams = L.extend({}, this.defaultWmsParams),\n\t\t    tileSize = options.tileSize || this.options.tileSize;\n\n\t\tif (options.detectRetina && L.Browser.retina) {\n\t\t\twmsParams.width = wmsParams.height = tileSize * 2;\n\t\t} else {\n\t\t\twmsParams.width = wmsParams.height = tileSize;\n\t\t}\n\n\t\tfor (var i in options) {\n\t\t\t// all keys that are not TileLayer options go to WMS params\n\t\t\tif (!this.options.hasOwnProperty(i) && i !== 'crs') {\n\t\t\t\twmsParams[i] = options[i];\n\t\t\t}\n\t\t}\n\n\t\tthis.wmsParams = wmsParams;\n\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function (map) {\n\n\t\tthis._crs = this.options.crs || map.options.crs;\n\n\t\tthis._wmsVersion = parseFloat(this.wmsParams.version);\n\n\t\tvar projectionKey = this._wmsVersion >= 1.3 ? 'crs' : 'srs';\n\t\tthis.wmsParams[projectionKey] = this._crs.code;\n\n\t\tL.TileLayer.prototype.onAdd.call(this, map);\n\t},\n\n\tgetTileUrl: function (tilePoint) { // (Point, Number) -> String\n\n\t\tvar map = this._map,\n\t\t    tileSize = this.options.tileSize,\n\n\t\t    nwPoint = tilePoint.multiplyBy(tileSize),\n\t\t    sePoint = nwPoint.add([tileSize, tileSize]),\n\n\t\t    nw = this._crs.project(map.unproject(nwPoint, tilePoint.z)),\n\t\t    se = this._crs.project(map.unproject(sePoint, tilePoint.z)),\n\t\t    bbox = this._wmsVersion >= 1.3 && this._crs === L.CRS.EPSG4326 ?\n\t\t        [se.y, nw.x, nw.y, se.x].join(',') :\n\t\t        [nw.x, se.y, se.x, nw.y].join(','),\n\n\t\t    url = L.Util.template(this._url, {s: this._getSubdomain(tilePoint)});\n\n\t\treturn url + L.Util.getParamString(this.wmsParams, url, true) + '&BBOX=' + bbox;\n\t},\n\n\tsetParams: function (params, noRedraw) {\n\n\t\tL.extend(this.wmsParams, params);\n\n\t\tif (!noRedraw) {\n\t\t\tthis.redraw();\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\nL.tileLayer.wms = function (url, options) {\n\treturn new L.TileLayer.WMS(url, options);\n};\n\n\n/*\n * L.TileLayer.Canvas is a class that you can use as a base for creating\n * dynamically drawn Canvas-based tile layers.\n */\n\nL.TileLayer.Canvas = L.TileLayer.extend({\n\toptions: {\n\t\tasync: false\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis._reset({hard: true});\n\t\t\tthis._update();\n\t\t}\n\n\t\tfor (var i in this._tiles) {\n\t\t\tthis._redrawTile(this._tiles[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_redrawTile: function (tile) {\n\t\tthis.drawTile(tile, tile._tilePoint, this._map._zoom);\n\t},\n\n\t_createTile: function () {\n\t\tvar tile = L.DomUtil.create('canvas', 'leaflet-tile');\n\t\ttile.width = tile.height = this.options.tileSize;\n\t\ttile.onselectstart = tile.onmousemove = L.Util.falseFn;\n\t\treturn tile;\n\t},\n\n\t_loadTile: function (tile, tilePoint) {\n\t\ttile._layer = this;\n\t\ttile._tilePoint = tilePoint;\n\n\t\tthis._redrawTile(tile);\n\n\t\tif (!this.options.async) {\n\t\t\tthis.tileDrawn(tile);\n\t\t}\n\t},\n\n\tdrawTile: function (/*tile, tilePoint*/) {\n\t\t// override with rendering code\n\t},\n\n\ttileDrawn: function (tile) {\n\t\tthis._tileOnLoad.call(tile);\n\t}\n});\n\n\nL.tileLayer.canvas = function (options) {\n\treturn new L.TileLayer.Canvas(options);\n};\n\n\n/*\n * L.ImageOverlay is used to overlay images over the map (to specific geographical bounds).\n */\n\nL.ImageOverlay = L.Class.extend({\n\tincludes: L.Mixin.Events,\n\n\toptions: {\n\t\topacity: 1\n\t},\n\n\tinitialize: function (url, bounds, options) { // (String, LatLngBounds, Object)\n\t\tthis._url = url;\n\t\tthis._bounds = L.latLngBounds(bounds);\n\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\n\t\tif (!this._image) {\n\t\t\tthis._initImage();\n\t\t}\n\n\t\tmap._panes.overlayPane.appendChild(this._image);\n\n\t\tmap.on('viewreset', this._reset, this);\n\n\t\tif (map.options.zoomAnimation && L.Browser.any3d) {\n\t\t\tmap.on('zoomanim', this._animateZoom, this);\n\t\t}\n\n\t\tthis._reset();\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.getPanes().overlayPane.removeChild(this._image);\n\n\t\tmap.off('viewreset', this._reset, this);\n\n\t\tif (map.options.zoomAnimation) {\n\t\t\tmap.off('zoomanim', this._animateZoom, this);\n\t\t}\n\t},\n\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\t\tthis._updateOpacity();\n\t\treturn this;\n\t},\n\n\t// TODO remove bringToFront/bringToBack duplication from TileLayer/Path\n\tbringToFront: function () {\n\t\tif (this._image) {\n\t\t\tthis._map._panes.overlayPane.appendChild(this._image);\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToBack: function () {\n\t\tvar pane = this._map._panes.overlayPane;\n\t\tif (this._image) {\n\t\t\tpane.insertBefore(this._image, pane.firstChild);\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetUrl: function (url) {\n\t\tthis._url = url;\n\t\tthis._image.src = this._url;\n\t},\n\n\tgetAttribution: function () {\n\t\treturn this.options.attribution;\n\t},\n\n\t_initImage: function () {\n\t\tthis._image = L.DomUtil.create('img', 'leaflet-image-layer');\n\n\t\tif (this._map.options.zoomAnimation && L.Browser.any3d) {\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-zoom-animated');\n\t\t} else {\n\t\t\tL.DomUtil.addClass(this._image, 'leaflet-zoom-hide');\n\t\t}\n\n\t\tthis._updateOpacity();\n\n\t\t//TODO createImage util method to remove duplication\n\t\tL.extend(this._image, {\n\t\t\tgalleryimg: 'no',\n\t\t\tonselectstart: L.Util.falseFn,\n\t\t\tonmousemove: L.Util.falseFn,\n\t\t\tonload: L.bind(this._onImageLoad, this),\n\t\t\tsrc: this._url\n\t\t});\n\t},\n\n\t_animateZoom: function (e) {\n\t\tvar map = this._map,\n\t\t    image = this._image,\n\t\t    scale = map.getZoomScale(e.zoom),\n\t\t    nw = this._bounds.getNorthWest(),\n\t\t    se = this._bounds.getSouthEast(),\n\n\t\t    topLeft = map._latLngToNewLayerPoint(nw, e.zoom, e.center),\n\t\t    size = map._latLngToNewLayerPoint(se, e.zoom, e.center)._subtract(topLeft),\n\t\t    origin = topLeft._add(size._multiplyBy((1 / 2) * (1 - 1 / scale)));\n\n\t\timage.style[L.DomUtil.TRANSFORM] =\n\t\t        L.DomUtil.getTranslateString(origin) + ' scale(' + scale + ') ';\n\t},\n\n\t_reset: function () {\n\t\tvar image   = this._image,\n\t\t    topLeft = this._map.latLngToLayerPoint(this._bounds.getNorthWest()),\n\t\t    size = this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(topLeft);\n\n\t\tL.DomUtil.setPosition(image, topLeft);\n\n\t\timage.style.width  = size.x + 'px';\n\t\timage.style.height = size.y + 'px';\n\t},\n\n\t_onImageLoad: function () {\n\t\tthis.fire('load');\n\t},\n\n\t_updateOpacity: function () {\n\t\tL.DomUtil.setOpacity(this._image, this.options.opacity);\n\t}\n});\n\nL.imageOverlay = function (url, bounds, options) {\n\treturn new L.ImageOverlay(url, bounds, options);\n};\n\n\n/*\n * L.Icon is an image-based icon class that you can use with L.Marker for custom markers.\n */\n\nL.Icon = L.Class.extend({\n\toptions: {\n\t\t/*\n\t\ticonUrl: (String) (required)\n\t\ticonRetinaUrl: (String) (optional, used for retina devices if detected)\n\t\ticonSize: (Point) (can be set through CSS)\n\t\ticonAnchor: (Point) (centered by default, can be set in CSS with negative margins)\n\t\tpopupAnchor: (Point) (if not specified, popup opens in the anchor point)\n\t\tshadowUrl: (String) (no shadow by default)\n\t\tshadowRetinaUrl: (String) (optional, used for retina devices if detected)\n\t\tshadowSize: (Point)\n\t\tshadowAnchor: (Point)\n\t\t*/\n\t\tclassName: ''\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\treturn this._createIcon('icon', oldIcon);\n\t},\n\n\tcreateShadow: function (oldIcon) {\n\t\treturn this._createIcon('shadow', oldIcon);\n\t},\n\n\t_createIcon: function (name, oldIcon) {\n\t\tvar src = this._getIconUrl(name);\n\n\t\tif (!src) {\n\t\t\tif (name === 'icon') {\n\t\t\t\tthrow new Error('iconUrl not set in Icon options (see the docs).');\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tvar img;\n\t\tif (!oldIcon || oldIcon.tagName !== 'IMG') {\n\t\t\timg = this._createImg(src);\n\t\t} else {\n\t\t\timg = this._createImg(src, oldIcon);\n\t\t}\n\t\tthis._setIconStyles(img, name);\n\n\t\treturn img;\n\t},\n\n\t_setIconStyles: function (img, name) {\n\t\tvar options = this.options,\n\t\t    size = L.point(options[name + 'Size']),\n\t\t    anchor;\n\n\t\tif (name === 'shadow') {\n\t\t\tanchor = L.point(options.shadowAnchor || options.iconAnchor);\n\t\t} else {\n\t\t\tanchor = L.point(options.iconAnchor);\n\t\t}\n\n\t\tif (!anchor && size) {\n\t\t\tanchor = size.divideBy(2, true);\n\t\t}\n\n\t\timg.className = 'leaflet-marker-' + name + ' ' + options.className;\n\n\t\tif (anchor) {\n\t\t\timg.style.marginLeft = (-anchor.x) + 'px';\n\t\t\timg.style.marginTop  = (-anchor.y) + 'px';\n\t\t}\n\n\t\tif (size) {\n\t\t\timg.style.width  = size.x + 'px';\n\t\t\timg.style.height = size.y + 'px';\n\t\t}\n\t},\n\n\t_createImg: function (src, el) {\n\t\tel = el || document.createElement('img');\n\t\tel.src = src;\n\t\treturn el;\n\t},\n\n\t_getIconUrl: function (name) {\n\t\tif (L.Browser.retina && this.options[name + 'RetinaUrl']) {\n\t\t\treturn this.options[name + 'RetinaUrl'];\n\t\t}\n\t\treturn this.options[name + 'Url'];\n\t}\n});\n\nL.icon = function (options) {\n\treturn new L.Icon(options);\n};\n\n\n/*\n * L.Icon.Default is the blue marker icon used by default in Leaflet.\n */\n\nL.Icon.Default = L.Icon.extend({\n\n\toptions: {\n\t\ticonSize: [25, 41],\n\t\ticonAnchor: [12, 41],\n\t\tpopupAnchor: [1, -34],\n\n\t\tshadowSize: [41, 41]\n\t},\n\n\t_getIconUrl: function (name) {\n\t\tvar key = name + 'Url';\n\n\t\tif (this.options[key]) {\n\t\t\treturn this.options[key];\n\t\t}\n\n\t\tif (L.Browser.retina && name === 'icon') {\n\t\t\tname += '-2x';\n\t\t}\n\n\t\tvar path = L.Icon.Default.imagePath;\n\n\t\tif (!path) {\n\t\t\tthrow new Error('Couldn\\'t autodetect L.Icon.Default.imagePath, set it manually.');\n\t\t}\n\n\t\treturn path + '/marker-' + name + '.png';\n\t}\n});\n\nL.Icon.Default.imagePath = (function () {\n\tvar scripts = document.getElementsByTagName('script'),\n\t    leafletRe = /[\\/^]leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;\n\n\tvar i, len, src, matches, path;\n\n\tfor (i = 0, len = scripts.length; i < len; i++) {\n\t\tsrc = scripts[i].src;\n\t\tmatches = src.match(leafletRe);\n\n\t\tif (matches) {\n\t\t\tpath = src.split(leafletRe)[0];\n\t\t\treturn (path ? path + '/' : '') + 'images';\n\t\t}\n\t}\n}());\n\n\n/*\n * L.Marker is used to display clickable/draggable icons on the map.\n */\n\nL.Marker = L.Class.extend({\n\n\tincludes: L.Mixin.Events,\n\n\toptions: {\n\t\ticon: new L.Icon.Default(),\n\t\ttitle: '',\n\t\talt: '',\n\t\tclickable: true,\n\t\tdraggable: false,\n\t\tkeyboard: true,\n\t\tzIndexOffset: 0,\n\t\topacity: 1,\n\t\triseOnHover: false,\n\t\triseOffset: 250\n\t},\n\n\tinitialize: function (latlng, options) {\n\t\tL.setOptions(this, options);\n\t\tthis._latlng = L.latLng(latlng);\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\n\t\tmap.on('viewreset', this.update, this);\n\n\t\tthis._initIcon();\n\t\tthis.update();\n\t\tthis.fire('add');\n\n\t\tif (map.options.zoomAnimation && map.options.markerZoomAnimation) {\n\t\t\tmap.on('zoomanim', this._animateZoom, this);\n\t\t}\n\t},\n\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\tonRemove: function (map) {\n\t\tif (this.dragging) {\n\t\t\tthis.dragging.disable();\n\t\t}\n\n\t\tthis._removeIcon();\n\t\tthis._removeShadow();\n\n\t\tthis.fire('remove');\n\n\t\tmap.off({\n\t\t\t'viewreset': this.update,\n\t\t\t'zoomanim': this._animateZoom\n\t\t}, this);\n\n\t\tthis._map = null;\n\t},\n\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\tsetLatLng: function (latlng) {\n\t\tthis._latlng = L.latLng(latlng);\n\n\t\tthis.update();\n\n\t\treturn this.fire('move', { latlng: this._latlng });\n\t},\n\n\tsetZIndexOffset: function (offset) {\n\t\tthis.options.zIndexOffset = offset;\n\t\tthis.update();\n\n\t\treturn this;\n\t},\n\n\tsetIcon: function (icon) {\n\n\t\tthis.options.icon = icon;\n\n\t\tif (this._map) {\n\t\t\tthis._initIcon();\n\t\t\tthis.update();\n\t\t}\n\n\t\tif (this._popup) {\n\t\t\tthis.bindPopup(this._popup);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tupdate: function () {\n\t\tif (this._icon) {\n\t\t\tvar pos = this._map.latLngToLayerPoint(this._latlng).round();\n\t\t\tthis._setPos(pos);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_initIcon: function () {\n\t\tvar options = this.options,\n\t\t    map = this._map,\n\t\t    animation = (map.options.zoomAnimation && map.options.markerZoomAnimation),\n\t\t    classToAdd = animation ? 'leaflet-zoom-animated' : 'leaflet-zoom-hide';\n\n\t\tvar icon = options.icon.createIcon(this._icon),\n\t\t\taddIcon = false;\n\n\t\t// if we're not reusing the icon, remove the old one and init new one\n\t\tif (icon !== this._icon) {\n\t\t\tif (this._icon) {\n\t\t\t\tthis._removeIcon();\n\t\t\t}\n\t\t\taddIcon = true;\n\n\t\t\tif (options.title) {\n\t\t\t\ticon.title = options.title;\n\t\t\t}\n\t\t\t\n\t\t\tif (options.alt) {\n\t\t\t\ticon.alt = options.alt;\n\t\t\t}\n\t\t}\n\n\t\tL.DomUtil.addClass(icon, classToAdd);\n\n\t\tif (options.keyboard) {\n\t\t\ticon.tabIndex = '0';\n\t\t}\n\n\t\tthis._icon = icon;\n\n\t\tthis._initInteraction();\n\n\t\tif (options.riseOnHover) {\n\t\t\tL.DomEvent\n\t\t\t\t.on(icon, 'mouseover', this._bringToFront, this)\n\t\t\t\t.on(icon, 'mouseout', this._resetZIndex, this);\n\t\t}\n\n\t\tvar newShadow = options.icon.createShadow(this._shadow),\n\t\t\taddShadow = false;\n\n\t\tif (newShadow !== this._shadow) {\n\t\t\tthis._removeShadow();\n\t\t\taddShadow = true;\n\t\t}\n\n\t\tif (newShadow) {\n\t\t\tL.DomUtil.addClass(newShadow, classToAdd);\n\t\t}\n\t\tthis._shadow = newShadow;\n\n\n\t\tif (options.opacity < 1) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\n\t\tvar panes = this._map._panes;\n\n\t\tif (addIcon) {\n\t\t\tpanes.markerPane.appendChild(this._icon);\n\t\t}\n\n\t\tif (newShadow && addShadow) {\n\t\t\tpanes.shadowPane.appendChild(this._shadow);\n\t\t}\n\t},\n\n\t_removeIcon: function () {\n\t\tif (this.options.riseOnHover) {\n\t\t\tL.DomEvent\n\t\t\t    .off(this._icon, 'mouseover', this._bringToFront)\n\t\t\t    .off(this._icon, 'mouseout', this._resetZIndex);\n\t\t}\n\n\t\tthis._map._panes.markerPane.removeChild(this._icon);\n\n\t\tthis._icon = null;\n\t},\n\n\t_removeShadow: function () {\n\t\tif (this._shadow) {\n\t\t\tthis._map._panes.shadowPane.removeChild(this._shadow);\n\t\t}\n\t\tthis._shadow = null;\n\t},\n\n\t_setPos: function (pos) {\n\t\tL.DomUtil.setPosition(this._icon, pos);\n\n\t\tif (this._shadow) {\n\t\t\tL.DomUtil.setPosition(this._shadow, pos);\n\t\t}\n\n\t\tthis._zIndex = pos.y + this.options.zIndexOffset;\n\n\t\tthis._resetZIndex();\n\t},\n\n\t_updateZIndex: function (offset) {\n\t\tthis._icon.style.zIndex = this._zIndex + offset;\n\t},\n\n\t_animateZoom: function (opt) {\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center).round();\n\n\t\tthis._setPos(pos);\n\t},\n\n\t_initInteraction: function () {\n\n\t\tif (!this.options.clickable) { return; }\n\n\t\t// TODO refactor into something shared with Map/Path/etc. to DRY it up\n\n\t\tvar icon = this._icon,\n\t\t    events = ['dblclick', 'mousedown', 'mouseover', 'mouseout', 'contextmenu'];\n\n\t\tL.DomUtil.addClass(icon, 'leaflet-clickable');\n\t\tL.DomEvent.on(icon, 'click', this._onMouseClick, this);\n\t\tL.DomEvent.on(icon, 'keypress', this._onKeyPress, this);\n\n\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\tL.DomEvent.on(icon, events[i], this._fireMouseEvent, this);\n\t\t}\n\n\t\tif (L.Handler.MarkerDrag) {\n\t\t\tthis.dragging = new L.Handler.MarkerDrag(this);\n\n\t\t\tif (this.options.draggable) {\n\t\t\t\tthis.dragging.enable();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onMouseClick: function (e) {\n\t\tvar wasDragged = this.dragging && this.dragging.moved();\n\n\t\tif (this.hasEventListeners(e.type) || wasDragged) {\n\t\t\tL.DomEvent.stopPropagation(e);\n\t\t}\n\n\t\tif (wasDragged) { return; }\n\n\t\tif ((!this.dragging || !this.dragging._enabled) && this._map.dragging && this._map.dragging.moved()) { return; }\n\n\t\tthis.fire(e.type, {\n\t\t\toriginalEvent: e,\n\t\t\tlatlng: this._latlng\n\t\t});\n\t},\n\n\t_onKeyPress: function (e) {\n\t\tif (e.keyCode === 13) {\n\t\t\tthis.fire('click', {\n\t\t\t\toriginalEvent: e,\n\t\t\t\tlatlng: this._latlng\n\t\t\t});\n\t\t}\n\t},\n\n\t_fireMouseEvent: function (e) {\n\n\t\tthis.fire(e.type, {\n\t\t\toriginalEvent: e,\n\t\t\tlatlng: this._latlng\n\t\t});\n\n\t\t// TODO proper custom event propagation\n\t\t// this line will always be called if marker is in a FeatureGroup\n\t\tif (e.type === 'contextmenu' && this.hasEventListeners(e.type)) {\n\t\t\tL.DomEvent.preventDefault(e);\n\t\t}\n\t\tif (e.type !== 'mousedown') {\n\t\t\tL.DomEvent.stopPropagation(e);\n\t\t} else {\n\t\t\tL.DomEvent.preventDefault(e);\n\t\t}\n\t},\n\n\tsetOpacity: function (opacity) {\n\t\tthis.options.opacity = opacity;\n\t\tif (this._map) {\n\t\t\tthis._updateOpacity();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_updateOpacity: function () {\n\t\tL.DomUtil.setOpacity(this._icon, this.options.opacity);\n\t\tif (this._shadow) {\n\t\t\tL.DomUtil.setOpacity(this._shadow, this.options.opacity);\n\t\t}\n\t},\n\n\t_bringToFront: function () {\n\t\tthis._updateZIndex(this.options.riseOffset);\n\t},\n\n\t_resetZIndex: function () {\n\t\tthis._updateZIndex(0);\n\t}\n});\n\nL.marker = function (latlng, options) {\n\treturn new L.Marker(latlng, options);\n};\n\n\n/*\n * L.DivIcon is a lightweight HTML-based icon class (as opposed to the image-based L.Icon)\n * to use with L.Marker.\n */\n\nL.DivIcon = L.Icon.extend({\n\toptions: {\n\t\ticonSize: [12, 12], // also can be set through CSS\n\t\t/*\n\t\ticonAnchor: (Point)\n\t\tpopupAnchor: (Point)\n\t\thtml: (String)\n\t\tbgPos: (Point)\n\t\t*/\n\t\tclassName: 'leaflet-div-icon',\n\t\thtml: false\n\t},\n\n\tcreateIcon: function (oldIcon) {\n\t\tvar div = (oldIcon && oldIcon.tagName === 'DIV') ? oldIcon : document.createElement('div'),\n\t\t    options = this.options;\n\n\t\tif (options.html !== false) {\n\t\t\tdiv.innerHTML = options.html;\n\t\t} else {\n\t\t\tdiv.innerHTML = '';\n\t\t}\n\n\t\tif (options.bgPos) {\n\t\t\tdiv.style.backgroundPosition =\n\t\t\t        (-options.bgPos.x) + 'px ' + (-options.bgPos.y) + 'px';\n\t\t}\n\n\t\tthis._setIconStyles(div, 'icon');\n\t\treturn div;\n\t},\n\n\tcreateShadow: function () {\n\t\treturn null;\n\t}\n});\n\nL.divIcon = function (options) {\n\treturn new L.DivIcon(options);\n};\n\n\n/*\n * L.Popup is used for displaying popups on the map.\n */\n\nL.Map.mergeOptions({\n\tclosePopupOnClick: true\n});\n\nL.Popup = L.Class.extend({\n\tincludes: L.Mixin.Events,\n\n\toptions: {\n\t\tminWidth: 50,\n\t\tmaxWidth: 300,\n\t\t// maxHeight: null,\n\t\tautoPan: true,\n\t\tcloseButton: true,\n\t\toffset: [0, 7],\n\t\tautoPanPadding: [5, 5],\n\t\t// autoPanPaddingTopLeft: null,\n\t\t// autoPanPaddingBottomRight: null,\n\t\tkeepInView: false,\n\t\tclassName: '',\n\t\tzoomAnimation: true\n\t},\n\n\tinitialize: function (options, source) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._source = source;\n\t\tthis._animated = L.Browser.any3d && this.options.zoomAnimation;\n\t\tthis._isOpen = false;\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\n\t\tif (!this._container) {\n\t\t\tthis._initLayout();\n\t\t}\n\n\t\tvar animFade = map.options.fadeAnimation;\n\n\t\tif (animFade) {\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\n\t\t}\n\t\tmap._panes.popupPane.appendChild(this._container);\n\n\t\tmap.on(this._getEvents(), this);\n\n\t\tthis.update();\n\n\t\tif (animFade) {\n\t\t\tL.DomUtil.setOpacity(this._container, 1);\n\t\t}\n\n\t\tthis.fire('open');\n\n\t\tmap.fire('popupopen', {popup: this});\n\n\t\tif (this._source) {\n\t\t\tthis._source.fire('popupopen', {popup: this});\n\t\t}\n\t},\n\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\topenOn: function (map) {\n\t\tmap.openPopup(this);\n\t\treturn this;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap._panes.popupPane.removeChild(this._container);\n\n\t\tL.Util.falseFn(this._container.offsetWidth); // force reflow\n\n\t\tmap.off(this._getEvents(), this);\n\n\t\tif (map.options.fadeAnimation) {\n\t\t\tL.DomUtil.setOpacity(this._container, 0);\n\t\t}\n\n\t\tthis._map = null;\n\n\t\tthis.fire('close');\n\n\t\tmap.fire('popupclose', {popup: this});\n\n\t\tif (this._source) {\n\t\t\tthis._source.fire('popupclose', {popup: this});\n\t\t}\n\t},\n\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\tsetLatLng: function (latlng) {\n\t\tthis._latlng = L.latLng(latlng);\n\t\tif (this._map) {\n\t\t\tthis._updatePosition();\n\t\t\tthis._adjustPan();\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetContent: function () {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function (content) {\n\t\tthis._content = content;\n\t\tthis.update();\n\t\treturn this;\n\t},\n\n\tupdate: function () {\n\t\tif (!this._map) { return; }\n\n\t\tthis._container.style.visibility = 'hidden';\n\n\t\tthis._updateContent();\n\t\tthis._updateLayout();\n\t\tthis._updatePosition();\n\n\t\tthis._container.style.visibility = '';\n\n\t\tthis._adjustPan();\n\t},\n\n\t_getEvents: function () {\n\t\tvar events = {\n\t\t\tviewreset: this._updatePosition\n\t\t};\n\n\t\tif (this._animated) {\n\t\t\tevents.zoomanim = this._zoomAnimation;\n\t\t}\n\t\tif ('closeOnClick' in this.options ? this.options.closeOnClick : this._map.options.closePopupOnClick) {\n\t\t\tevents.preclick = this._close;\n\t\t}\n\t\tif (this.options.keepInView) {\n\t\t\tevents.moveend = this._adjustPan;\n\t\t}\n\n\t\treturn events;\n\t},\n\n\t_close: function () {\n\t\tif (this._map) {\n\t\t\tthis._map.closePopup(this);\n\t\t}\n\t},\n\n\t_initLayout: function () {\n\t\tvar prefix = 'leaflet-popup',\n\t\t\tcontainerClass = prefix + ' ' + this.options.className + ' leaflet-zoom-' +\n\t\t\t        (this._animated ? 'animated' : 'hide'),\n\t\t\tcontainer = this._container = L.DomUtil.create('div', containerClass),\n\t\t\tcloseButton;\n\n\t\tif (this.options.closeButton) {\n\t\t\tcloseButton = this._closeButton =\n\t\t\t        L.DomUtil.create('a', prefix + '-close-button', container);\n\t\t\tcloseButton.href = '#close';\n\t\t\tcloseButton.innerHTML = '&#215;';\n\t\t\tL.DomEvent.disableClickPropagation(closeButton);\n\n\t\t\tL.DomEvent.on(closeButton, 'click', this._onCloseButtonClick, this);\n\t\t}\n\n\t\tvar wrapper = this._wrapper =\n\t\t        L.DomUtil.create('div', prefix + '-content-wrapper', container);\n\t\tL.DomEvent.disableClickPropagation(wrapper);\n\n\t\tthis._contentNode = L.DomUtil.create('div', prefix + '-content', wrapper);\n\n\t\tL.DomEvent.disableScrollPropagation(this._contentNode);\n\t\tL.DomEvent.on(wrapper, 'contextmenu', L.DomEvent.stopPropagation);\n\n\t\tthis._tipContainer = L.DomUtil.create('div', prefix + '-tip-container', container);\n\t\tthis._tip = L.DomUtil.create('div', prefix + '-tip', this._tipContainer);\n\t},\n\n\t_updateContent: function () {\n\t\tif (!this._content) { return; }\n\n\t\tif (typeof this._content === 'string') {\n\t\t\tthis._contentNode.innerHTML = this._content;\n\t\t} else {\n\t\t\twhile (this._contentNode.hasChildNodes()) {\n\t\t\t\tthis._contentNode.removeChild(this._contentNode.firstChild);\n\t\t\t}\n\t\t\tthis._contentNode.appendChild(this._content);\n\t\t}\n\t\tthis.fire('contentupdate');\n\t},\n\n\t_updateLayout: function () {\n\t\tvar container = this._contentNode,\n\t\t    style = container.style;\n\n\t\tstyle.width = '';\n\t\tstyle.whiteSpace = 'nowrap';\n\n\t\tvar width = container.offsetWidth;\n\t\twidth = Math.min(width, this.options.maxWidth);\n\t\twidth = Math.max(width, this.options.minWidth);\n\n\t\tstyle.width = (width + 1) + 'px';\n\t\tstyle.whiteSpace = '';\n\n\t\tstyle.height = '';\n\n\t\tvar height = container.offsetHeight,\n\t\t    maxHeight = this.options.maxHeight,\n\t\t    scrolledClass = 'leaflet-popup-scrolled';\n\n\t\tif (maxHeight && height > maxHeight) {\n\t\t\tstyle.height = maxHeight + 'px';\n\t\t\tL.DomUtil.addClass(container, scrolledClass);\n\t\t} else {\n\t\t\tL.DomUtil.removeClass(container, scrolledClass);\n\t\t}\n\n\t\tthis._containerWidth = this._container.offsetWidth;\n\t},\n\n\t_updatePosition: function () {\n\t\tif (!this._map) { return; }\n\n\t\tvar pos = this._map.latLngToLayerPoint(this._latlng),\n\t\t    animated = this._animated,\n\t\t    offset = L.point(this.options.offset);\n\n\t\tif (animated) {\n\t\t\tL.DomUtil.setPosition(this._container, pos);\n\t\t}\n\n\t\tthis._containerBottom = -offset.y - (animated ? 0 : pos.y);\n\t\tthis._containerLeft = -Math.round(this._containerWidth / 2) + offset.x + (animated ? 0 : pos.x);\n\n\t\t// bottom position the popup in case the height of the popup changes (images loading etc)\n\t\tthis._container.style.bottom = this._containerBottom + 'px';\n\t\tthis._container.style.left = this._containerLeft + 'px';\n\t},\n\n\t_zoomAnimation: function (opt) {\n\t\tvar pos = this._map._latLngToNewLayerPoint(this._latlng, opt.zoom, opt.center);\n\n\t\tL.DomUtil.setPosition(this._container, pos);\n\t},\n\n\t_adjustPan: function () {\n\t\tif (!this.options.autoPan) { return; }\n\n\t\tvar map = this._map,\n\t\t    containerHeight = this._container.offsetHeight,\n\t\t    containerWidth = this._containerWidth,\n\n\t\t    layerPos = new L.Point(this._containerLeft, -containerHeight - this._containerBottom);\n\n\t\tif (this._animated) {\n\t\t\tlayerPos._add(L.DomUtil.getPosition(this._container));\n\t\t}\n\n\t\tvar containerPos = map.layerPointToContainerPoint(layerPos),\n\t\t    padding = L.point(this.options.autoPanPadding),\n\t\t    paddingTL = L.point(this.options.autoPanPaddingTopLeft || padding),\n\t\t    paddingBR = L.point(this.options.autoPanPaddingBottomRight || padding),\n\t\t    size = map.getSize(),\n\t\t    dx = 0,\n\t\t    dy = 0;\n\n\t\tif (containerPos.x + containerWidth + paddingBR.x > size.x) { // right\n\t\t\tdx = containerPos.x + containerWidth - size.x + paddingBR.x;\n\t\t}\n\t\tif (containerPos.x - dx - paddingTL.x < 0) { // left\n\t\t\tdx = containerPos.x - paddingTL.x;\n\t\t}\n\t\tif (containerPos.y + containerHeight + paddingBR.y > size.y) { // bottom\n\t\t\tdy = containerPos.y + containerHeight - size.y + paddingBR.y;\n\t\t}\n\t\tif (containerPos.y - dy - paddingTL.y < 0) { // top\n\t\t\tdy = containerPos.y - paddingTL.y;\n\t\t}\n\n\t\tif (dx || dy) {\n\t\t\tmap\n\t\t\t    .fire('autopanstart')\n\t\t\t    .panBy([dx, dy]);\n\t\t}\n\t},\n\n\t_onCloseButtonClick: function (e) {\n\t\tthis._close();\n\t\tL.DomEvent.stop(e);\n\t}\n});\n\nL.popup = function (options, source) {\n\treturn new L.Popup(options, source);\n};\n\n\nL.Map.include({\n\topenPopup: function (popup, latlng, options) { // (Popup) or (String || HTMLElement, LatLng[, Object])\n\t\tthis.closePopup();\n\n\t\tif (!(popup instanceof L.Popup)) {\n\t\t\tvar content = popup;\n\n\t\t\tpopup = new L.Popup(options)\n\t\t\t    .setLatLng(latlng)\n\t\t\t    .setContent(content);\n\t\t}\n\t\tpopup._isOpen = true;\n\n\t\tthis._popup = popup;\n\t\treturn this.addLayer(popup);\n\t},\n\n\tclosePopup: function (popup) {\n\t\tif (!popup || popup === this._popup) {\n\t\t\tpopup = this._popup;\n\t\t\tthis._popup = null;\n\t\t}\n\t\tif (popup) {\n\t\t\tthis.removeLayer(popup);\n\t\t\tpopup._isOpen = false;\n\t\t}\n\t\treturn this;\n\t}\n});\n\n\n/*\n * Popup extension to L.Marker, adding popup-related methods.\n */\n\nL.Marker.include({\n\topenPopup: function () {\n\t\tif (this._popup && this._map && !this._map.hasLayer(this._popup)) {\n\t\t\tthis._popup.setLatLng(this._latlng);\n\t\t\tthis._map.openPopup(this._popup);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclosePopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis._popup._close();\n\t\t}\n\t\treturn this;\n\t},\n\n\ttogglePopup: function () {\n\t\tif (this._popup) {\n\t\t\tif (this._popup._isOpen) {\n\t\t\t\tthis.closePopup();\n\t\t\t} else {\n\t\t\t\tthis.openPopup();\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tbindPopup: function (content, options) {\n\t\tvar anchor = L.point(this.options.icon.options.popupAnchor || [0, 0]);\n\n\t\tanchor = anchor.add(L.Popup.prototype.options.offset);\n\n\t\tif (options && options.offset) {\n\t\t\tanchor = anchor.add(options.offset);\n\t\t}\n\n\t\toptions = L.extend({offset: anchor}, options);\n\n\t\tif (!this._popupHandlersAdded) {\n\t\t\tthis\n\t\t\t    .on('click', this.togglePopup, this)\n\t\t\t    .on('remove', this.closePopup, this)\n\t\t\t    .on('move', this._movePopup, this);\n\t\t\tthis._popupHandlersAdded = true;\n\t\t}\n\n\t\tif (content instanceof L.Popup) {\n\t\t\tL.setOptions(content, options);\n\t\t\tthis._popup = content;\n\t\t} else {\n\t\t\tthis._popup = new L.Popup(options, this)\n\t\t\t\t.setContent(content);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tsetPopupContent: function (content) {\n\t\tif (this._popup) {\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\t\treturn this;\n\t},\n\n\tunbindPopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis._popup = null;\n\t\t\tthis\n\t\t\t    .off('click', this.togglePopup, this)\n\t\t\t    .off('remove', this.closePopup, this)\n\t\t\t    .off('move', this._movePopup, this);\n\t\t\tthis._popupHandlersAdded = false;\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetPopup: function () {\n\t\treturn this._popup;\n\t},\n\n\t_movePopup: function (e) {\n\t\tthis._popup.setLatLng(e.latlng);\n\t}\n});\n\n\n/*\n * L.LayerGroup is a class to combine several layers into one so that\n * you can manipulate the group (e.g. add/remove it) as one layer.\n */\n\nL.LayerGroup = L.Class.extend({\n\tinitialize: function (layers) {\n\t\tthis._layers = {};\n\n\t\tvar i, len;\n\n\t\tif (layers) {\n\t\t\tfor (i = 0, len = layers.length; i < len; i++) {\n\t\t\t\tthis.addLayer(layers[i]);\n\t\t\t}\n\t\t}\n\t},\n\n\taddLayer: function (layer) {\n\t\tvar id = this.getLayerId(layer);\n\n\t\tthis._layers[id] = layer;\n\n\t\tif (this._map) {\n\t\t\tthis._map.addLayer(layer);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tvar id = layer in this._layers ? layer : this.getLayerId(layer);\n\n\t\tif (this._map && this._layers[id]) {\n\t\t\tthis._map.removeLayer(this._layers[id]);\n\t\t}\n\n\t\tdelete this._layers[id];\n\n\t\treturn this;\n\t},\n\n\thasLayer: function (layer) {\n\t\tif (!layer) { return false; }\n\n\t\treturn (layer in this._layers || this.getLayerId(layer) in this._layers);\n\t},\n\n\tclearLayers: function () {\n\t\tthis.eachLayer(this.removeLayer, this);\n\t\treturn this;\n\t},\n\n\tinvoke: function (methodName) {\n\t\tvar args = Array.prototype.slice.call(arguments, 1),\n\t\t    i, layer;\n\n\t\tfor (i in this._layers) {\n\t\t\tlayer = this._layers[i];\n\n\t\t\tif (layer[methodName]) {\n\t\t\t\tlayer[methodName].apply(layer, args);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\t\tthis.eachLayer(map.addLayer, map);\n\t},\n\n\tonRemove: function (map) {\n\t\tthis.eachLayer(map.removeLayer, map);\n\t\tthis._map = null;\n\t},\n\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\teachLayer: function (method, context) {\n\t\tfor (var i in this._layers) {\n\t\t\tmethod.call(context, this._layers[i]);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetLayer: function (id) {\n\t\treturn this._layers[id];\n\t},\n\n\tgetLayers: function () {\n\t\tvar layers = [];\n\n\t\tfor (var i in this._layers) {\n\t\t\tlayers.push(this._layers[i]);\n\t\t}\n\t\treturn layers;\n\t},\n\n\tsetZIndex: function (zIndex) {\n\t\treturn this.invoke('setZIndex', zIndex);\n\t},\n\n\tgetLayerId: function (layer) {\n\t\treturn L.stamp(layer);\n\t}\n});\n\nL.layerGroup = function (layers) {\n\treturn new L.LayerGroup(layers);\n};\n\n\n/*\n * L.FeatureGroup extends L.LayerGroup by introducing mouse events and additional methods\n * shared between a group of interactive layers (like vectors or markers).\n */\n\nL.FeatureGroup = L.LayerGroup.extend({\n\tincludes: L.Mixin.Events,\n\n\tstatics: {\n\t\tEVENTS: 'click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose'\n\t},\n\n\taddLayer: function (layer) {\n\t\tif (this.hasLayer(layer)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ('on' in layer) {\n\t\t\tlayer.on(L.FeatureGroup.EVENTS, this._propagateEvent, this);\n\t\t}\n\n\t\tL.LayerGroup.prototype.addLayer.call(this, layer);\n\n\t\tif (this._popupContent && layer.bindPopup) {\n\t\t\tlayer.bindPopup(this._popupContent, this._popupOptions);\n\t\t}\n\n\t\treturn this.fire('layeradd', {layer: layer});\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tif (!this.hasLayer(layer)) {\n\t\t\treturn this;\n\t\t}\n\t\tif (layer in this._layers) {\n\t\t\tlayer = this._layers[layer];\n\t\t}\n\n\t\tlayer.off(L.FeatureGroup.EVENTS, this._propagateEvent, this);\n\n\t\tL.LayerGroup.prototype.removeLayer.call(this, layer);\n\n\t\tif (this._popupContent) {\n\t\t\tthis.invoke('unbindPopup');\n\t\t}\n\n\t\treturn this.fire('layerremove', {layer: layer});\n\t},\n\n\tbindPopup: function (content, options) {\n\t\tthis._popupContent = content;\n\t\tthis._popupOptions = options;\n\t\treturn this.invoke('bindPopup', content, options);\n\t},\n\n\topenPopup: function (latlng) {\n\t\t// open popup on the first layer\n\t\tfor (var id in this._layers) {\n\t\t\tthis._layers[id].openPopup(latlng);\n\t\t\tbreak;\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetStyle: function (style) {\n\t\treturn this.invoke('setStyle', style);\n\t},\n\n\tbringToFront: function () {\n\t\treturn this.invoke('bringToFront');\n\t},\n\n\tbringToBack: function () {\n\t\treturn this.invoke('bringToBack');\n\t},\n\n\tgetBounds: function () {\n\t\tvar bounds = new L.LatLngBounds();\n\n\t\tthis.eachLayer(function (layer) {\n\t\t\tbounds.extend(layer instanceof L.Marker ? layer.getLatLng() : layer.getBounds());\n\t\t});\n\n\t\treturn bounds;\n\t},\n\n\t_propagateEvent: function (e) {\n\t\te = L.extend({\n\t\t\tlayer: e.target,\n\t\t\ttarget: this\n\t\t}, e);\n\t\tthis.fire(e.type, e);\n\t}\n});\n\nL.featureGroup = function (layers) {\n\treturn new L.FeatureGroup(layers);\n};\n\n\n/*\n * L.Path is a base class for rendering vector paths on a map. Inherited by Polyline, Circle, etc.\n */\n\nL.Path = L.Class.extend({\n\tincludes: [L.Mixin.Events],\n\n\tstatics: {\n\t\t// how much to extend the clip area around the map view\n\t\t// (relative to its size, e.g. 0.5 is half the screen in each direction)\n\t\t// set it so that SVG element doesn't exceed 1280px (vectors flicker on dragend if it is)\n\t\tCLIP_PADDING: (function () {\n\t\t\tvar max = L.Browser.mobile ? 1280 : 2000,\n\t\t\t    target = (max / Math.max(window.outerWidth, window.outerHeight) - 1) / 2;\n\t\t\treturn Math.max(0, Math.min(0.5, target));\n\t\t})()\n\t},\n\n\toptions: {\n\t\tstroke: true,\n\t\tcolor: '#0033ff',\n\t\tdashArray: null,\n\t\tlineCap: null,\n\t\tlineJoin: null,\n\t\tweight: 5,\n\t\topacity: 0.5,\n\n\t\tfill: false,\n\t\tfillColor: null, //same as color by default\n\t\tfillOpacity: 0.2,\n\n\t\tclickable: true\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\n\t\tif (!this._container) {\n\t\t\tthis._initElements();\n\t\t\tthis._initEvents();\n\t\t}\n\n\t\tthis.projectLatlngs();\n\t\tthis._updatePath();\n\n\t\tif (this._container) {\n\t\t\tthis._map._pathRoot.appendChild(this._container);\n\t\t}\n\n\t\tthis.fire('add');\n\n\t\tmap.on({\n\t\t\t'viewreset': this.projectLatlngs,\n\t\t\t'moveend': this._updatePath\n\t\t}, this);\n\t},\n\n\taddTo: function (map) {\n\t\tmap.addLayer(this);\n\t\treturn this;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap._pathRoot.removeChild(this._container);\n\n\t\t// Need to fire remove event before we set _map to null as the event hooks might need the object\n\t\tthis.fire('remove');\n\t\tthis._map = null;\n\n\t\tif (L.Browser.vml) {\n\t\t\tthis._container = null;\n\t\t\tthis._stroke = null;\n\t\t\tthis._fill = null;\n\t\t}\n\n\t\tmap.off({\n\t\t\t'viewreset': this.projectLatlngs,\n\t\t\t'moveend': this._updatePath\n\t\t}, this);\n\t},\n\n\tprojectLatlngs: function () {\n\t\t// do all projection stuff here\n\t},\n\n\tsetStyle: function (style) {\n\t\tL.setOptions(this, style);\n\n\t\tif (this._container) {\n\t\t\tthis._updateStyle();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis.projectLatlngs();\n\t\t\tthis._updatePath();\n\t\t}\n\t\treturn this;\n\t}\n});\n\nL.Map.include({\n\t_updatePathViewport: function () {\n\t\tvar p = L.Path.CLIP_PADDING,\n\t\t    size = this.getSize(),\n\t\t    panePos = L.DomUtil.getPosition(this._mapPane),\n\t\t    min = panePos.multiplyBy(-1)._subtract(size.multiplyBy(p)._round()),\n\t\t    max = min.add(size.multiplyBy(1 + p * 2)._round());\n\n\t\tthis._pathViewport = new L.Bounds(min, max);\n\t}\n});\n\n\n/*\n * Extends L.Path with SVG-specific rendering code.\n */\n\nL.Path.SVG_NS = 'http://www.w3.org/2000/svg';\n\nL.Browser.svg = !!(document.createElementNS && document.createElementNS(L.Path.SVG_NS, 'svg').createSVGRect);\n\nL.Path = L.Path.extend({\n\tstatics: {\n\t\tSVG: L.Browser.svg\n\t},\n\n\tbringToFront: function () {\n\t\tvar root = this._map._pathRoot,\n\t\t    path = this._container;\n\n\t\tif (path && root.lastChild !== path) {\n\t\t\troot.appendChild(path);\n\t\t}\n\t\treturn this;\n\t},\n\n\tbringToBack: function () {\n\t\tvar root = this._map._pathRoot,\n\t\t    path = this._container,\n\t\t    first = root.firstChild;\n\n\t\tif (path && first !== path) {\n\t\t\troot.insertBefore(path, first);\n\t\t}\n\t\treturn this;\n\t},\n\n\tgetPathString: function () {\n\t\t// form path string here\n\t},\n\n\t_createElement: function (name) {\n\t\treturn document.createElementNS(L.Path.SVG_NS, name);\n\t},\n\n\t_initElements: function () {\n\t\tthis._map._initPathRoot();\n\t\tthis._initPath();\n\t\tthis._initStyle();\n\t},\n\n\t_initPath: function () {\n\t\tthis._container = this._createElement('g');\n\n\t\tthis._path = this._createElement('path');\n\n\t\tif (this.options.className) {\n\t\t\tL.DomUtil.addClass(this._path, this.options.className);\n\t\t}\n\n\t\tthis._container.appendChild(this._path);\n\t},\n\n\t_initStyle: function () {\n\t\tif (this.options.stroke) {\n\t\t\tthis._path.setAttribute('stroke-linejoin', 'round');\n\t\t\tthis._path.setAttribute('stroke-linecap', 'round');\n\t\t}\n\t\tif (this.options.fill) {\n\t\t\tthis._path.setAttribute('fill-rule', 'evenodd');\n\t\t}\n\t\tif (this.options.pointerEvents) {\n\t\t\tthis._path.setAttribute('pointer-events', this.options.pointerEvents);\n\t\t}\n\t\tif (!this.options.clickable && !this.options.pointerEvents) {\n\t\t\tthis._path.setAttribute('pointer-events', 'none');\n\t\t}\n\t\tthis._updateStyle();\n\t},\n\n\t_updateStyle: function () {\n\t\tif (this.options.stroke) {\n\t\t\tthis._path.setAttribute('stroke', this.options.color);\n\t\t\tthis._path.setAttribute('stroke-opacity', this.options.opacity);\n\t\t\tthis._path.setAttribute('stroke-width', this.options.weight);\n\t\t\tif (this.options.dashArray) {\n\t\t\t\tthis._path.setAttribute('stroke-dasharray', this.options.dashArray);\n\t\t\t} else {\n\t\t\t\tthis._path.removeAttribute('stroke-dasharray');\n\t\t\t}\n\t\t\tif (this.options.lineCap) {\n\t\t\t\tthis._path.setAttribute('stroke-linecap', this.options.lineCap);\n\t\t\t}\n\t\t\tif (this.options.lineJoin) {\n\t\t\t\tthis._path.setAttribute('stroke-linejoin', this.options.lineJoin);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._path.setAttribute('stroke', 'none');\n\t\t}\n\t\tif (this.options.fill) {\n\t\t\tthis._path.setAttribute('fill', this.options.fillColor || this.options.color);\n\t\t\tthis._path.setAttribute('fill-opacity', this.options.fillOpacity);\n\t\t} else {\n\t\t\tthis._path.setAttribute('fill', 'none');\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tvar str = this.getPathString();\n\t\tif (!str) {\n\t\t\t// fix webkit empty string parsing bug\n\t\t\tstr = 'M0 0';\n\t\t}\n\t\tthis._path.setAttribute('d', str);\n\t},\n\n\t// TODO remove duplication with L.Map\n\t_initEvents: function () {\n\t\tif (this.options.clickable) {\n\t\t\tif (L.Browser.svg || !L.Browser.vml) {\n\t\t\t\tL.DomUtil.addClass(this._path, 'leaflet-clickable');\n\t\t\t}\n\n\t\t\tL.DomEvent.on(this._container, 'click', this._onMouseClick, this);\n\n\t\t\tvar events = ['dblclick', 'mousedown', 'mouseover',\n\t\t\t              'mouseout', 'mousemove', 'contextmenu'];\n\t\t\tfor (var i = 0; i < events.length; i++) {\n\t\t\t\tL.DomEvent.on(this._container, events[i], this._fireMouseEvent, this);\n\t\t\t}\n\t\t}\n\t},\n\n\t_onMouseClick: function (e) {\n\t\tif (this._map.dragging && this._map.dragging.moved()) { return; }\n\n\t\tthis._fireMouseEvent(e);\n\t},\n\n\t_fireMouseEvent: function (e) {\n\t\tif (!this.hasEventListeners(e.type)) { return; }\n\n\t\tvar map = this._map,\n\t\t    containerPoint = map.mouseEventToContainerPoint(e),\n\t\t    layerPoint = map.containerPointToLayerPoint(containerPoint),\n\t\t    latlng = map.layerPointToLatLng(layerPoint);\n\n\t\tthis.fire(e.type, {\n\t\t\tlatlng: latlng,\n\t\t\tlayerPoint: layerPoint,\n\t\t\tcontainerPoint: containerPoint,\n\t\t\toriginalEvent: e\n\t\t});\n\n\t\tif (e.type === 'contextmenu') {\n\t\t\tL.DomEvent.preventDefault(e);\n\t\t}\n\t\tif (e.type !== 'mousemove') {\n\t\t\tL.DomEvent.stopPropagation(e);\n\t\t}\n\t}\n});\n\nL.Map.include({\n\t_initPathRoot: function () {\n\t\tif (!this._pathRoot) {\n\t\t\tthis._pathRoot = L.Path.prototype._createElement('svg');\n\t\t\tthis._panes.overlayPane.appendChild(this._pathRoot);\n\n\t\t\tif (this.options.zoomAnimation && L.Browser.any3d) {\n\t\t\t\tL.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-animated');\n\n\t\t\t\tthis.on({\n\t\t\t\t\t'zoomanim': this._animatePathZoom,\n\t\t\t\t\t'zoomend': this._endPathZoom\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tL.DomUtil.addClass(this._pathRoot, 'leaflet-zoom-hide');\n\t\t\t}\n\n\t\t\tthis.on('moveend', this._updateSvgViewport);\n\t\t\tthis._updateSvgViewport();\n\t\t}\n\t},\n\n\t_animatePathZoom: function (e) {\n\t\tvar scale = this.getZoomScale(e.zoom),\n\t\t    offset = this._getCenterOffset(e.center)._multiplyBy(-scale)._add(this._pathViewport.min);\n\n\t\tthis._pathRoot.style[L.DomUtil.TRANSFORM] =\n\t\t        L.DomUtil.getTranslateString(offset) + ' scale(' + scale + ') ';\n\n\t\tthis._pathZooming = true;\n\t},\n\n\t_endPathZoom: function () {\n\t\tthis._pathZooming = false;\n\t},\n\n\t_updateSvgViewport: function () {\n\n\t\tif (this._pathZooming) {\n\t\t\t// Do not update SVGs while a zoom animation is going on otherwise the animation will break.\n\t\t\t// When the zoom animation ends we will be updated again anyway\n\t\t\t// This fixes the case where you do a momentum move and zoom while the move is still ongoing.\n\t\t\treturn;\n\t\t}\n\n\t\tthis._updatePathViewport();\n\n\t\tvar vp = this._pathViewport,\n\t\t    min = vp.min,\n\t\t    max = vp.max,\n\t\t    width = max.x - min.x,\n\t\t    height = max.y - min.y,\n\t\t    root = this._pathRoot,\n\t\t    pane = this._panes.overlayPane;\n\n\t\t// Hack to make flicker on drag end on mobile webkit less irritating\n\t\tif (L.Browser.mobileWebkit) {\n\t\t\tpane.removeChild(root);\n\t\t}\n\n\t\tL.DomUtil.setPosition(root, min);\n\t\troot.setAttribute('width', width);\n\t\troot.setAttribute('height', height);\n\t\troot.setAttribute('viewBox', [min.x, min.y, width, height].join(' '));\n\n\t\tif (L.Browser.mobileWebkit) {\n\t\t\tpane.appendChild(root);\n\t\t}\n\t}\n});\n\n\n/*\n * Popup extension to L.Path (polylines, polygons, circles), adding popup-related methods.\n */\n\nL.Path.include({\n\n\tbindPopup: function (content, options) {\n\n\t\tif (content instanceof L.Popup) {\n\t\t\tthis._popup = content;\n\t\t} else {\n\t\t\tif (!this._popup || options) {\n\t\t\t\tthis._popup = new L.Popup(options, this);\n\t\t\t}\n\t\t\tthis._popup.setContent(content);\n\t\t}\n\n\t\tif (!this._popupHandlersAdded) {\n\t\t\tthis\n\t\t\t    .on('click', this._openPopup, this)\n\t\t\t    .on('remove', this.closePopup, this);\n\n\t\t\tthis._popupHandlersAdded = true;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tunbindPopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis._popup = null;\n\t\t\tthis\n\t\t\t    .off('click', this._openPopup)\n\t\t\t    .off('remove', this.closePopup);\n\n\t\t\tthis._popupHandlersAdded = false;\n\t\t}\n\t\treturn this;\n\t},\n\n\topenPopup: function (latlng) {\n\n\t\tif (this._popup) {\n\t\t\t// open the popup from one of the path's points if not specified\n\t\t\tlatlng = latlng || this._latlng ||\n\t\t\t         this._latlngs[Math.floor(this._latlngs.length / 2)];\n\n\t\t\tthis._openPopup({latlng: latlng});\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclosePopup: function () {\n\t\tif (this._popup) {\n\t\t\tthis._popup._close();\n\t\t}\n\t\treturn this;\n\t},\n\n\t_openPopup: function (e) {\n\t\tthis._popup.setLatLng(e.latlng);\n\t\tthis._map.openPopup(this._popup);\n\t}\n});\n\n\n/*\n * Vector rendering for IE6-8 through VML.\n * Thanks to Dmitry Baranovsky and his Raphael library for inspiration!\n */\n\nL.Browser.vml = !L.Browser.svg && (function () {\n\ttry {\n\t\tvar div = document.createElement('div');\n\t\tdiv.innerHTML = '<v:shape adj=\"1\"/>';\n\n\t\tvar shape = div.firstChild;\n\t\tshape.style.behavior = 'url(#default#VML)';\n\n\t\treturn shape && (typeof shape.adj === 'object');\n\n\t} catch (e) {\n\t\treturn false;\n\t}\n}());\n\nL.Path = L.Browser.svg || !L.Browser.vml ? L.Path : L.Path.extend({\n\tstatics: {\n\t\tVML: true,\n\t\tCLIP_PADDING: 0.02\n\t},\n\n\t_createElement: (function () {\n\t\ttry {\n\t\t\tdocument.namespaces.add('lvml', 'urn:schemas-microsoft-com:vml');\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement('<lvml:' + name + ' class=\"lvml\">');\n\t\t\t};\n\t\t} catch (e) {\n\t\t\treturn function (name) {\n\t\t\t\treturn document.createElement(\n\t\t\t\t        '<' + name + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">');\n\t\t\t};\n\t\t}\n\t}()),\n\n\t_initPath: function () {\n\t\tvar container = this._container = this._createElement('shape');\n\n\t\tL.DomUtil.addClass(container, 'leaflet-vml-shape' +\n\t\t\t(this.options.className ? ' ' + this.options.className : ''));\n\n\t\tif (this.options.clickable) {\n\t\t\tL.DomUtil.addClass(container, 'leaflet-clickable');\n\t\t}\n\n\t\tcontainer.coordsize = '1 1';\n\n\t\tthis._path = this._createElement('path');\n\t\tcontainer.appendChild(this._path);\n\n\t\tthis._map._pathRoot.appendChild(container);\n\t},\n\n\t_initStyle: function () {\n\t\tthis._updateStyle();\n\t},\n\n\t_updateStyle: function () {\n\t\tvar stroke = this._stroke,\n\t\t    fill = this._fill,\n\t\t    options = this.options,\n\t\t    container = this._container;\n\n\t\tcontainer.stroked = options.stroke;\n\t\tcontainer.filled = options.fill;\n\n\t\tif (options.stroke) {\n\t\t\tif (!stroke) {\n\t\t\t\tstroke = this._stroke = this._createElement('stroke');\n\t\t\t\tstroke.endcap = 'round';\n\t\t\t\tcontainer.appendChild(stroke);\n\t\t\t}\n\t\t\tstroke.weight = options.weight + 'px';\n\t\t\tstroke.color = options.color;\n\t\t\tstroke.opacity = options.opacity;\n\n\t\t\tif (options.dashArray) {\n\t\t\t\tstroke.dashStyle = L.Util.isArray(options.dashArray) ?\n\t\t\t\t    options.dashArray.join(' ') :\n\t\t\t\t    options.dashArray.replace(/( *, *)/g, ' ');\n\t\t\t} else {\n\t\t\t\tstroke.dashStyle = '';\n\t\t\t}\n\t\t\tif (options.lineCap) {\n\t\t\t\tstroke.endcap = options.lineCap.replace('butt', 'flat');\n\t\t\t}\n\t\t\tif (options.lineJoin) {\n\t\t\t\tstroke.joinstyle = options.lineJoin;\n\t\t\t}\n\n\t\t} else if (stroke) {\n\t\t\tcontainer.removeChild(stroke);\n\t\t\tthis._stroke = null;\n\t\t}\n\n\t\tif (options.fill) {\n\t\t\tif (!fill) {\n\t\t\t\tfill = this._fill = this._createElement('fill');\n\t\t\t\tcontainer.appendChild(fill);\n\t\t\t}\n\t\t\tfill.color = options.fillColor || options.color;\n\t\t\tfill.opacity = options.fillOpacity;\n\n\t\t} else if (fill) {\n\t\t\tcontainer.removeChild(fill);\n\t\t\tthis._fill = null;\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tvar style = this._container.style;\n\n\t\tstyle.display = 'none';\n\t\tthis._path.v = this.getPathString() + ' '; // the space fixes IE empty path string bug\n\t\tstyle.display = '';\n\t}\n});\n\nL.Map.include(L.Browser.svg || !L.Browser.vml ? {} : {\n\t_initPathRoot: function () {\n\t\tif (this._pathRoot) { return; }\n\n\t\tvar root = this._pathRoot = document.createElement('div');\n\t\troot.className = 'leaflet-vml-container';\n\t\tthis._panes.overlayPane.appendChild(root);\n\n\t\tthis.on('moveend', this._updatePathViewport);\n\t\tthis._updatePathViewport();\n\t}\n});\n\n\n/*\n * Vector rendering for all browsers that support canvas.\n */\n\nL.Browser.canvas = (function () {\n\treturn !!document.createElement('canvas').getContext;\n}());\n\nL.Path = (L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? L.Path : L.Path.extend({\n\tstatics: {\n\t\t//CLIP_PADDING: 0.02, // not sure if there's a need to set it to a small value\n\t\tCANVAS: true,\n\t\tSVG: false\n\t},\n\n\tredraw: function () {\n\t\tif (this._map) {\n\t\t\tthis.projectLatlngs();\n\t\t\tthis._requestUpdate();\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetStyle: function (style) {\n\t\tL.setOptions(this, style);\n\n\t\tif (this._map) {\n\t\t\tthis._updateStyle();\n\t\t\tthis._requestUpdate();\n\t\t}\n\t\treturn this;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap\n\t\t    .off('viewreset', this.projectLatlngs, this)\n\t\t    .off('moveend', this._updatePath, this);\n\n\t\tif (this.options.clickable) {\n\t\t\tthis._map.off('click', this._onClick, this);\n\t\t\tthis._map.off('mousemove', this._onMouseMove, this);\n\t\t}\n\n\t\tthis._requestUpdate();\n\t\t\n\t\tthis.fire('remove');\n\t\tthis._map = null;\n\t},\n\n\t_requestUpdate: function () {\n\t\tif (this._map && !L.Path._updateRequest) {\n\t\t\tL.Path._updateRequest = L.Util.requestAnimFrame(this._fireMapMoveEnd, this._map);\n\t\t}\n\t},\n\n\t_fireMapMoveEnd: function () {\n\t\tL.Path._updateRequest = null;\n\t\tthis.fire('moveend');\n\t},\n\n\t_initElements: function () {\n\t\tthis._map._initPathRoot();\n\t\tthis._ctx = this._map._canvasCtx;\n\t},\n\n\t_updateStyle: function () {\n\t\tvar options = this.options;\n\n\t\tif (options.stroke) {\n\t\t\tthis._ctx.lineWidth = options.weight;\n\t\t\tthis._ctx.strokeStyle = options.color;\n\t\t}\n\t\tif (options.fill) {\n\t\t\tthis._ctx.fillStyle = options.fillColor || options.color;\n\t\t}\n\t},\n\n\t_drawPath: function () {\n\t\tvar i, j, len, len2, point, drawMethod;\n\n\t\tthis._ctx.beginPath();\n\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\t\tfor (j = 0, len2 = this._parts[i].length; j < len2; j++) {\n\t\t\t\tpoint = this._parts[i][j];\n\t\t\t\tdrawMethod = (j === 0 ? 'move' : 'line') + 'To';\n\n\t\t\t\tthis._ctx[drawMethod](point.x, point.y);\n\t\t\t}\n\t\t\t// TODO refactor ugly hack\n\t\t\tif (this instanceof L.Polygon) {\n\t\t\t\tthis._ctx.closePath();\n\t\t\t}\n\t\t}\n\t},\n\n\t_checkIfEmpty: function () {\n\t\treturn !this._parts.length;\n\t},\n\n\t_updatePath: function () {\n\t\tif (this._checkIfEmpty()) { return; }\n\n\t\tvar ctx = this._ctx,\n\t\t    options = this.options;\n\n\t\tthis._drawPath();\n\t\tctx.save();\n\t\tthis._updateStyle();\n\n\t\tif (options.fill) {\n\t\t\tctx.globalAlpha = options.fillOpacity;\n\t\t\tctx.fill();\n\t\t}\n\n\t\tif (options.stroke) {\n\t\t\tctx.globalAlpha = options.opacity;\n\t\t\tctx.stroke();\n\t\t}\n\n\t\tctx.restore();\n\n\t\t// TODO optimization: 1 fill/stroke for all features with equal style instead of 1 for each feature\n\t},\n\n\t_initEvents: function () {\n\t\tif (this.options.clickable) {\n\t\t\t// TODO dblclick\n\t\t\tthis._map.on('mousemove', this._onMouseMove, this);\n\t\t\tthis._map.on('click', this._onClick, this);\n\t\t}\n\t},\n\n\t_onClick: function (e) {\n\t\tif (this._containsPoint(e.layerPoint)) {\n\t\t\tthis.fire('click', e);\n\t\t}\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._map || this._map._animatingZoom) { return; }\n\n\t\t// TODO don't do on each move\n\t\tif (this._containsPoint(e.layerPoint)) {\n\t\t\tthis._ctx.canvas.style.cursor = 'pointer';\n\t\t\tthis._mouseInside = true;\n\t\t\tthis.fire('mouseover', e);\n\n\t\t} else if (this._mouseInside) {\n\t\t\tthis._ctx.canvas.style.cursor = '';\n\t\t\tthis._mouseInside = false;\n\t\t\tthis.fire('mouseout', e);\n\t\t}\n\t}\n});\n\nL.Map.include((L.Path.SVG && !window.L_PREFER_CANVAS) || !L.Browser.canvas ? {} : {\n\t_initPathRoot: function () {\n\t\tvar root = this._pathRoot,\n\t\t    ctx;\n\n\t\tif (!root) {\n\t\t\troot = this._pathRoot = document.createElement('canvas');\n\t\t\troot.style.position = 'absolute';\n\t\t\tctx = this._canvasCtx = root.getContext('2d');\n\n\t\t\tctx.lineCap = 'round';\n\t\t\tctx.lineJoin = 'round';\n\n\t\t\tthis._panes.overlayPane.appendChild(root);\n\n\t\t\tif (this.options.zoomAnimation) {\n\t\t\t\tthis._pathRoot.className = 'leaflet-zoom-animated';\n\t\t\t\tthis.on('zoomanim', this._animatePathZoom);\n\t\t\t\tthis.on('zoomend', this._endPathZoom);\n\t\t\t}\n\t\t\tthis.on('moveend', this._updateCanvasViewport);\n\t\t\tthis._updateCanvasViewport();\n\t\t}\n\t},\n\n\t_updateCanvasViewport: function () {\n\t\t// don't redraw while zooming. See _updateSvgViewport for more details\n\t\tif (this._pathZooming) { return; }\n\t\tthis._updatePathViewport();\n\n\t\tvar vp = this._pathViewport,\n\t\t    min = vp.min,\n\t\t    size = vp.max.subtract(min),\n\t\t    root = this._pathRoot;\n\n\t\t//TODO check if this works properly on mobile webkit\n\t\tL.DomUtil.setPosition(root, min);\n\t\troot.width = size.x;\n\t\troot.height = size.y;\n\t\troot.getContext('2d').translate(-min.x, -min.y);\n\t}\n});\n\n\n/*\n * L.LineUtil contains different utility functions for line segments\n * and polylines (clipping, simplification, distances, etc.)\n */\n\n/*jshint bitwise:false */ // allow bitwise operations for this file\n\nL.LineUtil = {\n\n\t// Simplify polyline with vertex reduction and Douglas-Peucker simplification.\n\t// Improves rendering performance dramatically by lessening the number of points to draw.\n\n\tsimplify: function (/*Point[]*/ points, /*Number*/ tolerance) {\n\t\tif (!tolerance || !points.length) {\n\t\t\treturn points.slice();\n\t\t}\n\n\t\tvar sqTolerance = tolerance * tolerance;\n\n\t\t// stage 1: vertex reduction\n\t\tpoints = this._reducePoints(points, sqTolerance);\n\n\t\t// stage 2: Douglas-Peucker simplification\n\t\tpoints = this._simplifyDP(points, sqTolerance);\n\n\t\treturn points;\n\t},\n\n\t// distance from a point to a segment between two points\n\tpointToSegmentDistance:  function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {\n\t\treturn Math.sqrt(this._sqClosestPointOnSegment(p, p1, p2, true));\n\t},\n\n\tclosestPointOnSegment: function (/*Point*/ p, /*Point*/ p1, /*Point*/ p2) {\n\t\treturn this._sqClosestPointOnSegment(p, p1, p2);\n\t},\n\n\t// Douglas-Peucker simplification, see http://en.wikipedia.org/wiki/Douglas-Peucker_algorithm\n\t_simplifyDP: function (points, sqTolerance) {\n\n\t\tvar len = points.length,\n\t\t    ArrayConstructor = typeof Uint8Array !== undefined + '' ? Uint8Array : Array,\n\t\t    markers = new ArrayConstructor(len);\n\n\t\tmarkers[0] = markers[len - 1] = 1;\n\n\t\tthis._simplifyDPStep(points, markers, sqTolerance, 0, len - 1);\n\n\t\tvar i,\n\t\t    newPoints = [];\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (markers[i]) {\n\t\t\t\tnewPoints.push(points[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn newPoints;\n\t},\n\n\t_simplifyDPStep: function (points, markers, sqTolerance, first, last) {\n\n\t\tvar maxSqDist = 0,\n\t\t    index, i, sqDist;\n\n\t\tfor (i = first + 1; i <= last - 1; i++) {\n\t\t\tsqDist = this._sqClosestPointOnSegment(points[i], points[first], points[last], true);\n\n\t\t\tif (sqDist > maxSqDist) {\n\t\t\t\tindex = i;\n\t\t\t\tmaxSqDist = sqDist;\n\t\t\t}\n\t\t}\n\n\t\tif (maxSqDist > sqTolerance) {\n\t\t\tmarkers[index] = 1;\n\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, first, index);\n\t\t\tthis._simplifyDPStep(points, markers, sqTolerance, index, last);\n\t\t}\n\t},\n\n\t// reduce points that are too close to each other to a single point\n\t_reducePoints: function (points, sqTolerance) {\n\t\tvar reducedPoints = [points[0]];\n\n\t\tfor (var i = 1, prev = 0, len = points.length; i < len; i++) {\n\t\t\tif (this._sqDist(points[i], points[prev]) > sqTolerance) {\n\t\t\t\treducedPoints.push(points[i]);\n\t\t\t\tprev = i;\n\t\t\t}\n\t\t}\n\t\tif (prev < len - 1) {\n\t\t\treducedPoints.push(points[len - 1]);\n\t\t}\n\t\treturn reducedPoints;\n\t},\n\n\t// Cohen-Sutherland line clipping algorithm.\n\t// Used to avoid rendering parts of a polyline that are not currently visible.\n\n\tclipSegment: function (a, b, bounds, useLastCode) {\n\t\tvar codeA = useLastCode ? this._lastCode : this._getBitCode(a, bounds),\n\t\t    codeB = this._getBitCode(b, bounds),\n\n\t\t    codeOut, p, newCode;\n\n\t\t// save 2nd code to avoid calculating it on the next segment\n\t\tthis._lastCode = codeB;\n\n\t\twhile (true) {\n\t\t\t// if a,b is inside the clip window (trivial accept)\n\t\t\tif (!(codeA | codeB)) {\n\t\t\t\treturn [a, b];\n\t\t\t// if a,b is outside the clip window (trivial reject)\n\t\t\t} else if (codeA & codeB) {\n\t\t\t\treturn false;\n\t\t\t// other cases\n\t\t\t} else {\n\t\t\t\tcodeOut = codeA || codeB;\n\t\t\t\tp = this._getEdgeIntersection(a, b, codeOut, bounds);\n\t\t\t\tnewCode = this._getBitCode(p, bounds);\n\n\t\t\t\tif (codeOut === codeA) {\n\t\t\t\t\ta = p;\n\t\t\t\t\tcodeA = newCode;\n\t\t\t\t} else {\n\t\t\t\t\tb = p;\n\t\t\t\t\tcodeB = newCode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_getEdgeIntersection: function (a, b, code, bounds) {\n\t\tvar dx = b.x - a.x,\n\t\t    dy = b.y - a.y,\n\t\t    min = bounds.min,\n\t\t    max = bounds.max;\n\n\t\tif (code & 8) { // top\n\t\t\treturn new L.Point(a.x + dx * (max.y - a.y) / dy, max.y);\n\t\t} else if (code & 4) { // bottom\n\t\t\treturn new L.Point(a.x + dx * (min.y - a.y) / dy, min.y);\n\t\t} else if (code & 2) { // right\n\t\t\treturn new L.Point(max.x, a.y + dy * (max.x - a.x) / dx);\n\t\t} else if (code & 1) { // left\n\t\t\treturn new L.Point(min.x, a.y + dy * (min.x - a.x) / dx);\n\t\t}\n\t},\n\n\t_getBitCode: function (/*Point*/ p, bounds) {\n\t\tvar code = 0;\n\n\t\tif (p.x < bounds.min.x) { // left\n\t\t\tcode |= 1;\n\t\t} else if (p.x > bounds.max.x) { // right\n\t\t\tcode |= 2;\n\t\t}\n\t\tif (p.y < bounds.min.y) { // bottom\n\t\t\tcode |= 4;\n\t\t} else if (p.y > bounds.max.y) { // top\n\t\t\tcode |= 8;\n\t\t}\n\n\t\treturn code;\n\t},\n\n\t// square distance (to avoid unnecessary Math.sqrt calls)\n\t_sqDist: function (p1, p2) {\n\t\tvar dx = p2.x - p1.x,\n\t\t    dy = p2.y - p1.y;\n\t\treturn dx * dx + dy * dy;\n\t},\n\n\t// return closest point on segment or distance to that point\n\t_sqClosestPointOnSegment: function (p, p1, p2, sqDist) {\n\t\tvar x = p1.x,\n\t\t    y = p1.y,\n\t\t    dx = p2.x - x,\n\t\t    dy = p2.y - y,\n\t\t    dot = dx * dx + dy * dy,\n\t\t    t;\n\n\t\tif (dot > 0) {\n\t\t\tt = ((p.x - x) * dx + (p.y - y) * dy) / dot;\n\n\t\t\tif (t > 1) {\n\t\t\t\tx = p2.x;\n\t\t\t\ty = p2.y;\n\t\t\t} else if (t > 0) {\n\t\t\t\tx += dx * t;\n\t\t\t\ty += dy * t;\n\t\t\t}\n\t\t}\n\n\t\tdx = p.x - x;\n\t\tdy = p.y - y;\n\n\t\treturn sqDist ? dx * dx + dy * dy : new L.Point(x, y);\n\t}\n};\n\n\n/*\n * L.Polyline is used to display polylines on a map.\n */\n\nL.Polyline = L.Path.extend({\n\tinitialize: function (latlngs, options) {\n\t\tL.Path.prototype.initialize.call(this, options);\n\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\n\t},\n\n\toptions: {\n\t\t// how much to simplify the polyline on each zoom level\n\t\t// more = better performance and smoother look, less = more accurate\n\t\tsmoothFactor: 1.0,\n\t\tnoClip: false\n\t},\n\n\tprojectLatlngs: function () {\n\t\tthis._originalPoints = [];\n\n\t\tfor (var i = 0, len = this._latlngs.length; i < len; i++) {\n\t\t\tthis._originalPoints[i] = this._map.latLngToLayerPoint(this._latlngs[i]);\n\t\t}\n\t},\n\n\tgetPathString: function () {\n\t\tfor (var i = 0, len = this._parts.length, str = ''; i < len; i++) {\n\t\t\tstr += this._getPathPartStr(this._parts[i]);\n\t\t}\n\t\treturn str;\n\t},\n\n\tgetLatLngs: function () {\n\t\treturn this._latlngs;\n\t},\n\n\tsetLatLngs: function (latlngs) {\n\t\tthis._latlngs = this._convertLatLngs(latlngs);\n\t\treturn this.redraw();\n\t},\n\n\taddLatLng: function (latlng) {\n\t\tthis._latlngs.push(L.latLng(latlng));\n\t\treturn this.redraw();\n\t},\n\n\tspliceLatLngs: function () { // (Number index, Number howMany)\n\t\tvar removed = [].splice.apply(this._latlngs, arguments);\n\t\tthis._convertLatLngs(this._latlngs, true);\n\t\tthis.redraw();\n\t\treturn removed;\n\t},\n\n\tclosestLayerPoint: function (p) {\n\t\tvar minDistance = Infinity, parts = this._parts, p1, p2, minPoint = null;\n\n\t\tfor (var j = 0, jLen = parts.length; j < jLen; j++) {\n\t\t\tvar points = parts[j];\n\t\t\tfor (var i = 1, len = points.length; i < len; i++) {\n\t\t\t\tp1 = points[i - 1];\n\t\t\t\tp2 = points[i];\n\t\t\t\tvar sqDist = L.LineUtil._sqClosestPointOnSegment(p, p1, p2, true);\n\t\t\t\tif (sqDist < minDistance) {\n\t\t\t\t\tminDistance = sqDist;\n\t\t\t\t\tminPoint = L.LineUtil._sqClosestPointOnSegment(p, p1, p2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minPoint) {\n\t\t\tminPoint.distance = Math.sqrt(minDistance);\n\t\t}\n\t\treturn minPoint;\n\t},\n\n\tgetBounds: function () {\n\t\treturn new L.LatLngBounds(this.getLatLngs());\n\t},\n\n\t_convertLatLngs: function (latlngs, overwrite) {\n\t\tvar i, len, target = overwrite ? latlngs : [];\n\n\t\tfor (i = 0, len = latlngs.length; i < len; i++) {\n\t\t\tif (L.Util.isArray(latlngs[i]) && typeof latlngs[i][0] !== 'number') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttarget[i] = L.latLng(latlngs[i]);\n\t\t}\n\t\treturn target;\n\t},\n\n\t_initEvents: function () {\n\t\tL.Path.prototype._initEvents.call(this);\n\t},\n\n\t_getPathPartStr: function (points) {\n\t\tvar round = L.Path.VML;\n\n\t\tfor (var j = 0, len2 = points.length, str = '', p; j < len2; j++) {\n\t\t\tp = points[j];\n\t\t\tif (round) {\n\t\t\t\tp._round();\n\t\t\t}\n\t\t\tstr += (j ? 'L' : 'M') + p.x + ' ' + p.y;\n\t\t}\n\t\treturn str;\n\t},\n\n\t_clipPoints: function () {\n\t\tvar points = this._originalPoints,\n\t\t    len = points.length,\n\t\t    i, k, segment;\n\n\t\tif (this.options.noClip) {\n\t\t\tthis._parts = [points];\n\t\t\treturn;\n\t\t}\n\n\t\tthis._parts = [];\n\n\t\tvar parts = this._parts,\n\t\t    vp = this._map._pathViewport,\n\t\t    lu = L.LineUtil;\n\n\t\tfor (i = 0, k = 0; i < len - 1; i++) {\n\t\t\tsegment = lu.clipSegment(points[i], points[i + 1], vp, i);\n\t\t\tif (!segment) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tparts[k] = parts[k] || [];\n\t\t\tparts[k].push(segment[0]);\n\n\t\t\t// if segment goes out of screen, or it's the last one, it's the end of the line part\n\t\t\tif ((segment[1] !== points[i + 1]) || (i === len - 2)) {\n\t\t\t\tparts[k].push(segment[1]);\n\t\t\t\tk++;\n\t\t\t}\n\t\t}\n\t},\n\n\t// simplify each clipped part of the polyline\n\t_simplifyPoints: function () {\n\t\tvar parts = this._parts,\n\t\t    lu = L.LineUtil;\n\n\t\tfor (var i = 0, len = parts.length; i < len; i++) {\n\t\t\tparts[i] = lu.simplify(parts[i], this.options.smoothFactor);\n\t\t}\n\t},\n\n\t_updatePath: function () {\n\t\tif (!this._map) { return; }\n\n\t\tthis._clipPoints();\n\t\tthis._simplifyPoints();\n\n\t\tL.Path.prototype._updatePath.call(this);\n\t}\n});\n\nL.polyline = function (latlngs, options) {\n\treturn new L.Polyline(latlngs, options);\n};\n\n\n/*\n * L.PolyUtil contains utility functions for polygons (clipping, etc.).\n */\n\n/*jshint bitwise:false */ // allow bitwise operations here\n\nL.PolyUtil = {};\n\n/*\n * Sutherland-Hodgeman polygon clipping algorithm.\n * Used to avoid rendering parts of a polygon that are not currently visible.\n */\nL.PolyUtil.clipPolygon = function (points, bounds) {\n\tvar clippedPoints,\n\t    edges = [1, 4, 2, 8],\n\t    i, j, k,\n\t    a, b,\n\t    len, edge, p,\n\t    lu = L.LineUtil;\n\n\tfor (i = 0, len = points.length; i < len; i++) {\n\t\tpoints[i]._code = lu._getBitCode(points[i], bounds);\n\t}\n\n\t// for each edge (left, bottom, right, top)\n\tfor (k = 0; k < 4; k++) {\n\t\tedge = edges[k];\n\t\tclippedPoints = [];\n\n\t\tfor (i = 0, len = points.length, j = len - 1; i < len; j = i++) {\n\t\t\ta = points[i];\n\t\t\tb = points[j];\n\n\t\t\t// if a is inside the clip window\n\t\t\tif (!(a._code & edge)) {\n\t\t\t\t// if b is outside the clip window (a->b goes out of screen)\n\t\t\t\tif (b._code & edge) {\n\t\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);\n\t\t\t\t\tp._code = lu._getBitCode(p, bounds);\n\t\t\t\t\tclippedPoints.push(p);\n\t\t\t\t}\n\t\t\t\tclippedPoints.push(a);\n\n\t\t\t// else if b is inside the clip window (a->b enters the screen)\n\t\t\t} else if (!(b._code & edge)) {\n\t\t\t\tp = lu._getEdgeIntersection(b, a, edge, bounds);\n\t\t\t\tp._code = lu._getBitCode(p, bounds);\n\t\t\t\tclippedPoints.push(p);\n\t\t\t}\n\t\t}\n\t\tpoints = clippedPoints;\n\t}\n\n\treturn points;\n};\n\n\n/*\n * L.Polygon is used to display polygons on a map.\n */\n\nL.Polygon = L.Polyline.extend({\n\toptions: {\n\t\tfill: true\n\t},\n\n\tinitialize: function (latlngs, options) {\n\t\tL.Polyline.prototype.initialize.call(this, latlngs, options);\n\t\tthis._initWithHoles(latlngs);\n\t},\n\n\t_initWithHoles: function (latlngs) {\n\t\tvar i, len, hole;\n\t\tif (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {\n\t\t\tthis._latlngs = this._convertLatLngs(latlngs[0]);\n\t\t\tthis._holes = latlngs.slice(1);\n\n\t\t\tfor (i = 0, len = this._holes.length; i < len; i++) {\n\t\t\t\thole = this._holes[i] = this._convertLatLngs(this._holes[i]);\n\t\t\t\tif (hole[0].equals(hole[hole.length - 1])) {\n\t\t\t\t\thole.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// filter out last point if its equal to the first one\n\t\tlatlngs = this._latlngs;\n\n\t\tif (latlngs.length >= 2 && latlngs[0].equals(latlngs[latlngs.length - 1])) {\n\t\t\tlatlngs.pop();\n\t\t}\n\t},\n\n\tprojectLatlngs: function () {\n\t\tL.Polyline.prototype.projectLatlngs.call(this);\n\n\t\t// project polygon holes points\n\t\t// TODO move this logic to Polyline to get rid of duplication\n\t\tthis._holePoints = [];\n\n\t\tif (!this._holes) { return; }\n\n\t\tvar i, j, len, len2;\n\n\t\tfor (i = 0, len = this._holes.length; i < len; i++) {\n\t\t\tthis._holePoints[i] = [];\n\n\t\t\tfor (j = 0, len2 = this._holes[i].length; j < len2; j++) {\n\t\t\t\tthis._holePoints[i][j] = this._map.latLngToLayerPoint(this._holes[i][j]);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetLatLngs: function (latlngs) {\n\t\tif (latlngs && L.Util.isArray(latlngs[0]) && (typeof latlngs[0][0] !== 'number')) {\n\t\t\tthis._initWithHoles(latlngs);\n\t\t\treturn this.redraw();\n\t\t} else {\n\t\t\treturn L.Polyline.prototype.setLatLngs.call(this, latlngs);\n\t\t}\n\t},\n\n\t_clipPoints: function () {\n\t\tvar points = this._originalPoints,\n\t\t    newParts = [];\n\n\t\tthis._parts = [points].concat(this._holePoints);\n\n\t\tif (this.options.noClip) { return; }\n\n\t\tfor (var i = 0, len = this._parts.length; i < len; i++) {\n\t\t\tvar clipped = L.PolyUtil.clipPolygon(this._parts[i], this._map._pathViewport);\n\t\t\tif (clipped.length) {\n\t\t\t\tnewParts.push(clipped);\n\t\t\t}\n\t\t}\n\n\t\tthis._parts = newParts;\n\t},\n\n\t_getPathPartStr: function (points) {\n\t\tvar str = L.Polyline.prototype._getPathPartStr.call(this, points);\n\t\treturn str + (L.Browser.svg ? 'z' : 'x');\n\t}\n});\n\nL.polygon = function (latlngs, options) {\n\treturn new L.Polygon(latlngs, options);\n};\n\n\n/*\n * Contains L.MultiPolyline and L.MultiPolygon layers.\n */\n\n(function () {\n\tfunction createMulti(Klass) {\n\n\t\treturn L.FeatureGroup.extend({\n\n\t\t\tinitialize: function (latlngs, options) {\n\t\t\t\tthis._layers = {};\n\t\t\t\tthis._options = options;\n\t\t\t\tthis.setLatLngs(latlngs);\n\t\t\t},\n\n\t\t\tsetLatLngs: function (latlngs) {\n\t\t\t\tvar i = 0,\n\t\t\t\t    len = latlngs.length;\n\n\t\t\t\tthis.eachLayer(function (layer) {\n\t\t\t\t\tif (i < len) {\n\t\t\t\t\t\tlayer.setLatLngs(latlngs[i++]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.removeLayer(layer);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\twhile (i < len) {\n\t\t\t\t\tthis.addLayer(new Klass(latlngs[i++], this._options));\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tgetLatLngs: function () {\n\t\t\t\tvar latlngs = [];\n\n\t\t\t\tthis.eachLayer(function (layer) {\n\t\t\t\t\tlatlngs.push(layer.getLatLngs());\n\t\t\t\t});\n\n\t\t\t\treturn latlngs;\n\t\t\t}\n\t\t});\n\t}\n\n\tL.MultiPolyline = createMulti(L.Polyline);\n\tL.MultiPolygon = createMulti(L.Polygon);\n\n\tL.multiPolyline = function (latlngs, options) {\n\t\treturn new L.MultiPolyline(latlngs, options);\n\t};\n\n\tL.multiPolygon = function (latlngs, options) {\n\t\treturn new L.MultiPolygon(latlngs, options);\n\t};\n}());\n\n\n/*\n * L.Rectangle extends Polygon and creates a rectangle when passed a LatLngBounds object.\n */\n\nL.Rectangle = L.Polygon.extend({\n\tinitialize: function (latLngBounds, options) {\n\t\tL.Polygon.prototype.initialize.call(this, this._boundsToLatLngs(latLngBounds), options);\n\t},\n\n\tsetBounds: function (latLngBounds) {\n\t\tthis.setLatLngs(this._boundsToLatLngs(latLngBounds));\n\t},\n\n\t_boundsToLatLngs: function (latLngBounds) {\n\t\tlatLngBounds = L.latLngBounds(latLngBounds);\n\t\treturn [\n\t\t\tlatLngBounds.getSouthWest(),\n\t\t\tlatLngBounds.getNorthWest(),\n\t\t\tlatLngBounds.getNorthEast(),\n\t\t\tlatLngBounds.getSouthEast()\n\t\t];\n\t}\n});\n\nL.rectangle = function (latLngBounds, options) {\n\treturn new L.Rectangle(latLngBounds, options);\n};\n\n\n/*\n * L.Circle is a circle overlay (with a certain radius in meters).\n */\n\nL.Circle = L.Path.extend({\n\tinitialize: function (latlng, radius, options) {\n\t\tL.Path.prototype.initialize.call(this, options);\n\n\t\tthis._latlng = L.latLng(latlng);\n\t\tthis._mRadius = radius;\n\t},\n\n\toptions: {\n\t\tfill: true\n\t},\n\n\tsetLatLng: function (latlng) {\n\t\tthis._latlng = L.latLng(latlng);\n\t\treturn this.redraw();\n\t},\n\n\tsetRadius: function (radius) {\n\t\tthis._mRadius = radius;\n\t\treturn this.redraw();\n\t},\n\n\tprojectLatlngs: function () {\n\t\tvar lngRadius = this._getLngRadius(),\n\t\t    latlng = this._latlng,\n\t\t    pointLeft = this._map.latLngToLayerPoint([latlng.lat, latlng.lng - lngRadius]);\n\n\t\tthis._point = this._map.latLngToLayerPoint(latlng);\n\t\tthis._radius = Math.max(this._point.x - pointLeft.x, 1);\n\t},\n\n\tgetBounds: function () {\n\t\tvar lngRadius = this._getLngRadius(),\n\t\t    latRadius = (this._mRadius / 40075017) * 360,\n\t\t    latlng = this._latlng;\n\n\t\treturn new L.LatLngBounds(\n\t\t        [latlng.lat - latRadius, latlng.lng - lngRadius],\n\t\t        [latlng.lat + latRadius, latlng.lng + lngRadius]);\n\t},\n\n\tgetLatLng: function () {\n\t\treturn this._latlng;\n\t},\n\n\tgetPathString: function () {\n\t\tvar p = this._point,\n\t\t    r = this._radius;\n\n\t\tif (this._checkIfEmpty()) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (L.Browser.svg) {\n\t\t\treturn 'M' + p.x + ',' + (p.y - r) +\n\t\t\t       'A' + r + ',' + r + ',0,1,1,' +\n\t\t\t       (p.x - 0.1) + ',' + (p.y - r) + ' z';\n\t\t} else {\n\t\t\tp._round();\n\t\t\tr = Math.round(r);\n\t\t\treturn 'AL ' + p.x + ',' + p.y + ' ' + r + ',' + r + ' 0,' + (65535 * 360);\n\t\t}\n\t},\n\n\tgetRadius: function () {\n\t\treturn this._mRadius;\n\t},\n\n\t// TODO Earth hardcoded, move into projection code!\n\n\t_getLatRadius: function () {\n\t\treturn (this._mRadius / 40075017) * 360;\n\t},\n\n\t_getLngRadius: function () {\n\t\treturn this._getLatRadius() / Math.cos(L.LatLng.DEG_TO_RAD * this._latlng.lat);\n\t},\n\n\t_checkIfEmpty: function () {\n\t\tif (!this._map) {\n\t\t\treturn false;\n\t\t}\n\t\tvar vp = this._map._pathViewport,\n\t\t    r = this._radius,\n\t\t    p = this._point;\n\n\t\treturn p.x - r > vp.max.x || p.y - r > vp.max.y ||\n\t\t       p.x + r < vp.min.x || p.y + r < vp.min.y;\n\t}\n});\n\nL.circle = function (latlng, radius, options) {\n\treturn new L.Circle(latlng, radius, options);\n};\n\n\n/*\n * L.CircleMarker is a circle overlay with a permanent pixel radius.\n */\n\nL.CircleMarker = L.Circle.extend({\n\toptions: {\n\t\tradius: 10,\n\t\tweight: 2\n\t},\n\n\tinitialize: function (latlng, options) {\n\t\tL.Circle.prototype.initialize.call(this, latlng, null, options);\n\t\tthis._radius = this.options.radius;\n\t},\n\n\tprojectLatlngs: function () {\n\t\tthis._point = this._map.latLngToLayerPoint(this._latlng);\n\t},\n\n\t_updateStyle : function () {\n\t\tL.Circle.prototype._updateStyle.call(this);\n\t\tthis.setRadius(this.options.radius);\n\t},\n\n\tsetLatLng: function (latlng) {\n\t\tL.Circle.prototype.setLatLng.call(this, latlng);\n\t\tif (this._popup && this._popup._isOpen) {\n\t\t\tthis._popup.setLatLng(latlng);\n\t\t}\n\t\treturn this;\n\t},\n\n\tsetRadius: function (radius) {\n\t\tthis.options.radius = this._radius = radius;\n\t\treturn this.redraw();\n\t},\n\n\tgetRadius: function () {\n\t\treturn this._radius;\n\t}\n});\n\nL.circleMarker = function (latlng, options) {\n\treturn new L.CircleMarker(latlng, options);\n};\n\n\n/*\n * Extends L.Polyline to be able to manually detect clicks on Canvas-rendered polylines.\n */\n\nL.Polyline.include(!L.Path.CANVAS ? {} : {\n\t_containsPoint: function (p, closed) {\n\t\tvar i, j, k, len, len2, dist, part,\n\t\t    w = this.options.weight / 2;\n\n\t\tif (L.Browser.touch) {\n\t\t\tw += 10; // polyline click tolerance on touch devices\n\t\t}\n\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\t\tpart = this._parts[i];\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\t\tif (!closed && (j === 0)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tdist = L.LineUtil.pointToSegmentDistance(p, part[k], part[j]);\n\n\t\t\t\tif (dist <= w) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\n\n/*\n * Extends L.Polygon to be able to manually detect clicks on Canvas-rendered polygons.\n */\n\nL.Polygon.include(!L.Path.CANVAS ? {} : {\n\t_containsPoint: function (p) {\n\t\tvar inside = false,\n\t\t    part, p1, p2,\n\t\t    i, j, k,\n\t\t    len, len2;\n\n\t\t// TODO optimization: check if within bounds first\n\n\t\tif (L.Polyline.prototype._containsPoint.call(this, p, true)) {\n\t\t\t// click on polygon border\n\t\t\treturn true;\n\t\t}\n\n\t\t// ray casting algorithm for detecting if point is in polygon\n\n\t\tfor (i = 0, len = this._parts.length; i < len; i++) {\n\t\t\tpart = this._parts[i];\n\n\t\t\tfor (j = 0, len2 = part.length, k = len2 - 1; j < len2; k = j++) {\n\t\t\t\tp1 = part[j];\n\t\t\t\tp2 = part[k];\n\n\t\t\t\tif (((p1.y > p.y) !== (p2.y > p.y)) &&\n\t\t\t\t\t\t(p.x < (p2.x - p1.x) * (p.y - p1.y) / (p2.y - p1.y) + p1.x)) {\n\t\t\t\t\tinside = !inside;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn inside;\n\t}\n});\n\n\n/*\n * Extends L.Circle with Canvas-specific code.\n */\n\nL.Circle.include(!L.Path.CANVAS ? {} : {\n\t_drawPath: function () {\n\t\tvar p = this._point;\n\t\tthis._ctx.beginPath();\n\t\tthis._ctx.arc(p.x, p.y, this._radius, 0, Math.PI * 2, false);\n\t},\n\n\t_containsPoint: function (p) {\n\t\tvar center = this._point,\n\t\t    w2 = this.options.stroke ? this.options.weight / 2 : 0;\n\n\t\treturn (p.distanceTo(center) <= this._radius + w2);\n\t}\n});\n\n\n/*\n * CircleMarker canvas specific drawing parts.\n */\n\nL.CircleMarker.include(!L.Path.CANVAS ? {} : {\n\t_updateStyle: function () {\n\t\tL.Path.prototype._updateStyle.call(this);\n\t}\n});\n\n\n/*\n * L.GeoJSON turns any GeoJSON data into a Leaflet layer.\n */\n\nL.GeoJSON = L.FeatureGroup.extend({\n\n\tinitialize: function (geojson, options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._layers = {};\n\n\t\tif (geojson) {\n\t\t\tthis.addData(geojson);\n\t\t}\n\t},\n\n\taddData: function (geojson) {\n\t\tvar features = L.Util.isArray(geojson) ? geojson : geojson.features,\n\t\t    i, len, feature;\n\n\t\tif (features) {\n\t\t\tfor (i = 0, len = features.length; i < len; i++) {\n\t\t\t\t// Only add this if geometry or geometries are set and not null\n\t\t\t\tfeature = features[i];\n\t\t\t\tif (feature.geometries || feature.geometry || feature.features || feature.coordinates) {\n\t\t\t\t\tthis.addData(features[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\tif (options.filter && !options.filter(geojson)) { return; }\n\n\t\tvar layer = L.GeoJSON.geometryToLayer(geojson, options.pointToLayer, options.coordsToLatLng, options);\n\t\tlayer.feature = L.GeoJSON.asFeature(geojson);\n\n\t\tlayer.defaultOptions = layer.options;\n\t\tthis.resetStyle(layer);\n\n\t\tif (options.onEachFeature) {\n\t\t\toptions.onEachFeature(geojson, layer);\n\t\t}\n\n\t\treturn this.addLayer(layer);\n\t},\n\n\tresetStyle: function (layer) {\n\t\tvar style = this.options.style;\n\t\tif (style) {\n\t\t\t// reset any custom styles\n\t\t\tL.Util.extend(layer.options, layer.defaultOptions);\n\n\t\t\tthis._setLayerStyle(layer, style);\n\t\t}\n\t},\n\n\tsetStyle: function (style) {\n\t\tthis.eachLayer(function (layer) {\n\t\t\tthis._setLayerStyle(layer, style);\n\t\t}, this);\n\t},\n\n\t_setLayerStyle: function (layer, style) {\n\t\tif (typeof style === 'function') {\n\t\t\tstyle = style(layer.feature);\n\t\t}\n\t\tif (layer.setStyle) {\n\t\t\tlayer.setStyle(style);\n\t\t}\n\t}\n});\n\nL.extend(L.GeoJSON, {\n\tgeometryToLayer: function (geojson, pointToLayer, coordsToLatLng, vectorOptions) {\n\t\tvar geometry = geojson.type === 'Feature' ? geojson.geometry : geojson,\n\t\t    coords = geometry.coordinates,\n\t\t    layers = [],\n\t\t    latlng, latlngs, i, len;\n\n\t\tcoordsToLatLng = coordsToLatLng || this.coordsToLatLng;\n\n\t\tswitch (geometry.type) {\n\t\tcase 'Point':\n\t\t\tlatlng = coordsToLatLng(coords);\n\t\t\treturn pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng);\n\n\t\tcase 'MultiPoint':\n\t\t\tfor (i = 0, len = coords.length; i < len; i++) {\n\t\t\t\tlatlng = coordsToLatLng(coords[i]);\n\t\t\t\tlayers.push(pointToLayer ? pointToLayer(geojson, latlng) : new L.Marker(latlng));\n\t\t\t}\n\t\t\treturn new L.FeatureGroup(layers);\n\n\t\tcase 'LineString':\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 0, coordsToLatLng);\n\t\t\treturn new L.Polyline(latlngs, vectorOptions);\n\n\t\tcase 'Polygon':\n\t\t\tif (coords.length === 2 && !coords[1].length) {\n\t\t\t\tthrow new Error('Invalid GeoJSON object.');\n\t\t\t}\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);\n\t\t\treturn new L.Polygon(latlngs, vectorOptions);\n\n\t\tcase 'MultiLineString':\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 1, coordsToLatLng);\n\t\t\treturn new L.MultiPolyline(latlngs, vectorOptions);\n\n\t\tcase 'MultiPolygon':\n\t\t\tlatlngs = this.coordsToLatLngs(coords, 2, coordsToLatLng);\n\t\t\treturn new L.MultiPolygon(latlngs, vectorOptions);\n\n\t\tcase 'GeometryCollection':\n\t\t\tfor (i = 0, len = geometry.geometries.length; i < len; i++) {\n\n\t\t\t\tlayers.push(this.geometryToLayer({\n\t\t\t\t\tgeometry: geometry.geometries[i],\n\t\t\t\t\ttype: 'Feature',\n\t\t\t\t\tproperties: geojson.properties\n\t\t\t\t}, pointToLayer, coordsToLatLng, vectorOptions));\n\t\t\t}\n\t\t\treturn new L.FeatureGroup(layers);\n\n\t\tdefault:\n\t\t\tthrow new Error('Invalid GeoJSON object.');\n\t\t}\n\t},\n\n\tcoordsToLatLng: function (coords) { // (Array[, Boolean]) -> LatLng\n\t\treturn new L.LatLng(coords[1], coords[0], coords[2]);\n\t},\n\n\tcoordsToLatLngs: function (coords, levelsDeep, coordsToLatLng) { // (Array[, Number, Function]) -> Array\n\t\tvar latlng, i, len,\n\t\t    latlngs = [];\n\n\t\tfor (i = 0, len = coords.length; i < len; i++) {\n\t\t\tlatlng = levelsDeep ?\n\t\t\t        this.coordsToLatLngs(coords[i], levelsDeep - 1, coordsToLatLng) :\n\t\t\t        (coordsToLatLng || this.coordsToLatLng)(coords[i]);\n\n\t\t\tlatlngs.push(latlng);\n\t\t}\n\n\t\treturn latlngs;\n\t},\n\n\tlatLngToCoords: function (latlng) {\n\t\tvar coords = [latlng.lng, latlng.lat];\n\n\t\tif (latlng.alt !== undefined) {\n\t\t\tcoords.push(latlng.alt);\n\t\t}\n\t\treturn coords;\n\t},\n\n\tlatLngsToCoords: function (latLngs) {\n\t\tvar coords = [];\n\n\t\tfor (var i = 0, len = latLngs.length; i < len; i++) {\n\t\t\tcoords.push(L.GeoJSON.latLngToCoords(latLngs[i]));\n\t\t}\n\n\t\treturn coords;\n\t},\n\n\tgetFeature: function (layer, newGeometry) {\n\t\treturn layer.feature ? L.extend({}, layer.feature, {geometry: newGeometry}) : L.GeoJSON.asFeature(newGeometry);\n\t},\n\n\tasFeature: function (geoJSON) {\n\t\tif (geoJSON.type === 'Feature') {\n\t\t\treturn geoJSON;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'Feature',\n\t\t\tproperties: {},\n\t\t\tgeometry: geoJSON\n\t\t};\n\t}\n});\n\nvar PointToGeoJSON = {\n\ttoGeoJSON: function () {\n\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\ttype: 'Point',\n\t\t\tcoordinates: L.GeoJSON.latLngToCoords(this.getLatLng())\n\t\t});\n\t}\n};\n\nL.Marker.include(PointToGeoJSON);\nL.Circle.include(PointToGeoJSON);\nL.CircleMarker.include(PointToGeoJSON);\n\nL.Polyline.include({\n\ttoGeoJSON: function () {\n\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\ttype: 'LineString',\n\t\t\tcoordinates: L.GeoJSON.latLngsToCoords(this.getLatLngs())\n\t\t});\n\t}\n});\n\nL.Polygon.include({\n\ttoGeoJSON: function () {\n\t\tvar coords = [L.GeoJSON.latLngsToCoords(this.getLatLngs())],\n\t\t    i, len, hole;\n\n\t\tcoords[0].push(coords[0][0]);\n\n\t\tif (this._holes) {\n\t\t\tfor (i = 0, len = this._holes.length; i < len; i++) {\n\t\t\t\thole = L.GeoJSON.latLngsToCoords(this._holes[i]);\n\t\t\t\thole.push(hole[0]);\n\t\t\t\tcoords.push(hole);\n\t\t\t}\n\t\t}\n\n\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\ttype: 'Polygon',\n\t\t\tcoordinates: coords\n\t\t});\n\t}\n});\n\n(function () {\n\tfunction multiToGeoJSON(type) {\n\t\treturn function () {\n\t\t\tvar coords = [];\n\n\t\t\tthis.eachLayer(function (layer) {\n\t\t\t\tcoords.push(layer.toGeoJSON().geometry.coordinates);\n\t\t\t});\n\n\t\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\t\ttype: type,\n\t\t\t\tcoordinates: coords\n\t\t\t});\n\t\t};\n\t}\n\n\tL.MultiPolyline.include({toGeoJSON: multiToGeoJSON('MultiLineString')});\n\tL.MultiPolygon.include({toGeoJSON: multiToGeoJSON('MultiPolygon')});\n\n\tL.LayerGroup.include({\n\t\ttoGeoJSON: function () {\n\n\t\t\tvar geometry = this.feature && this.feature.geometry,\n\t\t\t\tjsons = [],\n\t\t\t\tjson;\n\n\t\t\tif (geometry && geometry.type === 'MultiPoint') {\n\t\t\t\treturn multiToGeoJSON('MultiPoint').call(this);\n\t\t\t}\n\n\t\t\tvar isGeometryCollection = geometry && geometry.type === 'GeometryCollection';\n\n\t\t\tthis.eachLayer(function (layer) {\n\t\t\t\tif (layer.toGeoJSON) {\n\t\t\t\t\tjson = layer.toGeoJSON();\n\t\t\t\t\tjsons.push(isGeometryCollection ? json.geometry : L.GeoJSON.asFeature(json));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (isGeometryCollection) {\n\t\t\t\treturn L.GeoJSON.getFeature(this, {\n\t\t\t\t\tgeometries: jsons,\n\t\t\t\t\ttype: 'GeometryCollection'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttype: 'FeatureCollection',\n\t\t\t\tfeatures: jsons\n\t\t\t};\n\t\t}\n\t});\n}());\n\nL.geoJson = function (geojson, options) {\n\treturn new L.GeoJSON(geojson, options);\n};\n\n\n/*\n * L.DomEvent contains functions for working with DOM events.\n */\n\nL.DomEvent = {\n\t/* inspired by John Resig, Dean Edwards and YUI addEvent implementations */\n\taddListener: function (obj, type, fn, context) { // (HTMLElement, String, Function[, Object])\n\n\t\tvar id = L.stamp(fn),\n\t\t    key = '_leaflet_' + type + id,\n\t\t    handler, originalHandler, newType;\n\n\t\tif (obj[key]) { return this; }\n\n\t\thandler = function (e) {\n\t\t\treturn fn.call(context || obj, e || L.DomEvent._getEvent());\n\t\t};\n\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\n\t\t\treturn this.addPointerListener(obj, type, handler, id);\n\t\t}\n\t\tif (L.Browser.touch && (type === 'dblclick') && this.addDoubleTapListener) {\n\t\t\tthis.addDoubleTapListener(obj, handler, id);\n\t\t}\n\n\t\tif ('addEventListener' in obj) {\n\n\t\t\tif (type === 'mousewheel') {\n\t\t\t\tobj.addEventListener('DOMMouseScroll', handler, false);\n\t\t\t\tobj.addEventListener(type, handler, false);\n\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {\n\n\t\t\t\toriginalHandler = handler;\n\t\t\t\tnewType = (type === 'mouseenter' ? 'mouseover' : 'mouseout');\n\n\t\t\t\thandler = function (e) {\n\t\t\t\t\tif (!L.DomEvent._checkMouse(obj, e)) { return; }\n\t\t\t\t\treturn originalHandler(e);\n\t\t\t\t};\n\n\t\t\t\tobj.addEventListener(newType, handler, false);\n\n\t\t\t} else if (type === 'click' && L.Browser.android) {\n\t\t\t\toriginalHandler = handler;\n\t\t\t\thandler = function (e) {\n\t\t\t\t\treturn L.DomEvent._filterClick(e, originalHandler);\n\t\t\t\t};\n\n\t\t\t\tobj.addEventListener(type, handler, false);\n\t\t\t} else {\n\t\t\t\tobj.addEventListener(type, handler, false);\n\t\t\t}\n\n\t\t} else if ('attachEvent' in obj) {\n\t\t\tobj.attachEvent('on' + type, handler);\n\t\t}\n\n\t\tobj[key] = handler;\n\n\t\treturn this;\n\t},\n\n\tremoveListener: function (obj, type, fn) {  // (HTMLElement, String, Function)\n\n\t\tvar id = L.stamp(fn),\n\t\t    key = '_leaflet_' + type + id,\n\t\t    handler = obj[key];\n\n\t\tif (!handler) { return this; }\n\n\t\tif (L.Browser.pointer && type.indexOf('touch') === 0) {\n\t\t\tthis.removePointerListener(obj, type, id);\n\t\t} else if (L.Browser.touch && (type === 'dblclick') && this.removeDoubleTapListener) {\n\t\t\tthis.removeDoubleTapListener(obj, id);\n\n\t\t} else if ('removeEventListener' in obj) {\n\n\t\t\tif (type === 'mousewheel') {\n\t\t\t\tobj.removeEventListener('DOMMouseScroll', handler, false);\n\t\t\t\tobj.removeEventListener(type, handler, false);\n\n\t\t\t} else if ((type === 'mouseenter') || (type === 'mouseleave')) {\n\t\t\t\tobj.removeEventListener((type === 'mouseenter' ? 'mouseover' : 'mouseout'), handler, false);\n\t\t\t} else {\n\t\t\t\tobj.removeEventListener(type, handler, false);\n\t\t\t}\n\t\t} else if ('detachEvent' in obj) {\n\t\t\tobj.detachEvent('on' + type, handler);\n\t\t}\n\n\t\tobj[key] = null;\n\n\t\treturn this;\n\t},\n\n\tstopPropagation: function (e) {\n\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation();\n\t\t} else {\n\t\t\te.cancelBubble = true;\n\t\t}\n\t\tL.DomEvent._skipped(e);\n\n\t\treturn this;\n\t},\n\n\tdisableScrollPropagation: function (el) {\n\t\tvar stop = L.DomEvent.stopPropagation;\n\n\t\treturn L.DomEvent\n\t\t\t.on(el, 'mousewheel', stop)\n\t\t\t.on(el, 'MozMousePixelScroll', stop);\n\t},\n\n\tdisableClickPropagation: function (el) {\n\t\tvar stop = L.DomEvent.stopPropagation;\n\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {\n\t\t\tL.DomEvent.on(el, L.Draggable.START[i], stop);\n\t\t}\n\n\t\treturn L.DomEvent\n\t\t\t.on(el, 'click', L.DomEvent._fakeStop)\n\t\t\t.on(el, 'dblclick', stop);\n\t},\n\n\tpreventDefault: function (e) {\n\n\t\tif (e.preventDefault) {\n\t\t\te.preventDefault();\n\t\t} else {\n\t\t\te.returnValue = false;\n\t\t}\n\t\treturn this;\n\t},\n\n\tstop: function (e) {\n\t\treturn L.DomEvent\n\t\t\t.preventDefault(e)\n\t\t\t.stopPropagation(e);\n\t},\n\n\tgetMousePosition: function (e, container) {\n\t\tif (!container) {\n\t\t\treturn new L.Point(e.clientX, e.clientY);\n\t\t}\n\n\t\tvar rect = container.getBoundingClientRect();\n\n\t\treturn new L.Point(\n\t\t\te.clientX - rect.left - container.clientLeft,\n\t\t\te.clientY - rect.top - container.clientTop);\n\t},\n\n\tgetWheelDelta: function (e) {\n\n\t\tvar delta = 0;\n\n\t\tif (e.wheelDelta) {\n\t\t\tdelta = e.wheelDelta / 120;\n\t\t}\n\t\tif (e.detail) {\n\t\t\tdelta = -e.detail / 3;\n\t\t}\n\t\treturn delta;\n\t},\n\n\t_skipEvents: {},\n\n\t_fakeStop: function (e) {\n\t\t// fakes stopPropagation by setting a special event flag, checked/reset with L.DomEvent._skipped(e)\n\t\tL.DomEvent._skipEvents[e.type] = true;\n\t},\n\n\t_skipped: function (e) {\n\t\tvar skipped = this._skipEvents[e.type];\n\t\t// reset when checking, as it's only used in map container and propagates outside of the map\n\t\tthis._skipEvents[e.type] = false;\n\t\treturn skipped;\n\t},\n\n\t// check if element really left/entered the event target (for mouseenter/mouseleave)\n\t_checkMouse: function (el, e) {\n\n\t\tvar related = e.relatedTarget;\n\n\t\tif (!related) { return true; }\n\n\t\ttry {\n\t\t\twhile (related && (related !== el)) {\n\t\t\t\trelated = related.parentNode;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (related !== el);\n\t},\n\n\t_getEvent: function () { // evil magic for IE\n\t\t/*jshint noarg:false */\n\t\tvar e = window.event;\n\t\tif (!e) {\n\t\t\tvar caller = arguments.callee.caller;\n\t\t\twhile (caller) {\n\t\t\t\te = caller['arguments'][0];\n\t\t\t\tif (e && window.Event === e.constructor) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcaller = caller.caller;\n\t\t\t}\n\t\t}\n\t\treturn e;\n\t},\n\n\t// this is a horrible workaround for a bug in Android where a single touch triggers two click events\n\t_filterClick: function (e, handler) {\n\t\tvar timeStamp = (e.timeStamp || e.originalEvent.timeStamp),\n\t\t\telapsed = L.DomEvent._lastClick && (timeStamp - L.DomEvent._lastClick);\n\n\t\t// are they closer together than 500ms yet more than 100ms?\n\t\t// Android typically triggers them ~300ms apart while multiple listeners\n\t\t// on the same event should be triggered far faster;\n\t\t// or check if click is simulated on the element, and if it is, reject any non-simulated events\n\n\t\tif ((elapsed && elapsed > 100 && elapsed < 500) || (e.target._simulatedClick && !e._simulated)) {\n\t\t\tL.DomEvent.stop(e);\n\t\t\treturn;\n\t\t}\n\t\tL.DomEvent._lastClick = timeStamp;\n\n\t\treturn handler(e);\n\t}\n};\n\nL.DomEvent.on = L.DomEvent.addListener;\nL.DomEvent.off = L.DomEvent.removeListener;\n\n\n/*\n * L.Draggable allows you to add dragging capabilities to any element. Supports mobile devices too.\n */\n\nL.Draggable = L.Class.extend({\n\tincludes: L.Mixin.Events,\n\n\tstatics: {\n\t\tSTART: L.Browser.touch ? ['touchstart', 'mousedown'] : ['mousedown'],\n\t\tEND: {\n\t\t\tmousedown: 'mouseup',\n\t\t\ttouchstart: 'touchend',\n\t\t\tpointerdown: 'touchend',\n\t\t\tMSPointerDown: 'touchend'\n\t\t},\n\t\tMOVE: {\n\t\t\tmousedown: 'mousemove',\n\t\t\ttouchstart: 'touchmove',\n\t\t\tpointerdown: 'touchmove',\n\t\t\tMSPointerDown: 'touchmove'\n\t\t}\n\t},\n\n\tinitialize: function (element, dragStartTarget) {\n\t\tthis._element = element;\n\t\tthis._dragStartTarget = dragStartTarget || element;\n\t},\n\n\tenable: function () {\n\t\tif (this._enabled) { return; }\n\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {\n\t\t\tL.DomEvent.on(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);\n\t\t}\n\n\t\tthis._enabled = true;\n\t},\n\n\tdisable: function () {\n\t\tif (!this._enabled) { return; }\n\n\t\tfor (var i = L.Draggable.START.length - 1; i >= 0; i--) {\n\t\t\tL.DomEvent.off(this._dragStartTarget, L.Draggable.START[i], this._onDown, this);\n\t\t}\n\n\t\tthis._enabled = false;\n\t\tthis._moved = false;\n\t},\n\n\t_onDown: function (e) {\n\t\tthis._moved = false;\n\n\t\tif (e.shiftKey || ((e.which !== 1) && (e.button !== 1) && !e.touches)) { return; }\n\n\t\tL.DomEvent.stopPropagation(e);\n\n\t\tif (L.Draggable._disabled) { return; }\n\n\t\tL.DomUtil.disableImageDrag();\n\t\tL.DomUtil.disableTextSelection();\n\n\t\tif (this._moving) { return; }\n\n\t\tvar first = e.touches ? e.touches[0] : e;\n\n\t\tthis._startPoint = new L.Point(first.clientX, first.clientY);\n\t\tthis._startPos = this._newPos = L.DomUtil.getPosition(this._element);\n\n\t\tL.DomEvent\n\t\t    .on(document, L.Draggable.MOVE[e.type], this._onMove, this)\n\t\t    .on(document, L.Draggable.END[e.type], this._onUp, this);\n\t},\n\n\t_onMove: function (e) {\n\t\tif (e.touches && e.touches.length > 1) {\n\t\t\tthis._moved = true;\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = (e.touches && e.touches.length === 1 ? e.touches[0] : e),\n\t\t    newPoint = new L.Point(first.clientX, first.clientY),\n\t\t    offset = newPoint.subtract(this._startPoint);\n\n\t\tif (!offset.x && !offset.y) { return; }\n\t\tif (L.Browser.touch && Math.abs(offset.x) + Math.abs(offset.y) < 3) { return; }\n\n\t\tL.DomEvent.preventDefault(e);\n\n\t\tif (!this._moved) {\n\t\t\tthis.fire('dragstart');\n\n\t\t\tthis._moved = true;\n\t\t\tthis._startPos = L.DomUtil.getPosition(this._element).subtract(offset);\n\n\t\t\tL.DomUtil.addClass(document.body, 'leaflet-dragging');\n\t\t\tthis._lastTarget = e.target || e.srcElement;\n\t\t\tL.DomUtil.addClass(this._lastTarget, 'leaflet-drag-target');\n\t\t}\n\n\t\tthis._newPos = this._startPos.add(offset);\n\t\tthis._moving = true;\n\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\t\tthis._animRequest = L.Util.requestAnimFrame(this._updatePosition, this, true, this._dragStartTarget);\n\t},\n\n\t_updatePosition: function () {\n\t\tthis.fire('predrag');\n\t\tL.DomUtil.setPosition(this._element, this._newPos);\n\t\tthis.fire('drag');\n\t},\n\n\t_onUp: function () {\n\t\tL.DomUtil.removeClass(document.body, 'leaflet-dragging');\n\n\t\tif (this._lastTarget) {\n\t\t\tL.DomUtil.removeClass(this._lastTarget, 'leaflet-drag-target');\n\t\t\tthis._lastTarget = null;\n\t\t}\n\n\t\tfor (var i in L.Draggable.MOVE) {\n\t\t\tL.DomEvent\n\t\t\t    .off(document, L.Draggable.MOVE[i], this._onMove)\n\t\t\t    .off(document, L.Draggable.END[i], this._onUp);\n\t\t}\n\n\t\tL.DomUtil.enableImageDrag();\n\t\tL.DomUtil.enableTextSelection();\n\n\t\tif (this._moved && this._moving) {\n\t\t\t// ensure drag is not fired after dragend\n\t\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\t\tthis.fire('dragend', {\n\t\t\t\tdistance: this._newPos.distanceTo(this._startPos)\n\t\t\t});\n\t\t}\n\n\t\tthis._moving = false;\n\t}\n});\n\n\n/*\n\tL.Handler is a base class for handler classes that are used internally to inject\n\tinteraction features like dragging to classes like Map and Marker.\n*/\n\nL.Handler = L.Class.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t},\n\n\tenable: function () {\n\t\tif (this._enabled) { return; }\n\n\t\tthis._enabled = true;\n\t\tthis.addHooks();\n\t},\n\n\tdisable: function () {\n\t\tif (!this._enabled) { return; }\n\n\t\tthis._enabled = false;\n\t\tthis.removeHooks();\n\t},\n\n\tenabled: function () {\n\t\treturn !!this._enabled;\n\t}\n});\n\n\n/*\n * L.Handler.MapDrag is used to make the map draggable (with panning inertia), enabled by default.\n */\n\nL.Map.mergeOptions({\n\tdragging: true,\n\n\tinertia: !L.Browser.android23,\n\tinertiaDeceleration: 3400, // px/s^2\n\tinertiaMaxSpeed: Infinity, // px/s\n\tinertiaThreshold: L.Browser.touch ? 32 : 18, // ms\n\teaseLinearity: 0.25,\n\n\t// TODO refactor, move to CRS\n\tworldCopyJump: false\n});\n\nL.Map.Drag = L.Handler.extend({\n\taddHooks: function () {\n\t\tif (!this._draggable) {\n\t\t\tvar map = this._map;\n\n\t\t\tthis._draggable = new L.Draggable(map._mapPane, map._container);\n\n\t\t\tthis._draggable.on({\n\t\t\t\t'dragstart': this._onDragStart,\n\t\t\t\t'drag': this._onDrag,\n\t\t\t\t'dragend': this._onDragEnd\n\t\t\t}, this);\n\n\t\t\tif (map.options.worldCopyJump) {\n\t\t\t\tthis._draggable.on('predrag', this._onPreDrag, this);\n\t\t\t\tmap.on('viewreset', this._onViewReset, this);\n\n\t\t\t\tmap.whenReady(this._onViewReset, this);\n\t\t\t}\n\t\t}\n\t\tthis._draggable.enable();\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable.disable();\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDragStart: function () {\n\t\tvar map = this._map;\n\n\t\tif (map._panAnim) {\n\t\t\tmap._panAnim.stop();\n\t\t}\n\n\t\tmap\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\n\t\tif (map.options.inertia) {\n\t\t\tthis._positions = [];\n\t\t\tthis._times = [];\n\t\t}\n\t},\n\n\t_onDrag: function () {\n\t\tif (this._map.options.inertia) {\n\t\t\tvar time = this._lastTime = +new Date(),\n\t\t\t    pos = this._lastPos = this._draggable._newPos;\n\n\t\t\tthis._positions.push(pos);\n\t\t\tthis._times.push(time);\n\n\t\t\tif (time - this._times[0] > 200) {\n\t\t\t\tthis._positions.shift();\n\t\t\t\tthis._times.shift();\n\t\t\t}\n\t\t}\n\n\t\tthis._map\n\t\t    .fire('move')\n\t\t    .fire('drag');\n\t},\n\n\t_onViewReset: function () {\n\t\t// TODO fix hardcoded Earth values\n\t\tvar pxCenter = this._map.getSize()._divideBy(2),\n\t\t    pxWorldCenter = this._map.latLngToLayerPoint([0, 0]);\n\n\t\tthis._initialWorldOffset = pxWorldCenter.subtract(pxCenter).x;\n\t\tthis._worldWidth = this._map.project([0, 180]).x;\n\t},\n\n\t_onPreDrag: function () {\n\t\t// TODO refactor to be able to adjust map pane position after zoom\n\t\tvar worldWidth = this._worldWidth,\n\t\t    halfWidth = Math.round(worldWidth / 2),\n\t\t    dx = this._initialWorldOffset,\n\t\t    x = this._draggable._newPos.x,\n\t\t    newX1 = (x - halfWidth + dx) % worldWidth + halfWidth - dx,\n\t\t    newX2 = (x + halfWidth + dx) % worldWidth - halfWidth - dx,\n\t\t    newX = Math.abs(newX1 + dx) < Math.abs(newX2 + dx) ? newX1 : newX2;\n\n\t\tthis._draggable._newPos.x = newX;\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tvar map = this._map,\n\t\t    options = map.options,\n\t\t    delay = +new Date() - this._lastTime,\n\n\t\t    noInertia = !options.inertia || delay > options.inertiaThreshold || !this._positions[0];\n\n\t\tmap.fire('dragend', e);\n\n\t\tif (noInertia) {\n\t\t\tmap.fire('moveend');\n\n\t\t} else {\n\n\t\t\tvar direction = this._lastPos.subtract(this._positions[0]),\n\t\t\t    duration = (this._lastTime + delay - this._times[0]) / 1000,\n\t\t\t    ease = options.easeLinearity,\n\n\t\t\t    speedVector = direction.multiplyBy(ease / duration),\n\t\t\t    speed = speedVector.distanceTo([0, 0]),\n\n\t\t\t    limitedSpeed = Math.min(options.inertiaMaxSpeed, speed),\n\t\t\t    limitedSpeedVector = speedVector.multiplyBy(limitedSpeed / speed),\n\n\t\t\t    decelerationDuration = limitedSpeed / (options.inertiaDeceleration * ease),\n\t\t\t    offset = limitedSpeedVector.multiplyBy(-decelerationDuration / 2).round();\n\n\t\t\tif (!offset.x || !offset.y) {\n\t\t\t\tmap.fire('moveend');\n\n\t\t\t} else {\n\t\t\t\toffset = map._limitOffset(offset, map.options.maxBounds);\n\n\t\t\t\tL.Util.requestAnimFrame(function () {\n\t\t\t\t\tmap.panBy(offset, {\n\t\t\t\t\t\tduration: decelerationDuration,\n\t\t\t\t\t\teaseLinearity: ease,\n\t\t\t\t\t\tnoMoveStart: true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'dragging', L.Map.Drag);\n\n\n/*\n * L.Handler.DoubleClickZoom is used to handle double-click zoom on the map, enabled by default.\n */\n\nL.Map.mergeOptions({\n\tdoubleClickZoom: true\n});\n\nL.Map.DoubleClickZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tthis._map.on('dblclick', this._onDoubleClick, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._map.off('dblclick', this._onDoubleClick, this);\n\t},\n\n\t_onDoubleClick: function (e) {\n\t\tvar map = this._map,\n\t\t    zoom = map.getZoom() + (e.originalEvent.shiftKey ? -1 : 1);\n\n\t\tif (map.options.doubleClickZoom === 'center') {\n\t\t\tmap.setZoom(zoom);\n\t\t} else {\n\t\t\tmap.setZoomAround(e.containerPoint, zoom);\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'doubleClickZoom', L.Map.DoubleClickZoom);\n\n\n/*\n * L.Handler.ScrollWheelZoom is used by L.Map to enable mouse scroll wheel zoom on the map.\n */\n\nL.Map.mergeOptions({\n\tscrollWheelZoom: true\n});\n\nL.Map.ScrollWheelZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'mousewheel', this._onWheelScroll, this);\n\t\tL.DomEvent.on(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);\n\t\tthis._delta = 0;\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'mousewheel', this._onWheelScroll);\n\t\tL.DomEvent.off(this._map._container, 'MozMousePixelScroll', L.DomEvent.preventDefault);\n\t},\n\n\t_onWheelScroll: function (e) {\n\t\tvar delta = L.DomEvent.getWheelDelta(e);\n\n\t\tthis._delta += delta;\n\t\tthis._lastMousePos = this._map.mouseEventToContainerPoint(e);\n\n\t\tif (!this._startTime) {\n\t\t\tthis._startTime = +new Date();\n\t\t}\n\n\t\tvar left = Math.max(40 - (+new Date() - this._startTime), 0);\n\n\t\tclearTimeout(this._timer);\n\t\tthis._timer = setTimeout(L.bind(this._performZoom, this), left);\n\n\t\tL.DomEvent.preventDefault(e);\n\t\tL.DomEvent.stopPropagation(e);\n\t},\n\n\t_performZoom: function () {\n\t\tvar map = this._map,\n\t\t    delta = this._delta,\n\t\t    zoom = map.getZoom();\n\n\t\tdelta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n\t\tdelta = Math.max(Math.min(delta, 4), -4);\n\t\tdelta = map._limitZoom(zoom + delta) - zoom;\n\n\t\tthis._delta = 0;\n\t\tthis._startTime = null;\n\n\t\tif (!delta) { return; }\n\n\t\tif (map.options.scrollWheelZoom === 'center') {\n\t\t\tmap.setZoom(zoom + delta);\n\t\t} else {\n\t\t\tmap.setZoomAround(this._lastMousePos, zoom + delta);\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'scrollWheelZoom', L.Map.ScrollWheelZoom);\n\n\n/*\n * Extends the event handling code with double tap support for mobile browsers.\n */\n\nL.extend(L.DomEvent, {\n\n\t_touchstart: L.Browser.msPointer ? 'MSPointerDown' : L.Browser.pointer ? 'pointerdown' : 'touchstart',\n\t_touchend: L.Browser.msPointer ? 'MSPointerUp' : L.Browser.pointer ? 'pointerup' : 'touchend',\n\n\t// inspired by Zepto touch code by Thomas Fuchs\n\taddDoubleTapListener: function (obj, handler, id) {\n\t\tvar last,\n\t\t    doubleTap = false,\n\t\t    delay = 250,\n\t\t    touch,\n\t\t    pre = '_leaflet_',\n\t\t    touchstart = this._touchstart,\n\t\t    touchend = this._touchend,\n\t\t    trackedTouches = [];\n\n\t\tfunction onTouchStart(e) {\n\t\t\tvar count;\n\n\t\t\tif (L.Browser.pointer) {\n\t\t\t\ttrackedTouches.push(e.pointerId);\n\t\t\t\tcount = trackedTouches.length;\n\t\t\t} else {\n\t\t\t\tcount = e.touches.length;\n\t\t\t}\n\t\t\tif (count > 1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar now = Date.now(),\n\t\t\t\tdelta = now - (last || now);\n\n\t\t\ttouch = e.touches ? e.touches[0] : e;\n\t\t\tdoubleTap = (delta > 0 && delta <= delay);\n\t\t\tlast = now;\n\t\t}\n\n\t\tfunction onTouchEnd(e) {\n\t\t\tif (L.Browser.pointer) {\n\t\t\t\tvar idx = trackedTouches.indexOf(e.pointerId);\n\t\t\t\tif (idx === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttrackedTouches.splice(idx, 1);\n\t\t\t}\n\n\t\t\tif (doubleTap) {\n\t\t\t\tif (L.Browser.pointer) {\n\t\t\t\t\t// work around .type being readonly with MSPointer* events\n\t\t\t\t\tvar newTouch = { },\n\t\t\t\t\t\tprop;\n\n\t\t\t\t\t// jshint forin:false\n\t\t\t\t\tfor (var i in touch) {\n\t\t\t\t\t\tprop = touch[i];\n\t\t\t\t\t\tif (typeof prop === 'function') {\n\t\t\t\t\t\t\tnewTouch[i] = prop.bind(touch);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnewTouch[i] = prop;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttouch = newTouch;\n\t\t\t\t}\n\t\t\t\ttouch.type = 'dblclick';\n\t\t\t\thandler(touch);\n\t\t\t\tlast = null;\n\t\t\t}\n\t\t}\n\t\tobj[pre + touchstart + id] = onTouchStart;\n\t\tobj[pre + touchend + id] = onTouchEnd;\n\n\t\t// on pointer we need to listen on the document, otherwise a drag starting on the map and moving off screen\n\t\t// will not come through to us, so we will lose track of how many touches are ongoing\n\t\tvar endElement = L.Browser.pointer ? document.documentElement : obj;\n\n\t\tobj.addEventListener(touchstart, onTouchStart, false);\n\t\tendElement.addEventListener(touchend, onTouchEnd, false);\n\n\t\tif (L.Browser.pointer) {\n\t\t\tendElement.addEventListener(L.DomEvent.POINTER_CANCEL, onTouchEnd, false);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveDoubleTapListener: function (obj, id) {\n\t\tvar pre = '_leaflet_';\n\n\t\tobj.removeEventListener(this._touchstart, obj[pre + this._touchstart + id], false);\n\t\t(L.Browser.pointer ? document.documentElement : obj).removeEventListener(\n\t\t        this._touchend, obj[pre + this._touchend + id], false);\n\n\t\tif (L.Browser.pointer) {\n\t\t\tdocument.documentElement.removeEventListener(L.DomEvent.POINTER_CANCEL, obj[pre + this._touchend + id],\n\t\t\t\tfalse);\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\n\n/*\n * Extends L.DomEvent to provide touch support for Internet Explorer and Windows-based devices.\n */\n\nL.extend(L.DomEvent, {\n\n\t//static\n\tPOINTER_DOWN: L.Browser.msPointer ? 'MSPointerDown' : 'pointerdown',\n\tPOINTER_MOVE: L.Browser.msPointer ? 'MSPointerMove' : 'pointermove',\n\tPOINTER_UP: L.Browser.msPointer ? 'MSPointerUp' : 'pointerup',\n\tPOINTER_CANCEL: L.Browser.msPointer ? 'MSPointerCancel' : 'pointercancel',\n\n\t_pointers: [],\n\t_pointerDocumentListener: false,\n\n\t// Provides a touch events wrapper for (ms)pointer events.\n\t// Based on changes by veproza https://github.com/CloudMade/Leaflet/pull/1019\n\t//ref http://www.w3.org/TR/pointerevents/ https://www.w3.org/Bugs/Public/show_bug.cgi?id=22890\n\n\taddPointerListener: function (obj, type, handler, id) {\n\n\t\tswitch (type) {\n\t\tcase 'touchstart':\n\t\t\treturn this.addPointerListenerStart(obj, type, handler, id);\n\t\tcase 'touchend':\n\t\t\treturn this.addPointerListenerEnd(obj, type, handler, id);\n\t\tcase 'touchmove':\n\t\t\treturn this.addPointerListenerMove(obj, type, handler, id);\n\t\tdefault:\n\t\t\tthrow 'Unknown touch event type';\n\t\t}\n\t},\n\n\taddPointerListenerStart: function (obj, type, handler, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    pointers = this._pointers;\n\n\t\tvar cb = function (e) {\n\n\t\t\tL.DomEvent.preventDefault(e);\n\n\t\t\tvar alreadyInArray = false;\n\t\t\tfor (var i = 0; i < pointers.length; i++) {\n\t\t\t\tif (pointers[i].pointerId === e.pointerId) {\n\t\t\t\t\talreadyInArray = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!alreadyInArray) {\n\t\t\t\tpointers.push(e);\n\t\t\t}\n\n\t\t\te.touches = pointers.slice();\n\t\t\te.changedTouches = [e];\n\n\t\t\thandler(e);\n\t\t};\n\n\t\tobj[pre + 'touchstart' + id] = cb;\n\t\tobj.addEventListener(this.POINTER_DOWN, cb, false);\n\n\t\t// need to also listen for end events to keep the _pointers list accurate\n\t\t// this needs to be on the body and never go away\n\t\tif (!this._pointerDocumentListener) {\n\t\t\tvar internalCb = function (e) {\n\t\t\t\tfor (var i = 0; i < pointers.length; i++) {\n\t\t\t\t\tif (pointers[i].pointerId === e.pointerId) {\n\t\t\t\t\t\tpointers.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t//We listen on the documentElement as any drags that end by moving the touch off the screen get fired there\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_UP, internalCb, false);\n\t\t\tdocument.documentElement.addEventListener(this.POINTER_CANCEL, internalCb, false);\n\n\t\t\tthis._pointerDocumentListener = true;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\taddPointerListenerMove: function (obj, type, handler, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    touches = this._pointers;\n\n\t\tfunction cb(e) {\n\n\t\t\t// don't fire touch moves when mouse isn't down\n\t\t\tif ((e.pointerType === e.MSPOINTER_TYPE_MOUSE || e.pointerType === 'mouse') && e.buttons === 0) { return; }\n\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tif (touches[i].pointerId === e.pointerId) {\n\t\t\t\t\ttouches[i] = e;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te.touches = touches.slice();\n\t\t\te.changedTouches = [e];\n\n\t\t\thandler(e);\n\t\t}\n\n\t\tobj[pre + 'touchmove' + id] = cb;\n\t\tobj.addEventListener(this.POINTER_MOVE, cb, false);\n\n\t\treturn this;\n\t},\n\n\taddPointerListenerEnd: function (obj, type, handler, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    touches = this._pointers;\n\n\t\tvar cb = function (e) {\n\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\tif (touches[i].pointerId === e.pointerId) {\n\t\t\t\t\ttouches.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te.touches = touches.slice();\n\t\t\te.changedTouches = [e];\n\n\t\t\thandler(e);\n\t\t};\n\n\t\tobj[pre + 'touchend' + id] = cb;\n\t\tobj.addEventListener(this.POINTER_UP, cb, false);\n\t\tobj.addEventListener(this.POINTER_CANCEL, cb, false);\n\n\t\treturn this;\n\t},\n\n\tremovePointerListener: function (obj, type, id) {\n\t\tvar pre = '_leaflet_',\n\t\t    cb = obj[pre + type + id];\n\n\t\tswitch (type) {\n\t\tcase 'touchstart':\n\t\t\tobj.removeEventListener(this.POINTER_DOWN, cb, false);\n\t\t\tbreak;\n\t\tcase 'touchmove':\n\t\t\tobj.removeEventListener(this.POINTER_MOVE, cb, false);\n\t\t\tbreak;\n\t\tcase 'touchend':\n\t\t\tobj.removeEventListener(this.POINTER_UP, cb, false);\n\t\t\tobj.removeEventListener(this.POINTER_CANCEL, cb, false);\n\t\t\tbreak;\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\n\n/*\n * L.Handler.TouchZoom is used by L.Map to add pinch zoom on supported mobile browsers.\n */\n\nL.Map.mergeOptions({\n\ttouchZoom: L.Browser.touch && !L.Browser.android23,\n\tbounceAtZoomLimits: true\n});\n\nL.Map.TouchZoom = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onTouchStart, this);\n\t},\n\n\t_onTouchStart: function (e) {\n\t\tvar map = this._map;\n\n\t\tif (!e.touches || e.touches.length !== 2 || map._animatingZoom || this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToLayerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]),\n\t\t    viewCenter = map._getCenterLayerPoint();\n\n\t\tthis._startCenter = p1.add(p2)._divideBy(2);\n\t\tthis._startDist = p1.distanceTo(p2);\n\n\t\tthis._moved = false;\n\t\tthis._zooming = true;\n\n\t\tthis._centerOffset = viewCenter.subtract(this._startCenter);\n\n\t\tif (map._panAnim) {\n\t\t\tmap._panAnim.stop();\n\t\t}\n\n\t\tL.DomEvent\n\t\t    .on(document, 'touchmove', this._onTouchMove, this)\n\t\t    .on(document, 'touchend', this._onTouchEnd, this);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_onTouchMove: function (e) {\n\t\tvar map = this._map;\n\n\t\tif (!e.touches || e.touches.length !== 2 || !this._zooming) { return; }\n\n\t\tvar p1 = map.mouseEventToLayerPoint(e.touches[0]),\n\t\t    p2 = map.mouseEventToLayerPoint(e.touches[1]);\n\n\t\tthis._scale = p1.distanceTo(p2) / this._startDist;\n\t\tthis._delta = p1._add(p2)._divideBy(2)._subtract(this._startCenter);\n\n\t\tif (this._scale === 1) { return; }\n\n\t\tif (!map.options.bounceAtZoomLimits) {\n\t\t\tif ((map.getZoom() === map.getMinZoom() && this._scale < 1) ||\n\t\t\t    (map.getZoom() === map.getMaxZoom() && this._scale > 1)) { return; }\n\t\t}\n\n\t\tif (!this._moved) {\n\t\t\tL.DomUtil.addClass(map._mapPane, 'leaflet-touching');\n\n\t\t\tmap\n\t\t\t    .fire('movestart')\n\t\t\t    .fire('zoomstart');\n\n\t\t\tthis._moved = true;\n\t\t}\n\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\t\tthis._animRequest = L.Util.requestAnimFrame(\n\t\t        this._updateOnMove, this, true, this._map._container);\n\n\t\tL.DomEvent.preventDefault(e);\n\t},\n\n\t_updateOnMove: function () {\n\t\tvar map = this._map,\n\t\t    origin = this._getScaleOrigin(),\n\t\t    center = map.layerPointToLatLng(origin),\n\t\t    zoom = map.getScaleZoom(this._scale);\n\n\t\tmap._animateZoom(center, zoom, this._startCenter, this._scale, this._delta, false, true);\n\t},\n\n\t_onTouchEnd: function () {\n\t\tif (!this._moved || !this._zooming) {\n\t\t\tthis._zooming = false;\n\t\t\treturn;\n\t\t}\n\n\t\tvar map = this._map;\n\n\t\tthis._zooming = false;\n\t\tL.DomUtil.removeClass(map._mapPane, 'leaflet-touching');\n\t\tL.Util.cancelAnimFrame(this._animRequest);\n\n\t\tL.DomEvent\n\t\t    .off(document, 'touchmove', this._onTouchMove)\n\t\t    .off(document, 'touchend', this._onTouchEnd);\n\n\t\tvar origin = this._getScaleOrigin(),\n\t\t    center = map.layerPointToLatLng(origin),\n\n\t\t    oldZoom = map.getZoom(),\n\t\t    floatZoomDelta = map.getScaleZoom(this._scale) - oldZoom,\n\t\t    roundZoomDelta = (floatZoomDelta > 0 ?\n\t\t            Math.ceil(floatZoomDelta) : Math.floor(floatZoomDelta)),\n\n\t\t    zoom = map._limitZoom(oldZoom + roundZoomDelta),\n\t\t    scale = map.getZoomScale(zoom) / this._scale;\n\n\t\tmap._animateZoom(center, zoom, origin, scale);\n\t},\n\n\t_getScaleOrigin: function () {\n\t\tvar centerOffset = this._centerOffset.subtract(this._delta).divideBy(this._scale);\n\t\treturn this._startCenter.add(centerOffset);\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'touchZoom', L.Map.TouchZoom);\n\n\n/*\n * L.Map.Tap is used to enable mobile hacks like quick taps and long hold.\n */\n\nL.Map.mergeOptions({\n\ttap: true,\n\ttapTolerance: 15\n});\n\nL.Map.Tap = L.Handler.extend({\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._map._container, 'touchstart', this._onDown, this);\n\t},\n\n\t_onDown: function (e) {\n\t\tif (!e.touches) { return; }\n\n\t\tL.DomEvent.preventDefault(e);\n\n\t\tthis._fireClick = true;\n\n\t\t// don't simulate click or track longpress if more than 1 touch\n\t\tif (e.touches.length > 1) {\n\t\t\tthis._fireClick = false;\n\t\t\tclearTimeout(this._holdTimeout);\n\t\t\treturn;\n\t\t}\n\n\t\tvar first = e.touches[0],\n\t\t    el = first.target;\n\n\t\tthis._startPos = this._newPos = new L.Point(first.clientX, first.clientY);\n\n\t\t// if touching a link, highlight it\n\t\tif (el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\tL.DomUtil.addClass(el, 'leaflet-active');\n\t\t}\n\n\t\t// simulate long hold but setting a timeout\n\t\tthis._holdTimeout = setTimeout(L.bind(function () {\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._fireClick = false;\n\t\t\t\tthis._onUp();\n\t\t\t\tthis._simulateEvent('contextmenu', first);\n\t\t\t}\n\t\t}, this), 1000);\n\n\t\tL.DomEvent\n\t\t\t.on(document, 'touchmove', this._onMove, this)\n\t\t\t.on(document, 'touchend', this._onUp, this);\n\t},\n\n\t_onUp: function (e) {\n\t\tclearTimeout(this._holdTimeout);\n\n\t\tL.DomEvent\n\t\t\t.off(document, 'touchmove', this._onMove, this)\n\t\t\t.off(document, 'touchend', this._onUp, this);\n\n\t\tif (this._fireClick && e && e.changedTouches) {\n\n\t\t\tvar first = e.changedTouches[0],\n\t\t\t    el = first.target;\n\n\t\t\tif (el && el.tagName && el.tagName.toLowerCase() === 'a') {\n\t\t\t\tL.DomUtil.removeClass(el, 'leaflet-active');\n\t\t\t}\n\n\t\t\t// simulate click if the touch didn't move too much\n\t\t\tif (this._isTapValid()) {\n\t\t\t\tthis._simulateEvent('click', first);\n\t\t\t}\n\t\t}\n\t},\n\n\t_isTapValid: function () {\n\t\treturn this._newPos.distanceTo(this._startPos) <= this._map.options.tapTolerance;\n\t},\n\n\t_onMove: function (e) {\n\t\tvar first = e.touches[0];\n\t\tthis._newPos = new L.Point(first.clientX, first.clientY);\n\t},\n\n\t_simulateEvent: function (type, e) {\n\t\tvar simulatedEvent = document.createEvent('MouseEvents');\n\n\t\tsimulatedEvent._simulated = true;\n\t\te.target._simulatedClick = true;\n\n\t\tsimulatedEvent.initMouseEvent(\n\t\t        type, true, true, window, 1,\n\t\t        e.screenX, e.screenY,\n\t\t        e.clientX, e.clientY,\n\t\t        false, false, false, false, 0, null);\n\n\t\te.target.dispatchEvent(simulatedEvent);\n\t}\n});\n\nif (L.Browser.touch && !L.Browser.pointer) {\n\tL.Map.addInitHook('addHandler', 'tap', L.Map.Tap);\n}\n\n\n/*\n * L.Handler.ShiftDragZoom is used to add shift-drag zoom interaction to the map\n  * (zoom to a selected bounding box), enabled by default.\n */\n\nL.Map.mergeOptions({\n\tboxZoom: true\n});\n\nL.Map.BoxZoom = L.Handler.extend({\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\t\tthis._container = map._container;\n\t\tthis._pane = map._panes.overlayPane;\n\t\tthis._moved = false;\n\t},\n\n\taddHooks: function () {\n\t\tL.DomEvent.on(this._container, 'mousedown', this._onMouseDown, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tL.DomEvent.off(this._container, 'mousedown', this._onMouseDown);\n\t\tthis._moved = false;\n\t},\n\n\tmoved: function () {\n\t\treturn this._moved;\n\t},\n\n\t_onMouseDown: function (e) {\n\t\tthis._moved = false;\n\n\t\tif (!e.shiftKey || ((e.which !== 1) && (e.button !== 1))) { return false; }\n\n\t\tL.DomUtil.disableTextSelection();\n\t\tL.DomUtil.disableImageDrag();\n\n\t\tthis._startLayerPoint = this._map.mouseEventToLayerPoint(e);\n\n\t\tL.DomEvent\n\t\t    .on(document, 'mousemove', this._onMouseMove, this)\n\t\t    .on(document, 'mouseup', this._onMouseUp, this)\n\t\t    .on(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onMouseMove: function (e) {\n\t\tif (!this._moved) {\n\t\t\tthis._box = L.DomUtil.create('div', 'leaflet-zoom-box', this._pane);\n\t\t\tL.DomUtil.setPosition(this._box, this._startLayerPoint);\n\n\t\t\t//TODO refactor: move cursor to styles\n\t\t\tthis._container.style.cursor = 'crosshair';\n\t\t\tthis._map.fire('boxzoomstart');\n\t\t}\n\n\t\tvar startPoint = this._startLayerPoint,\n\t\t    box = this._box,\n\n\t\t    layerPoint = this._map.mouseEventToLayerPoint(e),\n\t\t    offset = layerPoint.subtract(startPoint),\n\n\t\t    newPos = new L.Point(\n\t\t        Math.min(layerPoint.x, startPoint.x),\n\t\t        Math.min(layerPoint.y, startPoint.y));\n\n\t\tL.DomUtil.setPosition(box, newPos);\n\n\t\tthis._moved = true;\n\n\t\t// TODO refactor: remove hardcoded 4 pixels\n\t\tbox.style.width  = (Math.max(0, Math.abs(offset.x) - 4)) + 'px';\n\t\tbox.style.height = (Math.max(0, Math.abs(offset.y) - 4)) + 'px';\n\t},\n\n\t_finish: function () {\n\t\tif (this._moved) {\n\t\t\tthis._pane.removeChild(this._box);\n\t\t\tthis._container.style.cursor = '';\n\t\t}\n\n\t\tL.DomUtil.enableTextSelection();\n\t\tL.DomUtil.enableImageDrag();\n\n\t\tL.DomEvent\n\t\t    .off(document, 'mousemove', this._onMouseMove)\n\t\t    .off(document, 'mouseup', this._onMouseUp)\n\t\t    .off(document, 'keydown', this._onKeyDown);\n\t},\n\n\t_onMouseUp: function (e) {\n\n\t\tthis._finish();\n\n\t\tvar map = this._map,\n\t\t    layerPoint = map.mouseEventToLayerPoint(e);\n\n\t\tif (this._startLayerPoint.equals(layerPoint)) { return; }\n\n\t\tvar bounds = new L.LatLngBounds(\n\t\t        map.layerPointToLatLng(this._startLayerPoint),\n\t\t        map.layerPointToLatLng(layerPoint));\n\n\t\tmap.fitBounds(bounds);\n\n\t\tmap.fire('boxzoomend', {\n\t\t\tboxZoomBounds: bounds\n\t\t});\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tif (e.keyCode === 27) {\n\t\t\tthis._finish();\n\t\t}\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'boxZoom', L.Map.BoxZoom);\n\n\n/*\n * L.Map.Keyboard is handling keyboard interaction with the map, enabled by default.\n */\n\nL.Map.mergeOptions({\n\tkeyboard: true,\n\tkeyboardPanOffset: 80,\n\tkeyboardZoomOffset: 1\n});\n\nL.Map.Keyboard = L.Handler.extend({\n\n\tkeyCodes: {\n\t\tleft:    [37],\n\t\tright:   [39],\n\t\tdown:    [40],\n\t\tup:      [38],\n\t\tzoomIn:  [187, 107, 61, 171],\n\t\tzoomOut: [189, 109, 173]\n\t},\n\n\tinitialize: function (map) {\n\t\tthis._map = map;\n\n\t\tthis._setPanOffset(map.options.keyboardPanOffset);\n\t\tthis._setZoomOffset(map.options.keyboardZoomOffset);\n\t},\n\n\taddHooks: function () {\n\t\tvar container = this._map._container;\n\n\t\t// make the container focusable by tabbing\n\t\tif (container.tabIndex === -1) {\n\t\t\tcontainer.tabIndex = '0';\n\t\t}\n\n\t\tL.DomEvent\n\t\t    .on(container, 'focus', this._onFocus, this)\n\t\t    .on(container, 'blur', this._onBlur, this)\n\t\t    .on(container, 'mousedown', this._onMouseDown, this);\n\n\t\tthis._map\n\t\t    .on('focus', this._addHooks, this)\n\t\t    .on('blur', this._removeHooks, this);\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._removeHooks();\n\n\t\tvar container = this._map._container;\n\n\t\tL.DomEvent\n\t\t    .off(container, 'focus', this._onFocus, this)\n\t\t    .off(container, 'blur', this._onBlur, this)\n\t\t    .off(container, 'mousedown', this._onMouseDown, this);\n\n\t\tthis._map\n\t\t    .off('focus', this._addHooks, this)\n\t\t    .off('blur', this._removeHooks, this);\n\t},\n\n\t_onMouseDown: function () {\n\t\tif (this._focused) { return; }\n\n\t\tvar body = document.body,\n\t\t    docEl = document.documentElement,\n\t\t    top = body.scrollTop || docEl.scrollTop,\n\t\t    left = body.scrollLeft || docEl.scrollLeft;\n\n\t\tthis._map._container.focus();\n\n\t\twindow.scrollTo(left, top);\n\t},\n\n\t_onFocus: function () {\n\t\tthis._focused = true;\n\t\tthis._map.fire('focus');\n\t},\n\n\t_onBlur: function () {\n\t\tthis._focused = false;\n\t\tthis._map.fire('blur');\n\t},\n\n\t_setPanOffset: function (pan) {\n\t\tvar keys = this._panKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.left.length; i < len; i++) {\n\t\t\tkeys[codes.left[i]] = [-1 * pan, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.right.length; i < len; i++) {\n\t\t\tkeys[codes.right[i]] = [pan, 0];\n\t\t}\n\t\tfor (i = 0, len = codes.down.length; i < len; i++) {\n\t\t\tkeys[codes.down[i]] = [0, pan];\n\t\t}\n\t\tfor (i = 0, len = codes.up.length; i < len; i++) {\n\t\t\tkeys[codes.up[i]] = [0, -1 * pan];\n\t\t}\n\t},\n\n\t_setZoomOffset: function (zoom) {\n\t\tvar keys = this._zoomKeys = {},\n\t\t    codes = this.keyCodes,\n\t\t    i, len;\n\n\t\tfor (i = 0, len = codes.zoomIn.length; i < len; i++) {\n\t\t\tkeys[codes.zoomIn[i]] = zoom;\n\t\t}\n\t\tfor (i = 0, len = codes.zoomOut.length; i < len; i++) {\n\t\t\tkeys[codes.zoomOut[i]] = -zoom;\n\t\t}\n\t},\n\n\t_addHooks: function () {\n\t\tL.DomEvent.on(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_removeHooks: function () {\n\t\tL.DomEvent.off(document, 'keydown', this._onKeyDown, this);\n\t},\n\n\t_onKeyDown: function (e) {\n\t\tvar key = e.keyCode,\n\t\t    map = this._map;\n\n\t\tif (key in this._panKeys) {\n\n\t\t\tif (map._panAnim && map._panAnim._inProgress) { return; }\n\n\t\t\tmap.panBy(this._panKeys[key]);\n\n\t\t\tif (map.options.maxBounds) {\n\t\t\t\tmap.panInsideBounds(map.options.maxBounds);\n\t\t\t}\n\n\t\t} else if (key in this._zoomKeys) {\n\t\t\tmap.setZoom(map.getZoom() + this._zoomKeys[key]);\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tL.DomEvent.stop(e);\n\t}\n});\n\nL.Map.addInitHook('addHandler', 'keyboard', L.Map.Keyboard);\n\n\n/*\n * L.Handler.MarkerDrag is used internally by L.Marker to make the markers draggable.\n */\n\nL.Handler.MarkerDrag = L.Handler.extend({\n\tinitialize: function (marker) {\n\t\tthis._marker = marker;\n\t},\n\n\taddHooks: function () {\n\t\tvar icon = this._marker._icon;\n\t\tif (!this._draggable) {\n\t\t\tthis._draggable = new L.Draggable(icon, icon);\n\t\t}\n\n\t\tthis._draggable\n\t\t\t.on('dragstart', this._onDragStart, this)\n\t\t\t.on('drag', this._onDrag, this)\n\t\t\t.on('dragend', this._onDragEnd, this);\n\t\tthis._draggable.enable();\n\t\tL.DomUtil.addClass(this._marker._icon, 'leaflet-marker-draggable');\n\t},\n\n\tremoveHooks: function () {\n\t\tthis._draggable\n\t\t\t.off('dragstart', this._onDragStart, this)\n\t\t\t.off('drag', this._onDrag, this)\n\t\t\t.off('dragend', this._onDragEnd, this);\n\n\t\tthis._draggable.disable();\n\t\tL.DomUtil.removeClass(this._marker._icon, 'leaflet-marker-draggable');\n\t},\n\n\tmoved: function () {\n\t\treturn this._draggable && this._draggable._moved;\n\t},\n\n\t_onDragStart: function () {\n\t\tthis._marker\n\t\t    .closePopup()\n\t\t    .fire('movestart')\n\t\t    .fire('dragstart');\n\t},\n\n\t_onDrag: function () {\n\t\tvar marker = this._marker,\n\t\t    shadow = marker._shadow,\n\t\t    iconPos = L.DomUtil.getPosition(marker._icon),\n\t\t    latlng = marker._map.layerPointToLatLng(iconPos);\n\n\t\t// update shadow position\n\t\tif (shadow) {\n\t\t\tL.DomUtil.setPosition(shadow, iconPos);\n\t\t}\n\n\t\tmarker._latlng = latlng;\n\n\t\tmarker\n\t\t    .fire('move', {latlng: latlng})\n\t\t    .fire('drag');\n\t},\n\n\t_onDragEnd: function (e) {\n\t\tthis._marker\n\t\t    .fire('moveend')\n\t\t    .fire('dragend', e);\n\t}\n});\n\n\n/*\n * L.Control is a base class for implementing map controls. Handles positioning.\n * All other controls extend from this class.\n */\n\nL.Control = L.Class.extend({\n\toptions: {\n\t\tposition: 'topright'\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\t},\n\n\tgetPosition: function () {\n\t\treturn this.options.position;\n\t},\n\n\tsetPosition: function (position) {\n\t\tvar map = this._map;\n\n\t\tif (map) {\n\t\t\tmap.removeControl(this);\n\t\t}\n\n\t\tthis.options.position = position;\n\n\t\tif (map) {\n\t\t\tmap.addControl(this);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tgetContainer: function () {\n\t\treturn this._container;\n\t},\n\n\taddTo: function (map) {\n\t\tthis._map = map;\n\n\t\tvar container = this._container = this.onAdd(map),\n\t\t    pos = this.getPosition(),\n\t\t    corner = map._controlCorners[pos];\n\n\t\tL.DomUtil.addClass(container, 'leaflet-control');\n\n\t\tif (pos.indexOf('bottom') !== -1) {\n\t\t\tcorner.insertBefore(container, corner.firstChild);\n\t\t} else {\n\t\t\tcorner.appendChild(container);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveFrom: function (map) {\n\t\tvar pos = this.getPosition(),\n\t\t    corner = map._controlCorners[pos];\n\n\t\tcorner.removeChild(this._container);\n\t\tthis._map = null;\n\n\t\tif (this.onRemove) {\n\t\t\tthis.onRemove(map);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_refocusOnMap: function () {\n\t\tif (this._map) {\n\t\t\tthis._map.getContainer().focus();\n\t\t}\n\t}\n});\n\nL.control = function (options) {\n\treturn new L.Control(options);\n};\n\n\n// adds control-related methods to L.Map\n\nL.Map.include({\n\taddControl: function (control) {\n\t\tcontrol.addTo(this);\n\t\treturn this;\n\t},\n\n\tremoveControl: function (control) {\n\t\tcontrol.removeFrom(this);\n\t\treturn this;\n\t},\n\n\t_initControlPos: function () {\n\t\tvar corners = this._controlCorners = {},\n\t\t    l = 'leaflet-',\n\t\t    container = this._controlContainer =\n\t\t            L.DomUtil.create('div', l + 'control-container', this._container);\n\n\t\tfunction createCorner(vSide, hSide) {\n\t\t\tvar className = l + vSide + ' ' + l + hSide;\n\n\t\t\tcorners[vSide + hSide] = L.DomUtil.create('div', className, container);\n\t\t}\n\n\t\tcreateCorner('top', 'left');\n\t\tcreateCorner('top', 'right');\n\t\tcreateCorner('bottom', 'left');\n\t\tcreateCorner('bottom', 'right');\n\t},\n\n\t_clearControlPos: function () {\n\t\tthis._container.removeChild(this._controlContainer);\n\t}\n});\n\n\n/*\n * L.Control.Zoom is used for the default zoom buttons on the map.\n */\n\nL.Control.Zoom = L.Control.extend({\n\toptions: {\n\t\tposition: 'topleft',\n\t\tzoomInText: '+',\n\t\tzoomInTitle: 'Zoom in',\n\t\tzoomOutText: '-',\n\t\tzoomOutTitle: 'Zoom out'\n\t},\n\n\tonAdd: function (map) {\n\t\tvar zoomName = 'leaflet-control-zoom',\n\t\t    container = L.DomUtil.create('div', zoomName + ' leaflet-bar');\n\n\t\tthis._map = map;\n\n\t\tthis._zoomInButton  = this._createButton(\n\t\t        this.options.zoomInText, this.options.zoomInTitle,\n\t\t        zoomName + '-in',  container, this._zoomIn,  this);\n\t\tthis._zoomOutButton = this._createButton(\n\t\t        this.options.zoomOutText, this.options.zoomOutTitle,\n\t\t        zoomName + '-out', container, this._zoomOut, this);\n\n\t\tthis._updateDisabled();\n\t\tmap.on('zoomend zoomlevelschange', this._updateDisabled, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off('zoomend zoomlevelschange', this._updateDisabled, this);\n\t},\n\n\t_zoomIn: function (e) {\n\t\tthis._map.zoomIn(e.shiftKey ? 3 : 1);\n\t},\n\n\t_zoomOut: function (e) {\n\t\tthis._map.zoomOut(e.shiftKey ? 3 : 1);\n\t},\n\n\t_createButton: function (html, title, className, container, fn, context) {\n\t\tvar link = L.DomUtil.create('a', className, container);\n\t\tlink.innerHTML = html;\n\t\tlink.href = '#';\n\t\tlink.title = title;\n\n\t\tvar stop = L.DomEvent.stopPropagation;\n\n\t\tL.DomEvent\n\t\t    .on(link, 'click', stop)\n\t\t    .on(link, 'mousedown', stop)\n\t\t    .on(link, 'dblclick', stop)\n\t\t    .on(link, 'click', L.DomEvent.preventDefault)\n\t\t    .on(link, 'click', fn, context)\n\t\t    .on(link, 'click', this._refocusOnMap, context);\n\n\t\treturn link;\n\t},\n\n\t_updateDisabled: function () {\n\t\tvar map = this._map,\n\t\t\tclassName = 'leaflet-disabled';\n\n\t\tL.DomUtil.removeClass(this._zoomInButton, className);\n\t\tL.DomUtil.removeClass(this._zoomOutButton, className);\n\n\t\tif (map._zoom === map.getMinZoom()) {\n\t\t\tL.DomUtil.addClass(this._zoomOutButton, className);\n\t\t}\n\t\tif (map._zoom === map.getMaxZoom()) {\n\t\t\tL.DomUtil.addClass(this._zoomInButton, className);\n\t\t}\n\t}\n});\n\nL.Map.mergeOptions({\n\tzoomControl: true\n});\n\nL.Map.addInitHook(function () {\n\tif (this.options.zoomControl) {\n\t\tthis.zoomControl = new L.Control.Zoom();\n\t\tthis.addControl(this.zoomControl);\n\t}\n});\n\nL.control.zoom = function (options) {\n\treturn new L.Control.Zoom(options);\n};\n\n\n\n/*\n * L.Control.Attribution is used for displaying attribution on the map (added by default).\n */\n\nL.Control.Attribution = L.Control.extend({\n\toptions: {\n\t\tposition: 'bottomright',\n\t\tprefix: '<a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a>'\n\t},\n\n\tinitialize: function (options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._attributions = {};\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._container = L.DomUtil.create('div', 'leaflet-control-attribution');\n\t\tL.DomEvent.disableClickPropagation(this._container);\n\n\t\tfor (var i in map._layers) {\n\t\t\tif (map._layers[i].getAttribution) {\n\t\t\t\tthis.addAttribution(map._layers[i].getAttribution());\n\t\t\t}\n\t\t}\n\t\t\n\t\tmap\n\t\t    .on('layeradd', this._onLayerAdd, this)\n\t\t    .on('layerremove', this._onLayerRemove, this);\n\n\t\tthis._update();\n\n\t\treturn this._container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap\n\t\t    .off('layeradd', this._onLayerAdd)\n\t\t    .off('layerremove', this._onLayerRemove);\n\n\t},\n\n\tsetPrefix: function (prefix) {\n\t\tthis.options.prefix = prefix;\n\t\tthis._update();\n\t\treturn this;\n\t},\n\n\taddAttribution: function (text) {\n\t\tif (!text) { return; }\n\n\t\tif (!this._attributions[text]) {\n\t\t\tthis._attributions[text] = 0;\n\t\t}\n\t\tthis._attributions[text]++;\n\n\t\tthis._update();\n\n\t\treturn this;\n\t},\n\n\tremoveAttribution: function (text) {\n\t\tif (!text) { return; }\n\n\t\tif (this._attributions[text]) {\n\t\t\tthis._attributions[text]--;\n\t\t\tthis._update();\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_update: function () {\n\t\tif (!this._map) { return; }\n\n\t\tvar attribs = [];\n\n\t\tfor (var i in this._attributions) {\n\t\t\tif (this._attributions[i]) {\n\t\t\t\tattribs.push(i);\n\t\t\t}\n\t\t}\n\n\t\tvar prefixAndAttribs = [];\n\n\t\tif (this.options.prefix) {\n\t\t\tprefixAndAttribs.push(this.options.prefix);\n\t\t}\n\t\tif (attribs.length) {\n\t\t\tprefixAndAttribs.push(attribs.join(', '));\n\t\t}\n\n\t\tthis._container.innerHTML = prefixAndAttribs.join(' | ');\n\t},\n\n\t_onLayerAdd: function (e) {\n\t\tif (e.layer.getAttribution) {\n\t\t\tthis.addAttribution(e.layer.getAttribution());\n\t\t}\n\t},\n\n\t_onLayerRemove: function (e) {\n\t\tif (e.layer.getAttribution) {\n\t\t\tthis.removeAttribution(e.layer.getAttribution());\n\t\t}\n\t}\n});\n\nL.Map.mergeOptions({\n\tattributionControl: true\n});\n\nL.Map.addInitHook(function () {\n\tif (this.options.attributionControl) {\n\t\tthis.attributionControl = (new L.Control.Attribution()).addTo(this);\n\t}\n});\n\nL.control.attribution = function (options) {\n\treturn new L.Control.Attribution(options);\n};\n\n\n/*\n * L.Control.Scale is used for displaying metric/imperial scale on the map.\n */\n\nL.Control.Scale = L.Control.extend({\n\toptions: {\n\t\tposition: 'bottomleft',\n\t\tmaxWidth: 100,\n\t\tmetric: true,\n\t\timperial: true,\n\t\tupdateWhenIdle: false\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._map = map;\n\n\t\tvar className = 'leaflet-control-scale',\n\t\t    container = L.DomUtil.create('div', className),\n\t\t    options = this.options;\n\n\t\tthis._addScales(options, className, container);\n\n\t\tmap.on(options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t\tmap.whenReady(this._update, this);\n\n\t\treturn container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap.off(this.options.updateWhenIdle ? 'moveend' : 'move', this._update, this);\n\t},\n\n\t_addScales: function (options, className, container) {\n\t\tif (options.metric) {\n\t\t\tthis._mScale = L.DomUtil.create('div', className + '-line', container);\n\t\t}\n\t\tif (options.imperial) {\n\t\t\tthis._iScale = L.DomUtil.create('div', className + '-line', container);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tvar bounds = this._map.getBounds(),\n\t\t    centerLat = bounds.getCenter().lat,\n\t\t    halfWorldMeters = 6378137 * Math.PI * Math.cos(centerLat * Math.PI / 180),\n\t\t    dist = halfWorldMeters * (bounds.getNorthEast().lng - bounds.getSouthWest().lng) / 180,\n\n\t\t    size = this._map.getSize(),\n\t\t    options = this.options,\n\t\t    maxMeters = 0;\n\n\t\tif (size.x > 0) {\n\t\t\tmaxMeters = dist * (options.maxWidth / size.x);\n\t\t}\n\n\t\tthis._updateScales(options, maxMeters);\n\t},\n\n\t_updateScales: function (options, maxMeters) {\n\t\tif (options.metric && maxMeters) {\n\t\t\tthis._updateMetric(maxMeters);\n\t\t}\n\n\t\tif (options.imperial && maxMeters) {\n\t\t\tthis._updateImperial(maxMeters);\n\t\t}\n\t},\n\n\t_updateMetric: function (maxMeters) {\n\t\tvar meters = this._getRoundNum(maxMeters);\n\n\t\tthis._mScale.style.width = this._getScaleWidth(meters / maxMeters) + 'px';\n\t\tthis._mScale.innerHTML = meters < 1000 ? meters + ' m' : (meters / 1000) + ' km';\n\t},\n\n\t_updateImperial: function (maxMeters) {\n\t\tvar maxFeet = maxMeters * 3.2808399,\n\t\t    scale = this._iScale,\n\t\t    maxMiles, miles, feet;\n\n\t\tif (maxFeet > 5280) {\n\t\t\tmaxMiles = maxFeet / 5280;\n\t\t\tmiles = this._getRoundNum(maxMiles);\n\n\t\t\tscale.style.width = this._getScaleWidth(miles / maxMiles) + 'px';\n\t\t\tscale.innerHTML = miles + ' mi';\n\n\t\t} else {\n\t\t\tfeet = this._getRoundNum(maxFeet);\n\n\t\t\tscale.style.width = this._getScaleWidth(feet / maxFeet) + 'px';\n\t\t\tscale.innerHTML = feet + ' ft';\n\t\t}\n\t},\n\n\t_getScaleWidth: function (ratio) {\n\t\treturn Math.round(this.options.maxWidth * ratio) - 10;\n\t},\n\n\t_getRoundNum: function (num) {\n\t\tvar pow10 = Math.pow(10, (Math.floor(num) + '').length - 1),\n\t\t    d = num / pow10;\n\n\t\td = d >= 10 ? 10 : d >= 5 ? 5 : d >= 3 ? 3 : d >= 2 ? 2 : 1;\n\n\t\treturn pow10 * d;\n\t}\n});\n\nL.control.scale = function (options) {\n\treturn new L.Control.Scale(options);\n};\n\n\n/*\n * L.Control.Layers is a control to allow users to switch between different layers on the map.\n */\n\nL.Control.Layers = L.Control.extend({\n\toptions: {\n\t\tcollapsed: true,\n\t\tposition: 'topright',\n\t\tautoZIndex: true\n\t},\n\n\tinitialize: function (baseLayers, overlays, options) {\n\t\tL.setOptions(this, options);\n\n\t\tthis._layers = {};\n\t\tthis._lastZIndex = 0;\n\t\tthis._handlingClick = false;\n\n\t\tfor (var i in baseLayers) {\n\t\t\tthis._addLayer(baseLayers[i], i);\n\t\t}\n\n\t\tfor (i in overlays) {\n\t\t\tthis._addLayer(overlays[i], i, true);\n\t\t}\n\t},\n\n\tonAdd: function (map) {\n\t\tthis._initLayout();\n\t\tthis._update();\n\n\t\tmap\n\t\t    .on('layeradd', this._onLayerChange, this)\n\t\t    .on('layerremove', this._onLayerChange, this);\n\n\t\treturn this._container;\n\t},\n\n\tonRemove: function (map) {\n\t\tmap\n\t\t    .off('layeradd', this._onLayerChange, this)\n\t\t    .off('layerremove', this._onLayerChange, this);\n\t},\n\n\taddBaseLayer: function (layer, name) {\n\t\tthis._addLayer(layer, name);\n\t\tthis._update();\n\t\treturn this;\n\t},\n\n\taddOverlay: function (layer, name) {\n\t\tthis._addLayer(layer, name, true);\n\t\tthis._update();\n\t\treturn this;\n\t},\n\n\tremoveLayer: function (layer) {\n\t\tvar id = L.stamp(layer);\n\t\tdelete this._layers[id];\n\t\tthis._update();\n\t\treturn this;\n\t},\n\n\t_initLayout: function () {\n\t\tvar className = 'leaflet-control-layers',\n\t\t    container = this._container = L.DomUtil.create('div', className);\n\n\t\t//Makes this work on IE10 Touch devices by stopping it from firing a mouseout event when the touch is released\n\t\tcontainer.setAttribute('aria-haspopup', true);\n\n\t\tif (!L.Browser.touch) {\n\t\t\tL.DomEvent\n\t\t\t\t.disableClickPropagation(container)\n\t\t\t\t.disableScrollPropagation(container);\n\t\t} else {\n\t\t\tL.DomEvent.on(container, 'click', L.DomEvent.stopPropagation);\n\t\t}\n\n\t\tvar form = this._form = L.DomUtil.create('form', className + '-list');\n\n\t\tif (this.options.collapsed) {\n\t\t\tif (!L.Browser.android) {\n\t\t\t\tL.DomEvent\n\t\t\t\t    .on(container, 'mouseover', this._expand, this)\n\t\t\t\t    .on(container, 'mouseout', this._collapse, this);\n\t\t\t}\n\t\t\tvar link = this._layersLink = L.DomUtil.create('a', className + '-toggle', container);\n\t\t\tlink.href = '#';\n\t\t\tlink.title = 'Layers';\n\n\t\t\tif (L.Browser.touch) {\n\t\t\t\tL.DomEvent\n\t\t\t\t    .on(link, 'click', L.DomEvent.stop)\n\t\t\t\t    .on(link, 'click', this._expand, this);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tL.DomEvent.on(link, 'focus', this._expand, this);\n\t\t\t}\n\t\t\t//Work around for Firefox android issue https://github.com/Leaflet/Leaflet/issues/2033\n\t\t\tL.DomEvent.on(form, 'click', function () {\n\t\t\t\tsetTimeout(L.bind(this._onInputClick, this), 0);\n\t\t\t}, this);\n\n\t\t\tthis._map.on('click', this._collapse, this);\n\t\t\t// TODO keyboard accessibility\n\t\t} else {\n\t\t\tthis._expand();\n\t\t}\n\n\t\tthis._baseLayersList = L.DomUtil.create('div', className + '-base', form);\n\t\tthis._separator = L.DomUtil.create('div', className + '-separator', form);\n\t\tthis._overlaysList = L.DomUtil.create('div', className + '-overlays', form);\n\n\t\tcontainer.appendChild(form);\n\t},\n\n\t_addLayer: function (layer, name, overlay) {\n\t\tvar id = L.stamp(layer);\n\n\t\tthis._layers[id] = {\n\t\t\tlayer: layer,\n\t\t\tname: name,\n\t\t\toverlay: overlay\n\t\t};\n\n\t\tif (this.options.autoZIndex && layer.setZIndex) {\n\t\t\tthis._lastZIndex++;\n\t\t\tlayer.setZIndex(this._lastZIndex);\n\t\t}\n\t},\n\n\t_update: function () {\n\t\tif (!this._container) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._baseLayersList.innerHTML = '';\n\t\tthis._overlaysList.innerHTML = '';\n\n\t\tvar baseLayersPresent = false,\n\t\t    overlaysPresent = false,\n\t\t    i, obj;\n\n\t\tfor (i in this._layers) {\n\t\t\tobj = this._layers[i];\n\t\t\tthis._addItem(obj);\n\t\t\toverlaysPresent = overlaysPresent || obj.overlay;\n\t\t\tbaseLayersPresent = baseLayersPresent || !obj.overlay;\n\t\t}\n\n\t\tthis._separator.style.display = overlaysPresent && baseLayersPresent ? '' : 'none';\n\t},\n\n\t_onLayerChange: function (e) {\n\t\tvar obj = this._layers[L.stamp(e.layer)];\n\n\t\tif (!obj) { return; }\n\n\t\tif (!this._handlingClick) {\n\t\t\tthis._update();\n\t\t}\n\n\t\tvar type = obj.overlay ?\n\t\t\t(e.type === 'layeradd' ? 'overlayadd' : 'overlayremove') :\n\t\t\t(e.type === 'layeradd' ? 'baselayerchange' : null);\n\n\t\tif (type) {\n\t\t\tthis._map.fire(type, obj);\n\t\t}\n\t},\n\n\t// IE7 bugs out if you create a radio dynamically, so you have to do it this hacky way (see http://bit.ly/PqYLBe)\n\t_createRadioElement: function (name, checked) {\n\n\t\tvar radioHtml = '<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"' + name + '\"';\n\t\tif (checked) {\n\t\t\tradioHtml += ' checked=\"checked\"';\n\t\t}\n\t\tradioHtml += '/>';\n\n\t\tvar radioFragment = document.createElement('div');\n\t\tradioFragment.innerHTML = radioHtml;\n\n\t\treturn radioFragment.firstChild;\n\t},\n\n\t_addItem: function (obj) {\n\t\tvar label = document.createElement('label'),\n\t\t    input,\n\t\t    checked = this._map.hasLayer(obj.layer);\n\n\t\tif (obj.overlay) {\n\t\t\tinput = document.createElement('input');\n\t\t\tinput.type = 'checkbox';\n\t\t\tinput.className = 'leaflet-control-layers-selector';\n\t\t\tinput.defaultChecked = checked;\n\t\t} else {\n\t\t\tinput = this._createRadioElement('leaflet-base-layers', checked);\n\t\t}\n\n\t\tinput.layerId = L.stamp(obj.layer);\n\n\t\tL.DomEvent.on(input, 'click', this._onInputClick, this);\n\n\t\tvar name = document.createElement('span');\n\t\tname.innerHTML = ' ' + obj.name;\n\n\t\tlabel.appendChild(input);\n\t\tlabel.appendChild(name);\n\n\t\tvar container = obj.overlay ? this._overlaysList : this._baseLayersList;\n\t\tcontainer.appendChild(label);\n\n\t\treturn label;\n\t},\n\n\t_onInputClick: function () {\n\t\tvar i, input, obj,\n\t\t    inputs = this._form.getElementsByTagName('input'),\n\t\t    inputsLen = inputs.length;\n\n\t\tthis._handlingClick = true;\n\n\t\tfor (i = 0; i < inputsLen; i++) {\n\t\t\tinput = inputs[i];\n\t\t\tobj = this._layers[input.layerId];\n\n\t\t\tif (input.checked && !this._map.hasLayer(obj.layer)) {\n\t\t\t\tthis._map.addLayer(obj.layer);\n\n\t\t\t} else if (!input.checked && this._map.hasLayer(obj.layer)) {\n\t\t\t\tthis._map.removeLayer(obj.layer);\n\t\t\t}\n\t\t}\n\n\t\tthis._handlingClick = false;\n\n\t\tthis._refocusOnMap();\n\t},\n\n\t_expand: function () {\n\t\tL.DomUtil.addClass(this._container, 'leaflet-control-layers-expanded');\n\t},\n\n\t_collapse: function () {\n\t\tthis._container.className = this._container.className.replace(' leaflet-control-layers-expanded', '');\n\t}\n});\n\nL.control.layers = function (baseLayers, overlays, options) {\n\treturn new L.Control.Layers(baseLayers, overlays, options);\n};\n\n\n/*\n * L.PosAnimation is used by Leaflet internally for pan animations.\n */\n\nL.PosAnimation = L.Class.extend({\n\tincludes: L.Mixin.Events,\n\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._newPos = newPos;\n\n\t\tthis.fire('start');\n\n\t\tel.style[L.DomUtil.TRANSITION] = 'all ' + (duration || 0.25) +\n\t\t        's cubic-bezier(0,0,' + (easeLinearity || 0.5) + ',1)';\n\n\t\tL.DomEvent.on(el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);\n\t\tL.DomUtil.setPosition(el, newPos);\n\n\t\t// toggle reflow, Chrome flickers for some reason if you don't do this\n\t\tL.Util.falseFn(el.offsetWidth);\n\n\t\t// there's no native way to track value updates of transitioned properties, so we imitate this\n\t\tthis._stepTimer = setInterval(L.bind(this._onStep, this), 50);\n\t},\n\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\t// if we just removed the transition property, the element would jump to its final position,\n\t\t// so we need to make it stay at the current position\n\n\t\tL.DomUtil.setPosition(this._el, this._getPos());\n\t\tthis._onTransitionEnd();\n\t\tL.Util.falseFn(this._el.offsetWidth); // force reflow in case we are about to start a new animation\n\t},\n\n\t_onStep: function () {\n\t\tvar stepPos = this._getPos();\n\t\tif (!stepPos) {\n\t\t\tthis._onTransitionEnd();\n\t\t\treturn;\n\t\t}\n\t\t// jshint camelcase: false\n\t\t// make L.DomUtil.getPosition return intermediate position value during animation\n\t\tthis._el._leaflet_pos = stepPos;\n\n\t\tthis.fire('step');\n\t},\n\n\t// you can't easily get intermediate values of properties animated with CSS3 Transitions,\n\t// we need to parse computed style (in case of transform it returns matrix string)\n\n\t_transformRe: /([-+]?(?:\\d*\\.)?\\d+)\\D*, ([-+]?(?:\\d*\\.)?\\d+)\\D*\\)/,\n\n\t_getPos: function () {\n\t\tvar left, top, matches,\n\t\t    el = this._el,\n\t\t    style = window.getComputedStyle(el);\n\n\t\tif (L.Browser.any3d) {\n\t\t\tmatches = style[L.DomUtil.TRANSFORM].match(this._transformRe);\n\t\t\tif (!matches) { return; }\n\t\t\tleft = parseFloat(matches[1]);\n\t\t\ttop  = parseFloat(matches[2]);\n\t\t} else {\n\t\t\tleft = parseFloat(style.left);\n\t\t\ttop  = parseFloat(style.top);\n\t\t}\n\n\t\treturn new L.Point(left, top, true);\n\t},\n\n\t_onTransitionEnd: function () {\n\t\tL.DomEvent.off(this._el, L.DomUtil.TRANSITION_END, this._onTransitionEnd, this);\n\n\t\tif (!this._inProgress) { return; }\n\t\tthis._inProgress = false;\n\n\t\tthis._el.style[L.DomUtil.TRANSITION] = '';\n\n\t\t// jshint camelcase: false\n\t\t// make sure L.DomUtil.getPosition returns the final position value after animation\n\t\tthis._el._leaflet_pos = this._newPos;\n\n\t\tclearInterval(this._stepTimer);\n\n\t\tthis.fire('step').fire('end');\n\t}\n\n});\n\n\n/*\n * Extends L.Map to handle panning animations.\n */\n\nL.Map.include({\n\n\tsetView: function (center, zoom, options) {\n\n\t\tzoom = zoom === undefined ? this._zoom : this._limitZoom(zoom);\n\t\tcenter = this._limitCenter(L.latLng(center), zoom, this.options.maxBounds);\n\t\toptions = options || {};\n\n\t\tif (this._panAnim) {\n\t\t\tthis._panAnim.stop();\n\t\t}\n\n\t\tif (this._loaded && !options.reset && options !== true) {\n\n\t\t\tif (options.animate !== undefined) {\n\t\t\t\toptions.zoom = L.extend({animate: options.animate}, options.zoom);\n\t\t\t\toptions.pan = L.extend({animate: options.animate}, options.pan);\n\t\t\t}\n\n\t\t\t// try animating pan or zoom\n\t\t\tvar animated = (this._zoom !== zoom) ?\n\t\t\t\tthis._tryAnimatedZoom && this._tryAnimatedZoom(center, zoom, options.zoom) :\n\t\t\t\tthis._tryAnimatedPan(center, options.pan);\n\n\t\t\tif (animated) {\n\t\t\t\t// prevent resize handler call, the view will refresh after animation anyway\n\t\t\t\tclearTimeout(this._sizeTimer);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\n\t\t// animation didn't start, just reset the map view\n\t\tthis._resetView(center, zoom);\n\n\t\treturn this;\n\t},\n\n\tpanBy: function (offset, options) {\n\t\toffset = L.point(offset).round();\n\t\toptions = options || {};\n\n\t\tif (!offset.x && !offset.y) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (!this._panAnim) {\n\t\t\tthis._panAnim = new L.PosAnimation();\n\n\t\t\tthis._panAnim.on({\n\t\t\t\t'step': this._onPanTransitionStep,\n\t\t\t\t'end': this._onPanTransitionEnd\n\t\t\t}, this);\n\t\t}\n\n\t\t// don't fire movestart if animating inertia\n\t\tif (!options.noMoveStart) {\n\t\t\tthis.fire('movestart');\n\t\t}\n\n\t\t// animate pan unless animate: false specified\n\t\tif (options.animate !== false) {\n\t\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-pan-anim');\n\n\t\t\tvar newPos = this._getMapPanePos().subtract(offset);\n\t\t\tthis._panAnim.run(this._mapPane, newPos, options.duration || 0.25, options.easeLinearity);\n\t\t} else {\n\t\t\tthis._rawPanBy(offset);\n\t\t\tthis.fire('move').fire('moveend');\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_onPanTransitionStep: function () {\n\t\tthis.fire('move');\n\t},\n\n\t_onPanTransitionEnd: function () {\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-pan-anim');\n\t\tthis.fire('moveend');\n\t},\n\n\t_tryAnimatedPan: function (center, options) {\n\t\t// difference between the new and current centers in pixels\n\t\tvar offset = this._getCenterOffset(center)._floor();\n\n\t\t// don't animate too far unless animate: true specified in options\n\t\tif ((options && options.animate) !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tthis.panBy(offset, options);\n\n\t\treturn true;\n\t}\n});\n\n\n/*\n * L.PosAnimation fallback implementation that powers Leaflet pan animations\n * in browsers that don't support CSS3 Transitions.\n */\n\nL.PosAnimation = L.DomUtil.TRANSITION ? L.PosAnimation : L.PosAnimation.extend({\n\n\trun: function (el, newPos, duration, easeLinearity) { // (HTMLElement, Point[, Number, Number])\n\t\tthis.stop();\n\n\t\tthis._el = el;\n\t\tthis._inProgress = true;\n\t\tthis._duration = duration || 0.25;\n\t\tthis._easeOutPower = 1 / Math.max(easeLinearity || 0.5, 0.2);\n\n\t\tthis._startPos = L.DomUtil.getPosition(el);\n\t\tthis._offset = newPos.subtract(this._startPos);\n\t\tthis._startTime = +new Date();\n\n\t\tthis.fire('start');\n\n\t\tthis._animate();\n\t},\n\n\tstop: function () {\n\t\tif (!this._inProgress) { return; }\n\n\t\tthis._step();\n\t\tthis._complete();\n\t},\n\n\t_animate: function () {\n\t\t// animation loop\n\t\tthis._animId = L.Util.requestAnimFrame(this._animate, this);\n\t\tthis._step();\n\t},\n\n\t_step: function () {\n\t\tvar elapsed = (+new Date()) - this._startTime,\n\t\t    duration = this._duration * 1000;\n\n\t\tif (elapsed < duration) {\n\t\t\tthis._runFrame(this._easeOut(elapsed / duration));\n\t\t} else {\n\t\t\tthis._runFrame(1);\n\t\t\tthis._complete();\n\t\t}\n\t},\n\n\t_runFrame: function (progress) {\n\t\tvar pos = this._startPos.add(this._offset.multiplyBy(progress));\n\t\tL.DomUtil.setPosition(this._el, pos);\n\n\t\tthis.fire('step');\n\t},\n\n\t_complete: function () {\n\t\tL.Util.cancelAnimFrame(this._animId);\n\n\t\tthis._inProgress = false;\n\t\tthis.fire('end');\n\t},\n\n\t_easeOut: function (t) {\n\t\treturn 1 - Math.pow(1 - t, this._easeOutPower);\n\t}\n});\n\n\n/*\n * Extends L.Map to handle zoom animations.\n */\n\nL.Map.mergeOptions({\n\tzoomAnimation: true,\n\tzoomAnimationThreshold: 4\n});\n\nif (L.DomUtil.TRANSITION) {\n\n\tL.Map.addInitHook(function () {\n\t\t// don't animate on browsers without hardware-accelerated transitions or old Android/Opera\n\t\tthis._zoomAnimated = this.options.zoomAnimation && L.DomUtil.TRANSITION &&\n\t\t\t\tL.Browser.any3d && !L.Browser.android23 && !L.Browser.mobileOpera;\n\n\t\t// zoom transitions run with the same duration for all layers, so if one of transitionend events\n\t\t// happens after starting zoom animation (propagating to the map pane), we know that it ended globally\n\t\tif (this._zoomAnimated) {\n\t\t\tL.DomEvent.on(this._mapPane, L.DomUtil.TRANSITION_END, this._catchTransitionEnd, this);\n\t\t}\n\t});\n}\n\nL.Map.include(!L.DomUtil.TRANSITION ? {} : {\n\n\t_catchTransitionEnd: function (e) {\n\t\tif (this._animatingZoom && e.propertyName.indexOf('transform') >= 0) {\n\t\t\tthis._onZoomTransitionEnd();\n\t\t}\n\t},\n\n\t_nothingToAnimate: function () {\n\t\treturn !this._container.getElementsByClassName('leaflet-zoom-animated').length;\n\t},\n\n\t_tryAnimatedZoom: function (center, zoom, options) {\n\n\t\tif (this._animatingZoom) { return true; }\n\n\t\toptions = options || {};\n\n\t\t// don't animate if disabled, not supported or zoom difference is too large\n\t\tif (!this._zoomAnimated || options.animate === false || this._nothingToAnimate() ||\n\t\t        Math.abs(zoom - this._zoom) > this.options.zoomAnimationThreshold) { return false; }\n\n\t\t// offset is the pixel coords of the zoom origin relative to the current center\n\t\tvar scale = this.getZoomScale(zoom),\n\t\t    offset = this._getCenterOffset(center)._divideBy(1 - 1 / scale),\n\t\t\torigin = this._getCenterLayerPoint()._add(offset);\n\n\t\t// don't animate if the zoom origin isn't within one screen from the current center, unless forced\n\t\tif (options.animate !== true && !this.getSize().contains(offset)) { return false; }\n\n\t\tthis\n\t\t    .fire('movestart')\n\t\t    .fire('zoomstart');\n\n\t\tthis._animateZoom(center, zoom, origin, scale, null, true);\n\n\t\treturn true;\n\t},\n\n\t_animateZoom: function (center, zoom, origin, scale, delta, backwards, forTouchZoom) {\n\n\t\tif (!forTouchZoom) {\n\t\t\tthis._animatingZoom = true;\n\t\t}\n\n\t\t// put transform transition on all layers with leaflet-zoom-animated class\n\t\tL.DomUtil.addClass(this._mapPane, 'leaflet-zoom-anim');\n\n\t\t// remember what center/zoom to set after animation\n\t\tthis._animateToCenter = center;\n\t\tthis._animateToZoom = zoom;\n\n\t\t// disable any dragging during animation\n\t\tif (L.Draggable) {\n\t\t\tL.Draggable._disabled = true;\n\t\t}\n\n\t\tL.Util.requestAnimFrame(function () {\n\t\t\tthis.fire('zoomanim', {\n\t\t\t\tcenter: center,\n\t\t\t\tzoom: zoom,\n\t\t\t\torigin: origin,\n\t\t\t\tscale: scale,\n\t\t\t\tdelta: delta,\n\t\t\t\tbackwards: backwards\n\t\t\t});\n\t\t}, this);\n\t},\n\n\t_onZoomTransitionEnd: function () {\n\n\t\tthis._animatingZoom = false;\n\n\t\tL.DomUtil.removeClass(this._mapPane, 'leaflet-zoom-anim');\n\n\t\tthis._resetView(this._animateToCenter, this._animateToZoom, true, true);\n\n\t\tif (L.Draggable) {\n\t\t\tL.Draggable._disabled = false;\n\t\t}\n\t}\n});\n\n\n/*\n\tZoom animation logic for L.TileLayer.\n*/\n\nL.TileLayer.include({\n\t_animateZoom: function (e) {\n\t\tif (!this._animating) {\n\t\t\tthis._animating = true;\n\t\t\tthis._prepareBgBuffer();\n\t\t}\n\n\t\tvar bg = this._bgBuffer,\n\t\t    transform = L.DomUtil.TRANSFORM,\n\t\t    initialTransform = e.delta ? L.DomUtil.getTranslateString(e.delta) : bg.style[transform],\n\t\t    scaleStr = L.DomUtil.getScaleString(e.scale, e.origin);\n\n\t\tbg.style[transform] = e.backwards ?\n\t\t\t\tscaleStr + ' ' + initialTransform :\n\t\t\t\tinitialTransform + ' ' + scaleStr;\n\t},\n\n\t_endZoomAnim: function () {\n\t\tvar front = this._tileContainer,\n\t\t    bg = this._bgBuffer;\n\n\t\tfront.style.visibility = '';\n\t\tfront.parentNode.appendChild(front); // Bring to fore\n\n\t\t// force reflow\n\t\tL.Util.falseFn(bg.offsetWidth);\n\n\t\tthis._animating = false;\n\t},\n\n\t_clearBgBuffer: function () {\n\t\tvar map = this._map;\n\n\t\tif (map && !map._animatingZoom && !map.touchZoom._zooming) {\n\t\t\tthis._bgBuffer.innerHTML = '';\n\t\t\tthis._bgBuffer.style[L.DomUtil.TRANSFORM] = '';\n\t\t}\n\t},\n\n\t_prepareBgBuffer: function () {\n\n\t\tvar front = this._tileContainer,\n\t\t    bg = this._bgBuffer;\n\n\t\t// if foreground layer doesn't have many tiles but bg layer does,\n\t\t// keep the existing bg layer and just zoom it some more\n\n\t\tvar bgLoaded = this._getLoadedTilesPercentage(bg),\n\t\t    frontLoaded = this._getLoadedTilesPercentage(front);\n\n\t\tif (bg && bgLoaded > 0.5 && frontLoaded < 0.5) {\n\n\t\t\tfront.style.visibility = 'hidden';\n\t\t\tthis._stopLoadingImages(front);\n\t\t\treturn;\n\t\t}\n\n\t\t// prepare the buffer to become the front tile pane\n\t\tbg.style.visibility = 'hidden';\n\t\tbg.style[L.DomUtil.TRANSFORM] = '';\n\n\t\t// switch out the current layer to be the new bg layer (and vice-versa)\n\t\tthis._tileContainer = bg;\n\t\tbg = this._bgBuffer = front;\n\n\t\tthis._stopLoadingImages(bg);\n\n\t\t//prevent bg buffer from clearing right after zoom\n\t\tclearTimeout(this._clearBgBufferTimer);\n\t},\n\n\t_getLoadedTilesPercentage: function (container) {\n\t\tvar tiles = container.getElementsByTagName('img'),\n\t\t    i, len, count = 0;\n\n\t\tfor (i = 0, len = tiles.length; i < len; i++) {\n\t\t\tif (tiles[i].complete) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t\treturn count / len;\n\t},\n\n\t// stops loading all tiles in the background layer\n\t_stopLoadingImages: function (container) {\n\t\tvar tiles = Array.prototype.slice.call(container.getElementsByTagName('img')),\n\t\t    i, len, tile;\n\n\t\tfor (i = 0, len = tiles.length; i < len; i++) {\n\t\t\ttile = tiles[i];\n\n\t\t\tif (!tile.complete) {\n\t\t\t\ttile.onload = L.Util.falseFn;\n\t\t\t\ttile.onerror = L.Util.falseFn;\n\t\t\t\ttile.src = L.Util.emptyImageUrl;\n\n\t\t\t\ttile.parentNode.removeChild(tile);\n\t\t\t}\n\t\t}\n\t}\n});\n\n\n/*\n * Provides L.Map with convenient shortcuts for using browser geolocation features.\n */\n\nL.Map.include({\n\t_defaultLocateOptions: {\n\t\twatch: false,\n\t\tsetView: false,\n\t\tmaxZoom: Infinity,\n\t\ttimeout: 10000,\n\t\tmaximumAge: 0,\n\t\tenableHighAccuracy: false\n\t},\n\n\tlocate: function (/*Object*/ options) {\n\n\t\toptions = this._locateOptions = L.extend(this._defaultLocateOptions, options);\n\n\t\tif (!navigator.geolocation) {\n\t\t\tthis._handleGeolocationError({\n\t\t\t\tcode: 0,\n\t\t\t\tmessage: 'Geolocation not supported.'\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t\tvar onResponse = L.bind(this._handleGeolocationResponse, this),\n\t\t\tonError = L.bind(this._handleGeolocationError, this);\n\n\t\tif (options.watch) {\n\t\t\tthis._locationWatchId =\n\t\t\t        navigator.geolocation.watchPosition(onResponse, onError, options);\n\t\t} else {\n\t\t\tnavigator.geolocation.getCurrentPosition(onResponse, onError, options);\n\t\t}\n\t\treturn this;\n\t},\n\n\tstopLocate: function () {\n\t\tif (navigator.geolocation) {\n\t\t\tnavigator.geolocation.clearWatch(this._locationWatchId);\n\t\t}\n\t\tif (this._locateOptions) {\n\t\t\tthis._locateOptions.setView = false;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_handleGeolocationError: function (error) {\n\t\tvar c = error.code,\n\t\t    message = error.message ||\n\t\t            (c === 1 ? 'permission denied' :\n\t\t            (c === 2 ? 'position unavailable' : 'timeout'));\n\n\t\tif (this._locateOptions.setView && !this._loaded) {\n\t\t\tthis.fitWorld();\n\t\t}\n\n\t\tthis.fire('locationerror', {\n\t\t\tcode: c,\n\t\t\tmessage: 'Geolocation error: ' + message + '.'\n\t\t});\n\t},\n\n\t_handleGeolocationResponse: function (pos) {\n\t\tvar lat = pos.coords.latitude,\n\t\t    lng = pos.coords.longitude,\n\t\t    latlng = new L.LatLng(lat, lng),\n\n\t\t    latAccuracy = 180 * pos.coords.accuracy / 40075017,\n\t\t    lngAccuracy = latAccuracy / Math.cos(L.LatLng.DEG_TO_RAD * lat),\n\n\t\t    bounds = L.latLngBounds(\n\t\t            [lat - latAccuracy, lng - lngAccuracy],\n\t\t            [lat + latAccuracy, lng + lngAccuracy]),\n\n\t\t    options = this._locateOptions;\n\n\t\tif (options.setView) {\n\t\t\tvar zoom = Math.min(this.getBoundsZoom(bounds), options.maxZoom);\n\t\t\tthis.setView(latlng, zoom);\n\t\t}\n\n\t\tvar data = {\n\t\t\tlatlng: latlng,\n\t\t\tbounds: bounds,\n\t\t\ttimestamp: pos.timestamp\n\t\t};\n\n\t\tfor (var i in pos.coords) {\n\t\t\tif (typeof pos.coords[i] === 'number') {\n\t\t\t\tdata[i] = pos.coords[i];\n\t\t\t}\n\t\t}\n\n\t\tthis.fire('locationfound', data);\n\t}\n});\n\n\n}(window, document));\n/* wax - 7.0.1 - v6.0.4-181-ga34788e */\n\n\n!function (name, context, definition) {\n  //if (typeof module !== 'undefined') module.exports = definition(name, context);\n  //else if (typeof define === 'function' && typeof define.amd  === 'object') define(definition);\n  //else context[name] = definition(name, context);\n  context[name] = definition(name, context);\n}('bean', this, function (name, context) {\n  var win = window\n    , old = context[name]\n    , overOut = /over|out/\n    , namespaceRegex = /[^\\.]*(?=\\..*)\\.|.*/\n    , nameRegex = /\\..*/\n    , addEvent = 'addEventListener'\n    , attachEvent = 'attachEvent'\n    , removeEvent = 'removeEventListener'\n    , detachEvent = 'detachEvent'\n    , doc = document || {}\n    , root = doc.documentElement || {}\n    , W3C_MODEL = root[addEvent]\n    , eventSupport = W3C_MODEL ? addEvent : attachEvent\n    , slice = Array.prototype.slice\n    , mouseTypeRegex = /click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i\n    , mouseWheelTypeRegex = /mouse.*(wheel|scroll)/i\n    , textTypeRegex = /^text/i\n    , touchTypeRegex = /^touch|^gesture/i\n    , ONE = { one: 1 } // singleton for quick matching making add() do one()\n\n    , nativeEvents = (function (hash, events, i) {\n        for (i = 0; i < events.length; i++)\n          hash[events[i]] = 1\n        return hash\n      })({}, (\n          'click dblclick mouseup mousedown contextmenu ' +                  // mouse buttons\n          'mousewheel mousemultiwheel DOMMouseScroll ' +                     // mouse wheel\n          'mouseover mouseout mousemove selectstart selectend ' +            // mouse movement\n          'keydown keypress keyup ' +                                        // keyboard\n          'orientationchange ' +                                             // mobile\n          'focus blur change reset select submit ' +                         // form elements\n          'load unload beforeunload resize move DOMContentLoaded readystatechange ' + // window\n          'error abort scroll ' +                                            // misc\n          (W3C_MODEL ? // element.fireEvent('onXYZ'... is not forgiving if we try to fire an event\n                       // that doesn't actually exist, so make sure we only do these on newer browsers\n            'show ' +                                                          // mouse buttons\n            'input invalid ' +                                                 // form elements\n            'touchstart touchmove touchend touchcancel ' +                     // touch\n            'gesturestart gesturechange gestureend ' +                         // gesture\n            'MSPointerUp MSPointerDown MSPointerCancel MSPointerMove ' +       // MS Pointer events\n            'MSPointerOver MSPointerOut ' +                                    // MS Pointer events\n            'pointerup pointerdown pointermove pointercancel' +                // MS Pointer events\n            'message readystatechange pageshow pagehide popstate ' +           // window\n            'hashchange offline online ' +                                     // window\n            'afterprint beforeprint ' +                                        // printing\n            'dragstart dragenter dragover dragleave drag drop dragend ' +      // dnd\n            'loadstart progress suspend emptied stalled loadmetadata ' +       // media\n            'loadeddata canplay canplaythrough playing waiting seeking ' +     // media\n            'seeked ended durationchange timeupdate play pause ratechange ' +  // media\n            'volumechange cuechange ' +                                        // media\n            'checking noupdate downloading cached updateready obsolete ' +     // appcache\n            '' : '')\n        ).split(' ')\n      )\n\n    , customEvents = (function () {\n        function isDescendant(parent, node) {\n          while ((node = node.parentNode) !== null) {\n            if (node === parent) return true\n          }\n          return false\n        }\n\n        function check(event) {\n          var related = event.relatedTarget\n          if (!related) return related === null\n          return (related !== this && related.prefix !== 'xul' && !/document/.test(this.toString()) && !isDescendant(this, related))\n        }\n\n        return {\n            mouseenter: { base: 'mouseover', condition: check }\n          , mouseleave: { base: 'mouseout', condition: check }\n          , mousewheel: { base: /Firefox/.test(navigator.userAgent) ? 'DOMMouseScroll' : 'mousewheel' }\n        }\n      })()\n\n    , fixEvent = (function () {\n        var commonProps = 'altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which'.split(' ')\n          , mouseProps = commonProps.concat('button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '))\n          , mouseWheelProps = mouseProps.concat('wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis'.split(' ')) // 'axis' is FF specific\n          , keyProps = commonProps.concat('char charCode key keyCode keyIdentifier keyLocation'.split(' '))\n          , textProps = commonProps.concat(['data'])\n          , touchProps = commonProps.concat('touches targetTouches changedTouches scale rotation'.split(' '))\n          , preventDefault = 'preventDefault'\n          , createPreventDefault = function (event) {\n              return function () {\n                if (event[preventDefault])\n                  event[preventDefault]()\n                else\n                  event.returnValue = false\n              }\n            }\n          , stopPropagation = 'stopPropagation'\n          , createStopPropagation = function (event) {\n              return function () {\n                if (event[stopPropagation])\n                  event[stopPropagation]()\n                else\n                  event.cancelBubble = true\n              }\n            }\n          , createStop = function (synEvent) {\n              return function () {\n                synEvent[preventDefault]()\n                synEvent[stopPropagation]()\n                synEvent.stopped = true\n              }\n            }\n          , copyProps = function (event, result, props) {\n              var i, p\n              for (i = props.length; i--;) {\n                p = props[i]\n                if (!(p in result) && p in event) result[p] = event[p]\n              }\n            }\n\n        return function (event, isNative) {\n          var result = { originalEvent: event, isNative: isNative }\n          if (!event)\n            return result\n\n          var props\n            , type = event.type\n            , target = event.target || event.srcElement\n\n          result[preventDefault] = createPreventDefault(event)\n          result[stopPropagation] = createStopPropagation(event)\n          result.stop = createStop(result)\n          result.target = target && target.nodeType === 3 ? target.parentNode : target\n\n          if (isNative) { // we only need basic augmentation on custom events, the rest is too expensive\n            if (type.indexOf('key') !== -1) {\n              props = keyProps\n              result.keyCode = event.which || event.keyCode\n            } else if (mouseTypeRegex.test(type)) {\n              props = mouseProps\n              result.rightClick = event.which === 3 || event.button === 2\n              result.pos = { x: 0, y: 0 }\n              if (event.pageX || event.pageY) {\n                result.clientX = event.pageX\n                result.clientY = event.pageY\n              } else if (event.clientX || event.clientY) {\n                result.clientX = event.clientX + doc.body.scrollLeft + root.scrollLeft\n                result.clientY = event.clientY + doc.body.scrollTop + root.scrollTop\n              }\n              if (overOut.test(type))\n                result.relatedTarget = event.relatedTarget || event[(type === 'mouseover' ? 'from' : 'to') + 'Element']\n            } else if (touchTypeRegex.test(type)) {\n              props = touchProps\n            } else if (mouseWheelTypeRegex.test(type)) {\n              props = mouseWheelProps\n            } else if (textTypeRegex.test(type)) {\n              props = textProps\n            }\n            copyProps(event, result, props || commonProps)\n          }\n          return result\n        }\n      })()\n\n      // if we're in old IE we can't do onpropertychange on doc or win so we use doc.documentElement for both\n    , targetElement = function (element, isNative) {\n        return !W3C_MODEL && !isNative && (element === doc || element === win) ? root : element\n      }\n\n      // we use one of these per listener, of any type\n    , RegEntry = (function () {\n        function entry(element, type, handler, original, namespaces) {\n          this.element = element\n          this.type = type\n          this.handler = handler\n          this.original = original\n          this.namespaces = namespaces\n          this.custom = customEvents[type]\n          this.isNative = nativeEvents[type] && element[eventSupport]\n          this.eventType = W3C_MODEL || this.isNative ? type : 'propertychange'\n          this.customType = !W3C_MODEL && !this.isNative && type\n          this.target = targetElement(element, this.isNative)\n          this.eventSupport = this.target[eventSupport]\n        }\n\n        entry.prototype = {\n            // given a list of namespaces, is our entry in any of them?\n            inNamespaces: function (checkNamespaces) {\n              var i, j\n              if (!checkNamespaces)\n                return true\n              if (!this.namespaces)\n                return false\n              for (i = checkNamespaces.length; i--;) {\n                for (j = this.namespaces.length; j--;) {\n                  if (checkNamespaces[i] === this.namespaces[j])\n                    return true\n                }\n              }\n              return false\n            }\n\n            // match by element, original fn (opt), handler fn (opt)\n          , matches: function (checkElement, checkOriginal, checkHandler) {\n              return this.element === checkElement &&\n                (!checkOriginal || this.original === checkOriginal) &&\n                (!checkHandler || this.handler === checkHandler)\n            }\n        }\n\n        return entry\n      })()\n\n    , registry = (function () {\n        // our map stores arrays by event type, just because it's better than storing\n        // everything in a single array. uses '$' as a prefix for the keys for safety\n        var map = {}\n\n          // generic functional search of our registry for matching listeners,\n          // `fn` returns false to break out of the loop\n          , forAll = function (element, type, original, handler, fn) {\n              if (!type || type === '*') {\n                // search the whole registry\n                for (var t in map) {\n                  if (t.charAt(0) === '$')\n                    forAll(element, t.substr(1), original, handler, fn)\n                }\n              } else {\n                var i = 0, l, list = map['$' + type], all = element === '*'\n                if (!list)\n                  return\n                for (l = list.length; i < l; i++) {\n                  if (all || list[i].matches(element, original, handler))\n                    if (!fn(list[i], list, i, type))\n                      return\n                }\n              }\n            }\n\n          , has = function (element, type, original) {\n              // we're not using forAll here simply because it's a bit slower and this\n              // needs to be fast\n              var i, list = map['$' + type]\n              if (list) {\n                for (i = list.length; i--;) {\n                  if (list[i].matches(element, original, null))\n                    return true\n                }\n              }\n              return false\n            }\n\n          , get = function (element, type, original) {\n              var entries = []\n              forAll(element, type, original, null, function (entry) { return entries.push(entry) })\n              return entries\n            }\n\n          , put = function (entry) {\n              (map['$' + entry.type] || (map['$' + entry.type] = [])).push(entry)\n              return entry\n            }\n\n          , del = function (entry) {\n              forAll(entry.element, entry.type, null, entry.handler, function (entry, list, i) {\n                list.splice(i, 1)\n                if (list.length === 0)\n                  delete map['$' + entry.type]\n                return false\n              })\n            }\n\n            // dump all entries, used for onunload\n          , entries = function () {\n              var t, entries = []\n              for (t in map) {\n                if (t.charAt(0) === '$')\n                  entries = entries.concat(map[t])\n              }\n              return entries\n            }\n\n        return { has: has, get: get, put: put, del: del, entries: entries }\n      })()\n\n      // add and remove listeners to DOM elements\n    , listener = W3C_MODEL ? function (element, type, fn, add) {\n        element[add ? addEvent : removeEvent](type, fn, false)\n      } : function (element, type, fn, add, custom) {\n        if (custom && add && element['_on' + custom] === null)\n          element['_on' + custom] = 0\n        element[add ? attachEvent : detachEvent]('on' + type, fn)\n      }\n\n    , nativeHandler = function (element, fn, args) {\n        return function (event) {\n          event = fixEvent(event || ((this.ownerDocument || this.document || this).parentWindow || win).event, true)\n          return fn.apply(element, [event].concat(args))\n        }\n      }\n\n    , customHandler = function (element, fn, type, condition, args, isNative) {\n        return function (event) {\n          if (condition ? condition.apply(this, arguments) : W3C_MODEL ? true : event && event.propertyName === '_on' + type || !event) {\n            if (event)\n              event = fixEvent(event || ((this.ownerDocument || this.document || this).parentWindow || win).event, isNative)\n            fn.apply(element, event && (!args || args.length === 0) ? arguments : slice.call(arguments, event ? 0 : 1).concat(args))\n          }\n        }\n      }\n\n    , once = function (rm, element, type, fn, originalFn) {\n        // wrap the handler in a handler that does a remove as well\n        return function () {\n          rm(element, type, originalFn)\n          fn.apply(this, arguments)\n        }\n      }\n\n    , removeListener = function (element, orgType, handler, namespaces) {\n        var i, l, entry\n          , type = (orgType && orgType.replace(nameRegex, ''))\n          , handlers = registry.get(element, type, handler)\n\n        for (i = 0, l = handlers.length; i < l; i++) {\n          if (handlers[i].inNamespaces(namespaces)) {\n            if ((entry = handlers[i]).eventSupport)\n              listener(entry.target, entry.eventType, entry.handler, false, entry.type)\n            // TODO: this is problematic, we have a registry.get() and registry.del() that\n            // both do registry searches so we waste cycles doing this. Needs to be rolled into\n            // a single registry.forAll(fn) that removes while finding, but the catch is that\n            // we'll be splicing the arrays that we're iterating over. Needs extra tests to\n            // make sure we don't screw it up. @rvagg\n            registry.del(entry)\n          }\n        }\n      }\n\n    , addListener = function (element, orgType, fn, originalFn, args) {\n        var entry\n          , type = orgType.replace(nameRegex, '')\n          , namespaces = orgType.replace(namespaceRegex, '').split('.')\n\n        if (registry.has(element, type, fn))\n          return element // no dupe\n        if (type === 'unload')\n          fn = once(removeListener, element, type, fn, originalFn) // self clean-up\n        if (customEvents[type]) {\n          if (customEvents[type].condition)\n            fn = customHandler(element, fn, type, customEvents[type].condition, true)\n          type = customEvents[type].base || type\n        }\n        entry = registry.put(new RegEntry(element, type, fn, originalFn, namespaces[0] && namespaces))\n        entry.handler = entry.isNative ?\n          nativeHandler(element, entry.handler, args) :\n          customHandler(element, entry.handler, type, false, args, false)\n        if (entry.eventSupport)\n          listener(entry.target, entry.eventType, entry.handler, true, entry.customType)\n      }\n\n    , del = function (selector, fn, $) {\n        return function (e) {\n          var target, i, array = typeof selector === 'string' ? $(selector, this) : selector\n          for (target = e.target; target && target !== this; target = target.parentNode) {\n            for (i = array.length; i--;) {\n              if (array[i] === target) {\n                return fn.apply(target, arguments)\n              }\n            }\n          }\n        }\n      }\n\n    , remove = function (element, typeSpec, fn) {\n        var k, m, type, namespaces, i\n          , rm = removeListener\n          , isString = typeSpec && typeof typeSpec === 'string'\n\n        if (isString && typeSpec.indexOf(' ') > 0) {\n          // remove(el, 't1 t2 t3', fn) or remove(el, 't1 t2 t3')\n          typeSpec = typeSpec.split(' ')\n          for (i = typeSpec.length; i--;)\n            remove(element, typeSpec[i], fn)\n          return element\n        }\n        type = isString && typeSpec.replace(nameRegex, '')\n        if (type && customEvents[type])\n          type = customEvents[type].type\n        if (!typeSpec || isString) {\n          // remove(el) or remove(el, t1.ns) or remove(el, .ns) or remove(el, .ns1.ns2.ns3)\n          if (namespaces = isString && typeSpec.replace(namespaceRegex, ''))\n            namespaces = namespaces.split('.')\n          rm(element, type, fn, namespaces)\n        } else if (typeof typeSpec === 'function') {\n          // remove(el, fn)\n          rm(element, null, typeSpec)\n        } else {\n          // remove(el, { t1: fn1, t2, fn2 })\n          for (k in typeSpec) {\n            if (typeSpec.hasOwnProperty(k))\n              remove(element, k, typeSpec[k])\n          }\n        }\n        return element\n      }\n\n    , add = function (element, events, fn, delfn, $) {\n        var type, types, i, args\n          , originalFn = fn\n          , isDel = fn && typeof fn === 'string'\n\n        if (events && !fn && typeof events === 'object') {\n          for (type in events) {\n            if (events.hasOwnProperty(type))\n              add.apply(this, [ element, type, events[type] ])\n          }\n        } else {\n          args = arguments.length > 3 ? slice.call(arguments, 3) : []\n          types = (isDel ? fn : events).split(' ')\n          isDel && (fn = del(events, (originalFn = delfn), $)) && (args = slice.call(args, 1))\n          // special case for one()\n          this === ONE && (fn = once(remove, element, events, fn, originalFn))\n          for (i = types.length; i--;) addListener(element, types[i], fn, originalFn, args)\n        }\n        return element\n      }\n\n    , one = function () {\n        return add.apply(ONE, arguments)\n      }\n\n    , fireListener = W3C_MODEL ? function (isNative, type, element) {\n        var evt = doc.createEvent(isNative ? 'HTMLEvents' : 'UIEvents')\n        evt[isNative ? 'initEvent' : 'initUIEvent'](type, true, true, win, 1)\n        element.dispatchEvent(evt)\n      } : function (isNative, type, element) {\n        element = targetElement(element, isNative)\n        // if not-native then we're using onpropertychange so we just increment a custom property\n        isNative ? element.fireEvent('on' + type, doc.createEventObject()) : element['_on' + type]++\n      }\n\n    , fire = function (element, type, args) {\n        var i, j, l, names, handlers\n          , types = type.split(' ')\n\n        for (i = types.length; i--;) {\n          type = types[i].replace(nameRegex, '')\n          if (names = types[i].replace(namespaceRegex, ''))\n            names = names.split('.')\n          if (!names && !args && element[eventSupport]) {\n            fireListener(nativeEvents[type], type, element)\n          } else {\n            // non-native event, either because of a namespace, arguments or a non DOM element\n            // iterate over all listeners and manually 'fire'\n            handlers = registry.get(element, type)\n            args = [false].concat(args)\n            for (j = 0, l = handlers.length; j < l; j++) {\n              if (handlers[j].inNamespaces(names))\n                handlers[j].handler.apply(element, args)\n            }\n          }\n        }\n        return element\n      }\n\n    , clone = function (element, from, type) {\n        var i = 0\n          , handlers = registry.get(from, type)\n          , l = handlers.length\n\n        for (;i < l; i++)\n          handlers[i].original && add(element, handlers[i].type, handlers[i].original)\n        return element\n      }\n\n    , bean = {\n          add: add\n        , one: one\n        , remove: remove\n        , clone: clone\n        , fire: fire\n        , noConflict: function () {\n            context[name] = old\n            return this\n          }\n      }\n\n  if (win[attachEvent]) {\n    // for IE, clean up on unload to avoid leaks\n    var cleanup = function () {\n      var i, entries = registry.entries()\n      for (i in entries) {\n        if (entries[i].type && entries[i].type !== 'unload')\n          remove(entries[i].element, entries[i].type)\n      }\n      win[detachEvent]('onunload', cleanup)\n      win.CollectGarbage && win.CollectGarbage()\n    }\n    win[attachEvent]('onunload', cleanup)\n  }\n\n  return bean\n})\n// Copyright Google Inc.\n// Licensed under the Apache Licence Version 2.0\n// Autogenerated at Tue Oct 11 13:36:46 EDT 2011\n// @provides html4\nvar html4 = {};\nhtml4.atype = {\n  NONE: 0,\n  URI: 1,\n  URI_FRAGMENT: 11,\n  SCRIPT: 2,\n  STYLE: 3,\n  ID: 4,\n  IDREF: 5,\n  IDREFS: 6,\n  GLOBAL_NAME: 7,\n  LOCAL_NAME: 8,\n  CLASSES: 9,\n  FRAME_TARGET: 10\n};\nhtml4.ATTRIBS = {\n  '*::class': 9,\n  '*::dir': 0,\n  '*::id': 4,\n  '*::lang': 0,\n  '*::onclick': 2,\n  '*::ondblclick': 2,\n  '*::onkeydown': 2,\n  '*::onkeypress': 2,\n  '*::onkeyup': 2,\n  '*::onload': 2,\n  '*::onmousedown': 2,\n  '*::onmousemove': 2,\n  '*::onmouseout': 2,\n  '*::onmouseover': 2,\n  '*::onmouseup': 2,\n  '*::style': 3,\n  '*::title': 0,\n  'a::accesskey': 0,\n  'a::coords': 0,\n  'a::href': 1,\n  'a::hreflang': 0,\n  'a::name': 7,\n  'a::onblur': 2,\n  'a::onfocus': 2,\n  'a::rel': 0,\n  'a::rev': 0,\n  'a::shape': 0,\n  'a::tabindex': 0,\n  'a::target': 10,\n  'a::type': 0,\n  'area::accesskey': 0,\n  'area::alt': 0,\n  'area::coords': 0,\n  'area::href': 1,\n  'area::nohref': 0,\n  'area::onblur': 2,\n  'area::onfocus': 2,\n  'area::shape': 0,\n  'area::tabindex': 0,\n  'area::target': 10,\n  'bdo::dir': 0,\n  'blockquote::cite': 1,\n  'br::clear': 0,\n  'button::accesskey': 0,\n  'button::disabled': 0,\n  'button::name': 8,\n  'button::onblur': 2,\n  'button::onfocus': 2,\n  'button::tabindex': 0,\n  'button::type': 0,\n  'button::value': 0,\n  'canvas::height': 0,\n  'canvas::width': 0,\n  'caption::align': 0,\n  'col::align': 0,\n  'col::char': 0,\n  'col::charoff': 0,\n  'col::span': 0,\n  'col::valign': 0,\n  'col::width': 0,\n  'colgroup::align': 0,\n  'colgroup::char': 0,\n  'colgroup::charoff': 0,\n  'colgroup::span': 0,\n  'colgroup::valign': 0,\n  'colgroup::width': 0,\n  'del::cite': 1,\n  'del::datetime': 0,\n  'dir::compact': 0,\n  'div::align': 0,\n  'dl::compact': 0,\n  'font::color': 0,\n  'font::face': 0,\n  'font::size': 0,\n  'form::accept': 0,\n  'form::action': 1,\n  'form::autocomplete': 0,\n  'form::enctype': 0,\n  'form::method': 0,\n  'form::name': 7,\n  'form::onreset': 2,\n  'form::onsubmit': 2,\n  'form::target': 10,\n  'h1::align': 0,\n  'h2::align': 0,\n  'h3::align': 0,\n  'h4::align': 0,\n  'h5::align': 0,\n  'h6::align': 0,\n  'hr::align': 0,\n  'hr::noshade': 0,\n  'hr::size': 0,\n  'hr::width': 0,\n  'iframe::align': 0,\n  'iframe::frameborder': 0,\n  'iframe::height': 0,\n  'iframe::marginheight': 0,\n  'iframe::marginwidth': 0,\n  'iframe::width': 0,\n  'img::align': 0,\n  'img::alt': 0,\n  'img::border': 0,\n  'img::height': 0,\n  'img::hspace': 0,\n  'img::ismap': 0,\n  'img::name': 7,\n  'img::src': 1,\n  'img::usemap': 11,\n  'img::vspace': 0,\n  'img::width': 0,\n  'input::accept': 0,\n  'input::accesskey': 0,\n  'input::align': 0,\n  'input::alt': 0,\n  'input::autocomplete': 0,\n  'input::checked': 0,\n  'input::disabled': 0,\n  'input::ismap': 0,\n  'input::maxlength': 0,\n  'input::name': 8,\n  'input::onblur': 2,\n  'input::onchange': 2,\n  'input::onfocus': 2,\n  'input::onselect': 2,\n  'input::readonly': 0,\n  'input::size': 0,\n  'input::src': 1,\n  'input::tabindex': 0,\n  'input::type': 0,\n  'input::usemap': 11,\n  'input::value': 0,\n  'ins::cite': 1,\n  'ins::datetime': 0,\n  'label::accesskey': 0,\n  'label::for': 5,\n  'label::onblur': 2,\n  'label::onfocus': 2,\n  'legend::accesskey': 0,\n  'legend::align': 0,\n  'li::type': 0,\n  'li::value': 0,\n  'map::name': 7,\n  'menu::compact': 0,\n  'ol::compact': 0,\n  'ol::start': 0,\n  'ol::type': 0,\n  'optgroup::disabled': 0,\n  'optgroup::label': 0,\n  'option::disabled': 0,\n  'option::label': 0,\n  'option::selected': 0,\n  'option::value': 0,\n  'p::align': 0,\n  'pre::width': 0,\n  'q::cite': 1,\n  'select::disabled': 0,\n  'select::multiple': 0,\n  'select::name': 8,\n  'select::onblur': 2,\n  'select::onchange': 2,\n  'select::onfocus': 2,\n  'select::size': 0,\n  'select::tabindex': 0,\n  'table::align': 0,\n  'table::bgcolor': 0,\n  'table::border': 0,\n  'table::cellpadding': 0,\n  'table::cellspacing': 0,\n  'table::frame': 0,\n  'table::rules': 0,\n  'table::summary': 0,\n  'table::width': 0,\n  'tbody::align': 0,\n  'tbody::char': 0,\n  'tbody::charoff': 0,\n  'tbody::valign': 0,\n  'td::abbr': 0,\n  'td::align': 0,\n  'td::axis': 0,\n  'td::bgcolor': 0,\n  'td::char': 0,\n  'td::charoff': 0,\n  'td::colspan': 0,\n  'td::headers': 6,\n  'td::height': 0,\n  'td::nowrap': 0,\n  'td::rowspan': 0,\n  'td::scope': 0,\n  'td::valign': 0,\n  'td::width': 0,\n  'textarea::accesskey': 0,\n  'textarea::cols': 0,\n  'textarea::disabled': 0,\n  'textarea::name': 8,\n  'textarea::onblur': 2,\n  'textarea::onchange': 2,\n  'textarea::onfocus': 2,\n  'textarea::onselect': 2,\n  'textarea::readonly': 0,\n  'textarea::rows': 0,\n  'textarea::tabindex': 0,\n  'tfoot::align': 0,\n  'tfoot::char': 0,\n  'tfoot::charoff': 0,\n  'tfoot::valign': 0,\n  'th::abbr': 0,\n  'th::align': 0,\n  'th::axis': 0,\n  'th::bgcolor': 0,\n  'th::char': 0,\n  'th::charoff': 0,\n  'th::colspan': 0,\n  'th::headers': 6,\n  'th::height': 0,\n  'th::nowrap': 0,\n  'th::rowspan': 0,\n  'th::scope': 0,\n  'th::valign': 0,\n  'th::width': 0,\n  'thead::align': 0,\n  'thead::char': 0,\n  'thead::charoff': 0,\n  'thead::valign': 0,\n  'tr::align': 0,\n  'tr::bgcolor': 0,\n  'tr::char': 0,\n  'tr::charoff': 0,\n  'tr::valign': 0,\n  'ul::compact': 0,\n  'ul::type': 0\n};\nhtml4.eflags = {\n  OPTIONAL_ENDTAG: 1,\n  EMPTY: 2,\n  CDATA: 4,\n  RCDATA: 8,\n  UNSAFE: 16,\n  FOLDABLE: 32,\n  SCRIPT: 64,\n  STYLE: 128\n};\nhtml4.ELEMENTS = {\n  'a': 0,\n  'abbr': 0,\n  'acronym': 0,\n  'address': 0,\n  'applet': 16,\n  'area': 2,\n  'b': 0,\n  'base': 18,\n  'basefont': 18,\n  'bdo': 0,\n  'big': 0,\n  'blockquote': 0,\n  'body': 49,\n  'br': 2,\n  'button': 0,\n  'canvas': 0,\n  'caption': 0,\n  'center': 0,\n  'cite': 0,\n  'code': 0,\n  'col': 2,\n  'colgroup': 1,\n  'dd': 1,\n  'del': 0,\n  'dfn': 0,\n  'dir': 0,\n  'div': 0,\n  'dl': 0,\n  'dt': 1,\n  'em': 0,\n  'fieldset': 0,\n  'font': 0,\n  'form': 0,\n  'frame': 18,\n  'frameset': 16,\n  'h1': 0,\n  'h2': 0,\n  'h3': 0,\n  'h4': 0,\n  'h5': 0,\n  'h6': 0,\n  'head': 49,\n  'hr': 2,\n  'html': 49,\n  'i': 0,\n  'iframe': 4,\n  'img': 2,\n  'input': 2,\n  'ins': 0,\n  'isindex': 18,\n  'kbd': 0,\n  'label': 0,\n  'legend': 0,\n  'li': 1,\n  'link': 18,\n  'map': 0,\n  'menu': 0,\n  'meta': 18,\n  'nobr': 0,\n  'noembed': 4,\n  'noframes': 20,\n  'noscript': 20,\n  'object': 16,\n  'ol': 0,\n  'optgroup': 0,\n  'option': 1,\n  'p': 1,\n  'param': 18,\n  'pre': 0,\n  'q': 0,\n  's': 0,\n  'samp': 0,\n  'script': 84,\n  'select': 0,\n  'small': 0,\n  'span': 0,\n  'strike': 0,\n  'strong': 0,\n  'style': 148,\n  'sub': 0,\n  'sup': 0,\n  'table': 0,\n  'tbody': 1,\n  'td': 1,\n  'textarea': 8,\n  'tfoot': 1,\n  'th': 1,\n  'thead': 1,\n  'title': 24,\n  'tr': 1,\n  'tt': 0,\n  'u': 0,\n  'ul': 0,\n  'var': 0\n};\nhtml4.ueffects = {\n  NOT_LOADED: 0,\n  SAME_DOCUMENT: 1,\n  NEW_DOCUMENT: 2\n};\nhtml4.URIEFFECTS = {\n  'a::href': 2,\n  'area::href': 2,\n  'blockquote::cite': 0,\n  'body::background': 1,\n  'del::cite': 0,\n  'form::action': 2,\n  'img::src': 1,\n  'input::src': 1,\n  'ins::cite': 0,\n  'q::cite': 0\n};\nhtml4.ltypes = {\n  UNSANDBOXED: 2,\n  SANDBOXED: 1,\n  DATA: 0\n};\nhtml4.LOADERTYPES = {\n  'a::href': 2,\n  'area::href': 2,\n  'blockquote::cite': 2,\n  'body::background': 1,\n  'del::cite': 2,\n  'form::action': 2,\n  'img::src': 1,\n  'input::src': 1,\n  'ins::cite': 2,\n  'q::cite': 2\n};;\n// Copyright (C) 2006 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview\n * An HTML sanitizer that can satisfy a variety of security policies.\n *\n * <p>\n * The HTML sanitizer is built around a SAX parser and HTML element and\n * attributes schemas.\n *\n * @author mikesamuel@gmail.com\n * @requires html4\n * @overrides window\n * @provides html, html_sanitize\n */\n\n/**\n * @namespace\n */\nvar html = (function (html4) {\n  var lcase;\n  // The below may not be true on browsers in the Turkish locale.\n  if ('script' === 'SCRIPT'.toLowerCase()) {\n    lcase = function (s) { return s.toLowerCase(); };\n  } else {\n    /**\n     * {@updoc\n     * $ lcase('SCRIPT')\n     * # 'script'\n     * $ lcase('script')\n     * # 'script'\n     * }\n     */\n    lcase = function (s) {\n      return s.replace(\n          /[A-Z]/g,\n          function (ch) {\n            return String.fromCharCode(ch.charCodeAt(0) | 32);\n          });\n    };\n  }\n\n  var ENTITIES = {\n    lt   : '<',\n    gt   : '>',\n    amp  : '&',\n    nbsp : '\\240',\n    quot : '\"',\n    apos : '\\''\n  };\n  \n  // Schemes on which to defer to uripolicy. Urls with other schemes are denied\n  var WHITELISTED_SCHEMES = /^(?:https?|mailto|data)$/i;\n\n  var decimalEscapeRe = /^#(\\d+)$/;\n  var hexEscapeRe = /^#x([0-9A-Fa-f]+)$/;\n  /**\n   * Decodes an HTML entity.\n   *\n   * {@updoc\n   * $ lookupEntity('lt')\n   * # '<'\n   * $ lookupEntity('GT')\n   * # '>'\n   * $ lookupEntity('amp')\n   * # '&'\n   * $ lookupEntity('nbsp')\n   * # '\\xA0'\n   * $ lookupEntity('apos')\n   * # \"'\"\n   * $ lookupEntity('quot')\n   * # '\"'\n   * $ lookupEntity('#xa')\n   * # '\\n'\n   * $ lookupEntity('#10')\n   * # '\\n'\n   * $ lookupEntity('#x0a')\n   * # '\\n'\n   * $ lookupEntity('#010')\n   * # '\\n'\n   * $ lookupEntity('#x00A')\n   * # '\\n'\n   * $ lookupEntity('Pi')      // Known failure\n   * # '\\u03A0'\n   * $ lookupEntity('pi')      // Known failure\n   * # '\\u03C0'\n   * }\n   *\n   * @param name the content between the '&' and the ';'.\n   * @return a single unicode code-point as a string.\n   */\n  function lookupEntity(name) {\n    name = lcase(name);  // TODO: &pi; is different from &Pi;\n    if (ENTITIES.hasOwnProperty(name)) { return ENTITIES[name]; }\n    var m = name.match(decimalEscapeRe);\n    if (m) {\n      return String.fromCharCode(parseInt(m[1], 10));\n    } else if (!!(m = name.match(hexEscapeRe))) {\n      return String.fromCharCode(parseInt(m[1], 16));\n    }\n    return '';\n  }\n\n  function decodeOneEntity(_, name) {\n    return lookupEntity(name);\n  }\n\n  var nulRe = /\\0/g;\n  function stripNULs(s) {\n    return s.replace(nulRe, '');\n  }\n\n  var entityRe = /&(#\\d+|#x[0-9A-Fa-f]+|\\w+);/g;\n  /**\n   * The plain text of a chunk of HTML CDATA which possibly containing.\n   *\n   * {@updoc\n   * $ unescapeEntities('')\n   * # ''\n   * $ unescapeEntities('hello World!')\n   * # 'hello World!'\n   * $ unescapeEntities('1 &lt; 2 &amp;&AMP; 4 &gt; 3&#10;')\n   * # '1 < 2 && 4 > 3\\n'\n   * $ unescapeEntities('&lt;&lt <- unfinished entity&gt;')\n   * # '<&lt <- unfinished entity>'\n   * $ unescapeEntities('/foo?bar=baz&copy=true')  // & often unescaped in URLS\n   * # '/foo?bar=baz&copy=true'\n   * $ unescapeEntities('pi=&pi;&#x3c0;, Pi=&Pi;\\u03A0') // FIXME: known failure\n   * # 'pi=\\u03C0\\u03c0, Pi=\\u03A0\\u03A0'\n   * }\n   *\n   * @param s a chunk of HTML CDATA.  It must not start or end inside an HTML\n   *   entity.\n   */\n  function unescapeEntities(s) {\n    return s.replace(entityRe, decodeOneEntity);\n  }\n\n  var ampRe = /&/g;\n  var looseAmpRe = /&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;\n  var ltRe = /</g;\n  var gtRe = />/g;\n  var quotRe = /\\\"/g;\n  var eqRe = /\\=/g;  // Backslash required on JScript.net\n\n  /**\n   * Escapes HTML special characters in attribute values as HTML entities.\n   *\n   * {@updoc\n   * $ escapeAttrib('')\n   * # ''\n   * $ escapeAttrib('\"<<&==&>>\"')  // Do not just escape the first occurrence.\n   * # '&#34;&lt;&lt;&amp;&#61;&#61;&amp;&gt;&gt;&#34;'\n   * $ escapeAttrib('Hello <World>!')\n   * # 'Hello &lt;World&gt;!'\n   * }\n   */\n  function escapeAttrib(s) {\n    // Escaping '=' defangs many UTF-7 and SGML short-tag attacks.\n    return s.replace(ampRe, '&amp;').replace(ltRe, '&lt;').replace(gtRe, '&gt;')\n        .replace(quotRe, '&#34;').replace(eqRe, '&#61;');\n  }\n\n  /**\n   * Escape entities in RCDATA that can be escaped without changing the meaning.\n   * {@updoc\n   * $ normalizeRCData('1 < 2 &&amp; 3 > 4 &amp;& 5 &lt; 7&8')\n   * # '1 &lt; 2 &amp;&amp; 3 &gt; 4 &amp;&amp; 5 &lt; 7&amp;8'\n   * }\n   */\n  function normalizeRCData(rcdata) {\n    return rcdata\n        .replace(looseAmpRe, '&amp;$1')\n        .replace(ltRe, '&lt;')\n        .replace(gtRe, '&gt;');\n  }\n\n\n  // TODO(mikesamuel): validate sanitizer regexs against the HTML5 grammar at\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html\n\n  /** token definitions. */\n  var INSIDE_TAG_TOKEN = new RegExp(\n      // Don't capture space.\n      '^\\\\s*(?:'\n      // Capture an attribute name in group 1, and value in group 3.\n      // We capture the fact that there was an attribute in group 2, since\n      // interpreters are inconsistent in whether a group that matches nothing\n      // is null, undefined, or the empty string.\n      + ('(?:'\n         + '([a-z][a-z-]*)'                    // attribute name\n         + ('('                                // optionally followed\n            + '\\\\s*=\\\\s*'\n            + ('('\n               // A double quoted string.\n               + '\\\"[^\\\"]*\\\"'\n               // A single quoted string.\n               + '|\\'[^\\']*\\''\n               // The positive lookahead is used to make sure that in\n               // <foo bar= baz=boo>, the value for bar is blank, not \"baz=boo\".\n               + '|(?=[a-z][a-z-]*\\\\s*=)'\n               // An unquoted value that is not an attribute name.\n               // We know it is not an attribute name because the previous\n               // zero-width match would've eliminated that possibility.\n               + '|[^>\\\"\\'\\\\s]*'\n               + ')'\n               )\n            + ')'\n            ) + '?'\n         + ')'\n         )\n      // End of tag captured in group 3.\n      + '|(\\/?>)'\n      // Don't capture cruft\n      + '|[\\\\s\\\\S][^a-z\\\\s>]*)',\n      'i');\n\n  var OUTSIDE_TAG_TOKEN = new RegExp(\n      '^(?:'\n      // Entity captured in group 1.\n      + '&(\\\\#[0-9]+|\\\\#[x][0-9a-f]+|\\\\w+);'\n      // Comment, doctypes, and processing instructions not captured.\n      + '|<\\!--[\\\\s\\\\S]*?--\\>|<!\\\\w[^>]*>|<\\\\?[^>*]*>'\n      // '/' captured in group 2 for close tags, and name captured in group 3.\n      + '|<(\\/)?([a-z][a-z0-9]*)'\n      // Text captured in group 4.\n      + '|([^<&>]+)'\n      // Cruft captured in group 5.\n      + '|([<&>]))',\n      'i');\n\n  /**\n   * Given a SAX-like event handler, produce a function that feeds those\n   * events and a parameter to the event handler.\n   *\n   * The event handler has the form:{@code\n   * {\n   *   // Name is an upper-case HTML tag name.  Attribs is an array of\n   *   // alternating upper-case attribute names, and attribute values.  The\n   *   // attribs array is reused by the parser.  Param is the value passed to\n   *   // the saxParser.\n   *   startTag: function (name, attribs, param) { ... },\n   *   endTag:   function (name, param) { ... },\n   *   pcdata:   function (text, param) { ... },\n   *   rcdata:   function (text, param) { ... },\n   *   cdata:    function (text, param) { ... },\n   *   startDoc: function (param) { ... },\n   *   endDoc:   function (param) { ... }\n   * }}\n   *\n   * @param {Object} handler a record containing event handlers.\n   * @return {Function} that takes a chunk of html and a parameter.\n   *   The parameter is passed on to the handler methods.\n   */\n  function makeSaxParser(handler) {\n    return function parse(htmlText, param) {\n      htmlText = String(htmlText);\n      var htmlLower = null;\n\n      var inTag = false;  // True iff we're currently processing a tag.\n      var attribs = [];  // Accumulates attribute names and values.\n      var tagName = void 0;  // The name of the tag currently being processed.\n      var eflags = void 0;  // The element flags for the current tag.\n      var openTag = void 0;  // True if the current tag is an open tag.\n\n      if (handler.startDoc) { handler.startDoc(param); }\n\n      while (htmlText) {\n        var m = htmlText.match(inTag ? INSIDE_TAG_TOKEN : OUTSIDE_TAG_TOKEN);\n        htmlText = htmlText.substring(m[0].length);\n\n        if (inTag) {\n          if (m[1]) { // attribute\n            // setAttribute with uppercase names doesn't work on IE6.\n            var attribName = lcase(m[1]);\n            var decodedValue;\n            if (m[2]) {\n              var encodedValue = m[3];\n              switch (encodedValue.charCodeAt(0)) {  // Strip quotes\n                case 34: case 39:\n                  encodedValue = encodedValue.substring(\n                      1, encodedValue.length - 1);\n                  break;\n              }\n              decodedValue = unescapeEntities(stripNULs(encodedValue));\n            } else {\n              // Use name as value for valueless attribs, so\n              //   <input type=checkbox checked>\n              // gets attributes ['type', 'checkbox', 'checked', 'checked']\n              decodedValue = attribName;\n            }\n            attribs.push(attribName, decodedValue);\n          } else if (m[4]) {\n            if (eflags !== void 0) {  // False if not in whitelist.\n              if (openTag) {\n                if (handler.startTag) {\n                  handler.startTag(tagName, attribs, param);\n                }\n              } else {\n                if (handler.endTag) {\n                  handler.endTag(tagName, param);\n                }\n              }\n            }\n\n            if (openTag\n                && (eflags & (html4.eflags.CDATA | html4.eflags.RCDATA))) {\n              if (htmlLower === null) {\n                htmlLower = lcase(htmlText);\n              } else {\n                htmlLower = htmlLower.substring(\n                    htmlLower.length - htmlText.length);\n              }\n              var dataEnd = htmlLower.indexOf('</' + tagName);\n              if (dataEnd < 0) { dataEnd = htmlText.length; }\n              if (dataEnd) {\n                if (eflags & html4.eflags.CDATA) {\n                  if (handler.cdata) {\n                    handler.cdata(htmlText.substring(0, dataEnd), param);\n                  }\n                } else if (handler.rcdata) {\n                  handler.rcdata(\n                    normalizeRCData(htmlText.substring(0, dataEnd)), param);\n                }\n                htmlText = htmlText.substring(dataEnd);\n              }\n            }\n\n            tagName = eflags = openTag = void 0;\n            attribs.length = 0;\n            inTag = false;\n          }\n        } else {\n          if (m[1]) {  // Entity\n            if (handler.pcdata) { handler.pcdata(m[0], param); }\n          } else if (m[3]) {  // Tag\n            openTag = !m[2];\n            inTag = true;\n            tagName = lcase(m[3]);\n            eflags = html4.ELEMENTS.hasOwnProperty(tagName)\n                ? html4.ELEMENTS[tagName] : void 0;\n          } else if (m[4]) {  // Text\n            if (handler.pcdata) { handler.pcdata(m[4], param); }\n          } else if (m[5]) {  // Cruft\n            if (handler.pcdata) {\n              var ch = m[5];\n              handler.pcdata(\n                  ch === '<' ? '&lt;' : ch === '>' ? '&gt;' : '&amp;',\n                  param);\n            }\n          }\n        }\n      }\n\n      if (handler.endDoc) { handler.endDoc(param); }\n    };\n  }\n\n  /**\n   * Returns a function that strips unsafe tags and attributes from html.\n   * @param {Function} sanitizeAttributes\n   *     maps from (tagName, attribs[]) to null or a sanitized attribute array.\n   *     The attribs array can be arbitrarily modified, but the same array\n   *     instance is reused, so should not be held.\n   * @return {Function} from html to sanitized html\n   */\n  function makeHtmlSanitizer(sanitizeAttributes) {\n    var stack;\n    var ignoring;\n    return makeSaxParser({\n        startDoc: function (_) {\n          stack = [];\n          ignoring = false;\n        },\n        startTag: function (tagName, attribs, out) {\n          if (ignoring) { return; }\n          if (!html4.ELEMENTS.hasOwnProperty(tagName)) { return; }\n          var eflags = html4.ELEMENTS[tagName];\n          if (eflags & html4.eflags.FOLDABLE) {\n            return;\n          } else if (eflags & html4.eflags.UNSAFE) {\n            ignoring = !(eflags & html4.eflags.EMPTY);\n            return;\n          }\n          attribs = sanitizeAttributes(tagName, attribs);\n          // TODO(mikesamuel): relying on sanitizeAttributes not to\n          // insert unsafe attribute names.\n          if (attribs) {\n            if (!(eflags & html4.eflags.EMPTY)) {\n              stack.push(tagName);\n            }\n\n            out.push('<', tagName);\n            for (var i = 0, n = attribs.length; i < n; i += 2) {\n              var attribName = attribs[i],\n                  value = attribs[i + 1];\n              if (value !== null && value !== void 0) {\n                out.push(' ', attribName, '=\"', escapeAttrib(value), '\"');\n              }\n            }\n            out.push('>');\n          }\n        },\n        endTag: function (tagName, out) {\n          if (ignoring) {\n            ignoring = false;\n            return;\n          }\n          if (!html4.ELEMENTS.hasOwnProperty(tagName)) { return; }\n          var eflags = html4.ELEMENTS[tagName];\n          if (!(eflags & (html4.eflags.UNSAFE | html4.eflags.EMPTY\n                          | html4.eflags.FOLDABLE))) {\n            var index;\n            if (eflags & html4.eflags.OPTIONAL_ENDTAG) {\n              for (index = stack.length; --index >= 0;) {\n                var stackEl = stack[index];\n                if (stackEl === tagName) { break; }\n                if (!(html4.ELEMENTS[stackEl]\n                      & html4.eflags.OPTIONAL_ENDTAG)) {\n                  // Don't pop non optional end tags looking for a match.\n                  return;\n                }\n              }\n            } else {\n              for (index = stack.length; --index >= 0;) {\n                if (stack[index] === tagName) { break; }\n              }\n            }\n            if (index < 0) { return; }  // Not opened.\n            for (var i = stack.length; --i > index;) {\n              var stackEl = stack[i];\n              if (!(html4.ELEMENTS[stackEl]\n                    & html4.eflags.OPTIONAL_ENDTAG)) {\n                out.push('</', stackEl, '>');\n              }\n            }\n            stack.length = index;\n            out.push('</', tagName, '>');\n          }\n        },\n        pcdata: function (text, out) {\n          if (!ignoring) { out.push(text); }\n        },\n        rcdata: function (text, out) {\n          if (!ignoring) { out.push(text); }\n        },\n        cdata: function (text, out) {\n          if (!ignoring) { out.push(text); }\n        },\n        endDoc: function (out) {\n          for (var i = stack.length; --i >= 0;) {\n            out.push('</', stack[i], '>');\n          }\n          stack.length = 0;\n        }\n      });\n  }\n\n  // From RFC3986\n  var URI_SCHEME_RE = new RegExp(\n        \"^\" +\n      \"(?:\" +\n        \"([^:\\/?#]+)\" +         // scheme\n      \":)?\"\n      );\n\n  /**\n   * Strips unsafe tags and attributes from html.\n   * @param {string} htmlText to sanitize\n   * @param {Function} opt_uriPolicy -- a transform to apply to uri/url\n   *     attribute values.  If no opt_uriPolicy is provided, no uris\n   *     are allowed ie. the default uriPolicy rewrites all uris to null\n   * @param {Function} opt_nmTokenPolicy : string -> string? -- a transform to\n   *     apply to names, ids, and classes. If no opt_nmTokenPolicy is provided,\n   *     all names, ids and classes are passed through ie. the default\n   *     nmTokenPolicy is an identity transform\n   * @return {string} html\n   */\n  function sanitize(htmlText, opt_uriPolicy, opt_nmTokenPolicy) {\n    var out = [];\n    makeHtmlSanitizer(\n      function sanitizeAttribs(tagName, attribs) {\n        for (var i = 0; i < attribs.length; i += 2) {\n          var attribName = attribs[i];\n          var value = attribs[i + 1];\n          var atype = null, attribKey;\n          if ((attribKey = tagName + '::' + attribName,\n               html4.ATTRIBS.hasOwnProperty(attribKey))\n              || (attribKey = '*::' + attribName,\n                  html4.ATTRIBS.hasOwnProperty(attribKey))) {\n            atype = html4.ATTRIBS[attribKey];\n          }\n          if (atype !== null) {\n            switch (atype) {\n              case html4.atype.NONE: break;\n              case html4.atype.SCRIPT:\n              case html4.atype.STYLE:\n                value = null;\n                break;\n              case html4.atype.ID:\n              case html4.atype.IDREF:\n              case html4.atype.IDREFS:\n              case html4.atype.GLOBAL_NAME:\n              case html4.atype.LOCAL_NAME:\n              case html4.atype.CLASSES:\n                value = opt_nmTokenPolicy ? opt_nmTokenPolicy(value) : value;\n                break;\n              case html4.atype.URI:\n                var parsedUri = ('' + value).match(URI_SCHEME_RE);\n                if (!parsedUri) {\n                  value = null;\n                } else if (!parsedUri[1] ||\n                    WHITELISTED_SCHEMES.test(parsedUri[1])) {\n                  value = opt_uriPolicy && opt_uriPolicy(value);\n                } else {\n                  value = null;\n                }\n                break;\n              case html4.atype.URI_FRAGMENT:\n                if (value && '#' === value.charAt(0)) {\n                  value = opt_nmTokenPolicy ? opt_nmTokenPolicy(value) : value;\n                  if (value) { value = '#' + value; }\n                } else {\n                  value = null;\n                }\n                break;\n              default:\n                value = null;\n                break;\n            }\n          } else {\n            value = null;\n          }\n          attribs[i + 1] = value;\n        }\n        return attribs;\n      })(htmlText, out);\n    return out.join('');\n  }\n\n  return {\n    escapeAttrib: escapeAttrib,\n    makeHtmlSanitizer: makeHtmlSanitizer,\n    makeSaxParser: makeSaxParser,\n    normalizeRCData: normalizeRCData,\n    sanitize: sanitize,\n    unescapeEntities: unescapeEntities\n  };\n})(html4);\n\nvar html_sanitize = html.sanitize;\n\n// Exports for closure compiler.  Note this file is also cajoled\n// for domado and run in an environment without 'window'\nif (typeof window !== 'undefined') {\n  window['html'] = html;\n  window['html_sanitize'] = html_sanitize;\n}\n// Loosen restrictions of Caja's\n// html-sanitizer to allow for styling\nhtml4.ATTRIBS['*::style'] = 0;\nhtml4.ELEMENTS['style'] = 0;\n\nhtml4.ATTRIBS['a::target'] = 0;\n\nhtml4.ELEMENTS['video'] = 0;\nhtml4.ATTRIBS['video::src'] = 0;\nhtml4.ATTRIBS['video::poster'] = 0;\nhtml4.ATTRIBS['video::controls'] = 0;\n\nhtml4.ELEMENTS['audio'] = 0;\nhtml4.ATTRIBS['audio::src'] = 0;\nhtml4.ATTRIBS['video::autoplay'] = 0;\nhtml4.ATTRIBS['video::controls'] = 0;\n/*!\n  * Reqwest! A general purpose XHR connection manager\n  * (c) Dustin Diaz 2012\n  * https://github.com/ded/reqwest\n  * license MIT\n  */\n;(function (name, context, definition) {\n  context[name] = definition()\n})('reqwest', this, function () {\n\n  var win = window\n    , doc = document\n    , twoHundo = /^20\\d$/\n    , byTag = 'getElementsByTagName'\n    , readyState = 'readyState'\n    , contentType = 'Content-Type'\n    , requestedWith = 'X-Requested-With'\n    , head = doc[byTag]('head')[0]\n    , uniqid = 0\n    , callbackPrefix = 'reqwest_' + (+new Date())\n    , lastValue // data stored by the most recent JSONP callback\n    , xmlHttpRequest = 'XMLHttpRequest'\n    , noop = function () {}\n\n    , isArray = typeof Array.isArray == 'function'\n        ? Array.isArray\n        : function (a) {\n            return a instanceof Array\n          }\n\n    , defaultHeaders = {\n          contentType: 'application/x-www-form-urlencoded'\n        , requestedWith: xmlHttpRequest\n        , accept: {\n              '*':  'text/javascript, text/html, application/xml, text/xml, */*'\n            , xml:  'application/xml, text/xml'\n            , html: 'text/html'\n            , text: 'text/plain'\n            , json: 'application/json, text/javascript'\n            , js:   'application/javascript, text/javascript'\n          }\n      }\n\n    , xhr = win[xmlHttpRequest]\n        ? function () {\n            return new XMLHttpRequest()\n          }\n        : function () {\n            return new ActiveXObject('Microsoft.XMLHTTP')\n          }\n\n  function handleReadyState (r, success, error) {\n    return function () {\n      // use _aborted to mitigate against IE err c00c023f\n      // (can't read props on aborted request objects)\n      if (r._aborted) return error(r.request)\n      if (r.request && r.request[readyState] == 4) {\n        r.request.onreadystatechange = noop\n        if (twoHundo.test(r.request.status))\n          success(r.request)\n        else\n          error(r.request)\n      }\n    }\n  }\n\n  function setHeaders (http, o) {\n    var headers = o.headers || {}\n      , h\n\n    headers.Accept = headers.Accept\n      || defaultHeaders.accept[o.type]\n      || defaultHeaders.accept['*']\n\n    // breaks cross-origin requests with legacy browsers\n    if (!o.crossOrigin && !headers[requestedWith]) headers[requestedWith] = defaultHeaders.requestedWith\n    if (!headers[contentType]) headers[contentType] = o.contentType || defaultHeaders.contentType\n    for (h in headers)\n      headers.hasOwnProperty(h) && http.setRequestHeader(h, headers[h])\n  }\n\n  function setCredentials (http, o) {\n    if (typeof o.withCredentials !== 'undefined' && typeof http.withCredentials !== 'undefined') {\n      http.withCredentials = !!o.withCredentials\n    }\n  }\n\n  function generalCallback (data) {\n    lastValue = data\n  }\n\n  function urlappend (url, s) {\n    return url + (/\\?/.test(url) ? '&' : '?') + s\n  }\n\n  function handleJsonp (o, fn, err, url) {\n    var reqId = uniqid++\n      , cbkey = o.jsonpCallback || 'callback' // the 'callback' key\n      , cbval = o.jsonpCallbackName || reqwest.getcallbackPrefix(reqId)\n      // , cbval = o.jsonpCallbackName || ('reqwest_' + reqId) // the 'callback' value\n      , cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)')\n      , match = url.match(cbreg)\n      , script = doc.createElement('script')\n      , loaded = 0\n      , isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1;\n\n    if (match) {\n      if (match[3] === '?') {\n        url = url.replace(cbreg, '$1=' + cbval) // wildcard callback func name\n      } else {\n        cbval = match[3] // provided callback func name\n      }\n    } else {\n      url = urlappend(url, cbkey + '=' + cbval) // no callback details, add 'em\n    }\n\n    win[cbval] = generalCallback\n\n    script.type = 'text/javascript'\n    if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {\n      // need this for IE due to out-of-order onreadystatechange(), binding script\n      // execution to an event listener gives us control over when the script\n      // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n      //\n      // if this hack is used in IE10 jsonp callback are never called\n      script.event = 'onclick'\n      script.htmlFor = script.id = '_reqwest_' + reqId\n    }\n\n    script.onload = script.onreadystatechange = function () {\n      if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n        return false\n      }\n      script.onload = script.onreadystatechange = null\n      script.onclick && script.onclick()\n      // Call the user callback with the last value stored and clean up values and scripts.\n      o.success && o.success(lastValue)\n      lastValue = undefined\n      head.removeChild(script)\n      loaded = 1\n    }\n\n    script.src = url\n    script.async = true\n\n    // Add the script to the DOM head\n    head.appendChild(script)\n\n    // Enable JSONP timeout\n    return {\n      abort: function () {\n        script.onload = script.onreadystatechange = null\n        o.error && o.error({}, 'Request is aborted: timeout', {})\n        lastValue = undefined\n        head.removeChild(script)\n        loaded = 1\n      }\n    }\n  }\n\n  function getRequest (fn, err) {\n    var o = this.o\n      , method = (o.method || 'GET').toUpperCase()\n      , url = typeof o === 'string' ? o : o.url\n      // convert non-string objects to query-string form unless o.processData is false\n      , data = (o.processData !== false && o.data && typeof o.data !== 'string')\n        ? reqwest.toQueryString(o.data)\n        : (o.data || null)\n      , http\n\n    // if we're working on a GET request and we have data then we should append\n    // query string to end of URL and not post data\n    if ((o.type == 'jsonp' || method == 'GET') && data) {\n      url = urlappend(url, data)\n      data = null\n    }\n\n    if (o.type == 'jsonp') return handleJsonp(o, fn, err, url)\n\n    http = xhr()\n    http.open(method, url, true)\n    setHeaders(http, o)\n    setCredentials(http, o)\n    http.onreadystatechange = handleReadyState(this, fn, err)\n    o.before && o.before(http)\n    http.send(data)\n    return http\n  }\n\n  function Reqwest (o, fn) {\n    this.o = o\n    this.fn = fn\n\n    init.apply(this, arguments)\n  }\n\n  function setType (url) {\n    var m = url.match(/\\.(json|jsonp|html|xml)(\\?|$)/)\n    return m ? m[1] : 'js'\n  }\n\n  function init (o, fn) {\n\n    this.url = typeof o == 'string' ? o : o.url\n    this.timeout = null\n\n    // whether request has been fulfilled for purpose\n    // of tracking the Promises\n    this._fulfilled = false\n    // success handlers\n    this._fulfillmentHandlers = []\n    // error handlers\n    this._errorHandlers = []\n    // complete (both success and fail) handlers\n    this._completeHandlers = []\n    this._erred = false\n    this._responseArgs = {}\n\n    var self = this\n      , type = o.type || setType(this.url)\n\n    fn = fn || function () {}\n\n    if (o.timeout) {\n      this.timeout = setTimeout(function () {\n        self.abort()\n      }, o.timeout)\n    }\n\n    if (o.success) {\n      this._fulfillmentHandlers.push(function () {\n        o.success.apply(o, arguments)\n      })\n    }\n\n    if (o.error) {\n      this._errorHandlers.push(function () {\n        o.error.apply(o, arguments)\n      })\n    }\n\n    if (o.complete) {\n      this._completeHandlers.push(function () {\n        o.complete.apply(o, arguments)\n      })\n    }\n\n    function complete (resp) {\n      o.timeout && clearTimeout(self.timeout)\n      self.timeout = null\n      while (self._completeHandlers.length > 0) {\n        self._completeHandlers.shift()(resp)\n      }\n    }\n\n    function success (resp) {\n      var r = resp.responseText\n      if (r) {\n        switch (type) {\n        case 'json':\n          try {\n            resp = win.JSON ? win.JSON.parse(r) : eval('(' + r + ')')\n          } catch (err) {\n            return error(resp, 'Could not parse JSON in response', err)\n          }\n          break\n        case 'js':\n          resp = eval(r)\n          break\n        case 'html':\n          resp = r\n          break\n        case 'xml':\n          resp = resp.responseXML\n              && resp.responseXML.parseError // IE trololo\n              && resp.responseXML.parseError.errorCode\n              && resp.responseXML.parseError.reason\n            ? null\n            : resp.responseXML\n          break\n        }\n      }\n\n      self._responseArgs.resp = resp\n      self._fulfilled = true\n      fn(resp)\n      while (self._fulfillmentHandlers.length > 0) {\n        self._fulfillmentHandlers.shift()(resp)\n      }\n\n      complete(resp)\n    }\n\n    function error (resp, msg, t) {\n      self._responseArgs.resp = resp\n      self._responseArgs.msg = msg\n      self._responseArgs.t = t\n      self._erred = true\n      while (self._errorHandlers.length > 0) {\n        self._errorHandlers.shift()(resp, msg, t)\n      }\n      complete(resp)\n    }\n\n    this.request = getRequest.call(this, success, error)\n  }\n\n  Reqwest.prototype = {\n    abort: function () {\n      this._aborted = true\n      this.request.abort()\n    }\n\n  , retry: function () {\n      init.call(this, this.o, this.fn)\n    }\n\n    /**\n     * Small deviation from the Promises A CommonJs specification\n     * http://wiki.commonjs.org/wiki/Promises/A\n     */\n\n    /**\n     * `then` will execute upon successful requests\n     */\n  , then: function (success, fail) {\n      if (this._fulfilled) {\n        success(this._responseArgs.resp)\n      } else if (this._erred) {\n        fail(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._fulfillmentHandlers.push(success)\n        this._errorHandlers.push(fail)\n      }\n      return this\n    }\n\n    /**\n     * `always` will execute whether the request succeeds or fails\n     */\n  , always: function (fn) {\n      if (this._fulfilled || this._erred) {\n        fn(this._responseArgs.resp)\n      } else {\n        this._completeHandlers.push(fn)\n      }\n      return this\n    }\n\n    /**\n     * `fail` will execute when the request fails\n     */\n  , fail: function (fn) {\n      if (this._erred) {\n        fn(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._errorHandlers.push(fn)\n      }\n      return this\n    }\n  }\n\n  function reqwest (o, fn) {\n    return new Reqwest(o, fn)\n  }\n\n  // normalize newline variants according to spec -> CRLF\n  function normalize (s) {\n    return s ? s.replace(/\\r?\\n/g, '\\r\\n') : ''\n  }\n\n  function serial (el, cb) {\n    var n = el.name\n      , t = el.tagName.toLowerCase()\n      , optCb = function (o) {\n          // IE gives value=\"\" even where there is no value attribute\n          // 'specified' ref: http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-862529273\n          if (o && !o.disabled)\n            cb(n, normalize(o.attributes.value && o.attributes.value.specified ? o.value : o.text))\n        }\n      , ch, ra, val, i\n\n    // don't serialize elements that are disabled or without a name\n    if (el.disabled || !n) return\n\n    switch (t) {\n    case 'input':\n      if (!/reset|button|image|file/i.test(el.type)) {\n        ch = /checkbox/i.test(el.type)\n        ra = /radio/i.test(el.type)\n        val = el.value\n        // WebKit gives us \"\" instead of \"on\" if a checkbox has no value, so correct it here\n        ;(!(ch || ra) || el.checked) && cb(n, normalize(ch && val === '' ? 'on' : val))\n      }\n      break\n    case 'textarea':\n      cb(n, normalize(el.value))\n      break\n    case 'select':\n      if (el.type.toLowerCase() === 'select-one') {\n        optCb(el.selectedIndex >= 0 ? el.options[el.selectedIndex] : null)\n      } else {\n        for (i = 0; el.length && i < el.length; i++) {\n          el.options[i].selected && optCb(el.options[i])\n        }\n      }\n      break\n    }\n  }\n\n  // collect up all form elements found from the passed argument elements all\n  // the way down to child elements; pass a '<form>' or form fields.\n  // called with 'this'=callback to use for serial() on each element\n  function eachFormElement () {\n    var cb = this\n      , e, i\n      , serializeSubtags = function (e, tags) {\n          var i, j, fa\n          for (i = 0; i < tags.length; i++) {\n            fa = e[byTag](tags[i])\n            for (j = 0; j < fa.length; j++) serial(fa[j], cb)\n          }\n        }\n\n    for (i = 0; i < arguments.length; i++) {\n      e = arguments[i]\n      if (/input|select|textarea/i.test(e.tagName)) serial(e, cb)\n      serializeSubtags(e, [ 'input', 'select', 'textarea' ])\n    }\n  }\n\n  // standard query string style serialization\n  function serializeQueryString () {\n    return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments))\n  }\n\n  // { 'name': 'value', ... } style serialization\n  function serializeHash () {\n    var hash = {}\n    eachFormElement.apply(function (name, value) {\n      if (name in hash) {\n        hash[name] && !isArray(hash[name]) && (hash[name] = [hash[name]])\n        hash[name].push(value)\n      } else hash[name] = value\n    }, arguments)\n    return hash\n  }\n\n  // [ { name: 'name', value: 'value' }, ... ] style serialization\n  reqwest.serializeArray = function () {\n    var arr = []\n    eachFormElement.apply(function (name, value) {\n      arr.push({name: name, value: value})\n    }, arguments)\n    return arr\n  }\n\n  reqwest.serialize = function () {\n    if (arguments.length === 0) return ''\n    var opt, fn\n      , args = Array.prototype.slice.call(arguments, 0)\n\n    opt = args.pop()\n    opt && opt.nodeType && args.push(opt) && (opt = null)\n    opt && (opt = opt.type)\n\n    if (opt == 'map') fn = serializeHash\n    else if (opt == 'array') fn = reqwest.serializeArray\n    else fn = serializeQueryString\n\n    return fn.apply(null, args)\n  }\n\n  reqwest.toQueryString = function (o) {\n    var qs = '', i\n      , enc = encodeURIComponent\n      , push = function (k, v) {\n          qs += enc(k) + '=' + enc(v) + '&'\n        }\n      , k, v\n\n    if (isArray(o)) {\n      for (i = 0; o && i < o.length; i++) push(o[i].name, o[i].value)\n    } else {\n      for (k in o) {\n        if (!Object.hasOwnProperty.call(o, k)) continue\n        v = o[k]\n        if (isArray(v)) {\n          for (i = 0; i < v.length; i++) push(k, v[i])\n        } else push(k, o[k])\n      }\n    }\n\n    // spaces should be + according to spec\n    return qs.replace(/&$/, '').replace(/%20/g, '+')\n  }\n\n  reqwest.getcallbackPrefix = function () {\n    return callbackPrefix\n  }\n\n  // jQuery and Zepto compatibility, differences can be remapped here so you can call\n  // .ajax.compat(options, callback)\n  reqwest.compat = function (o, fn) {\n    if (o) {\n      o.type && (o.method = o.type) && delete o.type\n      o.dataType && (o.type = o.dataType)\n      o.jsonpCallback && (o.jsonpCallbackName = o.jsonpCallback) && delete o.jsonpCallback\n      o.jsonp && (o.jsonpCallback = o.jsonp)\n    }\n    return new Reqwest(o, fn)\n  }\n\n  return reqwest\n})\n;wax = wax || {};\n\n// Attribution\n// -----------\nwax.attribution = function() {\n    var a = {};\n\n    var container = document.createElement('div');\n    container.className = 'map-attribution';\n\n    a.content = function(x) {\n        if (typeof x === 'undefined') return container.innerHTML;\n        container.innerHTML = wax.u.sanitize(x);\n        return this;\n    };\n\n    a.element = function() {\n        return container;\n    };\n\n    a.init = function() {\n        return this;\n    };\n\n    return a;\n};\nwax = wax || {};\n\n// Attribution\n// -----------\nwax.bwdetect = function(options, callback) {\n    var detector = {},\n        threshold = options.threshold || 400,\n        // test image: 30.29KB\n        testImage = 'http://a.tiles.mapbox.com/mapbox/1.0.0/blue-marble-topo-bathy-jul/0/0/0.png?preventcache=' + (+new Date()),\n        // High-bandwidth assumed\n        // 1: high bandwidth (.png, .jpg)\n        // 0: low bandwidth (.png128, .jpg70)\n        bw = 1,\n        // Alternative versions\n        auto = options.auto === undefined ? true : options.auto;\n\n    function bwTest() {\n        wax.bw = -1;\n        var im = new Image();\n        im.src = testImage;\n        var first = true;\n        var timeout = setTimeout(function() {\n            if (first && wax.bw == -1) {\n                detector.bw(0);\n                first = false;\n            }\n        }, threshold);\n        im.onload = function() {\n            if (first && wax.bw == -1) {\n                clearTimeout(timeout);\n                detector.bw(1);\n                first = false;\n            }\n        };\n    }\n\n    detector.bw = function(x) {\n        if (!arguments.length) return bw;\n        var oldBw = bw;\n        if (wax.bwlisteners && wax.bwlisteners.length) (function () {\n            listeners = wax.bwlisteners;\n            wax.bwlisteners = [];\n            for (i = 0; i < listeners; i++) {\n                listeners[i](x);\n            }\n        })();\n        wax.bw = x;\n\n        if (bw != (bw = x)) callback(x);\n    };\n\n    detector.add = function() {\n        if (auto) bwTest();\n        return this;\n    };\n\n    if (wax.bw == -1) {\n      wax.bwlisteners = wax.bwlisteners || [];\n      wax.bwlisteners.push(detector.bw);\n    } else if (wax.bw !== undefined) {\n        detector.bw(wax.bw);\n    } else {\n        detector.add();\n    }\n    return detector;\n};\n// Formatter\n// ---------\n//\n// This code is no longer the recommended code path for Wax -\n// see `template.js`, a safe implementation of Mustache templates.\nwax.formatter = function(x) {\n    var formatter = {},\n        f;\n\n    // Prevent against just any input being used.\n    if (x && typeof x === 'string') {\n        try {\n            // Ugly, dangerous use of eval.\n            eval('f = ' + x);\n        } catch (e) {\n            if (console) console.log(e);\n        }\n    } else if (x && typeof x === 'function') {\n        f = x;\n    } else {\n        f = function() {};\n    }\n\n    // Wrap the given formatter function in order to\n    // catch exceptions that it may throw.\n    formatter.format = function(options, data) {\n        try {\n            return wax.u.sanitize(f(options, data));\n        } catch (e) {\n            if (console) console.log(e);\n        }\n    };\n\n    return formatter;\n};\n// GridInstance\n// ------------\n// GridInstances are queryable, fully-formed\n// objects for acquiring features from events.\n//\n// This code ignores format of 1.1-1.2\nwax.gi = function(grid_tile, options) {\n    options = options || {};\n    // resolution is the grid-elements-per-pixel ratio of gridded data.\n    // The size of a tile element. For now we expect tiles to be squares.\n    var instance = {},\n        resolution = options.resolution || 4,\n        tileSize = options.tileSize || 256;\n\n    // Resolve the UTF-8 encoding stored in grids to simple\n    // number values.\n    // See the [utfgrid spec](https://github.com/mapbox/utfgrid-spec)\n    // for details.\n    function resolveCode(key) {\n        if (key >= 93) key--;\n        if (key >= 35) key--;\n        key -= 32;\n        return key;\n    }\n\n    instance.grid_tile = function() {\n        return grid_tile;\n    };\n\n    instance.getKey = function(x, y) {\n        if (!(grid_tile && grid_tile.grid)) return;\n        if ((y < 0) || (x < 0)) return;\n        if ((Math.floor(y) >= tileSize) ||\n            (Math.floor(x) >= tileSize)) return;\n        // Find the key in the grid. The above calls should ensure that\n        // the grid's array is large enough to make this work.\n        return resolveCode(grid_tile.grid[\n           Math.floor((y) / resolution)\n        ].charCodeAt(\n           Math.floor((x) / resolution)\n        ));\n    };\n\n    // Lower-level than tileFeature - has nothing to do\n    // with the DOM. Takes a px offset from 0, 0 of a grid.\n    instance.gridFeature = function(x, y) {\n        // Find the key in the grid. The above calls should ensure that\n        // the grid's array is large enough to make this work.\n        var key = this.getKey(x, y),\n            keys = grid_tile.keys;\n\n        if (keys &&\n            keys[key] &&\n            grid_tile.data[keys[key]]) {\n            return grid_tile.data[keys[key]];\n        }\n    };\n\n    // Get a feature:\n    // * `x` and `y`: the screen coordinates of an event\n    // * `tile_element`: a DOM element of a tile, from which we can get an offset.\n    instance.tileFeature = function(x, y, tile_element) {\n        if (!grid_tile) return;\n        // IE problem here - though recoverable, for whatever reason\n        var offset = wax.u.offset(tile_element);\n            feature = this.gridFeature(x - offset.left, y - offset.top);\n        return feature;\n    };\n\n    return instance;\n};\n// GridManager\n// -----------\n// Generally one GridManager will be used per map.\n//\n// It takes one options object, which current accepts a single option:\n// `resolution` determines the number of pixels per grid element in the grid.\n// The default is 4.\nwax.gm = function() {\n\n    var resolution = 4,\n        grid_tiles = {},\n        manager = {},\n        tilejson,\n        formatter;\n\n    var gridUrl = function(url) {\n        if (url) {\n            return url.replace(/(\\.png|\\.jpg|\\.jpeg)(\\d*)/, '.grid.json');\n        }\n    };\n\n    function templatedGridUrl(template) {\n        if (typeof template === 'string') template = [template];\n        return function templatedGridFinder(url) {\n            if (!url) return;\n            var rx = new RegExp(manager.tileRegexp())\n            var xyz = rx.exec(url);\n            if (!xyz) return;\n            return template[parseInt(xyz[2], 10) % template.length]\n                .replace(/\\{z\\}/g, xyz[1])\n                .replace(/\\{x\\}/g, xyz[2])\n                .replace(/\\{y\\}/g, xyz[3]);\n        };\n    }\n\n    // return the regexp to catch the tile number given the url\n    manager.tileRegexp = function() {\n      var tileTemplate = tilejson.tiles[0];\n      // remove params\n      var p = tileTemplate.indexOf('?');\n      if(p !== -1) {\n        tileTemplate = tileTemplate.substr(0, p);\n      }\n      // remove from the url all the special characters\n      // replacing them by a dot (dont mind the character)\n      tileTemplate = tileTemplate.\n                        replace(/[\\(\\)\\?\\$\\*\\+\\^]/g,'.')\n\n      // the browser removes the port in the case it matchs with\n      // the default port of the protocol\n      if(tileTemplate.indexOf('https') === 0) {\n        tileTemplate = tileTemplate.replace(':443', '[:0-9]*')\n      } else if(tileTemplate.indexOf('http') === 0) {\n        tileTemplate = tileTemplate.replace(':80', '[:0-9]*')\n      }\n\n      var r = '';\n      if(tilejson.tiles.length > 1) {\n        var t0 = tilejson.tiles[0];\n        var t1 = tilejson.tiles[1];\n        //search characters where differs\n        for(var i = 0; i < t0.length; ++i) {\n          if(t0.charAt(i) != t1.charAt(i)) {\n            r += '.';\n          } else {\n            r += tileTemplate.charAt(i) || '';\n          }\n        }\n      } else {\n        r = tileTemplate;\n      }\n\n      // replace the first {x}{y}{z} by (\\\\d+)\n      return r\n        .replace(/\\{x\\}/,'(\\\\d+)')\n        .replace(/\\{y\\}/,'(\\\\d+)')\n        .replace(/\\{z\\}/,'(\\\\d+)')\n    }\n\n    manager.formatter = function(x) {\n        if (!arguments.length) return formatter;\n        formatter =  wax.formatter(x);\n        return manager;\n    };\n\n    manager.template = function(x) {\n        if (!arguments.length) return formatter;\n        formatter = wax.template(x);\n        return manager;\n    };\n\n    manager.gridUrl = function(x) {\n        // Getter-setter\n        if (!arguments.length) return gridUrl;\n\n        // Handle tilesets that don't support grids\n        if (!x) {\n            gridUrl = function() { return null; };\n        } else {\n            gridUrl = typeof x === 'function' ?\n                x : templatedGridUrl(x);\n        }\n        return manager;\n    };\n\n    manager.getGrid = function(url, callback) {\n        var gurl = gridUrl(url);\n        if (!formatter || !gurl) return callback(null, null);\n\n        wax.request.get(gurl, function(err, t) {\n            if (err) return callback(err, null);\n            callback(null, wax.gi(t, {\n                formatter: formatter,\n                resolution: resolution\n            }));\n        });\n        return manager;\n    };\n\n    manager.tilejson = function(x) {\n        if (!arguments.length) return tilejson;\n        // prefer templates over formatters\n        if (x.template) {\n            manager.template(x.template);\n        } else if (x.formatter) {\n            manager.formatter(x.formatter);\n        } else {\n            // In this case, we cannot support grids\n            formatter = undefined;\n        }\n        manager.gridUrl(x.grids);\n        if (x.resolution) resolution = x.resolution;\n        tilejson = x;\n        return manager;\n    };\n\n    return manager;\n};\nwax = wax || {};\n\n// Hash\n// ----\nwax.hash = function(options) {\n    options = options || {};\n\n    var s0, // old hash\n        hash = {},\n        lat = 90 - 1e-8;  // allowable latitude range\n\n    function getState() {\n        return location.hash.substring(1);\n    }\n\n    function pushState(state) {\n        var l = window.location;\n        l.replace(l.toString().replace((l.hash || /$/), '#' + state));\n    }\n\n    function parseHash(s) {\n        var args = s.split('/');\n        for (var i = 0; i < args.length; i++) {\n            args[i] = Number(args[i]);\n            if (isNaN(args[i])) return true;\n        }\n        if (args.length < 3) {\n            // replace bogus hash\n            return true;\n        } else if (args.length == 3) {\n            options.setCenterZoom(args);\n        }\n    }\n\n    function move() {\n        var s1 = options.getCenterZoom();\n        if (s0 !== s1) {\n            s0 = s1;\n            // don't recenter the map!\n            pushState(s0);\n        }\n    }\n\n    function stateChange(state) {\n        // ignore spurious hashchange events\n        if (state === s0) return;\n        if (parseHash(s0 = state)) {\n            // replace bogus hash\n            move();\n        }\n    }\n\n    var _move = wax.u.throttle(move, 500);\n\n    hash.add = function() {\n        stateChange(getState());\n        options.bindChange(_move);\n        return hash;\n    };\n\n    hash.remove = function() {\n        options.unbindChange(_move);\n        return hash;\n    };\n\n    return hash;\n};\nwax = wax || {};\n\nwax.interaction = function() {\n    var gm = wax.gm(),\n        interaction = {},\n        _downLock = false,\n        _clickTimeout = null,\n        // Active feature\n        // Down event\n        _d,\n        // Touch tolerance\n        tol = 4,\n        grid,\n        attach,\n        detach,\n        parent,\n        map,\n        tileGrid,\n        // google maps sends touchmove and click at the same time \n        // most of the time when an user taps the screen, see onUp \n        // for more information\n        _discardTouchMove = false;\n\n    var defaultEvents = {\n        mousemove: onMove,\n        touchstart: onDown,\n        mousedown: onDown\n    };\n\n    var touchEnds = {\n        touchend: onUp,\n        touchmove: onUp,\n        touchcancel: touchCancel\n    };\n\n    var mspointerEnds = {\n        MSPointerUp: onUp,\n        MSPointerMove: onUp,\n        MSPointerCancel: touchCancel\n    };\n\n    var pointerEnds = {\n        pointerup: onUp,\n        pointermove: onUp,\n        pointercancel: touchCancel\n    };\n\n    // Abstract getTile method. Depends on a tilegrid with\n    // grid[ [x, y, tile] ] structure.\n    function getTile(e) {\n        var g = grid();\n        var regExp = new RegExp(gm.tileRegexp());\n        for (var i = 0; i < g.length; i++) {\n            if (e) {\n                var isInside = ((g[i][0] <= e.y) &&\n                     ((g[i][0] + 256) > e.y) &&\n                      (g[i][1] <= e.x) &&\n                     ((g[i][1] + 256) > e.x));\n                if(isInside && regExp.exec(g[i][2].src)) {\n                    return g[i][2];\n                }\n            }\n        }\n        return false;\n    }\n\n    // Clear the double-click timeout to prevent double-clicks from\n    // triggering popups.\n    function killTimeout() {\n        if (_clickTimeout) {\n            window.clearTimeout(_clickTimeout);\n            _clickTimeout = null;\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    function onMove(e) {\n        // If the user is actually dragging the map, exit early\n        // to avoid performance hits.\n        if (_downLock) return;\n\n        var _e = (e.type !== \"MSPointerMove\" && e.type !== \"pointermove\" ? e : e.originalEvent);\n        var pos = wax.u.eventoffset(_e);\n\n        interaction.screen_feature(pos, function(feature) {\n            if (feature) {\n                bean.fire(interaction, 'on', {\n                    parent: parent(),\n                    data: feature,\n                    formatter: gm.formatter().format,\n                    e: e\n                });\n            } else {\n                bean.fire(interaction, 'off');\n            }\n        });\n    }\n\n    // A handler for 'down' events - which means `mousedown` and `touchstart`\n    function onDown(e) {\n\n        // Prevent interaction offset calculations happening while\n        // the user is dragging the map.\n        //\n        // Store this event so that we can compare it to the\n        // up event\n        _downLock = true;\n        var _e = (e.type !== \"MSPointerDown\" && e.type !== \"pointerdown\" ? e : e.originalEvent); \n        _d = wax.u.eventoffset(_e);\n        if (e.type === 'mousedown') {\n            bean.add(document.body, 'click', onUp);\n            // track mouse up to remove lockDown when the drags end\n            bean.add(document.body, 'mouseup', dragEnd);\n\n        // Only track single-touches. Double-touches will not affect this\n        // control\n        } else if (e.type === 'touchstart' && e.touches.length === 1) {\n            //GMaps fix: Because it's triggering always mousedown and click, we've to remove it\n            bean.remove(document.body, 'click', onUp); //GMaps fix\n\n            //When we finish dragging, then the click will be \n            bean.add(document.body, 'click', onUp);\n            bean.add(document.body, 'touchEnd', dragEnd);\n        } else if (e.originalEvent.type === \"MSPointerDown\" && e.originalEvent.touches && e.originalEvent.touches.length === 1) {\n          // Don't make the user click close if they hit another tooltip\n            bean.fire(interaction, 'off');\n            // Touch moves invalidate touches\n            bean.add(parent(), mspointerEnds);\n        } else if (e.type === \"pointerdown\" && e.originalEvent.touches && e.originalEvent.touches.length === 1) {\n            // Don't make the user click close if they hit another tooltip\n            bean.fire(interaction, 'off');\n            // Touch moves invalidate touches\n            bean.add(parent(), pointerEnds);\n        } else {\n            // Fix layer interaction in IE10/11 (CDBjs #139)\n            // Reason: Internet Explorer is triggering pointerdown when you click on the marker, and other browsers don't.\n            // Because of that, _downLock was active and it believed that you're dragging the map, instead of dragging the marker\n            _downLock = false;\n        }\n\n    }\n\n    function dragEnd() {\n        _downLock = false;\n    }\n\n    function touchCancel() {\n        bean.remove(parent(), touchEnds);\n        bean.remove(parent(), mspointerEnds);\n        bean.remove(parent(), pointerEnds);\n        _downLock = false;\n    }\n\n    function onUp(e) {\n        var evt = {};\n        var _e = (e.type !== \"MSPointerMove\" && e.type !== \"MSPointerUp\" && e.type !== \"pointerup\" && e.type !== \"pointermove\" ? e : e.originalEvent);\n        var pos = wax.u.eventoffset(_e);\n        _downLock = false;\n\n        for (var key in _e) {\n          evt[key] = _e[key];\n        }\n\n        // for (var key in e) {\n        //   evt[key] = e[key];\n        // }\n\n        bean.remove(document.body, 'mouseup', onUp);\n        bean.remove(parent(), touchEnds);\n        bean.remove(parent(), mspointerEnds);\n        bean.remove(parent(), pointerEnds);\n\n        if (e.type === 'touchend') {\n            // If this was a touch and it survived, there's no need to avoid a double-tap\n            // but also wax.u.eventoffset will have failed, since this touch\n            // event doesn't have coordinates\n            interaction.click(e, _d);\n        } else if (pos && _d) {\n          // If pos is not defined means wax can't calculate event position,\n          // So next cases aren't possible.\n\n          if (evt.type === \"MSPointerMove\" || evt.type === \"MSPointerUp\") {\n            evt.changedTouches = [];\n            interaction.click(evt, pos);\n          } else if (evt.type === \"pointermove\" || evt.type === \"pointerup\") {\n            interaction.click(evt, pos);\n          } else if (Math.round(pos.y / tol) === Math.round(_d.y / tol) &&\n            Math.round(pos.x / tol) === Math.round(_d.x / tol)) {\n            // if mousemove and click are sent at the same time this code\n            // will not trigger click event because less than 150ms pass between\n            // those events.\n            // Because of that this flag discards touchMove\n            if (_discardTouchMove && evt.type === 'touchmove') return onUp;\n            // Contain the event data in a closure.\n            // Ignore double-clicks by ignoring clicks within 300ms of\n            // each other.\n            if(!_clickTimeout) {\n              _clickTimeout = window.setTimeout(function() {\n                  _clickTimeout = null;\n                  interaction.click(evt, pos);\n              }, 150);\n            } else {\n              killTimeout();\n            }\n          }\n\n        }\n\n        return onUp;\n    }\n\n    interaction.discardTouchMove = function(_) {\n      if (!arguments.length) return _discardTouchMove;\n      _discardTouchMove = _;\n      return interaction;\n    }\n\n    // Handle a click event. Takes a second\n    interaction.click = function(e, pos) {\n        interaction.screen_feature(pos, function(feature) {\n            if (feature) bean.fire(interaction, 'on', {\n                parent: parent(),\n                data: feature,\n                formatter: gm.formatter().format,\n                e: e\n            });\n        });\n    };\n\n    interaction.screen_feature = function(pos, callback) {\n        var tile = getTile(pos);\n        if (!tile) callback(null);\n        gm.getGrid(tile.src, function(err, g) {\n            if (err || !g) return callback(null);\n            var feature = g.tileFeature(pos.x, pos.y, tile);\n            callback(feature);\n        });\n    };\n\n    // set an attach function that should be\n    // called when maps are set\n    interaction.attach = function(x) {\n        if (!arguments.length) return attach;\n        attach = x;\n        return interaction;\n    };\n\n    interaction.detach = function(x) {\n        if (!arguments.length) return detach;\n        detach = x;\n        return interaction;\n    };\n\n    // Attach listeners to the map\n    interaction.map = function(x) {\n        if (!arguments.length) return map;\n        map = x;\n        if (attach) attach(map);\n        bean.add(parent(), defaultEvents);\n        bean.add(parent(), 'touchstart', onDown);\n        bean.add(parent(), 'MSPointerDown', onDown);\n        bean.add(parent(), 'pointerdown', onDown);\n        return interaction;\n    };\n\n    // set a grid getter for this control\n    interaction.grid = function(x) {\n        if (!arguments.length) return grid;\n        grid = x;\n        return interaction;\n    };\n\n    // detach this and its events from the map cleanly\n    interaction.remove = function(x) {\n        if (detach) detach(map);\n        bean.remove(parent(), defaultEvents);\n        bean.fire(interaction, 'remove');\n        return interaction;\n    };\n\n    // get or set a tilejson chunk of json\n    interaction.tilejson = function(x) {\n        if (!arguments.length) return gm.tilejson();\n        gm.tilejson(x);\n        return interaction;\n    };\n\n    // return the formatter, which has an exposed .format\n    // function\n    interaction.formatter = function() {\n        return gm.formatter();\n    };\n\n    // ev can be 'on', 'off', fn is the handler\n    interaction.on = function(ev, fn) {\n        bean.add(interaction, ev, fn);\n        return interaction;\n    };\n\n    // ev can be 'on', 'off', fn is the handler\n    interaction.off = function(ev, fn) {\n        bean.remove(interaction, ev, fn);\n        return interaction;\n    };\n\n    // Return or set the gridmanager implementation\n    interaction.gridmanager = function(x) {\n        if (!arguments.length) return gm;\n        gm = x;\n        return interaction;\n    };\n\n    // parent should be a function that returns\n    // the parent element of the map\n    interaction.parent  = function(x) {\n        parent = x;\n        return interaction;\n    };\n\n    return interaction;\n};\nvar wax = wax || {};\n\nwax.location = function() {\n\n    var t = {};\n\n    function on(o) {\n        if ((o.e.type === 'mousemove' || !o.e.type)) {\n            return;\n        } else {\n            var loc = o.formatter({ format: 'location' }, o.data);\n            if (loc) {\n                window.location.href = loc;\n            }\n        }\n    }\n\n    t.events = function() {\n        return {\n            on: on\n        };\n    };\n\n    return t;\n\n};\n// Wax GridUtil\n// ------------\n\n// Wax header\nvar wax = wax || {};\n\n// Request\n// -------\n// Request data cache. `callback(data)` where `data` is the response data.\nwax.request = {\n    cache: {},\n    locks: {},\n    promises: {},\n    get: function(url, callback) {\n        // Cache hit.\n        if (this.cache[url]) {\n            return callback(this.cache[url][0], this.cache[url][1]);\n        // Cache miss.\n        } else {\n            this.promises[url] = this.promises[url] || [];\n            this.promises[url].push(callback);\n            // Lock hit.\n            if (this.locks[url]) return;\n            // Request.\n            var that = this;\n            this.locks[url] = true;\n            reqwest({\n                url: url + (~url.indexOf('?') ? '&' : '?') + 'callback=grid',\n                type: 'jsonp',\n                jsonpCallback: 'callback',\n                success: function(data) {\n                    that.locks[url] = false;\n                    that.cache[url] = [null, data];\n                    for (var i = 0; i < that.promises[url].length; i++) {\n                        that.promises[url][i](that.cache[url][0], that.cache[url][1]);\n                    }\n                },\n                error: function(err) {\n                    that.locks[url] = false;\n                    that.cache[url] = [err, null];\n                    for (var i = 0; i < that.promises[url].length; i++) {\n                        that.promises[url][i](that.cache[url][0], that.cache[url][1]);\n                    }\n                }\n            });\n        }\n    }\n};\n// Templating\n// ---------\nwax.template = function(x) {\n    var template = {};\n\n    // Clone the data object such that the '__[format]__' key is only\n    // set for this instance of templating.\n    template.format = function(options, data) {\n\n        // mustache.js has been removed as a dependency\n        throw new Error('mustache.js templates are no longer supported');\n\n        // var clone = {};\n        // for (var key in data) {\n        //     clone[key] = data[key];\n        // }\n        // if (options.format) {\n        //     clone['__' + options.format + '__'] = true;\n        // }\n        // return wax.u.sanitize(Mustache.to_html(x, clone));\n    };\n\n    return template;\n};\nif (!wax) var wax = {};\n\n// A wrapper for reqwest jsonp to easily load TileJSON from a URL.\nwax.tilejson = function(url, callback) {\n    reqwest({\n        url: url + (~url.indexOf('?') ? '&' : '?') + 'callback=grid',\n        type: 'jsonp',\n        jsonpCallback: 'callback',\n        success: callback,\n        error: callback\n    });\n};\nvar wax = wax || {};\n\n// Utils are extracted from other libraries or\n// written from scratch to plug holes in browser compatibility.\nwax.u = {\n    // From Bonzo\n    offset: function(el) {\n        // TODO: window margins\n        //\n        // Okay, so fall back to styles if offsetWidth and height are botched\n        // by Firefox.\n        var width = el.offsetWidth || parseInt(el.style.width, 10),\n            height = el.offsetHeight || parseInt(el.style.height, 10),\n            doc_body = document.body,\n            top = 0,\n            left = 0;\n\n        var calculateOffset = function(el) {\n            if (el === doc_body || el === document.documentElement) return;\n            top += el.offsetTop;\n            left += el.offsetLeft;\n\n            var style = el.style.transform ||\n                el.style.WebkitTransform ||\n                el.style.OTransform ||\n                el.style.MozTransform ||\n                el.style.msTransform;\n\n            if (style) {\n                var match;\n                if (match = style.match(/translate\\((.+)px, (.+)px\\)/)) {\n                    top += parseInt(match[2], 10);\n                    left += parseInt(match[1], 10);\n                } else if (match = style.match(/translate3d\\((.+)px, (.+)px, (.+)px\\)/)) {\n                    top += parseInt(match[2], 10);\n                    left += parseInt(match[1], 10);\n                } else if (match = style.match(/matrix3d\\(([\\-\\d,\\s]+)\\)/)) {\n                    var pts = match[1].split(',');\n                    top += parseInt(pts[13], 10);\n                    left += parseInt(pts[12], 10);\n                } else if (match = style.match(/matrix\\(.+, .+, .+, .+, (.+), (.+)\\)/)) {\n                    top += parseInt(match[2], 10);\n                    left += parseInt(match[1], 10);\n                }\n            }\n        };\n\n        //Function that protects 'Unspected error' with Internet Explorer 11\n        function calculateOffsetIE(){\n          calculateOffset(el);\n          try {\n              while (el = el.offsetParent) { calculateOffset(el); }\n          } catch(e) {\n              // Hello, internet explorer.\n          }\n        }\n\n        // from jquery, offset.js\n        if ( typeof el.getBoundingClientRect !== \"undefined\" ) {\n          var body = document.body;\n          var doc = el.ownerDocument.documentElement;\n          var clientTop  = document.clientTop  || body.clientTop  || 0;\n          var clientLeft = document.clientLeft || body.clientLeft || 0;\n          var scrollTop  = window.pageYOffset || doc.scrollTop;\n          var scrollLeft = window.pageXOffset || doc.scrollLeft;\n\n          //With Internet Explorer 11, the function getBoundingClientRect() sometimes\n          //triggers the error: 'Unspected error.' Protecting it with try/catch\n          try {\n              var box = el.getBoundingClientRect();\n              top = box.top + scrollTop  - clientTop;\n              left = box.left + scrollLeft - clientLeft;\n          } catch(e) {\n              calculateOffsetIE();\n          }\n        } else {\n          calculateOffsetIE();\n        }\n\n        // Offsets from the body\n        top += doc_body.offsetTop;\n        left += doc_body.offsetLeft;\n        // Offsets from the HTML element\n        top += doc_body.parentNode.offsetTop;\n        left += doc_body.parentNode.offsetLeft;\n\n        // Firefox and other weirdos. Similar technique to jQuery's\n        // `doesNotIncludeMarginInBodyOffset`.\n        var htmlComputed = document.defaultView ?\n            window.getComputedStyle(doc_body.parentNode, null) :\n            doc_body.parentNode.currentStyle;\n        if (doc_body.parentNode.offsetTop !==\n            parseInt(htmlComputed.marginTop, 10) &&\n            !isNaN(parseInt(htmlComputed.marginTop, 10))) {\n            top += parseInt(htmlComputed.marginTop, 10);\n            left += parseInt(htmlComputed.marginLeft, 10);\n        }\n\n        return {\n            top: top,\n            left: left,\n            height: height,\n            width: width\n        };\n    },\n\n    '$': function(x) {\n        return (typeof x === 'string') ?\n            document.getElementById(x) :\n            x;\n    },\n\n    // From quirksmode: normalize the offset of an event from the top-left\n    // of the page.\n    eventoffset: function(e) {\n        var posx = 0;\n        var posy = 0;\n        if (!e) { e = window.event; }\n        if (e.type == \"MSPointerMove\" || e.type == \"MSPointerDown\" || e.type == \"MSPointerUp\") {\n          return {\n            x: e.pageX + window.pageXOffset,\n            y: e.pageY + window.pageYOffset\n          }\n        }\n        if (e.pageX || e.pageY) {\n            // Good browsers\n            return {\n                x: e.pageX,\n                y: e.pageY\n            };\n        } else if (e.clientX || e.clientY) {\n            // Internet Explorer\n            return {\n                x: e.clientX,\n                y: e.clientY\n            };\n        } else if (e.touches && e.touches.length === 1) {\n            // Touch browsers\n            return {\n                x: e.touches[0].pageX,\n                y: e.touches[0].pageY\n            };\n        }\n    },\n\n    // Ripped from underscore.js\n    // Internal function used to implement `_.throttle` and `_.debounce`.\n    limit: function(func, wait, debounce) {\n        var timeout;\n        return function() {\n            var context = this, args = arguments;\n            var throttler = function() {\n                timeout = null;\n                func.apply(context, args);\n            };\n            if (debounce) clearTimeout(timeout);\n            if (debounce || !timeout) timeout = setTimeout(throttler, wait);\n        };\n    },\n\n    // Returns a function, that, when invoked, will only be triggered at most once\n    // during a given window of time.\n    throttle: function(func, wait) {\n        return this.limit(func, wait, false);\n    },\n\n    sanitize: function(content) {\n        if (!content) return '';\n\n        function urlX(url) {\n            // Data URIs are subject to a bug in Firefox\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=255107\n            // which let them be a vector. But WebKit does 'the right thing'\n            // or at least 'something' about this situation, so we'll tolerate\n            // them.\n            if (/^(https?:\\/\\/|data:image)/.test(url)) {\n                return url;\n            }\n        }\n\n        function idX(id) { return id; }\n\n        return html_sanitize(content, urlX, idX);\n    }\n};\nwax = wax || {};\nwax.leaf = wax.leaf || {};\n\nwax.leaf.hash = function(map) {\n    return wax.hash({\n        getCenterZoom: function () {\n            var center = map.getCenter(),\n                zoom = map.getZoom(),\n                precision = Math.max(\n                    0,\n                    Math.ceil(Math.log(zoom) / Math.LN2));\n\n            return [\n                zoom,\n                center.lat.toFixed(precision),\n                center.lng.toFixed(precision)\n            ].join('/');\n        },\n\n        setCenterZoom: function (args) {\n            map.setView(new L.LatLng(args[1], args[2]), args[0]);\n        },\n\n        bindChange: function (fn) {\n            map.on('moveend', fn);\n        },\n\n        unbindChange: function (fn) {\n            map.off('moveend', fn);\n        }\n    });\n};\nwax = wax || {};\nwax.leaf = wax.leaf || {};\n\nwax.leaf.interaction = function() {\n    var dirty = false, _grid, map;\n\n    function setdirty() { dirty = true; }\n\n    function grid() {\n        // TODO: don't build for tiles outside of viewport\n        // Touch interaction leads to intermediate\n        //var zoomLayer = map.createOrGetLayer(Math.round(map.getZoom())); //?what is this doing?\n        // Calculate a tile grid and cache it, by using the `.tiles`\n        // element on this map.\n        if (!dirty && _grid) {\n            return _grid;\n        } else {\n            return (_grid = (function(layers) {\n                var o = [];\n                for (var layerId in layers) {\n                    // This only supports tiled layers\n                    if (layers[layerId]._tiles) {\n                        for (var tile in layers[layerId]._tiles) {\n                            var _tile = layers[layerId]._tiles[tile];\n                            // avoid adding tiles without src, grid url can't be found for them\n                            if(_tile.src) {\n                              var offset = wax.u.offset(_tile);\n                              o.push([offset.top, offset.left, _tile]);\n                            }\n                        }\n                    }\n                }\n                return o;\n            })(map._layers));\n        }\n    }\n\n    function attach(x) {\n        if (!arguments.length) return map;\n        map = x;\n        var l = ['moveend'];\n        for (var i = 0; i < l.length; i++) {\n            map.on(l[i], setdirty);\n        }\n    }\n\n    function detach(x) {\n        if (!arguments.length) return map;\n        map = x;\n        var l = ['moveend'];\n        for (var i = 0; i < l.length; i++) {\n            map.off(l[i], setdirty);\n        }\n    }\n\n    return wax.interaction()\n        .attach(attach)\n        .detach(detach)\n        .parent(function() {\n          return map._container;\n        })\n        .grid(grid);\n};\nwax = wax || {};\nwax.leaf = wax.leaf || {};\n\nwax.leaf.connector = L.TileLayer.extend({\n    initialize: function(options) {\n        options = options || {};\n        options.minZoom = options.minzoom || 0;\n        options.maxZoom = options.maxzoom || 22;\n        L.TileLayer.prototype.initialize.call(this, options.tiles[0], options);\n    }\n});\nwax = wax || {};\nwax.g = wax.g || {};\n\n// Attribution\n// -----------\n// Attribution wrapper for Google Maps.\nwax.g.attribution = function(map, tilejson) {\n    tilejson = tilejson || {};\n    var a, // internal attribution control\n        attribution = {};\n\n    attribution.element = function() {\n        return a.element();\n    };\n\n    attribution.appendTo = function(elem) {\n        wax.u.$(elem).appendChild(a.element());\n        return this;\n    };\n\n    attribution.init = function() {\n        a = wax.attribution();\n        a.content(tilejson.attribution);\n        a.element().className = 'map-attribution map-g';\n        return this;\n    };\n\n    return attribution.init();\n};\nwax = wax || {};\nwax.g = wax.g || {};\n\n// Bandwidth Detection\n// ------------------\nwax.g.bwdetect = function(map, options) {\n    options = options || {};\n    var lowpng = options.png || '.png128',\n        lowjpg = options.jpg || '.jpg70';\n\n    // Create a low-bandwidth map type.\n    if (!map.mapTypes['mb-low']) {\n        var mb = map.mapTypes.mb;\n        var tilejson = {\n            tiles: [],\n            scheme: mb.options.scheme,\n            blankImage: mb.options.blankImage,\n            minzoom: mb.minZoom,\n            maxzoom: mb.maxZoom,\n            name: mb.name,\n            description: mb.description\n        };\n        for (var i = 0; i < mb.options.tiles.length; i++) {\n            tilejson.tiles.push(mb.options.tiles[i]\n                .replace('.png', lowpng)\n                .replace('.jpg', lowjpg));\n        }\n        m.mapTypes.set('mb-low', new wax.g.connector(tilejson));\n    }\n\n    return wax.bwdetect(options, function(bw) {\n      map.setMapTypeId(bw ? 'mb' : 'mb-low');\n    });\n};\nwax = wax || {};\nwax.g = wax.g || {};\n\nwax.g.hash = function(map) {\n    return wax.hash({\n        getCenterZoom: function() {\n            var center = map.getCenter(),\n                zoom = map.getZoom(),\n                precision = Math.max(\n                    0,\n                    Math.ceil(Math.log(zoom) / Math.LN2));\n            return [zoom.toFixed(2),\n                center.lat().toFixed(precision),\n                center.lng().toFixed(precision)\n            ].join('/');\n        },\n        setCenterZoom: function setCenterZoom(args) {\n            map.setCenter(new google.maps.LatLng(args[1], args[2]));\n            map.setZoom(args[0]);\n        },\n        bindChange: function(fn) {\n            google.maps.event.addListener(map, 'idle', fn);\n        },\n        unbindChange: function(fn) {\n            google.maps.event.removeListener(map, 'idle', fn);\n        }\n    });\n};\nwax = wax || {};\nwax.g = wax.g || {};\n\nwax.g.interaction = function() {\n    var dirty = false, _grid, map, interactionEnabled = false;\n    var tileloadListener = null,\n        idleListener = null;\n\n    function setdirty() { dirty = true; }\n\n    function grid() {\n\n        // when interaction is enabled there should be grid tiles\n        if (!dirty && _grid && (_grid.length > 0 || !interactionEnabled)) {\n            return _grid;\n        } else {\n            _grid = [];\n            var zoom = map.getZoom();\n            var mapOffset = wax.u.offset(map.getDiv());\n            var get = function(mapType) {\n                if (!mapType || !mapType.interactive) return;\n                interactionEnabled = true;\n                for (var key in mapType.cache) {\n                    if (key.split('/')[0] != zoom) continue;\n                    var tileOffset = wax.u.offset(mapType.cache[key]);\n                    _grid.push([\n                        tileOffset.top,\n                        tileOffset.left,\n                        mapType.cache[key]\n                    ]);\n                }\n            };\n            // Iterate over base mapTypes and overlayMapTypes.\n            for (var i in map.mapTypes) get(map.mapTypes[i]);\n            map.overlayMapTypes.forEach(get);\n        }\n        return _grid;\n    }\n\n    function attach(x) {\n        if (!arguments.length) return map;\n        map = x;\n        tileloadListener = google.maps.event.addListener(map, 'tileloaded',\n            setdirty);\n        idleListener = google.maps.event.addListener(map, 'idle',\n            setdirty);\n    }\n\n    function detach(x) {\n        if(tileloadListener)\n          google.maps.event.removeListener(tileloadListener);\n        if(idleListener)\n          google.maps.event.removeListener(idleListener);\n    }\n\n\n\n    return wax.interaction()\n        .attach(attach)\n        .detach(detach)\n        .discardTouchMove(true)\n        .parent(function() {\n          return map.getDiv();\n        })\n        .grid(grid);\n};\n// Wax for Google Maps API v3\n// --------------------------\n\n// Wax header\nvar wax = wax || {};\nwax.g = wax.g || {};\n\n// Wax Google Maps MapType: takes an object of options in the form\n//\n//     {\n//       name: '',\n//       filetype: '.png',\n//       layerName: 'world-light',\n//       alt: '',\n//       zoomRange: [0, 18],\n//       baseUrl: 'a url',\n//     }\nwax.g.connector = function(options) {\n    options = options || {};\n\n    this.options = {\n        tiles: options.tiles,\n        scheme: options.scheme || 'xyz',\n        blankImage: options.blankImage || 'data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='\n    };\n\n    this.opacity = options.opacity || 0;\n    this.minZoom = options.minzoom || 0;\n    this.maxZoom = options.maxzoom || 22;\n\n    this.name = options.name || '';\n    this.description = options.description || '';\n\n    // non-configurable options\n    this.interactive = true;\n    this.tileSize = new google.maps.Size(256, 256);\n\n    // DOM element cache\n    this.cache = {};\n};\n\n// Get a tile element from a coordinate, zoom level, and an ownerDocument.\nwax.g.connector.prototype.getTile = function(coord, zoom, ownerDocument) {\n    var key = zoom + '/' + coord.x + '/' + coord.y;\n    if (!this.cache[key]) {\n        var img = this.cache[key] = new Image(256, 256);\n        this.cache[key].src = this.getTileUrl(coord, zoom);\n        this.cache[key].setAttribute('gTileKey', key);\n        this.cache[key].setAttribute(\"style\",\"opacity: \"+this.opacity+\"; filter: alpha(opacity=\"+(this.opacity*100)+\");\");\n        this.cache[key].onerror = function() { img.style.display = 'none'; };\n    }\n    return this.cache[key];\n};\n\n// Remove a tile that has fallen out of the map's viewport.\n//\n// TODO: expire cache data in the gridmanager.\nwax.g.connector.prototype.releaseTile = function(tile) {\n    var key = tile.getAttribute('gTileKey');\n    if (this.cache[key]) delete this.cache[key];\n    if (tile.parentNode) tile.parentNode.removeChild(tile);\n};\n\n// Get a tile url, based on x, y coordinates and a z value.\nwax.g.connector.prototype.getTileUrl = function(coord, z) {\n    // Y coordinate is flipped in Mapbox, compared to Google\n    var mod = Math.pow(2, z),\n        y = (this.options.scheme === 'tms') ?\n            (mod - 1) - coord.y :\n            coord.y,\n        x = (coord.x % mod);\n\n    x = (x < 0) ? (coord.x % mod) + mod : x;\n\n    if (y < 0) return this.options.blankImage;\n\n    return this.options.tiles\n        [parseInt(x + y, 10) %\n            this.options.tiles.length]\n                .replace(/\\{z\\}/g, z)\n                .replace(/\\{x\\}/g, x)\n                .replace(/\\{y\\}/g, y);\n};\nvar GeoJSON = function( geojson, options ){\n\n  var _geometryToGoogleMaps = function( geojsonGeometry, opts, geojsonProperties ){\n\n    var googleObj;\n\n    switch ( geojsonGeometry.type ){\n      case \"Point\":\n        opts.position = new google.maps.LatLng(geojsonGeometry.coordinates[1], geojsonGeometry.coordinates[0]);\n        googleObj = new google.maps.Marker(opts);\n        if (geojsonProperties) {\n          googleObj.set(\"geojsonProperties\", geojsonProperties);\n        }\n        break;\n\n      case \"MultiPoint\":\n        googleObj = [];\n        for (var i = 0; i < geojsonGeometry.coordinates.length; i++){\n          opts.position = new google.maps.LatLng(geojsonGeometry.coordinates[i][1], geojsonGeometry.coordinates[i][0]);\n          googleObj.push(new google.maps.Marker(opts));\n        }\n        if (geojsonProperties) {\n          for (var k = 0; k < googleObj.length; k++){\n            googleObj[k].set(\"geojsonProperties\", geojsonProperties);\n          }\n        }\n        break;\n\n      case \"LineString\":\n        var path = [];\n        for (var i = 0; i < geojsonGeometry.coordinates.length; i++){\n          var coord = geojsonGeometry.coordinates[i];\n          var ll = new google.maps.LatLng(coord[1], coord[0]);\n          path.push(ll);\n        }\n        opts.path = path;\n        googleObj = new google.maps.Polyline(opts);\n        if (geojsonProperties) {\n          googleObj.set(\"geojsonProperties\", geojsonProperties);\n        }\n        break;\n\n      case \"MultiLineString\":\n        googleObj = [];\n        for (var i = 0; i < geojsonGeometry.coordinates.length; i++){\n          var path = [];\n          for (var j = 0; j < geojsonGeometry.coordinates[i].length; j++){\n            var coord = geojsonGeometry.coordinates[i][j];\n            var ll = new google.maps.LatLng(coord[1], coord[0]);\n            path.push(ll);\n          }\n          opts.path = path;\n          googleObj.push(new google.maps.Polyline(opts));\n        }\n        if (geojsonProperties) {\n          for (var k = 0; k < googleObj.length; k++){\n            googleObj[k].set(\"geojsonProperties\", geojsonProperties);\n          }\n        }\n        break;\n\n      case \"Polygon\":\n        var paths = [];\n        var exteriorDirection;\n        var interiorDirection;\n        for (var i = 0; i < geojsonGeometry.coordinates.length; i++){\n          var path = [];\n          for (var j = 0; j < geojsonGeometry.coordinates[i].length; j++){\n            var ll = new google.maps.LatLng(geojsonGeometry.coordinates[i][j][1], geojsonGeometry.coordinates[i][j][0]);\n            path.push(ll);\n          }\n          if(!i){\n            exteriorDirection = _ccw(path);\n            paths.push(path);\n          }else if(i == 1){\n            interiorDirection = _ccw(path);\n            if(exteriorDirection == interiorDirection){\n              paths.push(path.reverse());\n            }else{\n              paths.push(path);\n            }\n          }else{\n            if(exteriorDirection == interiorDirection){\n              paths.push(path.reverse());\n            }else{\n              paths.push(path);\n            }\n          }\n        }\n        opts.paths = paths;\n        googleObj = new google.maps.Polygon(opts);\n        if (geojsonProperties) {\n          googleObj.set(\"geojsonProperties\", geojsonProperties);\n        }\n        break;\n\n      case \"MultiPolygon\":\n        googleObj = [];\n        for (var i = 0; i < geojsonGeometry.coordinates.length; i++){\n          var paths = [];\n          var exteriorDirection;\n          var interiorDirection;\n          for (var j = 0; j < geojsonGeometry.coordinates[i].length; j++){\n            var path = [];\n            for (var k = 0; k < geojsonGeometry.coordinates[i][j].length - 1; k++){\n              var ll = new google.maps.LatLng(geojsonGeometry.coordinates[i][j][k][1], geojsonGeometry.coordinates[i][j][k][0]);\n              path.push(ll);\n            }\n            if(!j){\n              exteriorDirection = _ccw(path);\n              paths.push(path);\n            }else if(j == 1){\n              interiorDirection = _ccw(path);\n              if(exteriorDirection == interiorDirection){\n                paths.push(path.reverse());\n              }else{\n                paths.push(path);\n              }\n            }else{\n              if(exteriorDirection == interiorDirection){\n                paths.push(path.reverse());\n              }else{\n                paths.push(path);\n              }\n            }\n          }\n          opts.paths = paths;\n          googleObj.push(new google.maps.Polygon(opts));\n        }\n        if (geojsonProperties) {\n          for (var k = 0; k < googleObj.length; k++){\n            googleObj[k].set(\"geojsonProperties\", geojsonProperties);\n          }\n        }\n        break;\n\n      case \"GeometryCollection\":\n        googleObj = [];\n        if (!geojsonGeometry.geometries){\n          googleObj = _error(\"Invalid GeoJSON object: GeometryCollection object missing \\\"geometries\\\" member.\");\n        }else{\n          for (var i = 0; i < geojsonGeometry.geometries.length; i++){\n            googleObj.push(_geometryToGoogleMaps(geojsonGeometry.geometries[i], opts, geojsonProperties || null));\n          }\n        }\n        break;\n\n      default:\n        googleObj = _error(\"Invalid GeoJSON object: Geometry object must be one of \\\"Point\\\", \\\"LineString\\\", \\\"Polygon\\\" or \\\"MultiPolygon\\\".\");\n    }\n\n    return googleObj;\n\n  };\n\n  var _error = function( message ){\n\n    return {\ntype: \"Error\",\n        message: message\n    };\n\n  };\n\n  var _ccw = function( path ){\n    var isCCW;\n    var a = 0;\n    for (var i = 0; i < path.length-2; i++){\n      a += ((path[i+1].lat() - path[i].lat()) * (path[i+2].lng() - path[i].lng()) - (path[i+2].lat() - path[i].lat()) * (path[i+1].lng() - path[i].lng()));\n    }\n    if(a > 0){\n      isCCW = true;\n    }\n    else{\n      isCCW = false;\n    }\n    return isCCW;\n  };\n\n  var obj;\n\n  var opts = options || {};\n\n  switch ( geojson.type ){\n\n    case \"FeatureCollection\":\n      if (!geojson.features){\n        obj = _error(\"Invalid GeoJSON object: FeatureCollection object missing \\\"features\\\" member.\");\n      }else{\n        obj = [];\n        for (var i = 0; i < geojson.features.length; i++){\n          obj.push(_geometryToGoogleMaps(geojson.features[i].geometry, opts, geojson.features[i].properties));\n        }\n      }\n      break;\n\n    case \"GeometryCollection\":\n      if (!geojson.geometries){\n        obj = _error(\"Invalid GeoJSON object: GeometryCollection object missing \\\"geometries\\\" member.\");\n      }else{\n        obj = [];\n        for (var i = 0; i < geojson.geometries.length; i++){\n          obj.push(_geometryToGoogleMaps(geojson.geometries[i], opts));\n        }\n      }\n      break;\n\n    case \"Feature\":\n      if (!( geojson.properties && geojson.geometry )){\n        obj = _error(\"Invalid GeoJSON object: Feature object missing \\\"properties\\\" or \\\"geometry\\\" member.\");\n      }else{\n        obj = _geometryToGoogleMaps(geojson.geometry, opts, geojson.properties);\n      }\n      break;\n\n    case \"Point\": case \"MultiPoint\": case \"LineString\": case \"MultiLineString\": case \"Polygon\": case \"MultiPolygon\":\n      obj = geojson.coordinates\n        ? obj = _geometryToGoogleMaps(geojson, opts)\n        : _error(\"Invalid GeoJSON object: Geometry object missing \\\"coordinates\\\" member.\");\n      break;\n\n    default:\n      obj = _error(\"Invalid GeoJSON object: GeoJSON object must be one of \\\"Point\\\", \\\"LineString\\\", \\\"Polygon\\\", \\\"MultiPolygon\\\", \\\"Feature\\\", \\\"FeatureCollection\\\" or \\\"GeometryCollection\\\".\");\n\n  }\n\n  return obj;\n\n};\n/*!\n * jScrollPane - v2.0.0beta12 - 2012-09-27\n * http://jscrollpane.kelvinluck.com/\n *\n * Copyright (c) 2010 Kelvin Luck\n * Dual licensed under the MIT or GPL licenses.\n */\n\n// Script: jScrollPane - cross browser customisable scrollbars\n//\n// *Version: 2.0.0beta12, Last updated: 2012-09-27*\n//\n// Project Home - http://jscrollpane.kelvinluck.com/\n// GitHub       - http://github.com/vitch/jScrollPane\n// Source       - http://github.com/vitch/jScrollPane/raw/master/script/jquery.jscrollpane.js\n// (Minified)   - http://github.com/vitch/jScrollPane/raw/master/script/jquery.jscrollpane.min.js\n//\n// About: License\n//\n// Copyright (c) 2012 Kelvin Luck\n// Dual licensed under the MIT or GPL Version 2 licenses.\n// http://jscrollpane.kelvinluck.com/MIT-LICENSE.txt\n// http://jscrollpane.kelvinluck.com/GPL-LICENSE.txt\n//\n// About: Examples\n//\n// All examples and demos are available through the jScrollPane example site at:\n// http://jscrollpane.kelvinluck.com/\n//\n// About: Support and Testing\n//\n// This plugin is tested on the browsers below and has been found to work reliably on them. If you run\n// into a problem on one of the supported browsers then please visit the support section on the jScrollPane\n// website (http://jscrollpane.kelvinluck.com/) for more information on getting support. You are also\n// welcome to fork the project on GitHub if you can contribute a fix for a given issue. \n//\n// jQuery Versions - tested in 1.4.2+ - reported to work in 1.3.x\n// Browsers Tested - Firefox 3.6.8, Safari 5, Opera 10.6, Chrome 5.0, IE 6, 7, 8\n//\n// About: Release History\n//\n// 2.0.0beta12 - (2012-09-27) fix for jQuery 1.8+\n// 2.0.0beta11 - (2012-05-14)\n// 2.0.0beta10 - (2011-04-17) cleaner required size calculation, improved keyboard support, stickToBottom/Left, other small fixes\n// 2.0.0beta9 - (2011-01-31) new API methods, bug fixes and correct keyboard support for FF/OSX\n// 2.0.0beta8 - (2011-01-29) touchscreen support, improved keyboard support\n// 2.0.0beta7 - (2011-01-23) scroll speed consistent (thanks Aivo Paas)\n// 2.0.0beta6 - (2010-12-07) scrollToElement horizontal support\n// 2.0.0beta5 - (2010-10-18) jQuery 1.4.3 support, various bug fixes\n// 2.0.0beta4 - (2010-09-17) clickOnTrack support, bug fixes\n// 2.0.0beta3 - (2010-08-27) Horizontal mousewheel, mwheelIntent, keyboard support, bug fixes\n// 2.0.0beta2 - (2010-08-21) Bug fixes\n// 2.0.0beta1 - (2010-08-17) Rewrite to follow modern best practices and enable horizontal scrolling, initially hidden\n//               elements and dynamically sized elements.\n// 1.x - (2006-12-31 - 2010-07-31) Initial version, hosted at googlecode, deprecated\n\n(function($,window,undefined){\n\n  $.fn.jScrollPane = function(settings)\n  {\n    // JScrollPane \"class\" - public methods are available through $('selector').data('jsp')\n    function JScrollPane(elem, s)\n    {\n      var settings, jsp = this, pane, paneWidth, paneHeight, container, contentWidth, contentHeight,\n        percentInViewH, percentInViewV, isScrollableV, isScrollableH, verticalDrag, dragMaxY,\n        verticalDragPosition, horizontalDrag, dragMaxX, horizontalDragPosition,\n        verticalBar, verticalTrack, scrollbarWidth, verticalTrackHeight, verticalDragHeight, arrowUp, arrowDown,\n        horizontalBar, horizontalTrack, horizontalTrackWidth, horizontalDragWidth, arrowLeft, arrowRight,\n        reinitialiseInterval, originalPadding, originalPaddingTotalWidth, previousContentWidth,\n        wasAtTop = true, wasAtLeft = true, wasAtBottom = false, wasAtRight = false,\n        originalElement = elem.clone(false, false).empty(),\n        mwEvent = $.fn.mwheelIntent ? 'mwheelIntent.jsp' : 'mousewheel.jsp';\n\n      originalPadding = elem.css('paddingTop') + ' ' +\n                elem.css('paddingRight') + ' ' +\n                elem.css('paddingBottom') + ' ' +\n                elem.css('paddingLeft');\n      originalPaddingTotalWidth = (parseInt(elem.css('paddingLeft'), 10) || 0) +\n                    (parseInt(elem.css('paddingRight'), 10) || 0);\n\n      function initialise(s)\n      {\n\n        var /*firstChild, lastChild, */isMaintainingPositon, lastContentX, lastContentY,\n            hasContainingSpaceChanged, originalScrollTop, originalScrollLeft,\n            maintainAtBottom = false, maintainAtRight = false;\n\n        settings = s;\n\n        if (pane === undefined) {\n          originalScrollTop = elem.scrollTop();\n          originalScrollLeft = elem.scrollLeft();\n\n          elem.css(\n            {\n              overflow: 'hidden',\n              padding: 0\n            }\n          );\n          // TODO: Deal with where width/ height is 0 as it probably means the element is hidden and we should\n          // come back to it later and check once it is unhidden...\n          paneWidth = elem.innerWidth() + originalPaddingTotalWidth;\n          paneHeight = elem.innerHeight();\n\n          elem.width(paneWidth);\n          \n          pane = $('<div class=\"jspPane\" />').css('padding', originalPadding).append(elem.children());\n          container = $('<div class=\"jspContainer\" />')\n            .css({\n              'width': paneWidth + 'px',\n              'height': paneHeight + 'px'\n            }\n          ).append(pane).appendTo(elem);\n\n          /*\n          // Move any margins from the first and last children up to the container so they can still\n          // collapse with neighbouring elements as they would before jScrollPane \n          firstChild = pane.find(':first-child');\n          lastChild = pane.find(':last-child');\n          elem.css(\n            {\n              'margin-top': firstChild.css('margin-top'),\n              'margin-bottom': lastChild.css('margin-bottom')\n            }\n          );\n          firstChild.css('margin-top', 0);\n          lastChild.css('margin-bottom', 0);\n          */\n        } else {\n          elem.css('width', '');\n\n          maintainAtBottom = settings.stickToBottom && isCloseToBottom();\n          maintainAtRight  = settings.stickToRight  && isCloseToRight();\n\n          hasContainingSpaceChanged = elem.innerWidth() + originalPaddingTotalWidth != paneWidth || elem.outerHeight() != paneHeight;\n\n          if (hasContainingSpaceChanged) {\n            paneWidth = elem.innerWidth() + originalPaddingTotalWidth;\n            paneHeight = elem.innerHeight();\n            container.css({\n              width: paneWidth + 'px',\n              height: paneHeight + 'px'\n            });\n          }\n\n          // If nothing changed since last check...\n          if (!hasContainingSpaceChanged && previousContentWidth == contentWidth && pane.outerHeight() == contentHeight) {\n            elem.width(paneWidth);\n            return;\n          }\n          previousContentWidth = contentWidth;\n          \n          pane.css('width', '');\n          elem.width(paneWidth);\n\n          container.find('>.jspVerticalBar,>.jspHorizontalBar').remove().end();\n        }\n\n        pane.css('overflow', 'auto');\n        if (s.contentWidth) {\n          contentWidth = s.contentWidth;\n        } else {\n          contentWidth = pane[0].scrollWidth;\n        }\n        contentHeight = pane[0].scrollHeight;\n        pane.css('overflow', '');\n\n        percentInViewH = contentWidth / paneWidth;\n        percentInViewV = contentHeight / paneHeight;\n        isScrollableV = percentInViewV > 1;\n\n        isScrollableH = percentInViewH > 1;\n\n        //console.log(paneWidth, paneHeight, contentWidth, contentHeight, percentInViewH, percentInViewV, isScrollableH, isScrollableV);\n\n        if (!(isScrollableH || isScrollableV)) {\n          elem.removeClass('jspScrollable');\n          pane.css({\n            top: 0,\n            width: container.width() - originalPaddingTotalWidth\n          });\n          removeMousewheel();\n          removeFocusHandler();\n          removeKeyboardNav();\n          removeClickOnTrack();\n        } else {\n          elem.addClass('jspScrollable');\n\n          isMaintainingPositon = settings.maintainPosition && (verticalDragPosition || horizontalDragPosition);\n          if (isMaintainingPositon) {\n            lastContentX = contentPositionX();\n            lastContentY = contentPositionY();\n          }\n\n          initialiseVerticalScroll();\n          initialiseHorizontalScroll();\n          resizeScrollbars();\n\n          if (isMaintainingPositon) {\n            scrollToX(maintainAtRight  ? (contentWidth  - paneWidth ) : lastContentX, false);\n            scrollToY(maintainAtBottom ? (contentHeight - paneHeight) : lastContentY, false);\n          }\n\n          initFocusHandler();\n          initMousewheel();\n          initTouch();\n          \n          if (settings.enableKeyboardNavigation) {\n            initKeyboardNav();\n          }\n          if (settings.clickOnTrack) {\n            initClickOnTrack();\n          }\n          \n          observeHash();\n          if (settings.hijackInternalLinks) {\n            hijackInternalLinks();\n          }\n        }\n\n        if (settings.autoReinitialise && !reinitialiseInterval) {\n          reinitialiseInterval = setInterval(\n            function()\n            {\n              initialise(settings);\n            },\n            settings.autoReinitialiseDelay\n          );\n        } else if (!settings.autoReinitialise && reinitialiseInterval) {\n          clearInterval(reinitialiseInterval);\n        }\n\n        originalScrollTop && elem.scrollTop(0) && scrollToY(originalScrollTop, false);\n        originalScrollLeft && elem.scrollLeft(0) && scrollToX(originalScrollLeft, false);\n\n        elem.trigger('jsp-initialised', [isScrollableH || isScrollableV]);\n      }\n\n      function initialiseVerticalScroll()\n      {\n        if (isScrollableV) {\n\n          container.append(\n            $('<div class=\"jspVerticalBar\" />').append(\n              $('<div class=\"jspCap jspCapTop\" />'),\n              $('<div class=\"jspTrack\" />').append(\n                $('<div class=\"jspDrag\" />').append(\n                  $('<div class=\"jspDragTop\" />'),\n                  $('<div class=\"jspDragBottom\" />')\n                )\n              ),\n              $('<div class=\"jspCap jspCapBottom\" />')\n            )\n          );\n\n          verticalBar = container.find('>.jspVerticalBar');\n          verticalTrack = verticalBar.find('>.jspTrack');\n          verticalDrag = verticalTrack.find('>.jspDrag');\n\n          if (settings.showArrows) {\n            arrowUp = $('<a class=\"jspArrow jspArrowUp\" />').bind(\n              'mousedown.jsp', getArrowScroll(0, -1)\n            ).bind('click.jsp', nil);\n            arrowDown = $('<a class=\"jspArrow jspArrowDown\" />').bind(\n              'mousedown.jsp', getArrowScroll(0, 1)\n            ).bind('click.jsp', nil);\n            if (settings.arrowScrollOnHover) {\n              arrowUp.bind('mouseover.jsp', getArrowScroll(0, -1, arrowUp));\n              arrowDown.bind('mouseover.jsp', getArrowScroll(0, 1, arrowDown));\n            }\n\n            appendArrows(verticalTrack, settings.verticalArrowPositions, arrowUp, arrowDown);\n          }\n\n          verticalTrackHeight = paneHeight;\n          container.find('>.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow').each(\n            function()\n            {\n              verticalTrackHeight -= $(this).outerHeight();\n            }\n          );\n\n\n          verticalDrag.hover(\n            function()\n            {\n              verticalDrag.addClass('jspHover');\n            },\n            function()\n            {\n              verticalDrag.removeClass('jspHover');\n            }\n          ).bind(\n            'mousedown.jsp',\n            function(e)\n            {\n              // Stop IE from allowing text selection\n              $('html').bind('dragstart.jsp selectstart.jsp', nil);\n\n              verticalDrag.addClass('jspActive');\n\n              var startY = e.pageY - verticalDrag.position().top;\n\n              $('html').bind(\n                'mousemove.jsp',\n                function(e)\n                {\n                  positionDragY(e.pageY - startY, false);\n                }\n              ).bind('mouseup.jsp mouseleave.jsp', cancelDrag);\n              return false;\n            }\n          );\n          sizeVerticalScrollbar();\n        }\n      }\n\n      function sizeVerticalScrollbar()\n      {\n        verticalTrack.height(verticalTrackHeight + 'px');\n        verticalDragPosition = 0;\n        scrollbarWidth = settings.verticalGutter + verticalTrack.outerWidth();\n\n        // Make the pane thinner to allow for the vertical scrollbar\n        pane.width(paneWidth - scrollbarWidth - originalPaddingTotalWidth);\n\n        // Add margin to the left of the pane if scrollbars are on that side (to position\n        // the scrollbar on the left or right set it's left or right property in CSS)\n        try {\n          if (verticalBar.position().left === 0) {\n            pane.css('margin-left', scrollbarWidth + 'px');\n          }\n        } catch (err) {\n        }\n      }\n\n      function initialiseHorizontalScroll()\n      {\n        if (isScrollableH) {\n\n          container.append(\n            $('<div class=\"jspHorizontalBar\" />').append(\n              $('<div class=\"jspCap jspCapLeft\" />'),\n              $('<div class=\"jspTrack\" />').append(\n                $('<div class=\"jspDrag\" />').append(\n                  $('<div class=\"jspDragLeft\" />'),\n                  $('<div class=\"jspDragRight\" />')\n                )\n              ),\n              $('<div class=\"jspCap jspCapRight\" />')\n            )\n          );\n\n          horizontalBar = container.find('>.jspHorizontalBar');\n          horizontalTrack = horizontalBar.find('>.jspTrack');\n          horizontalDrag = horizontalTrack.find('>.jspDrag');\n\n          if (settings.showArrows) {\n            arrowLeft = $('<a class=\"jspArrow jspArrowLeft\" />').bind(\n              'mousedown.jsp', getArrowScroll(-1, 0)\n            ).bind('click.jsp', nil);\n            arrowRight = $('<a class=\"jspArrow jspArrowRight\" />').bind(\n              'mousedown.jsp', getArrowScroll(1, 0)\n            ).bind('click.jsp', nil);\n            if (settings.arrowScrollOnHover) {\n              arrowLeft.bind('mouseover.jsp', getArrowScroll(-1, 0, arrowLeft));\n              arrowRight.bind('mouseover.jsp', getArrowScroll(1, 0, arrowRight));\n            }\n            appendArrows(horizontalTrack, settings.horizontalArrowPositions, arrowLeft, arrowRight);\n          }\n\n          horizontalDrag.hover(\n            function()\n            {\n              horizontalDrag.addClass('jspHover');\n            },\n            function()\n            {\n              horizontalDrag.removeClass('jspHover');\n            }\n          ).bind(\n            'mousedown.jsp',\n            function(e)\n            {\n              // Stop IE from allowing text selection\n              $('html').bind('dragstart.jsp selectstart.jsp', nil);\n\n              horizontalDrag.addClass('jspActive');\n\n              var startX = e.pageX - horizontalDrag.position().left;\n\n              $('html').bind(\n                'mousemove.jsp',\n                function(e)\n                {\n                  positionDragX(e.pageX - startX, false);\n                }\n              ).bind('mouseup.jsp mouseleave.jsp', cancelDrag);\n              return false;\n            }\n          );\n          horizontalTrackWidth = container.innerWidth();\n          sizeHorizontalScrollbar();\n        }\n      }\n\n      function sizeHorizontalScrollbar()\n      {\n        container.find('>.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow').each(\n          function()\n          {\n            horizontalTrackWidth -= $(this).outerWidth();\n          }\n        );\n\n        horizontalTrack.width(horizontalTrackWidth + 'px');\n        horizontalDragPosition = 0;\n      }\n\n      function resizeScrollbars()\n      {\n        if (isScrollableH && isScrollableV) {\n          var horizontalTrackHeight = horizontalTrack.outerHeight(),\n            verticalTrackWidth = verticalTrack.outerWidth();\n          verticalTrackHeight -= horizontalTrackHeight;\n          $(horizontalBar).find('>.jspCap:visible,>.jspArrow').each(\n            function()\n            {\n              horizontalTrackWidth += $(this).outerWidth();\n            }\n          );\n          horizontalTrackWidth -= verticalTrackWidth;\n          paneHeight -= verticalTrackWidth;\n          paneWidth -= horizontalTrackHeight;\n          horizontalTrack.parent().append(\n            $('<div class=\"jspCorner\" />').css('width', horizontalTrackHeight + 'px')\n          );\n          sizeVerticalScrollbar();\n          sizeHorizontalScrollbar();\n        }\n        // reflow content\n        if (isScrollableH) {\n          pane.width((container.outerWidth() - originalPaddingTotalWidth) + 'px');\n        }\n        contentHeight = pane.outerHeight();\n        percentInViewV = contentHeight / paneHeight;\n\n        if (isScrollableH) {\n          horizontalDragWidth = Math.ceil(1 / percentInViewH * horizontalTrackWidth);\n          if (horizontalDragWidth > settings.horizontalDragMaxWidth) {\n            horizontalDragWidth = settings.horizontalDragMaxWidth;\n          } else if (horizontalDragWidth < settings.horizontalDragMinWidth) {\n            horizontalDragWidth = settings.horizontalDragMinWidth;\n          }\n          horizontalDrag.width(horizontalDragWidth + 'px');\n          dragMaxX = horizontalTrackWidth - horizontalDragWidth;\n          _positionDragX(horizontalDragPosition); // To update the state for the arrow buttons\n        }\n        if (isScrollableV) {\n          verticalDragHeight = Math.ceil(1 / percentInViewV * verticalTrackHeight);\n          if (verticalDragHeight > settings.verticalDragMaxHeight) {\n            verticalDragHeight = settings.verticalDragMaxHeight;\n          } else if (verticalDragHeight < settings.verticalDragMinHeight) {\n            verticalDragHeight = settings.verticalDragMinHeight;\n          }\n          verticalDrag.height(verticalDragHeight + 'px');\n          dragMaxY = verticalTrackHeight - verticalDragHeight;\n          _positionDragY(verticalDragPosition); // To update the state for the arrow buttons\n        }\n      }\n\n      function appendArrows(ele, p, a1, a2)\n      {\n        var p1 = \"before\", p2 = \"after\", aTemp;\n        \n        // Sniff for mac... Is there a better way to determine whether the arrows would naturally appear\n        // at the top or the bottom of the bar?\n        if (p == \"os\") {\n          p = /Mac/.test(navigator.platform) ? \"after\" : \"split\";\n        }\n        if (p == p1) {\n          p2 = p;\n        } else if (p == p2) {\n          p1 = p;\n          aTemp = a1;\n          a1 = a2;\n          a2 = aTemp;\n        }\n\n        ele[p1](a1)[p2](a2);\n      }\n\n      function getArrowScroll(dirX, dirY, ele)\n      {\n        return function()\n        {\n          arrowScroll(dirX, dirY, this, ele);\n          this.blur();\n          return false;\n        };\n      }\n\n      function arrowScroll(dirX, dirY, arrow, ele)\n      {\n        arrow = $(arrow).addClass('jspActive');\n\n        var eve,\n          scrollTimeout,\n          isFirst = true,\n          doScroll = function()\n          {\n            if (dirX !== 0) {\n              jsp.scrollByX(dirX * settings.arrowButtonSpeed);\n            }\n            if (dirY !== 0) {\n              jsp.scrollByY(dirY * settings.arrowButtonSpeed);\n            }\n            scrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.arrowRepeatFreq);\n            isFirst = false;\n          };\n\n        doScroll();\n\n        eve = ele ? 'mouseout.jsp' : 'mouseup.jsp';\n        ele = ele || $('html');\n        ele.bind(\n          eve,\n          function()\n          {\n            arrow.removeClass('jspActive');\n            scrollTimeout && clearTimeout(scrollTimeout);\n            scrollTimeout = null;\n            ele.unbind(eve);\n          }\n        );\n      }\n\n      function initClickOnTrack()\n      {\n        removeClickOnTrack();\n        if (isScrollableV) {\n          verticalTrack.bind(\n            'mousedown.jsp',\n            function(e)\n            {\n              if (e.originalTarget === undefined || e.originalTarget == e.currentTarget) {\n                var clickedTrack = $(this),\n                  offset = clickedTrack.offset(),\n                  direction = e.pageY - offset.top - verticalDragPosition,\n                  scrollTimeout,\n                  isFirst = true,\n                  doScroll = function()\n                  {\n                    var offset = clickedTrack.offset(),\n                      pos = e.pageY - offset.top - verticalDragHeight / 2,\n                      contentDragY = paneHeight * settings.scrollPagePercent,\n                      dragY = dragMaxY * contentDragY / (contentHeight - paneHeight);\n                    if (direction < 0) {\n                      if (verticalDragPosition - dragY > pos) {\n                        jsp.scrollByY(-contentDragY);\n                      } else {\n                        positionDragY(pos);\n                      }\n                    } else if (direction > 0) {\n                      if (verticalDragPosition + dragY < pos) {\n                        jsp.scrollByY(contentDragY);\n                      } else {\n                        positionDragY(pos);\n                      }\n                    } else {\n                      cancelClick();\n                      return;\n                    }\n                    scrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.trackClickRepeatFreq);\n                    isFirst = false;\n                  },\n                  cancelClick = function()\n                  {\n                    scrollTimeout && clearTimeout(scrollTimeout);\n                    scrollTimeout = null;\n                    $(document).unbind('mouseup.jsp', cancelClick);\n                  };\n                doScroll();\n                $(document).bind('mouseup.jsp', cancelClick);\n                return false;\n              }\n            }\n          );\n        }\n        \n        if (isScrollableH) {\n          horizontalTrack.bind(\n            'mousedown.jsp',\n            function(e)\n            {\n              if (e.originalTarget === undefined || e.originalTarget == e.currentTarget) {\n                var clickedTrack = $(this),\n                  offset = clickedTrack.offset(),\n                  direction = e.pageX - offset.left - horizontalDragPosition,\n                  scrollTimeout,\n                  isFirst = true,\n                  doScroll = function()\n                  {\n                    var offset = clickedTrack.offset(),\n                      pos = e.pageX - offset.left - horizontalDragWidth / 2,\n                      contentDragX = paneWidth * settings.scrollPagePercent,\n                      dragX = dragMaxX * contentDragX / (contentWidth - paneWidth);\n                    if (direction < 0) {\n                      if (horizontalDragPosition - dragX > pos) {\n                        jsp.scrollByX(-contentDragX);\n                      } else {\n                        positionDragX(pos);\n                      }\n                    } else if (direction > 0) {\n                      if (horizontalDragPosition + dragX < pos) {\n                        jsp.scrollByX(contentDragX);\n                      } else {\n                        positionDragX(pos);\n                      }\n                    } else {\n                      cancelClick();\n                      return;\n                    }\n                    scrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.trackClickRepeatFreq);\n                    isFirst = false;\n                  },\n                  cancelClick = function()\n                  {\n                    scrollTimeout && clearTimeout(scrollTimeout);\n                    scrollTimeout = null;\n                    $(document).unbind('mouseup.jsp', cancelClick);\n                  };\n                doScroll();\n                $(document).bind('mouseup.jsp', cancelClick);\n                return false;\n              }\n            }\n          );\n        }\n      }\n\n      function removeClickOnTrack()\n      {\n        if (horizontalTrack) {\n          horizontalTrack.unbind('mousedown.jsp');\n        }\n        if (verticalTrack) {\n          verticalTrack.unbind('mousedown.jsp');\n        }\n      }\n\n      function cancelDrag()\n      {\n        $('html').unbind('dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp');\n\n        if (verticalDrag) {\n          verticalDrag.removeClass('jspActive');\n        }\n        if (horizontalDrag) {\n          horizontalDrag.removeClass('jspActive');\n        }\n      }\n\n      function positionDragY(destY, animate)\n      {\n        if (!isScrollableV) {\n          return;\n        }\n        if (destY < 0) {\n          destY = 0;\n        } else if (destY > dragMaxY) {\n          destY = dragMaxY;\n        }\n\n        // can't just check if(animate) because false is a valid value that could be passed in...\n        if (animate === undefined) {\n          animate = settings.animateScroll;\n        }\n        if (animate) {\n          jsp.animate(verticalDrag, 'top', destY, _positionDragY);\n        } else {\n          verticalDrag.css('top', destY);\n          _positionDragY(destY);\n        }\n\n      }\n\n      function _positionDragY(destY)\n      {\n        if (destY === undefined) {\n          destY = verticalDrag.position().top;\n        }\n\n        container.scrollTop(0);\n        verticalDragPosition = destY;\n\n        var isAtTop = verticalDragPosition === 0,\n          isAtBottom = verticalDragPosition == dragMaxY,\n          percentScrolled = destY/ dragMaxY,\n          destTop = -percentScrolled * (contentHeight - paneHeight);\n\n        if (wasAtTop != isAtTop || wasAtBottom != isAtBottom) {\n          wasAtTop = isAtTop;\n          wasAtBottom = isAtBottom;\n          elem.trigger('jsp-arrow-change', [wasAtTop, wasAtBottom, wasAtLeft, wasAtRight]);\n        }\n        \n        updateVerticalArrows(isAtTop, isAtBottom);\n        pane.css('top', destTop);\n        elem.trigger('jsp-scroll-y', [-destTop, isAtTop, isAtBottom]).trigger('scroll');\n      }\n\n      function positionDragX(destX, animate)\n      {\n        if (!isScrollableH) {\n          return;\n        }\n        if (destX < 0) {\n          destX = 0;\n        } else if (destX > dragMaxX) {\n          destX = dragMaxX;\n        }\n\n        if (animate === undefined) {\n          animate = settings.animateScroll;\n        }\n        if (animate) {\n          jsp.animate(horizontalDrag, 'left', destX,  _positionDragX);\n        } else {\n          horizontalDrag.css('left', destX);\n          _positionDragX(destX);\n        }\n      }\n\n      function _positionDragX(destX)\n      {\n        if (destX === undefined) {\n          destX = horizontalDrag.position().left;\n        }\n\n        container.scrollTop(0);\n        horizontalDragPosition = destX;\n\n        var isAtLeft = horizontalDragPosition === 0,\n          isAtRight = horizontalDragPosition == dragMaxX,\n          percentScrolled = destX / dragMaxX,\n          destLeft = -percentScrolled * (contentWidth - paneWidth);\n\n        if (wasAtLeft != isAtLeft || wasAtRight != isAtRight) {\n          wasAtLeft = isAtLeft;\n          wasAtRight = isAtRight;\n          elem.trigger('jsp-arrow-change', [wasAtTop, wasAtBottom, wasAtLeft, wasAtRight]);\n        }\n        \n        updateHorizontalArrows(isAtLeft, isAtRight);\n        pane.css('left', destLeft);\n        elem.trigger('jsp-scroll-x', [-destLeft, isAtLeft, isAtRight]).trigger('scroll');\n      }\n\n      function updateVerticalArrows(isAtTop, isAtBottom)\n      {\n        if (settings.showArrows) {\n          arrowUp[isAtTop ? 'addClass' : 'removeClass']('jspDisabled');\n          arrowDown[isAtBottom ? 'addClass' : 'removeClass']('jspDisabled');\n        }\n      }\n\n      function updateHorizontalArrows(isAtLeft, isAtRight)\n      {\n        if (settings.showArrows) {\n          arrowLeft[isAtLeft ? 'addClass' : 'removeClass']('jspDisabled');\n          arrowRight[isAtRight ? 'addClass' : 'removeClass']('jspDisabled');\n        }\n      }\n\n      function scrollToY(destY, animate)\n      {\n        var percentScrolled = destY / (contentHeight - paneHeight);\n        positionDragY(percentScrolled * dragMaxY, animate);\n      }\n\n      function scrollToX(destX, animate)\n      {\n        var percentScrolled = destX / (contentWidth - paneWidth);\n        positionDragX(percentScrolled * dragMaxX, animate);\n      }\n\n      function scrollToElement(ele, stickToTop, animate)\n      {\n        var e, eleHeight, eleWidth, eleTop = 0, eleLeft = 0, viewportTop, viewportLeft, maxVisibleEleTop, maxVisibleEleLeft, destY, destX;\n\n        // Legal hash values aren't necessarily legal jQuery selectors so we need to catch any\n        // errors from the lookup...\n        try {\n          e = $(ele);\n        } catch (err) {\n          return;\n        }\n        eleHeight = e.outerHeight();\n        eleWidth= e.outerWidth();\n\n        container.scrollTop(0);\n        container.scrollLeft(0);\n        \n        // loop through parents adding the offset top of any elements that are relatively positioned between\n        // the focused element and the jspPane so we can get the true distance from the top\n        // of the focused element to the top of the scrollpane...\n        while (!e.is('.jspPane')) {\n          eleTop += e.position().top;\n          eleLeft += e.position().left;\n          e = e.offsetParent();\n          if (/^body|html$/i.test(e[0].nodeName)) {\n            // we ended up too high in the document structure. Quit!\n            return;\n          }\n        }\n\n        viewportTop = contentPositionY();\n        maxVisibleEleTop = viewportTop + paneHeight;\n        if (eleTop < viewportTop || stickToTop) { // element is above viewport\n          destY = eleTop - settings.verticalGutter;\n        } else if (eleTop + eleHeight > maxVisibleEleTop) { // element is below viewport\n          destY = eleTop - paneHeight + eleHeight + settings.verticalGutter;\n        }\n        if (destY) {\n          scrollToY(destY, animate);\n        }\n        \n        viewportLeft = contentPositionX();\n              maxVisibleEleLeft = viewportLeft + paneWidth;\n              if (eleLeft < viewportLeft || stickToTop) { // element is to the left of viewport\n                  destX = eleLeft - settings.horizontalGutter;\n              } else if (eleLeft + eleWidth > maxVisibleEleLeft) { // element is to the right viewport\n                  destX = eleLeft - paneWidth + eleWidth + settings.horizontalGutter;\n              }\n              if (destX) {\n                  scrollToX(destX, animate);\n              }\n\n      }\n\n      function contentPositionX()\n      {\n        return -pane.position().left;\n      }\n\n      function contentPositionY()\n      {\n        return -pane.position().top;\n      }\n\n      function isCloseToBottom()\n      {\n        var scrollableHeight = contentHeight - paneHeight;\n        return (scrollableHeight > 20) && (scrollableHeight - contentPositionY() < 10);\n      }\n\n      function isCloseToRight()\n      {\n        var scrollableWidth = contentWidth - paneWidth;\n        return (scrollableWidth > 20) && (scrollableWidth - contentPositionX() < 10);\n      }\n\n      function initMousewheel()\n      {\n        container.unbind(mwEvent).bind(\n          mwEvent,\n          function (event, delta, deltaX, deltaY) {\n            var dX = horizontalDragPosition, dY = verticalDragPosition;\n            jsp.scrollBy(deltaX * settings.mouseWheelSpeed, -deltaY * settings.mouseWheelSpeed, false);\n            // return true if there was no movement so rest of screen can scroll\n            return dX == horizontalDragPosition && dY == verticalDragPosition;\n          }\n        );\n      }\n\n      function removeMousewheel()\n      {\n        container.unbind(mwEvent);\n      }\n\n      function nil()\n      {\n        return false;\n      }\n\n      function initFocusHandler()\n      {\n        pane.find(':input,a').unbind('focus.jsp').bind(\n          'focus.jsp',\n          function(e)\n          {\n            scrollToElement(e.target, false);\n          }\n        );\n      }\n\n      function removeFocusHandler()\n      {\n        pane.find(':input,a').unbind('focus.jsp');\n      }\n      \n      function initKeyboardNav()\n      {\n        var keyDown, elementHasScrolled, validParents = [];\n        isScrollableH && validParents.push(horizontalBar[0]);\n        isScrollableV && validParents.push(verticalBar[0]);\n        \n        // IE also focuses elements that don't have tabindex set.\n        pane.focus(\n          function()\n          {\n            elem.focus();\n          }\n        );\n        \n        elem.attr('tabindex', 0)\n          .unbind('keydown.jsp keypress.jsp')\n          .bind(\n            'keydown.jsp',\n            function(e)\n            {\n              if (e.target !== this && !(validParents.length && $(e.target).closest(validParents).length)){\n                return;\n              }\n              var dX = horizontalDragPosition, dY = verticalDragPosition;\n              switch(e.keyCode) {\n                case 40: // down\n                case 38: // up\n                case 34: // page down\n                case 32: // space\n                case 33: // page up\n                case 39: // right\n                case 37: // left\n                  keyDown = e.keyCode;\n                  keyDownHandler();\n                  break;\n                case 35: // end\n                  scrollToY(contentHeight - paneHeight);\n                  keyDown = null;\n                  break;\n                case 36: // home\n                  scrollToY(0);\n                  keyDown = null;\n                  break;\n              }\n\n              elementHasScrolled = e.keyCode == keyDown && dX != horizontalDragPosition || dY != verticalDragPosition;\n              return !elementHasScrolled;\n            }\n          ).bind(\n            'keypress.jsp', // For FF/ OSX so that we can cancel the repeat key presses if the JSP scrolls...\n            function(e)\n            {\n              if (e.keyCode == keyDown) {\n                keyDownHandler();\n              }\n              return !elementHasScrolled;\n            }\n          );\n        \n        if (settings.hideFocus) {\n          elem.css('outline', 'none');\n          if ('hideFocus' in container[0]){\n            elem.attr('hideFocus', true);\n          }\n        } else {\n          elem.css('outline', '');\n          if ('hideFocus' in container[0]){\n            elem.attr('hideFocus', false);\n          }\n        }\n        \n        function keyDownHandler()\n        {\n          var dX = horizontalDragPosition, dY = verticalDragPosition;\n          switch(keyDown) {\n            case 40: // down\n              jsp.scrollByY(settings.keyboardSpeed, false);\n              break;\n            case 38: // up\n              jsp.scrollByY(-settings.keyboardSpeed, false);\n              break;\n            case 34: // page down\n            case 32: // space\n              jsp.scrollByY(paneHeight * settings.scrollPagePercent, false);\n              break;\n            case 33: // page up\n              jsp.scrollByY(-paneHeight * settings.scrollPagePercent, false);\n              break;\n            case 39: // right\n              jsp.scrollByX(settings.keyboardSpeed, false);\n              break;\n            case 37: // left\n              jsp.scrollByX(-settings.keyboardSpeed, false);\n              break;\n          }\n\n          elementHasScrolled = dX != horizontalDragPosition || dY != verticalDragPosition;\n          return elementHasScrolled;\n        }\n      }\n      \n      function removeKeyboardNav()\n      {\n        elem.attr('tabindex', '-1')\n          .removeAttr('tabindex')\n          .unbind('keydown.jsp keypress.jsp');\n      }\n\n      function observeHash()\n      {\n        if (location.hash && location.hash.length > 1) {\n          var e,\n            retryInt,\n            hash = escape(location.hash.substr(1)) // hash must be escaped to prevent XSS\n            ;\n          try {\n            e = $('#' + hash + ', a[name=\"' + hash + '\"]');\n          } catch (err) {\n            return;\n          }\n\n          if (e.length && pane.find(hash)) {\n            // nasty workaround but it appears to take a little while before the hash has done its thing\n            // to the rendered page so we just wait until the container's scrollTop has been messed up.\n            if (container.scrollTop() === 0) {\n              retryInt = setInterval(\n                function()\n                {\n                  if (container.scrollTop() > 0) {\n                    scrollToElement(e, true);\n                    $(document).scrollTop(container.position().top);\n                    clearInterval(retryInt);\n                  }\n                },\n                50\n              );\n            } else {\n              scrollToElement(e, true);\n              $(document).scrollTop(container.position().top);\n            }\n          }\n        }\n      }\n\n      function hijackInternalLinks()\n      {\n        // only register the link handler once\n        if ($(document.body).data('jspHijack')) {\n          return;\n        }\n\n        // remember that the handler was bound\n        $(document.body).data('jspHijack', true);\n\n        // use live handler to also capture newly created links\n        $(document.body).delegate('a[href*=#]', 'click', function(event) {\n          // does the link point to the same page?\n          // this also takes care of cases with a <base>-Tag or Links not starting with the hash #\n          // e.g. <a href=\"index.html#test\"> when the current url already is index.html\n          var href = this.href.substr(0, this.href.indexOf('#')),\n            locationHref = location.href,\n            hash,\n            element,\n            container,\n            jsp,\n            scrollTop,\n            elementTop;\n          if (location.href.indexOf('#') !== -1) {\n            locationHref = location.href.substr(0, location.href.indexOf('#'));\n          }\n          if (href !== locationHref) {\n            // the link points to another page\n            return;\n          }\n\n          // check if jScrollPane should handle this click event\n          hash = escape(this.href.substr(this.href.indexOf('#') + 1));\n\n          // find the element on the page\n          element;\n          try {\n            element = $('#' + hash + ', a[name=\"' + hash + '\"]');\n          } catch (e) {\n            // hash is not a valid jQuery identifier\n            return;\n          }\n\n          if (!element.length) {\n            // this link does not point to an element on this page\n            return;\n          }\n\n          container = element.closest('.jspScrollable');\n          jsp = container.data('jsp');\n\n          // jsp might be another jsp instance than the one, that bound this event\n          // remember: this event is only bound once for all instances.\n          jsp.scrollToElement(element, true);\n\n          if (container[0].scrollIntoView) {\n            // also scroll to the top of the container (if it is not visible)\n            scrollTop = $(window).scrollTop();\n            elementTop = element.offset().top;\n            if (elementTop < scrollTop || elementTop > scrollTop + $(window).height()) {\n              container[0].scrollIntoView();\n            }\n          }\n\n          // jsp handled this event, prevent the browser default (scrolling :P)\n          event.preventDefault();\n        });\n      }\n      \n      // Init touch on iPad, iPhone, iPod, Android\n      function initTouch()\n      {\n        var startX,\n          startY,\n          touchStartX,\n          touchStartY,\n          moved,\n          moving = false;\n  \n        container.unbind('touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick').bind(\n          'touchstart.jsp',\n          function(e)\n          {\n            var touch = e.originalEvent.touches[0];\n            startX = contentPositionX();\n            startY = contentPositionY();\n            touchStartX = touch.pageX;\n            touchStartY = touch.pageY;\n            moved = false;\n            moving = true;\n          }\n        ).bind(\n          'touchmove.jsp',\n          function(ev)\n          {\n            if(!moving) {\n              return;\n            }\n            \n            var touchPos = ev.originalEvent.touches[0],\n              dX = horizontalDragPosition, dY = verticalDragPosition;\n            \n            jsp.scrollTo(startX + touchStartX - touchPos.pageX, startY + touchStartY - touchPos.pageY);\n            \n            moved = moved || Math.abs(touchStartX - touchPos.pageX) > 5 || Math.abs(touchStartY - touchPos.pageY) > 5;\n            \n            // return true if there was no movement so rest of screen can scroll\n            return dX == horizontalDragPosition && dY == verticalDragPosition;\n          }\n        ).bind(\n          'touchend.jsp',\n          function(e)\n          {\n            moving = false;\n            /*if(moved) {\n              return false;\n            }*/\n          }\n        ).bind(\n          'click.jsp-touchclick',\n          function(e)\n          {\n            if(moved) {\n              moved = false;\n              return false;\n            }\n          }\n        );\n      }\n      \n      function destroy(){\n        var currentY = contentPositionY(),\n          currentX = contentPositionX();\n        elem.removeClass('jspScrollable').unbind('.jsp');\n        elem.replaceWith(originalElement.append(pane.children()));\n        originalElement.scrollTop(currentY);\n        originalElement.scrollLeft(currentX);\n\n        // clear reinitialize timer if active\n        if (reinitialiseInterval) {\n          clearInterval(reinitialiseInterval);\n        }\n      }\n\n      // Public API\n      $.extend(\n        jsp,\n        {\n          // Reinitialises the scroll pane (if it's internal dimensions have changed since the last time it\n          // was initialised). The settings object which is passed in will override any settings from the\n          // previous time it was initialised - if you don't pass any settings then the ones from the previous\n          // initialisation will be used.\n          reinitialise: function(s)\n          {\n            s = $.extend({}, settings, s);\n            initialise(s);\n          },\n          // Scrolls the specified element (a jQuery object, DOM node or jQuery selector string) into view so\n          // that it can be seen within the viewport. If stickToTop is true then the element will appear at\n          // the top of the viewport, if it is false then the viewport will scroll as little as possible to\n          // show the element. You can also specify if you want animation to occur. If you don't provide this\n          // argument then the animateScroll value from the settings object is used instead.\n          scrollToElement: function(ele, stickToTop, animate)\n          {\n            scrollToElement(ele, stickToTop, animate);\n          },\n          // Scrolls the pane so that the specified co-ordinates within the content are at the top left\n          // of the viewport. animate is optional and if not passed then the value of animateScroll from\n          // the settings object this jScrollPane was initialised with is used.\n          scrollTo: function(destX, destY, animate)\n          {\n            scrollToX(destX, animate);\n            scrollToY(destY, animate);\n          },\n          // Scrolls the pane so that the specified co-ordinate within the content is at the left of the\n          // viewport. animate is optional and if not passed then the value of animateScroll from the settings\n          // object this jScrollPane was initialised with is used.\n          scrollToX: function(destX, animate)\n          {\n            scrollToX(destX, animate);\n          },\n          // Scrolls the pane so that the specified co-ordinate within the content is at the top of the\n          // viewport. animate is optional and if not passed then the value of animateScroll from the settings\n          // object this jScrollPane was initialised with is used.\n          scrollToY: function(destY, animate)\n          {\n            scrollToY(destY, animate);\n          },\n          // Scrolls the pane to the specified percentage of its maximum horizontal scroll position. animate\n          // is optional and if not passed then the value of animateScroll from the settings object this\n          // jScrollPane was initialised with is used.\n          scrollToPercentX: function(destPercentX, animate)\n          {\n            scrollToX(destPercentX * (contentWidth - paneWidth), animate);\n          },\n          // Scrolls the pane to the specified percentage of its maximum vertical scroll position. animate\n          // is optional and if not passed then the value of animateScroll from the settings object this\n          // jScrollPane was initialised with is used.\n          scrollToPercentY: function(destPercentY, animate)\n          {\n            scrollToY(destPercentY * (contentHeight - paneHeight), animate);\n          },\n          // Scrolls the pane by the specified amount of pixels. animate is optional and if not passed then\n          // the value of animateScroll from the settings object this jScrollPane was initialised with is used.\n          scrollBy: function(deltaX, deltaY, animate)\n          {\n            jsp.scrollByX(deltaX, animate);\n            jsp.scrollByY(deltaY, animate);\n          },\n          // Scrolls the pane by the specified amount of pixels. animate is optional and if not passed then\n          // the value of animateScroll from the settings object this jScrollPane was initialised with is used.\n          scrollByX: function(deltaX, animate)\n          {\n            var destX = contentPositionX() + Math[deltaX<0 ? 'floor' : 'ceil'](deltaX),\n              percentScrolled = destX / (contentWidth - paneWidth);\n            positionDragX(percentScrolled * dragMaxX, animate);\n          },\n          // Scrolls the pane by the specified amount of pixels. animate is optional and if not passed then\n          // the value of animateScroll from the settings object this jScrollPane was initialised with is used.\n          scrollByY: function(deltaY, animate)\n          {\n            var destY = contentPositionY() + Math[deltaY<0 ? 'floor' : 'ceil'](deltaY),\n              percentScrolled = destY / (contentHeight - paneHeight);\n            positionDragY(percentScrolled * dragMaxY, animate);\n          },\n          // Positions the horizontal drag at the specified x position (and updates the viewport to reflect\n          // this). animate is optional and if not passed then the value of animateScroll from the settings\n          // object this jScrollPane was initialised with is used.\n          positionDragX: function(x, animate)\n          {\n            positionDragX(x, animate);\n          },\n          // Positions the vertical drag at the specified y position (and updates the viewport to reflect\n          // this). animate is optional and if not passed then the value of animateScroll from the settings\n          // object this jScrollPane was initialised with is used.\n          positionDragY: function(y, animate)\n          {\n            positionDragY(y, animate);\n          },\n          // This method is called when jScrollPane is trying to animate to a new position. You can override\n          // it if you want to provide advanced animation functionality. It is passed the following arguments:\n          //  * ele          - the element whose position is being animated\n          //  * prop         - the property that is being animated\n          //  * value        - the value it's being animated to\n          //  * stepCallback - a function that you must execute each time you update the value of the property\n          // You can use the default implementation (below) as a starting point for your own implementation.\n          animate: function(ele, prop, value, stepCallback)\n          {\n            var params = {};\n            params[prop] = value;\n            ele.animate(\n              params,\n              {\n                'duration'  : settings.animateDuration,\n                'easing'  : settings.animateEase,\n                'queue'   : false,\n                'step'    : stepCallback\n              }\n            );\n          },\n          // Returns the current x position of the viewport with regards to the content pane.\n          getContentPositionX: function()\n          {\n            return contentPositionX();\n          },\n          // Returns the current y position of the viewport with regards to the content pane.\n          getContentPositionY: function()\n          {\n            return contentPositionY();\n          },\n          // Returns the width of the content within the scroll pane.\n          getContentWidth: function()\n          {\n            return contentWidth;\n          },\n          // Returns the height of the content within the scroll pane.\n          getContentHeight: function()\n          {\n            return contentHeight;\n          },\n          // Returns the horizontal position of the viewport within the pane content.\n          getPercentScrolledX: function()\n          {\n            return contentPositionX() / (contentWidth - paneWidth);\n          },\n          // Returns the vertical position of the viewport within the pane content.\n          getPercentScrolledY: function()\n          {\n            return contentPositionY() / (contentHeight - paneHeight);\n          },\n          // Returns whether or not this scrollpane has a horizontal scrollbar.\n          getIsScrollableH: function()\n          {\n            return isScrollableH;\n          },\n          // Returns whether or not this scrollpane has a vertical scrollbar.\n          getIsScrollableV: function()\n          {\n            return isScrollableV;\n          },\n          // Gets a reference to the content pane. It is important that you use this method if you want to\n          // edit the content of your jScrollPane as if you access the element directly then you may have some\n          // problems (as your original element has had additional elements for the scrollbars etc added into\n          // it).\n          getContentPane: function()\n          {\n            return pane;\n          },\n          // Scrolls this jScrollPane down as far as it can currently scroll. If animate isn't passed then the\n          // animateScroll value from settings is used instead.\n          scrollToBottom: function(animate)\n          {\n            positionDragY(dragMaxY, animate);\n          },\n          // Hijacks the links on the page which link to content inside the scrollpane. If you have changed\n          // the content of your page (e.g. via AJAX) and want to make sure any new anchor links to the\n          // contents of your scroll pane will work then call this function.\n          hijackInternalLinks: $.noop,\n          // Removes the jScrollPane and returns the page to the state it was in before jScrollPane was\n          // initialised.\n          destroy: function()\n          {\n              destroy();\n          }\n        }\n      );\n      \n      initialise(s);\n    }\n\n    // Pluginifying code...\n    settings = $.extend({}, $.fn.jScrollPane.defaults, settings);\n    \n    // Apply default speed\n    $.each(['mouseWheelSpeed', 'arrowButtonSpeed', 'trackClickSpeed', 'keyboardSpeed'], function() {\n      settings[this] = settings[this] || settings.speed;\n    });\n\n    return this.each(\n      function()\n      {\n        var elem = $(this), jspApi = elem.data('jsp');\n        if (jspApi) {\n          jspApi.reinitialise(settings);\n        } else {\n          $(\"script\",elem).filter('[type=\"text/javascript\"],:not([type])').remove();\n          jspApi = new JScrollPane(elem, settings);\n          elem.data('jsp', jspApi);\n        }\n      }\n    );\n  };\n\n  $.fn.jScrollPane.defaults = {\n    showArrows          : false,\n    maintainPosition      : true,\n    stickToBottom       : false,\n    stickToRight        : false,\n    clickOnTrack        : true,\n    autoReinitialise      : false,\n    autoReinitialiseDelay   : 500,\n    verticalDragMinHeight   : 0,\n    verticalDragMaxHeight   : 99999,\n    horizontalDragMinWidth    : 0,\n    horizontalDragMaxWidth    : 99999,\n    contentWidth        : undefined,\n    animateScroll       : false,\n    animateDuration       : 300,\n    animateEase         : 'linear',\n    hijackInternalLinks     : false,\n    verticalGutter        : 4,\n    horizontalGutter      : 4,\n    mouseWheelSpeed       : 0,\n    arrowButtonSpeed      : 0,\n    arrowRepeatFreq       : 50,\n    arrowScrollOnHover      : false,\n    trackClickSpeed       : 0,\n    trackClickRepeatFreq    : 70,\n    verticalArrowPositions    : 'split',\n    horizontalArrowPositions  : 'split',\n    enableKeyboardNavigation  : true,\n    hideFocus         : false,\n    keyboardSpeed       : 0,\n    initialDelay                : 300,        // Delay before starting repeating\n    speed           : 30,   // Default speed when others falsey\n    scrollPagePercent     : .8    // Percent of visible area scrolled when pageUp/Down or track area pressed\n  };\n\n})(jQuery,this);\n/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)\n * Licensed under the MIT License (LICENSE.txt).\n *\n * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.\n * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.\n * Thanks to: Seamus Leahy for adding deltaX and deltaY\n *\n * Version: 3.0.6\n * \n * Requires: 1.2.2+\n */\n\n(function($) {\n\nvar types = ['DOMMouseScroll', 'mousewheel'];\n\nif ($.event.fixHooks) {\n    for ( var i=types.length; i; ) {\n        $.event.fixHooks[ types[--i] ] = $.event.mouseHooks;\n    }\n}\n\n$.event.special.mousewheel = {\n    setup: function() {\n        if ( this.addEventListener ) {\n            for ( var i=types.length; i; ) {\n                this.addEventListener( types[--i], handler, false );\n            }\n        } else {\n            this.onmousewheel = handler;\n        }\n    },\n    \n    teardown: function() {\n        if ( this.removeEventListener ) {\n            for ( var i=types.length; i; ) {\n                this.removeEventListener( types[--i], handler, false );\n            }\n        } else {\n            this.onmousewheel = null;\n        }\n    }\n};\n\n$.fn.extend({\n    mousewheel: function(fn) {\n        return fn ? this.bind(\"mousewheel\", fn) : this.trigger(\"mousewheel\");\n    },\n    \n    unmousewheel: function(fn) {\n        return this.unbind(\"mousewheel\", fn);\n    }\n});\n\n\nfunction handler(event) {\n    var orgEvent = event || window.event, args = [].slice.call( arguments, 1 ), delta = 0, returnValue = true, deltaX = 0, deltaY = 0;\n    event = $.event.fix(orgEvent);\n    event.type = \"mousewheel\";\n    \n    // Old school scrollwheel delta\n    if ( orgEvent.wheelDelta ) { delta = orgEvent.wheelDelta/120; }\n    if ( orgEvent.detail     ) { delta = -orgEvent.detail/3; }\n    \n    // New school multidimensional scroll (touchpads) deltas\n    deltaY = delta;\n    \n    // Gecko\n    if ( orgEvent.axis !== undefined && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n        deltaY = 0;\n        deltaX = -1*delta;\n    }\n    \n    // Webkit\n    if ( orgEvent.wheelDeltaY !== undefined ) { deltaY = orgEvent.wheelDeltaY/120; }\n    if ( orgEvent.wheelDeltaX !== undefined ) { deltaX = -1*orgEvent.wheelDeltaX/120; }\n    \n    // Add event and delta to the front of the arguments\n    args.unshift(event, delta, deltaX, deltaY);\n    \n    return ($.event.dispatch || $.event.handle).apply(this, args);\n}\n\n})(jQuery);/**\n * @author trixta\n * @version 1.2\n */\n(function($){\n\nvar mwheelI = {\n      pos: [-260, -260]\n    },\n  minDif  = 3,\n  doc   = document,\n  root  = doc.documentElement,\n  body  = doc.body,\n  longDelay, shortDelay\n;\n\nfunction unsetPos(){\n  if(this === mwheelI.elem){\n    mwheelI.pos = [-260, -260];\n    mwheelI.elem = false;\n    minDif = 3;\n  }\n}\n\n$.event.special.mwheelIntent = {\n  setup: function(){\n    var jElm = $(this).bind('mousewheel', $.event.special.mwheelIntent.handler);\n    if( this !== doc && this !== root && this !== body ){\n      jElm.bind('mouseleave', unsetPos);\n    }\n    jElm = null;\n        return true;\n    },\n  teardown: function(){\n        $(this)\n      .unbind('mousewheel', $.event.special.mwheelIntent.handler)\n      .unbind('mouseleave', unsetPos)\n    ;\n        return true;\n    },\n    handler: function(e, d){\n    var pos = [e.clientX, e.clientY];\n    if( this === mwheelI.elem || Math.abs(mwheelI.pos[0] - pos[0]) > minDif || Math.abs(mwheelI.pos[1] - pos[1]) > minDif ){\n            mwheelI.elem = this;\n      mwheelI.pos = pos;\n      minDif = 250;\n      \n      clearTimeout(shortDelay);\n      shortDelay = setTimeout(function(){\n        minDif = 10;\n      }, 200);\n      clearTimeout(longDelay);\n      longDelay = setTimeout(function(){\n        minDif = 3;\n      }, 1500);\n      e = $.extend({}, e, {type: 'mwheelIntent'});\n            return ($.event.dispatch || $.event.handle).apply(this, arguments);\n    }\n    }\n};\n$.fn.extend({\n  mwheelIntent: function(fn) {\n    return fn ? this.bind(\"mwheelIntent\", fn) : this.trigger(\"mwheelIntent\");\n  },\n  \n  unmwheelIntent: function(fn) {\n    return this.unbind(\"mwheelIntent\", fn);\n  }\n});\n\n$(function(){\n  body = doc.body;\n  //assume that document is always scrollable, doesn't hurt if not\n  $(doc).bind('mwheelIntent.mwheelIntentDefault', $.noop);\n});\n})(jQuery);\n//fgnass.github.com/spin.js#v1.2.5\n(function(a,b,c){function g(a,c){var d=b.createElement(a||\"div\"),e;for(e in c)d[e]=c[e];return d}function h(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function j(a,b,c,d){var g=[\"opacity\",b,~~(a*100),c,d].join(\"-\"),h=.01+c/d*100,j=Math.max(1-(1-a)/b*(100-h),a),k=f.substring(0,f.indexOf(\"Animation\")).toLowerCase(),l=k&&\"-\"+k+\"-\"||\"\";return e[g]||(i.insertRule(\"@\"+l+\"keyframes \"+g+\"{\"+\"0%{opacity:\"+j+\"}\"+h+\"%{opacity:\"+a+\"}\"+(h+.01)+\"%{opacity:1}\"+(h+b)%100+\"%{opacity:\"+a+\"}\"+\"100%{opacity:\"+j+\"}\"+\"}\",0),e[g]=1),g}function k(a,b){var e=a.style,f,g;if(e[b]!==c)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(g=0;g<d.length;g++){f=d[g]+b;if(e[f]!==c)return f}}function l(a,b){for(var c in b)a.style[k(a,c)||c]=b[c];return a}function m(a){for(var b=1;b<arguments.length;b++){var d=arguments[b];for(var e in d)a[e]===c&&(a[e]=d[e])}return a}function n(a){var b={x:a.offsetLeft,y:a.offsetTop};while(a=a.offsetParent)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}var d=[\"webkit\",\"Moz\",\"ms\",\"O\"],e={},f,i=function(){var a=g(\"style\");return h(b.getElementsByTagName(\"head\")[0],a),a.sheet||a.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,color:\"#000\",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:\"spinner\",top:\"auto\",left:\"auto\"},p=function q(a){if(!this.spin)return new q(a);this.opts=m(a||{},q.defaults,o)};p.defaults={},m(p.prototype,{spin:function(a){this.stop();var b=this,c=b.opts,d=b.el=l(g(0,{className:c.className}),{position:\"relative\",zIndex:c.zIndex}),e=c.radius+c.length+c.width,h,i;a&&(a.insertBefore(d,a.firstChild||null),i=n(a),h=n(d),l(d,{left:(c.left==\"auto\"?i.x-h.x+(a.offsetWidth>>1):c.left+e)+\"px\",top:(c.top==\"auto\"?i.y-h.y+(a.offsetHeight>>1):c.top+e)+\"px\"})),d.setAttribute(\"aria-role\",\"progressbar\"),b.lines(d,b.opts);if(!f){var j=0,k=c.fps,m=k/c.speed,o=(1-c.opacity)/(m*c.trail/100),p=m/c.lines;!function q(){j++;for(var a=c.lines;a;a--){var e=Math.max(1-(j+a*p)%m*o,c.opacity);b.opacity(d,c.lines-a,e,c)}b.timeout=b.el&&setTimeout(q,~~(1e3/k))}()}return b},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=c),this},lines:function(a,b){function e(a,d){return l(g(),{position:\"absolute\",width:b.length+b.width+\"px\",height:b.width+\"px\",background:a,boxShadow:d,transformOrigin:\"left\",transform:\"rotate(\"+~~(360/b.lines*c+b.rotate)+\"deg) translate(\"+b.radius+\"px\"+\",0)\",borderRadius:(b.width>>1)+\"px\"})}var c=0,d;for(;c<b.lines;c++)d=l(g(),{position:\"absolute\",top:1+~(b.width/2)+\"px\",transform:b.hwaccel?\"translate3d(0,0,0)\":\"\",opacity:b.opacity,animation:f&&j(b.opacity,b.trail,c,b.lines)+\" \"+1/b.speed+\"s linear infinite\"}),b.shadow&&h(d,l(e(\"#000\",\"0 0 4px #000\"),{top:\"2px\"})),h(a,h(d,e(b.color,\"0 0 1px rgba(0,0,0,.1)\")));return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),!function(){function a(a,b){return g(\"<\"+a+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">',b)}var b=l(g(\"group\"),{behavior:\"url(#default#VML)\"});!k(b,\"transform\")&&b.adj?(i.addRule(\".spin-vml\",\"behavior:url(#default#VML)\"),p.prototype.lines=function(b,c){function f(){return l(a(\"group\",{coordsize:e+\" \"+e,coordorigin:-d+\" \"+ -d}),{width:e,height:e})}function k(b,e,g){h(i,h(l(f(),{rotation:360/c.lines*b+\"deg\",left:~~e}),h(l(a(\"roundrect\",{arcsize:1}),{width:d,height:c.width,left:c.radius,top:-c.width>>1,filter:g}),a(\"fill\",{color:c.color,opacity:c.opacity}),a(\"stroke\",{opacity:0}))))}var d=c.length+c.width,e=2*d,g=-(c.width+c.length)*2+\"px\",i=l(f(),{position:\"absolute\",top:g,left:g}),j;if(c.shadow)for(j=1;j<=c.lines;j++)k(j,-2,\"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)\");for(j=1;j<=c.lines;j++)k(j);return h(b,i)},p.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}):f=k(b,\"animation\")}(),a.Spinner=p})(window,document);\nvar LZMA = (function () {\n\tvar action_compress   = 1,\n\t\taction_decompress = 2,\n\t\taction_update\t  = 3;\n\t\n\tfunction update_progress(percent, callback_num) {\n\t\t///TODO: Calculate ETA.\n\t\tpostMessage({\n\t\t\taction: 3,\n\t\t\tcallback_num: callback_num,\n\t\t\tresult: percent\n\t\t});\n\t}\n\t\n\tvar $moduleName, $moduleBase;\n\t\n\tvar _,\n\t\tN8000000000000000_longLit = [0, -9223372036854775808],\n\t\tN1_longLit = [4294967295, -4294967296],\n\t\tP0_longLit = [0, 0],\n\t\tP1_longLit = [1, 0],\n\t\tP4_longLit = [4, 0],\n\t\tP1000_longLit = [4096, 0],\n\t\tPffffff_longLit = [16777215, 0],\n\t\tP1000000_longLit = [16777216, 0],\n\t\tPff000000_longLit = [4278190080, 0],\n\t\tPffffffff_longLit = [4294967295, 0],\n\t\tP7fffffffffffffff_longLit = [4294967295, 9223372032559808512];\n\n\tfunction getClass_18() {\n\t\treturn Ljava_lang_Object_2_classLit;\n\t}\n\t\n\tfunction Object_0() {\n\t}\n\t\n\t_ = Object_0.prototype = {};\n\t_.getClass$ = getClass_18;\n\t_.typeMarker$ = nullMethod;\n\t_.typeId$ = 1;\n\tfunction getClass_22() {\n\t\treturn Ljava_lang_Throwable_2_classLit;\n\t}\n\t\n\tfunction Throwable() {\n\t}\n\t\n\t_ = Throwable.prototype = new Object_0();\n\t_.getClass$ = getClass_22;\n\t_.typeId$ = 3;\n\t_.detailMessage = null;\n\tfunction getClass_13() {\n\t\treturn Ljava_lang_Exception_2_classLit;\n\t}\n\t\n\tfunction Exception() {\n\t}\n\t\n\t_ = Exception.prototype = new Throwable();\n\t_.getClass$ = getClass_13;\n\t_.typeId$ = 4;\n\tfunction $RuntimeException(this$static, message) {\n\t\tthis$static.detailMessage = message;\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_19() {\n\t\treturn Ljava_lang_RuntimeException_2_classLit;\n\t}\n\t\n\tfunction RuntimeException() {\n\t}\n\t\n\t_ = RuntimeException.prototype = new Exception();\n\t_.getClass$ = getClass_19;\n\t_.typeId$ = 5;\n\tfunction $JavaScriptException(this$static, e) {\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_0() {\n\t\treturn Lcom_google_gwt_core_client_JavaScriptException_2_classLit;\n\t}\n\t\n\tfunction JavaScriptException() {\n\t}\n\t\n\t_ = JavaScriptException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_0;\n\t_.typeId$ = 6;\n\tfunction $append(a, x) {\n\t\ta[a.explicitLength++] = x;\n\t}\n\t\n\tfunction $appendNonNull(a, x) {\n\t\ta[a.explicitLength++] = x;\n\t}\n\t\n\tfunction $toString(a) {\n\t\tvar s_0, s;\n\t\ts_0 = (s = a.join('') , a.length = a.explicitLength = 0 , s);\n\t\ta[a.explicitLength++] = s_0;\n\t\treturn s_0;\n\t}\n\t\n\tfunction createFromSeed(seedType, length_0) {\n\t\tvar array = new Array(length_0);\n\t\tif (seedType > 0) {\n\t\t\tvar value = [null, 0, false, [0, 0]][seedType];\n\t\t\tfor (var i = 0; i < length_0; ++i) {\n\t\t\t\tarray[i] = value;\n\t\t\t}\n\t\t}\n\t\treturn array;\n\t}\n\t\n\tfunction getClass_2() {\n\t\treturn this.arrayClass$;\n\t}\n\t\n\tfunction initDim(arrayClass, typeId, queryId, length_0, seedType) {\n\t\tvar result;\n\t\tresult = createFromSeed(seedType, length_0);\n\t\t$clinit_4();\n\t\twrapArray(result, expandoNames_0, expandoValues_0);\n\t\tresult.arrayClass$ = arrayClass;\n\t\tresult.typeId$ = typeId;\n\t\tresult.queryId$ = queryId;\n\t\treturn result;\n\t}\n\t\n\tfunction initValues(arrayClass, typeId, queryId, array) {\n\t\t$clinit_4();\n\t\twrapArray(array, expandoNames_0, expandoValues_0);\n\t\tarray.arrayClass$ = arrayClass;\n\t\tarray.typeId$ = typeId;\n\t\tarray.queryId$ = queryId;\n\t\treturn array;\n\t}\n\t\n\tfunction setCheck(array, index, value) {\n\t\tif (value != null) {\n\t\t\tif (array.queryId$ > 0 && !canCastUnsafe(value.typeId$, array.queryId$)) {\n\t\t\tthrow new ArrayStoreException();\n\t\t\t}\n\t\t\tif (array.queryId$ < 0 && (value.typeMarker$ == nullMethod || value.typeId$ == 2)) {\n\t\t\tthrow new ArrayStoreException();\n\t\t\t}\n\t\t}\n\t\treturn array[index] = value;\n\t}\n\t\n\tfunction Array_0() {\n\t}\n\t\n\t_ = Array_0.prototype = new Object_0();\n\t_.getClass$ = getClass_2;\n\t_.typeId$ = 0;\n\t_.arrayClass$ = null;\n\t_.length = 0;\n\t_.queryId$ = 0;\n\tfunction $clinit_4() {\n\t\t$clinit_4 = nullMethod;\n\t\texpandoNames_0 = [];\n\t\texpandoValues_0 = [];\n\t\tinitExpandos(new Array_0(), expandoNames_0, expandoValues_0);\n\t}\n\t\n\tfunction initExpandos(protoType, expandoNames, expandoValues) {\n\t\tvar i = 0, value;\n\t\tfor (var name_0 in protoType) {\n\t\t\tif (value = protoType[name_0]) {\n\t\t\texpandoNames[i] = name_0;\n\t\t\texpandoValues[i] = value;\n\t\t\t++i;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction wrapArray(array, expandoNames, expandoValues) {\n\t\t$clinit_4();\n\t\tfor (var i = 0, c = expandoNames.length; i < c; ++i) {\n\t\t\tarray[expandoNames[i]] = expandoValues[i];\n\t\t}\n\t}\n\t\n\tvar expandoNames_0, expandoValues_0;\n\tfunction canCast(srcId, dstId) {\n\t\treturn srcId && !!typeIdArray[srcId][dstId];\n\t}\n\t\n\tfunction canCastUnsafe(srcId, dstId) {\n\t\treturn srcId && typeIdArray[srcId][dstId];\n\t}\n\t\n\tfunction dynamicCast(src, dstId) {\n\t\tif (src != null && !canCastUnsafe(src.typeId$, dstId)) {\n\t\t\tthrow new ClassCastException();\n\t\t}\n\t\treturn src;\n\t}\n\t\n\tfunction instanceOf(src, dstId) {\n\t\treturn src != null && canCast(src.typeId$, dstId);\n\t}\n\t\n\tfunction round_int(x) {\n\t\treturn ~~Math.max(Math.min(x, 2147483647), -2147483648);\n\t}\n\t\n\tvar typeIdArray = [\n\t\t\t{},\n\t\t\t{},\n\t\t\t{1:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1, 10:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1, 11:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{2:1},\n\t\t\t{4:1},\n\t\t\t{5:1},\n\t\t\t{6:1},\n\t\t\t{7:1},\n\t\t\t{8:1},\n\t\t\t{9:1}\n\t\t];\n\n\tfunction caught(e) {\n\t\tif (e != null && canCast(e.typeId$, 2)) {\n\t\t\treturn e;\n\t\t}\n\t\treturn $JavaScriptException(new JavaScriptException(), e);\n\t}\n\t\n\tfunction add(a, b) {\n\t\tvar newHigh, newLow;\n\t\tnewHigh = a[1] + b[1];\n\t\tnewLow = a[0] + b[0];\n\t\treturn create(newLow, newHigh);\n\t}\n\t\n\tfunction addTimes(accum, a, b) {\n\t\tif (a == 0) {\n\t\t\treturn accum;\n\t\t}\n\t\tif (b == 0) {\n\t\t\treturn accum;\n\t\t}\n\t\treturn add(accum, create(a * b, 0));\n\t}\n\t\n\tfunction and(a, b) {\n\t\treturn makeFromBits(~~Math.max(Math.min(a[1] / 4294967296, 2147483647), -2147483648) & ~~Math.max(Math.min(b[1] / 4294967296, 2147483647), -2147483648), lowBits_0(a) & lowBits_0(b));\n\t}\n\t\n\tfunction compare(a, b) {\n\t\tvar nega, negb;\n\t\tif (a[0] == b[0] && a[1] == b[1]) {\n\t\t\treturn 0;\n\t\t}\n\t\tnega = a[1] < 0;\n\t\tnegb = b[1] < 0;\n\t\tif (nega && !negb) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (!nega && negb) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (sub(a, b)[1] < 0) {\n\t\t\treturn -1;\n\t\t}\n\t\telse {\n\t\t\treturn 1;\n\t\t}\n\t}\n\t\n\tfunction create(valueLow, valueHigh) {\n\t\tvar diffHigh, diffLow;\n\t\tvalueHigh %= 1.8446744073709552E19;\n\t\tvalueLow %= 1.8446744073709552E19;\n\t\tdiffHigh = valueHigh % 4294967296;\n\t\tdiffLow = Math.floor(valueLow / 4294967296) * 4294967296;\n\t\tvalueHigh = valueHigh - diffHigh + diffLow;\n\t\tvalueLow = valueLow - diffLow + diffHigh;\n\t\twhile (valueLow < 0) {\n\t\t\tvalueLow += 4294967296;\n\t\t\tvalueHigh -= 4294967296;\n\t\t}\n\t\twhile (valueLow > 4294967295) {\n\t\t\tvalueLow -= 4294967296;\n\t\t\tvalueHigh += 4294967296;\n\t\t}\n\t\tvalueHigh = valueHigh % 1.8446744073709552E19;\n\t\twhile (valueHigh > 9223372032559808512) {\n\t\t\tvalueHigh -= 1.8446744073709552E19;\n\t\t}\n\t\twhile (valueHigh < -9223372036854775808) {\n\t\t\tvalueHigh += 1.8446744073709552E19;\n\t\t}\n\t\treturn [valueLow, valueHigh];\n\t}\n\t\n\tfunction div(a, b) {\n\t\tvar approx, deltaRem, deltaResult, halfa, rem, result;\n\t\tif (b[0] == 0 && b[1] == 0) {\n\t\t\tthrow $ArithmeticException(new ArithmeticException(), '/ by zero');\n\t\t}\n\t\tif (a[0] == 0 && a[1] == 0) {\n\t\t\treturn $clinit_10() , ZERO;\n\t\t}\n\t\tif (eq(a, ($clinit_10() , MIN_VALUE))) {\n\t\t\tif (eq(b, ONE) || eq(b, NEG_ONE)) {\n\t\t\t\treturn MIN_VALUE;\n\t\t\t}\n\t\t\thalfa = shr(a, 1);\n\t\t\tapprox = shl(div(halfa, b), 1);\n\t\t\trem = sub(a, mul(b, approx));\n\t\t\treturn add(approx, div(rem, b));\n\t\t}\n\t\tif (eq(b, MIN_VALUE)) {\n\t\t\treturn ZERO;\n\t\t}\n\t\tif (a[1] < 0) {\n\t\t\tif (b[1] < 0) {\n\t\t\t\treturn div(neg(a), neg(b));\n\t\t\t} else {\n\t\t\t\treturn neg(div(neg(a), b));\n\t\t\t}\n\t\t}\n\t\tif (b[1] < 0) {\n\t\t\treturn neg(div(a, neg(b)));\n\t\t}\n\t\tresult = ZERO;\n\t\trem = a;\n\t\twhile (compare(rem, b) >= 0) {\n\t\t\tdeltaResult = fromDouble(Math.floor(toDoubleRoundDown(rem) / toDoubleRoundUp(b)));\n\t\t\tif (deltaResult[0] == 0 && deltaResult[1] == 0) {\n\t\t\t\tdeltaResult = ONE;\n\t\t\t}\n\t\t\tdeltaRem = mul(deltaResult, b);\n\t\t\tresult = add(result, deltaResult);\n\t\t\trem = sub(rem, deltaRem);\n\t\t}\n\t\treturn result;\n\t}\n\t\n\tfunction eq(a, b) {\n\t\treturn a[0] == b[0] && a[1] == b[1];\n\t}\n\t\n\tfunction fromDouble(value) {\n\t\tif (isNaN(value)) {\n\t\t\treturn $clinit_10() , ZERO;\n\t\t}\n\t\tif (value < -9223372036854775808) {\n\t\t\treturn $clinit_10() , MIN_VALUE;\n\t\t}\n\t\tif (value >= 9223372036854775807) {\n\t\t\treturn $clinit_10() , MAX_VALUE;\n\t\t}\n\t\tif (value > 0) {\n\t\t\treturn create(Math.floor(value), 0);\n\t\t} else {\n\t\t\treturn create(Math.ceil(value), 0);\n\t\t}\n\t}\n\t\n\tfunction fromInt(value) {\n\t\tvar rebase, result;\n\t\tif (value > -129 && value < 128) {\n\t\t\trebase = value + 128;\n\t\t\tresult = ($clinit_9() , boxedValues)[rebase];\n\t\t\tif (result == null) {\n\t\t\t\tresult = boxedValues[rebase] = internalFromInt(value);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\treturn internalFromInt(value);\n\t}\n\t\n\tfunction internalFromInt(value) {\n\t\tif (value >= 0) {\n\t\t\treturn [value, 0];\n\t\t} else {\n\t\t\treturn [value + 4294967296, -4294967296];\n\t\t}\n\t}\n\t\n\tfunction lowBits_0(a) {\n\t\tif (a[0] >= 2147483648) {\n\t\t\treturn ~~Math.max(Math.min(a[0] - 4294967296, 2147483647), -2147483648);\n\t\t} else {\n\t\t\treturn ~~Math.max(Math.min(a[0], 2147483647), -2147483648);\n\t\t}\n\t}\n\t\n\tfunction makeFromBits(highBits, lowBits) {\n\t\tvar high, low;\n\t\thigh = highBits * 4294967296;\n\t\tlow = lowBits;\n\t\tif (lowBits < 0) {\n\t\t\tlow += 4294967296;\n\t\t}\n\t\treturn [low, high];\n\t}\n\t\n\tfunction mul(a, b) {\n\t\tvar a1, a2, a3, a4, b1, b2, b3, b4, res;\n\t\tif (a[0] == 0 && a[1] == 0) {\n\t\t\treturn $clinit_10() , ZERO;\n\t\t}\n\t\tif (b[0] == 0 && b[1] == 0) {\n\t\t\treturn $clinit_10() , ZERO;\n\t\t}\n\t\tif (eq(a, ($clinit_10() , MIN_VALUE))) {\n\t\t\treturn multByMinValue(b);\n\t\t}\n\t\tif (eq(b, MIN_VALUE)) {\n\t\t\treturn multByMinValue(a);\n\t\t}\n\t\tif (a[1] < 0) {\n\t\t\tif (b[1] < 0) {\n\t\t\t\treturn mul(neg(a), neg(b));\n\t\t\t} else {\n\t\t\t\treturn neg(mul(neg(a), b));\n\t\t\t}\n\t\t}\n\t\tif (b[1] < 0) {\n\t\t\treturn neg(mul(a, neg(b)));\n\t\t}\n\t\tif (compare(a, TWO_PWR_24) < 0 && compare(b, TWO_PWR_24) < 0) {\n\t\t\treturn create((a[1] + a[0]) * (b[1] + b[0]), 0);\n\t\t}\n\t\ta3 = a[1] % 281474976710656;\n\t\ta4 = a[1] - a3;\n\t\ta1 = a[0] % 65536;\n\t\ta2 = a[0] - a1;\n\t\tb3 = b[1] % 281474976710656;\n\t\tb4 = b[1] - b3;\n\t\tb1 = b[0] % 65536;\n\t\tb2 = b[0] - b1;\n\t\tres = ZERO;\n\t\tres = addTimes(res, a4, b1);\n\t\tres = addTimes(res, a3, b2);\n\t\tres = addTimes(res, a3, b1);\n\t\tres = addTimes(res, a2, b3);\n\t\tres = addTimes(res, a2, b2);\n\t\tres = addTimes(res, a2, b1);\n\t\tres = addTimes(res, a1, b4);\n\t\tres = addTimes(res, a1, b3);\n\t\tres = addTimes(res, a1, b2);\n\t\tres = addTimes(res, a1, b1);\n\t\treturn res;\n\t}\n\t\n\tfunction multByMinValue(a) {\n\t\tif ((lowBits_0(a) & 1) == 1) {\n\t\t\treturn $clinit_10() , MIN_VALUE;\n\t\t} else {\n\t\t\treturn $clinit_10() , ZERO;\n\t\t}\n\t}\n\t\n\tfunction neg(a) {\n\t\tvar newHigh, newLow;\n\t\tif (eq(a, ($clinit_10() , MIN_VALUE))) {\n\t\t\treturn MIN_VALUE;\n\t\t}\n\t\tnewHigh = -a[1];\n\t\tnewLow = -a[0];\n\t\tif (newLow > 4294967295) {\n\t\t\tnewLow -= 4294967296;\n\t\t\tnewHigh += 4294967296;\n\t\t}\n\t\tif (newLow < 0) {\n\t\t\tnewLow += 4294967296;\n\t\t\tnewHigh -= 4294967296;\n\t\t}\n\t\treturn [newLow, newHigh];\n\t}\n\t\n\tfunction pwrAsDouble(n) {\n\t\tif (n <= 30) {\n\t\t\treturn 1 << n;\n\t\t} else {\n\t\t\treturn pwrAsDouble(30) * pwrAsDouble(n - 30);\n\t\t}\n\t}\n\t\n\tfunction shl(a, n) {\n\t\tvar diff, newHigh, newLow, twoToN;\n\t\tn &= 63;\n\t\tif (eq(a, ($clinit_10() , MIN_VALUE))) {\n\t\t\tif (n == 0) {\n\t\t\t\treturn a;\n\t\t\t} else {\n\t\t\t\treturn ZERO;\n\t\t\t}\n\t\t}\n\t\tif (a[1] < 0) {\n\t\t\treturn neg(shl(neg(a), n));\n\t\t}\n\t\ttwoToN = pwrAsDouble(n);\n\t\tnewHigh = a[1] * twoToN % 1.8446744073709552E19;\n\t\tnewLow = a[0] * twoToN;\n\t\tdiff = newLow - newLow % 4294967296;\n\t\tnewHigh += diff;\n\t\tnewLow -= diff;\n\t\tif (newHigh >= 9223372036854775807) {\n\t\t\tnewHigh -= 1.8446744073709552E19;\n\t\t}\n\t\treturn [newLow, newHigh];\n\t}\n\t\n\tfunction shr(a, n) {\n\t\tvar newHigh, newLow, shiftFact;\n\t\tn &= 63;\n\t\tshiftFact = pwrAsDouble(n);\n\t\tnewHigh = a[1] / shiftFact;\n\t\tnewLow = Math.floor(a[0] / shiftFact);\n\t\treturn create(newLow, newHigh);\n\t}\n\t\n\tfunction shru(a, n) {\n\t\tvar sr;\n\t\tn &= 63;\n\t\tsr = shr(a, n);\n\t\tif (a[1] < 0) {\n\t\t\tsr = add(sr, shl(($clinit_10() , TWO), 63 - n));\n\t\t}\n\t\treturn sr;\n\t}\n\t\n\tfunction sub(a, b) {\n\t\tvar newHigh, newLow;\n\t\tnewHigh = a[1] - b[1];\n\t\tnewLow = a[0] - b[0];\n\t\treturn create(newLow, newHigh);\n\t}\n\t\n\tfunction toDoubleRoundDown(a) {\n\t\tvar diff, magnitute, toSubtract;\n\t\tmagnitute = round_int(Math.log(a[1]) / ($clinit_10() , LN_2));\n\t\tif (magnitute <= 48) {\n\t\t\treturn a[1] + a[0];\n\t\t} else {\n\t\t\tdiff = magnitute - 48;\n\t\t\ttoSubtract = (1 << diff) - 1;\n\t\t\treturn a[1] + (a[0] - toSubtract);\n\t\t}\n\t}\n\t\n\tfunction toDoubleRoundUp(a) {\n\t\tvar diff, magnitute, toAdd;\n\t\tmagnitute = round_int(Math.log(a[1]) / ($clinit_10() , LN_2));\n\t\tif (magnitute <= 48) {\n\t\t\treturn a[1] + a[0];\n\t\t} else {\n\t\t\tdiff = magnitute - 48;\n\t\t\ttoAdd = (1 << diff) - 1;\n\t\t\treturn a[1] + (a[0] + toAdd);\n\t\t}\n\t}\n\t\n\tfunction toString_0(a) {\n\t\tvar digits, rem, remDivTenPower, res, tenPowerLong, zeroesNeeded;\n\t\tif (a[0] == 0 && a[1] == 0) {\n\t\t\treturn '0';\n\t\t}\n\t\tif (eq(a, ($clinit_10() , MIN_VALUE))) {\n\t\t\treturn '-9223372036854775808';\n\t\t}\n\t\tif (a[1] < 0) {\n\t\t\treturn '-' + toString_0(neg(a));\n\t\t}\n\t\trem = a;\n\t\tres = '';\n\t\twhile (!(rem[0] == 0 && rem[1] == 0)) {\n\t\t\ttenPowerLong = fromInt(1000000000);\n\t\t\tremDivTenPower = div(rem, tenPowerLong);\n\t\t\tdigits = '' + lowBits_0(sub(rem, mul(remDivTenPower, tenPowerLong)));\n\t\t\trem = remDivTenPower;\n\t\t\tif (!(rem[0] == 0 && rem[1] == 0)) {\n\t\t\t\tzeroesNeeded = 9 - digits.length;\n\t\t\t\tfor (; zeroesNeeded > 0; --zeroesNeeded) {\n\t\t\t\t\tdigits = '0' + digits;\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = digits + res;\n\t\t}\n\t\treturn res;\n\t}\n\t\n\tfunction $clinit_9() {\n\t\t$clinit_9 = nullMethod;\n\t\tboxedValues = initDim(_3_3D_classLit, 0, 9, 256, 0);\n\t}\n\t\n\tvar boxedValues;\n\tfunction $clinit_10() {\n\t\t$clinit_10 = nullMethod;\n\t\tLN_2 = Math.log(2);\n\t\tMAX_VALUE = P7fffffffffffffff_longLit;\n\t\tMIN_VALUE = N8000000000000000_longLit;\n\t\tNEG_ONE = fromInt(-1);\n\t\tONE = fromInt(1);\n\t\tTWO = fromInt(2);\n\t\tTWO_PWR_24 = P1000000_longLit;\n\t\tZERO = fromInt(0);\n\t}\n\t\n\tvar LN_2, MAX_VALUE, MIN_VALUE, NEG_ONE, ONE, TWO, TWO_PWR_24, ZERO;\n\tfunction getClass_6() {\n\t\treturn Ljava_io_InputStream_2_classLit;\n\t}\n\t\n\tfunction InputStream() {\n\t}\n\t\n\t_ = InputStream.prototype = new Object_0();\n\t_.getClass$ = getClass_6;\n\t_.typeId$ = 0;\n\tfunction $ByteArrayInputStream(this$static, buf) {\n\t\t$ByteArrayInputStream_0(this$static, buf, 0, buf.length);\n\t\treturn this$static;\n\t}\n\t\n\tfunction $ByteArrayInputStream_0(this$static, buf, off, len) {\n\t\tthis$static.buf = buf;\n\t\tthis$static.pos = off;\n\t\tthis$static.count = off + len;\n\t\tif (this$static.count > buf.length)\n\t\t\tthis$static.count = buf.length;\n\t\treturn this$static;\n\t}\n\t\n\tfunction $read(this$static) {\n\t\tif (this$static.pos >= this$static.count)\n\t\t\treturn -1;\n\t\treturn this$static.buf[this$static.pos++] & 255;\n\t}\n\t\n\tfunction $read_0(this$static, buf, off, len) {\n\t\tif (this$static.pos >= this$static.count)\n\t\t\treturn -1;\n\t\tlen = min(len, this$static.count - this$static.pos);\n\t\tarraycopy(this$static.buf, this$static.pos, buf, off, len);\n\t\tthis$static.pos += len;\n\t\treturn len;\n\t}\n\t\n\tfunction getClass_3() {\n\t\treturn Ljava_io_ByteArrayInputStream_2_classLit;\n\t}\n\t\n\tfunction ByteArrayInputStream() {\n\t}\n\t\n\t_ = ByteArrayInputStream.prototype = new InputStream();\n\t_.getClass$ = getClass_3;\n\t_.typeId$ = 0;\n\t_.buf = null;\n\t_.count = 0;\n\t_.pos = 0;\n\tfunction getClass_7() {\n\t\treturn Ljava_io_OutputStream_2_classLit;\n\t}\n\t\n\tfunction OutputStream() {\n\t}\n\t\n\t_ = OutputStream.prototype = new Object_0();\n\t_.getClass$ = getClass_7;\n\t_.typeId$ = 0;\n\tfunction $ByteArrayOutputStream(this$static) {\n\t\tthis$static.buf = initDim(_3B_classLit, 0, -1, 32, 1);\n\t\treturn this$static;\n\t}\n\t\n\tfunction $ensureCapacity(this$static, len) {\n\t\tvar newbuf;\n\t\tif (len <= this$static.buf.length)\n\t\t\treturn;\n\t\tlen = max(len, this$static.buf.length * 2);\n\t\tnewbuf = initDim(_3B_classLit, 0, -1, len, 1);\n\t\tarraycopy(this$static.buf, 0, newbuf, 0, this$static.buf.length);\n\t\tthis$static.buf = newbuf;\n\t}\n\t\n\tfunction $toByteArray(this$static) {\n\t\tvar data;\n\t\tdata = initDim(_3B_classLit, 0, -1, this$static.count, 1);\n\t\tarraycopy(this$static.buf, 0, data, 0, this$static.count);\n\t\treturn data;\n\t}\n\t\n\tfunction $write(this$static, b) {\n\t\t$ensureCapacity(this$static, this$static.count + 1);\n\t\tthis$static.buf[this$static.count++] = b << 24 >> 24;\n\t}\n\t\n\tfunction $write_0(this$static, buf, off, len) {\n\t\t$ensureCapacity(this$static, this$static.count + len);\n\t\tarraycopy(buf, off, this$static.buf, this$static.count, len);\n\t\tthis$static.count += len;\n\t}\n\t\n\tfunction getClass_4() {\n\t\treturn Ljava_io_ByteArrayOutputStream_2_classLit;\n\t}\n\t\n\tfunction ByteArrayOutputStream() {\n\t}\n\t\n\t_ = ByteArrayOutputStream.prototype = new OutputStream();\n\t_.getClass$ = getClass_4;\n\t_.typeId$ = 0;\n\t_.buf = null;\n\t_.count = 0;\n\tfunction $IOException(this$static, message) {\n\t\tthis$static.detailMessage = message;\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_5() {\n\t\treturn Ljava_io_IOException_2_classLit;\n\t}\n\t\n\tfunction IOException() {\n\t}\n\t\n\t_ = IOException.prototype = new Exception();\n\t_.getClass$ = getClass_5;\n\t_.typeId$ = 7;\n\tfunction $ArithmeticException(this$static, explanation) {\n\t\tthis$static.detailMessage = explanation;\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_8() {\n\t\treturn Ljava_lang_ArithmeticException_2_classLit;\n\t}\n\t\n\tfunction ArithmeticException() {\n\t}\n\t\n\t_ = ArithmeticException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_8;\n\t_.typeId$ = 8;\n\tfunction $ArrayStoreException(this$static, message) {\n\t\tthis$static.detailMessage = message;\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_9() {\n\t\treturn Ljava_lang_ArrayStoreException_2_classLit;\n\t}\n\t\n\tfunction ArrayStoreException() {\n\t}\n\t\n\t_ = ArrayStoreException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_9;\n\t_.typeId$ = 9;\n\tfunction createForArray(packageName, className) {\n\t\tvar clazz;\n\t\tclazz = new Class();\n\t\tclazz.typeName = packageName + className;\n\t\treturn clazz;\n\t}\n\t\n\tfunction createForClass(packageName, className) {\n\t\tvar clazz;\n\t\tclazz = new Class();\n\t\tclazz.typeName = packageName + className;\n\t\treturn clazz;\n\t}\n\t\n\tfunction createForEnum(packageName, className) {\n\t\tvar clazz;\n\t\tclazz = new Class();\n\t\tclazz.typeName = packageName + className;\n\t\treturn clazz;\n\t}\n\t\n\tfunction getClass_11() {\n\t\treturn Ljava_lang_Class_2_classLit;\n\t}\n\t\n\tfunction Class() {\n\t}\n\t\n\t_ = Class.prototype = new Object_0();\n\t_.getClass$ = getClass_11;\n\t_.typeId$ = 0;\n\t_.typeName = null;\n\tfunction getClass_10() {\n\t\treturn Ljava_lang_ClassCastException_2_classLit;\n\t}\n\t\n\tfunction ClassCastException() {\n\t}\n\t\n\t_ = ClassCastException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_10;\n\t_.typeId$ = 12;\n\tfunction getClass_12() {\n\t\treturn Ljava_lang_Enum_2_classLit;\n\t}\n\t\n\tfunction Enum() {\n\t}\n\t\n\t_ = Enum.prototype = new Object_0();\n\t_.getClass$ = getClass_12;\n\t_.typeId$ = 0;\n\tfunction $IllegalArgumentException(this$static, message) {\n\t\tthis$static.detailMessage = message;\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_14() {\n\t\treturn Ljava_lang_IllegalArgumentException_2_classLit;\n\t}\n\t\n\tfunction IllegalArgumentException() {\n\t}\n\t\n\t_ = IllegalArgumentException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_14;\n\t_.typeId$ = 13;\n\tfunction getClass_15() {\n\t\treturn Ljava_lang_IllegalStateException_2_classLit;\n\t}\n\t\n\tfunction IllegalStateException() {\n\t}\n\t\n\t_ = IllegalStateException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_15;\n\t_.typeId$ = 14;\n\tfunction getClass_16() {\n\t\treturn Ljava_lang_IndexOutOfBoundsException_2_classLit;\n\t}\n\t\n\tfunction IndexOutOfBoundsException() {\n\t}\n\t\n\t_ = IndexOutOfBoundsException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_16;\n\t_.typeId$ = 15;\n\tfunction max(x, y) {\n\t\treturn x > y?x:y;\n\t}\n\t\n\tfunction min(x, y) {\n\t\treturn x < y?x:y;\n\t}\n\t\n\tfunction getClass_17() {\n\t\treturn Ljava_lang_NullPointerException_2_classLit;\n\t}\n\t\n\tfunction NullPointerException() {\n\t}\n\t\n\t_ = NullPointerException.prototype = new RuntimeException();\n\t_.getClass$ = getClass_17;\n\t_.typeId$ = 16;\n\tfunction $equals(this$static, other) {\n\t\tif (other == null) {\n\t\t\treturn false;\n\t\t}\n\t\treturn String(this$static) == other;\n\t}\n\t\n\tfunction $getChars(this$static, srcBegin, srcEnd, dst, dstBegin) {\n\t\tvar srcIdx;\n\t\tfor (srcIdx = srcBegin; srcIdx < srcEnd; ++srcIdx) {\n\t\t\tdst[dstBegin++] = this$static.charCodeAt(srcIdx);\n\t\t}\n\t}\n\t\n\tfunction getClass_21() {\n\t\treturn Ljava_lang_String_2_classLit;\n\t}\n\t\n\t_ = String.prototype;\n\t_.getClass$ = getClass_21;\n\t_.typeId$ = 2;\n\tfunction $StringBuilder(this$static) {\n\t\tvar array;\n\t\tthis$static.data = (array = [] , array.explicitLength = 0 , array);\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_20() {\n\t\treturn Ljava_lang_StringBuilder_2_classLit;\n\t}\n\t\n\tfunction StringBuilder() {\n\t}\n\t\n\t_ = StringBuilder.prototype = new Object_0();\n\t_.getClass$ = getClass_20;\n\t_.typeId$ = 0;\n\tfunction arraycopy(src, srcOfs, dest, destOfs, len) {\n\t\tvar destArray, destEnd, destTypeName, destlen, i, srcArray, srcTypeName, srclen;\n\t\t\n\t\tif (src == null || dest == null) {\n\t\t\tthrow new NullPointerException();\n\t\t}\n\t\t\n\t\tsrcTypeName  = (src.typeMarker$  == nullMethod || src.typeId$  == 2 ? src.getClass$()  : Lcom_google_gwt_core_client_JavaScriptObject_2_classLit).typeName;\n\t\tdestTypeName = (dest.typeMarker$ == nullMethod || dest.typeId$ == 2 ? dest.getClass$() : Lcom_google_gwt_core_client_JavaScriptObject_2_classLit).typeName;\n\t\t\n\t\tif (srcTypeName.charCodeAt(0) != 91 || destTypeName.charCodeAt(0) != 91) {\n\t\t\tthrow $ArrayStoreException(new ArrayStoreException(), 'Must be array types');\n\t\t}\n\t\tif (srcTypeName.charCodeAt(1) != destTypeName.charCodeAt(1)) {\n\t\t\tthrow $ArrayStoreException(new ArrayStoreException(), 'Array types must match');\n\t\t}\n\t\t\n\t\tsrclen  = src.length;\n\t\tdestlen = dest.length;\n\t\tif (srcOfs < 0 || destOfs < 0 || len < 0 || srcOfs + len > srclen || destOfs + len > destlen) {\n\t\t\tthrow new IndexOutOfBoundsException();\n\t\t}\n\t\tif ((srcTypeName.charCodeAt(1) == 76 || srcTypeName.charCodeAt(1) == 91) && !$equals(srcTypeName, destTypeName)) {\n\t\t\tsrcArray  = dynamicCast(src, 3);\n\t\t\tdestArray = dynamicCast(dest, 3);\n\t\t\tif ((src == null ? null : src) === (dest == null ? null : dest) && srcOfs < destOfs) {\n\t\t\t\tsrcOfs += len;\n\t\t\t\tfor (destEnd = destOfs + len; destEnd-- > destOfs;) {\n\t\t\t\t\tsetCheck(destArray, destEnd, srcArray[--srcOfs]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (destEnd = destOfs + len; destOfs < destEnd;) {\n\t\t\t\t\tsetCheck(destArray, destOfs++, srcArray[srcOfs++]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0; i < len; ++i) {\n\t\t\t\tdest[destOfs + i] = src[srcOfs + i]\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\tfunction $configure(this$static, encoder) {\n\tif (!$SetDictionarySize_0(encoder, 1 << this$static.dictionarySize))\n\t\tthrow $RuntimeException(new RuntimeException(), 'unexpected failure');\n\tif (!$SetNumFastBytes(encoder, this$static.fb))\n\t\tthrow $RuntimeException(new RuntimeException(), 'unexpected failure');\n\tif (!$SetMatchFinder(encoder, this$static.matchFinder))\n\t\tthrow $RuntimeException(new RuntimeException(), 'unexpected failure');\n\tif (!$SetLcLpPb_0(encoder, this$static.lc, this$static.lp, this$static.pb))\n\t\tthrow $RuntimeException(new RuntimeException(), 'unexpected failure');\n\t}\n\t\n\tfunction getClass_23() {\n\t\treturn Lorg_dellroad_lzma_client_CompressionMode_2_classLit;\n\t}\n\t\n\tfunction CompressionMode() {\n\t}\n\t\n\t_ = CompressionMode.prototype = new Enum();\n\t_.getClass$ = getClass_23;\n\t_.typeId$ = 0;\n\t_.dictionarySize = 0;\n\t_.fb = 0;\n\t_.lc = 0;\n\t_.lp = 0;\n\t_.matchFinder = 0;\n\t_.pb = 0;\n\t\n\tfunction $execute(this$static) {\n\t\tvar $e0;\n\t\ttry {\n\t\t\treturn $processChunk(this$static.chunker);\n\t\t}\n\t\tcatch ($e0) {\n\t\t\t$e0 = caught($e0);\n\t\t\tif (instanceOf($e0, 10)) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthrow $e0;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $init(this$static, input, output, length_0, mode) {\n\t\tvar encoder, i;\n\t\tif (!mode)\n\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'null mode');\n\t\tif (compare(length_0, N1_longLit) < 0)\n\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid length ' + toString_0(length_0));\n\t\tthis$static.length_0 = length_0;\n\t\tencoder = $Encoder(new Encoder());\n\t\t$configure(mode, encoder);\n\t\tencoder._writeEndMark = true;\n\t\t$WriteCoderProperties(encoder, output);\n\t\tfor (i = 0; i < 64; i += 8)\n\t\t\t$write(output, lowBits_0(shr(length_0, i)) & 255);\n\t\tthis$static.chunker = (encoder._needReleaseMFStream = false , (encoder._inStream = input , encoder._finished = false , $Create_2(encoder) , encoder._rangeEncoder.Stream = output , $Init_4(encoder) , $FillDistancesPrices(encoder) , $FillAlignPrices(encoder) , encoder._lenEncoder._tableSize = encoder._numFastBytes + 1 - 2 , $UpdateTables(encoder._lenEncoder, 1 << encoder._posStateBits) , encoder._repMatchLenEncoder._tableSize = encoder._numFastBytes + 1 - 2 , $UpdateTables(encoder._repMatchLenEncoder, 1 << encoder._posStateBits) , encoder.nowPos64 = P0_longLit , undefined) , $Chunker_0(new Chunker(), encoder));\n\t}\n\t\n\tfunction getClass_26() {\n\t\treturn Lorg_dellroad_lzma_client_LZMACompressor_2_classLit;\n\t}\n\t\n\tfunction LZMACompressor() {\n\t}\n\t\n\t_ = LZMACompressor.prototype = new Object_0();\n\t_.getClass$ = getClass_26;\n\t_.typeId$ = 0;\n\t_.chunker = null;\n\t\n\tfunction $LZMAByteArrayCompressor(this$static, data, mode) {\n\t\tvar $e0;\n\t\tthis$static.output = $ByteArrayOutputStream(new ByteArrayOutputStream());\n\t\ttry {\n\t\t\t$init(this$static, $ByteArrayInputStream(new ByteArrayInputStream(), data), this$static.output, fromInt(data.length), mode);\n\t\t} catch ($e0) {\n\t\t\t$e0 = caught($e0);\n\t\t\tif (instanceOf($e0, 10)) {\n\t\t\t\tthrow $RuntimeException(new RuntimeException(), 'impossible exception');\n\t\t\t} else {\n\t\t\t\tthrow $e0;\n\t\t\t}\n\t\t}\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_24() {\n\t\treturn Lorg_dellroad_lzma_client_LZMAByteArrayCompressor_2_classLit;\n\t}\n\t\n\tfunction LZMAByteArrayCompressor() {\n\t}\n\t\n\t_ = LZMAByteArrayCompressor.prototype = new LZMACompressor();\n\t_.getClass$ = getClass_24;\n\t_.typeId$ = 0;\n\t_.output = null;\n\tfunction $execute_0(this$static) {\n\t\tvar $e0, e;\n\t\ttry {\n\t\t\treturn $processChunk(this$static.chunker);\n\t\t}\n\t\tcatch ($e0) {\n\t\t\t$e0 = caught($e0);\n\t\t\tif (instanceOf($e0, 10)) {\n\t\t\t\te = $e0;\n\t\t\t\tthis$static.exception = e;\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthrow $e0;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $init_0(this$static, input, output) {\n\t\tvar decoder,\n\t\t\thex_length = \"\",\n\t\t\ti,\n\t\t\tproperties,\n\t\t\tr,\n\t\t\ttmp_length;\n\t\t\n\t\tproperties = initDim(_3B_classLit, 0, -1, 5, 1);\n\t\tfor (i = 0; i < properties.length; ++i) {\n\t\t\tr = $read(input);\n\t\t\tif (r == -1)\n\t\t\t\tthrow $IOException(new IOException(), 'truncated input');\n\t\t\tproperties[i] = r << 24 >> 24;\n\t\t}\n\t\tdecoder = $Decoder(new Decoder());\n\t\tif (!$SetDecoderProperties(decoder, properties))\n\t\t\tthrow $IOException(new IOException(), 'corrupted input');\n\t\t\n\t\tfor (i = 0; i < 64; i += 8) {\n\t\t\tr = $read(input);\n\t\t\tif (r == -1)\n\t\t\t\tthrow $IOException(new IOException(), 'truncated input');\n\t\t\tr = r.toString(16);\n\t\t\tif (r.length == 1) r = \"0\" + r;\n\t\t\thex_length = r + \"\" + hex_length;\n\t\t}\n\t\t\n\t\t/// Was the length set in the header (if it was compressed from a stream, the length is all f's).\n\t\tif (hex_length.toLowerCase() == \"ffffffffffffffffff\" || hex_length == 0) {\n\t\t\t/// The length is unknown, so set to -1.\n\t\t\tthis$static.length_0 = N1_longLit;\n\t\t} else {\n\t\t\t///NOTE: If there is a problem with the decoder because of the length, you can always set the length to -1 (N1_longLit) which means unknown.\n\t\t\ttmp_length = parseInt(hex_length, 16);\n\t\t\t/// If the length is too long to handle, just set it to unknown.\n\t\t\tif (tmp_length > 4294967295) {\n\t\t\t\tthis$static.length_0 = N1_longLit;\n\t\t\t} else {\n\t\t\t\tthis$static.length_0 = fromDouble(tmp_length);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis$static.chunker = $CodeInChunks(decoder, input, output, this$static.length_0);\n\t}\n\t\n\tfunction getClass_27() {\n\t\treturn Lorg_dellroad_lzma_client_LZMADecompressor_2_classLit;\n\t}\n\t\n\tfunction LZMADecompressor() {\n\t}\n\t\n\t_ = LZMADecompressor.prototype = new Object_0();\n\t_.getClass$ = getClass_27;\n\t_.typeId$ = 0;\n\t_.chunker = null;\n\t_.exception = null;\n\t_.length_0 = P0_longLit;\n\tfunction $LZMAByteArrayDecompressor(this$static, data) {\n\t\tthis$static.output = $ByteArrayOutputStream(new ByteArrayOutputStream());\n\t\t$init_0(this$static, $ByteArrayInputStream(new ByteArrayInputStream(), data), this$static.output);\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_25() {\n\t\treturn Lorg_dellroad_lzma_client_LZMAByteArrayDecompressor_2_classLit;\n\t}\n\t\n\tfunction LZMAByteArrayDecompressor() {\n\t}\n\t\n\t_ = LZMAByteArrayDecompressor.prototype = new LZMADecompressor();\n\t_.getClass$ = getClass_25;\n\t_.typeId$ = 0;\n\t_.output = null;\n\tfunction $Create_4(this$static, keepSizeBefore, keepSizeAfter, keepSizeReserv) {\n\t\tvar blockSize;\n\t\tthis$static._keepSizeBefore = keepSizeBefore;\n\t\tthis$static._keepSizeAfter = keepSizeAfter;\n\t\tblockSize = keepSizeBefore + keepSizeAfter + keepSizeReserv;\n\t\tif (this$static._bufferBase == null || this$static._blockSize != blockSize) {\n\t\t\tthis$static._bufferBase = null;\n\t\t\tthis$static._blockSize = blockSize;\n\t\t\tthis$static._bufferBase = initDim(_3B_classLit, 0, -1, this$static._blockSize, 1);\n\t\t}\n\t\tthis$static._pointerToLastSafePosition = this$static._blockSize - keepSizeAfter;\n\t}\n\t\n\tfunction $GetIndexByte(this$static, index) {\n\t\treturn this$static._bufferBase[this$static._bufferOffset + this$static._pos + index];\n\t}\n\t\n\tfunction $GetMatchLen(this$static, index, distance, limit) {\n\t\tvar i, pby;\n\t\tif (this$static._streamEndWasReached) {\n\t\t\tif (this$static._pos + index + limit > this$static._streamPos) {\n\t\t\t\tlimit = this$static._streamPos - (this$static._pos + index);\n\t\t\t}\n\t\t}\n\t\t++distance;\n\t\tpby = this$static._bufferOffset + this$static._pos + index;\n\t\tfor (i = 0; i < limit && this$static._bufferBase[pby + i] == this$static._bufferBase[pby + i - distance]; ++i) {\n\t\t}\n\t\treturn i;\n\t}\n\t\n\tfunction $GetNumAvailableBytes(this$static) {\n\t\treturn this$static._streamPos - this$static._pos;\n\t}\n\t\n\tfunction $MoveBlock(this$static) {\n\t\tvar i, numBytes, offset;\n\t\toffset = this$static._bufferOffset + this$static._pos - this$static._keepSizeBefore;\n\t\tif (offset > 0) {\n\t\t\t--offset;\n\t\t}\n\t\tnumBytes = this$static._bufferOffset + this$static._streamPos - offset;\n\t\tfor (i = 0; i < numBytes; ++i) {\n\t\t\tthis$static._bufferBase[i] = this$static._bufferBase[offset + i];\n\t\t}\n\t\tthis$static._bufferOffset -= offset;\n\t}\n\t\n\tfunction $MovePos_1(this$static) {\n\t\tvar pointerToPostion;\n\t\t++this$static._pos;\n\t\tif (this$static._pos > this$static._posLimit) {\n\t\t\tpointerToPostion = this$static._bufferOffset + this$static._pos;\n\t\t\tif (pointerToPostion > this$static._pointerToLastSafePosition) {\n\t\t\t\t$MoveBlock(this$static);\n\t\t\t}\n\t\t\t$ReadBlock(this$static);\n\t\t}\n\t}\n\t\n\tfunction $ReadBlock(this$static) {\n\t\tvar numReadBytes, pointerToPostion, size;\n\t\tif (this$static._streamEndWasReached)\n\t\t\treturn;\n\t\twhile (true) {\n\t\t\tsize = -this$static._bufferOffset + this$static._blockSize - this$static._streamPos;\n\t\t\tif (size == 0)\n\t\t\t\treturn;\n\t\t\tnumReadBytes = $read_0(this$static._stream, this$static._bufferBase, this$static._bufferOffset + this$static._streamPos, size);\n\t\t\tif (numReadBytes == -1) {\n\t\t\t\tthis$static._posLimit = this$static._streamPos;\n\t\t\t\tpointerToPostion = this$static._bufferOffset + this$static._posLimit;\n\t\t\t\tif (pointerToPostion > this$static._pointerToLastSafePosition) {\n\t\t\t\t\tthis$static._posLimit = this$static._pointerToLastSafePosition - this$static._bufferOffset;\n\t\t\t\t}\n\t\t\t\tthis$static._streamEndWasReached = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis$static._streamPos += numReadBytes;\n\t\t\tif (this$static._streamPos >= this$static._pos + this$static._keepSizeAfter) {\n\t\t\t\tthis$static._posLimit = this$static._streamPos - this$static._keepSizeAfter;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $ReduceOffsets(this$static, subValue) {\n\t\tthis$static._bufferOffset += subValue;\n\t\tthis$static._posLimit -= subValue;\n\t\tthis$static._pos -= subValue;\n\t\tthis$static._streamPos -= subValue;\n\t}\n\t\n\tfunction getClass_40() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_InWindow_2_classLit;\n\t}\n\t\n\tfunction InWindow() {\n\t}\n\t\n\t_ = InWindow.prototype = new Object_0();\n\t_.getClass$ = getClass_40;\n\t_.typeId$ = 0;\n\t_._blockSize = 0;\n\t_._bufferBase = null;\n\t_._bufferOffset = 0;\n\t_._keepSizeAfter = 0;\n\t_._keepSizeBefore = 0;\n\t_._pointerToLastSafePosition = 0;\n\t_._pos = 0;\n\t_._posLimit = 0;\n\t_._stream = null;\n\t_._streamEndWasReached = false;\n\t_._streamPos = 0;\n\tfunction $clinit_60() {\n\t\t$clinit_60 = nullMethod;\n\t\tvar i, j, r;\n\t\tCrcTable = initDim(_3I_classLit, 0, -1, 256, 1);\n\t\tfor (i = 0; i < 256; ++i) {\n\t\t\tr = i;\n\t\t\tfor (j = 0; j < 8; ++j)\n\t\t\tif ((r & 1) != 0) {\n\t\t\t\tr = r >>> 1 ^ -306674912;\n\t\t\t} else {\n\t\t\t\tr >>>= 1;\n\t\t\t}\n\t\t\tCrcTable[i] = r;\n\t\t}\n\t}\n\t\n\tfunction $Create_3(this$static, historySize, keepAddBufferBefore, matchMaxLen, keepAddBufferAfter) {\n\t\tvar cyclicBufferSize, hs, windowReservSize;\n\t\tif (historySize > 1073741567) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis$static._cutValue = 16 + (matchMaxLen >> 1);\n\t\twindowReservSize = ~~((historySize + keepAddBufferBefore + matchMaxLen + keepAddBufferAfter) / 2) + 256;\n\t\t$Create_4(this$static, historySize + keepAddBufferBefore, matchMaxLen + keepAddBufferAfter, windowReservSize);\n\t\tthis$static._matchMaxLen = matchMaxLen;\n\t\tcyclicBufferSize = historySize + 1;\n\t\tif (this$static._cyclicBufferSize != cyclicBufferSize) {\n\t\t\tthis$static._son = initDim(_3I_classLit, 0, -1, (this$static._cyclicBufferSize = cyclicBufferSize) * 2, 1);\n\t\t}\n\n\t\ths = 65536;\n\t\tif (this$static.HASH_ARRAY) {\n\t\t\ths = historySize - 1;\n\t\t\ths |= hs >> 1;\n\t\t\ths |= hs >> 2;\n\t\t\ths |= hs >> 4;\n\t\t\ths |= hs >> 8;\n\t\t\ths >>= 1;\n\t\t\ths |= 65535;\n\t\t\tif (hs > 16777216)\n\t\t\ths >>= 1;\n\t\t\tthis$static._hashMask = hs;\n\t\t\t++hs;\n\t\t\ths += this$static.kFixHashSize;\n\t\t}\n\n\t\tif (hs != this$static._hashSizeSum) {\n\t\t\tthis$static._hash = initDim(_3I_classLit, 0, -1, this$static._hashSizeSum = hs, 1);\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tfunction $GetMatches(this$static, distances) {\n\t\tvar count, cur, curMatch, curMatch2, curMatch3, cyclicPos, delta, hash2Value, hash3Value, hashValue, len, len0, len1, lenLimit, matchMinPos, maxLen, offset, pby1, ptr0, ptr1, temp;\n\t\tif (this$static._pos + this$static._matchMaxLen <= this$static._streamPos) {\n\t\t\tlenLimit = this$static._matchMaxLen;\n\t\t} else {\n\t\t\tlenLimit = this$static._streamPos - this$static._pos;\n\t\t\tif (lenLimit < this$static.kMinMatchCheck) {\n\t\t\t\t$MovePos_0(this$static);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\toffset = 0;\n\t\tmatchMinPos = this$static._pos > this$static._cyclicBufferSize?this$static._pos - this$static._cyclicBufferSize:0;\n\t\tcur = this$static._bufferOffset + this$static._pos;\n\t\tmaxLen = 1;\n\t\thash2Value = 0;\n\t\thash3Value = 0;\n\t\tif (this$static.HASH_ARRAY) {\n\t\t\ttemp = CrcTable[this$static._bufferBase[cur] & 255] ^ this$static._bufferBase[cur + 1] & 255;\n\t\t\thash2Value = temp & 1023;\n\t\t\ttemp ^= (this$static._bufferBase[cur + 2] & 255) << 8;\n\t\t\thash3Value = temp & 65535;\n\t\t\thashValue = (temp ^ CrcTable[this$static._bufferBase[cur + 3] & 255] << 5) & this$static._hashMask;\n\t\t} else {\n\t\t\thashValue = this$static._bufferBase[cur] & 255 ^ (this$static._bufferBase[cur + 1] & 255) << 8;\n\t\t}\n\n\t\tcurMatch = this$static._hash[this$static.kFixHashSize + hashValue];\n\t\tif (this$static.HASH_ARRAY) {\n\t\t\tcurMatch2 = this$static._hash[hash2Value];\n\t\t\tcurMatch3 = this$static._hash[1024 + hash3Value];\n\t\t\tthis$static._hash[hash2Value] = this$static._pos;\n\t\t\tthis$static._hash[1024 + hash3Value] = this$static._pos;\n\t\t\tif (curMatch2 > matchMinPos) {\n\t\t\t\tif (this$static._bufferBase[this$static._bufferOffset + curMatch2] == this$static._bufferBase[cur]) {\n\t\t\t\t\tdistances[offset++] = maxLen = 2;\n\t\t\t\t\tdistances[offset++] = this$static._pos - curMatch2 - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curMatch3 > matchMinPos) {\n\t\t\t\tif (this$static._bufferBase[this$static._bufferOffset + curMatch3] == this$static._bufferBase[cur]) {\n\t\t\t\t\tif (curMatch3 == curMatch2) {\n\t\t\t\t\t\toffset -= 2;\n\t\t\t\t\t}\n\t\t\t\t\tdistances[offset++] = maxLen = 3;\n\t\t\t\t\tdistances[offset++] = this$static._pos - curMatch3 - 1;\n\t\t\t\t\tcurMatch2 = curMatch3;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (offset != 0 && curMatch2 == curMatch) {\n\t\t\t\toffset -= 2;\n\t\t\t\tmaxLen = 1;\n\t\t\t}\n\t\t}\n\t\tthis$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos;\n\t\tptr0 = (this$static._cyclicBufferPos << 1) + 1;\n\t\tptr1 = this$static._cyclicBufferPos << 1;\n\t\tlen0 = len1 = this$static.kNumHashDirectBytes;\n\t\tif (this$static.kNumHashDirectBytes != 0) {\n\t\t\tif (curMatch > matchMinPos) {\n\t\t\t\tif (this$static._bufferBase[this$static._bufferOffset + curMatch + this$static.kNumHashDirectBytes] != this$static._bufferBase[cur + this$static.kNumHashDirectBytes]) {\n\t\t\t\t\tdistances[offset++] = maxLen = this$static.kNumHashDirectBytes;\n\t\t\t\t\tdistances[offset++] = this$static._pos - curMatch - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcount = this$static._cutValue;\n\t\twhile (true) {\n\t\t\tif (curMatch <= matchMinPos || count-- == 0) {\n\t\t\t\tthis$static._son[ptr0] = this$static._son[ptr1] = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdelta = this$static._pos - curMatch;\n\t\t\tcyclicPos = (delta <= this$static._cyclicBufferPos?this$static._cyclicBufferPos - delta:this$static._cyclicBufferPos - delta + this$static._cyclicBufferSize) << 1;\n\t\t\tpby1 = this$static._bufferOffset + curMatch;\n\t\t\tlen = len0 < len1?len0:len1;\n\t\t\tif (this$static._bufferBase[pby1 + len] == this$static._bufferBase[cur + len]) {\n\t\t\t\twhile (++len != lenLimit) {\n\t\t\t\t\tif (this$static._bufferBase[pby1 + len] != this$static._bufferBase[cur + len]) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (maxLen < len) {\n\t\t\t\t\tdistances[offset++] = maxLen = len;\n\t\t\t\t\tdistances[offset++] = delta - 1;\n\t\t\t\t\tif (len == lenLimit) {\n\t\t\t\t\tthis$static._son[ptr1] = this$static._son[cyclicPos];\n\t\t\t\t\tthis$static._son[ptr0] = this$static._son[cyclicPos + 1];\n\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((this$static._bufferBase[pby1 + len] & 255) < (this$static._bufferBase[cur + len] & 255)) {\n\t\t\t\tthis$static._son[ptr1] = curMatch;\n\t\t\t\tptr1 = cyclicPos + 1;\n\t\t\t\tcurMatch = this$static._son[ptr1];\n\t\t\t\tlen1 = len;\n\t\t\t} else {\n\t\t\t\tthis$static._son[ptr0] = curMatch;\n\t\t\t\tptr0 = cyclicPos;\n\t\t\t\tcurMatch = this$static._son[ptr0];\n\t\t\t\tlen0 = len;\n\t\t\t}\n\t\t}\n\t\t$MovePos_0(this$static);\n\t\treturn offset;\n\t}\n\t\n\tfunction $Init_5(this$static) {\n\t\tvar i;\n\t\tthis$static._bufferOffset = 0;\n\t\tthis$static._pos = 0;\n\t\tthis$static._streamPos = 0;\n\t\tthis$static._streamEndWasReached = false;\n\t\t$ReadBlock(this$static);\n\t\tfor (i = 0; i < this$static._hashSizeSum; ++i) {\n\t\t\tthis$static._hash[i] = 0;\n\t\t}\n\t\tthis$static._cyclicBufferPos = 0;\n\t\t$ReduceOffsets(this$static, -1);\n\t}\n\t\n\tfunction $MovePos_0(this$static) {\n\t\tvar subValue;\n\t\tif (++this$static._cyclicBufferPos >= this$static._cyclicBufferSize) {\n\t\t\tthis$static._cyclicBufferPos = 0;\n\t\t}\n\t\t$MovePos_1(this$static);\n\t\tif (this$static._pos == 1073741823) {\n\t\t\tsubValue = this$static._pos - this$static._cyclicBufferSize;\n\t\t\t$NormalizeLinks(this$static._son, this$static._cyclicBufferSize * 2, subValue);\n\t\t\t$NormalizeLinks(this$static._hash, this$static._hashSizeSum, subValue);\n\t\t\t$ReduceOffsets(this$static, subValue);\n\t\t}\n\t}\n\t\n\tfunction $NormalizeLinks(items, numItems, subValue) {\n\t\tvar i, value;\n\t\tfor (i = 0; i < numItems; ++i) {\n\t\t\tvalue = items[i];\n\t\t\tif (value <= subValue) {\n\t\t\t\tvalue = 0;\n\t\t\t} else {\n\t\t\t\tvalue -= subValue;\n\t\t\t}\n\t\t\titems[i] = value;\n\t\t}\n\t}\n\t\n\tfunction $SetType(this$static, numHashBytes) {\n\t\tthis$static.HASH_ARRAY = numHashBytes > 2;\n\t\tif (this$static.HASH_ARRAY) {\n\t\t\tthis$static.kNumHashDirectBytes = 0;\n\t\t\tthis$static.kMinMatchCheck = 4;\n\t\t\tthis$static.kFixHashSize = 66560;\n\t\t} else {\n\t\t\tthis$static.kNumHashDirectBytes = 2;\n\t\t\tthis$static.kMinMatchCheck = 3;\n\t\t\tthis$static.kFixHashSize = 0;\n\t\t}\n\t}\n\t\n\tfunction $Skip(this$static, num) {\n\t\tvar count, cur, curMatch, cyclicPos, delta, hash2Value, hash3Value, hashValue, len, len0, len1, lenLimit, matchMinPos, pby1, ptr0, ptr1, temp;\n\t\tdo {\n\t\t\tif (this$static._pos + this$static._matchMaxLen <= this$static._streamPos) {\n\t\t\t\tlenLimit = this$static._matchMaxLen;\n\t\t\t} else {\n\t\t\t\tlenLimit = this$static._streamPos - this$static._pos;\n\t\t\t\tif (lenLimit < this$static.kMinMatchCheck) {\n\t\t\t\t\t$MovePos_0(this$static);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmatchMinPos = this$static._pos > this$static._cyclicBufferSize?this$static._pos - this$static._cyclicBufferSize:0;\n\t\t\tcur = this$static._bufferOffset + this$static._pos;\n\t\t\tif (this$static.HASH_ARRAY) {\n\t\t\t\ttemp = CrcTable[this$static._bufferBase[cur] & 255] ^ this$static._bufferBase[cur + 1] & 255;\n\t\t\t\thash2Value = temp & 1023;\n\t\t\t\tthis$static._hash[hash2Value] = this$static._pos;\n\t\t\t\ttemp ^= (this$static._bufferBase[cur + 2] & 255) << 8;\n\t\t\t\thash3Value = temp & 65535;\n\t\t\t\tthis$static._hash[1024 + hash3Value] = this$static._pos;\n\t\t\t\thashValue = (temp ^ CrcTable[this$static._bufferBase[cur + 3] & 255] << 5) & this$static._hashMask;\n\t\t\t} else {\n\t\t\t\thashValue = this$static._bufferBase[cur] & 255 ^ (this$static._bufferBase[cur + 1] & 255) << 8;\n\t\t\t}\n\t\t\tcurMatch = this$static._hash[this$static.kFixHashSize + hashValue];\n\t\t\tthis$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos;\n\t\t\tptr0 = (this$static._cyclicBufferPos << 1) + 1;\n\t\t\tptr1 = this$static._cyclicBufferPos << 1;\n\t\t\tlen0 = len1 = this$static.kNumHashDirectBytes;\n\t\t\tcount = this$static._cutValue;\n\t\t\twhile (true) {\n\t\t\t\tif (curMatch <= matchMinPos || count-- == 0) {\n\t\t\t\t\tthis$static._son[ptr0] = this$static._son[ptr1] = 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelta = this$static._pos - curMatch;\n\t\t\t\tcyclicPos = (delta <= this$static._cyclicBufferPos?this$static._cyclicBufferPos - delta:this$static._cyclicBufferPos - delta + this$static._cyclicBufferSize) << 1;\n\t\t\t\tpby1 = this$static._bufferOffset + curMatch;\n\t\t\t\tlen = len0 < len1?len0:len1;\n\t\t\t\tif (this$static._bufferBase[pby1 + len] == this$static._bufferBase[cur + len]) {\n\t\t\t\t\twhile (++len != lenLimit) {\n\t\t\t\t\t\tif (this$static._bufferBase[pby1 + len] != this$static._bufferBase[cur + len]) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (len == lenLimit) {\n\t\t\t\t\t\tthis$static._son[ptr1] = this$static._son[cyclicPos];\n\t\t\t\t\t\tthis$static._son[ptr0] = this$static._son[cyclicPos + 1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ((this$static._bufferBase[pby1 + len] & 255) < (this$static._bufferBase[cur + len] & 255)) {\n\t\t\t\t\tthis$static._son[ptr1] = curMatch;\n\t\t\t\t\tptr1 = cyclicPos + 1;\n\t\t\t\t\tcurMatch = this$static._son[ptr1];\n\t\t\t\t\tlen1 = len;\n\t\t\t\t} else {\n\t\t\t\t\tthis$static._son[ptr0] = curMatch;\n\t\t\t\t\tptr0 = cyclicPos;\n\t\t\t\t\tcurMatch = this$static._son[ptr0];\n\t\t\t\t\tlen0 = len;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$MovePos_0(this$static);\n\t\t}\n\t\twhile (--num != 0);\n\t}\n\t\n\tfunction getClass_39() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_BinTree_2_classLit;\n\t}\n\t\n\tfunction BinTree() {\n\t}\n\t\n\t_ = BinTree.prototype = new InWindow();\n\t_.getClass$ = getClass_39;\n\t_.typeId$ = 0;\n\t_.HASH_ARRAY = true;\n\t_._cutValue = 255;\n\t_._cyclicBufferPos = 0;\n\t_._cyclicBufferSize = 0;\n\t_._hash = null;\n\t_._hashMask = 0;\n\t_._hashSizeSum = 0;\n\t_._matchMaxLen = 0;\n\t_._son = null;\n\t_.kFixHashSize = 66560;\n\t_.kMinMatchCheck = 4;\n\t_.kNumHashDirectBytes = 0;\n\tvar CrcTable;\n\tfunction $CopyBlock(this$static, distance, len) {\n\t\tvar pos;\n\t\tpos = this$static._pos - distance - 1;\n\t\tif (pos < 0) {\n\t\t\tpos += this$static._windowSize;\n\t\t}\n\t\tfor (; len != 0; --len) {\n\t\t\tif (pos >= this$static._windowSize) {\n\t\t\t\tpos = 0;\n\t\t\t}\n\t\t\tthis$static._buffer[this$static._pos++] = this$static._buffer[pos++];\n\t\t\tif (this$static._pos >= this$static._windowSize) {\n\t\t\t\t$Flush_0(this$static);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $Create_5(this$static, windowSize) {\n\t\tif (this$static._buffer == null || this$static._windowSize != windowSize) {\n\t\t\tthis$static._buffer = initDim(_3B_classLit, 0, -1, windowSize, 1);\n\t\t}\n\t\tthis$static._windowSize = windowSize;\n\t\tthis$static._pos = 0;\n\t\tthis$static._streamPos = 0;\n\t}\n\t\n\tfunction $Flush_0(this$static) {\n\t\tvar size;\n\t\tsize = this$static._pos - this$static._streamPos;\n\t\tif (size == 0) {\n\t\t\treturn;\n\t\t}\n\t\t$write_0(this$static._stream, this$static._buffer, this$static._streamPos, size);\n\t\tif (this$static._pos >= this$static._windowSize) {\n\t\t\tthis$static._pos = 0;\n\t\t}\n\t\tthis$static._streamPos = this$static._pos;\n\t}\n\t\n\tfunction $GetByte(this$static, distance) {\n\t\tvar pos;\n\t\tpos = this$static._pos - distance - 1;\n\t\tif (pos < 0) {\n\t\t\tpos += this$static._windowSize;\n\t\t}\n\t\treturn this$static._buffer[pos];\n\t}\n\t\n\tfunction $Init_7(this$static, solid) {\n\t\tif (!solid) {\n\t\t\tthis$static._streamPos = 0;\n\t\t\tthis$static._pos = 0;\n\t\t}\n\t}\n\t\n\tfunction $PutByte(this$static, b) {\n\t\tthis$static._buffer[this$static._pos++] = b;\n\t\tif (this$static._pos >= this$static._windowSize) {\n\t\t\t$Flush_0(this$static);\n\t\t}\n\t}\n\t\n\tfunction $ReleaseStream(this$static) {\n\t\t$Flush_0(this$static);\n\t\tthis$static._stream = null;\n\t}\n\t\n\tfunction $SetStream_0(this$static, stream) {\n\t\t$Flush_0(this$static);\n\t\tthis$static._stream = null;\n\t\tthis$static._stream = stream;\n\t}\n\t\n\tfunction getClass_41() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_OutWindow_2_classLit;\n\t}\n\t\n\tfunction OutWindow() {\n\t}\n\t\n\t_ = OutWindow.prototype = new Object_0();\n\t_.getClass$ = getClass_41;\n\t_.typeId$ = 0;\n\t_._buffer = null;\n\t_._pos = 0;\n\t_._stream = null;\n\t_._streamPos = 0;\n\t_._windowSize = 0;\n\tfunction GetLenToPosState(len) {\n\t\tlen -= 2;\n\t\tif (len < 4) {\n\t\t\treturn len;\n\t\t}\n\t\treturn 3;\n\t}\n\t\n\tfunction StateUpdateChar(index) {\n\t\tif (index < 4) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (index < 10) {\n\t\t\treturn index - 3;\n\t\t}\n\t\treturn index - 6;\n\t}\n\t\n\tfunction $Chunker_0(this$static, encoder) {\n\t\tthis$static.encoder = encoder;\n\t\tthis$static.decoder = null;\n\t\tthis$static.alive = true;\n\t\treturn this$static;\n\t}\n\t\n\tfunction $Chunker(this$static, decoder) {\n\t\tthis$static.decoder = decoder;\n\t\tthis$static.encoder = null;\n\t\tthis$static.alive = true;\n\t\treturn this$static;\n\t}\n\t\n\tfunction $processChunk(this$static) {\n\t\tvar exception;\n\t\tif (!this$static.alive) {\n\t\t\tthrow new IllegalStateException();\n\t\t}\n\t\texception = true;\n\t\ttry {\n\t\t\tif (this$static.encoder) {\n\t\t\t\t$processEncoderChunk(this$static);\n\t\t\t} else {\n\t\t\t\t$processDecoderChunk(this$static);\n\t\t\t}\n\t\t\texception = false;\n\t\t\treturn this$static.alive;\n\t\t} finally {\n\t\t\tif (exception) {\n\t\t\t\tthis$static.alive = false;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $processDecoderChunk(this$static) {\n\t\tvar result;\n\t\tresult = $CodeOneChunk(this$static.decoder);\n\t\tif (result == -1) {\n\t\t\tthrow $IOException(new IOException(), 'corrupted input');\n\t\t}\n\t\tthis$static.inBytesProcessed = N1_longLit;\n\t\tthis$static.outBytesProcessed = this$static.decoder.nowPos64;\n\t\tif (result == 1 || compare(this$static.decoder.outSize, P0_longLit) >= 0 && compare(this$static.decoder.nowPos64, this$static.decoder.outSize) >= 0) {\n\t\t\t$CodeFinish(this$static.decoder);\n\t\t\tthis$static.alive = false;\n\t\t}\n\t}\n\t\n\tfunction $processEncoderChunk(this$static) {\n\t\t$CodeOneBlock(this$static.encoder, this$static.encoder.processedInSize, this$static.encoder.processedOutSize, this$static.encoder.finished);\n\t\tthis$static.inBytesProcessed = this$static.encoder.processedInSize[0];\n\t\tif (this$static.encoder.finished[0]) {\n\t\t\t$ReleaseStreams(this$static.encoder);\n\t\t\tthis$static.alive = false;\n\t\t}\n\t}\n\t\n\tfunction getClass_28() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Chunker_2_classLit;\n\t}\n\t\n\tfunction Chunker() {\n\t}\n\t\n\t_ = Chunker.prototype = new Object_0();\n\t_.getClass$ = getClass_28;\n\t_.typeId$ = 0;\n\t_.alive = false;\n\t_.decoder = null;\n\t_.encoder = null;\n\tfunction $CodeFinish(this$static) {\n\t\t$Flush_0(this$static.m_OutWindow);\n\t\t$ReleaseStream(this$static.m_OutWindow);\n\t\tthis$static.m_RangeDecoder.Stream = null;\n\t}\n\t\n\tfunction $CodeInChunks(this$static, inStream, outStream, outSize) {\n\t\tthis$static.m_RangeDecoder.Stream = inStream;\n\t\t$SetStream_0(this$static.m_OutWindow, outStream);\n\t\t$Init_1(this$static);\n\t\tthis$static.state = 0;\n\t\tthis$static.rep0 = 0;\n\t\tthis$static.rep1 = 0;\n\t\tthis$static.rep2 = 0;\n\t\tthis$static.rep3 = 0;\n\t\tthis$static.outSize = outSize;\n\t\tthis$static.nowPos64 = P0_longLit;\n\t\tthis$static.prevByte = 0;\n\t\treturn $Chunker(new Chunker(), this$static);\n\t}\n\t\n\tfunction $CodeOneChunk(this$static) {\n\tvar decoder2, distance, len, numDirectBits, posSlot, posState;\n\tposState = lowBits_0(this$static.nowPos64) & this$static.m_PosStateMask;\n\tif ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsMatchDecoders, (this$static.state << 4) + posState) == 0) {\n\t\tdecoder2 = $GetDecoder(this$static.m_LiteralDecoder, lowBits_0(this$static.nowPos64), this$static.prevByte);\n\t\tif (this$static.state < 7) {\n\t\tthis$static.prevByte = $DecodeNormal(decoder2, this$static.m_RangeDecoder);\n\t\t}\n\t\telse {\n\t\tthis$static.prevByte = $DecodeWithMatchByte(decoder2, this$static.m_RangeDecoder, $GetByte(this$static.m_OutWindow, this$static.rep0));\n\t\t}\n\t\t$PutByte(this$static.m_OutWindow, this$static.prevByte);\n\t\tthis$static.state = StateUpdateChar(this$static.state);\n\t\tthis$static.nowPos64 = add(this$static.nowPos64, P1_longLit);\n\t} else {\n\t\tif ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepDecoders, this$static.state) == 1) {\n\t\t\tlen = 0;\n\t\t\tif ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepG0Decoders, this$static.state) == 0) {\n\t\t\t\tif ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRep0LongDecoders, (this$static.state << 4) + posState) == 0) {\n\t\t\t\t\tthis$static.state = this$static.state < 7?9:11;\n\t\t\t\t\tlen = 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepG1Decoders, this$static.state) == 0) {\n\t\t\t\t\tdistance = this$static.rep1;\n\t\t\t\t} else {\n\t\t\t\t\tif ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepG2Decoders, this$static.state) == 0) {\n\t\t\t\t\t\tdistance = this$static.rep2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdistance = this$static.rep3;\n\t\t\t\t\t\tthis$static.rep3 = this$static.rep2;\n\t\t\t\t\t}\n\t\t\t\t\tthis$static.rep2 = this$static.rep1;\n\t\t\t\t}\n\t\t\t\tthis$static.rep1 = this$static.rep0;\n\t\t\t\tthis$static.rep0 = distance;\n\t\t\t}\n\t\t\tif (len == 0) {\n\t\t\t\tlen = $Decode(this$static.m_RepLenDecoder, this$static.m_RangeDecoder, posState) + 2;\n\t\t\t\tthis$static.state = this$static.state < 7?8:11;\n\t\t\t}\n\t\t} else {\n\t\t\tthis$static.rep3 = this$static.rep2;\n\t\t\tthis$static.rep2 = this$static.rep1;\n\t\t\tthis$static.rep1 = this$static.rep0;\n\t\t\tlen = 2 + $Decode(this$static.m_LenDecoder, this$static.m_RangeDecoder, posState);\n\t\t\tthis$static.state = this$static.state < 7?7:10;\n\t\t\tposSlot = $Decode_0(this$static.m_PosSlotDecoder[GetLenToPosState(len)], this$static.m_RangeDecoder);\n\t\t\tif (posSlot >= 4) {\n\t\t\t\tnumDirectBits = (posSlot >> 1) - 1;\n\t\t\t\tthis$static.rep0 = (2 | posSlot & 1) << numDirectBits;\n\t\t\t\tif (posSlot < 14) {\n\t\t\t\t\tthis$static.rep0 += ReverseDecode(this$static.m_PosDecoders, this$static.rep0 - posSlot - 1, this$static.m_RangeDecoder, numDirectBits);\n\t\t\t\t} else {\n\t\t\t\t\tthis$static.rep0 += $DecodeDirectBits(this$static.m_RangeDecoder, numDirectBits - 4) << 4;\n\t\t\t\t\tthis$static.rep0 += $ReverseDecode(this$static.m_PosAlignDecoder, this$static.m_RangeDecoder);\n\t\t\t\t\tif (this$static.rep0 < 0) {\n\t\t\t\t\t\tif (this$static.rep0 == -1) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else \n\t\t\t\tthis$static.rep0 = posSlot;\n\t\t\t}\n\t\t\tif (compare(fromInt(this$static.rep0), this$static.nowPos64) >= 0 || this$static.rep0 >= this$static.m_DictionarySizeCheck) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\t$CopyBlock(this$static.m_OutWindow, this$static.rep0, len);\n\t\t\tthis$static.nowPos64 = add(this$static.nowPos64, fromInt(len));\n\t\t\tthis$static.prevByte = $GetByte(this$static.m_OutWindow, 0);\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tfunction $Decoder(this$static) {\n\t\tvar i;\n\t\tthis$static.m_OutWindow = new OutWindow();\n\t\tthis$static.m_RangeDecoder = new Decoder_0();\n\t\tthis$static.m_IsMatchDecoders = initDim(_3S_classLit, 0, -1, 192, 1);\n\t\tthis$static.m_IsRepDecoders = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static.m_IsRepG0Decoders = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static.m_IsRepG1Decoders = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static.m_IsRepG2Decoders = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static.m_IsRep0LongDecoders = initDim(_3S_classLit, 0, -1, 192, 1);\n\t\tthis$static.m_PosSlotDecoder = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit, 0, 7, 4, 0);\n\t\tthis$static.m_PosDecoders = initDim(_3S_classLit, 0, -1, 114, 1);\n\t\tthis$static.m_PosAlignDecoder = $BitTreeDecoder(new BitTreeDecoder(), 4);\n\t\tthis$static.m_LenDecoder = $Decoder$LenDecoder(new Decoder$LenDecoder());\n\t\tthis$static.m_RepLenDecoder = $Decoder$LenDecoder(new Decoder$LenDecoder());\n\t\tthis$static.m_LiteralDecoder = new Decoder$LiteralDecoder();\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tthis$static.m_PosSlotDecoder[i] = $BitTreeDecoder(new BitTreeDecoder(), 6);\n\t\t}\n\t\treturn this$static;\n\t}\n\t\n\tfunction $Init_1(this$static) {\n\t\tvar i;\n\t\t$Init_7(this$static.m_OutWindow, false);\n\t\tInitBitModels(this$static.m_IsMatchDecoders);\n\t\tInitBitModels(this$static.m_IsRep0LongDecoders);\n\t\tInitBitModels(this$static.m_IsRepDecoders);\n\t\tInitBitModels(this$static.m_IsRepG0Decoders);\n\t\tInitBitModels(this$static.m_IsRepG1Decoders);\n\t\tInitBitModels(this$static.m_IsRepG2Decoders);\n\t\tInitBitModels(this$static.m_PosDecoders);\n\t\t$Init_0(this$static.m_LiteralDecoder);\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tInitBitModels(this$static.m_PosSlotDecoder[i].Models);\n\t\t}\n\t\t$Init(this$static.m_LenDecoder);\n\t\t$Init(this$static.m_RepLenDecoder);\n\t\tInitBitModels(this$static.m_PosAlignDecoder.Models);\n\t\t$Init_8(this$static.m_RangeDecoder);\n\t}\n\t\n\tfunction $SetDecoderProperties(this$static, properties) {\n\t\tvar dictionarySize, i, lc, lp, pb, remainder, val;\n\t\tif (properties.length < 5)\n\t\t\treturn false;\n\t\tval = properties[0] & 255;\n\t\tlc = val % 9;\n\t\tremainder = ~~(val / 9);\n\t\tlp = remainder % 5;\n\t\tpb = ~~(remainder / 5);\n\t\tdictionarySize = 0;\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tdictionarySize += (properties[1 + i] & 255) << i * 8;\n\t\t}\n\t\tif (!$SetLcLpPb(this$static, lc, lp, pb)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn $SetDictionarySize(this$static, dictionarySize);\n\t}\n\t\n\tfunction $SetDictionarySize(this$static, dictionarySize) {\n\t\tif (dictionarySize < 0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this$static.m_DictionarySize != dictionarySize) {\n\t\t\tthis$static.m_DictionarySize = dictionarySize;\n\t\t\tthis$static.m_DictionarySizeCheck = max(this$static.m_DictionarySize, 1);\n\t\t\t$Create_5(this$static.m_OutWindow, max(this$static.m_DictionarySizeCheck, 4096));\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tfunction $SetLcLpPb(this$static, lc, lp, pb) {\n\t\tvar numPosStates;\n\t\tif (lc > 8 || lp > 4 || pb > 4) {\n\t\t\treturn false;\n\t\t}\n\t\t$Create_0(this$static.m_LiteralDecoder, lp, lc);\n\t\tnumPosStates = 1 << pb;\n\t\t$Create(this$static.m_LenDecoder, numPosStates);\n\t\t$Create(this$static.m_RepLenDecoder, numPosStates);\n\t\tthis$static.m_PosStateMask = numPosStates - 1;\n\t\treturn true;\n\t}\n\t\n\tfunction getClass_32() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder_2_classLit;\n\t}\n\t\n\tfunction Decoder() {\n\t}\n\t\n\t_ = Decoder.prototype = new Object_0();\n\t_.getClass$ = getClass_32;\n\t_.typeId$ = 0;\n\t_.m_DictionarySize = -1;\n\t_.m_DictionarySizeCheck = -1;\n\t_.m_PosStateMask = 0;\n\t_.nowPos64 = P0_longLit;\n\t_.outSize = P0_longLit;\n\t_.prevByte = 0;\n\t_.rep0 = 0;\n\t_.rep1 = 0;\n\t_.rep2 = 0;\n\t_.rep3 = 0;\n\t_.state = 0;\n\tfunction $Create(this$static, numPosStates) {\n\t\tfor (; this$static.m_NumPosStates < numPosStates; ++this$static.m_NumPosStates) {\n\t\t\tthis$static.m_LowCoder[this$static.m_NumPosStates] = $BitTreeDecoder(new BitTreeDecoder(), 3);\n\t\t\tthis$static.m_MidCoder[this$static.m_NumPosStates] = $BitTreeDecoder(new BitTreeDecoder(), 3);\n\t\t}\n\t}\n\t\n\tfunction $Decode(this$static, rangeDecoder, posState) {\n\t\tvar symbol;\n\t\tif ($DecodeBit(rangeDecoder, this$static.m_Choice, 0) == 0) {\n\t\t\treturn $Decode_0(this$static.m_LowCoder[posState], rangeDecoder);\n\t\t}\n\t\tsymbol = 8;\n\t\tif ($DecodeBit(rangeDecoder, this$static.m_Choice, 1) == 0) {\n\t\t\tsymbol += $Decode_0(this$static.m_MidCoder[posState], rangeDecoder);\n\t\t} else {\n\t\t\tsymbol += 8 + $Decode_0(this$static.m_HighCoder, rangeDecoder);\n\t\t}\n\t\treturn symbol;\n\t}\n\t\n\tfunction $Decoder$LenDecoder(this$static) {\n\t\tthis$static.m_Choice = initDim(_3S_classLit, 0, -1, 2, 1);\n\t\tthis$static.m_LowCoder = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit, 0, 7, 16, 0);\n\t\tthis$static.m_MidCoder = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit, 0, 7, 16, 0);\n\t\tthis$static.m_HighCoder = $BitTreeDecoder(new BitTreeDecoder(), 8);\n\t\treturn this$static;\n\t}\n\t\n\tfunction $Init(this$static) {\n\t\tvar posState;\n\t\tInitBitModels(this$static.m_Choice);\n\t\tfor (posState = 0; posState < this$static.m_NumPosStates; ++posState) {\n\t\t\tInitBitModels(this$static.m_LowCoder[posState].Models);\n\t\t\tInitBitModels(this$static.m_MidCoder[posState].Models);\n\t\t}\n\t\tInitBitModels(this$static.m_HighCoder.Models);\n\t}\n\t\n\tfunction getClass_29() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LenDecoder_2_classLit;\n\t}\n\t\n\tfunction Decoder$LenDecoder() {\n\t}\n\t\n\t_ = Decoder$LenDecoder.prototype = new Object_0();\n\t_.getClass$ = getClass_29;\n\t_.typeId$ = 0;\n\t_.m_NumPosStates = 0;\n\tfunction $Create_0(this$static, numPosBits, numPrevBits) {\n\tvar i, numStates;\n\tif (this$static.m_Coders != null && this$static.m_NumPrevBits == numPrevBits && this$static.m_NumPosBits == numPosBits)\n\t\treturn;\n\tthis$static.m_NumPosBits = numPosBits;\n\tthis$static.m_PosMask = (1 << numPosBits) - 1;\n\tthis$static.m_NumPrevBits = numPrevBits;\n\tnumStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;\n\tthis$static.m_Coders = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit, 0, 4, numStates, 0);\n\tfor (i = 0; i < numStates; ++i)\n\t\tthis$static.m_Coders[i] = $Decoder$LiteralDecoder$Decoder2(new Decoder$LiteralDecoder$Decoder2());\n\t}\n\t\n\tfunction $GetDecoder(this$static, pos, prevByte) {\n\t\treturn this$static.m_Coders[((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) + ((prevByte & 255) >>> 8 - this$static.m_NumPrevBits)];\n\t}\n\t\n\tfunction $Init_0(this$static) {\n\t\tvar i, numStates;\n\t\tnumStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;\n\t\tfor (i = 0; i < numStates; ++i) {\n\t\t\tInitBitModels(this$static.m_Coders[i].m_Decoders);\n\t\t}\n\t}\n\t\n\tfunction getClass_31() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder_2_classLit;\n\t}\n\t\n\tfunction Decoder$LiteralDecoder() {\n\t}\n\t\n\t_ = Decoder$LiteralDecoder.prototype = new Object_0();\n\t_.getClass$ = getClass_31;\n\t_.typeId$ = 0;\n\t_.m_Coders = null;\n\t_.m_NumPosBits = 0;\n\t_.m_NumPrevBits = 0;\n\t_.m_PosMask = 0;\n\tfunction $DecodeNormal(this$static, rangeDecoder) {\n\t\tvar symbol;\n\t\tsymbol = 1;\n\t\tdo {\n\t\t\tsymbol = symbol << 1 | $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol);\n\t\t} while (symbol < 256);\n\t\treturn symbol << 24 >> 24;\n\t}\n\t\n\tfunction $DecodeWithMatchByte(this$static, rangeDecoder, matchByte) {\n\t\tvar bit, matchBit, symbol;\n\t\tsymbol = 1;\n\t\tdo {\n\t\t\tmatchBit = matchByte >> 7 & 1;\n\t\t\tmatchByte <<= 1;\n\t\t\tbit = $DecodeBit(rangeDecoder, this$static.m_Decoders, (1 + matchBit << 8) + symbol);\n\t\t\tsymbol = symbol << 1 | bit;\n\t\t\tif (matchBit != bit) {\n\t\t\t\twhile (symbol < 256) {\n\t\t\t\t\tsymbol = symbol << 1 | $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol);\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\t}\n\t\t} while (symbol < 256);\n\t\treturn symbol << 24 >> 24;\n\t}\n\t\n\tfunction $Decoder$LiteralDecoder$Decoder2(this$static) {\n\t\tthis$static.m_Decoders = initDim(_3S_classLit, 0, -1, 768, 1);\n\t\treturn this$static;\n\t}\n\t\n\tfunction getClass_30() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit;\n\t}\n\t\n\tfunction Decoder$LiteralDecoder$Decoder2() {\n\t}\n\t\n\t_ = Decoder$LiteralDecoder$Decoder2.prototype = new Object_0();\n\t_.getClass$ = getClass_30;\n\t_.typeId$ = 17;\n\tfunction $clinit_59() {\n\t\t$clinit_59 = nullMethod;\n\t\tvar c, j, k, slotFast;\n\t\tg_FastPos = initDim(_3B_classLit, 0, -1, 2048, 1);\n\t\tc = 2;\n\t\tg_FastPos[0] = 0;\n\t\tg_FastPos[1] = 1;\n\t\tfor (slotFast = 2; slotFast < 22; ++slotFast) {\n\t\t\tk = 1 << (slotFast >> 1) - 1;\n\t\t\tfor (j = 0; j < k; ++j , ++c)\n\t\t\tg_FastPos[c] = slotFast << 24 >> 24;\n\t\t}\n\t}\n\t\n\tfunction $Backward(this$static, cur) {\n\t\tvar backCur, backMem, posMem, posPrev;\n\t\tthis$static._optimumEndIndex = cur;\n\t\tposMem = this$static._optimum[cur].PosPrev;\n\t\tbackMem = this$static._optimum[cur].BackPrev;\n\t\tdo {\n\t\t\tif (this$static._optimum[cur].Prev1IsChar) {\n\t\t\t\t$MakeAsChar(this$static._optimum[posMem]);\n\t\t\t\tthis$static._optimum[posMem].PosPrev = posMem - 1;\n\t\t\t\tif (this$static._optimum[cur].Prev2) {\n\t\t\t\t\tthis$static._optimum[posMem - 1].Prev1IsChar = false;\n\t\t\t\t\tthis$static._optimum[posMem - 1].PosPrev = this$static._optimum[cur].PosPrev2;\n\t\t\t\t\tthis$static._optimum[posMem - 1].BackPrev = this$static._optimum[cur].BackPrev2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tposPrev = posMem;\n\t\t\tbackCur = backMem;\n\t\t\tbackMem = this$static._optimum[posPrev].BackPrev;\n\t\t\tposMem = this$static._optimum[posPrev].PosPrev;\n\t\t\tthis$static._optimum[posPrev].BackPrev = backCur;\n\t\t\tthis$static._optimum[posPrev].PosPrev = cur;\n\t\t\tcur = posPrev;\n\t\t} while (cur > 0);\n\t\tthis$static.backRes = this$static._optimum[0].BackPrev;\n\t\tthis$static._optimumCurrentIndex = this$static._optimum[0].PosPrev;\n\t\treturn this$static._optimumCurrentIndex;\n\t}\n\t\n\tfunction $BaseInit(this$static) {\n\t\tvar i;\n\t\tthis$static._state = 0;\n\t\tthis$static._previousByte = 0;\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tthis$static._repDistances[i] = 0;\n\t\t}\n\t}\n\t\n\tfunction $CodeOneBlock(this$static, inSize, outSize, finished) {\n\t\tvar baseVal, complexState, curByte, distance, footerBits, i, len, lenToPosState, matchByte, pos, posReduced, posSlot, posState, progressPosValuePrev, subCoder;\n\t\tinSize[0] = P0_longLit;\n\t\toutSize[0] = P0_longLit;\n\t\tfinished[0] = true;\n\t\tif (this$static._inStream) {\n\t\t\tthis$static._matchFinder._stream = this$static._inStream;\n\t\t\t$Init_5(this$static._matchFinder);\n\t\t\tthis$static._needReleaseMFStream = true;\n\t\t\tthis$static._inStream = null;\n\t\t}\n\t\tif (this$static._finished) {\n\t\t\treturn;\n\t\t}\n\t\tthis$static._finished = true;\n\t\tprogressPosValuePrev = this$static.nowPos64;\n\t\tif (eq(this$static.nowPos64, P0_longLit)) {\n\t\t\tif ($GetNumAvailableBytes(this$static._matchFinder) == 0) {\n\t\t\t\t$Flush(this$static, lowBits_0(this$static.nowPos64));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$ReadMatchDistances(this$static);\n\t\t\tposState = lowBits_0(this$static.nowPos64) & this$static._posStateMask;\n\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isMatch, (this$static._state << 4) + posState, 0);\n\t\t\tthis$static._state = StateUpdateChar(this$static._state);\n\t\t\tcurByte = $GetIndexByte(this$static._matchFinder, -this$static._additionalOffset);\n\t\t\t$Encode_1($GetSubCoder(this$static._literalEncoder, lowBits_0(this$static.nowPos64), this$static._previousByte), this$static._rangeEncoder, curByte);\n\t\t\tthis$static._previousByte = curByte;\n\t\t\t--this$static._additionalOffset;\n\t\t\tthis$static.nowPos64 = add(this$static.nowPos64, P1_longLit);\n\t\t}\n\t\tif ($GetNumAvailableBytes(this$static._matchFinder) == 0) {\n\t\t\t$Flush(this$static, lowBits_0(this$static.nowPos64));\n\t\t\treturn;\n\t\t}\n\t\twhile (true) {\n\t\t\tlen = $GetOptimum(this$static, lowBits_0(this$static.nowPos64));\n\t\t\tpos = this$static.backRes;\n\t\t\tposState = lowBits_0(this$static.nowPos64) & this$static._posStateMask;\n\t\t\tcomplexState = (this$static._state << 4) + posState;\n\t\t\tif (len == 1 && pos == -1) {\n\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isMatch, complexState, 0);\n\t\t\t\tcurByte = $GetIndexByte(this$static._matchFinder, -this$static._additionalOffset);\n\t\t\t\tsubCoder = $GetSubCoder(this$static._literalEncoder, lowBits_0(this$static.nowPos64), this$static._previousByte);\n\t\t\t\tif (this$static._state < 7) {\n\t\t\t\t\t$Encode_1(subCoder, this$static._rangeEncoder, curByte);\n\t\t\t\t} else {\n\t\t\t\t\tmatchByte = $GetIndexByte(this$static._matchFinder, -this$static._repDistances[0] - 1 - this$static._additionalOffset);\n\t\t\t\t\t$EncodeMatched(subCoder, this$static._rangeEncoder, matchByte, curByte);\n\t\t\t\t}\n\t\t\t\tthis$static._previousByte = curByte;\n\t\t\t\tthis$static._state = StateUpdateChar(this$static._state);\n\t\t\t} else {\n\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isMatch, complexState, 1);\n\t\t\t\tif (pos < 4) {\n\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRep, this$static._state, 1);\n\t\t\t\t\tif (pos == 0) {\n\t\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRepG0, this$static._state, 0);\n\t\t\t\t\t\tif (len == 1) {\n\t\t\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRep0Long, complexState, 0);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRep0Long, complexState, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRepG0, this$static._state, 1);\n\t\t\t\t\t\tif (pos == 1) {\n\t\t\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRepG1, this$static._state, 0);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRepG1, this$static._state, 1);\n\t\t\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRepG2, this$static._state, pos - 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (len == 1) {\n\t\t\t\t\t\tthis$static._state = this$static._state < 7?9:11;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$Encode_0(this$static._repMatchLenEncoder, this$static._rangeEncoder, len - 2, posState);\n\t\t\t\t\t\tthis$static._state = this$static._state < 7?8:11;\n\t\t\t\t\t}\n\t\t\t\t\tdistance = this$static._repDistances[pos];\n\t\t\t\t\tif (pos != 0) {\n\t\t\t\t\t\tfor (i = pos; i >= 1; --i) {\n\t\t\t\t\t\t\tthis$static._repDistances[i] = this$static._repDistances[i - 1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis$static._repDistances[0] = distance;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$Encode_3(this$static._rangeEncoder, this$static._isRep, this$static._state, 0);\n\t\t\t\t\tthis$static._state = this$static._state < 7?7:10;\n\t\t\t\t\t$Encode_0(this$static._lenEncoder, this$static._rangeEncoder, len - 2, posState);\n\t\t\t\t\tpos -= 4;\n\t\t\t\t\tposSlot = GetPosSlot(pos);\n\t\t\t\t\tlenToPosState = GetLenToPosState(len);\n\t\t\t\t\t$Encode_2(this$static._posSlotEncoder[lenToPosState], this$static._rangeEncoder, posSlot);\n\t\t\t\t\tif (posSlot >= 4) {\n\t\t\t\t\t\tfooterBits = (posSlot >> 1) - 1;\n\t\t\t\t\t\tbaseVal = (2 | posSlot & 1) << footerBits;\n\t\t\t\t\t\tposReduced = pos - baseVal;\n\t\t\t\t\t\tif (posSlot < 14) {\n\t\t\t\t\t\t\tReverseEncode(this$static._posEncoders, baseVal - posSlot - 1, this$static._rangeEncoder, footerBits, posReduced);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$EncodeDirectBits(this$static._rangeEncoder, posReduced >> 4, footerBits - 4);\n\t\t\t\t\t\t\t$ReverseEncode(this$static._posAlignEncoder, this$static._rangeEncoder, posReduced & 15);\n\t\t\t\t\t\t\t++this$static._alignPriceCount;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdistance = pos;\n\t\t\t\t\tfor (i = 3; i >= 1; --i) {\n\t\t\t\t\t\tthis$static._repDistances[i] = this$static._repDistances[i - 1];\n\t\t\t\t\t}\n\t\t\t\t\tthis$static._repDistances[0] = distance;\n\t\t\t\t\t++this$static._matchPriceCount;\n\t\t\t\t}\n\t\t\t\tthis$static._previousByte = $GetIndexByte(this$static._matchFinder, len - 1 - this$static._additionalOffset);\n\t\t\t}\n\t\t\tthis$static._additionalOffset -= len;\n\t\t\tthis$static.nowPos64 = add(this$static.nowPos64, fromInt(len));\n\t\t\tif (this$static._additionalOffset == 0) {\n\t\t\t\tif (this$static._matchPriceCount >= 128) {\n\t\t\t\t\t$FillDistancesPrices(this$static);\n\t\t\t\t}\n\t\t\t\tif (this$static._alignPriceCount >= 16) {\n\t\t\t\t\t$FillAlignPrices(this$static);\n\t\t\t\t}\n\t\t\t\tinSize[0] = this$static.nowPos64;\n\t\t\t\toutSize[0] = $GetProcessedSizeAdd(this$static._rangeEncoder);\n\t\t\t\tif ($GetNumAvailableBytes(this$static._matchFinder) == 0) {\n\t\t\t\t\t$Flush(this$static, lowBits_0(this$static.nowPos64));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (compare(sub(this$static.nowPos64, progressPosValuePrev), P1000_longLit) >= 0) {\n\t\t\t\t\tthis$static._finished = false;\n\t\t\t\t\tfinished[0] = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $Create_2(this$static) {\n\t\tvar bt, numHashBytes;\n\t\tif (!this$static._matchFinder) {\n\t\t\tbt = ($clinit_60() , new BinTree());\n\t\t\tnumHashBytes = 4;\n\t\t\tif (this$static._matchFinderType == 0) {\n\t\t\t\tnumHashBytes = 2;\n\t\t\t}\n\t\t\t$SetType(bt, numHashBytes);\n\t\t\tthis$static._matchFinder = bt;\n\t\t}\n\t\t$Create_1(this$static._literalEncoder, this$static._numLiteralPosStateBits, this$static._numLiteralContextBits);\n\t\tif (this$static._dictionarySize == this$static._dictionarySizePrev && this$static._numFastBytesPrev == this$static._numFastBytes) {\n\t\t\treturn;\n\t\t}\n\t\t$Create_3(this$static._matchFinder, this$static._dictionarySize, 4096, this$static._numFastBytes, 274);\n\t\tthis$static._dictionarySizePrev = this$static._dictionarySize;\n\t\tthis$static._numFastBytesPrev = this$static._numFastBytes;\n\t}\n\t\n\tfunction $Encoder(this$static) {\n\t\tvar i;\n\t\t$clinit_59();\n\t\tthis$static._repDistances = initDim(_3I_classLit, 0, -1, 4, 1);\n\t\tthis$static._optimum = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit, 0, 6, 4096, 0);\n\t\tthis$static._rangeEncoder = ($clinit_66() , new Encoder_0());\n\t\tthis$static._isMatch = initDim(_3S_classLit, 0, -1, 192, 1);\n\t\tthis$static._isRep = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static._isRepG0 = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static._isRepG1 = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static._isRepG2 = initDim(_3S_classLit, 0, -1, 12, 1);\n\t\tthis$static._isRep0Long = initDim(_3S_classLit, 0, -1, 192, 1);\n\t\tthis$static._posSlotEncoder = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit, 0, 8, 4, 0);\n\t\tthis$static._posEncoders = initDim(_3S_classLit, 0, -1, 114, 1);\n\t\tthis$static._posAlignEncoder = $BitTreeEncoder(new BitTreeEncoder(), 4);\n\t\tthis$static._lenEncoder = $Encoder$LenPriceTableEncoder(new Encoder$LenPriceTableEncoder());\n\t\tthis$static._repMatchLenEncoder = $Encoder$LenPriceTableEncoder(new Encoder$LenPriceTableEncoder());\n\t\tthis$static._literalEncoder = new Encoder$LiteralEncoder();\n\t\tthis$static._matchDistances = initDim(_3I_classLit, 0, -1, 548, 1);\n\t\tthis$static._posSlotPrices = initDim(_3I_classLit, 0, -1, 256, 1);\n\t\tthis$static._distancesPrices = initDim(_3I_classLit, 0, -1, 512, 1);\n\t\tthis$static._alignPrices = initDim(_3I_classLit, 0, -1, 16, 1);\n\t\tthis$static.reps = initDim(_3I_classLit, 0, -1, 4, 1);\n\t\tthis$static.repLens = initDim(_3I_classLit, 0, -1, 4, 1);\n\t\tthis$static.processedInSize = initDim(_3J_classLit, 0, -1, 1, 3);\n\t\tthis$static.processedOutSize = initDim(_3J_classLit, 0, -1, 1, 3);\n\t\tthis$static.finished = initDim(_3Z_classLit, 0, -1, 1, 2);\n\t\tthis$static.properties = initDim(_3B_classLit, 0, -1, 5, 1);\n\t\tthis$static.tempPrices = initDim(_3I_classLit, 0, -1, 128, 1);\n\t\tfor (i = 0; i < 4096; ++i) {\n\t\t\tthis$static._optimum[i] = new Encoder$Optimal();\n\t\t}\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tthis$static._posSlotEncoder[i] = $BitTreeEncoder(new BitTreeEncoder(), 6);\n\t\t}\n\t\treturn this$static;\n\t}\n\t\n\tfunction $FillAlignPrices(this$static) {\n\t\tvar i;\n\t\tfor (i = 0; i < 16; ++i) {\n\t\t\tthis$static._alignPrices[i] = $ReverseGetPrice(this$static._posAlignEncoder, i);\n\t\t}\n\t\tthis$static._alignPriceCount = 0;\n\t}\n\t\n\tfunction $FillDistancesPrices(this$static) {\n\t\tvar baseVal, encoder, footerBits, i, lenToPosState, posSlot, st, st2;\n\t\tfor (i = 4; i < 128; ++i) {\n\t\t\tposSlot = GetPosSlot(i);\n\t\t\tfooterBits = (posSlot >> 1) - 1;\n\t\t\tbaseVal = (2 | posSlot & 1) << footerBits;\n\t\t\tthis$static.tempPrices[i] = ReverseGetPrice(this$static._posEncoders, baseVal - posSlot - 1, footerBits, i - baseVal);\n\t\t}\n\t\tfor (lenToPosState = 0; lenToPosState < 4; ++lenToPosState) {\n\t\t\tencoder = this$static._posSlotEncoder[lenToPosState];\n\t\t\tst = lenToPosState << 6;\n\t\t\tfor (posSlot = 0; posSlot < this$static._distTableSize; ++posSlot) {\n\t\t\t\tthis$static._posSlotPrices[st + posSlot] = $GetPrice_1(encoder, posSlot);\n\t\t\t}\n\t\t\tfor (posSlot = 14; posSlot < this$static._distTableSize; ++posSlot) {\n\t\t\t\tthis$static._posSlotPrices[st + posSlot] += (posSlot >> 1) - 1 - 4 << 6;\n\t\t\t}\n\t\t\tst2 = lenToPosState * 128;\n\t\t\tfor (i = 0; i < 4; ++i) {\n\t\t\t\tthis$static._distancesPrices[st2 + i] = this$static._posSlotPrices[st + i];\n\t\t\t}\n\t\t\tfor (; i < 128; ++i) {\n\t\t\t\tthis$static._distancesPrices[st2 + i] = this$static._posSlotPrices[st + GetPosSlot(i)] + this$static.tempPrices[i];\n\t\t\t}\n\t\t}\n\t\tthis$static._matchPriceCount = 0;\n\t}\n\t\n\tfunction $Flush(this$static, nowPos) {\n\t\t$ReleaseMFStream(this$static);\n\t\t$WriteEndMarker(this$static, nowPos & this$static._posStateMask);\n\t\t$FlushData(this$static._rangeEncoder);\n\t}\n\t\n\tfunction $GetOptimum(this$static, position) {\n\t\tvar cur, curAnd1Price, curAndLenCharPrice, curAndLenPrice, curBack, curPrice, currentByte, distance, i, len, lenEnd, lenMain, lenRes, lenTest, lenTest2, lenTestTemp, matchByte, matchPrice, newLen, nextIsChar, nextMatchPrice, nextOptimum, nextRepMatchPrice, normalMatchPrice, numAvailableBytes, numAvailableBytesFull, numDistancePairs, offs, offset, opt, optimum, pos, posPrev, posState, posStateNext, price_4, repIndex, repLen, repMatchPrice, repMaxIndex, shortRepPrice, startLen, state, state2, t, price, price_0, price_1, price_2, price_3;\n\t\tif (this$static._optimumEndIndex != this$static._optimumCurrentIndex) {\n\t\t\tlenRes = this$static._optimum[this$static._optimumCurrentIndex].PosPrev - this$static._optimumCurrentIndex;\n\t\t\tthis$static.backRes = this$static._optimum[this$static._optimumCurrentIndex].BackPrev;\n\t\t\tthis$static._optimumCurrentIndex = this$static._optimum[this$static._optimumCurrentIndex].PosPrev;\n\t\t\treturn lenRes;\n\t\t}\n\t\tthis$static._optimumCurrentIndex = this$static._optimumEndIndex = 0;\n\t\tif (this$static._longestMatchWasFound) {\n\t\t\tlenMain = this$static._longestMatchLength;\n\t\t\tthis$static._longestMatchWasFound = false;\n\t\t} else {\n\t\t\tlenMain = $ReadMatchDistances(this$static);\n\t\t}\n\t\tnumDistancePairs = this$static._numDistancePairs;\n\t\tnumAvailableBytes = $GetNumAvailableBytes(this$static._matchFinder) + 1;\n\t\tif (numAvailableBytes < 2) {\n\t\t\tthis$static.backRes = -1;\n\t\t\treturn 1;\n\t\t}\n\t\tif (numAvailableBytes > 273) {\n\t\t\tnumAvailableBytes = 273;\n\t\t}\n\t\trepMaxIndex = 0;\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tthis$static.reps[i] = this$static._repDistances[i];\n\t\t\tthis$static.repLens[i] = $GetMatchLen(this$static._matchFinder, -1, this$static.reps[i], 273);\n\t\t\tif (this$static.repLens[i] > this$static.repLens[repMaxIndex]) {\n\t\t\t\trepMaxIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (this$static.repLens[repMaxIndex] >= this$static._numFastBytes) {\n\t\t\tthis$static.backRes = repMaxIndex;\n\t\t\tlenRes = this$static.repLens[repMaxIndex];\n\t\t\t$MovePos(this$static, lenRes - 1);\n\t\t\treturn lenRes;\n\t\t}\n\t\tif (lenMain >= this$static._numFastBytes) {\n\t\t\tthis$static.backRes = this$static._matchDistances[numDistancePairs - 1] + 4;\n\t\t\t$MovePos(this$static, lenMain - 1);\n\t\t\treturn lenMain;\n\t\t}\n\t\tcurrentByte = $GetIndexByte(this$static._matchFinder, -1);\n\t\tmatchByte = $GetIndexByte(this$static._matchFinder, -this$static._repDistances[0] - 1 - 1);\n\t\tif (lenMain < 2 && currentByte != matchByte && this$static.repLens[repMaxIndex] < 2) {\n\t\t\tthis$static.backRes = -1;\n\t\t\treturn 1;\n\t\t}\n\t\tthis$static._optimum[0].State = this$static._state;\n\t\tposState = position & this$static._posStateMask;\n\t\tthis$static._optimum[1].Price = ($clinit_66() , ProbPrices[this$static._isMatch[(this$static._state << 4) + posState] >>> 2]) + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position, this$static._previousByte), this$static._state >= 7, matchByte, currentByte);\n\t\t$MakeAsChar(this$static._optimum[1]);\n\t\tmatchPrice = ProbPrices[2048 - this$static._isMatch[(this$static._state << 4) + posState] >>> 2];\n\t\trepMatchPrice = matchPrice + ProbPrices[2048 - this$static._isRep[this$static._state] >>> 2];\n\t\tif (matchByte == currentByte) {\n\t\t\tshortRepPrice = repMatchPrice + $GetRepLen1Price(this$static, this$static._state, posState);\n\t\t\tif (shortRepPrice < this$static._optimum[1].Price) {\n\t\t\t\tthis$static._optimum[1].Price = shortRepPrice;\n\t\t\t\t$MakeAsShortRep(this$static._optimum[1]);\n\t\t\t}\n\t\t}\n\t\tlenEnd = lenMain >= this$static.repLens[repMaxIndex]?lenMain:this$static.repLens[repMaxIndex];\n\t\tif (lenEnd < 2) {\n\t\t\tthis$static.backRes = this$static._optimum[1].BackPrev;\n\t\t\treturn 1;\n\t\t}\n\t\tthis$static._optimum[1].PosPrev = 0;\n\t\tthis$static._optimum[0].Backs0 = this$static.reps[0];\n\t\tthis$static._optimum[0].Backs1 = this$static.reps[1];\n\t\tthis$static._optimum[0].Backs2 = this$static.reps[2];\n\t\tthis$static._optimum[0].Backs3 = this$static.reps[3];\n\t\tlen = lenEnd;\n\t\tdo {\n\t\t\tthis$static._optimum[len--].Price = 268435455;\n\t\t} while (len >= 2);\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\trepLen = this$static.repLens[i];\n\t\t\tif (repLen < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tprice_4 = repMatchPrice + $GetPureRepPrice(this$static, i, this$static._state, posState);\n\t\t\tdo {\n\t\t\t\tcurAndLenPrice = price_4 + $GetPrice(this$static._repMatchLenEncoder, repLen - 2, posState);\n\t\t\t\toptimum = this$static._optimum[repLen];\n\t\t\t\tif (curAndLenPrice < optimum.Price) {\n\t\t\t\t\toptimum.Price = curAndLenPrice;\n\t\t\t\t\toptimum.PosPrev = 0;\n\t\t\t\t\toptimum.BackPrev = i;\n\t\t\t\t\toptimum.Prev1IsChar = false;\n\t\t\t\t}\n\t\t\t} while (--repLen >= 2);\n\t\t}\n\t\tnormalMatchPrice = matchPrice + ProbPrices[this$static._isRep[this$static._state] >>> 2];\n\t\tlen = this$static.repLens[0] >= 2?this$static.repLens[0] + 1:2;\n\t\tif (len <= lenMain) {\n\t\t\toffs = 0;\n\t\t\twhile (len > this$static._matchDistances[offs]) {\n\t\t\t\toffs += 2;\n\t\t\t}\n\t\t\tfor (;; ++len) {\n\t\t\t\tdistance = this$static._matchDistances[offs + 1];\n\t\t\t\tcurAndLenPrice = normalMatchPrice + $GetPosLenPrice(this$static, distance, len, posState);\n\t\t\t\toptimum = this$static._optimum[len];\n\t\t\t\tif (curAndLenPrice < optimum.Price) {\n\t\t\t\t\toptimum.Price = curAndLenPrice;\n\t\t\t\t\toptimum.PosPrev = 0;\n\t\t\t\t\toptimum.BackPrev = distance + 4;\n\t\t\t\t\toptimum.Prev1IsChar = false;\n\t\t\t\t}\n\t\t\t\tif (len == this$static._matchDistances[offs]) {\n\t\t\t\t\toffs += 2;\n\t\t\t\t\tif (offs == numDistancePairs) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcur = 0;\n\t\twhile (true) {\n\t\t\t++cur;\n\t\t\tif (cur == lenEnd) {\n\t\t\t\treturn $Backward(this$static, cur);\n\t\t\t}\n\t\t\tnewLen = $ReadMatchDistances(this$static);\n\t\t\tnumDistancePairs = this$static._numDistancePairs;\n\t\t\tif (newLen >= this$static._numFastBytes) {\n\t\t\t\tthis$static._longestMatchLength = newLen;\n\t\t\t\tthis$static._longestMatchWasFound = true;\n\t\t\t\treturn $Backward(this$static, cur);\n\t\t\t}\n\t\t\t++position;\n\t\t\tposPrev = this$static._optimum[cur].PosPrev;\n\t\t\tif (this$static._optimum[cur].Prev1IsChar) {\n\t\t\t\t--posPrev;\n\t\t\t\tif (this$static._optimum[cur].Prev2) {\n\t\t\t\t\tstate = this$static._optimum[this$static._optimum[cur].PosPrev2].State;\n\t\t\t\t\tif (this$static._optimum[cur].BackPrev2 < 4) {\n\t\t\t\t\t\tstate = (state < 7) ? 8 : 11;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = (state < 7) ? 7 : 10;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstate = this$static._optimum[posPrev].State;\n\t\t\t\t}\n\t\t\t\tstate = StateUpdateChar(state);\n\t\t\t} else {\n\t\t\t\tstate = this$static._optimum[posPrev].State;\n\t\t\t}\n\t\t\tif (posPrev == cur - 1) {\n\t\t\t\tif (this$static._optimum[cur].BackPrev == 0) {\n\t\t\t\t\tstate = state < 7?9:11;\n\t\t\t\t} else {\n\t\t\t\t\tstate = StateUpdateChar(state);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this$static._optimum[cur].Prev1IsChar && this$static._optimum[cur].Prev2) {\n\t\t\t\t\tposPrev = this$static._optimum[cur].PosPrev2;\n\t\t\t\t\tpos = this$static._optimum[cur].BackPrev2;\n\t\t\t\t\tstate = state < 7?8:11;\n\t\t\t\t} else {\n\t\t\t\t\tpos = this$static._optimum[cur].BackPrev;\n\t\t\t\t\tif (pos < 4) {\n\t\t\t\t\t\tstate = state < 7?8:11;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = state < 7?7:10;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\topt = this$static._optimum[posPrev];\n\t\t\t\tif (pos < 4) {\n\t\t\t\t\tif (pos == 0) {\n\t\t\t\t\t\tthis$static.reps[0] = opt.Backs0;\n\t\t\t\t\t\tthis$static.reps[1] = opt.Backs1;\n\t\t\t\t\t\tthis$static.reps[2] = opt.Backs2;\n\t\t\t\t\t\tthis$static.reps[3] = opt.Backs3;\n\t\t\t\t\t} else if (pos == 1) {\n\t\t\t\t\t\tthis$static.reps[0] = opt.Backs1;\n\t\t\t\t\t\tthis$static.reps[1] = opt.Backs0;\n\t\t\t\t\t\tthis$static.reps[2] = opt.Backs2;\n\t\t\t\t\t\tthis$static.reps[3] = opt.Backs3;\n\t\t\t\t\t} else if (pos == 2) {\n\t\t\t\t\t\tthis$static.reps[0] = opt.Backs2;\n\t\t\t\t\t\tthis$static.reps[1] = opt.Backs0;\n\t\t\t\t\t\tthis$static.reps[2] = opt.Backs1;\n\t\t\t\t\t\tthis$static.reps[3] = opt.Backs3;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis$static.reps[0] = opt.Backs3;\n\t\t\t\t\t\tthis$static.reps[1] = opt.Backs0;\n\t\t\t\t\t\tthis$static.reps[2] = opt.Backs1;\n\t\t\t\t\t\tthis$static.reps[3] = opt.Backs2;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis$static.reps[0] = pos - 4;\n\t\t\t\t\tthis$static.reps[1] = opt.Backs0;\n\t\t\t\t\tthis$static.reps[2] = opt.Backs1;\n\t\t\t\t\tthis$static.reps[3] = opt.Backs2;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis$static._optimum[cur].State = state;\n\t\t\tthis$static._optimum[cur].Backs0 = this$static.reps[0];\n\t\t\tthis$static._optimum[cur].Backs1 = this$static.reps[1];\n\t\t\tthis$static._optimum[cur].Backs2 = this$static.reps[2];\n\t\t\tthis$static._optimum[cur].Backs3 = this$static.reps[3];\n\t\t\tcurPrice = this$static._optimum[cur].Price;\n\t\t\tcurrentByte = $GetIndexByte(this$static._matchFinder, -1);\n\t\t\tmatchByte = $GetIndexByte(this$static._matchFinder, -this$static.reps[0] - 1 - 1);\n\t\t\tposState = position & this$static._posStateMask;\n\t\t\tcurAnd1Price = curPrice + ProbPrices[this$static._isMatch[(state << 4) + posState] >>> 2] + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position, $GetIndexByte(this$static._matchFinder, -2)), state >= 7, matchByte, currentByte);\n\t\t\tnextOptimum = this$static._optimum[cur + 1];\n\t\t\tnextIsChar = false;\n\t\t\tif (curAnd1Price < nextOptimum.Price) {\n\t\t\t\tnextOptimum.Price = curAnd1Price;\n\t\t\t\tnextOptimum.PosPrev = cur;\n\t\t\t\tnextOptimum.BackPrev = -1;\n\t\t\t\tnextOptimum.Prev1IsChar = false;\n\t\t\t\tnextIsChar = true;\n\t\t\t}\n\t\t\tmatchPrice = curPrice + ProbPrices[2048 - this$static._isMatch[(state << 4) + posState] >>> 2];\n\t\t\trepMatchPrice = matchPrice + ProbPrices[2048 - this$static._isRep[state] >>> 2];\n\t\t\tif (matchByte == currentByte && !(nextOptimum.PosPrev < cur && nextOptimum.BackPrev == 0)) {\n\t\t\t\tshortRepPrice = repMatchPrice + (ProbPrices[this$static._isRepG0[state] >>> 2] + ProbPrices[this$static._isRep0Long[(state << 4) + posState] >>> 2]);\n\t\t\t\tif (shortRepPrice <= nextOptimum.Price) {\n\t\t\t\t\tnextOptimum.Price = shortRepPrice;\n\t\t\t\t\tnextOptimum.PosPrev = cur;\n\t\t\t\t\tnextOptimum.BackPrev = 0;\n\t\t\t\t\tnextOptimum.Prev1IsChar = false;\n\t\t\t\t\tnextIsChar = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tnumAvailableBytesFull = $GetNumAvailableBytes(this$static._matchFinder) + 1;\n\t\t\tnumAvailableBytesFull = 4095 - cur < numAvailableBytesFull?4095 - cur:numAvailableBytesFull;\n\t\t\tnumAvailableBytes = numAvailableBytesFull;\n\t\t\tif (numAvailableBytes < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (numAvailableBytes > this$static._numFastBytes) {\n\t\t\t\tnumAvailableBytes = this$static._numFastBytes;\n\t\t\t}\n\t\t\tif (!nextIsChar && matchByte != currentByte) {\n\t\t\t\tt = min(numAvailableBytesFull - 1, this$static._numFastBytes);\n\t\t\t\tlenTest2 = $GetMatchLen(this$static._matchFinder, 0, this$static.reps[0], t);\n\t\t\t\tif (lenTest2 >= 2) {\n\t\t\t\t\tstate2 = StateUpdateChar(state);\n\t\t\t\t\tposStateNext = position + 1 & this$static._posStateMask;\n\t\t\t\t\tnextRepMatchPrice = curAnd1Price + ProbPrices[2048 - this$static._isMatch[(state2 << 4) + posStateNext] >>> 2] + ProbPrices[2048 - this$static._isRep[state2] >>> 2];\n\t\t\t\t\toffset = cur + 1 + lenTest2;\n\t\t\t\t\twhile (lenEnd < offset) {\n\t\t\t\t\t\tthis$static._optimum[++lenEnd].Price = 268435455;\n\t\t\t\t\t}\n\t\t\t\t\tcurAndLenPrice = nextRepMatchPrice + (price = $GetPrice(this$static._repMatchLenEncoder, lenTest2 - 2, posStateNext) , price + $GetPureRepPrice(this$static, 0, state2, posStateNext));\n\t\t\t\t\toptimum = this$static._optimum[offset];\n\t\t\t\t\tif (curAndLenPrice < optimum.Price) {\n\t\t\t\t\t\toptimum.Price = curAndLenPrice;\n\t\t\t\t\t\toptimum.PosPrev = cur + 1;\n\t\t\t\t\t\toptimum.BackPrev = 0;\n\t\t\t\t\t\toptimum.Prev1IsChar = true;\n\t\t\t\t\t\toptimum.Prev2 = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tstartLen = 2;\n\t\t\tfor (repIndex = 0; repIndex < 4; ++repIndex) {\n\t\t\t\tlenTest = $GetMatchLen(this$static._matchFinder, -1, this$static.reps[repIndex], numAvailableBytes);\n\t\t\t\tif (lenTest < 2) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlenTestTemp = lenTest;\n\t\t\t\tdo {\n\t\t\t\t\twhile (lenEnd < cur + lenTest) {\n\t\t\t\t\t\tthis$static._optimum[++lenEnd].Price = 268435455;\n\t\t\t\t\t}\n\t\t\t\t\tcurAndLenPrice = repMatchPrice + (price_0 = $GetPrice(this$static._repMatchLenEncoder, lenTest - 2, posState) , price_0 + $GetPureRepPrice(this$static, repIndex, state, posState));\n\t\t\t\t\toptimum = this$static._optimum[cur + lenTest];\n\t\t\t\t\tif (curAndLenPrice < optimum.Price) {\n\t\t\t\t\t\toptimum.Price = curAndLenPrice;\n\t\t\t\t\t\toptimum.PosPrev = cur;\n\t\t\t\t\t\toptimum.BackPrev = repIndex;\n\t\t\t\t\t\toptimum.Prev1IsChar = false;\n\t\t\t\t\t}\n\t\t\t\t} while (--lenTest >= 2);\n\t\t\t\tlenTest = lenTestTemp;\n\t\t\t\tif (repIndex == 0) {\n\t\t\t\t\tstartLen = lenTest + 1;\n\t\t\t\t}\n\t\t\t\tif (lenTest < numAvailableBytesFull) {\n\t\t\t\t\tt = min(numAvailableBytesFull - 1 - lenTest, this$static._numFastBytes);\n\t\t\t\t\tlenTest2 = $GetMatchLen(this$static._matchFinder, lenTest, this$static.reps[repIndex], t);\n\t\t\t\t\tif (lenTest2 >= 2) {\n\t\t\t\t\t\tstate2 = state < 7?8:11;\n\t\t\t\t\t\tposStateNext = position + lenTest & this$static._posStateMask;\n\t\t\t\t\t\tcurAndLenCharPrice = repMatchPrice + (price_1 = $GetPrice(this$static._repMatchLenEncoder, lenTest - 2, posState) , price_1 + $GetPureRepPrice(this$static, repIndex, state, posState)) + ProbPrices[this$static._isMatch[(state2 << 4) + posStateNext] >>> 2] + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position + lenTest, $GetIndexByte(this$static._matchFinder, lenTest - 1 - 1)), true, $GetIndexByte(this$static._matchFinder, lenTest - 1 - (this$static.reps[repIndex] + 1)), $GetIndexByte(this$static._matchFinder, lenTest - 1));\n\t\t\t\t\t\tstate2 = StateUpdateChar(state2);\n\t\t\t\t\t\tposStateNext = position + lenTest + 1 & this$static._posStateMask;\n\t\t\t\t\t\tnextMatchPrice = curAndLenCharPrice + ProbPrices[2048 - this$static._isMatch[(state2 << 4) + posStateNext] >>> 2];\n\t\t\t\t\t\tnextRepMatchPrice = nextMatchPrice + ProbPrices[2048 - this$static._isRep[state2] >>> 2];\n\t\t\t\t\t\toffset = lenTest + 1 + lenTest2;\n\t\t\t\t\t\twhile (lenEnd < cur + offset) {\n\t\t\t\t\t\t\tthis$static._optimum[++lenEnd].Price = 268435455;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurAndLenPrice = nextRepMatchPrice + (price_2 = $GetPrice(this$static._repMatchLenEncoder, lenTest2 - 2, posStateNext) , price_2 + $GetPureRepPrice(this$static, 0, state2, posStateNext));\n\t\t\t\t\t\toptimum = this$static._optimum[cur + offset];\n\t\t\t\t\t\tif (curAndLenPrice < optimum.Price) {\n\t\t\t\t\t\t\toptimum.Price = curAndLenPrice;\n\t\t\t\t\t\t\toptimum.PosPrev = cur + lenTest + 1;\n\t\t\t\t\t\t\toptimum.BackPrev = 0;\n\t\t\t\t\t\t\toptimum.Prev1IsChar = true;\n\t\t\t\t\t\t\toptimum.Prev2 = true;\n\t\t\t\t\t\t\toptimum.PosPrev2 = cur;\n\t\t\t\t\t\t\toptimum.BackPrev2 = repIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newLen > numAvailableBytes) {\n\t\t\t\tnewLen = numAvailableBytes;\n\t\t\t\tfor (numDistancePairs = 0; newLen > this$static._matchDistances[numDistancePairs]; numDistancePairs += 2) {\n\t\t\t\t}\n\t\t\t\tthis$static._matchDistances[numDistancePairs] = newLen;\n\t\t\t\tnumDistancePairs += 2;\n\t\t\t}\n\t\t\tif (newLen >= startLen) {\n\t\t\tnormalMatchPrice = matchPrice + ProbPrices[this$static._isRep[state] >>> 2];\n\t\t\twhile (lenEnd < cur + newLen) {\n\t\t\t\tthis$static._optimum[++lenEnd].Price = 268435455;\n\t\t\t}\n\t\t\toffs = 0;\n\t\t\twhile (startLen > this$static._matchDistances[offs]) {\n\t\t\t\toffs += 2;\n\t\t\t}\n\t\t\tfor (lenTest = startLen;; ++lenTest) {\n\t\t\t\tcurBack = this$static._matchDistances[offs + 1];\n\t\t\t\tcurAndLenPrice = normalMatchPrice + $GetPosLenPrice(this$static, curBack, lenTest, posState);\n\t\t\t\toptimum = this$static._optimum[cur + lenTest];\n\t\t\t\tif (curAndLenPrice < optimum.Price) {\n\t\t\t\t\toptimum.Price = curAndLenPrice;\n\t\t\t\t\toptimum.PosPrev = cur;\n\t\t\t\t\toptimum.BackPrev = curBack + 4;\n\t\t\t\t\toptimum.Prev1IsChar = false;\n\t\t\t\t}\n\t\t\t\tif (lenTest == this$static._matchDistances[offs]) {\n\t\t\t\t\tif (lenTest < numAvailableBytesFull) {\n\t\t\t\t\t\tt = min(numAvailableBytesFull - 1 - lenTest, this$static._numFastBytes);\n\t\t\t\t\t\tlenTest2 = $GetMatchLen(this$static._matchFinder, lenTest, curBack, t);\n\t\t\t\t\t\tif (lenTest2 >= 2) {\n\t\t\t\t\t\t\tstate2 = state < 7?7:10;\n\t\t\t\t\t\t\tposStateNext = position + lenTest & this$static._posStateMask;\n\t\t\t\t\t\t\tcurAndLenCharPrice = curAndLenPrice + ProbPrices[this$static._isMatch[(state2 << 4) + posStateNext] >>> 2] + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position + lenTest, $GetIndexByte(this$static._matchFinder, lenTest - 1 - 1)), true, $GetIndexByte(this$static._matchFinder, lenTest - (curBack + 1) - 1), $GetIndexByte(this$static._matchFinder, lenTest - 1));\n\t\t\t\t\t\t\tstate2 = StateUpdateChar(state2);\n\t\t\t\t\t\t\tposStateNext = position + lenTest + 1 & this$static._posStateMask;\n\t\t\t\t\t\t\tnextMatchPrice = curAndLenCharPrice + ProbPrices[2048 - this$static._isMatch[(state2 << 4) + posStateNext] >>> 2];\n\t\t\t\t\t\t\tnextRepMatchPrice = nextMatchPrice + ProbPrices[2048 - this$static._isRep[state2] >>> 2];\n\t\t\t\t\t\t\toffset = lenTest + 1 + lenTest2;\n\t\t\t\t\t\t\twhile (lenEnd < cur + offset) {\n\t\t\t\t\t\t\t\tthis$static._optimum[++lenEnd].Price = 268435455;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurAndLenPrice = nextRepMatchPrice + (price_3 = $GetPrice(this$static._repMatchLenEncoder, lenTest2 - 2, posStateNext) , price_3 + $GetPureRepPrice(this$static, 0, state2, posStateNext));\n\t\t\t\t\t\t\toptimum = this$static._optimum[cur + offset];\n\t\t\t\t\t\t\tif (curAndLenPrice < optimum.Price) {\n\t\t\t\t\t\t\t\toptimum.Price = curAndLenPrice;\n\t\t\t\t\t\t\t\toptimum.PosPrev = cur + lenTest + 1;\n\t\t\t\t\t\t\t\toptimum.BackPrev = 0;\n\t\t\t\t\t\t\t\toptimum.Prev1IsChar = true;\n\t\t\t\t\t\t\t\toptimum.Prev2 = true;\n\t\t\t\t\t\t\t\toptimum.PosPrev2 = cur;\n\t\t\t\t\t\t\t\toptimum.BackPrev2 = curBack + 4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\toffs += 2;\n\t\t\t\t\tif (offs == numDistancePairs)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $GetPosLenPrice(this$static, pos, len, posState) {\n\t\tvar lenToPosState, price;\n\t\tlenToPosState = GetLenToPosState(len);\n\t\tif (pos < 128) {\n\t\t\tprice = this$static._distancesPrices[lenToPosState * 128 + pos];\n\t\t} else {\n\t\t\tprice = this$static._posSlotPrices[(lenToPosState << 6) + GetPosSlot2(pos)] + this$static._alignPrices[pos & 15];\n\t\t}\n\t\treturn price + $GetPrice(this$static._lenEncoder, len - 2, posState);\n\t}\n\t\n\tfunction $GetPureRepPrice(this$static, repIndex, state, posState) {\n\t\tvar price;\n\t\tif (repIndex == 0) {\n\t\t\tprice = ($clinit_66() , ProbPrices[this$static._isRepG0[state] >>> 2]);\n\t\t\tprice += ProbPrices[2048 - this$static._isRep0Long[(state << 4) + posState] >>> 2];\n\t\t} else {\n\t\t\tprice = ($clinit_66() , ProbPrices[2048 - this$static._isRepG0[state] >>> 2]);\n\t\t\tif (repIndex == 1) {\n\t\t\t\tprice += ProbPrices[this$static._isRepG1[state] >>> 2];\n\t\t\t} else {\n\t\t\t\tprice += ProbPrices[2048 - this$static._isRepG1[state] >>> 2];\n\t\t\t\tprice += GetPrice(this$static._isRepG2[state], repIndex - 2);\n\t\t\t}\n\t\t}\n\t\treturn price;\n\t}\n\t\n\tfunction $GetRepLen1Price(this$static, state, posState) {\n\t\treturn ($clinit_66() , ProbPrices[this$static._isRepG0[state] >>> 2]) + ProbPrices[this$static._isRep0Long[(state << 4) + posState] >>> 2];\n\t}\n\t\n\tfunction $Init_4(this$static) {\n\t\tvar i;\n\t\t$BaseInit(this$static);\n\t\t$Init_9(this$static._rangeEncoder);\n\t\tInitBitModels_0(this$static._isMatch);\n\t\tInitBitModels_0(this$static._isRep0Long);\n\t\tInitBitModels_0(this$static._isRep);\n\t\tInitBitModels_0(this$static._isRepG0);\n\t\tInitBitModels_0(this$static._isRepG1);\n\t\tInitBitModels_0(this$static._isRepG2);\n\t\tInitBitModels_0(this$static._posEncoders);\n\t\t$Init_3(this$static._literalEncoder);\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tInitBitModels(this$static._posSlotEncoder[i].Models);\n\t\t}\n\t\t$Init_2(this$static._lenEncoder, 1 << this$static._posStateBits);\n\t\t$Init_2(this$static._repMatchLenEncoder, 1 << this$static._posStateBits);\n\t\tInitBitModels(this$static._posAlignEncoder.Models);\n\t\tthis$static._longestMatchWasFound = false;\n\t\tthis$static._optimumEndIndex = 0;\n\t\tthis$static._optimumCurrentIndex = 0;\n\t\tthis$static._additionalOffset = 0;\n\t}\n\t\n\tfunction $MovePos(this$static, num) {\n\t\tif (num > 0) {\n\t\t\t$Skip(this$static._matchFinder, num);\n\t\t\tthis$static._additionalOffset += num;\n\t\t}\n\t}\n\t\n\tfunction $ReadMatchDistances(this$static) {\n\t\tvar lenRes;\n\t\tlenRes = 0;\n\t\tthis$static._numDistancePairs = $GetMatches(this$static._matchFinder, this$static._matchDistances);\n\t\tif (this$static._numDistancePairs > 0) {\n\t\t\tlenRes = this$static._matchDistances[this$static._numDistancePairs - 2];\n\t\t\tif (lenRes == this$static._numFastBytes)\n\t\t\tlenRes += $GetMatchLen(this$static._matchFinder, lenRes - 1, this$static._matchDistances[this$static._numDistancePairs - 1], 273 - lenRes);\n\t\t}\n\t\t++this$static._additionalOffset;\n\t\treturn lenRes;\n\t}\n\t\n\tfunction $ReleaseMFStream(this$static) {\n\t\tif (!!this$static._matchFinder && this$static._needReleaseMFStream) {\n\t\t\tthis$static._matchFinder._stream = null;\n\t\t\tthis$static._needReleaseMFStream = false;\n\t\t}\n\t}\n\t\n\tfunction $ReleaseStreams(this$static) {\n\t\t$ReleaseMFStream(this$static);\n\t\tthis$static._rangeEncoder.Stream = null;\n\t}\n\t\n\tfunction $SetDictionarySize_0(this$static, dictionarySize) {\n\t\tvar dicLogSize;\n\t\tif (dictionarySize < 1 || dictionarySize > 536870912) {\n\t\t\treturn false;\n\t\t}\n\t\tthis$static._dictionarySize = dictionarySize;\n\t\tfor (dicLogSize = 0; dictionarySize > 1 << dicLogSize; ++dicLogSize) {\n\t\t}\n\t\tthis$static._distTableSize = dicLogSize * 2;\n\t\treturn true;\n\t}\n\t\n\tfunction $SetLcLpPb_0(this$static, lc, lp, pb) {\n\t\tif (lp < 0 || lp > 4 || lc < 0 || lc > 8 || pb < 0 || pb > 4) {\n\t\t\treturn false;\n\t\t}\n\t\tthis$static._numLiteralPosStateBits = lp;\n\t\tthis$static._numLiteralContextBits = lc;\n\t\tthis$static._posStateBits = pb;\n\t\tthis$static._posStateMask = (1 << this$static._posStateBits) - 1;\n\t\treturn true;\n\t}\n\t\n\tfunction $SetMatchFinder(this$static, matchFinderIndex) {\n\t\tvar matchFinderIndexPrev;\n\t\tif (matchFinderIndex < 0 || matchFinderIndex > 2) {\n\t\t\treturn false;\n\t\t}\n\t\tmatchFinderIndexPrev = this$static._matchFinderType;\n\t\tthis$static._matchFinderType = matchFinderIndex;\n\t\tif (!!this$static._matchFinder && matchFinderIndexPrev != this$static._matchFinderType) {\n\t\t\tthis$static._dictionarySizePrev = -1;\n\t\t\tthis$static._matchFinder = null;\n\t\t}\n\t\treturn true;\n\t}\n\t\n\tfunction $SetNumFastBytes(this$static, numFastBytes) {\n\t\tif (numFastBytes < 5 || numFastBytes > 273) {\n\t\t\treturn false;\n\t\t}\n\t\tthis$static._numFastBytes = numFastBytes;\n\t\treturn true;\n\t}\n\t\n\tfunction $WriteCoderProperties(this$static, outStream) {\n\t\tvar i;\n\t\tthis$static.properties[0] = (this$static._posStateBits * 5 + this$static._numLiteralPosStateBits) * 9 + this$static._numLiteralContextBits << 24 >> 24;\n\t\tfor (i = 0; i < 4; ++i) {\n\t\t\tthis$static.properties[1 + i] = this$static._dictionarySize >> 8 * i << 24 >> 24;\n\t\t}\n\t\t$write_0(outStream, this$static.properties, 0, 5);\n\t}\n\t\n\tfunction $WriteEndMarker(this$static, posState) {\n\t\tvar lenToPosState;\n\t\tif (!this$static._writeEndMark) {\n\t\t\treturn;\n\t\t}\n\t\t$Encode_3(this$static._rangeEncoder, this$static._isMatch, (this$static._state << 4) + posState, 1);\n\t\t$Encode_3(this$static._rangeEncoder, this$static._isRep, this$static._state, 0);\n\t\tthis$static._state = this$static._state < 7?7:10;\n\t\t$Encode_0(this$static._lenEncoder, this$static._rangeEncoder, 0, posState);\n\t\tlenToPosState = GetLenToPosState(2);\n\t\t$Encode_2(this$static._posSlotEncoder[lenToPosState], this$static._rangeEncoder, 63);\n\t\t$EncodeDirectBits(this$static._rangeEncoder, 67108863, 26);\n\t\t$ReverseEncode(this$static._posAlignEncoder, this$static._rangeEncoder, 15);\n\t}\n\t\n\tfunction GetPosSlot(pos) {\n\t\tif (pos < 2048) {\n\t\t\treturn g_FastPos[pos];\n\t\t}\n\t\tif (pos < 2097152) {\n\t\t\treturn g_FastPos[pos >> 10] + 20;\n\t\t}\n\t\treturn g_FastPos[pos >> 20] + 40;\n\t}\n\t\n\tfunction GetPosSlot2(pos) {\n\t\tif (pos < 131072) {\n\t\t\treturn g_FastPos[pos >> 6] + 12;\n\t\t}\n\t\tif (pos < 134217728) {\n\t\t\treturn g_FastPos[pos >> 16] + 32;\n\t\t}\n\t\treturn g_FastPos[pos >> 26] + 52;\n\t}\n\t\n\tfunction getClass_38() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder_2_classLit;\n\t}\n\t\n\tfunction Encoder() {\n\t}\n\t\n\t_ = Encoder.prototype = new Object_0();\n\t_.getClass$ = getClass_38;\n\t_.typeId$ = 0;\n\t_._additionalOffset = 0;\n\t_._alignPriceCount = 0;\n\t_._dictionarySize = 4194304;\n\t_._dictionarySizePrev = -1;\n\t_._distTableSize = 44;\n\t_._finished = false;\n\t_._inStream = null;\n\t_._longestMatchLength = 0;\n\t_._longestMatchWasFound = false;\n\t_._matchFinder = null;\n\t_._matchFinderType = 1;\n\t_._matchPriceCount = 0;\n\t_._needReleaseMFStream = false;\n\t_._numDistancePairs = 0;\n\t_._numFastBytes = 32;\n\t_._numFastBytesPrev = -1;\n\t_._numLiteralContextBits = 3;\n\t_._numLiteralPosStateBits = 0;\n\t_._optimumCurrentIndex = 0;\n\t_._optimumEndIndex = 0;\n\t_._posStateBits = 2;\n\t_._posStateMask = 3;\n\t_._previousByte = 0;\n\t_._state = 0;\n\t_._writeEndMark = false;\n\t_.backRes = 0;\n\t_.nowPos64 = P0_longLit;\n\tvar g_FastPos;\n\tfunction $Encode(this$static, rangeEncoder, symbol, posState) {\n\t\tif (symbol < 8) {\n\t\t\t$Encode_3(rangeEncoder, this$static._choice, 0, 0);\n\t\t\t$Encode_2(this$static._lowCoder[posState], rangeEncoder, symbol);\n\t\t} else {\n\t\t\tsymbol -= 8;\n\t\t\t$Encode_3(rangeEncoder, this$static._choice, 0, 1);\n\t\t\tif (symbol < 8) {\n\t\t\t\t$Encode_3(rangeEncoder, this$static._choice, 1, 0);\n\t\t\t\t$Encode_2(this$static._midCoder[posState], rangeEncoder, symbol);\n\t\t\t} else {\n\t\t\t\t$Encode_3(rangeEncoder, this$static._choice, 1, 1);\n\t\t\t\t$Encode_2(this$static._highCoder, rangeEncoder, symbol - 8);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $Encoder$LenEncoder(this$static) {\n\t\tvar posState;\n\t\tthis$static._choice = initDim(_3S_classLit, 0, -1, 2, 1);\n\t\tthis$static._lowCoder = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit, 0, 8, 16, 0);\n\t\tthis$static._midCoder = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit, 0, 8, 16, 0);\n\t\tthis$static._highCoder = $BitTreeEncoder(new BitTreeEncoder(), 8);\n\t\tfor (posState = 0; posState < 16; ++posState) {\n\t\t\tthis$static._lowCoder[posState] = $BitTreeEncoder(new BitTreeEncoder(), 3);\n\t\t\tthis$static._midCoder[posState] = $BitTreeEncoder(new BitTreeEncoder(), 3);\n\t\t}\n\t\treturn this$static;\n\t}\n\t\n\tfunction $Init_2(this$static, numPosStates) {\n\t\tvar posState;\n\t\tInitBitModels_0(this$static._choice);\n\t\tfor (posState = 0; posState < numPosStates; ++posState) {\n\t\t\tInitBitModels(this$static._lowCoder[posState].Models);\n\t\t\tInitBitModels(this$static._midCoder[posState].Models);\n\t\t}\n\t\tInitBitModels(this$static._highCoder.Models);\n\t}\n\t\n\tfunction $SetPrices(this$static, posState, numSymbols, prices, st) {\n\t\tvar a0, a1, b0, b1, i;\n\t\ta0 = ($clinit_66() , ProbPrices[this$static._choice[0] >>> 2]);\n\t\ta1 = ProbPrices[2048 - this$static._choice[0] >>> 2];\n\t\tb0 = a1 + ProbPrices[this$static._choice[1] >>> 2];\n\t\tb1 = a1 + ProbPrices[2048 - this$static._choice[1] >>> 2];\n\t\ti = 0;\n\t\tfor (i = 0; i < 8; ++i) {\n\t\t\tif (i >= numSymbols)\n\t\t\treturn;\n\t\t\tprices[st + i] = a0 + $GetPrice_1(this$static._lowCoder[posState], i);\n\t\t}\n\t\tfor (; i < 16; ++i) {\n\t\t\tif (i >= numSymbols)\n\t\t\treturn;\n\t\t\tprices[st + i] = b0 + $GetPrice_1(this$static._midCoder[posState], i - 8);\n\t\t}\n\t\tfor (; i < numSymbols; ++i) {\n\t\t\tprices[st + i] = b1 + $GetPrice_1(this$static._highCoder, i - 8 - 8);\n\t\t}\n\t}\n\t\t\n\tfunction getClass_33() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenEncoder_2_classLit;\n\t}\n\t\n\tfunction Encoder$LenEncoder() {\n\t}\n\t\n\t_ = Encoder$LenEncoder.prototype = new Object_0();\n\t_.getClass$ = getClass_33;\n\t_.typeId$ = 0;\n\tfunction $Encode_0(this$static, rangeEncoder, symbol, posState) {\n\t\t$Encode(this$static, rangeEncoder, symbol, posState);\n\t\tif (--this$static._counters[posState] == 0) {\n\t\t\t$SetPrices(this$static, posState, this$static._tableSize, this$static._prices, posState * 272);\n\t\t\tthis$static._counters[posState] = this$static._tableSize;\n\t\t}\n\t}\n\t\n\tfunction $Encoder$LenPriceTableEncoder(this$static) {\n\t\t$Encoder$LenEncoder(this$static);\n\t\tthis$static._prices = initDim(_3I_classLit, 0, -1, 4352, 1);\n\t\tthis$static._counters = initDim(_3I_classLit, 0, -1, 16, 1);\n\t\treturn this$static;\n\t}\n\t\n\tfunction $GetPrice(this$static, symbol, posState) {\n\t\treturn this$static._prices[posState * 272 + symbol];\n\t}\n\t\n\tfunction $UpdateTables(this$static, numPosStates) {\n\t\tvar posState;\n\t\tfor (posState = 0; posState < numPosStates; ++posState) {\n\t\t\t$SetPrices(this$static, posState, this$static._tableSize, this$static._prices, posState * 272);\n\t\t\tthis$static._counters[posState] = this$static._tableSize;\n\t\t}\n\t}\n\t\n\tfunction getClass_34() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenPriceTableEncoder_2_classLit;\n\t}\n\t\n\tfunction Encoder$LenPriceTableEncoder() {\n\t}\n\t\n\t_ = Encoder$LenPriceTableEncoder.prototype = new Encoder$LenEncoder();\n\t_.getClass$ = getClass_34;\n\t_.typeId$ = 0;\n\t_._tableSize = 0;\n\tfunction $Create_1(this$static, numPosBits, numPrevBits) {\n\t\tvar i, numStates;\n\t\tif (this$static.m_Coders != null && this$static.m_NumPrevBits == numPrevBits && this$static.m_NumPosBits == numPosBits) {\n\t\t\treturn;\n\t\t}\n\t\tthis$static.m_NumPosBits = numPosBits;\n\t\tthis$static.m_PosMask = (1 << numPosBits) - 1;\n\t\tthis$static.m_NumPrevBits = numPrevBits;\n\t\tnumStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;\n\t\tthis$static.m_Coders = initDim(_3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit, 0, 5, numStates, 0);\n\t\tfor (i = 0; i < numStates; ++i) {\n\t\t\tthis$static.m_Coders[i] = $Encoder$LiteralEncoder$Encoder2(new Encoder$LiteralEncoder$Encoder2());\n\t\t}\n\t}\n\t\n\tfunction $GetSubCoder(this$static, pos, prevByte) {\n\t\treturn this$static.m_Coders[((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) + ((prevByte & 255) >>> 8 - this$static.m_NumPrevBits)];\n\t}\n\t\n\tfunction $Init_3(this$static) {\n\t\tvar i, numStates;\n\t\tnumStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;\n\t\tfor (i = 0; i < numStates; ++i) {\n\t\t\tInitBitModels_0(this$static.m_Coders[i].m_Encoders);\n\t\t}\n\t}\n\t\n\tfunction getClass_36() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder_2_classLit;\n\t}\n\t\n\tfunction Encoder$LiteralEncoder() {\n\t}\n\t\n\t_ = Encoder$LiteralEncoder.prototype = new Object_0();\n\t_.getClass$ = getClass_36;\n\t_.typeId$ = 0;\n\t_.m_Coders = null;\n\t_.m_NumPosBits = 0;\n\t_.m_NumPrevBits = 0;\n\t_.m_PosMask = 0;\n\tfunction $Encode_1(this$static, rangeEncoder, symbol) {\n\t\tvar bit, context, i;\n\t\tcontext = 1;\n\t\tfor (i = 7; i >= 0; --i) {\n\t\t\tbit = symbol >> i & 1;\n\t\t\t$Encode_3(rangeEncoder, this$static.m_Encoders, context, bit);\n\t\t\tcontext = context << 1 | bit;\n\t\t}\n\t}\n\t\n\tfunction $EncodeMatched(this$static, rangeEncoder, matchByte, symbol) {\n\t\tvar bit, context, i, matchBit, same, state;\n\t\tcontext = 1;\n\t\tsame = true;\n\t\tfor (i = 7; i >= 0; --i) {\n\t\t\tbit = symbol >> i & 1;\n\t\t\tstate = context;\n\t\t\tif (same) {\n\t\t\t\tmatchBit = matchByte >> i & 1;\n\t\t\t\tstate += 1 + matchBit << 8;\n\t\t\t\tsame = matchBit == bit;\n\t\t\t}\n\t\t\t$Encode_3(rangeEncoder, this$static.m_Encoders, state, bit);\n\t\t\tcontext = context << 1 | bit;\n\t\t}\n\t}\n\t\n\tfunction $Encoder$LiteralEncoder$Encoder2(this$static) {\n\t\tthis$static.m_Encoders = initDim(_3S_classLit, 0, -1, 768, 1);\n\t\treturn this$static;\n\t}\n\t\n\tfunction $GetPrice_0(this$static, matchMode, matchByte, symbol) {\n\t\tvar bit, context, i, matchBit, price;\n\t\tprice = 0;\n\t\tcontext = 1;\n\t\ti = 7;\n\t\tif (matchMode) {\n\t\t\tfor (; i >= 0; --i) {\n\t\t\t\tmatchBit = matchByte >> i & 1;\n\t\t\t\tbit = symbol >> i & 1;\n\t\t\t\tprice += GetPrice(this$static.m_Encoders[(1 + matchBit << 8) + context], bit);\n\t\t\t\tcontext = context << 1 | bit;\n\t\t\t\tif (matchBit != bit) {\n\t\t\t\t\t--i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (; i >= 0; --i) {\n\t\t\tbit = symbol >> i & 1;\n\t\t\tprice += GetPrice(this$static.m_Encoders[context], bit);\n\t\t\tcontext = context << 1 | bit;\n\t\t}\n\t\treturn price;\n\t}\n\t\n\tfunction getClass_35() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit;\n\t}\n\t\n\tfunction Encoder$LiteralEncoder$Encoder2() {\n\t}\n\t\n\t_ = Encoder$LiteralEncoder$Encoder2.prototype = new Object_0();\n\t_.getClass$ = getClass_35;\n\t_.typeId$ = 18;\n\tfunction $MakeAsChar(this$static) {\n\t\tthis$static.BackPrev = -1;\n\t\tthis$static.Prev1IsChar = false;\n\t}\n\t\n\tfunction $MakeAsShortRep(this$static) {\n\t\tthis$static.BackPrev = 0;\n\t\tthis$static.Prev1IsChar = false;\n\t}\n\t\n\tfunction getClass_37() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit;\n\t}\n\t\n\tfunction Encoder$Optimal() {\n\t}\n\t\n\t_ = Encoder$Optimal.prototype = new Object_0();\n\t_.getClass$ = getClass_37;\n\t_.typeId$ = 19;\n\t_.BackPrev = 0;\n\t_.BackPrev2 = 0;\n\t_.Backs0 = 0;\n\t_.Backs1 = 0;\n\t_.Backs2 = 0;\n\t_.Backs3 = 0;\n\t_.PosPrev = 0;\n\t_.PosPrev2 = 0;\n\t_.Prev1IsChar = false;\n\t_.Prev2 = false;\n\t_.Price = 0;\n\t_.State = 0;\n\tfunction $BitTreeDecoder(this$static, numBitLevels) {\n\t\tthis$static.NumBitLevels = numBitLevels;\n\t\tthis$static.Models = initDim(_3S_classLit, 0, -1, 1 << numBitLevels, 1);\n\t\treturn this$static;\n\t}\n\t\n\tfunction $Decode_0(this$static, rangeDecoder) {\n\t\tvar bitIndex, m;\n\t\tm = 1;\n\t\tfor (bitIndex = this$static.NumBitLevels; bitIndex != 0; --bitIndex) {\n\t\t\tm = (m << 1) + $DecodeBit(rangeDecoder, this$static.Models, m);\n\t\t}\n\t\treturn m - (1 << this$static.NumBitLevels);\n\t}\n\t\n\tfunction $ReverseDecode(this$static, rangeDecoder) {\n\t\tvar bit, bitIndex, m, symbol;\n\t\tm = 1;\n\t\tsymbol = 0;\n\t\tfor (bitIndex = 0; bitIndex < this$static.NumBitLevels; ++bitIndex) {\n\t\t\tbit = $DecodeBit(rangeDecoder, this$static.Models, m);\n\t\t\tm <<= 1;\n\t\t\tm += bit;\n\t\t\tsymbol |= bit << bitIndex;\n\t\t}\n\t\treturn symbol;\n\t}\n\t\n\tfunction ReverseDecode(Models, startIndex, rangeDecoder, NumBitLevels) {\n\t\tvar bit, bitIndex, m, symbol;\n\t\tm = 1;\n\t\tsymbol = 0;\n\t\tfor (bitIndex = 0; bitIndex < NumBitLevels; ++bitIndex) {\n\t\t\tbit = $DecodeBit(rangeDecoder, Models, startIndex + m);\n\t\t\tm <<= 1;\n\t\t\tm += bit;\n\t\t\tsymbol |= bit << bitIndex;\n\t\t}\n\t\treturn symbol;\n\t}\n\t\n\tfunction getClass_42() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit;\n\t}\n\t\n\tfunction BitTreeDecoder() {\n\t}\n\t\n\t_ = BitTreeDecoder.prototype = new Object_0();\n\t_.getClass$ = getClass_42;\n\t_.typeId$ = 20;\n\t_.Models = null;\n\t_.NumBitLevels = 0;\n\tfunction $BitTreeEncoder(this$static, numBitLevels) {\n\t\tthis$static.NumBitLevels = numBitLevels;\n\t\tthis$static.Models = initDim(_3S_classLit, 0, -1, 1 << numBitLevels, 1);\n\t\treturn this$static;\n\t}\n\t\n\tfunction $Encode_2(this$static, rangeEncoder, symbol) {\n\t\tvar bit, bitIndex, m;\n\t\tm = 1;\n\t\tfor (bitIndex = this$static.NumBitLevels; bitIndex != 0;) {\n\t\t\t--bitIndex;\n\t\t\tbit = symbol >>> bitIndex & 1;\n\t\t\t$Encode_3(rangeEncoder, this$static.Models, m, bit);\n\t\t\tm = m << 1 | bit;\n\t\t}\n\t}\n\t\n\tfunction $GetPrice_1(this$static, symbol) {\n\t\tvar bit, bitIndex, m, price;\n\t\tprice = 0;\n\t\tm = 1;\n\t\tfor (bitIndex = this$static.NumBitLevels; bitIndex != 0;) {\n\t\t\t--bitIndex;\n\t\t\tbit = symbol >>> bitIndex & 1;\n\t\t\tprice += GetPrice(this$static.Models[m], bit);\n\t\t\tm = (m << 1) + bit;\n\t\t}\n\t\treturn price;\n\t}\n\t\n\tfunction $ReverseEncode(this$static, rangeEncoder, symbol) {\n\t\tvar bit, i, m;\n\t\tm = 1;\n\t\tfor (i = 0; i < this$static.NumBitLevels; ++i) {\n\t\t\tbit = symbol & 1;\n\t\t\t$Encode_3(rangeEncoder, this$static.Models, m, bit);\n\t\t\tm = m << 1 | bit;\n\t\t\tsymbol >>= 1;\n\t\t}\n\t}\n\t\n\tfunction $ReverseGetPrice(this$static, symbol) {\n\t\tvar bit, i, m, price;\n\t\tprice = 0;\n\t\tm = 1;\n\t\tfor (i = this$static.NumBitLevels; i != 0; --i) {\n\t\t\tbit = symbol & 1;\n\t\t\tsymbol >>>= 1;\n\t\t\tprice += GetPrice(this$static.Models[m], bit);\n\t\t\tm = m << 1 | bit;\n\t\t}\n\t\treturn price;\n\t}\n\t\n\tfunction ReverseEncode(Models, startIndex, rangeEncoder, NumBitLevels, symbol) {\n\t\tvar bit, i, m;\n\t\tm = 1;\n\t\tfor (i = 0; i < NumBitLevels; ++i) {\n\t\t\tbit = symbol & 1;\n\t\t\t$Encode_3(rangeEncoder, Models, startIndex + m, bit);\n\t\t\tm = m << 1 | bit;\n\t\t\tsymbol >>= 1;\n\t\t}\n\t}\n\t\n\tfunction ReverseGetPrice(Models, startIndex, NumBitLevels, symbol) {\n\t\tvar bit, i, m, price;\n\t\tprice = 0;\n\t\tm = 1;\n\t\tfor (i = NumBitLevels; i != 0; --i) {\n\t\t\tbit = symbol & 1;\n\t\t\tsymbol >>>= 1;\n\t\t\tprice += ($clinit_66() , ProbPrices[((Models[startIndex + m] - bit ^ -bit) & 2047) >>> 2]);\n\t\t\tm = m << 1 | bit;\n\t\t}\n\t\treturn price;\n\t}\n\t\n\tfunction getClass_43() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit;\n\t}\n\t\n\tfunction BitTreeEncoder() {\n\t}\n\t\n\t_ = BitTreeEncoder.prototype = new Object_0();\n\t_.getClass$ = getClass_43;\n\t_.typeId$ = 21;\n\t_.Models = null;\n\t_.NumBitLevels = 0;\n\tfunction $DecodeBit(this$static, probs, index) {\n\t\tvar newBound, prob;\n\t\tprob = probs[index];\n\t\tnewBound = (this$static.Range >>> 11) * prob;\n\t\tif ((this$static.Code ^ -2147483648) < (newBound ^ -2147483648)) {\n\t\t\tthis$static.Range = newBound;\n\t\t\tprobs[index] = prob + (2048 - prob >>> 5) << 16 >> 16;\n\t\t\tif ((this$static.Range & -16777216) == 0) {\n\t\t\t\tthis$static.Code = this$static.Code << 8 | $read(this$static.Stream);\n\t\t\t\tthis$static.Range <<= 8;\n\t\t\t}\n\t\t\treturn 0;\n\t\t} else {\n\t\t\tthis$static.Range -= newBound;\n\t\t\tthis$static.Code -= newBound;\n\t\t\tprobs[index] = prob - (prob >>> 5) << 16 >> 16;\n\t\t\tif ((this$static.Range & -16777216) == 0) {\n\t\t\t\tthis$static.Code = this$static.Code << 8 | $read(this$static.Stream);\n\t\t\t\tthis$static.Range <<= 8;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\t}\n\t\n\tfunction $DecodeDirectBits(this$static, numTotalBits) {\n\t\tvar i, result, t;\n\t\tresult = 0;\n\t\tfor (i = numTotalBits; i != 0; --i) {\n\t\t\tthis$static.Range >>>= 1;\n\t\t\tt = this$static.Code - this$static.Range >>> 31;\n\t\t\tthis$static.Code -= this$static.Range & t - 1;\n\t\t\tresult = result << 1 | 1 - t;\n\t\t\tif ((this$static.Range & -16777216) == 0) {\n\t\t\t\tthis$static.Code = this$static.Code << 8 | $read(this$static.Stream);\n\t\t\t\tthis$static.Range <<= 8;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\t\n\tfunction $Init_8(this$static) {\n\t\tvar i;\n\t\tthis$static.Code = 0;\n\t\tthis$static.Range = -1;\n\t\tfor (i = 0; i < 5; ++i) {\n\t\t\tthis$static.Code = this$static.Code << 8 | $read(this$static.Stream);\n\t\t}\n\t}\n\t\n\tfunction InitBitModels(probs) {\n\t\tvar i;\n\t\tfor (i = 0; i < probs.length; ++i) {\n\t\t\tprobs[i] = 1024;\n\t\t}\n\t}\n\t\n\tfunction getClass_44() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Decoder_2_classLit;\n\t}\n\t\n\tfunction Decoder_0() {\n\t}\n\t\n\t_ = Decoder_0.prototype = new Object_0();\n\t_.getClass$ = getClass_44;\n\t_.typeId$ = 0;\n\t_.Code = 0;\n\t_.Range = 0;\n\t_.Stream = null;\n\tfunction $clinit_66() {\n\t\t$clinit_66 = nullMethod;\n\t\tvar end, i, j, start;\n\t\tProbPrices = initDim(_3I_classLit, 0, -1, 512, 1);\n\t\tfor (i = 8; i >= 0; --i) {\n\t\t\tstart = 1 << 9 - i - 1;\n\t\t\tend = 1 << 9 - i;\n\t\t\tfor (j = start; j < end; ++j) {\n\t\t\t\tProbPrices[j] = (i << 6) + (end - j << 6 >>> 9 - i - 1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $Encode_3(this$static, probs, index, symbol) {\n\t\tvar newBound, prob;\n\t\tprob = probs[index];\n\t\tnewBound = (this$static.Range >>> 11) * prob;\n\t\tif (symbol == 0) {\n\t\t\tthis$static.Range = newBound;\n\t\t\tprobs[index] = prob + (2048 - prob >>> 5) << 16 >> 16;\n\t\t} else {\n\t\t\tthis$static.Low = add(this$static.Low, and(fromInt(newBound), Pffffffff_longLit));\n\t\t\tthis$static.Range -= newBound;\n\t\t\tprobs[index] = prob - (prob >>> 5) << 16 >> 16;\n\t\t}\n\t\tif ((this$static.Range & -16777216) == 0) {\n\t\t\tthis$static.Range <<= 8;\n\t\t\t$ShiftLow(this$static);\n\t\t}\n\t}\n\t\n\tfunction $EncodeDirectBits(this$static, v, numTotalBits) {\n\t\tvar i;\n\t\tfor (i = numTotalBits - 1; i >= 0; --i) {\n\t\t\tthis$static.Range >>>= 1;\n\t\t\tif ((v >>> i & 1) == 1) {\n\t\t\t\tthis$static.Low = add(this$static.Low, fromInt(this$static.Range));\n\t\t\t}\n\t\t\tif ((this$static.Range & -16777216) == 0) {\n\t\t\t\tthis$static.Range <<= 8;\n\t\t\t\t$ShiftLow(this$static);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction $FlushData(this$static) {\n\t\tvar i;\n\t\tfor (i = 0; i < 5; ++i) {\n\t\t\t$ShiftLow(this$static);\n\t\t}\n\t}\n\t\n\tfunction $GetProcessedSizeAdd(this$static) {\n\t\treturn add(add(fromInt(this$static._cacheSize), this$static._position), P4_longLit);\n\t}\n\t\n\tfunction $Init_9(this$static) {\n\t\tthis$static._position = P0_longLit;\n\t\tthis$static.Low = P0_longLit;\n\t\tthis$static.Range = -1;\n\t\tthis$static._cacheSize = 1;\n\t\tthis$static._cache = 0;\n\t}\n\t\n\tfunction $ShiftLow(this$static) {\n\t\tvar LowHi, temp;\n\t\tLowHi = lowBits_0(shru(this$static.Low, 32));\n\t\tif (LowHi != 0 || compare(this$static.Low, Pff000000_longLit) < 0) {\n\t\t\tthis$static._position = add(this$static._position, fromInt(this$static._cacheSize));\n\t\t\ttemp = this$static._cache;\n\t\t\tdo {\n\t\t\t\t$write(this$static.Stream, temp + LowHi);\n\t\t\t\ttemp = 255;\n\t\t\t} while (--this$static._cacheSize != 0);\n\t\t\tthis$static._cache = lowBits_0(this$static.Low) >>> 24;\n\t\t}\n\t\t++this$static._cacheSize;\n\t\tthis$static.Low = shl(and(this$static.Low, Pffffff_longLit), 8);\n\t}\n\t\n\tfunction GetPrice(Prob, symbol) {\n\t\t$clinit_66();\n\t\treturn ProbPrices[((Prob - symbol ^ -symbol) & 2047) >>> 2];\n\t}\n\t\n\tfunction InitBitModels_0(probs) {\n\t\t$clinit_66();\n\t\tvar i;\n\t\tfor (i = 0; i < probs.length; ++i) {\n\t\t\tprobs[i] = 1024;\n\t\t}\n\t}\n\t\n\tfunction getClass_45() {\n\t\treturn Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Encoder_2_classLit;\n\t}\n\t\n\tfunction Encoder_0() {\n\t}\n\t\n\t_ = Encoder_0.prototype = new Object_0();\n\t_.getClass$ = getClass_45;\n\t_.typeId$ = 0;\n\t_.Low = P0_longLit;\n\t_.Range = 0;\n\t_.Stream = null;\n\t_._cache = 0;\n\t_._cacheSize = 0;\n\t_._position = P0_longLit;\n\tvar ProbPrices;\n\tfunction decode(utf) {\n\t\tvar buf, i, x, y, z;\n\t\tbuf = $StringBuilder(new StringBuilder());\n\t\tfor (i = 0; i < utf.length; ++i) {\n\t\t\tx = utf[i] & 255;\n\t\t\tif ((x & 128) == 0) {\n\t\t\t\tif (x == 0) {\n\t\t\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid UTF-8');\n\t\t\t\t}\n\t\t\t\t$appendNonNull(buf.data, String.fromCharCode(x & 65535));\n\t\t\t} else if ((x & 224) == 192) {\n\t\t\t\tif (i + 1 >= utf.length) {\n\t\t\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid UTF-8');\n\t\t\t\t}\n\t\t\t\ty = utf[++i] & 255;\n\t\t\t\tif ((y & 192) != 128) {\n\t\t\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid UTF-8');\n\t\t\t\t}\n\t\t\t\t$append(buf.data, String.fromCharCode((x & 31) << 6 & 65535 | y & 63));\n\t\t\t} else if ((x & 240) == 224) {\n\t\t\t\tif (i + 2 >= utf.length) {\n\t\t\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid UTF-8');\n\t\t\t\t}\n\t\t\t\ty = utf[++i] & 255;\n\t\t\t\tif ((y & 192) != 128) {\n\t\t\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid UTF-8');\n\t\t\t\t}\n\t\t\t\tz = utf[++i] & 255;\n\t\t\t\tif ((z & 192) != 128) {\n\t\t\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid UTF-8');\n\t\t\t\t}\n\t\t\t\t$appendNonNull(buf.data, String.fromCharCode(((x & 15) << 12 | (y & 63) << 6 | z & 63) & 65535));\n\t\t\t} else {\n\t\t\t\tthrow $IllegalArgumentException(new IllegalArgumentException(), 'invalid UTF-8');\n\t\t\t}\n\t\t}\n\t\treturn $toString(buf.data);\n\t}\n\t\n\tfunction encode(s) {\n\t\tvar ch, chars, data, elen, i, charArr, n;\n\t\tchars = (n = s.length , charArr = initDim(_3C_classLit, 0, -1, n, 1) , $getChars(s, 0, n, charArr, 0) , charArr);\n\t\telen = 0;\n\t\tfor (i = 0; i < s.length; ++i) {\n\t\t\tch = chars[i];\n\t\t\tif (ch >= 1 && ch <= 127) {\n\t\t\t\t++elen;\n\t\t\t} else if (ch == 0 || ch >= 128 && ch <= 2047) {\n\t\t\t\telen += 2;\n\t\t\t} else {\n\t\t\t\telen += 3;\n\t\t\t}\n\t\t}\n\t\tdata = initDim(_3B_classLit, 0, -1, elen, 1);\n\t\telen = 0;\n\t\tfor (i = 0; i < s.length; ++i) {\n\t\t\tch = chars[i];\n\t\t\tif (ch >= 1 && ch <= 127) {\n\t\t\t\tdata[elen++] = ch << 24 >> 24;\n\t\t\t} else if (ch == 0 || ch >= 128 && ch <= 2047) {\n\t\t\t\tdata[elen++] = (192 | ch >> 6 & 31) << 24 >> 24;\n\t\t\t\tdata[elen++] = (128 | ch & 63) << 24 >> 24;\n\t\t\t} else {\n\t\t\t\tdata[elen++] = (224 | ch >> 12 & 15) << 24 >> 24;\n\t\t\t\tdata[elen++] = (128 | ch >> 6 & 63) << 24 >> 24;\n\t\t\t\tdata[elen++] = (128 | ch & 63) << 24 >> 24;\n\t\t\t}\n\t\t}\n\t\treturn data;\n\t}\n\t\n\tfunction $LZMADemo(this$static) {\n\t\treturn this$static;\n\t}\n\tfunction toDouble(a) {\n\t\treturn a[1] + a[0];\n\t}\n\t\n\tfunction compress() {\n\t\tvar this$static = $LZMADemo(new LZMADemo()),\n\t\t\tpercent,\n\t\t\tstart,\n\t\t\t/// Arguments\n\t\t\tstr = arguments[0],\n\t\t\tmode = arguments[1],\n\t\t\tcallback_num,\n\t\t\ton_finish,\n\t\t\ton_progress;\n\t\t\n\t\tif (typeof arguments[2] === \"function\") {\n\t\t\ton_finish = arguments[2];\n\t\t\tif (typeof arguments[3] === \"function\") {\n\t\t\t\ton_progress = arguments[3];\n\t\t\t}\n\t\t} else {\n\t\t\tcallback_num = arguments[2];\n\t\t}\n\t\t\n\t\tthis$static.mode = get_mode_obj(mode);\n\t\t\n\t\tthis$static.c = $LZMAByteArrayCompressor(new LZMAByteArrayCompressor(), encode(str), this$static.mode);\n\t\t\n\t\tif (on_progress) {\n\t\t\ton_progress(0);\n\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\tupdate_progress(0, callback_num);\n\t\t}\n\t\t\n\t\tfunction do_action() {\n\t\t\tvar res;\n\t\t\tstart = (new Date).getTime();\n\t\t\twhile ($execute(this$static.c)) {\n\t\t\t\tpercent = toDouble(this$static.c.chunker.inBytesProcessed) / toDouble(this$static.c.length_0);\n\t\t\t\t/// If about 200 miliseconds have passed, update the progress.\n\t\t\t\tif ((new Date).getTime() - start > 200) {\n\t\t\t\t\tif (on_progress) {\n\t\t\t\t\t\ton_progress(percent);\n\t\t\t\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\t\t\t\tupdate_progress(percent, callback_num);\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(do_action, 0);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (on_progress) {\n\t\t\t\ton_progress(1);\n\t\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\t\tupdate_progress(1, callback_num);\n\t\t\t}\n\t\t\t\n\t\t\t/// .slice(0) is required for Firefox 4.0 (because I think arrays are now passed by reference, which is not allowed when sending messages to or from web workers).\n\t\t\t/// .slice(0) simply returns the entire array by value.\n\t\t\tres = $toByteArray(this$static.c.output).slice(0);\n\t\t\t\n\t\t\tif (on_finish) {\n\t\t\t\ton_finish(res);\n\t\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\t\tpostMessage({\n\t\t\t\t\taction: action_compress,\n\t\t\t\t\tcallback_num: callback_num,\n\t\t\t\t\tresult: res\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tsetTimeout(do_action, 1);\n\t}\n\t\n\tfunction decompress() {\n\t\tvar this$static = $LZMADemo(new LZMADemo()),\n\t\t\tpercent,\n\t\t\tdata,\n\t\t\tstart,\n\t\t\ttext,\n\t\t\t/// Arguments\n\t\t\tbyte_arr = arguments[0],\n\t\t\tcallback_num,\n\t\t\ton_finish,\n\t\t\ton_progress;\n\t\t\n\t\tif (typeof arguments[1] === \"function\") {\n\t\t\ton_finish = arguments[1];\n\t\t\tif (typeof arguments[2] === \"function\") {\n\t\t\t\ton_progress = arguments[2];\n\t\t\t}\n\t\t} else {\n\t\t\tcallback_num = arguments[1];\n\t\t}\n\t\t\n\t\tdata = initValues(_3B_classLit, 0, -1, byte_arr);\n\t\t\n\t\tthis$static.d = $LZMAByteArrayDecompressor(new LZMAByteArrayDecompressor(), data);\n\t\t\n\t\tif (on_progress) {\n\t\t\ton_progress(0);\n\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\tupdate_progress(0, callback_num);\n\t\t}\n\t\t\n\t\tfunction do_action() {\n\t\t\tvar res;\n\t\t\tstart = (new Date).getTime();\n\t\t\twhile ($execute_0(this$static.d)) {\n\t\t\t\tpercent = toDouble(this$static.d.chunker.decoder.nowPos64) / toDouble(this$static.d.length_0);\n\t\t\t\t/// If about 200 miliseconds have passed, update the progress.\n\t\t\t\tif ((new Date).getTime() - start > 200) {\n\t\t\t\t\tif (on_progress) {\n\t\t\t\t\t\ton_progress(percent);\n\t\t\t\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\t\t\t\tupdate_progress(percent, callback_num);\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(do_action, 0);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (on_progress) {\n\t\t\t\ton_progress(1);\n\t\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\t\tupdate_progress(1, callback_num);\n\t\t\t}\n\t\t\t\n\t\t\tres = decode($toByteArray(this$static.d.output));\n\t\t\t\n\t\t\tif (on_finish) {\n\t\t\t\ton_finish(res);\n\t\t\t} else if (typeof callback_num !== \"undefined\") {\n\t\t\t\tpostMessage({\n\t\t\t\t\taction: action_decompress,\n\t\t\t\t\tcallback_num: callback_num,\n\t\t\t\t\tresult: res\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tsetTimeout(do_action, 0);\n\t}\n\t\n\tfunction $onModuleLoad(this$static) {\n\t\tcompress(this$static);\n\t\tdecompress(this$static);\n\t}\n\t\n\tfunction getClass_46() {\n\t\treturn Lorg_dellroad_lzma_demo_client_LZMADemo_2_classLit;\n\t}\n\t\n\tfunction LZMADemo () {}\n\t\n\t_ = LZMADemo.prototype = new Object_0();\n\t_.getClass$ = getClass_46;\n\t_.typeId$ = 0;\n\t_.c = null;\n\t_.d = null;\n\tvar DEFAULT_COMPRESSION_MODE;\n\tfunction init() {\n\t\t!!$stats && $stats({moduleName:$moduleName, subSystem:'startup', evtGroup:'moduleStartup', millis:(new Date()).getTime(), type:'onModuleLoadStart', className:'org.dellroad.lzma.demo.client.LZMADemo'});\n\t}\n\t\n\tfunction gwtOnLoad(errFn, modName, modBase) {\n\t\t$moduleName = modName;\n\t\t$moduleBase = modBase;\n\t\tif (errFn) {\n\t\t\ttry {\n\t\t\t\tinit();\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\terrFn(modName);\n\t\t\t}\n\t\t} else {\n\t\t\tinit();\n\t\t}\n\t}\n\t\n\tfunction nullMethod() {\n\t}\n\t\n\tvar Ljava_lang_Object_2_classLit = createForClass('java.lang.', 'Object'),\n\t\tLjava_lang_Throwable_2_classLit = createForClass('java.lang.', 'Throwable'),\n\t\tLjava_lang_Exception_2_classLit = createForClass('java.lang.', 'Exception'),\n\t\tLjava_lang_RuntimeException_2_classLit = createForClass('java.lang.', 'RuntimeException'),\n\t\tLcom_google_gwt_core_client_JavaScriptException_2_classLit = createForClass('com.google.gwt.core.client.', 'JavaScriptException'),\n\t\tLcom_google_gwt_core_client_JavaScriptObject_2_classLit = createForClass('com.google.gwt.core.client.', 'JavaScriptObject$'), _3_3D_classLit = createForArray('', '[[D'),\n\t\tLjava_io_InputStream_2_classLit = createForClass('java.io.', 'InputStream'),\n\t\tLjava_io_ByteArrayInputStream_2_classLit = createForClass('java.io.', 'ByteArrayInputStream'), _3B_classLit = createForArray('', '[B'),\n\t\tLjava_io_OutputStream_2_classLit = createForClass('java.io.', 'OutputStream'),\n\t\tLjava_io_ByteArrayOutputStream_2_classLit = createForClass('java.io.', 'ByteArrayOutputStream'),\n\t\tLjava_io_IOException_2_classLit = createForClass('java.io.', 'IOException'),\n\t\tLjava_lang_Enum_2_classLit = createForClass('java.lang.', 'Enum'),\n\t\tLjava_lang_ArithmeticException_2_classLit = createForClass('java.lang.', 'ArithmeticException'),\n\t\tLjava_lang_ArrayStoreException_2_classLit = createForClass('java.lang.', 'ArrayStoreException'), _3C_classLit = createForArray('', '[C'),\n\t\tLjava_lang_Class_2_classLit = createForClass('java.lang.', 'Class'),\n\t\tLjava_lang_ClassCastException_2_classLit = createForClass('java.lang.', 'ClassCastException'),\n\t\tLjava_lang_IllegalArgumentException_2_classLit = createForClass('java.lang.', 'IllegalArgumentException'),\n\t\tLjava_lang_IllegalStateException_2_classLit = createForClass('java.lang.', 'IllegalStateException'),\n\t\tLjava_lang_IndexOutOfBoundsException_2_classLit = createForClass('java.lang.', 'IndexOutOfBoundsException'), _3I_classLit = createForArray('', '[I'),\n\t\tLjava_lang_NullPointerException_2_classLit = createForClass('java.lang.', 'NullPointerException'),\n\t\tLjava_lang_String_2_classLit = createForClass('java.lang.', 'String'),\n\t\tLjava_lang_StringBuilder_2_classLit = createForClass('java.lang.', 'StringBuilder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZ_InWindow_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZ.', 'InWindow'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZ_BinTree_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZ.', 'BinTree'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZ_OutWindow_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZ.', 'OutWindow'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Chunker_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Chunker'), _3S_classLit = createForArray('', '[S'), _3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit = createForArray('[Lorg.dellroad.lzma.client.SevenZip.Compression.RangeCoder.', 'BitTreeDecoder;'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Decoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LenDecoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Decoder$LenDecoder'), _3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit = createForArray('[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Decoder$LiteralDecoder$Decoder2;'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Decoder$LiteralDecoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Decoder$LiteralDecoder$Decoder2'), _3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit = createForArray('[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder$Optimal;'), _3Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit = createForArray('[Lorg.dellroad.lzma.client.SevenZip.Compression.RangeCoder.', 'BitTreeEncoder;'), _3J_classLit = createForArray('', '[J'), _3Z_classLit = createForArray('', '[Z'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder'), _3Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit = createForArray('[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder$LiteralEncoder$Encoder2;'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder$LiteralEncoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder$LiteralEncoder$Encoder2'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder$LenEncoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenPriceTableEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder$LenPriceTableEncoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA.', 'Encoder$Optimal'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.', 'BitTreeDecoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.', 'BitTreeEncoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Decoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.', 'Decoder'),\n\t\tLorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Encoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.', 'Encoder'),\n\t\tLorg_dellroad_lzma_client_CompressionMode_2_classLit = createForEnum('org.dellroad.lzma.client.', 'CompressionMode'),\n\t\tLorg_dellroad_lzma_client_LZMACompressor_2_classLit = createForClass('org.dellroad.lzma.client.', 'LZMACompressor'),\n\t\tLorg_dellroad_lzma_client_LZMAByteArrayCompressor_2_classLit = createForClass('org.dellroad.lzma.client.', 'LZMAByteArrayCompressor'),\n\t\tLorg_dellroad_lzma_client_LZMADecompressor_2_classLit = createForClass('org.dellroad.lzma.client.', 'LZMADecompressor'),\n\t\tLorg_dellroad_lzma_client_LZMAByteArrayDecompressor_2_classLit = createForClass('org.dellroad.lzma.client.', 'LZMAByteArrayDecompressor'),\n\t\tLorg_dellroad_lzma_demo_client_LZMADemo_2_classLit = createForClass('org.dellroad.lzma.demo.client.', 'LZMADemo');\n\t\n\tgwtOnLoad(function() {},'lzma_demo','');\n\t\n\t\n\tvar get_mode_obj = (function () {\n\t\tvar modes = [\n\t\t\t\t\t\t{dictionarySize: 16, fb: 64,  matchFinder: 0, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 20, fb: 64,  matchFinder: 0, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 19, fb: 64,  matchFinder: 1, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 20, fb: 64,  matchFinder: 1, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 21, fb: 128, matchFinder: 1, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 22, fb: 128, matchFinder: 1, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 23, fb: 128, matchFinder: 1, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 24, fb: 255, matchFinder: 1, lc: 3, lp: 0, pb: 2},\n\t\t\t\t\t\t{dictionarySize: 25, fb: 255, matchFinder: 1, lc: 3, lp: 0, pb: 2}\n\t\t\t\t\t];\n\t\t\n\t\tfunction isNumber(n) {\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t}\n\n\t\treturn function (mode) {\n\t\t\tif (!isNumber(mode)) {\n\t\t\t\tmode = 1;\n\t\t\t} else {\n\t\t\t\tif (mode < 1) {\n\t\t\t\t\tmode = 1;\n\t\t\t\t} else if (mode > 9) {\n\t\t\t\t\tmode = 9;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn modes[mode - 1];\n\t\t}\n\t}());\n\t\n\treturn {\n\t\tcompress:   compress,\n\t\tdecompress: decompress\n\t};\n}());\n\n/// Allow node.js to be able to access this directly if it is included directly.\nthis.LZMA = LZMA;\n// -------------------------------------------------------------------------------------------------------------------\n// This file is was created from the google-caja project, and the standalone sanitizer // cd ~/src/cartodb\n// https://code.google.com/p/google-caja/wiki/JsHtmlSanitizer\n//\n// Steps to rebuild this file:\n// $ git clone https://github.com/google/caja.git google-caja\n// $ cd google-caja\n// $ ant\n// $ cp ant-lib/com/google/caja/plugin/html-css-sanitizer-bundle.js /path/to/cartodb.js/vendor/\n//\n// Additional changes after the built file above:\n// - Added: This header\n// - Modified: `iframe` element. Mark it as unsafe changing code from 4 to 16. (line: 3543)\n// - Modified: `sanitizeAttribs` at end, to allow \"data-*\"\" attributes (lines ~4755-4761)\n// - changed policy for a::target attribute to be allowed (html4.ATTRIBS: { 'a::target': ... changed value from 10 to 0) (line 3211)\n// -------------------------------------------------------------------------------------------------------------------\n\n\n/* Copyright Google Inc.\n * Licensed under the Apache Licence Version 2.0\n * Autogenerated at Wed Nov 25 17:35:12 CET 2015\n * \\@overrides window\n * \\@provides cssSchema, CSS_PROP_BIT_QUANTITY, CSS_PROP_BIT_HASH_VALUE, CSS_PROP_BIT_NEGATIVE_QUANTITY, CSS_PROP_BIT_QSTRING, CSS_PROP_BIT_URL, CSS_PROP_BIT_UNRESERVED_WORD, CSS_PROP_BIT_UNICODE_RANGE, CSS_PROP_BIT_GLOBAL_NAME, CSS_PROP_BIT_PROPERTY_NAME */\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_QUANTITY = 1;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_HASH_VALUE = 2;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_NEGATIVE_QUANTITY = 4;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_QSTRING = 8;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_URL = 16;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_UNRESERVED_WORD = 64;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_UNICODE_RANGE = 128;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_GLOBAL_NAME = 512;\n/**\n * @const\n * @type {number}\n */\nvar CSS_PROP_BIT_PROPERTY_NAME = 1024;\nvar cssSchema = (function () {\n    var L = [ [ 'aliceblue', 'antiquewhite', 'aqua', 'aquamarine', 'azure',\n        'beige', 'bisque', 'black', 'blanchedalmond', 'blue', 'blueviolet',\n        'brown', 'burlywood', 'cadetblue', 'chartreuse', 'chocolate', 'coral',\n        'cornflowerblue', 'cornsilk', 'crimson', 'cyan', 'darkblue',\n        'darkcyan', 'darkgoldenrod', 'darkgray', 'darkgreen', 'darkkhaki',\n        'darkmagenta', 'darkolivegreen', 'darkorange', 'darkorchid', 'darkred',\n        'darksalmon', 'darkseagreen', 'darkslateblue', 'darkslategray',\n        'darkturquoise', 'darkviolet', 'deeppink', 'deepskyblue', 'dimgray',\n        'dodgerblue', 'firebrick', 'floralwhite', 'forestgreen', 'fuchsia',\n        'gainsboro', 'ghostwhite', 'gold', 'goldenrod', 'gray', 'green',\n        'greenyellow', 'honeydew', 'hotpink', 'indianred', 'indigo', 'ivory',\n        'khaki', 'lavender', 'lavenderblush', 'lawngreen', 'lemonchiffon',\n        'lightblue', 'lightcoral', 'lightcyan', 'lightgoldenrodyellow',\n        'lightgreen', 'lightgrey', 'lightpink', 'lightsalmon', 'lightseagreen',\n        'lightskyblue', 'lightslategray', 'lightsteelblue', 'lightyellow',\n        'lime', 'limegreen', 'linen', 'magenta', 'maroon', 'mediumaquamarine',\n        'mediumblue', 'mediumorchid', 'mediumpurple', 'mediumseagreen',\n        'mediumslateblue', 'mediumspringgreen', 'mediumturquoise',\n        'mediumvioletred', 'midnightblue', 'mintcream', 'mistyrose',\n        'moccasin', 'navajowhite', 'navy', 'oldlace', 'olive', 'olivedrab',\n        'orange', 'orangered', 'orchid', 'palegoldenrod', 'palegreen',\n        'paleturquoise', 'palevioletred', 'papayawhip', 'peachpuff', 'peru',\n        'pink', 'plum', 'powderblue', 'purple', 'red', 'rosybrown',\n        'royalblue', 'saddlebrown', 'salmon', 'sandybrown', 'seagreen',\n        'seashell', 'sienna', 'silver', 'skyblue', 'slateblue', 'slategray',\n        'snow', 'springgreen', 'steelblue', 'tan', 'teal', 'thistle', 'tomato',\n        'transparent', 'turquoise', 'violet', 'wheat', 'white', 'whitesmoke',\n        'yellow', 'yellowgreen' ], [ 'all-scroll', 'col-resize', 'crosshair',\n        'default', 'e-resize', 'hand', 'help', 'move', 'n-resize', 'ne-resize',\n        'no-drop', 'not-allowed', 'nw-resize', 'pointer', 'progress',\n        'row-resize', 's-resize', 'se-resize', 'sw-resize', 'text',\n        'vertical-text', 'w-resize', 'wait' ], [ 'armenian', 'decimal',\n        'decimal-leading-zero', 'disc', 'georgian', 'lower-alpha',\n        'lower-greek', 'lower-latin', 'lower-roman', 'square', 'upper-alpha',\n        'upper-latin', 'upper-roman' ], [ '100', '200', '300', '400', '500',\n        '600', '700', '800', '900', 'bold', 'bolder', 'lighter' ], [\n        'block-level', 'inline-level', 'table-caption', 'table-cell',\n        'table-column', 'table-column-group', 'table-footer-group',\n        'table-header-group', 'table-row', 'table-row-group' ], [ 'condensed',\n        'expanded', 'extra-condensed', 'extra-expanded', 'narrower',\n        'semi-condensed', 'semi-expanded', 'ultra-condensed', 'ultra-expanded',\n        'wider' ], [ 'inherit', 'inline', 'inline-block', 'inline-box',\n        'inline-flex', 'inline-grid', 'inline-list-item', 'inline-stack',\n        'inline-table', 'run-in' ], [ 'behind', 'center-left', 'center-right',\n        'far-left', 'far-right', 'left-side', 'leftwards', 'right-side',\n        'rightwards' ], [ 'large', 'larger', 'small', 'smaller', 'x-large',\n        'x-small', 'xx-large', 'xx-small' ], [ 'dashed', 'dotted', 'double',\n        'groove', 'outset', 'ridge', 'solid' ], [ 'ease', 'ease-in',\n        'ease-in-out', 'ease-out', 'linear', 'step-end', 'step-start' ], [\n        'at', 'closest-corner', 'closest-side', 'ellipse', 'farthest-corner',\n        'farthest-side' ], [ 'baseline', 'middle', 'sub', 'super',\n        'text-bottom', 'text-top' ], [ 'caption', 'icon', 'menu',\n        'message-box', 'small-caption', 'status-bar' ], [ 'fast', 'faster',\n        'slow', 'slower', 'x-fast', 'x-slow' ], [ 'above', 'below', 'higher',\n        'level', 'lower' ], [ 'cursive', 'fantasy', 'monospace', 'sans-serif',\n        'serif' ], [ 'loud', 'silent', 'soft', 'x-loud', 'x-soft' ], [\n        'no-repeat', 'repeat-x', 'repeat-y', 'round', 'space' ], [ 'blink',\n        'line-through', 'overline', 'underline' ], [ 'block', 'flex', 'grid',\n        'table' ], [ 'high', 'low', 'x-high', 'x-low' ], [ 'nowrap', 'pre',\n        'pre-line', 'pre-wrap' ], [ 'absolute', 'relative', 'static' ], [\n        'alternate', 'alternate-reverse', 'reverse' ], [ 'border-box',\n        'content-box', 'padding-box' ], [ 'capitalize', 'lowercase',\n        'uppercase' ], [ 'child', 'female', 'male' ], [ '=', 'opacity' ], [\n        'backwards', 'forwards' ], [ 'bidi-override', 'embed' ], [ 'bottom',\n        'top' ], [ 'break-all', 'keep-all' ], [ 'clip', 'ellipsis' ], [\n        'contain', 'cover' ], [ 'continuous', 'digits' ], [ 'end', 'start' ], [\n        'flat', 'preserve-3d' ], [ 'hide', 'show' ], [ 'horizontal', 'vertical'\n      ], [ 'inside', 'outside' ], [ 'italic', 'oblique' ], [ 'left', 'right' ],\n      [ 'ltr', 'rtl' ], [ 'no-content', 'no-display' ], [ 'paused', 'running' ]\n      , [ 'suppress', 'unrestricted' ], [ 'thick', 'thin' ], [ ',' ], [ '/' ],\n      [ 'all' ], [ 'always' ], [ 'auto' ], [ 'avoid' ], [ 'both' ], [\n        'break-word' ], [ 'center' ], [ 'circle' ], [ 'code' ], [ 'collapse' ],\n      [ 'contents' ], [ 'fixed' ], [ 'hidden' ], [ 'infinite' ], [ 'inset' ], [\n        'invert' ], [ 'justify' ], [ 'list-item' ], [ 'local' ], [ 'medium' ],\n      [ 'mix' ], [ 'none' ], [ 'normal' ], [ 'once' ], [ 'repeat' ], [ 'scroll'\n      ], [ 'separate' ], [ 'small-caps' ], [ 'spell-out' ], [ 'to' ], [\n        'visible' ] ];\n    var schema = {\n      'animation': {\n        'cssPropBits': 517,\n        'cssLitGroup': [ L[ 10 ], L[ 24 ], L[ 29 ], L[ 45 ], L[ 48 ], L[ 54 ],\n          L[ 63 ], L[ 71 ], L[ 72 ] ],\n        'cssFns': [ 'cubic-bezier()', 'steps()' ]\n      },\n      'animation-delay': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 48 ] ],\n        'cssFns': [ ]\n      },\n      'animation-direction': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 24 ], L[ 48 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'animation-duration': 'animation-delay',\n      'animation-fill-mode': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 29 ], L[ 48 ], L[ 54 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'animation-iteration-count': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 48 ], L[ 63 ] ],\n        'cssFns': [ ]\n      },\n      'animation-name': {\n        'cssPropBits': 512,\n        'cssLitGroup': [ L[ 48 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'animation-play-state': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 45 ], L[ 48 ] ],\n        'cssFns': [ ]\n      },\n      'animation-timing-function': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 10 ], L[ 48 ] ],\n        'cssFns': [ 'cubic-bezier()', 'steps()' ]\n      },\n      'appearance': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'azimuth': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 7 ], L[ 42 ], L[ 56 ] ],\n        'cssFns': [ ]\n      },\n      'backface-visibility': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 59 ], L[ 62 ], L[ 80 ] ],\n        'cssFns': [ ]\n      },\n      'background': {\n        'cssPropBits': 23,\n        'cssLitGroup': [ L[ 0 ], L[ 18 ], L[ 25 ], L[ 31 ], L[ 34 ], L[ 42 ],\n          L[ 48 ], L[ 49 ], L[ 52 ], L[ 56 ], L[ 61 ], L[ 68 ], L[ 71 ], L[ 74\n          ], L[ 75 ] ],\n        'cssFns': [ 'image()', 'linear-gradient()', 'radial-gradient()',\n          'repeating-linear-gradient()', 'repeating-radial-gradient()',\n          'rgb()', 'rgba()' ]\n      },\n      'background-attachment': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 48 ], L[ 61 ], L[ 68 ], L[ 75 ] ],\n        'cssFns': [ ]\n      },\n      'background-color': {\n        'cssPropBits': 2,\n        'cssLitGroup': [ L[ 0 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'background-image': {\n        'cssPropBits': 16,\n        'cssLitGroup': [ L[ 48 ], L[ 71 ] ],\n        'cssFns': [ 'image()', 'linear-gradient()', 'radial-gradient()',\n          'repeating-linear-gradient()', 'repeating-radial-gradient()' ]\n      },\n      'background-position': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 31 ], L[ 42 ], L[ 48 ], L[ 56 ] ],\n        'cssFns': [ ]\n      },\n      'background-repeat': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 18 ], L[ 48 ], L[ 74 ] ],\n        'cssFns': [ ]\n      },\n      'background-size': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 34 ], L[ 48 ], L[ 52 ] ],\n        'cssFns': [ ]\n      },\n      'border': {\n        'cssPropBits': 7,\n        'cssLitGroup': [ L[ 0 ], L[ 9 ], L[ 47 ], L[ 62 ], L[ 64 ], L[ 69 ], L[\n            71 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'border-bottom': 'border',\n      'border-bottom-color': 'background-color',\n      'border-bottom-left-radius': {\n        'cssPropBits': 5,\n        'cssFns': [ ]\n      },\n      'border-bottom-right-radius': 'border-bottom-left-radius',\n      'border-bottom-style': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 9 ], L[ 62 ], L[ 64 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'border-bottom-width': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 47 ], L[ 69 ] ],\n        'cssFns': [ ]\n      },\n      'border-collapse': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 59 ], L[ 76 ] ],\n        'cssFns': [ ]\n      },\n      'border-color': 'background-color',\n      'border-left': 'border',\n      'border-left-color': 'background-color',\n      'border-left-style': 'border-bottom-style',\n      'border-left-width': 'border-bottom-width',\n      'border-radius': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 49 ] ],\n        'cssFns': [ ]\n      },\n      'border-right': 'border',\n      'border-right-color': 'background-color',\n      'border-right-style': 'border-bottom-style',\n      'border-right-width': 'border-bottom-width',\n      'border-spacing': 'border-bottom-left-radius',\n      'border-style': 'border-bottom-style',\n      'border-top': 'border',\n      'border-top-color': 'background-color',\n      'border-top-left-radius': 'border-bottom-left-radius',\n      'border-top-right-radius': 'border-bottom-left-radius',\n      'border-top-style': 'border-bottom-style',\n      'border-top-width': 'border-bottom-width',\n      'border-width': 'border-bottom-width',\n      'bottom': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 52 ] ],\n        'cssFns': [ ]\n      },\n      'box': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 60 ], L[ 71 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'box-shadow': {\n        'cssPropBits': 7,\n        'cssLitGroup': [ L[ 0 ], L[ 48 ], L[ 64 ], L[ 71 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'box-sizing': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 25 ] ],\n        'cssFns': [ ]\n      },\n      'caption-side': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 31 ] ],\n        'cssFns': [ ]\n      },\n      'clear': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 42 ], L[ 54 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'clip': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 52 ] ],\n        'cssFns': [ 'rect()' ]\n      },\n      'color': 'background-color',\n      'content': {\n        'cssPropBits': 8,\n        'cssLitGroup': [ L[ 71 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'cue': {\n        'cssPropBits': 16,\n        'cssLitGroup': [ L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'cue-after': 'cue',\n      'cue-before': 'cue',\n      'cursor': {\n        'cssPropBits': 16,\n        'cssLitGroup': [ L[ 1 ], L[ 48 ], L[ 52 ] ],\n        'cssFns': [ ]\n      },\n      'direction': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 43 ] ],\n        'cssFns': [ ]\n      },\n      'display': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 4 ], L[ 6 ], L[ 20 ], L[ 52 ], L[ 67 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'display-extras': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 67 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'display-inside': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 20 ], L[ 52 ] ],\n        'cssFns': [ ]\n      },\n      'display-outside': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 4 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'elevation': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 15 ] ],\n        'cssFns': [ ]\n      },\n      'empty-cells': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 38 ] ],\n        'cssFns': [ ]\n      },\n      'filter': {\n        'cssPropBits': 0,\n        'cssFns': [ 'alpha()' ]\n      },\n      'float': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 42 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'font': {\n        'cssPropBits': 73,\n        'cssLitGroup': [ L[ 3 ], L[ 8 ], L[ 13 ], L[ 16 ], L[ 41 ], L[ 48 ], L[\n            49 ], L[ 69 ], L[ 72 ], L[ 77 ] ],\n        'cssFns': [ ]\n      },\n      'font-family': {\n        'cssPropBits': 72,\n        'cssLitGroup': [ L[ 16 ], L[ 48 ] ],\n        'cssFns': [ ]\n      },\n      'font-size': {\n        'cssPropBits': 1,\n        'cssLitGroup': [ L[ 8 ], L[ 69 ] ],\n        'cssFns': [ ]\n      },\n      'font-stretch': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 5 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'font-style': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 41 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'font-variant': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 72 ], L[ 77 ] ],\n        'cssFns': [ ]\n      },\n      'font-weight': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 3 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'height': 'bottom',\n      'left': 'bottom',\n      'letter-spacing': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'line-height': {\n        'cssPropBits': 1,\n        'cssLitGroup': [ L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'list-style': {\n        'cssPropBits': 16,\n        'cssLitGroup': [ L[ 2 ], L[ 40 ], L[ 57 ], L[ 71 ] ],\n        'cssFns': [ 'image()', 'linear-gradient()', 'radial-gradient()',\n          'repeating-linear-gradient()', 'repeating-radial-gradient()' ]\n      },\n      'list-style-image': {\n        'cssPropBits': 16,\n        'cssLitGroup': [ L[ 71 ] ],\n        'cssFns': [ 'image()', 'linear-gradient()', 'radial-gradient()',\n          'repeating-linear-gradient()', 'repeating-radial-gradient()' ]\n      },\n      'list-style-position': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 40 ] ],\n        'cssFns': [ ]\n      },\n      'list-style-type': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 2 ], L[ 57 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'margin': 'bottom',\n      'margin-bottom': 'bottom',\n      'margin-left': 'bottom',\n      'margin-right': 'bottom',\n      'margin-top': 'bottom',\n      'max-height': {\n        'cssPropBits': 1,\n        'cssLitGroup': [ L[ 52 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'max-width': 'max-height',\n      'min-height': {\n        'cssPropBits': 1,\n        'cssLitGroup': [ L[ 52 ] ],\n        'cssFns': [ ]\n      },\n      'min-width': 'min-height',\n      'opacity': {\n        'cssPropBits': 1,\n        'cssFns': [ ]\n      },\n      'outline': {\n        'cssPropBits': 7,\n        'cssLitGroup': [ L[ 0 ], L[ 9 ], L[ 47 ], L[ 62 ], L[ 64 ], L[ 65 ], L[\n            69 ], L[ 71 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'outline-color': {\n        'cssPropBits': 2,\n        'cssLitGroup': [ L[ 0 ], L[ 65 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'outline-style': 'border-bottom-style',\n      'outline-width': 'border-bottom-width',\n      'overflow': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 52 ], L[ 62 ], L[ 75 ], L[ 80 ] ],\n        'cssFns': [ ]\n      },\n      'overflow-wrap': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 55 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'overflow-x': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 44 ], L[ 52 ], L[ 62 ], L[ 75 ], L[ 80 ] ],\n        'cssFns': [ ]\n      },\n      'overflow-y': 'overflow-x',\n      'padding': 'opacity',\n      'padding-bottom': 'opacity',\n      'padding-left': 'opacity',\n      'padding-right': 'opacity',\n      'padding-top': 'opacity',\n      'page-break-after': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 42 ], L[ 51 ], L[ 52 ], L[ 53 ] ],\n        'cssFns': [ ]\n      },\n      'page-break-before': 'page-break-after',\n      'page-break-inside': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 52 ], L[ 53 ] ],\n        'cssFns': [ ]\n      },\n      'pause': 'border-bottom-left-radius',\n      'pause-after': 'border-bottom-left-radius',\n      'pause-before': 'border-bottom-left-radius',\n      'perspective': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'perspective-origin': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 31 ], L[ 42 ], L[ 56 ] ],\n        'cssFns': [ ]\n      },\n      'pitch': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 21 ], L[ 69 ] ],\n        'cssFns': [ ]\n      },\n      'pitch-range': 'border-bottom-left-radius',\n      'play-during': {\n        'cssPropBits': 16,\n        'cssLitGroup': [ L[ 52 ], L[ 70 ], L[ 71 ], L[ 74 ] ],\n        'cssFns': [ ]\n      },\n      'position': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 23 ] ],\n        'cssFns': [ ]\n      },\n      'quotes': {\n        'cssPropBits': 8,\n        'cssLitGroup': [ L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'resize': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 39 ], L[ 54 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'richness': 'border-bottom-left-radius',\n      'right': 'bottom',\n      'speak': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 71 ], L[ 72 ], L[ 78 ] ],\n        'cssFns': [ ]\n      },\n      'speak-header': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 51 ], L[ 73 ] ],\n        'cssFns': [ ]\n      },\n      'speak-numeral': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 35 ] ],\n        'cssFns': [ ]\n      },\n      'speak-punctuation': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 58 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'speech-rate': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 14 ], L[ 69 ] ],\n        'cssFns': [ ]\n      },\n      'stress': 'border-bottom-left-radius',\n      'table-layout': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 52 ], L[ 61 ] ],\n        'cssFns': [ ]\n      },\n      'text-align': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 42 ], L[ 56 ], L[ 66 ] ],\n        'cssFns': [ ]\n      },\n      'text-decoration': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 19 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'text-indent': 'border-bottom-left-radius',\n      'text-overflow': {\n        'cssPropBits': 8,\n        'cssLitGroup': [ L[ 33 ] ],\n        'cssFns': [ ]\n      },\n      'text-shadow': 'box-shadow',\n      'text-transform': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 26 ], L[ 71 ] ],\n        'cssFns': [ ]\n      },\n      'text-wrap': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 46 ], L[ 71 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'top': 'bottom',\n      'transform': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 71 ] ],\n        'cssFns': [ 'matrix()', 'perspective()', 'rotate()', 'rotate3d()',\n          'rotatex()', 'rotatey()', 'rotatez()', 'scale()', 'scale3d()',\n          'scalex()', 'scaley()', 'scalez()', 'skew()', 'skewx()', 'skewy()',\n          'translate()', 'translate3d()', 'translatex()', 'translatey()',\n          'translatez()' ]\n      },\n      'transform-origin': 'perspective-origin',\n      'transform-style': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 37 ] ],\n        'cssFns': [ ]\n      },\n      'transition': {\n        'cssPropBits': 1029,\n        'cssLitGroup': [ L[ 10 ], L[ 48 ], L[ 50 ], L[ 71 ] ],\n        'cssFns': [ 'cubic-bezier()', 'steps()' ]\n      },\n      'transition-delay': 'animation-delay',\n      'transition-duration': 'animation-delay',\n      'transition-property': {\n        'cssPropBits': 1024,\n        'cssLitGroup': [ L[ 48 ], L[ 50 ] ],\n        'cssFns': [ ]\n      },\n      'transition-timing-function': 'animation-timing-function',\n      'unicode-bidi': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 30 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'vertical-align': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 12 ], L[ 31 ] ],\n        'cssFns': [ ]\n      },\n      'visibility': 'backface-visibility',\n      'voice-family': {\n        'cssPropBits': 8,\n        'cssLitGroup': [ L[ 27 ], L[ 48 ] ],\n        'cssFns': [ ]\n      },\n      'volume': {\n        'cssPropBits': 1,\n        'cssLitGroup': [ L[ 17 ], L[ 69 ] ],\n        'cssFns': [ ]\n      },\n      'white-space': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 22 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'width': 'min-height',\n      'word-break': {\n        'cssPropBits': 0,\n        'cssLitGroup': [ L[ 32 ], L[ 72 ] ],\n        'cssFns': [ ]\n      },\n      'word-spacing': 'letter-spacing',\n      'word-wrap': 'overflow-wrap',\n      'z-index': 'bottom',\n      'zoom': 'line-height',\n      'cubic-bezier()': 'animation-delay',\n      'steps()': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 36 ], L[ 48 ] ],\n        'cssFns': [ ]\n      },\n      'image()': {\n        'cssPropBits': 18,\n        'cssLitGroup': [ L[ 0 ], L[ 48 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'linear-gradient()': {\n        'cssPropBits': 7,\n        'cssLitGroup': [ L[ 0 ], L[ 31 ], L[ 42 ], L[ 48 ], L[ 79 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'radial-gradient()': {\n        'cssPropBits': 7,\n        'cssLitGroup': [ L[ 0 ], L[ 11 ], L[ 31 ], L[ 42 ], L[ 48 ], L[ 56 ],\n          L[ 57 ] ],\n        'cssFns': [ 'rgb()', 'rgba()' ]\n      },\n      'repeating-linear-gradient()': 'linear-gradient()',\n      'repeating-radial-gradient()': 'radial-gradient()',\n      'rgb()': {\n        'cssPropBits': 1,\n        'cssLitGroup': [ L[ 48 ] ],\n        'cssFns': [ ]\n      },\n      'rgba()': 'rgb()',\n      'rect()': {\n        'cssPropBits': 5,\n        'cssLitGroup': [ L[ 48 ], L[ 52 ] ],\n        'cssFns': [ ]\n      },\n      'alpha()': {\n        'cssPropBits': 1,\n        'cssLitGroup': [ L[ 28 ] ],\n        'cssFns': [ ]\n      },\n      'matrix()': 'animation-delay',\n      'perspective()': 'border-bottom-left-radius',\n      'rotate()': 'border-bottom-left-radius',\n      'rotate3d()': 'animation-delay',\n      'rotatex()': 'border-bottom-left-radius',\n      'rotatey()': 'border-bottom-left-radius',\n      'rotatez()': 'border-bottom-left-radius',\n      'scale()': 'animation-delay',\n      'scale3d()': 'animation-delay',\n      'scalex()': 'border-bottom-left-radius',\n      'scaley()': 'border-bottom-left-radius',\n      'scalez()': 'border-bottom-left-radius',\n      'skew()': 'animation-delay',\n      'skewx()': 'border-bottom-left-radius',\n      'skewy()': 'border-bottom-left-radius',\n      'translate()': 'animation-delay',\n      'translate3d()': 'animation-delay',\n      'translatex()': 'border-bottom-left-radius',\n      'translatey()': 'border-bottom-left-radius',\n      'translatez()': 'border-bottom-left-radius'\n    };\n    if (true) {\n      for (var key in schema) {\n        if ('string' === typeof schema[ key ] &&\n          Object.hasOwnProperty.call(schema, key)) {\n          schema[ key ] = schema[ schema[ key ] ];\n        }\n      }\n    }\n    return schema;\n  })();\nif (typeof window !== 'undefined') {\n  window['cssSchema'] = cssSchema;\n}\n;\n// Copyright (C) 2011 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * A lexical scannar for CSS3 as defined at http://www.w3.org/TR/css3-syntax .\n *\n * @author Mike Samuel <mikesamuel@gmail.com>\n * \\@provides lexCss, decodeCss\n * \\@overrides window\n */\n\nvar lexCss;\nvar decodeCss;\n\n(function () {\n\n  /**\n   * Decodes an escape sequence as specified in CSS3 section 4.1.\n   * http://www.w3.org/TR/css3-syntax/#characters\n   * @private\n   */\n  function decodeCssEscape(s) {\n    var i = parseInt(s.substring(1), 16);\n    // If parseInt didn't find a hex diigt, it returns NaN so return the\n    // escaped character.\n    // Otherwise, parseInt will stop at the first non-hex digit so there's no\n    // need to worry about trailing whitespace.\n    if (i > 0xffff) {\n      // A supplemental codepoint.\n      return i -= 0x10000,\n        String.fromCharCode(\n            0xd800 + (i >> 10),\n            0xdc00 + (i & 0x3FF));\n    } else if (i == i) {\n      return String.fromCharCode(i);\n    } else if (s[1] < ' ') {\n      // \"a backslash followed by a newline is ignored\".\n      return '';\n    } else {\n      return s[1];\n    }\n  }\n\n  /**\n   * Returns an equivalent CSS string literal given plain text: foo -> \"foo\".\n   * @private\n   */\n  function escapeCssString(s, replacer) {\n    return '\"' + s.replace(/[\\u0000-\\u001f\\\\\\\"<>]/g, replacer) + '\"';\n  }\n\n  /**\n   * Maps chars to CSS escaped equivalents: \"\\n\" -> \"\\\\a \".\n   * @private\n   */\n  function escapeCssStrChar(ch) {\n    return cssStrChars[ch]\n        || (cssStrChars[ch] = '\\\\' + ch.charCodeAt(0).toString(16) + ' ');\n  }\n\n  /**\n   * Maps chars to URI escaped equivalents: \"\\n\" -> \"%0a\".\n   * @private\n   */\n  function escapeCssUrlChar(ch) {\n    return cssUrlChars[ch]\n        || (cssUrlChars[ch] = (ch < '\\x10' ? '%0' : '%')\n            + ch.charCodeAt(0).toString(16));\n  }\n\n  /**\n   * Mapping of CSS special characters to escaped equivalents.\n   * @private\n   */\n  var cssStrChars = {\n    '\\\\': '\\\\\\\\'\n  };\n\n  /**\n   * Mapping of CSS special characters to URL-escaped equivalents.\n   * @private\n   */\n  var cssUrlChars = {\n    '\\\\': '%5c'\n  };\n\n  // The comments below are copied from the CSS3 module syntax at\n  // http://www.w3.org/TR/css3-syntax .\n  // These string constants minify out when this is run-through closure\n  // compiler.\n  // Rules that have been adapted have comments prefixed with \"Diff:\", and\n  // where rules have been combined to avoid back-tracking in the regex engine\n  // or to work around limitations, there is a comment prefixed with\n  // \"NewRule:\".\n\n  // In the below, we assume CRLF and CR have been normalize to CR.\n\n  // wc  ::=  #x9 | #xA | #xC | #xD | #x20\n  var WC = '[\\\\t\\\\n\\\\f ]';\n  // w  ::=  wc*\n  var W = WC + '*';\n  // nl  ::=  #xA | #xD #xA | #xD | #xC\n  var NL = '[\\\\n\\\\f]';\n  // nonascii  ::=  [#x80-#xD7FF#xE000-#xFFFD#x10000-#x10FFFF]\n  // NewRule: Supplemental codepoints are represented as surrogate pairs in JS.\n  var SURROGATE_PAIR = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]';\n  var NONASCII = '[\\\\u0080-\\\\ud7ff\\\\ue000-\\\\ufffd]|' + SURROGATE_PAIR;\n  // unicode  ::=  '\\' [0-9a-fA-F]{1,6} wc?\n  // NewRule: No point in having ESCAPE do (\\\\x|\\\\y)\n  var UNICODE_TAIL = '[0-9a-fA-F]{1,6}' + WC + '?';\n  var UNICODE = '\\\\\\\\' + UNICODE_TAIL;\n  // escape  ::=  unicode\n  //           | '\\' [#x20-#x7E#x80-#xD7FF#xE000-#xFFFD#x10000-#x10FFFF]\n  // NewRule: Below we use escape tail to efficiently match an escape or a\n  // line continuation so we can decode string content.\n  var ESCAPE_TAIL = '(?:' + UNICODE_TAIL\n      + '|[\\\\u0020-\\\\u007e\\\\u0080-\\\\ud7ff\\\\ue000\\\\ufffd]|'\n      + SURROGATE_PAIR + ')';\n  var ESCAPE = '\\\\\\\\' + ESCAPE_TAIL;\n  // urlchar  ::=  [#x9#x21#x23-#x26#x28-#x7E] | nonascii | escape\n  var URLCHAR = '(?:[\\\\t\\\\x21\\\\x23-\\\\x26\\\\x28-\\\\x5b\\\\x5d-\\\\x7e]|'\n      + NONASCII + '|' + ESCAPE + ')';\n  // stringchar  ::= urlchar | #x20 | '\\' nl\n  // We ignore mismatched surrogate pairs inside strings, so stringchar\n  // simplifies to a non-(quote|newline|backslash) or backslash any.\n  // Since we normalize CRLF to a single code-unit, there is no special\n  // handling needed for '\\\\' + CRLF.\n  var STRINGCHAR = '[^\\'\"\\\\n\\\\f\\\\\\\\]|\\\\\\\\[\\\\s\\\\S]';\n  // string  ::=  '\"' (stringchar | \"'\")* '\"' | \"'\" (stringchar | '\"')* \"'\"\n  var STRING = '\"(?:\\'|' + STRINGCHAR + ')*\"'\n      + '|\\'(?:\\\"|' + STRINGCHAR + ')*\\'';\n  // num  ::=  [0-9]+ | [0-9]* '.' [0-9]+\n  // Diff: We attach signs to num tokens.\n  var NUM = '[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)';\n  // nmstart  ::=  [a-zA-Z] | '_' | nonascii | escape\n  var NMSTART = '(?:[a-zA-Z_]|' + NONASCII + '|' + ESCAPE + ')';\n  // nmchar  ::=  [a-zA-Z0-9] | '-' | '_' | nonascii | escape\n  var NMCHAR = '(?:[a-zA-Z0-9_-]|' + NONASCII + '|' + ESCAPE + ')';\n  // name  ::=  nmchar+\n  var NAME = NMCHAR + '+';\n  // ident  ::=  '-'? nmstart nmchar*\n  var IDENT = '-?' + NMSTART + NMCHAR + '*';\n\n  // ATKEYWORD  ::=  '@' ident\n  var ATKEYWORD = '@' + IDENT;\n  // HASH  ::=  '#' name\n  var HASH = '#' + NAME;\n  // NUMBER  ::=  num\n  var NUMBER = NUM;\n\n  // NewRule: union of IDENT, ATKEYWORD, HASH, but excluding #[0-9].\n  var WORD_TERM = '(?:@?-?' + NMSTART + '|#)' + NMCHAR + '*';\n\n  // PERCENTAGE  ::=  num '%'\n  var PERCENTAGE = NUM + '%';\n  // DIMENSION  ::=  num ident\n  var DIMENSION = NUM + IDENT;\n  var NUMERIC_VALUE = NUM + '(?:%|' + IDENT + ')?';\n  // URI  ::=  \"url(\" w (string | urlchar* ) w \")\"\n  var URI = 'url[(]' + W + '(?:' + STRING + '|' + URLCHAR + '*)' + W + '[)]';\n  // UNICODE-RANGE  ::=  \"U+\" [0-9A-F?]{1,6} ('-' [0-9A-F]{1,6})?\n  var UNICODE_RANGE = 'U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?';\n  // CDO  ::=  \"<\\!--\"\n  var CDO = '<\\!--';\n  // CDC  ::=  \"-->\"\n  var CDC = '-->';\n  // S  ::=  wc+\n  var S = WC + '+';\n  // COMMENT  ::=  \"/*\" [^*]* '*'+ ([^/] [^*]* '*'+)* \"/\"\n  // Diff: recognizes // comments.\n  var COMMENT = '/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\\\n\\\\f]*)';\n  // FUNCTION  ::=  ident '('\n  // Diff: We exclude url explicitly.\n  // TODO: should we be tolerant of \"fn (\"?\n  var FUNCTION = '(?!url[(])' + IDENT + '[(]';\n  // INCLUDES  ::=  \"~=\"\n  var INCLUDES = '~=';\n  // DASHMATCH  ::=  \"|=\"\n  var DASHMATCH = '[|]=';\n  // PREFIXMATCH  ::=  \"^=\"\n  var PREFIXMATCH = '[^]=';\n  // SUFFIXMATCH  ::=  \"$=\"\n  var SUFFIXMATCH = '[$]=';\n  // SUBSTRINGMATCH  ::=  \"*=\"\n  var SUBSTRINGMATCH = '[*]=';\n  // NewRule: one rule for all the comparison operators.\n  var CMP_OPS = '[~|^$*]=';\n  // CHAR  ::=  any character not matched by the above rules, except for \" or '\n  // Diff: We exclude / and \\ since they are handled above to prevent\n  // /* without a following */ from combining when comments are concatenated.\n  var CHAR = '[^\"\\'\\\\\\\\/]|/(?![/*])';\n  // BOM  ::=  #xFEFF\n  var BOM = '\\\\uFEFF';\n\n  var CSS_TOKEN = new RegExp([\n      BOM, UNICODE_RANGE, URI, FUNCTION, WORD_TERM, STRING, NUMERIC_VALUE,\n      CDO, CDC, S, COMMENT, CMP_OPS, CHAR].join(\"|\"), 'gi');\n\n  var CSS_DECODER = new RegExp('\\\\\\\\(?:' + ESCAPE_TAIL + '|' + NL + ')', 'g');\n  var URL_RE = new RegExp('^url\\\\(' + W + '[\"\\']?|[\"\\']?' + W + '\\\\)$', 'gi');\n  /**\n   * Decodes CSS escape sequences in a CSS string body.\n   */\n   decodeCss = function (css) {\n     return css.replace(CSS_DECODER, decodeCssEscape);\n   };\n\n  /**\n   * Given CSS Text, returns an array of normalized tokens.\n   * @param {string} cssText\n   * @return {Array.<string>} tokens where all ignorable token sequences have\n   *    been reduced to a single {@code \" \"} and all strings and\n   *    {@code url(...)} tokens have been normalized to use double quotes as\n   *    delimiters and to not otherwise contain double quotes.\n   */\n  lexCss = function (cssText) {\n    // Stringify input. Additionally, insert and remove a non-latin1 character\n    // to force Firefox 33 to switch to a wide string representation, avoiding\n    // a performance bug. This workaround should become unnecessary after\n    // Firefox 34. https://bugzilla.mozilla.org/show_bug.cgi?id=1081175\n    // https://code.google.com/p/google-caja/issues/detail?id=1941\n    cssText = ('\\uffff' + cssText).replace(/^\\uffff/, '');\n\n    // // Normalize CRLF & CR to LF.\n    cssText = cssText.replace(/\\r\\n?/g, '\\n');\n\n    // Tokenize.\n    var tokens = cssText.match(CSS_TOKEN) || [];\n    var j = 0;\n    var last = ' ';\n    for (var i = 0, n = tokens.length; i < n; ++i) {\n      // Normalize all escape sequences.  We will have to re-escape some\n      // codepoints in string and url(...) bodies but we already know the\n      // boundaries.\n      // We might mistakenly treat a malformed identifier like \\22\\20\\22 as a\n      // string, but that will not break any valid stylesheets since we requote\n      // and re-escape in string below.\n      var tok = decodeCss(tokens[i]);\n      var len = tok.length;\n      var cc = tok.charCodeAt(0);\n      tok =\n          // All strings should be double quoted, and the body should never\n          // contain a double quote.\n          (cc == '\"'.charCodeAt(0) || cc == '\\''.charCodeAt(0))\n          ? escapeCssString(tok.substring(1, len - 1), escapeCssStrChar)\n          // A breaking ignorable token should is replaced with a single space.\n          : (cc == '/'.charCodeAt(0) && len > 1  // Comment.\n             || tok == '\\\\' || tok == CDC || tok == CDO || tok == '\\ufeff'\n             // Characters in W.\n             || cc <= ' '.charCodeAt(0))\n          ? ' '\n          // Make sure that all url(...)s are double quoted.\n          : /url\\(/i.test(tok)\n          ? 'url(' + escapeCssString(\n            tok.replace(URL_RE, ''),\n            escapeCssUrlChar)\n            + ')'\n          // Escapes in identifier like tokens will have been normalized above.\n          : tok;\n      // Merge adjacent space tokens.\n      if (last != tok || tok != ' ') {\n        tokens[j++] = last = tok;\n      }\n    }\n    tokens.length = j;\n    return tokens;\n  };\n})();\n\n// Exports for closure compiler.\nif (typeof window !== 'undefined') {\n  window['lexCss'] = lexCss;\n  window['decodeCss'] = decodeCss;\n}\n;\n// Copyright (C) 2010 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview\n * Implements RFC 3986 for parsing/formatting URIs.\n *\n * @author mikesamuel@gmail.com\n * \\@provides URI\n * \\@overrides window\n */\n\nvar URI = (function () {\n\n/**\n * creates a uri from the string form.  The parser is relaxed, so special\n * characters that aren't escaped but don't cause ambiguities will not cause\n * parse failures.\n *\n * @return {URI|null}\n */\nfunction parse(uriStr) {\n  var m = ('' + uriStr).match(URI_RE_);\n  if (!m) { return null; }\n  return new URI(\n      nullIfAbsent(m[1]),\n      nullIfAbsent(m[2]),\n      nullIfAbsent(m[3]),\n      nullIfAbsent(m[4]),\n      nullIfAbsent(m[5]),\n      nullIfAbsent(m[6]),\n      nullIfAbsent(m[7]));\n}\n\n\n/**\n * creates a uri from the given parts.\n *\n * @param scheme {string} an unencoded scheme such as \"http\" or null\n * @param credentials {string} unencoded user credentials or null\n * @param domain {string} an unencoded domain name or null\n * @param port {number} a port number in [1, 32768].\n *    -1 indicates no port, as does null.\n * @param path {string} an unencoded path\n * @param query {Array.<string>|string|null} a list of unencoded cgi\n *   parameters where even values are keys and odds the corresponding values\n *   or an unencoded query.\n * @param fragment {string} an unencoded fragment without the \"#\" or null.\n * @return {URI}\n */\nfunction create(scheme, credentials, domain, port, path, query, fragment) {\n  var uri = new URI(\n      encodeIfExists2(scheme, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),\n      encodeIfExists2(\n          credentials, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_),\n      encodeIfExists(domain),\n      port > 0 ? port.toString() : null,\n      encodeIfExists2(path, URI_DISALLOWED_IN_PATH_),\n      null,\n      encodeIfExists(fragment));\n  if (query) {\n    if ('string' === typeof query) {\n      uri.setRawQuery(query.replace(/[^?&=0-9A-Za-z_\\-~.%]/g, encodeOne));\n    } else {\n      uri.setAllParameters(query);\n    }\n  }\n  return uri;\n}\nfunction encodeIfExists(unescapedPart) {\n  if ('string' == typeof unescapedPart) {\n    return encodeURIComponent(unescapedPart);\n  }\n  return null;\n};\n/**\n * if unescapedPart is non null, then escapes any characters in it that aren't\n * valid characters in a url and also escapes any special characters that\n * appear in extra.\n *\n * @param unescapedPart {string}\n * @param extra {RegExp} a character set of characters in [\\01-\\177].\n * @return {string|null} null iff unescapedPart == null.\n */\nfunction encodeIfExists2(unescapedPart, extra) {\n  if ('string' == typeof unescapedPart) {\n    return encodeURI(unescapedPart).replace(extra, encodeOne);\n  }\n  return null;\n};\n/** converts a character in [\\01-\\177] to its url encoded equivalent. */\nfunction encodeOne(ch) {\n  var n = ch.charCodeAt(0);\n  return '%' + '0123456789ABCDEF'.charAt((n >> 4) & 0xf) +\n      '0123456789ABCDEF'.charAt(n & 0xf);\n}\n\n/**\n * {@updoc\n *  $ normPath('foo/./bar')\n *  # 'foo/bar'\n *  $ normPath('./foo')\n *  # 'foo'\n *  $ normPath('foo/.')\n *  # 'foo'\n *  $ normPath('foo//bar')\n *  # 'foo/bar'\n * }\n */\nfunction normPath(path) {\n  return path.replace(/(^|\\/)\\.(?:\\/|$)/g, '$1').replace(/\\/{2,}/g, '/');\n}\n\nvar PARENT_DIRECTORY_HANDLER = new RegExp(\n    ''\n    // A path break\n    + '(/|^)'\n    // followed by a non .. path element\n    // (cannot be . because normPath is used prior to this RegExp)\n    + '(?:[^./][^/]*|\\\\.{2,}(?:[^./][^/]*)|\\\\.{3,}[^/]*)'\n    // followed by .. followed by a path break.\n    + '/\\\\.\\\\.(?:/|$)');\n\nvar PARENT_DIRECTORY_HANDLER_RE = new RegExp(PARENT_DIRECTORY_HANDLER);\n\nvar EXTRA_PARENT_PATHS_RE = /^(?:\\.\\.\\/)*(?:\\.\\.$)?/;\n\n/**\n * Normalizes its input path and collapses all . and .. sequences except for\n * .. sequences that would take it above the root of the current parent\n * directory.\n * {@updoc\n *  $ collapse_dots('foo/../bar')\n *  # 'bar'\n *  $ collapse_dots('foo/./bar')\n *  # 'foo/bar'\n *  $ collapse_dots('foo/../bar/./../../baz')\n *  # 'baz'\n *  $ collapse_dots('../foo')\n *  # '../foo'\n *  $ collapse_dots('../foo').replace(EXTRA_PARENT_PATHS_RE, '')\n *  # 'foo'\n * }\n */\nfunction collapse_dots(path) {\n  if (path === null) { return null; }\n  var p = normPath(path);\n  // Only /../ left to flatten\n  var r = PARENT_DIRECTORY_HANDLER_RE;\n  // We replace with $1 which matches a / before the .. because this\n  // guarantees that:\n  // (1) we have at most 1 / between the adjacent place,\n  // (2) always have a slash if there is a preceding path section, and\n  // (3) we never turn a relative path into an absolute path.\n  for (var q; (q = p.replace(r, '$1')) != p; p = q) {};\n  return p;\n}\n\n/**\n * resolves a relative url string to a base uri.\n * @return {URI}\n */\nfunction resolve(baseUri, relativeUri) {\n  // there are several kinds of relative urls:\n  // 1. //foo - replaces everything from the domain on.  foo is a domain name\n  // 2. foo - replaces the last part of the path, the whole query and fragment\n  // 3. /foo - replaces the the path, the query and fragment\n  // 4. ?foo - replace the query and fragment\n  // 5. #foo - replace the fragment only\n\n  var absoluteUri = baseUri.clone();\n  // we satisfy these conditions by looking for the first part of relativeUri\n  // that is not blank and applying defaults to the rest\n\n  var overridden = relativeUri.hasScheme();\n\n  if (overridden) {\n    absoluteUri.setRawScheme(relativeUri.getRawScheme());\n  } else {\n    overridden = relativeUri.hasCredentials();\n  }\n\n  if (overridden) {\n    absoluteUri.setRawCredentials(relativeUri.getRawCredentials());\n  } else {\n    overridden = relativeUri.hasDomain();\n  }\n\n  if (overridden) {\n    absoluteUri.setRawDomain(relativeUri.getRawDomain());\n  } else {\n    overridden = relativeUri.hasPort();\n  }\n\n  var rawPath = relativeUri.getRawPath();\n  var simplifiedPath = collapse_dots(rawPath);\n  if (overridden) {\n    absoluteUri.setPort(relativeUri.getPort());\n    simplifiedPath = simplifiedPath\n        && simplifiedPath.replace(EXTRA_PARENT_PATHS_RE, '');\n  } else {\n    overridden = !!rawPath;\n    if (overridden) {\n      // resolve path properly\n      if (simplifiedPath.charCodeAt(0) !== 0x2f /* / */) {  // path is relative\n        var absRawPath = collapse_dots(absoluteUri.getRawPath() || '')\n            .replace(EXTRA_PARENT_PATHS_RE, '');\n        var slash = absRawPath.lastIndexOf('/') + 1;\n        simplifiedPath = collapse_dots(\n            (slash ? absRawPath.substring(0, slash) : '')\n            + collapse_dots(rawPath))\n            .replace(EXTRA_PARENT_PATHS_RE, '');\n      }\n    } else {\n      simplifiedPath = simplifiedPath\n          && simplifiedPath.replace(EXTRA_PARENT_PATHS_RE, '');\n      if (simplifiedPath !== rawPath) {\n        absoluteUri.setRawPath(simplifiedPath);\n      }\n    }\n  }\n\n  if (overridden) {\n    absoluteUri.setRawPath(simplifiedPath);\n  } else {\n    overridden = relativeUri.hasQuery();\n  }\n\n  if (overridden) {\n    absoluteUri.setRawQuery(relativeUri.getRawQuery());\n  } else {\n    overridden = relativeUri.hasFragment();\n  }\n\n  if (overridden) {\n    absoluteUri.setRawFragment(relativeUri.getRawFragment());\n  }\n\n  return absoluteUri;\n}\n\n/**\n * a mutable URI.\n *\n * This class contains setters and getters for the parts of the URI.\n * The <tt>getXYZ</tt>/<tt>setXYZ</tt> methods return the decoded part -- so\n * <code>uri.parse('/foo%20bar').getPath()</code> will return the decoded path,\n * <tt>/foo bar</tt>.\n *\n * <p>The raw versions of fields are available too.\n * <code>uri.parse('/foo%20bar').getRawPath()</code> will return the raw path,\n * <tt>/foo%20bar</tt>.  Use the raw setters with care, since\n * <code>URI::toString</code> is not guaranteed to return a valid url if a\n * raw setter was used.\n *\n * <p>All setters return <tt>this</tt> and so may be chained, a la\n * <code>uri.parse('/foo').setFragment('part').toString()</code>.\n *\n * <p>You should not use this constructor directly -- please prefer the factory\n * functions {@link uri.parse}, {@link uri.create}, {@link uri.resolve}\n * instead.</p>\n *\n * <p>The parameters are all raw (assumed to be properly escaped) parts, and\n * any (but not all) may be null.  Undefined is not allowed.</p>\n *\n * @constructor\n */\nfunction URI(\n    rawScheme,\n    rawCredentials, rawDomain, port,\n    rawPath, rawQuery, rawFragment) {\n  this.scheme_ = rawScheme;\n  this.credentials_ = rawCredentials;\n  this.domain_ = rawDomain;\n  this.port_ = port;\n  this.path_ = rawPath;\n  this.query_ = rawQuery;\n  this.fragment_ = rawFragment;\n  /**\n   * @type {Array|null}\n   */\n  this.paramCache_ = null;\n}\n\n/** returns the string form of the url. */\nURI.prototype.toString = function () {\n  var out = [];\n  if (null !== this.scheme_) { out.push(this.scheme_, ':'); }\n  if (null !== this.domain_) {\n    out.push('//');\n    if (null !== this.credentials_) { out.push(this.credentials_, '@'); }\n    out.push(this.domain_);\n    if (null !== this.port_) { out.push(':', this.port_.toString()); }\n  }\n  if (null !== this.path_) { out.push(this.path_); }\n  if (null !== this.query_) { out.push('?', this.query_); }\n  if (null !== this.fragment_) { out.push('#', this.fragment_); }\n  return out.join('');\n};\n\nURI.prototype.clone = function () {\n  return new URI(this.scheme_, this.credentials_, this.domain_, this.port_,\n                 this.path_, this.query_, this.fragment_);\n};\n\nURI.prototype.getScheme = function () {\n  // HTML5 spec does not require the scheme to be lowercased but\n  // all common browsers except Safari lowercase the scheme.\n  return this.scheme_ && decodeURIComponent(this.scheme_).toLowerCase();\n};\nURI.prototype.getRawScheme = function () {\n  return this.scheme_;\n};\nURI.prototype.setScheme = function (newScheme) {\n  this.scheme_ = encodeIfExists2(\n      newScheme, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_);\n  return this;\n};\nURI.prototype.setRawScheme = function (newScheme) {\n  this.scheme_ = newScheme ? newScheme : null;\n  return this;\n};\nURI.prototype.hasScheme = function () {\n  return null !== this.scheme_;\n};\n\n\nURI.prototype.getCredentials = function () {\n  return this.credentials_ && decodeURIComponent(this.credentials_);\n};\nURI.prototype.getRawCredentials = function () {\n  return this.credentials_;\n};\nURI.prototype.setCredentials = function (newCredentials) {\n  this.credentials_ = encodeIfExists2(\n      newCredentials, URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_);\n\n  return this;\n};\nURI.prototype.setRawCredentials = function (newCredentials) {\n  this.credentials_ = newCredentials ? newCredentials : null;\n  return this;\n};\nURI.prototype.hasCredentials = function () {\n  return null !== this.credentials_;\n};\n\n\nURI.prototype.getDomain = function () {\n  return this.domain_ && decodeURIComponent(this.domain_);\n};\nURI.prototype.getRawDomain = function () {\n  return this.domain_;\n};\nURI.prototype.setDomain = function (newDomain) {\n  return this.setRawDomain(newDomain && encodeURIComponent(newDomain));\n};\nURI.prototype.setRawDomain = function (newDomain) {\n  this.domain_ = newDomain ? newDomain : null;\n  // Maintain the invariant that paths must start with a slash when the URI\n  // is not path-relative.\n  return this.setRawPath(this.path_);\n};\nURI.prototype.hasDomain = function () {\n  return null !== this.domain_;\n};\n\n\nURI.prototype.getPort = function () {\n  return this.port_ && decodeURIComponent(this.port_);\n};\nURI.prototype.setPort = function (newPort) {\n  if (newPort) {\n    newPort = Number(newPort);\n    if (newPort !== (newPort & 0xffff)) {\n      throw new Error('Bad port number ' + newPort);\n    }\n    this.port_ = '' + newPort;\n  } else {\n    this.port_ = null;\n  }\n  return this;\n};\nURI.prototype.hasPort = function () {\n  return null !== this.port_;\n};\n\n\nURI.prototype.getPath = function () {\n  return this.path_ && decodeURIComponent(this.path_);\n};\nURI.prototype.getRawPath = function () {\n  return this.path_;\n};\nURI.prototype.setPath = function (newPath) {\n  return this.setRawPath(encodeIfExists2(newPath, URI_DISALLOWED_IN_PATH_));\n};\nURI.prototype.setRawPath = function (newPath) {\n  if (newPath) {\n    newPath = String(newPath);\n    this.path_ =\n      // Paths must start with '/' unless this is a path-relative URL.\n      (!this.domain_ || /^\\//.test(newPath)) ? newPath : '/' + newPath;\n  } else {\n    this.path_ = null;\n  }\n  return this;\n};\nURI.prototype.hasPath = function () {\n  return null !== this.path_;\n};\n\n\nURI.prototype.getQuery = function () {\n  // From http://www.w3.org/Addressing/URL/4_URI_Recommentations.html\n  // Within the query string, the plus sign is reserved as shorthand notation\n  // for a space.\n  return this.query_ && decodeURIComponent(this.query_).replace(/\\+/g, ' ');\n};\nURI.prototype.getRawQuery = function () {\n  return this.query_;\n};\nURI.prototype.setQuery = function (newQuery) {\n  this.paramCache_ = null;\n  this.query_ = encodeIfExists(newQuery);\n  return this;\n};\nURI.prototype.setRawQuery = function (newQuery) {\n  this.paramCache_ = null;\n  this.query_ = newQuery ? newQuery : null;\n  return this;\n};\nURI.prototype.hasQuery = function () {\n  return null !== this.query_;\n};\n\n/**\n * sets the query given a list of strings of the form\n * [ key0, value0, key1, value1, ... ].\n *\n * <p><code>uri.setAllParameters(['a', 'b', 'c', 'd']).getQuery()</code>\n * will yield <code>'a=b&c=d'</code>.\n */\nURI.prototype.setAllParameters = function (params) {\n  if (typeof params === 'object') {\n    if (!(params instanceof Array)\n        && (params instanceof Object\n            || Object.prototype.toString.call(params) !== '[object Array]')) {\n      var newParams = [];\n      var i = -1;\n      for (var k in params) {\n        var v = params[k];\n        if ('string' === typeof v) {\n          newParams[++i] = k;\n          newParams[++i] = v;\n        }\n      }\n      params = newParams;\n    }\n  }\n  this.paramCache_ = null;\n  var queryBuf = [];\n  var separator = '';\n  for (var j = 0; j < params.length;) {\n    var k = params[j++];\n    var v = params[j++];\n    queryBuf.push(separator, encodeURIComponent(k.toString()));\n    separator = '&';\n    if (v) {\n      queryBuf.push('=', encodeURIComponent(v.toString()));\n    }\n  }\n  this.query_ = queryBuf.join('');\n  return this;\n};\nURI.prototype.checkParameterCache_ = function () {\n  if (!this.paramCache_) {\n    var q = this.query_;\n    if (!q) {\n      this.paramCache_ = [];\n    } else {\n      var cgiParams = q.split(/[&\\?]/);\n      var out = [];\n      var k = -1;\n      for (var i = 0; i < cgiParams.length; ++i) {\n        var m = cgiParams[i].match(/^([^=]*)(?:=(.*))?$/);\n        // From http://www.w3.org/Addressing/URL/4_URI_Recommentations.html\n        // Within the query string, the plus sign is reserved as shorthand\n        // notation for a space.\n        out[++k] = decodeURIComponent(m[1]).replace(/\\+/g, ' ');\n        out[++k] = decodeURIComponent(m[2] || '').replace(/\\+/g, ' ');\n      }\n      this.paramCache_ = out;\n    }\n  }\n};\n/**\n * sets the values of the named cgi parameters.\n *\n * <p>So, <code>uri.parse('foo?a=b&c=d&e=f').setParameterValues('c', ['new'])\n * </code> yields <tt>foo?a=b&c=new&e=f</tt>.</p>\n *\n * @param key {string}\n * @param values {Array.<string>} the new values.  If values is a single string\n *   then it will be treated as the sole value.\n */\nURI.prototype.setParameterValues = function (key, values) {\n  // be nice and avoid subtle bugs where [] operator on string performs charAt\n  // on some browsers and crashes on IE\n  if (typeof values === 'string') {\n    values = [ values ];\n  }\n\n  this.checkParameterCache_();\n  var newValueIndex = 0;\n  var pc = this.paramCache_;\n  var params = [];\n  for (var i = 0, k = 0; i < pc.length; i += 2) {\n    if (key === pc[i]) {\n      if (newValueIndex < values.length) {\n        params.push(key, values[newValueIndex++]);\n      }\n    } else {\n      params.push(pc[i], pc[i + 1]);\n    }\n  }\n  while (newValueIndex < values.length) {\n    params.push(key, values[newValueIndex++]);\n  }\n  this.setAllParameters(params);\n  return this;\n};\nURI.prototype.removeParameter = function (key) {\n  return this.setParameterValues(key, []);\n};\n/**\n * returns the parameters specified in the query part of the uri as a list of\n * keys and values like [ key0, value0, key1, value1, ... ].\n *\n * @return {Array.<string>}\n */\nURI.prototype.getAllParameters = function () {\n  this.checkParameterCache_();\n  return this.paramCache_.slice(0, this.paramCache_.length);\n};\n/**\n * returns the value<b>s</b> for a given cgi parameter as a list of decoded\n * query parameter values.\n * @return {Array.<string>}\n */\nURI.prototype.getParameterValues = function (paramNameUnescaped) {\n  this.checkParameterCache_();\n  var values = [];\n  for (var i = 0; i < this.paramCache_.length; i += 2) {\n    if (paramNameUnescaped === this.paramCache_[i]) {\n      values.push(this.paramCache_[i + 1]);\n    }\n  }\n  return values;\n};\n/**\n * returns a map of cgi parameter names to (non-empty) lists of values.\n * @return {Object.<string,Array.<string>>}\n */\nURI.prototype.getParameterMap = function (paramNameUnescaped) {\n  this.checkParameterCache_();\n  var paramMap = {};\n  for (var i = 0; i < this.paramCache_.length; i += 2) {\n    var key = this.paramCache_[i++],\n      value = this.paramCache_[i++];\n    if (!(key in paramMap)) {\n      paramMap[key] = [value];\n    } else {\n      paramMap[key].push(value);\n    }\n  }\n  return paramMap;\n};\n/**\n * returns the first value for a given cgi parameter or null if the given\n * parameter name does not appear in the query string.\n * If the given parameter name does appear, but has no '<tt>=</tt>' following\n * it, then the empty string will be returned.\n * @return {string|null}\n */\nURI.prototype.getParameterValue = function (paramNameUnescaped) {\n  this.checkParameterCache_();\n  for (var i = 0; i < this.paramCache_.length; i += 2) {\n    if (paramNameUnescaped === this.paramCache_[i]) {\n      return this.paramCache_[i + 1];\n    }\n  }\n  return null;\n};\n\nURI.prototype.getFragment = function () {\n  return this.fragment_ && decodeURIComponent(this.fragment_);\n};\nURI.prototype.getRawFragment = function () {\n  return this.fragment_;\n};\nURI.prototype.setFragment = function (newFragment) {\n  this.fragment_ = newFragment ? encodeURIComponent(newFragment) : null;\n  return this;\n};\nURI.prototype.setRawFragment = function (newFragment) {\n  this.fragment_ = newFragment ? newFragment : null;\n  return this;\n};\nURI.prototype.hasFragment = function () {\n  return null !== this.fragment_;\n};\n\nfunction nullIfAbsent(matchPart) {\n  return ('string' == typeof matchPart) && (matchPart.length > 0)\n         ? matchPart\n         : null;\n}\n\n\n\n\n/**\n * a regular expression for breaking a URI into its component parts.\n *\n * <p>http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#RFC2234 says\n * As the \"first-match-wins\" algorithm is identical to the \"greedy\"\n * disambiguation method used by POSIX regular expressions, it is natural and\n * commonplace to use a regular expression for parsing the potential five\n * components of a URI reference.\n *\n * <p>The following line is the regular expression for breaking-down a\n * well-formed URI reference into its components.\n *\n * <pre>\n * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n *  12            3  4          5       6  7        8 9\n * </pre>\n *\n * <p>The numbers in the second line above are only to assist readability; they\n * indicate the reference points for each subexpression (i.e., each paired\n * parenthesis). We refer to the value matched for subexpression <n> as $<n>.\n * For example, matching the above expression to\n * <pre>\n *     http://www.ics.uci.edu/pub/ietf/uri/#Related\n * </pre>\n * results in the following subexpression matches:\n * <pre>\n *    $1 = http:\n *    $2 = http\n *    $3 = //www.ics.uci.edu\n *    $4 = www.ics.uci.edu\n *    $5 = /pub/ietf/uri/\n *    $6 = <undefined>\n *    $7 = <undefined>\n *    $8 = #Related\n *    $9 = Related\n * </pre>\n * where <undefined> indicates that the component is not present, as is the\n * case for the query component in the above example. Therefore, we can\n * determine the value of the five components as\n * <pre>\n *    scheme    = $2\n *    authority = $4\n *    path      = $5\n *    query     = $7\n *    fragment  = $9\n * </pre>\n *\n * <p>msamuel: I have modified the regular expression slightly to expose the\n * credentials, domain, and port separately from the authority.\n * The modified version yields\n * <pre>\n *    $1 = http              scheme\n *    $2 = <undefined>       credentials -\\\n *    $3 = www.ics.uci.edu   domain       | authority\n *    $4 = <undefined>       port        -/\n *    $5 = /pub/ietf/uri/    path\n *    $6 = <undefined>       query without ?\n *    $7 = Related           fragment without #\n * </pre>\n */\nvar URI_RE_ = new RegExp(\n      \"^\" +\n      \"(?:\" +\n        \"([^:/?#]+)\" +         // scheme\n      \":)?\" +\n      \"(?://\" +\n        \"(?:([^/?#]*)@)?\" +    // credentials\n        \"([^/?#:@]*)\" +        // domain\n        \"(?::([0-9]+))?\" +     // port\n      \")?\" +\n      \"([^?#]+)?\" +            // path\n      \"(?:\\\\?([^#]*))?\" +      // query\n      \"(?:#(.*))?\" +           // fragment\n      \"$\"\n      );\n\nvar URI_DISALLOWED_IN_SCHEME_OR_CREDENTIALS_ = /[#\\/\\?@]/g;\nvar URI_DISALLOWED_IN_PATH_ = /[\\#\\?]/g;\n\nURI.parse = parse;\nURI.create = create;\nURI.resolve = resolve;\nURI.collapse_dots = collapse_dots;  // Visible for testing.\n\n// lightweight string-based api for loadModuleMaker\nURI.utils = {\n  mimeTypeOf: function (uri) {\n    var uriObj = parse(uri);\n    if (/\\.html$/.test(uriObj.getPath())) {\n      return 'text/html';\n    } else {\n      return 'application/javascript';\n    }\n  },\n  resolve: function (base, uri) {\n    if (base) {\n      return resolve(parse(base), parse(uri)).toString();\n    } else {\n      return '' + uri;\n    }\n  }\n};\n\n\nreturn URI;\n})();\n\n// Exports for closure compiler.\nif (typeof window !== 'undefined') {\n  window['URI'] = URI;\n}\n;\n// Copyright (C) 2011 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview\n * JavaScript support for client-side CSS sanitization.\n * The CSS property schema API is defined in CssPropertyPatterns.java which\n * is used to generate css-defs.js.\n *\n * @author mikesamuel@gmail.com\n * \\@requires CSS_PROP_BIT_GLOBAL_NAME\n * \\@requires CSS_PROP_BIT_HASH_VALUE\n * \\@requires CSS_PROP_BIT_NEGATIVE_QUANTITY\n * \\@requires CSS_PROP_BIT_PROPERTY_NAME\n * \\@requires CSS_PROP_BIT_QUANTITY\n * \\@requires CSS_PROP_BIT_QSTRING\n * \\@requires CSS_PROP_BIT_UNRESERVED_WORD\n * \\@requires CSS_PROP_BIT_URL\n * \\@requires cssSchema\n * \\@requires decodeCss\n * \\@requires html4\n * \\@requires URI\n * \\@overrides window\n * \\@requires parseCssStylesheet\n * \\@provides sanitizeCssProperty\n * \\@provides sanitizeCssSelectorList\n * \\@provides sanitizeStylesheet\n * \\@provides sanitizeStylesheetWithExternals\n * \\@provides sanitizeMediaQuery\n */\n\nvar sanitizeCssProperty = undefined;\nvar sanitizeCssSelectorList = undefined;\nvar sanitizeStylesheet = undefined;\nvar sanitizeStylesheetWithExternals = undefined;\nvar sanitizeMediaQuery = undefined;\n\n(function () {\n  var NOEFFECT_URL = 'url(\"about:blank\")';\n  /**\n   * The set of characters that need to be normalized inside url(\"...\").\n   * We normalize newlines because they are not allowed inside quoted strings,\n   * normalize quote characters, angle-brackets, and asterisks because they\n   * could be used to break out of the URL or introduce targets for CSS\n   * error recovery.  We normalize parentheses since they delimit unquoted\n   * URLs and calls and could be a target for error recovery.\n   */\n  var NORM_URL_REGEXP = /[\\n\\f\\r\\\"\\'()*<>]/g;\n  /** The replacements for NORM_URL_REGEXP. */\n  var NORM_URL_REPLACEMENTS = {\n    '\\n': '%0a',\n    '\\f': '%0c',\n    '\\r': '%0d',\n    '\"':  '%22',\n    '\\'': '%27',\n    '(':  '%28',\n    ')':  '%29',\n    '*':  '%2a',\n    '<':  '%3c',\n    '>':  '%3e'\n  };\n\n  function normalizeUrl(s) {\n    if ('string' === typeof s) {\n      return 'url(\"' + s.replace(NORM_URL_REGEXP, normalizeUrlChar) + '\")';\n    } else {\n      return NOEFFECT_URL;\n    }\n  }\n  function normalizeUrlChar(ch) {\n    return NORM_URL_REPLACEMENTS[ch];\n  }\n\n  // From RFC3986\n  var URI_SCHEME_RE = new RegExp(\n      '^' +\n      '(?:' +\n        '([^:\\/?# ]+)' +         // scheme\n      ':)?'\n  );\n\n  var ALLOWED_URI_SCHEMES = /^(?:https?|mailto)$/i;\n\n  function resolveUri(baseUri, uri) {\n    if (baseUri) {\n      return URI.utils.resolve(baseUri, uri);\n    }\n    return uri;\n  }\n\n  function safeUri(uri, prop, naiveUriRewriter) {\n    if (!naiveUriRewriter) { return null; }\n    var parsed = ('' + uri).match(URI_SCHEME_RE);\n    if (parsed && (!parsed[1] || ALLOWED_URI_SCHEMES.test(parsed[1]))) {\n      return naiveUriRewriter(uri, prop);\n    } else {\n      return null;\n    }\n  }\n\n  function withoutVendorPrefix(ident) {\n    // http://stackoverflow.com/a/5411098/20394 has a fairly extensive list\n    // of vendor prefices.\n    // Blink has not declared a vendor prefix distinct from -webkit-\n    // and http://css-tricks.com/tldr-on-vendor-prefix-drama/ discusses\n    // how Mozilla recognizes some -webkit-\n    // http://wiki.csswg.org/spec/vendor-prefixes talks more about\n    // cross-implementation, and lists other prefixes.\n    // Note: info is duplicated in CssValidator.java\n    return ident.replace(\n        /^-(?:apple|css|epub|khtml|moz|mso?|o|rim|wap|webkit|xv)-(?=[a-z])/, '');\n  }\n\n  /**\n   * Given a series of normalized CSS tokens, applies a property schema, as\n   * defined in CssPropertyPatterns.java, and sanitizes the tokens in place.\n   * @param property a property name.\n   * @param tokens as parsed by lexCss.  Modified in place.\n   * @param opt_naiveUriRewriter a URI rewriter; an object with a \"rewrite\"\n   *     function that takes a URL and returns a safe URL.\n   * @param opt_baseURI a URI against which all relative URLs in tokens will\n   *     be resolved.\n   * @param opt_idSuffix {string} appended to all IDs to scope them.\n   */\n  sanitizeCssProperty = (function () {\n\n    function unionArrays(arrs) {\n      var map = {};\n      for (var i = arrs.length; --i >= 0;) {\n        var arr = arrs[i];\n        for (var j = arr.length; --j >= 0;) {\n          map[arr[j]] = ALLOWED_LITERAL;\n        }\n      }\n      return map;\n    }\n\n    // Used as map value to avoid hasOwnProperty checks.\n    var ALLOWED_LITERAL = {};\n\n    return function sanitize(\n        property, tokens, opt_naiveUriRewriter, opt_baseUri, opt_idSuffix) {\n\n      var propertyKey = withoutVendorPrefix(property);\n      var propertySchema = cssSchema[propertyKey];\n\n      // If the property isn't recognized, elide all tokens.\n      if (!propertySchema || 'object' !== typeof propertySchema) {\n        tokens.length = 0;\n        return;\n      }\n\n      var propBits = propertySchema['cssPropBits'];\n\n      /**\n       * Recurse to apply the appropriate function schema to the function call\n       * that starts at {@code tokens[start]}.\n       * @param {Array.<string>} tokens an array of CSS token that is modified\n       *   in place so that all tokens involved in the function call\n       *   (from {@code tokens[start]} to a close parenthesis) are folded to\n       *   one token.\n       * @param {number} start an index into tokens of a function token like\n       *   {@code 'name('}.\n       * @return the replacement function or the empty string if the function\n       *   call is not both well-formed and allowed.\n       */\n      function sanitizeFunctionCall(tokens, start) {\n        var parenDepth = 1, end = start + 1, n = tokens.length;\n        while (end < n && parenDepth) {\n          var token = tokens[end++];\n          // Decrement if we see a close parenthesis, and increment if we\n          // see a function.  Since url(...) are whole tokens, they will not\n          // affect the token scanning.\n          parenDepth += (token === ')' ? -1 : /^[^\"']*\\($/.test(token));\n        }\n        // Allow error-recovery from unclosed functions by ignoring the call and\n        // so allowing resumption at the next ';'.\n        if (!parenDepth) {\n          var fnToken = tokens[start].toLowerCase();\n          var bareFnToken = withoutVendorPrefix(fnToken);\n          // Cut out the originals, so the caller can step by one token.\n          var fnTokens = tokens.splice(start, end - start, '');\n          var fns = propertySchema['cssFns'];\n          // Look for a function that matches the name.\n          for (var i = 0, nFns = fns.length; i < nFns; ++i) {\n            if (fns[i].substring(0, bareFnToken.length) == bareFnToken) {\n              fnTokens[0] = fnTokens[fnTokens.length - 1] = '';\n              // Recurse and sanitize the function parameters.\n              sanitize(\n                fns[i],\n                // The actual parameters to the function.\n                fnTokens,\n                opt_naiveUriRewriter, opt_baseUri);\n              // Reconstitute the function from its parameter tokens.\n              return fnToken + fnTokens.join(' ') + ')';\n            }\n          }\n        }\n        return '';\n      }\n\n      // Used to determine whether to treat quoted strings as URLs or\n      // plain text content, and whether unrecognized keywords can be quoted\n      // to treat ['Arial', 'Black'] equivalently to ['\"Arial Black\"'].\n      var stringDisposition =\n        propBits & (CSS_PROP_BIT_URL | CSS_PROP_BIT_UNRESERVED_WORD);\n      // Used to determine what to do with unreserved words.\n      var identDisposition =\n        propBits & (CSS_PROP_BIT_GLOBAL_NAME | CSS_PROP_BIT_PROPERTY_NAME);\n\n      // Used to join unquoted keywords into a single quoted string.\n      var lastQuoted = NaN;\n      var i = 0, k = 0;\n      for (;i < tokens.length; ++i) {\n        // Has the effect of normalizing hex digits, keywords,\n        // and function names.\n        var token = tokens[i].toLowerCase();\n        var cc = token.charCodeAt(0), cc1, cc2, isnum1, isnum2, end;\n        var litGroup, litMap;\n        token = (\n\n          // Strip out spaces.  Normally cssparser.js dumps these, but we\n          // strip them out in case the content doesn't come via cssparser.js.\n          (cc === ' '.charCodeAt(0)) ? ''\n          : (cc === '\"'.charCodeAt(0)) ? (  // Quoted string.\n            (stringDisposition === CSS_PROP_BIT_URL)\n            ? (opt_naiveUriRewriter\n               // Sanitize and convert to url(\"...\") syntax.\n               // Treat url content as case-sensitive.\n               ? (normalizeUrl(\n                   // Rewrite to a safe URI.\n                   safeUri(\n                     // Convert to absolute URL\n                     resolveUri(\n                       opt_baseUri,\n                       // Strip off quotes\n                       decodeCss(tokens[i].substring(1, token.length - 1))),\n                     propertyKey,\n                     opt_naiveUriRewriter)))\n              : '')\n            : ((propBits & CSS_PROP_BIT_QSTRING)\n               // Ambiguous when more than one bit set in disposition.\n               && !(stringDisposition & (stringDisposition - 1)))\n            ? token\n            // Drop if quoted strings not allowed.\n            : ''\n          )\n\n          // inherit is always allowed.\n          : token === 'inherit'\n          ? token\n\n          : (\n            litGroup = propertySchema['cssLitGroup'],\n            litMap = (litGroup\n                      ? (propertySchema['cssLitMap']\n                         // Lazily compute the union from litGroup.\n                         || (propertySchema['cssLitMap'] =\n                             unionArrays(litGroup)))\n                      : ALLOWED_LITERAL),  // A convenient empty object.\n            (litMap[withoutVendorPrefix(token)] === ALLOWED_LITERAL)\n          )\n          // Token is in the literal map or matches extra.\n          ? token\n\n          // Preserve hash color literals if allowed.\n          : (cc === '#'.charCodeAt(0) && /^#(?:[0-9a-f]{3}){1,2}$/.test(token))\n          ? (propBits & CSS_PROP_BIT_HASH_VALUE ? token : '')\n\n          : ('0'.charCodeAt(0) <= cc && cc <= '9'.charCodeAt(0))\n          // A number starting with a digit.\n          ? ((propBits & CSS_PROP_BIT_QUANTITY) ? token : '')\n\n          // Normalize quantities so they don't start with a '.' or '+' sign and\n          // make sure they all have an integer component so can't be confused\n          // with a dotted identifier.\n          // This can't be done in the lexer since \".4\" is a valid rule part.\n          : (cc1 = token.charCodeAt(1),\n             cc2 = token.charCodeAt(2),\n             isnum1 = '0'.charCodeAt(0) <= cc1 && cc1 <= '9'.charCodeAt(0),\n             isnum2 = '0'.charCodeAt(0) <= cc2 && cc2 <= '9'.charCodeAt(0),\n             // +.5 -> 0.5 if allowed.\n             (cc === '+'.charCodeAt(0)\n              && (isnum1 || (cc1 === '.'.charCodeAt(0) && isnum2))))\n          ? ((propBits & CSS_PROP_BIT_QUANTITY)\n            ? ((isnum1 ? '' : '0') + token.substring(1))\n            : '')\n\n          // -.5 -> -0.5 if allowed otherwise -> 0 if quantities allowed.\n          : (cc === '-'.charCodeAt(0)\n             && (isnum1 || (cc1 === '.'.charCodeAt(0) && isnum2)))\n            ? ((propBits & CSS_PROP_BIT_NEGATIVE_QUANTITY)\n               ? ((isnum1 ? '-' : '-0') + token.substring(1))\n               : ((propBits & CSS_PROP_BIT_QUANTITY) ? '0' : ''))\n\n          // .5 -> 0.5 if allowed.\n          : (cc === '.'.charCodeAt(0) && isnum1)\n          ? ((propBits & CSS_PROP_BIT_QUANTITY) ? '0' + token : '')\n\n          // Handle url(\"...\") by rewriting the body.\n          : ('url(\"' === token.substring(0, 5))\n          ? ((opt_naiveUriRewriter && (propBits & CSS_PROP_BIT_URL))\n             ? normalizeUrl(safeUri(resolveUri(opt_baseUri,\n                  tokens[i].substring(5, token.length - 2)),\n                  propertyKey,\n                  opt_naiveUriRewriter))\n             : '')\n\n          // Handle func(...) by recursing.\n          // Functions start at a token like \"name(\" and end with a \")\" taking\n          // into account nesting.\n          : (token.charAt(token.length-1) === '(')\n          ? sanitizeFunctionCall(tokens, i)\n\n          : (identDisposition\n             && /^-?[a-z_][\\w\\-]*$/.test(token) && !/__$/.test(token))\n          ? (opt_idSuffix && identDisposition === CSS_PROP_BIT_GLOBAL_NAME\n             ? tokens[i] + opt_idSuffix  // use original token, not lowercased\n             : (identDisposition === CSS_PROP_BIT_PROPERTY_NAME\n                && cssSchema[token]\n                && 'number' === typeof cssSchema[token].cssPropBits)\n             ? token\n             : '')\n\n          : (/^\\w+$/.test(token)\n             && stringDisposition === CSS_PROP_BIT_UNRESERVED_WORD\n             && (propBits & CSS_PROP_BIT_QSTRING))\n          // Quote unrecognized keywords so font names like\n          //    Arial Bold\n          // ->\n          //    \"Arial Bold\"\n          ? (lastQuoted+1 === k\n             // If the last token was also a keyword that was quoted, then\n             // combine this token into that.\n             ? (tokens[lastQuoted] = (\n                  tokens[lastQuoted].substring(0, tokens[lastQuoted].length-1)\n                  + ' ' + token + '\"'),\n                token = '')\n             : (lastQuoted = k, '\"' + token + '\"'))\n\n          // Disallowed.\n          : '');\n        if (token) {\n          tokens[k++] = token;\n        }\n      }\n      // For single URL properties, if the URL failed to pass the sanitizer,\n      // then just drop it.\n      if (k === 1 && tokens[0] === NOEFFECT_URL) { k = 0; }\n      tokens.length = k;\n    };\n  })();\n\n  // Note, duplicated in CssRewriter.java\n  // Constructed from\n  //    https://developer.mozilla.org/en-US/docs/Web/CSS/Reference\n  //    https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\n  //    http://dev.w3.org/csswg/selectors4/\n  var PSEUDO_SELECTOR_WHITELIST =\n    new RegExp(\n        '^(active|after|before|blank|checked|default|disabled'\n        + '|drop|empty|enabled|first|first-child|first-letter'\n        + '|first-line|first-of-type|fullscreen|focus|hover'\n        + '|in-range|indeterminate|invalid|last-child|last-of-type'\n        + '|left|link|only-child|only-of-type|optional|out-of-range'\n        + '|placeholder-shown|read-only|read-write|required|right'\n        + '|root|scope|user-error|valid|visited'\n        + ')$');\n\n  // Set of punctuation tokens that are child/sibling selectors.\n  var COMBINATOR = {};\n  COMBINATOR['>'] = COMBINATOR['+'] = COMBINATOR['~'] = COMBINATOR;\n\n  /**\n   * Given a series of tokens, returns a list of sanitized selectors.\n   * @param {Array.<string>} selectors In the form produced by csslexer.js.\n   * @param {{\n   *     containerClass: ?string,\n   *     idSuffix: string,\n   *     tagPolicy: function(string, Array.<string>): ?Array.<string>,\n   *     virtualizeAttrName: ?function(string, string): ?string\n   *   }} virtualization An object like <pre<{\n   *   containerClass: class name prepended to all selectors to scope them (if\n   *       not null)\n   *   idSuffix: appended to all IDs to scope them\n   *   tagPolicy: As in html-sanitizer, used for rewriting element names.\n   *   virtualizeAttrName: Rewrite a single attribute name for attribute\n   *       selectors, or return null if not possible. Should be consistent\n   *       with tagPolicy if possible.\n   * }</pre>\n   *    If containerClass is {@code \"sfx\"} and idSuffix is {@code \"-sfx\"}, the\n   *    selector\n   *    {@code [\"a\", \"#foo\", \" \", \"b\", \".bar\"]} will be namespaced to\n   *    {@code [\".sfx\", \" \", \"a\", \"#foo-sfx\", \" \", \"b\", \".bar\"]}.\n   * @param {function(Array.<string>): boolean} opt_onUntranslatableSelector\n   *     When a selector cannot be translated, this function is called with the\n   *     non-whitespace/comment tokens comprising the selector and returns a\n   *     value indicating whether to continue processing the selector list.\n   *     If it returns falsey, then processing is aborted and null is returned.\n   *     If not present or it returns truthy, then the complex selector is\n   *     dropped from the selector list.\n   * @return {Array.<string>}? an array of sanitized selectors.\n   *    Null when the untraslatable compound selector handler aborts processing.\n   */\n  sanitizeCssSelectorList = function(\n      selectors, virtualization, opt_onUntranslatableSelector) {\n    var containerClass = virtualization.containerClass;\n    var idSuffix = virtualization.idSuffix;\n    var tagPolicy = virtualization.tagPolicy;\n    var sanitized = [];\n\n    // Remove any spaces that are not operators.\n    var k = 0, i, inBrackets = 0, tok;\n    for (i = 0; i < selectors.length; ++i) {\n      tok = selectors[i];\n\n      if (\n            (tok == '(' || tok == '[') ? (++inBrackets, true)\n          : (tok == ')' || tok == ']') ? (inBrackets && --inBrackets, true)\n          : !(selectors[i] == ' '\n              && (inBrackets || COMBINATOR[selectors[i-1]] === COMBINATOR\n                  || COMBINATOR[selectors[i+1]] === COMBINATOR))\n        ) {\n        selectors[k++] = selectors[i];\n      }\n    }\n    selectors.length = k;\n\n    // Split around commas.  If there is an error in one of the comma separated\n    // bits, we throw the whole away, but the failure of one selector does not\n    // affect others except that opt_onUntranslatableSelector allows one to\n    // treat the entire output as unusable.\n    var n = selectors.length, start = 0;\n    for (i = 0; i < n; ++i) {\n      if (selectors[i] === ',') {  // TODO: ignore ',' inside brackets.\n        if (!processComplexSelector(start, i)) { return null; }\n        start = i+1;\n      }\n    }\n    if (!processComplexSelector(start, n)) { return null; }\n\n\n    function processComplexSelector(start, end) {\n      // Space around commas is not an operator.\n      if (selectors[start] === ' ') { ++start; }\n      if (end-1 !== start && selectors[end] === ' ') { --end; }\n\n      // Split the selector into element selectors, content around\n      // space (ancestor operator) and '>' (descendant operator).\n      var out = [];\n      var lastOperator = start;\n      var valid = true;  // True iff out contains a valid complex selector.\n      for (var i = start; valid && i < end; ++i) {\n        var tok = selectors[i];\n        if (COMBINATOR[tok] === COMBINATOR || tok === ' ') {\n          // We've found the end of a single link in the selector chain.\n          if (!processCompoundSelector(lastOperator, i, tok)) {\n            valid = false;\n          } else {\n            lastOperator = i+1;\n          }\n        }\n      }\n      if (!processCompoundSelector(lastOperator, end, '')) {\n        valid = false;\n      }\n\n      function processCompoundSelector(start, end, combinator) {\n        // Split the element selector into four parts.\n        // DIV.foo#bar[href]:hover\n        //    ^       ^     ^\n        // el classes attrs pseudo\n        var element, classId, attrs, pseudoSelector,\n            tok,  // The current token\n            // valid implies the parts above comprise a sanitized selector.\n            valid = true;\n        element = '';\n        if (start < end) {\n          tok = selectors[start];\n          if (tok === '*') {\n            ++start;\n            element = tok;\n          } else if (/^[a-zA-Z]/.test(tok)) {  // is an element selector\n            var decision = tagPolicy(tok.toLowerCase(), []);\n            if (decision) {\n              if ('tagName' in decision) {\n                tok = decision['tagName'];\n              }\n              ++start;\n              element = tok;\n            }\n          }\n        }\n        classId = '';\n        attrs = '';\n        pseudoSelector = '';\n        for (;valid && start < end; ++start) {\n          tok = selectors[start];\n          if (tok.charAt(0) === '#') {\n            if (/^#_|__$|[^\\w#:\\-]/.test(tok)) {\n              valid = false;\n            } else {\n              // Rewrite ID elements to include the suffix.\n              classId += tok + idSuffix;\n            }\n          } else if (tok === '.') {\n            if (++start < end\n                && /^[0-9A-Za-z:_\\-]+$/.test(tok = selectors[start])\n                && !/^_|__$/.test(tok)) {\n              classId += '.' + tok;\n            } else {\n              valid = false;\n            }\n          } else if (start + 1 < end && selectors[start] === '[') {\n            ++start;\n            var vAttr = selectors[start++].toLowerCase();\n            // Schema lookup for type information\n            var atype = html4.ATTRIBS[element + '::' + vAttr];\n            if (atype !== +atype) { atype = html4.ATTRIBS['*::' + vAttr]; }\n\n            var rAttr;\n            // Consult policy\n            // TODO(kpreid): Making this optional is a kludge to avoid changing\n            // the public interface until we have a more well-structured design.\n            if (virtualization.virtualizeAttrName) {\n              rAttr = virtualization.virtualizeAttrName(element, vAttr);\n              if (typeof rAttr !== 'string') {\n                // rejected\n                valid = false;\n                rAttr = vAttr;\n              }\n              // don't reject even if not in schema\n              if (valid && atype !== +atype) {\n                atype = html4.atype['NONE'];\n              }\n            } else {\n              rAttr = vAttr;\n              if (atype !== +atype) {  // not permitted according to schema\n                valid = false;\n              }\n            }\n\n            var op = '', value = '', ignoreCase = false;\n            if (/^[~^$*|]?=$/.test(selectors[start])) {\n              op = selectors[start++];\n              value = selectors[start++];\n              // Quote identifier values.\n              if (/^[0-9A-Za-z:_\\-]+$/.test(value)) {\n                value = '\"' + value + '\"';\n              } else if (value === ']') {\n                value = '\"\"';\n                --start;\n              }\n              // Reject unquoted values.\n              if (!/^\"([^\\\"\\\\]|\\\\.)*\"$/.test(value)) {\n                valid = false;\n              }\n              ignoreCase = selectors[start] === \"i\";\n              if (ignoreCase) { ++start; }\n            }\n            if (selectors[start] !== ']') {\n              ++start;\n              valid = false;\n            }\n            // TODO: replace this with a lookup table that also provides a\n            // function from operator and value to testable value.\n            switch (atype) {\n            case html4.atype['CLASSES']:\n            case html4.atype['LOCAL_NAME']:\n            case html4.atype['NONE']:\n              break;\n            case html4.atype['GLOBAL_NAME']:\n            case html4.atype['ID']:\n            case html4.atype['IDREF']:\n              if ((op === '=' || op === '~=' || op === '$=')\n                  && value != '\"\"' && !ignoreCase) {\n                // The suffix is case-sensitive, so we can't translate case\n                // ignoring matches.\n                value = '\"'\n                  + value.substring(1, value.length-1) + idSuffix\n                  + '\"';\n              } else if (op === '|=' || op === '') {\n                // Ok.  a|=b -> a == b || a.startsWith(b + \"-\") and since we\n                // use \"-\" to separate the suffix from the identifier, we can\n                // allow this through unmodified.\n                // Existence checks are also ok.\n              } else {\n                // Can't correctly handle prefix and substring operators\n                // without leaking information about the suffix.\n                valid = false;\n              }\n              break;\n            case html4.atype['URI']:\n            case html4.atype['URI_FRAGMENT']:\n              // URIs are rewritten, so we can't meanginfully translate URI\n              // selectors besides the common a[href] one that is used to\n              // distinguish links from naming anchors.\n              if (op !== '') { valid = false; }\n              break;\n            // TODO: IDREFS\n            default:\n              valid = false;\n            }\n            if (valid) {\n              attrs += '[' + rAttr.replace(/[^\\w-]/g, '\\\\$&') + op + value +\n                  (ignoreCase ? ' i]' : ']');\n            }\n          } else if (start < end && selectors[start] === ':') {\n            tok = selectors[++start];\n            if (PSEUDO_SELECTOR_WHITELIST.test(tok)) {\n              pseudoSelector += ':' + tok;\n            } else {\n              break;\n            }\n          } else {\n            break;  // Unrecognized token.\n          }\n        }\n        if (start !== end) {  // Tokens not consumed.\n          valid = false;\n        }\n        if (valid) {\n          // ':' is allowed in identifiers, but is also the\n          // pseudo-selector separator, so ':' in preceding parts needs to\n          // be escaped.\n          var selector = (element + classId).replace(/[^ .*#\\w-]/g, '\\\\$&')\n              + attrs + pseudoSelector + combinator;\n          if (selector) { out.push(selector); }\n        }\n        return valid;\n      }\n\n      if (valid) {\n        if (out.length) {\n          var safeSelector = out.join('');\n\n          // Namespace the selector so that it only matches under\n          // a node with suffix in its CLASS attribute.\n          if (containerClass !== null) {\n            safeSelector = '.' + containerClass + ' ' + safeSelector;\n          }\n\n          sanitized.push(safeSelector);\n        }  // else nothing there.\n        return true;\n      } else {\n        return !opt_onUntranslatableSelector\n          || opt_onUntranslatableSelector(selectors.slice(start, end));\n      }\n    }\n    return sanitized;\n  };\n\n  (function () {\n    var MEDIA_TYPE =\n       '(?:'\n       + 'all|aural|braille|embossed|handheld|print'\n       + '|projection|screen|speech|tty|tv'\n       + ')';\n\n    // A white-list of media features extracted from the \"Pseudo-BNF\" in\n    // http://dev.w3.org/csswg/mediaqueries4/#media1 and\n    // https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries\n    var MEDIA_FEATURE =\n       '(?:'\n       + '(?:min-|max-)?'\n       + '(?:' + (\n           '(?:device-)?'\n         + '(?:aspect-ratio|height|width)'\n         + '|color(?:-index)?'\n         + '|monochrome'\n         + '|orientation'\n         + '|resolution'\n       )\n       + ')'\n       + '|grid'\n       + '|hover'\n       + '|luminosity'\n       + '|pointer'\n       + '|scan'\n       + '|script'\n       + ')';\n\n    var LENGTH_UNIT = '(?:p[cxt]|[cem]m|in|dpi|dppx|dpcm|%)';\n\n    var CSS_VALUE =\n       '-?(?:'\n       + '[a-z]\\\\w+(?:-\\\\w+)*'  // An identifier\n       // A length or scalar quantity, or a rational number.\n       // dev.w3.org/csswg/mediaqueries4/#values introduces a ratio value-type\n       // to allow matching aspect ratios like \"4 / 3\".\n       + '|\\\\d+(?: / \\\\d+|(?:\\\\.\\\\d+)?' + LENGTH_UNIT + '?)'\n       + ')';\n\n    var MEDIA_EXPR =\n       '\\\\( ' + MEDIA_FEATURE + ' (?:' + ': ' + CSS_VALUE + ' )?\\\\)';\n\n    var MEDIA_QUERY =\n       '(?:'\n       + '(?:(?:(?:only|not) )?' + MEDIA_TYPE + '|' + MEDIA_EXPR + ')'\n       // We use 'and ?' since 'and(' is a single CSS function token while\n       // 'and (' parses to two separate tokens -- IDENT \"and\", DELIM \"(\".\n       + '(?: and ?' + MEDIA_EXPR + ')*'\n       + ')';\n\n    var STARTS_WITH_KEYWORD_REGEXP = /^\\w/;\n\n    var MEDIA_QUERY_LIST_REGEXP = new RegExp(\n      '^' + MEDIA_QUERY + '(?: , ' + MEDIA_QUERY + ')*' + '$',\n      'i'\n    );\n\n    /**\n     * Sanitizes a media query as defined in\n     * http://dev.w3.org/csswg/mediaqueries4/#syntax\n     * <blockquote>\n     * Media Queries allow authors to adapt the style applied to a document\n     * based on the environment the document is being rendered in.\n     * </blockquote>\n     *\n     * @param {Array.<string>} cssTokens an array of tokens of the kind produced\n     *   by cssLexers.\n     * @return {string} a CSS media query.  This may be the empty string, or if\n     *   the input is invalid, then a query that is always false.\n     */\n    sanitizeMediaQuery = function (cssTokens) {\n      cssTokens = cssTokens.slice();\n      // Strip out space tokens.\n      var nTokens = cssTokens.length, k = 0;\n      for (var i = 0; i < nTokens; ++i) {\n        var tok = cssTokens[i];\n        if (tok != ' ') { cssTokens[k++] = tok; }\n      }\n      cssTokens.length = k;\n      var css = cssTokens.join(' ');\n      css = (\n        !css.length ? ''  // Always true per the spec.\n        : !(MEDIA_QUERY_LIST_REGEXP.test(css)) ? 'not all'  // Always false.\n        // Emit as-is if it starts with 'only', 'not' or a media type.\n        : STARTS_WITH_KEYWORD_REGEXP.test(css) ? css\n        : 'not all , ' + css  // Not ambiguous with a URL.\n      );\n      return css;\n    };\n  }());\n\n  (function () {\n\n    /**\n     * Extracts a url out of an at-import rule of the form:\n     *   \\@import \"mystyle.css\";\n     *   \\@import url(\"mystyle.css\");\n     *\n     * Returns null if no valid url was found.\n     */\n    function cssParseUri(candidate) {\n      var string1 = /^\\s*[\"]([^\"]*)[\"]\\s*$/;\n      var string2 = /^\\s*[']([^']*)[']\\s*$/;\n      var url1 = /^\\s*url\\s*[(][\"]([^\"]*)[\"][)]\\s*$/;\n      var url2 = /^\\s*url\\s*[(][']([^']*)['][)]\\s*$/;\n      // Not officially part of the CSS2.1 grammar\n      // but supported by Chrome\n      var url3 = /^\\s*url\\s*[(]([^)]*)[)]\\s*$/;\n      var match;\n      if ((match = string1.exec(candidate))) {\n        return match[1];\n      } else if ((match = string2.exec(candidate))) {\n        return match[1];\n      } else if ((match = url1.exec(candidate))) {\n        return match[1];\n      } else if ((match = url2.exec(candidate))) {\n        return match[1];\n      } else if ((match = url3.exec(candidate))) {\n        return match[1];\n      }\n      return null;\n    }\n\n    /**\n     * @param {string} baseUri a string against which relative urls are\n     *    resolved.\n     * @param {string} cssText a string containing a CSS stylesheet.\n     * @param {{\n     *     containerClass: ?string,\n     *     idSuffix: string,\n     *     tagPolicy: function(string, Array.<string>): ?Array.<string>,\n     *     virtualizeAttrName: ?function(string, string): ?string\n     *   }} virtualization An object like <pre<{\n     *   containerClass: class name prepended to all selectors to scope them (if\n     *       not null)\n     *   idSuffix: appended to all IDs to scope them\n     *   tagPolicy: As in html-sanitizer, used for rewriting element names.\n     *   virtualizeAttrName: Rewrite a single attribute name for attribute\n     *       selectors, or return null if not possible. Should be consistent\n     *       with tagPolicy if possible. Optional.\n     * }</pre>\n     *    If containerClass is {@code \"sfx\"} and idSuffix is {@code \"-sfx\"}, the\n     *    selector\n     *    {@code [\"a\", \"#foo\", \" \", \"b\", \".bar\"]} will be namespaced to\n     *    {@code [\".sfx\", \" \", \"a\", \"#foo-sfx\", \" \", \"b\", \".bar\"]}.\n     * @param {function(string, string)} naiveUriRewriter maps URLs of media\n     *    (images, sounds) that appear as CSS property values to sanitized\n     *    URLs or null if the URL should not be allowed as an external media\n     *    file in sanitized CSS.\n     * @param {undefined|function({toString: function ():string}, boolean)}\n     *     continuation\n     *     callback that receives the result of loading imported CSS.\n     *     The callback is called with\n     *     (cssContent : function ():string, moreToCome : boolean)\n     *     where cssContent is the CSS at the imported URL, and moreToCome is\n     *     true when the external URL itself loaded other external URLs.\n     *     If the output of the original call is stringified when moreToCome is\n     *     false, then it will be complete.\n     * @param {Array.<number>} opt_importCount the number of imports that need\n     *     to be satisfied before there is no more pending content.\n     * @return {{result:{toString:function ():string},moreToCome:boolean}}\n     *     the CSS text, and a flag that indicates whether there are pending\n     *     imports that will be passed to continuation.\n     */\n    function sanitizeStylesheetInternal(\n        baseUri, cssText, virtualization, naiveUriRewriter, naiveUriFetcher,\n        continuation, opt_importCount) {\n      var safeCss = void 0;\n      // Return a result with moreToCome===true when the last import has been\n      // sanitized.\n      var importCount = opt_importCount || [0];\n      // A stack describing the { ... } regions.\n      // Null elements indicate blocks that should not be emitted.\n      var blockStack = [];\n      // True when the content of the current block should be left off safeCss.\n      var elide = false;\n      parseCssStylesheet(\n          cssText,\n          {\n            'startStylesheet': function () {\n              safeCss = [];\n            },\n            'endStylesheet': function () {\n            },\n            'startAtrule': function (atIdent, headerArray) {\n              if (elide) {\n                atIdent = null;\n              } else if (atIdent === '@media') {\n                safeCss.push('@media', ' ', sanitizeMediaQuery(headerArray));\n              } else if (atIdent === '@keyframes'\n                         || atIdent === '@-webkit-keyframes') {\n                var animationId = headerArray[0];\n                if (headerArray.length === 1\n                    && !/__$|[^\\w\\-]/.test(animationId)) {\n                  safeCss.push(\n                      atIdent, ' ', animationId + virtualization.idSuffix);\n                  atIdent = '@keyframes';\n                } else {\n                  atIdent = null;\n                }\n              } else {\n                if (atIdent === '@import' && headerArray.length > 0) {\n                  atIdent = null;\n                  if ('function' === typeof continuation) {\n                    var mediaQuery = sanitizeMediaQuery(headerArray.slice(1));\n                    if (mediaQuery !== 'not all') {\n                      ++importCount[0];\n                      var placeholder = [];\n                      safeCss.push(placeholder);\n                      var cssUrl = safeUri(\n                          resolveUri(baseUri, cssParseUri(headerArray[0])),\n                          function(result) {\n                            var sanitized = sanitizeStylesheetInternal(\n                                cssUrl, result.html, virtualization,\n                                naiveUriRewriter, naiveUriFetcher,\n                                continuation, importCount);\n                            --importCount[0];\n                            var safeImportedCss = mediaQuery\n                              ? {\n                                toString: function () {\n                                  return (\n                                    '@media ' + mediaQuery + ' {'\n                                    + sanitized.result + '}'\n                                  );\n                                }\n                              }\n                              : sanitized.result;\n                            placeholder[0] = safeImportedCss;\n                            continuation(safeImportedCss, !!importCount[0]);\n                          },\n                          naiveUriFetcher);\n                    }\n                  } else {\n                    // TODO: Use a logger instead.\n                    if (window.console) {\n                      window.console.log(\n                          '@import ' + headerArray.join(' ') + ' elided');\n                    }\n                  }\n                }\n              }\n              elide = !atIdent;\n              blockStack.push(atIdent);\n            },\n            'endAtrule': function () {\n              blockStack.pop();\n              if (!elide) {\n                safeCss.push(';');\n              }\n              checkElide();\n            },\n            'startBlock': function () {\n              // There are no bare blocks in CSS, so we do not change the\n              // block stack here, but instead in the events that bracket\n              // blocks.\n              if (!elide) {\n                safeCss.push('{');\n              }\n            },\n            'endBlock': function () {\n              if (!elide) {\n                safeCss.push('}');\n                elide = true;  // skip any semicolon from endAtRule.\n              }\n            },\n            'startRuleset': function (selectorArray) {\n              if (!elide) {\n                var selector = void 0;\n                if (blockStack[blockStack.length - 1] === '@keyframes') {\n                  // Allow [from | to | <percentage>]\n                  selector = selectorArray.join(' ')\n                    .match(/^ *(?:from|to|\\d+(?:\\.\\d+)?%) *(?:, *(?:from|to|\\d+(?:\\.\\d+)?%) *)*$/i);\n                  elide = !selector;\n                  if (selector) { selector = selector[0].replace(/ +/g, ''); }\n                } else {\n                  var selectors = sanitizeCssSelectorList(\n                      selectorArray, virtualization);\n                  if (!selectors || !selectors.length) {\n                    elide = true;\n                  } else {\n                    selector = selectors.join(', ');\n                  }\n                }\n                if (!elide) {\n                  safeCss.push(selector, '{');\n                }\n              }\n              blockStack.push(null);\n            },\n            'endRuleset': function () {\n              blockStack.pop();\n              if (!elide) {\n                safeCss.push('}');\n              }\n              checkElide();\n            },\n            'declaration': function (property, valueArray) {\n              if (!elide) {\n                var isImportant = false;\n                var nValues = valueArray.length;\n                if (nValues >= 2\n                    && valueArray[nValues - 2] === '!'\n                    && valueArray[nValues - 1].toLowerCase() === 'important') {\n                  isImportant = true;\n                  valueArray.length -= 2;\n                }\n                sanitizeCssProperty(\n                    property, valueArray, naiveUriRewriter, baseUri,\n                    virtualization.idSuffix);\n                if (valueArray.length) {\n                  safeCss.push(\n                      property, ':', valueArray.join(' '),\n                      isImportant ? ' !important;' : ';');\n                }\n              }\n            }\n          });\n      function checkElide() {\n        elide = blockStack.length && blockStack[blockStack.length-1] === null;\n      }\n      return {\n        result : { toString: function () { return safeCss.join(''); } },\n        moreToCome : !!importCount[0]\n      };\n    }\n\n    sanitizeStylesheet = function (\n        baseUri, cssText, virtualization, naiveUriRewriter) {\n      return sanitizeStylesheetInternal(\n          baseUri, cssText, virtualization,\n          naiveUriRewriter, undefined, undefined).result.toString();\n    };\n\n    sanitizeStylesheetWithExternals = function (\n        baseUri, cssText, virtualization, naiveUriRewriter, naiveUriFetcher,\n        continuation) {\n      return sanitizeStylesheetInternal(\n          baseUri, cssText, virtualization,\n          naiveUriRewriter, naiveUriFetcher, continuation);\n    };\n  })();\n})();\n\n// Exports for closure compiler.\nif (typeof window !== 'undefined') {\n  window['sanitizeCssProperty'] = sanitizeCssProperty;\n  window['sanitizeCssSelectorList'] = sanitizeCssSelectorList;\n  window['sanitizeStylesheet'] = sanitizeStylesheet;\n  window['sanitizeMediaQuery'] = sanitizeMediaQuery;\n}\n;\n// Copyright (C) 2010 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview\n * Utilities for dealing with CSS source code.\n *\n * @author mikesamuel@gmail.com\n * \\@requires lexCss\n * \\@overrides window\n * \\@provides parseCssStylesheet, parseCssDeclarations\n */\n\n// The Turkish i seems to be a non-issue, but abort in case it is.\nif ('I'.toLowerCase() !== 'i') { throw 'I/i problem'; }\n\n/**\n * parseCssStylesheet takes a chunk of CSS text and a handler object with\n * methods that it calls as below:\n * <pre>\n * // At the beginning of a stylesheet.\n * handler.startStylesheet();\n *\n * // For an @foo rule ended by a semicolon: @import \"foo.css\";\n * handler.startAtrule('@import', ['\"foo.css\"']);\n * handler.endAtrule();\n *\n * // For an @foo rule ended with a block. @media print { ... }\n * handler.startAtrule('@media', ['print']);\n * handler.startBlock();\n * // Calls to contents elided.  Probably selectors and declarations as below.\n * handler.endBlock();\n * handler.endAtrule();\n *\n * // For a ruleset: p.clazz q, s { color: blue; }\n * handler.startRuleset(['p', '.', 'clazz', ' ', 'q', ',', ' ', 's']);\n * handler.declaration('color', ['blue']);\n * handler.endRuleset();\n *\n * // At the end of a stylesheet.\n * handler.endStylesheet();\n * </pre>\n * When errors are encountered, the parser drops the useless tokens and\n * attempts to resume parsing.\n *\n * @param {string} cssText CSS3 content to parse as a stylesheet.\n * @param {Object} handler An object like <pre>{\n *   startStylesheet: function () { ... },\n *   endStylesheet: function () { ... },\n *   startAtrule: function (atIdent, headerArray) { ... },\n *   endAtrule: function () { ... },\n *   startBlock: function () { ... },\n *   endBlock: function () { ... },\n *   startRuleset: function (selectorArray) { ... },\n *   endRuleset: function () { ... },\n *   declaration: function (property, valueArray) { ... },\n * }</pre>\n */\nvar parseCssStylesheet;\n\n/**\n * parseCssDeclarations parses a run of declaration productions as seen in the\n * body of the HTML5 {@code style} attribute.\n *\n * @param {string} cssText CSS3 content to parse as a run of declarations.\n * @param {Object} handler An object like <pre>{\n *   declaration: function (property, valueArray) { ... },\n * }</pre>\n */\nvar parseCssDeclarations;\n\n(function () {\n  // stylesheet  : [ CDO | CDC | S | statement ]*;\n  parseCssStylesheet = function(cssText, handler) {\n    var toks = lexCss(cssText);\n    if (handler['startStylesheet']) { handler['startStylesheet'](); }\n    for (var i = 0, n = toks.length; i < n;) {\n      // CDO and CDC (\"<!--\" and \"-->\") are converted to space by the lexer.\n      i = toks[i] === ' ' ? i+1 : statement(toks, i, n, handler);\n    }\n    if (handler['endStylesheet']) { handler['endStylesheet'](); }\n  };\n\n  // statement   : ruleset | at-rule;\n  function statement(toks, i, n, handler) {\n    if (i < n) {\n      var tok = toks[i];\n      if (tok.charAt(0) === '@') {\n        return atrule(toks, i, n, handler, true);\n      } else {\n        return ruleset(toks, i, n, handler);\n      }\n    } else {\n      return i;\n    }\n  }\n\n  // at-rule     : ATKEYWORD S* any* [ block | ';' S* ];\n  function atrule(toks, i, n, handler, blockok) {\n    var start = i++;\n    while (i < n && toks[i] !== '{' && toks[i] !== ';') {\n      ++i;\n    }\n    if (i < n && (blockok || toks[i] === ';')) {\n      var s = start+1, e = i;\n      if (s < n && toks[s] === ' ') { ++s; }\n      if (e > s && toks[e-1] === ' ') { --e; }\n      if (handler['startAtrule']) {\n        handler['startAtrule'](toks[start].toLowerCase(), toks.slice(s, e));\n      }\n      i = (toks[i] === '{')\n          ? block(toks, i, n, handler)\n          : i+1;  // Skip over ';'\n      if (handler['endAtrule']) {\n        handler['endAtrule']();\n      }\n    }\n    // Else we reached end of input or are missing a semicolon.\n    // Drop the rule on the floor.\n    return i;\n  }\n\n  // block       : '{' S* [ any | block | ATKEYWORD S* | ';' S* ]* '}' S*;\n   // Assumes the leading '{' has been verified by callers.\n  function block(toks, i, n, handler) {\n    ++i; //  skip over '{'\n    if (handler['startBlock']) { handler['startBlock'](); }\n    while (i < n) {\n      var ch = toks[i].charAt(0);\n      if (ch == '}') {\n        ++i;\n        break;\n      }\n      if (ch === ' ' || ch === ';') {\n        i = i+1;\n      } else if (ch === '@') {\n        i = atrule(toks, i, n, handler, false);\n      } else if (ch === '{') {\n        i = block(toks, i, n, handler);\n      } else {\n        // Instead of using (any* block) to subsume ruleset we allow either\n        // blocks or rulesets with a non-blank selector.\n        // This is more restrictive but does not require atrule specific\n        // parse tree fixup to realize that the contents of the block in\n        //    @media print { ... }\n        // is a ruleset.  We just don't care about any block carrying at-rules\n        // whose body content is not ruleset content.\n        i = ruleset(toks, i, n, handler);\n      }\n    }\n    if (handler['endBlock']) { handler['endBlock'](); }\n    return i;\n  }\n\n  // ruleset    : selector? '{' S* declaration? [ ';' S* declaration? ]* '}' S*;\n  function ruleset(toks, i, n, handler) {\n    // toks[s:e] are the selector tokens including internal whitespace.\n    var s = i, e = selector(toks, i, n, true);\n    if (e < 0) {\n      // Skip malformed content per selector calling convention.\n      e = ~e;\n      // Make sure we skip at least one token.\n      return e === s ? e+1 : e;\n    }\n    var tok = toks[e];\n    if (tok !== '{') {\n      // Make sure we skip at least one token.\n      return e === s ? e+1 : e;\n    }\n    i = e+1;  // Skip over '{'\n    // Don't include any trailing space in the selector slice.\n    if (e > s && toks[e-1] === ' ') { --e; }\n    if (handler['startRuleset']) {\n      handler['startRuleset'](toks.slice(s, e));\n    }\n    while (i < n) {\n      tok = toks[i];\n      if (tok === '}') {\n        ++i;\n        break;\n      }\n      if (tok === ' ') {\n        i = i+1;\n      } else {\n        i = declaration(toks, i, n, handler);\n      }\n    }\n    if (handler['endRuleset']) {\n      handler['endRuleset']();\n    }\n    return i;\n  }\n\n  // selector    : any+;\n  // any         : [ IDENT | NUMBER | PERCENTAGE | DIMENSION | STRING\n  //               | DELIM | URI | HASH | UNICODE-RANGE | INCLUDES\n  //               | FUNCTION S* any* ')' | DASHMATCH | '(' S* any* ')'\n  //               | '[' S* any* ']' ] S*;\n  // A negative return value, rv, indicates the selector was malformed and\n  // the index at which we stopped is ~rv.\n  function selector(toks, i, n, allowSemi) {\n    var s = i;\n    // The definition of any above can be summed up as\n    //   \"any run of token except ('[', ']', '(', ')', ':', ';', '{', '}')\n    //    or nested runs of parenthesized tokens or square bracketed tokens\".\n    // Spaces are significant in the selector.\n    // Selector is used as (selector?) so the below looks for (any*) for\n    // simplicity.\n    var tok;\n    // Keeping a stack pointer actually causes this to minify better since\n    // \".length\" and \".push\" are a lo of chars.\n    var brackets = [], stackLast = -1;\n    for (;i < n; ++i) {\n      tok = toks[i].charAt(0);\n      if (tok === '[' || tok === '(') {\n        brackets[++stackLast] = tok;\n      } else if ((tok === ']' && brackets[stackLast] === '[') ||\n                 (tok === ')' && brackets[stackLast] === '(')) {\n        --stackLast;\n      } else if (tok === '{' || tok === '}' || tok === ';' || tok === '@'\n                 || (tok === ':' && !allowSemi)) {\n        break;\n      }\n    }\n    if (stackLast >= 0) {\n      // Returns the bitwise inverse of i+1 to indicate an error in the\n      // token stream so that clients can ignore it.\n      i = ~(i+1);\n    }\n    return i;\n  }\n\n  var ident = /^-?[a-z]/i;\n\n  function skipDeclaration(toks, i, n) {\n    // TODO(felix8a): maybe skip balanced pairs of {}\n    while (i < n && toks[i] !== ';' && toks[i] !== '}') { ++i; }\n    return i < n && toks[i] === ';' ? i+1 : i;\n  }\n\n  // declaration : property ':' S* value;\n  // property    : IDENT S*;\n  // value       : [ any | block | ATKEYWORD S* ]+;\n  function declaration(toks, i, n, handler) {\n    var property = toks[i++];\n    if (!ident.test(property)) {\n      return skipDeclaration(toks, i, n);\n    }\n    var tok;\n    if (i < n && toks[i] === ' ') { ++i; }\n    if (i == n || toks[i] !== ':') {\n      return skipDeclaration(toks, i, n);\n    }\n    ++i;\n    if (i < n && toks[i] === ' ') { ++i; }\n\n    // None of the rules we care about want atrules or blocks in value, so\n    // we look for any+ but that is the same as selector but not zero-length.\n    // This gets us the benefit of not emitting any value with mismatched\n    // brackets.\n    var s = i, e = selector(toks, i, n, false);\n    if (e < 0) {\n      // Skip malformed content per selector calling convention.\n      e = ~e;\n    } else {\n      var value = [], valuelen = 0;\n      for (var j = s; j < e; ++j) {\n        tok = toks[j];\n        if (tok !== ' ') {\n          value[valuelen++] = tok;\n        }\n      }\n      // One of the following is now true:\n      // (1) e is flush with the end of the tokens as in <... style=\"x:y\">.\n      // (2) tok[e] points to a ';' in which case we need to consume the semi.\n      // (3) tok[e] points to a '}' in which case we don't consume it.\n      // (4) else there is bogus unparsed value content at toks[e:].\n      // Allow declaration flush with end for style attr body.\n      if (e < n) {  // 2, 3, or 4\n        do {\n          tok = toks[e];\n          if (tok === ';' || tok === '}') { break; }\n          // Don't emit the property if there is questionable trailing content.\n          valuelen = 0;\n        } while (++e < n);\n        if (tok === ';') {\n          ++e;\n        }\n      }\n      if (valuelen && handler['declaration']) {\n        // TODO: coerce non-keyword ident tokens to quoted strings.\n        handler['declaration'](property.toLowerCase(), value);\n      }\n    }\n    return e;\n  }\n\n  parseCssDeclarations = function(cssText, handler) {\n    var toks = lexCss(cssText);\n    for (var i = 0, n = toks.length; i < n;) {\n      i = toks[i] !== ' ' ? declaration(toks, i, n, handler) : i+1;\n    }\n  };\n})();\n\n// Exports for closure compiler.\nif (typeof window !== 'undefined') {\n  window['parseCssStylesheet'] = parseCssStylesheet;\n  window['parseCssDeclarations'] = parseCssDeclarations;\n}\n;\n// Copyright Google Inc.\n// Licensed under the Apache Licence Version 2.0\n// Autogenerated at Wed Nov 25 17:35:12 CET 2015\n// @overrides window\n// @provides html4\nvar html4 = {};\nhtml4.atype = {\n  'NONE': 0,\n  'URI': 1,\n  'URI_FRAGMENT': 11,\n  'SCRIPT': 2,\n  'STYLE': 3,\n  'HTML': 12,\n  'ID': 4,\n  'IDREF': 5,\n  'IDREFS': 6,\n  'GLOBAL_NAME': 7,\n  'LOCAL_NAME': 8,\n  'CLASSES': 9,\n  'FRAME_TARGET': 10,\n  'MEDIA_QUERY': 13\n};\nhtml4[ 'atype' ] = html4.atype;\nhtml4.ATTRIBS = {\n  '*::class': 9,\n  '*::dir': 0,\n  '*::draggable': 0,\n  '*::hidden': 0,\n  '*::id': 4,\n  '*::inert': 0,\n  '*::itemprop': 0,\n  '*::itemref': 6,\n  '*::itemscope': 0,\n  '*::lang': 0,\n  '*::onblur': 2,\n  '*::onchange': 2,\n  '*::onclick': 2,\n  '*::ondblclick': 2,\n  '*::onerror': 2,\n  '*::onfocus': 2,\n  '*::onkeydown': 2,\n  '*::onkeypress': 2,\n  '*::onkeyup': 2,\n  '*::onload': 2,\n  '*::onmousedown': 2,\n  '*::onmousemove': 2,\n  '*::onmouseout': 2,\n  '*::onmouseover': 2,\n  '*::onmouseup': 2,\n  '*::onreset': 2,\n  '*::onscroll': 2,\n  '*::onselect': 2,\n  '*::onsubmit': 2,\n  '*::ontouchcancel': 2,\n  '*::ontouchend': 2,\n  '*::ontouchenter': 2,\n  '*::ontouchleave': 2,\n  '*::ontouchmove': 2,\n  '*::ontouchstart': 2,\n  '*::onunload': 2,\n  '*::spellcheck': 0,\n  '*::style': 3,\n  '*::tabindex': 0,\n  '*::title': 0,\n  '*::translate': 0,\n  'a::accesskey': 0,\n  'a::coords': 0,\n  'a::href': 1,\n  'a::hreflang': 0,\n  'a::name': 7,\n  'a::onblur': 2,\n  'a::onfocus': 2,\n  'a::shape': 0,\n  'a::target': 0,\n  'a::type': 0,\n  'area::accesskey': 0,\n  'area::alt': 0,\n  'area::coords': 0,\n  'area::href': 1,\n  'area::nohref': 0,\n  'area::onblur': 2,\n  'area::onfocus': 2,\n  'area::shape': 0,\n  'area::target': 10,\n  'audio::controls': 0,\n  'audio::loop': 0,\n  'audio::mediagroup': 5,\n  'audio::muted': 0,\n  'audio::preload': 0,\n  'audio::src': 1,\n  'bdo::dir': 0,\n  'blockquote::cite': 1,\n  'br::clear': 0,\n  'button::accesskey': 0,\n  'button::disabled': 0,\n  'button::name': 8,\n  'button::onblur': 2,\n  'button::onfocus': 2,\n  'button::type': 0,\n  'button::value': 0,\n  'canvas::height': 0,\n  'canvas::width': 0,\n  'caption::align': 0,\n  'col::align': 0,\n  'col::char': 0,\n  'col::charoff': 0,\n  'col::span': 0,\n  'col::valign': 0,\n  'col::width': 0,\n  'colgroup::align': 0,\n  'colgroup::char': 0,\n  'colgroup::charoff': 0,\n  'colgroup::span': 0,\n  'colgroup::valign': 0,\n  'colgroup::width': 0,\n  'command::checked': 0,\n  'command::command': 5,\n  'command::disabled': 0,\n  'command::icon': 1,\n  'command::label': 0,\n  'command::radiogroup': 0,\n  'command::type': 0,\n  'data::value': 0,\n  'del::cite': 1,\n  'del::datetime': 0,\n  'details::open': 0,\n  'dir::compact': 0,\n  'div::align': 0,\n  'dl::compact': 0,\n  'fieldset::disabled': 0,\n  'font::color': 0,\n  'font::face': 0,\n  'font::size': 0,\n  'form::accept': 0,\n  'form::action': 1,\n  'form::autocomplete': 0,\n  'form::enctype': 0,\n  'form::method': 0,\n  'form::name': 7,\n  'form::novalidate': 0,\n  'form::onreset': 2,\n  'form::onsubmit': 2,\n  'form::target': 10,\n  'h1::align': 0,\n  'h2::align': 0,\n  'h3::align': 0,\n  'h4::align': 0,\n  'h5::align': 0,\n  'h6::align': 0,\n  'hr::align': 0,\n  'hr::noshade': 0,\n  'hr::size': 0,\n  'hr::width': 0,\n  'iframe::align': 0,\n  'iframe::frameborder': 0,\n  'iframe::height': 0,\n  'iframe::marginheight': 0,\n  'iframe::marginwidth': 0,\n  'iframe::width': 0,\n  'img::align': 0,\n  'img::alt': 0,\n  'img::border': 0,\n  'img::height': 0,\n  'img::hspace': 0,\n  'img::ismap': 0,\n  'img::name': 7,\n  'img::src': 1,\n  'img::usemap': 11,\n  'img::vspace': 0,\n  'img::width': 0,\n  'input::accept': 0,\n  'input::accesskey': 0,\n  'input::align': 0,\n  'input::alt': 0,\n  'input::autocomplete': 0,\n  'input::checked': 0,\n  'input::disabled': 0,\n  'input::inputmode': 0,\n  'input::ismap': 0,\n  'input::list': 5,\n  'input::max': 0,\n  'input::maxlength': 0,\n  'input::min': 0,\n  'input::multiple': 0,\n  'input::name': 8,\n  'input::onblur': 2,\n  'input::onchange': 2,\n  'input::onfocus': 2,\n  'input::onselect': 2,\n  'input::pattern': 0,\n  'input::placeholder': 0,\n  'input::readonly': 0,\n  'input::required': 0,\n  'input::size': 0,\n  'input::src': 1,\n  'input::step': 0,\n  'input::type': 0,\n  'input::usemap': 11,\n  'input::value': 0,\n  'ins::cite': 1,\n  'ins::datetime': 0,\n  'label::accesskey': 0,\n  'label::for': 5,\n  'label::onblur': 2,\n  'label::onfocus': 2,\n  'legend::accesskey': 0,\n  'legend::align': 0,\n  'li::type': 0,\n  'li::value': 0,\n  'map::name': 7,\n  'menu::compact': 0,\n  'menu::label': 0,\n  'menu::type': 0,\n  'meter::high': 0,\n  'meter::low': 0,\n  'meter::max': 0,\n  'meter::min': 0,\n  'meter::optimum': 0,\n  'meter::value': 0,\n  'ol::compact': 0,\n  'ol::reversed': 0,\n  'ol::start': 0,\n  'ol::type': 0,\n  'optgroup::disabled': 0,\n  'optgroup::label': 0,\n  'option::disabled': 0,\n  'option::label': 0,\n  'option::selected': 0,\n  'option::value': 0,\n  'output::for': 6,\n  'output::name': 8,\n  'p::align': 0,\n  'pre::width': 0,\n  'progress::max': 0,\n  'progress::min': 0,\n  'progress::value': 0,\n  'q::cite': 1,\n  'select::autocomplete': 0,\n  'select::disabled': 0,\n  'select::multiple': 0,\n  'select::name': 8,\n  'select::onblur': 2,\n  'select::onchange': 2,\n  'select::onfocus': 2,\n  'select::required': 0,\n  'select::size': 0,\n  'source::type': 0,\n  'table::align': 0,\n  'table::bgcolor': 0,\n  'table::border': 0,\n  'table::cellpadding': 0,\n  'table::cellspacing': 0,\n  'table::frame': 0,\n  'table::rules': 0,\n  'table::summary': 0,\n  'table::width': 0,\n  'tbody::align': 0,\n  'tbody::char': 0,\n  'tbody::charoff': 0,\n  'tbody::valign': 0,\n  'td::abbr': 0,\n  'td::align': 0,\n  'td::axis': 0,\n  'td::bgcolor': 0,\n  'td::char': 0,\n  'td::charoff': 0,\n  'td::colspan': 0,\n  'td::headers': 6,\n  'td::height': 0,\n  'td::nowrap': 0,\n  'td::rowspan': 0,\n  'td::scope': 0,\n  'td::valign': 0,\n  'td::width': 0,\n  'textarea::accesskey': 0,\n  'textarea::autocomplete': 0,\n  'textarea::cols': 0,\n  'textarea::disabled': 0,\n  'textarea::inputmode': 0,\n  'textarea::name': 8,\n  'textarea::onblur': 2,\n  'textarea::onchange': 2,\n  'textarea::onfocus': 2,\n  'textarea::onselect': 2,\n  'textarea::placeholder': 0,\n  'textarea::readonly': 0,\n  'textarea::required': 0,\n  'textarea::rows': 0,\n  'textarea::wrap': 0,\n  'tfoot::align': 0,\n  'tfoot::char': 0,\n  'tfoot::charoff': 0,\n  'tfoot::valign': 0,\n  'th::abbr': 0,\n  'th::align': 0,\n  'th::axis': 0,\n  'th::bgcolor': 0,\n  'th::char': 0,\n  'th::charoff': 0,\n  'th::colspan': 0,\n  'th::headers': 6,\n  'th::height': 0,\n  'th::nowrap': 0,\n  'th::rowspan': 0,\n  'th::scope': 0,\n  'th::valign': 0,\n  'th::width': 0,\n  'thead::align': 0,\n  'thead::char': 0,\n  'thead::charoff': 0,\n  'thead::valign': 0,\n  'tr::align': 0,\n  'tr::bgcolor': 0,\n  'tr::char': 0,\n  'tr::charoff': 0,\n  'tr::valign': 0,\n  'track::default': 0,\n  'track::kind': 0,\n  'track::label': 0,\n  'track::srclang': 0,\n  'ul::compact': 0,\n  'ul::type': 0,\n  'video::controls': 0,\n  'video::height': 0,\n  'video::loop': 0,\n  'video::mediagroup': 5,\n  'video::muted': 0,\n  'video::poster': 1,\n  'video::preload': 0,\n  'video::src': 1,\n  'video::width': 0\n};\nhtml4[ 'ATTRIBS' ] = html4.ATTRIBS;\nhtml4.eflags = {\n  'OPTIONAL_ENDTAG': 1,\n  'EMPTY': 2,\n  'CDATA': 4,\n  'RCDATA': 8,\n  'UNSAFE': 16,\n  'FOLDABLE': 32,\n  'SCRIPT': 64,\n  'STYLE': 128,\n  'VIRTUALIZED': 256\n};\nhtml4[ 'eflags' ] = html4.eflags;\nhtml4.ELEMENTS = {\n  'a': 0,\n  'abbr': 0,\n  'acronym': 0,\n  'address': 0,\n  'applet': 272,\n  'area': 2,\n  'article': 0,\n  'aside': 0,\n  'audio': 0,\n  'b': 0,\n  'base': 274,\n  'basefont': 274,\n  'bdi': 0,\n  'bdo': 0,\n  'big': 0,\n  'blockquote': 0,\n  'body': 305,\n  'br': 2,\n  'button': 0,\n  'canvas': 0,\n  'caption': 0,\n  'center': 0,\n  'cite': 0,\n  'code': 0,\n  'col': 2,\n  'colgroup': 1,\n  'command': 2,\n  'data': 0,\n  'datalist': 0,\n  'dd': 1,\n  'del': 0,\n  'details': 0,\n  'dfn': 0,\n  'dialog': 272,\n  'dir': 0,\n  'div': 0,\n  'dl': 0,\n  'dt': 1,\n  'em': 0,\n  'fieldset': 0,\n  'figcaption': 0,\n  'figure': 0,\n  'font': 0,\n  'footer': 0,\n  'form': 0,\n  'frame': 274,\n  'frameset': 272,\n  'h1': 0,\n  'h2': 0,\n  'h3': 0,\n  'h4': 0,\n  'h5': 0,\n  'h6': 0,\n  'head': 305,\n  'header': 0,\n  'hgroup': 0,\n  'hr': 2,\n  'html': 305,\n  'i': 0,\n  'iframe': 16,\n  'img': 2,\n  'input': 2,\n  'ins': 0,\n  'isindex': 274,\n  'kbd': 0,\n  'keygen': 274,\n  'label': 0,\n  'legend': 0,\n  'li': 1,\n  'link': 274,\n  'map': 0,\n  'mark': 0,\n  'menu': 0,\n  'meta': 274,\n  'meter': 0,\n  'nav': 0,\n  'nobr': 0,\n  'noembed': 276,\n  'noframes': 276,\n  'noscript': 276,\n  'object': 272,\n  'ol': 0,\n  'optgroup': 0,\n  'option': 1,\n  'output': 0,\n  'p': 1,\n  'param': 274,\n  'pre': 0,\n  'progress': 0,\n  'q': 0,\n  's': 0,\n  'samp': 0,\n  'script': 84,\n  'section': 0,\n  'select': 0,\n  'small': 0,\n  'source': 2,\n  'span': 0,\n  'strike': 0,\n  'strong': 0,\n  'style': 148,\n  'sub': 0,\n  'summary': 0,\n  'sup': 0,\n  'table': 0,\n  'tbody': 1,\n  'td': 1,\n  'textarea': 8,\n  'tfoot': 1,\n  'th': 1,\n  'thead': 1,\n  'time': 0,\n  'title': 280,\n  'tr': 1,\n  'track': 2,\n  'tt': 0,\n  'u': 0,\n  'ul': 0,\n  'var': 0,\n  'video': 0,\n  'wbr': 2\n};\nhtml4[ 'ELEMENTS' ] = html4.ELEMENTS;\nhtml4.ELEMENT_DOM_INTERFACES = {\n  'a': 'HTMLAnchorElement',\n  'abbr': 'HTMLElement',\n  'acronym': 'HTMLElement',\n  'address': 'HTMLElement',\n  'applet': 'HTMLAppletElement',\n  'area': 'HTMLAreaElement',\n  'article': 'HTMLElement',\n  'aside': 'HTMLElement',\n  'audio': 'HTMLAudioElement',\n  'b': 'HTMLElement',\n  'base': 'HTMLBaseElement',\n  'basefont': 'HTMLBaseFontElement',\n  'bdi': 'HTMLElement',\n  'bdo': 'HTMLElement',\n  'big': 'HTMLElement',\n  'blockquote': 'HTMLQuoteElement',\n  'body': 'HTMLBodyElement',\n  'br': 'HTMLBRElement',\n  'button': 'HTMLButtonElement',\n  'canvas': 'HTMLCanvasElement',\n  'caption': 'HTMLTableCaptionElement',\n  'center': 'HTMLElement',\n  'cite': 'HTMLElement',\n  'code': 'HTMLElement',\n  'col': 'HTMLTableColElement',\n  'colgroup': 'HTMLTableColElement',\n  'command': 'HTMLCommandElement',\n  'data': 'HTMLElement',\n  'datalist': 'HTMLDataListElement',\n  'dd': 'HTMLElement',\n  'del': 'HTMLModElement',\n  'details': 'HTMLDetailsElement',\n  'dfn': 'HTMLElement',\n  'dialog': 'HTMLDialogElement',\n  'dir': 'HTMLDirectoryElement',\n  'div': 'HTMLDivElement',\n  'dl': 'HTMLDListElement',\n  'dt': 'HTMLElement',\n  'em': 'HTMLElement',\n  'fieldset': 'HTMLFieldSetElement',\n  'figcaption': 'HTMLElement',\n  'figure': 'HTMLElement',\n  'font': 'HTMLFontElement',\n  'footer': 'HTMLElement',\n  'form': 'HTMLFormElement',\n  'frame': 'HTMLFrameElement',\n  'frameset': 'HTMLFrameSetElement',\n  'h1': 'HTMLHeadingElement',\n  'h2': 'HTMLHeadingElement',\n  'h3': 'HTMLHeadingElement',\n  'h4': 'HTMLHeadingElement',\n  'h5': 'HTMLHeadingElement',\n  'h6': 'HTMLHeadingElement',\n  'head': 'HTMLHeadElement',\n  'header': 'HTMLElement',\n  'hgroup': 'HTMLElement',\n  'hr': 'HTMLHRElement',\n  'html': 'HTMLHtmlElement',\n  'i': 'HTMLElement',\n  'iframe': 'HTMLIFrameElement',\n  'img': 'HTMLImageElement',\n  'input': 'HTMLInputElement',\n  'ins': 'HTMLModElement',\n  'isindex': 'HTMLUnknownElement',\n  'kbd': 'HTMLElement',\n  'keygen': 'HTMLKeygenElement',\n  'label': 'HTMLLabelElement',\n  'legend': 'HTMLLegendElement',\n  'li': 'HTMLLIElement',\n  'link': 'HTMLLinkElement',\n  'map': 'HTMLMapElement',\n  'mark': 'HTMLElement',\n  'menu': 'HTMLMenuElement',\n  'meta': 'HTMLMetaElement',\n  'meter': 'HTMLMeterElement',\n  'nav': 'HTMLElement',\n  'nobr': 'HTMLElement',\n  'noembed': 'HTMLElement',\n  'noframes': 'HTMLElement',\n  'noscript': 'HTMLElement',\n  'object': 'HTMLObjectElement',\n  'ol': 'HTMLOListElement',\n  'optgroup': 'HTMLOptGroupElement',\n  'option': 'HTMLOptionElement',\n  'output': 'HTMLOutputElement',\n  'p': 'HTMLParagraphElement',\n  'param': 'HTMLParamElement',\n  'pre': 'HTMLPreElement',\n  'progress': 'HTMLProgressElement',\n  'q': 'HTMLQuoteElement',\n  's': 'HTMLElement',\n  'samp': 'HTMLElement',\n  'script': 'HTMLScriptElement',\n  'section': 'HTMLElement',\n  'select': 'HTMLSelectElement',\n  'small': 'HTMLElement',\n  'source': 'HTMLSourceElement',\n  'span': 'HTMLSpanElement',\n  'strike': 'HTMLElement',\n  'strong': 'HTMLElement',\n  'style': 'HTMLStyleElement',\n  'sub': 'HTMLElement',\n  'summary': 'HTMLElement',\n  'sup': 'HTMLElement',\n  'table': 'HTMLTableElement',\n  'tbody': 'HTMLTableSectionElement',\n  'td': 'HTMLTableDataCellElement',\n  'textarea': 'HTMLTextAreaElement',\n  'tfoot': 'HTMLTableSectionElement',\n  'th': 'HTMLTableHeaderCellElement',\n  'thead': 'HTMLTableSectionElement',\n  'time': 'HTMLTimeElement',\n  'title': 'HTMLTitleElement',\n  'tr': 'HTMLTableRowElement',\n  'track': 'HTMLTrackElement',\n  'tt': 'HTMLElement',\n  'u': 'HTMLElement',\n  'ul': 'HTMLUListElement',\n  'var': 'HTMLElement',\n  'video': 'HTMLVideoElement',\n  'wbr': 'HTMLElement'\n};\nhtml4[ 'ELEMENT_DOM_INTERFACES' ] = html4.ELEMENT_DOM_INTERFACES;\nhtml4.ueffects = {\n  'NOT_LOADED': 0,\n  'SAME_DOCUMENT': 1,\n  'NEW_DOCUMENT': 2\n};\nhtml4[ 'ueffects' ] = html4.ueffects;\nhtml4.URIEFFECTS = {\n  'a::href': 2,\n  'area::href': 2,\n  'audio::src': 1,\n  'blockquote::cite': 0,\n  'command::icon': 1,\n  'del::cite': 0,\n  'form::action': 2,\n  'img::src': 1,\n  'input::src': 1,\n  'ins::cite': 0,\n  'q::cite': 0,\n  'video::poster': 1,\n  'video::src': 1\n};\nhtml4[ 'URIEFFECTS' ] = html4.URIEFFECTS;\nhtml4.ltypes = {\n  'UNSANDBOXED': 2,\n  'SANDBOXED': 1,\n  'DATA': 0\n};\nhtml4[ 'ltypes' ] = html4.ltypes;\nhtml4.LOADERTYPES = {\n  'a::href': 2,\n  'area::href': 2,\n  'audio::src': 2,\n  'blockquote::cite': 2,\n  'command::icon': 1,\n  'del::cite': 2,\n  'form::action': 2,\n  'img::src': 1,\n  'input::src': 1,\n  'ins::cite': 2,\n  'q::cite': 2,\n  'video::poster': 1,\n  'video::src': 2\n};\nhtml4[ 'LOADERTYPES' ] = html4.LOADERTYPES;\n// export for Closure Compiler\nif (typeof window !== 'undefined') {\n  window['html4'] = html4;\n}\n;\n// Copyright (C) 2006 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview\n * An HTML sanitizer that can satisfy a variety of security policies.\n *\n * <p>\n * The HTML sanitizer is built around a SAX parser and HTML element and\n * attributes schemas.\n *\n * If the cssparser is loaded, inline styles are sanitized using the\n * css property and value schemas.  Else they are remove during\n * sanitization.\n *\n * If it exists, uses parseCssDeclarations, sanitizeCssProperty,  cssSchema\n *\n * @author mikesamuel@gmail.com\n * @author jasvir@gmail.com\n * \\@requires html4, URI\n * \\@overrides window\n * \\@provides html, html_sanitize\n */\n\n// The Turkish i seems to be a non-issue, but abort in case it is.\nif ('I'.toLowerCase() !== 'i') { throw 'I/i problem'; }\n\n/**\n * \\@namespace\n */\nvar html = (function(html4) {\n\n  // For closure compiler\n  var parseCssDeclarations, sanitizeCssProperty, cssSchema;\n  if ('undefined' !== typeof window) {\n    parseCssDeclarations = window['parseCssDeclarations'];\n    sanitizeCssProperty = window['sanitizeCssProperty'];\n    cssSchema = window['cssSchema'];\n  }\n\n  // The keys of this object must be 'quoted' or JSCompiler will mangle them!\n  // This is a partial list -- lookupEntity() uses the host browser's parser\n  // (when available) to implement full entity lookup.\n  // Note that entities are in general case-sensitive; the uppercase ones are\n  // explicitly defined by HTML5 (presumably as compatibility).\n  var ENTITIES = {\n    'lt': '<',\n    'LT': '<',\n    'gt': '>',\n    'GT': '>',\n    'amp': '&',\n    'AMP': '&',\n    'quot': '\"',\n    'apos': '\\'',\n    'nbsp': '\\240'\n  };\n\n  // Patterns for types of entity/character reference names.\n  var decimalEscapeRe = /^#(\\d+)$/;\n  var hexEscapeRe = /^#x([0-9A-Fa-f]+)$/;\n  // contains every entity per http://www.w3.org/TR/2011/WD-html5-20110113/named-character-references.html\n  var safeEntityNameRe = /^[A-Za-z][A-za-z0-9]+$/;\n  // Used as a hook to invoke the browser's entity parsing. <textarea> is used\n  // because its content is parsed for entities but not tags.\n  // TODO(kpreid): This retrieval is a kludge and leads to silent loss of\n  // functionality if the document isn't available.\n  var entityLookupElement =\n      ('undefined' !== typeof window && window['document'])\n          ? window['document'].createElement('textarea') : null;\n  /**\n   * Decodes an HTML entity.\n   *\n   * {\\@updoc\n   * $ lookupEntity('lt')\n   * # '<'\n   * $ lookupEntity('GT')\n   * # '>'\n   * $ lookupEntity('amp')\n   * # '&'\n   * $ lookupEntity('nbsp')\n   * # '\\xA0'\n   * $ lookupEntity('apos')\n   * # \"'\"\n   * $ lookupEntity('quot')\n   * # '\"'\n   * $ lookupEntity('#xa')\n   * # '\\n'\n   * $ lookupEntity('#10')\n   * # '\\n'\n   * $ lookupEntity('#x0a')\n   * # '\\n'\n   * $ lookupEntity('#010')\n   * # '\\n'\n   * $ lookupEntity('#x00A')\n   * # '\\n'\n   * $ lookupEntity('Pi')      // Known failure\n   * # '\\u03A0'\n   * $ lookupEntity('pi')      // Known failure\n   * # '\\u03C0'\n   * }\n   *\n   * @param {string} name the content between the '&' and the ';'.\n   * @return {string} a single unicode code-point as a string.\n   */\n  function lookupEntity(name) {\n    // TODO: entity lookup as specified by HTML5 actually depends on the\n    // presence of the \";\".\n    if (ENTITIES.hasOwnProperty(name)) { return ENTITIES[name]; }\n    var m = name.match(decimalEscapeRe);\n    if (m) {\n      return String.fromCharCode(parseInt(m[1], 10));\n    } else if (!!(m = name.match(hexEscapeRe))) {\n      return String.fromCharCode(parseInt(m[1], 16));\n    } else if (entityLookupElement && safeEntityNameRe.test(name)) {\n      entityLookupElement.innerHTML = '&' + name + ';';\n      var text = entityLookupElement.textContent;\n      ENTITIES[name] = text;\n      return text;\n    } else {\n      return '&' + name + ';';\n    }\n  }\n\n  function decodeOneEntity(_, name) {\n    return lookupEntity(name);\n  }\n\n  var nulRe = /\\0/g;\n  function stripNULs(s) {\n    return s.replace(nulRe, '');\n  }\n\n  var ENTITY_RE_1 = /&(#[0-9]+|#[xX][0-9A-Fa-f]+|\\w+);/g;\n  var ENTITY_RE_2 = /^(#[0-9]+|#[xX][0-9A-Fa-f]+|\\w+);/;\n  /**\n   * The plain text of a chunk of HTML CDATA which possibly containing.\n   *\n   * {\\@updoc\n   * $ unescapeEntities('')\n   * # ''\n   * $ unescapeEntities('hello World!')\n   * # 'hello World!'\n   * $ unescapeEntities('1 &lt; 2 &amp;&AMP; 4 &gt; 3&#10;')\n   * # '1 < 2 && 4 > 3\\n'\n   * $ unescapeEntities('&lt;&lt <- unfinished entity&gt;')\n   * # '<&lt <- unfinished entity>'\n   * $ unescapeEntities('/foo?bar=baz&copy=true')  // & often unescaped in URLS\n   * # '/foo?bar=baz&copy=true'\n   * $ unescapeEntities('pi=&pi;&#x3c0;, Pi=&Pi;\\u03A0') // FIXME: known failure\n   * # 'pi=\\u03C0\\u03c0, Pi=\\u03A0\\u03A0'\n   * }\n   *\n   * @param {string} s a chunk of HTML CDATA.  It must not start or end inside\n   *     an HTML entity.\n   */\n  function unescapeEntities(s) {\n    return s.replace(ENTITY_RE_1, decodeOneEntity);\n  }\n\n  var ampRe = /&/g;\n  var looseAmpRe = /&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;\n  var ltRe = /[<]/g;\n  var gtRe = />/g;\n  var quotRe = /\\\"/g;\n\n  /**\n   * Escapes HTML special characters in attribute values.\n   *\n   * {\\@updoc\n   * $ escapeAttrib('')\n   * # ''\n   * $ escapeAttrib('\"<<&==&>>\"')  // Do not just escape the first occurrence.\n   * # '&#34;&lt;&lt;&amp;&#61;&#61;&amp;&gt;&gt;&#34;'\n   * $ escapeAttrib('Hello <World>!')\n   * # 'Hello &lt;World&gt;!'\n   * }\n   */\n  function escapeAttrib(s) {\n    return ('' + s).replace(ampRe, '&amp;').replace(ltRe, '&lt;')\n        .replace(gtRe, '&gt;').replace(quotRe, '&#34;');\n  }\n\n  /**\n   * Escape entities in RCDATA that can be escaped without changing the meaning.\n   * {\\@updoc\n   * $ normalizeRCData('1 < 2 &&amp; 3 > 4 &amp;& 5 &lt; 7&8')\n   * # '1 &lt; 2 &amp;&amp; 3 &gt; 4 &amp;&amp; 5 &lt; 7&amp;8'\n   * }\n   */\n  function normalizeRCData(rcdata) {\n    return rcdata\n        .replace(looseAmpRe, '&amp;$1')\n        .replace(ltRe, '&lt;')\n        .replace(gtRe, '&gt;');\n  }\n\n  // TODO(felix8a): validate sanitizer regexs against the HTML5 grammar at\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html\n\n  // We initially split input so that potentially meaningful characters\n  // like '<' and '>' are separate tokens, using a fast dumb process that\n  // ignores quoting.  Then we walk that token stream, and when we see a\n  // '<' that's the start of a tag, we use ATTR_RE to extract tag\n  // attributes from the next token.  That token will never have a '>'\n  // character.  However, it might have an unbalanced quote character, and\n  // when we see that, we combine additional tokens to balance the quote.\n\n  var ATTR_RE = new RegExp(\n    '^\\\\s*' +\n    '([-.:\\\\w]+)' +             // 1 = Attribute name\n    '(?:' + (\n      '\\\\s*(=)\\\\s*' +           // 2 = Is there a value?\n      '(' + (                   // 3 = Attribute value\n        // TODO(felix8a): maybe use backref to match quotes\n        '(\\\")[^\\\"]*(\\\"|$)' +    // 4, 5 = Double-quoted string\n        '|' +\n        '(\\')[^\\']*(\\'|$)' +    // 6, 7 = Single-quoted string\n        '|' +\n        // Positive lookahead to prevent interpretation of\n        // <foo a= b=c> as <foo a='b=c'>\n        // TODO(felix8a): might be able to drop this case\n        '(?=[a-z][-\\\\w]*\\\\s*=)' +\n        '|' +\n        // Unquoted value that isn't an attribute name\n        // (since we didn't match the positive lookahead above)\n        '[^\\\"\\'\\\\s]*' ) +\n      ')' ) +\n    ')?',\n    'i');\n\n  // false on IE<=8, true on most other browsers\n  var splitWillCapture = ('a,b'.split(/(,)/).length === 3);\n\n  // bitmask for tags with special parsing, like <script> and <textarea>\n  var EFLAGS_TEXT = html4.eflags['CDATA'] | html4.eflags['RCDATA'];\n\n  /**\n   * Given a SAX-like event handler, produce a function that feeds those\n   * events and a parameter to the event handler.\n   *\n   * The event handler has the form:{@code\n   * {\n   *   // Name is an upper-case HTML tag name.  Attribs is an array of\n   *   // alternating upper-case attribute names, and attribute values.  The\n   *   // attribs array is reused by the parser.  Param is the value passed to\n   *   // the saxParser.\n   *   startTag: function (name, attribs, param) { ... },\n   *   endTag:   function (name, param) { ... },\n   *   pcdata:   function (text, param) { ... },\n   *   rcdata:   function (text, param) { ... },\n   *   cdata:    function (text, param) { ... },\n   *   startDoc: function (param) { ... },\n   *   endDoc:   function (param) { ... }\n   * }}\n   *\n   * @param {Object} handler a record containing event handlers.\n   * @return {function(string, Object)} A function that takes a chunk of HTML\n   *     and a parameter.  The parameter is passed on to the handler methods.\n   */\n  function makeSaxParser(handler) {\n    // Accept quoted or unquoted keys (Closure compat)\n    var hcopy = {\n      cdata: handler.cdata || handler['cdata'],\n      comment: handler.comment || handler['comment'],\n      endDoc: handler.endDoc || handler['endDoc'],\n      endTag: handler.endTag || handler['endTag'],\n      pcdata: handler.pcdata || handler['pcdata'],\n      rcdata: handler.rcdata || handler['rcdata'],\n      startDoc: handler.startDoc || handler['startDoc'],\n      startTag: handler.startTag || handler['startTag']\n    };\n    return function(htmlText, param) {\n      return parse(htmlText, hcopy, param);\n    };\n  }\n\n  // Parsing strategy is to split input into parts that might be lexically\n  // meaningful (every \">\" becomes a separate part), and then recombine\n  // parts if we discover they're in a different context.\n\n  // TODO(felix8a): Significant performance regressions from -legacy,\n  // tested on\n  //    Chrome 18.0\n  //    Firefox 11.0\n  //    IE 6, 7, 8, 9\n  //    Opera 11.61\n  //    Safari 5.1.3\n  // Many of these are unusual patterns that are linearly slower and still\n  // pretty fast (eg 1ms to 5ms), so not necessarily worth fixing.\n\n  // TODO(felix8a): \"<script> && && && ... <\\/script>\" is slower on all\n  // browsers.  The hotspot is htmlSplit.\n\n  // TODO(felix8a): \"<p title='>>>>...'><\\/p>\" is slower on all browsers.\n  // This is partly htmlSplit, but the hotspot is parseTagAndAttrs.\n\n  // TODO(felix8a): \"<a><\\/a><a><\\/a>...\" is slower on IE9.\n  // \"<a>1<\\/a><a>1<\\/a>...\" is faster, \"<a><\\/a>2<a><\\/a>2...\" is faster.\n\n  // TODO(felix8a): \"<p<p<p...\" is slower on IE[6-8]\n\n  var continuationMarker = {};\n  function parse(htmlText, handler, param) {\n    var m, p, tagName;\n    var parts = htmlSplit(htmlText);\n    var state = {\n      noMoreGT: false,\n      noMoreEndComments: false\n    };\n    parseCPS(handler, parts, 0, state, param);\n  }\n\n  function continuationMaker(h, parts, initial, state, param) {\n    return function () {\n      parseCPS(h, parts, initial, state, param);\n    };\n  }\n\n  function parseCPS(h, parts, initial, state, param) {\n    try {\n      if (h.startDoc && initial == 0) { h.startDoc(param); }\n      var m, p, tagName;\n      for (var pos = initial, end = parts.length; pos < end;) {\n        var current = parts[pos++];\n        var next = parts[pos];\n        switch (current) {\n        case '&':\n          if (ENTITY_RE_2.test(next)) {\n            if (h.pcdata) {\n              h.pcdata('&' + next, param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n            }\n            pos++;\n          } else {\n            if (h.pcdata) { h.pcdata(\"&amp;\", param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n            }\n          }\n          break;\n        case '<\\/':\n          if ((m = /^([-\\w:]+)[^\\'\\\"]*/.exec(next))) {\n            if (m[0].length === next.length && parts[pos + 1] === '>') {\n              // fast case, no attribute parsing needed\n              pos += 2;\n              tagName = m[1].toLowerCase();\n              if (h.endTag) {\n                h.endTag(tagName, param, continuationMarker,\n                  continuationMaker(h, parts, pos, state, param));\n              }\n            } else {\n              // slow case, need to parse attributes\n              // TODO(felix8a): do we really care about misparsing this?\n              pos = parseEndTag(\n                parts, pos, h, param, continuationMarker, state);\n            }\n          } else {\n            if (h.pcdata) {\n              h.pcdata('&lt;/', param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n            }\n          }\n          break;\n        case '<':\n          if (m = /^([-\\w:]+)\\s*\\/?/.exec(next)) {\n            if (m[0].length === next.length && parts[pos + 1] === '>') {\n              // fast case, no attribute parsing needed\n              pos += 2;\n              tagName = m[1].toLowerCase();\n              if (h.startTag) {\n                h.startTag(tagName, [], param, continuationMarker,\n                  continuationMaker(h, parts, pos, state, param));\n              }\n              // tags like <script> and <textarea> have special parsing\n              var eflags = html4.ELEMENTS[tagName];\n              if (eflags & EFLAGS_TEXT) {\n                var tag = { name: tagName, next: pos, eflags: eflags };\n                pos = parseText(\n                  parts, tag, h, param, continuationMarker, state);\n              }\n            } else {\n              // slow case, need to parse attributes\n              pos = parseStartTag(\n                parts, pos, h, param, continuationMarker, state);\n            }\n          } else {\n            if (h.pcdata) {\n              h.pcdata('&lt;', param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n            }\n          }\n          break;\n        case '<\\!--':\n          // The pathological case is n copies of '<\\!--' without '-->', and\n          // repeated failure to find '-->' is quadratic.  We avoid that by\n          // remembering when search for '-->' fails.\n          if (!state.noMoreEndComments) {\n            // A comment <\\!--x--> is split into three tokens:\n            //   '<\\!--', 'x--', '>'\n            // We want to find the next '>' token that has a preceding '--'.\n            // pos is at the 'x--'.\n            for (p = pos + 1; p < end; p++) {\n              if (parts[p] === '>' && /--$/.test(parts[p - 1])) { break; }\n            }\n            if (p < end) {\n              if (h.comment) {\n                var comment = parts.slice(pos, p).join('');\n                h.comment(\n                  comment.substr(0, comment.length - 2), param,\n                  continuationMarker,\n                  continuationMaker(h, parts, p + 1, state, param));\n              }\n              pos = p + 1;\n            } else {\n              state.noMoreEndComments = true;\n            }\n          }\n          if (state.noMoreEndComments) {\n            if (h.pcdata) {\n              h.pcdata('&lt;!--', param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n            }\n          }\n          break;\n        case '<\\!':\n          if (!/^\\w/.test(next)) {\n            if (h.pcdata) {\n              h.pcdata('&lt;!', param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n            }\n          } else {\n            // similar to noMoreEndComment logic\n            if (!state.noMoreGT) {\n              for (p = pos + 1; p < end; p++) {\n                if (parts[p] === '>') { break; }\n              }\n              if (p < end) {\n                pos = p + 1;\n              } else {\n                state.noMoreGT = true;\n              }\n            }\n            if (state.noMoreGT) {\n              if (h.pcdata) {\n                h.pcdata('&lt;!', param, continuationMarker,\n                  continuationMaker(h, parts, pos, state, param));\n              }\n            }\n          }\n          break;\n        case '<?':\n          // similar to noMoreEndComment logic\n          if (!state.noMoreGT) {\n            for (p = pos + 1; p < end; p++) {\n              if (parts[p] === '>') { break; }\n            }\n            if (p < end) {\n              pos = p + 1;\n            } else {\n              state.noMoreGT = true;\n            }\n          }\n          if (state.noMoreGT) {\n            if (h.pcdata) {\n              h.pcdata('&lt;?', param, continuationMarker,\n                continuationMaker(h, parts, pos, state, param));\n            }\n          }\n          break;\n        case '>':\n          if (h.pcdata) {\n            h.pcdata(\"&gt;\", param, continuationMarker,\n              continuationMaker(h, parts, pos, state, param));\n          }\n          break;\n        case '':\n          break;\n        default:\n          if (h.pcdata) {\n            h.pcdata(current, param, continuationMarker,\n              continuationMaker(h, parts, pos, state, param));\n          }\n          break;\n        }\n      }\n      if (h.endDoc) { h.endDoc(param); }\n    } catch (e) {\n      if (e !== continuationMarker) { throw e; }\n    }\n  }\n\n  // Split str into parts for the html parser.\n  function htmlSplit(str) {\n    // can't hoist this out of the function because of the re.exec loop.\n    var re = /(<\\/|<\\!--|<[!?]|[&<>])/g;\n    str += '';\n    if (splitWillCapture) {\n      return str.split(re);\n    } else {\n      var parts = [];\n      var lastPos = 0;\n      var m;\n      while ((m = re.exec(str)) !== null) {\n        parts.push(str.substring(lastPos, m.index));\n        parts.push(m[0]);\n        lastPos = m.index + m[0].length;\n      }\n      parts.push(str.substring(lastPos));\n      return parts;\n    }\n  }\n\n  function parseEndTag(parts, pos, h, param, continuationMarker, state) {\n    var tag = parseTagAndAttrs(parts, pos);\n    // drop unclosed tags\n    if (!tag) { return parts.length; }\n    if (h.endTag) {\n      h.endTag(tag.name, param, continuationMarker,\n        continuationMaker(h, parts, pos, state, param));\n    }\n    return tag.next;\n  }\n\n  function parseStartTag(parts, pos, h, param, continuationMarker, state) {\n    var tag = parseTagAndAttrs(parts, pos);\n    // drop unclosed tags\n    if (!tag) { return parts.length; }\n    if (h.startTag) {\n      h.startTag(tag.name, tag.attrs, param, continuationMarker,\n        continuationMaker(h, parts, tag.next, state, param));\n    }\n    // tags like <script> and <textarea> have special parsing\n    if (tag.eflags & EFLAGS_TEXT) {\n      return parseText(parts, tag, h, param, continuationMarker, state);\n    } else {\n      return tag.next;\n    }\n  }\n\n  var endTagRe = {};\n\n  // Tags like <script> and <textarea> are flagged as CDATA or RCDATA,\n  // which means everything is text until we see the correct closing tag.\n  function parseText(parts, tag, h, param, continuationMarker, state) {\n    var end = parts.length;\n    if (!endTagRe.hasOwnProperty(tag.name)) {\n      endTagRe[tag.name] = new RegExp('^' + tag.name + '(?:[\\\\s\\\\/]|$)', 'i');\n    }\n    var re = endTagRe[tag.name];\n    var first = tag.next;\n    var p = tag.next + 1;\n    for (; p < end; p++) {\n      if (parts[p - 1] === '<\\/' && re.test(parts[p])) { break; }\n    }\n    if (p < end) { p -= 1; }\n    var buf = parts.slice(first, p).join('');\n    if (tag.eflags & html4.eflags['CDATA']) {\n      if (h.cdata) {\n        h.cdata(buf, param, continuationMarker,\n          continuationMaker(h, parts, p, state, param));\n      }\n    } else if (tag.eflags & html4.eflags['RCDATA']) {\n      if (h.rcdata) {\n        h.rcdata(normalizeRCData(buf), param, continuationMarker,\n          continuationMaker(h, parts, p, state, param));\n      }\n    } else {\n      throw new Error('bug');\n    }\n    return p;\n  }\n\n  // at this point, parts[pos-1] is either \"<\" or \"<\\/\".\n  function parseTagAndAttrs(parts, pos) {\n    var m = /^([-\\w:]+)/.exec(parts[pos]);\n    var tag = {};\n    tag.name = m[1].toLowerCase();\n    tag.eflags = html4.ELEMENTS[tag.name];\n    var buf = parts[pos].substr(m[0].length);\n    // Find the next '>'.  We optimistically assume this '>' is not in a\n    // quoted context, and further down we fix things up if it turns out to\n    // be quoted.\n    var p = pos + 1;\n    var end = parts.length;\n    for (; p < end; p++) {\n      if (parts[p] === '>') { break; }\n      buf += parts[p];\n    }\n    if (end <= p) { return void 0; }\n    var attrs = [];\n    while (buf !== '') {\n      m = ATTR_RE.exec(buf);\n      if (!m) {\n        // No attribute found: skip garbage\n        buf = buf.replace(/^[\\s\\S][^a-z\\s]*/, '');\n\n      } else if ((m[4] && !m[5]) || (m[6] && !m[7])) {\n        // Unterminated quote: slurp to the next unquoted '>'\n        var quote = m[4] || m[6];\n        var sawQuote = false;\n        var abuf = [buf, parts[p++]];\n        for (; p < end; p++) {\n          if (sawQuote) {\n            if (parts[p] === '>') { break; }\n          } else if (0 <= parts[p].indexOf(quote)) {\n            sawQuote = true;\n          }\n          abuf.push(parts[p]);\n        }\n        // Slurp failed: lose the garbage\n        if (end <= p) { break; }\n        // Otherwise retry attribute parsing\n        buf = abuf.join('');\n        continue;\n\n      } else {\n        // We have an attribute\n        var aName = m[1].toLowerCase();\n        var aValue = m[2] ? decodeValue(m[3]) : '';\n        attrs.push(aName, aValue);\n        buf = buf.substr(m[0].length);\n      }\n    }\n    tag.attrs = attrs;\n    tag.next = p + 1;\n    return tag;\n  }\n\n  function decodeValue(v) {\n    var q = v.charCodeAt(0);\n    if (q === 0x22 || q === 0x27) { // \" or '\n      v = v.substr(1, v.length - 2);\n    }\n    return unescapeEntities(stripNULs(v));\n  }\n\n  /**\n   * Returns a function that strips unsafe tags and attributes from html.\n   * @param {function(string, Array.<string>): ?Array.<string>} tagPolicy\n   *     A function that takes (tagName, attribs[]), where tagName is a key in\n   *     html4.ELEMENTS and attribs is an array of alternating attribute names\n   *     and values.  It should return a record (as follows), or null to delete\n   *     the element.  It's okay for tagPolicy to modify the attribs array,\n   *     but the same array is reused, so it should not be held between calls.\n   *     Record keys:\n   *        attribs: (required) Sanitized attributes array.\n   *        tagName: Replacement tag name.\n   * @return {function(string, Array)} A function that sanitizes a string of\n   *     HTML and appends result strings to the second argument, an array.\n   */\n  function makeHtmlSanitizer(tagPolicy) {\n    var stack;\n    var ignoring;\n    var emit = function (text, out) {\n      if (!ignoring) { out.push(text); }\n    };\n    return makeSaxParser({\n      'startDoc': function(_) {\n        stack = [];\n        ignoring = false;\n      },\n      'startTag': function(tagNameOrig, attribs, out) {\n        if (ignoring) { return; }\n        if (!html4.ELEMENTS.hasOwnProperty(tagNameOrig)) { return; }\n        var eflagsOrig = html4.ELEMENTS[tagNameOrig];\n        if (eflagsOrig & html4.eflags['FOLDABLE']) {\n          return;\n        }\n\n        var decision = tagPolicy(tagNameOrig, attribs);\n        if (!decision) {\n          ignoring = !(eflagsOrig & html4.eflags['EMPTY']);\n          return;\n        } else if (typeof decision !== 'object') {\n          throw new Error('tagPolicy did not return object (old API?)');\n        }\n        if ('attribs' in decision) {\n          attribs = decision['attribs'];\n        } else {\n          throw new Error('tagPolicy gave no attribs');\n        }\n        var eflagsRep;\n        var tagNameRep;\n        if ('tagName' in decision) {\n          tagNameRep = decision['tagName'];\n          eflagsRep = html4.ELEMENTS[tagNameRep];\n        } else {\n          tagNameRep = tagNameOrig;\n          eflagsRep = eflagsOrig;\n        }\n        // TODO(mikesamuel): relying on tagPolicy not to insert unsafe\n        // attribute names.\n\n        // If this is an optional-end-tag element and either this element or its\n        // previous like sibling was rewritten, then insert a close tag to\n        // preserve structure.\n        if (eflagsOrig & html4.eflags['OPTIONAL_ENDTAG']) {\n          var onStack = stack[stack.length - 1];\n          if (onStack && onStack.orig === tagNameOrig &&\n              (onStack.rep !== tagNameRep || tagNameOrig !== tagNameRep)) {\n                out.push('<\\/', onStack.rep, '>');\n          }\n        }\n\n        if (!(eflagsOrig & html4.eflags['EMPTY'])) {\n          stack.push({orig: tagNameOrig, rep: tagNameRep});\n        }\n\n        out.push('<', tagNameRep);\n        for (var i = 0, n = attribs.length; i < n; i += 2) {\n          var attribName = attribs[i],\n              value = attribs[i + 1];\n          if (value !== null && value !== void 0) {\n            out.push(' ', attribName, '=\"', escapeAttrib(value), '\"');\n          }\n        }\n        out.push('>');\n\n        if ((eflagsOrig & html4.eflags['EMPTY'])\n            && !(eflagsRep & html4.eflags['EMPTY'])) {\n          // replacement is non-empty, synthesize end tag\n          out.push('<\\/', tagNameRep, '>');\n        }\n      },\n      'endTag': function(tagName, out) {\n        if (ignoring) {\n          ignoring = false;\n          return;\n        }\n        if (!html4.ELEMENTS.hasOwnProperty(tagName)) { return; }\n        var eflags = html4.ELEMENTS[tagName];\n        if (!(eflags & (html4.eflags['EMPTY'] | html4.eflags['FOLDABLE']))) {\n          var index;\n          if (eflags & html4.eflags['OPTIONAL_ENDTAG']) {\n            for (index = stack.length; --index >= 0;) {\n              var stackElOrigTag = stack[index].orig;\n              if (stackElOrigTag === tagName) { break; }\n              if (!(html4.ELEMENTS[stackElOrigTag] &\n                    html4.eflags['OPTIONAL_ENDTAG'])) {\n                // Don't pop non optional end tags looking for a match.\n                return;\n              }\n            }\n          } else {\n            for (index = stack.length; --index >= 0;) {\n              if (stack[index].orig === tagName) { break; }\n            }\n          }\n          if (index < 0) { return; }  // Not opened.\n          for (var i = stack.length; --i > index;) {\n            var stackElRepTag = stack[i].rep;\n            if (!(html4.ELEMENTS[stackElRepTag] &\n                  html4.eflags['OPTIONAL_ENDTAG'])) {\n              out.push('<\\/', stackElRepTag, '>');\n            }\n          }\n          if (index < stack.length) {\n            tagName = stack[index].rep;\n          }\n          stack.length = index;\n          out.push('<\\/', tagName, '>');\n        }\n      },\n      'pcdata': emit,\n      'rcdata': emit,\n      'cdata': emit,\n      'endDoc': function(out) {\n        for (; stack.length; stack.length--) {\n          out.push('<\\/', stack[stack.length - 1].rep, '>');\n        }\n      }\n    });\n  }\n\n  var ALLOWED_URI_SCHEMES = /^(?:https?|mailto)$/i;\n\n  function safeUri(uri, effect, ltype, hints, naiveUriRewriter) {\n    if (!naiveUriRewriter) { return null; }\n    try {\n      var parsed = URI.parse('' + uri);\n      if (parsed) {\n        if (!parsed.hasScheme() ||\n            ALLOWED_URI_SCHEMES.test(parsed.getScheme())) {\n          var safe = naiveUriRewriter(parsed, effect, ltype, hints);\n          return safe ? safe.toString() : null;\n        }\n      }\n    } catch (e) {\n      return null;\n    }\n    return null;\n  }\n\n  function log(logger, tagName, attribName, oldValue, newValue) {\n    if (!attribName) {\n      logger(tagName + \" removed\", {\n        change: \"removed\",\n        tagName: tagName\n      });\n    }\n    if (oldValue !== newValue) {\n      var changed = \"changed\";\n      if (oldValue && !newValue) {\n        changed = \"removed\";\n      } else if (!oldValue && newValue)  {\n        changed = \"added\";\n      }\n      logger(tagName + \".\" + attribName + \" \" + changed, {\n        change: changed,\n        tagName: tagName,\n        attribName: attribName,\n        oldValue: oldValue,\n        newValue: newValue\n      });\n    }\n  }\n\n  function lookupAttribute(map, tagName, attribName) {\n    var attribKey;\n    attribKey = tagName + '::' + attribName;\n    if (map.hasOwnProperty(attribKey)) {\n      return map[attribKey];\n    }\n    attribKey = '*::' + attribName;\n    if (map.hasOwnProperty(attribKey)) {\n      return map[attribKey];\n    }\n    return void 0;\n  }\n  function getAttributeType(tagName, attribName) {\n    return lookupAttribute(html4.ATTRIBS, tagName, attribName);\n  }\n  function getLoaderType(tagName, attribName) {\n    return lookupAttribute(html4.LOADERTYPES, tagName, attribName);\n  }\n  function getUriEffect(tagName, attribName) {\n    return lookupAttribute(html4.URIEFFECTS, tagName, attribName);\n  }\n\n  /**\n   * Sanitizes attributes on an HTML tag.\n   * @param {string} tagName An HTML tag name in lowercase.\n   * @param {Array.<?string>} attribs An array of alternating names and values.\n   * @param {?function(?string): ?string} opt_naiveUriRewriter A transform to\n   *     apply to URI attributes; it can return a new string value, or null to\n   *     delete the attribute.  If unspecified, URI attributes are deleted.\n   * @param {function(?string): ?string} opt_nmTokenPolicy A transform to apply\n   *     to attributes containing HTML names, element IDs, and space-separated\n   *     lists of classes; it can return a new string value, or null to delete\n   *     the attribute.  If unspecified, these attributes are kept unchanged.\n   * @return {Array.<?string>} The sanitized attributes as a list of alternating\n   *     names and values, where a null value means to omit the attribute.\n   */\n  function sanitizeAttribs(tagName, attribs,\n    opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger) {\n    // TODO(felix8a): it's obnoxious that domado duplicates much of this\n    // TODO(felix8a): maybe consistently enforce constraints like target=\n    for (var i = 0; i < attribs.length; i += 2) {\n      var attribName = attribs[i];\n      var value = attribs[i + 1];\n      var oldValue = value;\n      var atype = null, attribKey;\n      if ((attribKey = tagName + '::' + attribName,\n           html4.ATTRIBS.hasOwnProperty(attribKey)) ||\n          (attribKey = '*::' + attribName,\n           html4.ATTRIBS.hasOwnProperty(attribKey))) {\n        atype = html4.ATTRIBS[attribKey];\n      }\n      if (atype !== null) {\n        switch (atype) {\n          case html4.atype['NONE']: break;\n          case html4.atype['SCRIPT']:\n            value = null;\n            if (opt_logger) {\n              log(opt_logger, tagName, attribName, oldValue, value);\n            }\n            break;\n          case html4.atype['STYLE']:\n            if ('undefined' === typeof parseCssDeclarations) {\n              value = null;\n              if (opt_logger) {\n                log(opt_logger, tagName, attribName, oldValue, value);\n\t      }\n              break;\n            }\n            var sanitizedDeclarations = [];\n            parseCssDeclarations(\n                value,\n                {\n                  'declaration': function (property, tokens) {\n                    var normProp = property.toLowerCase();\n                    sanitizeCssProperty(\n                        normProp, tokens,\n                        opt_naiveUriRewriter\n                        ? function (url) {\n                            return safeUri(\n                                url, html4.ueffects.SAME_DOCUMENT,\n                                html4.ltypes.SANDBOXED,\n                                {\n                                  \"TYPE\": \"CSS\",\n                                  \"CSS_PROP\": normProp\n                                }, opt_naiveUriRewriter);\n                          }\n                        : null);\n                    if (tokens.length) {\n                      sanitizedDeclarations.push(\n                          normProp + ': ' + tokens.join(' '));\n                    }\n                  }\n                });\n            value = sanitizedDeclarations.length > 0 ?\n              sanitizedDeclarations.join(' ; ') : null;\n            if (opt_logger) {\n              log(opt_logger, tagName, attribName, oldValue, value);\n            }\n            break;\n          case html4.atype['ID']:\n          case html4.atype['IDREF']:\n          case html4.atype['IDREFS']:\n          case html4.atype['GLOBAL_NAME']:\n          case html4.atype['LOCAL_NAME']:\n          case html4.atype['CLASSES']:\n            value = opt_nmTokenPolicy ? opt_nmTokenPolicy(value) : value;\n            if (opt_logger) {\n              log(opt_logger, tagName, attribName, oldValue, value);\n            }\n            break;\n          case html4.atype['URI']:\n            value = safeUri(value,\n              getUriEffect(tagName, attribName),\n              getLoaderType(tagName, attribName),\n              {\n                \"TYPE\": \"MARKUP\",\n                \"XML_ATTR\": attribName,\n                \"XML_TAG\": tagName\n              }, opt_naiveUriRewriter);\n              if (opt_logger) {\n              log(opt_logger, tagName, attribName, oldValue, value);\n            }\n            break;\n          case html4.atype['URI_FRAGMENT']:\n            if (value && '#' === value.charAt(0)) {\n              value = value.substring(1);  // remove the leading '#'\n              value = opt_nmTokenPolicy ? opt_nmTokenPolicy(value) : value;\n              if (value !== null && value !== void 0) {\n                value = '#' + value;  // restore the leading '#'\n              }\n            } else {\n              value = null;\n            }\n            if (opt_logger) {\n              log(opt_logger, tagName, attribName, oldValue, value);\n            }\n            break;\n          default:\n            value = null;\n            if (opt_logger) {\n              log(opt_logger, tagName, attribName, oldValue, value);\n            }\n            break;\n        }\n      } else {\n        // ***CartoDB.js Custom start: allow data-* attributes\n        // As proposed in https://groups.google.com/forum/#!topic/google-caja-discuss/ihuk9fMkJMw\n        if (/data-[\\w-]+/.test(attribName)) {\n          value = opt_nmTokenPolicy ? opt_nmTokenPolicy(value) : value;\n        } else {\n          value = null;\n        }\n        if (opt_logger) {\n          log(opt_logger, tagName, attribName, oldValue, value);\n        }\n      }\n      attribs[i + 1] = value;\n    }\n    return attribs;\n  }\n\n  /**\n   * Creates a tag policy that omits all tags marked UNSAFE in html4-defs.js\n   * and applies the default attribute sanitizer with the supplied policy for\n   * URI attributes and NMTOKEN attributes.\n   * @param {?function(?string): ?string} opt_naiveUriRewriter A transform to\n   *     apply to URI attributes.  If not given, URI attributes are deleted.\n   * @param {function(?string): ?string} opt_nmTokenPolicy A transform to apply\n   *     to attributes containing HTML names, element IDs, and space-separated\n   *     lists of classes.  If not given, such attributes are left unchanged.\n   * @return {function(string, Array.<?string>)} A tagPolicy suitable for\n   *     passing to html.sanitize.\n   */\n  function makeTagPolicy(\n    opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger) {\n    return function(tagName, attribs) {\n      if (!(html4.ELEMENTS[tagName] & html4.eflags['UNSAFE'])) {\n        return {\n          'attribs': sanitizeAttribs(tagName, attribs,\n            opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger)\n        };\n      } else {\n        if (opt_logger) {\n          log(opt_logger, tagName, undefined, undefined, undefined);\n        }\n      }\n    };\n  }\n\n  /**\n   * Sanitizes HTML tags and attributes according to a given policy.\n   * @param {string} inputHtml The HTML to sanitize.\n   * @param {function(string, Array.<?string>)} tagPolicy A function that\n   *     decides which tags to accept and sanitizes their attributes (see\n   *     makeHtmlSanitizer above for details).\n   * @return {string} The sanitized HTML.\n   */\n  function sanitizeWithPolicy(inputHtml, tagPolicy) {\n    var outputArray = [];\n    makeHtmlSanitizer(tagPolicy)(inputHtml, outputArray);\n    return outputArray.join('');\n  }\n\n  /**\n   * Strips unsafe tags and attributes from HTML.\n   * @param {string} inputHtml The HTML to sanitize.\n   * @param {?function(?string): ?string} opt_naiveUriRewriter A transform to\n   *     apply to URI attributes.  If not given, URI attributes are deleted.\n   * @param {function(?string): ?string} opt_nmTokenPolicy A transform to apply\n   *     to attributes containing HTML names, element IDs, and space-separated\n   *     lists of classes.  If not given, such attributes are left unchanged.\n   */\n  function sanitize(inputHtml,\n    opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger) {\n    var tagPolicy = makeTagPolicy(\n      opt_naiveUriRewriter, opt_nmTokenPolicy, opt_logger);\n    return sanitizeWithPolicy(inputHtml, tagPolicy);\n  }\n\n  // Export both quoted and unquoted names for Closure linkage.\n  var html = {};\n  html.escapeAttrib = html['escapeAttrib'] = escapeAttrib;\n  html.makeHtmlSanitizer = html['makeHtmlSanitizer'] = makeHtmlSanitizer;\n  html.makeSaxParser = html['makeSaxParser'] = makeSaxParser;\n  html.makeTagPolicy = html['makeTagPolicy'] = makeTagPolicy;\n  html.normalizeRCData = html['normalizeRCData'] = normalizeRCData;\n  html.sanitize = html['sanitize'] = sanitize;\n  html.sanitizeAttribs = html['sanitizeAttribs'] = sanitizeAttribs;\n  html.sanitizeWithPolicy = html['sanitizeWithPolicy'] = sanitizeWithPolicy;\n  html.unescapeEntities = html['unescapeEntities'] = unescapeEntities;\n  return html;\n})(html4);\n\nvar html_sanitize = html['sanitize'];\n\n// Exports for Closure compiler.  Note this file is also cajoled\n// for domado and run in an environment without 'window'\nif (typeof window !== 'undefined') {\n  window['html'] = html;\n  window['html_sanitize'] = html_sanitize;\n}\n\n\n\n\n\n  // mustache does no defined a global var, defines a var Mustache instead\n  // so add it to root\n  root.Mustache = Mustache;\n  (function() {\n    var $ = root.$;\n    var jQuery = root.jQuery;\n    var L = root.L;\n    var Mustache = root.Mustache;\n    var Backbone = root.Backbone;\n    var _ = root._;\n\n\n    // entry point\n;(function() {\n\n    var root = this;\n\n    var cdb = root.cdb = {};\n\n    cdb.VERSION = \"3.15.10\";\n    cdb.DEBUG = false;\n\n    cdb.CARTOCSS_VERSIONS = {\n      '2.0.0': '',\n      '2.1.0': ''\n    };\n\n    cdb.CARTOCSS_DEFAULT_VERSION = '2.1.1';\n\n    root.cdb.config = {};\n    root.cdb.core = {};\n    root.cdb.image = {};\n    root.cdb.geo = {};\n    root.cdb.geo.ui = {};\n    root.cdb.geo.geocoder = {};\n    root.cdb.ui = {};\n    root.cdb.ui.common = {};\n    root.cdb.vis = {};\n    root.cdb.decorators = {};\n    /**\n     * global variables\n     */\n    root.JST = root.JST || {};\n    root.cartodb = cdb;\n\n    cdb.files = [\n        \"../vendor/jquery.min.js\",\n        \"../vendor/underscore-min.js\",\n        \"../vendor/json2.js\",\n        \"../vendor/backbone.js\",\n        \"../vendor/mustache.js\",\n\n        \"../vendor/leaflet.js\",\n        \"../vendor/wax.cartodb.js\",\n        \"../vendor/GeoJSON.js\", //geojson gmaps lib\n\n        \"../vendor/jscrollpane.js\",\n        \"../vendor/mousewheel.js\",\n        \"../vendor/mwheelIntent.js\",\n        \"../vendor/spin.js\",\n        \"../vendor/lzma.js\",\n        \"../vendor/html-css-sanitizer-bundle.js\",\n\n        'core/sanitize.js',\n        'core/decorator.js',\n        'core/config.js',\n        'core/log.js',\n        'core/profiler.js',\n        'core/template.js',\n        'core/model.js',\n        'core/view.js',\n        'core/loader.js',\n        'core/util.js',\n\n        'geo/geocoder.js',\n        'geo/geometry.js',\n        'geo/map.js',\n        'geo/ui/text.js',\n        'geo/ui/annotation.js',\n        'geo/ui/image.js',\n        'geo/ui/share.js',\n        'geo/ui/zoom.js',\n        'geo/ui/zoom_info.js',\n        'geo/ui/legend.js',\n        'geo/ui/switcher.js',\n        'geo/ui/infowindow.js',\n        'geo/ui/header.js',\n        'geo/ui/search.js',\n        'geo/ui/layer_selector.js',\n        'geo/ui/slides_controller.js',\n        'geo/ui/mobile.js',\n        'geo/ui/tiles_loader.js',\n        'geo/ui/infobox.js',\n        'geo/ui/tooltip.js',\n        'geo/ui/fullscreen.js',\n\n        'geo/sublayer.js',\n        'geo/layer_definition.js',\n        'geo/common.js',\n\n        'geo/leaflet/leaflet_base.js',\n        'geo/leaflet/leaflet_plainlayer.js',\n        'geo/leaflet/leaflet_tiledlayer.js',\n        'geo/leaflet/leaflet_gmaps_tiledlayer.js',\n        'geo/leaflet/leaflet_wmslayer.js',\n        'geo/leaflet/leaflet_cartodb_layergroup.js',\n        'geo/leaflet/leaflet_cartodb_layer.js',\n        'geo/leaflet/leaflet.geometry.js',\n        'geo/leaflet/leaflet.js',\n\n        'geo/gmaps/gmaps_base.js',\n        'geo/gmaps/gmaps_baselayer.js',\n        'geo/gmaps/gmaps_plainlayer.js',\n        'geo/gmaps/gmaps_tiledlayer.js',\n        'geo/gmaps/gmaps_cartodb_layergroup.js',\n        'geo/gmaps/gmaps_cartodb_layer.js',\n        'geo/gmaps/gmaps.geometry.js',\n        'geo/gmaps/gmaps.js',\n\n        'ui/common/dialog.js',\n        'ui/common/share.js',\n        'ui/common/notification.js',\n        'ui/common/table.js',\n        'ui/common/dropdown.js',\n\n        'vis/vis.js',\n        'vis/image.js',\n        'vis/overlays.js',\n        'vis/layers.js',\n\n        // PUBLIC API\n        'api/layers.js',\n        'api/sql.js',\n        'api/vis.js'\n    ];\n\n    cdb.init = function(ready) {\n      // define a simple class\n      var Class = cdb.Class = function() {};\n      _.extend(Class.prototype, Backbone.Events);\n\n      cdb._loadJST();\n      root.cdb.god = new Backbone.Model();\n\n      ready && ready();\n    };\n\n    /**\n     * load all the javascript files. For testing, do not use in production\n     */\n    cdb.load = function(prefix, ready) {\n        var c = 0;\n\n        var next = function() {\n            var script = document.createElement('script');\n            script.src = prefix + cdb.files[c];\n            document.body.appendChild(script);\n            ++c;\n            if(c == cdb.files.length) {\n                if(ready) {\n                    script.onload = ready;\n                }\n            } else {\n                script.onload = next;\n            }\n        };\n\n        next();\n\n    };\n})();\n(function(exports, w) {\n  exports.sanitize = w.html;\n\n  /**\n   * Sanitize inputHtml of unsafe HTML tags & attributes\n   * @param {String} inputHtml\n   * @param {Function,false,null,undefined} optionalSanitizer By default undefined, for which the default sanitizer will be used.\n   *   Pass a function (that takes inputHtml) to sanitize yourself, or false/null to skip sanitize call.\n   */\n  exports.sanitize.html = function(inputHtml, optionalSanitizer) {\n    if (!inputHtml) return;\n\n    if (optionalSanitizer === undefined) {\n      return exports.sanitize.sanitize(inputHtml, function(url) {\n        // Return all URLs for <a href=\"\"> (javascript: and data: URLs are removed prior to this fn is called)\n        return url;\n      });\n    } else if (typeof optionalSanitizer === 'function') {\n      return optionalSanitizer(inputHtml);\n    } else { // alt sanitization set to false/null/other, treat as if caller takes responsibility to sanitize output\n      return inputHtml;\n    }\n  };\n\n})(cdb.core, window);\n/**\n* Decorators to extend functionality of cdb related objects\n*/\n\n/**\n* Adds .elder method to call for the same method of the parent class\n* usage:\n*   insanceOfClass.elder('name_of_the_method');\n*/\ncdb.decorators.elder = (function() {\n  // we need to backup one of the backbone extend models\n  // (it doesn't matter which, they are all the same method)\n  var backboneExtend = Backbone.Router.extend;\n  var superMethod = function(method, options) {\n      var result = null;\n      if (this.parent != null) {\n          var currentParent = this.parent;\n          // we need to change the parent of \"this\", because\n          // since we are going to call the elder (super) method\n          // in the context of \"this\", if the super method has\n          // another call to elder (super), we need to provide a way of\n          // redirecting to the grandparent\n          this.parent = this.parent.parent;\n          var options = Array.prototype.slice.call(arguments, 1);\n\n          if (currentParent.hasOwnProperty(method)) {\n              result = currentParent[method].apply(this, options);\n          } else {\n              options.splice(0,0, method);\n              result = currentParent.elder.apply(this, options);\n          }\n          this.parent = currentParent;\n      }\n      return result;\n  }\n  var extend = function(protoProps, classProps) {\n      var child = backboneExtend.call(this, protoProps, classProps);\n\n      child.prototype.parent = this.prototype;\n      child.prototype.elder = function(method) {\n          var options = Array.prototype.slice.call(arguments, 1);\n          if (method) {\n              options.splice(0,0, method)\n              return superMethod.apply(this, options);\n          } else {\n              return child.prototype.parent;\n          }\n      }\n      return child;\n  };\n  var decorate = function(objectToDecorate) {\n    objectToDecorate.extend = extend;\n    objectToDecorate.prototype.elder = function() {};\n    objectToDecorate.prototype.parent = null;\n  }\n  return decorate;\n})()\n\ncdb.decorators.elder(Backbone.Model);\ncdb.decorators.elder(Backbone.View);\ncdb.decorators.elder(Backbone.Collection);\n\nif(!window.JSON) {\n  // shims for ie7\n  window.JSON = {\n    stringify: function(param) {\n      if(typeof param == 'number' || typeof param == 'boolean') {\n        return param.toString();\n      } else if (typeof param =='string') {\n        return '\"' + param.toString() + '\"';\n      } else if(_.isArray(param)) {\n        var res = '[';\n        for(var n in param) {\n          if(n>0) res+=', ';\n          res += JSON.stringify(param[n]);\n        }\n        res += ']'\n        return res;\n      } else {\n        var res = '{';\n        for(var p in param) {\n          if(param.hasOwnProperty(p)) {\n            res += '\"'+p+'\": '+ JSON.stringify(param[p]);\n          }\n        }\n        res += '}'\n        return res;\n      }\n      // no, we're no gonna stringify regexp, fuckoff.\n    },\n    parse: function(param) {\n      return eval(param);\n    }\n  }\n}\n/**\n * global configuration\n */\n\n(function() {\n\n    Config = Backbone.Model.extend({\n        VERSION: 2,\n\n        initialize: function() {\n          this.modules = new Backbone.Collection();\n          this.modules.bind('add', function(model) {\n            this.trigger('moduleLoaded');\n            this.trigger('moduleLoaded:' + model.get('name'));\n          }, this);\n        },\n\n        //error track\n        REPORT_ERROR_URL: '/api/v0/error',\n        ERROR_TRACK_ENABLED: false,\n\n        /**\n         * returns the base url to compose the final url\n         * http://user.carto.com/\n         */\n        getSqlApiBaseUrl: function() {\n          var url;\n          if (this.get('sql_api_template')) {\n            url = this.get(\"sql_api_template\").replace('{user}', this.get('user_name'));\n          } else {\n            url = this.get('sql_api_protocol') + '://' +\n              this.get('user_name') + '.' +\n              this.get('sql_api_domain') + ':' +\n              this.get('sql_api_port');\n          }\n          return url;\n        },\n\n        /**\n         * returns the full sql api url, including the api endpoint\n         * allos to specify the version\n         * http://user.carto.com/api/v1/sql\n         */\n        getSqlApiUrl: function(version) {\n          version = version || 'v2';\n          return this.getSqlApiBaseUrl() + \"/api/\" + version + \"/sql\";\n        },\n\n        /**\n         *  returns the maps api host, removing user template\n         *  and the protocol.\n         *  carto.com:3333\n         */\n        getMapsApiHost: function() {\n          var url;\n          var mapsApiTemplate = this.get('maps_api_template');\n          if (mapsApiTemplate) {\n            url = mapsApiTemplate.replace(/https?:\\/\\/{user}\\./, '');\n          }\n          return url;\n        }\n\n    });\n\n    cdb.config = new Config();\n    cdb.config.set({\n      cartodb_attributions: \"© <a href=\\\"https://carto.com/attributions\\\" target=\\\"_blank\\\">CARTO</a>\",\n      cartodb_logo_link: \"http://www.carto.com\"\n    });\n\n})();\n/**\n * logging\n */\n\n(function() {\n\n    // error management\n    cdb.core.Error = Backbone.Model.extend({\n        url: cdb.config.REPORT_ERROR_URL,\n        initialize: function() {\n            this.set({browser: JSON.stringify($.browser) });\n        }\n    });\n\n    cdb.core.ErrorList = Backbone.Collection.extend({\n        model: cdb.core.Error,\n        enableTrack: function() {\n          var old_onerror = window.onerror;\n          window.onerror = function(msg, url, line) {\n              cdb.errors.create({\n                  msg: msg,\n                  url: url,\n                  line: line\n              });\n              if (old_onerror)\n                old_onerror.apply(window, arguments);\n          };\n        }\n    });\n\n    /** contains all error for the application */\n    cdb.errors = new cdb.core.ErrorList();\n\n\n    // error tracking!\n    if(cdb.config.ERROR_TRACK_ENABLED) {\n      cdb.errors.enableTrack();\n    }\n\n\n    // logging\n    var _fake_console = function() {};\n    _fake_console.prototype.error = function(){};\n    _fake_console.prototype.log= function(){};\n\n    //IE7 love\n    if(typeof console !== \"undefined\") {\n        _console = console;\n        try {\n          _console.log.apply(_console, ['cartodb.js ' + cartodb.VERSION])\n        } catch(e) {\n          _console = new _fake_console();\n        }\n    } else {\n        _console = new _fake_console();\n    }\n\n    cdb.core.Log = Backbone.Model.extend({\n\n        error: function() {\n            _console.error.apply(_console, arguments);\n            if(cdb.config.ERROR_TRACK_ENABLED) {\n              cdb.errors.create({\n                  msg: Array.prototype.slice.call(arguments).join('')\n              });\n            }\n        },\n\n        log: function() {\n            _console.log.apply(_console, arguments);\n        },\n\n        info: function() {\n            _console.log.apply(_console, arguments);\n        },\n\n        debug: function() {\n          if (cdb.DEBUG) _console.log.apply(_console, arguments);\n        }\n    });\n\n})();\n\ncdb.log = new cdb.core.Log({tag: 'cdb'});\n/*\n# metrics profiler\n\n## timing\n\n```\n var timer = Profiler.metric('resource:load')\n time.start();\n ...\n time.end();\n```\n\n## counters\n\n```\n var counter = Profiler.metric('requests')\n counter.inc();   // 1\n counter.inc(10); // 11\n counter.dec()    // 10\n counter.dec(10)  // 0\n```\n\n## Calls per second\n```\n  var fps = Profiler.metric('fps')\n  function render() {\n    fps.mark();\n  }\n```\n*/\n(function(exports) {\n\nvar MAX_HISTORY = 1024;\nfunction Profiler() {}\nProfiler.metrics = {};\nProfiler._backend = null;\n\nProfiler.get = function(name) {\n  return Profiler.metrics[name] || {\n    max: 0,\n    min: Number.MAX_VALUE,\n    avg: 0,\n    total: 0,\n    count: 0,\n    last: 0,\n    history: typeof(Float32Array) !== 'undefined' ? new Float32Array(MAX_HISTORY) : []\n  };\n};\n\nProfiler.backend = function (_) {\n  Profiler._backend = _;\n}\n\nProfiler.new_value = function (name, value, type, defer) {\n  type =  type || 'i';\n  var t = Profiler.metrics[name] = Profiler.get(name);\n\n\n  t.max = Math.max(t.max, value);\n  t.min = Math.min(t.min, value);\n  t.total += value;\n  ++t.count;\n  t.avg = t.total / t.count;\n  t.history[t.count%MAX_HISTORY] = value;\n\n  if (!defer) {\n    Profiler._backend && Profiler._backend([type, name, value]);\n  } else {\n    var n = new Date().getTime()\n    // don't allow to send stats quick\n    if (n - t.last > 1000) {\n      Profiler._backend && Profiler._backend([type, name, t.avg]);\n      t.last = n;\n    }\n  }\n};\n\nProfiler.print_stats = function () {\n  for (k in Profiler.metrics) {\n    var t = Profiler.metrics[k];\n    console.log(\" === \" + k + \" === \");\n    console.log(\" max: \" + t.max);\n    console.log(\" min: \" + t.min);\n    console.log(\" avg: \" + t.avg);\n    console.log(\" count: \" + t.count);\n    console.log(\" total: \" + t.total);\n  }\n};\n\nfunction Metric(name) {\n  this.t0 = null;\n  this.name = name;\n  this.count = 0;\n}\n\nMetric.prototype = {\n\n  //\n  // start a time measurement\n  //\n  start: function() {\n    this.t0 = +new Date();\n    return this;\n  },\n\n  // elapsed time since start was called\n  _elapsed: function() {\n    return +new Date() - this.t0;\n  },\n\n  //\n  // finish a time measurement and register it\n  // ``start`` should be called first, if not this \n  // function does not take effect\n  //\n  end: function(defer) {\n    if (this.t0 !== null) {\n      Profiler.new_value(this.name, this._elapsed(), 't', defer);\n      this.t0 = null;\n    }\n  },\n\n  //\n  // increments the value \n  // qty: how many, default = 1\n  //\n  inc: function(qty) {\n    qty = qty === undefined ? 1: qty;\n    Profiler.new_value(this.name, qty, 'i');\n  },\n\n  //\n  // decrements the value \n  // qty: how many, default = 1\n  //\n  dec: function(qty) {\n    qty = qty === undefined ? 1: qty;\n    Profiler.new_value(this.name, qty, 'd');\n  },\n\n  //\n  // measures how many times per second this function is called\n  //\n  mark: function() {\n    ++this.count;\n    if(this.t0 === null) {\n      this.start();\n      return;\n    }\n    var elapsed = this._elapsed();\n    if(elapsed > 1) {\n      Profiler.new_value(this.name, this.count);\n      this.count = 0;\n      this.start();\n    }\n  }\n};\n\nProfiler.metric = function(name) {\n  return new Metric(name);\n};\n\nexports.Profiler = Profiler;\n\n})(cdb.core);\n/**\n * template system\n * usage:\n   var tmpl = new cdb.core.Template({\n     template: \"hi, my name is {{ name }}\",\n     type: 'mustache' // undescore by default\n   });\n   console.log(tmpl.render({name: 'rambo'})));\n   // prints \"hi, my name is rambo\"\n\n\n   you could pass the compiled tempalte directly:\n\n   var tmpl = new cdb.core.Template({\n     compiled: function() { return 'my compiled template'; }\n   });\n */\n\ncdb.core.Template = Backbone.Model.extend({\n\n  initialize: function() {\n    this.bind('change', this._invalidate);\n    this._invalidate();\n  },\n\n  url: function() {\n    return this.get('template_url');\n  },\n\n  parse: function(data) {\n    return {\n      'template': data\n    };\n  },\n\n  _invalidate: function() {\n    this.compiled = null;\n    if(this.get('template_url')) {\n      this.fetch();\n    }\n  },\n\n  compile: function() {\n    var tmpl_type = this.get('type') || 'underscore';\n    var fn = cdb.core.Template.compilers[tmpl_type];\n    if(fn) {\n      return fn(this.get('template'));\n    } else {\n      cdb.log.error(\"can't get rendered for \" + tmpl_type);\n    }\n    return null;\n  },\n\n  /**\n   * renders the template with specified vars\n   */\n  render: function(vars) {\n    var c = this.compiled = this.compiled || this.get('compiled') || this.compile();\n    var rendered = c(vars);\n    return rendered;\n  },\n\n  asFunction: function() {\n    return _.bind(this.render, this);\n  }\n\n}, {\n  compilers: {\n    'underscore': _.template,\n    'mustache': typeof(Mustache) === 'undefined' ?\n      null :\n      // Replacement for Mustache.compile, which was removed in version 0.8.0\n      function compile(template) {\n        Mustache.parse(template);\n        return function (view, partials) {\n          return Mustache.render(template, view, partials);\n        };\n      }\n  },\n  compile: function(tmpl, type) {\n    var t = new cdb.core.Template({\n      template: tmpl,\n      type: type || 'underscore'\n    });\n    return _.bind(t.render, t);\n  }\n}\n);\n\ncdb.core.TemplateList = Backbone.Collection.extend({\n\n  model: cdb.core.Template,\n\n  getTemplate: function(template_name) {\n\n    if (this.namespace) {\n      template_name = this.namespace + template_name;\n    }\n\n    var t = this.find(function(t) {\n        return t.get('name') === template_name;\n    });\n\n    if(t) {\n      return _.bind(t.render, t);\n    }\n\n    cdb.log.error(template_name + \" not found\");\n\n    return null;\n  }\n});\n\n/**\n * global variable\n */\ncdb.templates = new cdb.core.TemplateList();\n\n/**\n * load JST templates.\n * rails creates a JST variable with all the templates.\n * This functions loads them as default into cbd.template\n */\ncdb._loadJST = function() {\n  if(typeof(window.JST) !== undefined) {\n    cdb.templates.reset(\n      _(JST).map(function(tmpl, name) {\n        return { name: name, compiled: tmpl };\n      })\n    );\n  }\n};\n\n(function() {\n\n  cdb._debugCallbacks= function(o) {\n    var callbacks = o._callbacks;\n    for(var i in callbacks) {\n      var node = callbacks[i];\n      console.log(\" * \", i);\n      var end = node.tail;\n      while ((node = node.next) !== end) {\n        console.log(\"    - \", node.context, (node.context && node.context.el) || 'none');\n      }\n    }\n  }\n\n  /**\n   * Base Model for all CartoDB model.\n   * DO NOT USE Backbone.Model directly\n   * @class cdb.core.Model\n   */\n  var Model = cdb.core.Model = Backbone.Model.extend({\n\n    initialize: function(options) {\n      _.bindAll(this, 'fetch',  'save', 'retrigger');\n      return Backbone.Model.prototype.initialize.call(this, options);\n    },\n    /**\n    * We are redefining fetch to be able to trigger an event when the ajax call ends, no matter if there's\n    * a change in the data or not. Why don't backbone does this by default? ahh, my friend, who knows.\n    * @method fetch\n    * @param args {Object}\n    */\n    fetch: function(args) {\n      var self = this;\n      // var date = new Date();\n      this.trigger('loadModelStarted');\n      $.when(this.elder('fetch', args)).done(function(ev){\n        self.trigger('loadModelCompleted', ev);\n        // var dateComplete = new Date()\n        // console.log('completed in '+(dateComplete - date));\n      }).fail(function(ev) {\n        self.trigger('loadModelFailed', ev);\n      })\n    },\n    /**\n    * Changes the attribute used as Id\n    * @method setIdAttribute\n    * @param attr {String}\n    */\n    setIdAttribute: function(attr) {\n      this.idAttribute = attr;\n    },\n    /**\n    * Listen for an event on another object and triggers on itself, with the same name or a new one\n    * @method retrigger\n    * @param ev {String} event who triggers the action\n    * @param obj {Object} object where the event happens\n    * @param obj {Object} [optional] name of the retriggered event;\n    * @todo [xabel]: This method is repeated here and in the base view definition. There's should be a way to make it unique\n    */\n    retrigger: function(ev, obj, retrigEvent) {\n      if(!retrigEvent) {\n        retrigEvent = ev;\n      }\n      var self = this;\n      obj.bind && obj.bind(ev, function() {\n        self.trigger(retrigEvent);\n      }, self)\n    },\n\n    /**\n     * We need to override backbone save method to be able to introduce new kind of triggers that\n     * for some reason are not present in the original library. Because you know, it would be nice\n     * to be able to differenciate \"a model has been updated\" of \"a model is being saved\".\n     * TODO: remove jquery from here\n     * @param  {object} opt1\n     * @param  {object} opt2\n     * @return {$.Deferred}\n     */\n    save: function(opt1, opt2) {\n      var self = this;\n      if(!opt2 || !opt2.silent) this.trigger('saving');\n      var promise = Backbone.Model.prototype.save.apply(this, arguments);\n      $.when(promise).done(function() {\n        if(!opt2 || !opt2.silent) self.trigger('saved');\n      }).fail(function() {\n        if(!opt2 || !opt2.silent) self.trigger('errorSaving')\n      })\n      return promise;\n    }\n  });\n})();\n(function() {\n\n  /**\n   * Base View for all CartoDB views.\n   * DO NOT USE Backbone.View directly\n   */\n  var View = cdb.core.View = Backbone.View.extend({\n    classLabel: 'cdb.core.View',\n    constructor: function(options) {\n      this._models = [];\n      this._subviews = {};\n      Backbone.View.call(this, options);\n      View.viewCount++;\n      View.views[this.cid] = this;\n      this._created_at = new Date();\n      cdb.core.Profiler.new_value('total_views', View.viewCount);\n    },\n\n    add_related_model: function(m) {\n      if(!m) throw \"added non valid model\"\n      this._models.push(m);\n    },\n\n    addView: function(v) {\n      this._subviews[v.cid] = v;\n      v._parent = this;\n    },\n\n    removeView: function(v) {\n      delete this._subviews[v.cid];\n    },\n\n    clearSubViews: function() {\n      _(this._subviews).each(function(v) {\n        v.clean();\n      });\n      this._subviews = {};\n    },\n\n    /**\n     * this methid clean removes the view\n     * and clean and events associated. call it when\n     * the view is not going to be used anymore\n     */\n    clean: function() {\n      var self = this;\n      this.trigger('clean');\n      this.clearSubViews();\n      // remove from parent\n      if(this._parent) {\n        this._parent.removeView(this);\n        this._parent = null;\n      }\n      this.remove();\n      this.unbind();\n      // remove this model binding\n      if (this.model && this.model.unbind) this.model.unbind(null, null, this); \n      // remove model binding\n      _(this._models).each(function(m) {\n        m.unbind(null, null, self);\n      });\n      this._models = [];\n      View.viewCount--;\n      delete View.views[this.cid];\n      return this;\n    },\n\n    /**\n     * utility methods\n     */\n\n    getTemplate: function(tmpl) {\n      if(this.options.template) {\n        return  _.template(this.options.template);\n      }\n      return cdb.templates.getTemplate(tmpl);\n    },\n\n    show: function() {\n        this.$el.show();\n    },\n\n    hide: function() {\n        this.$el.hide();\n    },\n\n    /**\n    * Listen for an event on another object and triggers on itself, with the same name or a new one\n    * @method retrigger\n    * @param ev {String} event who triggers the action\n    * @param obj {Object} object where the event happens\n    * @param obj {Object} [optional] name of the retriggered event;\n    */\n    retrigger: function(ev, obj, retrigEvent) {\n      if(!retrigEvent) {\n        retrigEvent = ev;\n      }\n      var self = this;\n      obj.bind && obj.bind(ev, function() {\n        self.trigger(retrigEvent);\n      }, self)\n      // add it as related model//object\n      this.add_related_model(obj);\n    },\n    /**\n    * Captures an event and prevents the default behaviour and stops it from bubbling\n    * @method killEvent\n    * @param event {Event}\n    */\n    killEvent: function(ev) {\n      if(ev && ev.preventDefault) {\n        ev.preventDefault();\n      };\n      if(ev && ev.stopPropagation) {\n        ev.stopPropagation();\n      };\n    },\n\n    /**\n    * Remove all the tipsy tooltips from the document\n    * @method cleanTooltips\n    */\n    cleanTooltips: function() {\n      this.$('.tipsy').remove();\n    }\n\n\n\n\n  }, {\n    viewCount: 0,\n    views: {},\n\n    /**\n     * when a view with events is inherit and you want to add more events\n     * this helper can be used:\n     * var MyView = new core.View({\n     *  events: cdb.core.View.extendEvents({\n     *      'click': 'fn'\n     *  })\n     * });\n     */\n    extendEvents: function(newEvents) {\n      return function() {\n        return _.extend(newEvents, this.constructor.__super__.events);\n      };\n    },\n\n    /**\n     * search for views in a view and check if they are added as subviews\n     */\n    runChecker: function() {\n      _.each(cdb.core.View.views, function(view) {\n        _.each(view, function(prop, k) {\n          if( k !== '_parent' &&\n              view.hasOwnProperty(k) &&\n              prop instanceof cdb.core.View &&\n              view._subviews[prop.cid] === undefined) {\n            console.log(\"=========\");\n            console.log(\"untracked view: \");\n            console.log(prop.el);\n            console.log('parent');\n            console.log(view.el);\n            console.log(\" \");\n          }\n        });\n      });\n    }\n  });\n\n})();\nvar Loader = cdb.vis.Loader = cdb.core.Loader = {\n\n  queue: [],\n  current: undefined,\n  _script: null,\n  head: null,\n\n  loadScript: function(src) {\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = src;\n      script.async = true;\n      if (!Loader.head) {\n        Loader.head = document.getElementsByTagName('head')[0];\n      }\n      // defer the loading because IE9 loads in the same frame the script\n      // so Loader._script is null\n      setTimeout(function() {\n        Loader.head.appendChild(script);\n      }, 0);\n      return script;\n  },\n\n  get: function(url, callback) {\n    if (!Loader._script) {\n      Loader.current = callback;\n      Loader._script = Loader.loadScript(url + (~url.indexOf('?') ? '&' : '?') + 'callback=vizjson');\n    } else {\n      Loader.queue.push([url, callback]);\n    }\n  },\n\n  getPath: function(file) {\n    var scripts = document.getElementsByTagName('script'),\n        cartodbJsRe = /\\/?cartodb[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;\n    for (i = 0, len = scripts.length; i < len; i++) {\n      src = scripts[i].src;\n      matches = src.match(cartodbJsRe);\n\n      if (matches) {\n        var bits = src.split('/');\n        delete bits[bits.length - 1];\n        return bits.join('/') + file;\n      }\n    }\n    return null;\n  },\n\n  loadModule: function(modName) {\n    var file = \"cartodb.mod.\" + modName + (cartodb.DEBUG ? \".uncompressed.js\" : \".js\");\n    var src = this.getPath(file);\n    if (!src) {\n      cartodb.log.error(\"can't find cartodb.js file\");\n    }\n    Loader.loadScript(src);\n  }\n};\n\nwindow.vizjson = function(data) {\n  Loader.current && Loader.current(data);\n  // remove script\n  Loader.head.removeChild(Loader._script);\n  Loader._script = null;\n  // next element\n  var a = Loader.queue.shift();\n  if (a) {\n    Loader.get(a[0], a[1]);\n  }\n};\n\ncdb.core.util = {};\n\ncdb.core.util.isCORSSupported = function() {\n  return 'withCredentials' in new XMLHttpRequest();\n};\n\ncdb.core.util.array2hex = function(byteArr) {\n  var encoded = []\n  for(var i = 0; i < byteArr.length; ++i) {\n    encoded.push(String.fromCharCode(byteArr[i] + 128));\n  }\n  return cdb.core.util.btoa(encoded.join(''));\n};\n\ncdb.core.util.btoa = function(data) {\n  if (typeof window['btoa'] == 'function') {\n    return cdb.core.util.encodeBase64Native(data);\n  };\n\n  return cdb.core.util.encodeBase64(data);\n};\n\ncdb.core.util.encodeBase64Native = function (input) {\n  return btoa(input);\n};\n\n// ie7 btoa,\n// from http://phpjs.org/functions/base64_encode/\ncdb.core.util.encodeBase64 = function (data) {\n  var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  var o1, o2, o3, h1, h2, h3, h4, bits, i = 0,\n    ac = 0,\n    enc = \"\",\n    tmp_arr = [];\n\n  if (!data) {\n    return data;\n  }\n\n  do { // pack three octets into four hexets\n    o1 = data.charCodeAt(i++);\n    o2 = data.charCodeAt(i++);\n    o3 = data.charCodeAt(i++);\n\n    bits = o1 << 16 | o2 << 8 | o3;\n\n    h1 = bits >> 18 & 0x3f;\n    h2 = bits >> 12 & 0x3f;\n    h3 = bits >> 6 & 0x3f;\n    h4 = bits & 0x3f;\n\n    // use hexets to index into b64, and append result to encoded string\n    tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n  } while (i < data.length);\n\n  enc = tmp_arr.join('');\n\n  var r = data.length % 3;\n  return (r ? enc.slice(0, r - 3) : enc) + '==='.slice(r || 3);\n};\n\ncdb.core.util.uniqueCallbackName = function(str) {\n  cdb.core.util._callback_c = cdb.core.util._callback_c || 0;\n  ++cdb.core.util._callback_c;\n  return cdb.core.util.crc32(str) + \"_\" + cdb.core.util._callback_c;\n};\n\ncdb.core.util.crc32 = function(str) {\n  var crcTable = cdb.core.util._crcTable || (cdb.core.util._crcTable = cdb.core.util._makeCRCTable());\n  var crc = 0 ^ (-1);\n\n  for (var i = 0, l = str.length; i < l; ++i ) {\n    crc = (crc >>> 8) ^ crcTable[(crc ^ str.charCodeAt(i)) & 0xFF];\n  }\n\n  return (crc ^ (-1)) >>> 0;\n};\n\ncdb.core.util._makeCRCTable = function() {\n  var c;\n  var crcTable = [];\n  for(var n = 0; n < 256; ++n){\n    c = n;\n    for(var k = 0; k < 8; ++k){\n        c = ((c&1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));\n    }\n    crcTable[n] = c;\n  }\n  return crcTable;\n};\n\ncdb.core.util._inferBrowser = function(ua){\n  var browser = {};\n  ua = ua || window.navigator.userAgent;\n  function detectIE() {\n    var msie = ua.indexOf('MSIE ');\n    var trident = ua.indexOf('Trident/');\n    if (msie > -1 || trident > -1) return true;\n    return false;\n  };\n\n  function getIEVersion(){\n    if (!document.compatMode) return 5\n    if (!window.XMLHttpRequest) return 6\n    if (!document.querySelector) return 7;\n    if (!document.addEventListener) return 8;\n    if (!window.atob) return 9;\n    if (document.all) return 10;\n    else return 11;\n  };\n\n  if(detectIE()){\n    browser.ie = {version: getIEVersion()}\n  }\n\n  else if(ua.indexOf('Edge/') > -1) browser.edge = ua;\n  else if(ua.indexOf('Chrome') > -1) browser.chrome = ua;\n  else if(ua.indexOf('Firefox') > -1) browser.firefox = ua;\n  else if(ua.indexOf(\"Opera\") > -1) browser.opera = ua;\n  else if(ua.indexOf(\"Safari\") > -1) browser.safari = ua;\n  return browser;\n}\n\ncdb.core.util.browser = cdb.core.util._inferBrowser();\n\n\n/**\n * geocoders for different services\n *\n * should implement a function called geocode the gets\n * the address and call callback with a list of placemarks with lat, lon\n * (at least)\n */\n\ncdb.geo.geocoder.YAHOO = {\n\n  keys: {\n    app_id: \"nLQPTdTV34FB9L3yK2dCXydWXRv3ZKzyu_BdCSrmCBAM1HgGErsCyCbBbVP2Yg--\"\n  },\n\n  geocode: function(address, callback) {\n    address = address.toLowerCase()\n      .replace(/é/g,'e')\n      .replace(/á/g,'a')\n      .replace(/í/g,'i')\n      .replace(/ó/g,'o')\n      .replace(/ú/g,'u')\n      .replace(/ /g,'+');\n\n      var protocol = '';\n      if(location.protocol.indexOf('http') === -1) {\n        protocol = 'http:';\n      }\n\n      $.getJSON(protocol + '//query.yahooapis.com/v1/public/yql?q='+encodeURIComponent('SELECT * FROM json WHERE url=\"http://where.yahooapis.com/geocode?q=' + address + '&appid=' + this.keys.app_id + '&flags=JX\"') + '&format=json&callback=?', function(data) {\n\n         var coordinates = [];\n         if (data && data.query && data.query.results && data.query.results.json && data.query.results.json.ResultSet && data.query.results.json.ResultSet.Found != \"0\") {\n\n          // Could be an array or an object |arg!\n          var res;\n\n          if (_.isArray(data.query.results.json.ResultSet.Results)) {\n            res = data.query.results.json.ResultSet.Results;\n          } else {\n            res = [data.query.results.json.ResultSet.Results];\n          }\n\n          for(var i in res) {\n            var r = res[i],\n            position;\n\n            position = {\n              lat: r.latitude,\n              lon: r.longitude\n            };\n\n            if (r.boundingbox) {\n              position.boundingbox = r.boundingbox;\n            }\n\n            coordinates.push(position);\n          }\n        }\n\n        callback(coordinates);\n      });\n  }\n};\n\ncdb.geo.geocoder.MAPZEN = {\n  keys:{\n    app_id:  \"search-DH1Lkhw\"\n  },\n\n  geocode: function(address, callback){\n    address = address.toLowerCase()\n      .replace(/é/g,'e')\n      .replace(/á/g,'a')\n      .replace(/í/g,'i')\n      .replace(/ó/g,'o')\n      .replace(/ú/g,'u');\n\n    var protocol = '';\n    if(location.protocol.indexOf('http') === -1) {\n      protocol = 'http:';\n    }\n\n    $.getJSON(protocol + '//search.mapzen.com/v1/search?text=' + encodeURIComponent(address) + '&api_key=' + this.keys.app_id, function(data) {\n  \n    var coordinates = [];\n    if (data && data.features && data.features.length > 0) {\n      var res = data.features;\n      for (var i in res){\n        var r = res[i],\n        position;\n        position = {\n          lat: r.geometry.coordinates[1],\n          lon: r.geometry.coordinates[0]\n        };\n        if(r.properties.layer){\n          position.type = r.properties.layer;\n        }  \n        \n        if(r.properties.label){\n          position.title = r.properties.label;\n        } \n\n        coordinates.push(position);\n      }\n    }\n    if (callback) {\n      callback.call(this, coordinates);\n    }\n  });\n  }\n};\n\n\ncdb.geo.geocoder.NOKIA = {\n\n  keys: {\n    app_id:   \"KuYppsdXZznpffJsKT24\",\n    app_code: \"A7tBPacePg9Mj_zghvKt9Q\"\n  },\n\n  geocode: function(address, callback) {\n    address = address.toLowerCase()\n      .replace(/é/g,'e')\n      .replace(/á/g,'a')\n      .replace(/í/g,'i')\n      .replace(/ó/g,'o')\n      .replace(/ú/g,'u');\n\n      var protocol = '';\n      if(location.protocol.indexOf('http') === -1) {\n        protocol = 'http:';\n      }\n\n      $.getJSON(protocol + '//places.nlp.nokia.com/places/v1/discover/search/?q=' + encodeURIComponent(address) + '&app_id=' + this.keys.app_id + '&app_code=' + this.keys.app_code + '&Accept-Language=en-US&at=0,0&callback=?', function(data) {\n\n         var coordinates = [];\n         if (data && data.results && data.results.items && data.results.items.length > 0) {\n\n          var res = data.results.items;\n\n          for(var i in res) {\n            var r = res[i],\n            position;\n\n            position = {\n              lat: r.position[0],\n              lon: r.position[1]\n            };\n\n            if (r.bbox) {\n              position.boundingbox = {\n                north: r.bbox[3],\n                south: r.bbox[1],\n                east: r.bbox[2],\n                west: r.bbox[0]\n              };\n            }\n            if (r.category) {\n              position.type = r.category.id;\n            }\n            if (r.title) {\n              position.title = r.title;\n            }\n            coordinates.push(position);\n          }\n        }\n\n        if (callback) {\n          callback.call(this, coordinates);\n        }\n      });\n  }\n};\n\n\n/**\n * basic geometries, all of them based on geojson\n */\ncdb.geo.Geometry = cdb.core.Model.extend({\n  isPoint: function() {\n    var type = this.get('geojson').type;\n    if(type && type.toLowerCase() === 'point')\n      return true;\n    return false;\n  }\n});\n\ncdb.geo.Geometries = Backbone.Collection.extend({});\n\n/**\n * create a geometry\n * @param geometryModel geojson based geometry model, see cdb.geo.Geometry\n */\nfunction GeometryView() { }\n\n_.extend(GeometryView.prototype, Backbone.Events,{\n\n  edit: function() {\n    throw new Error(\"to be implemented\");\n  }\n\n});\n/**\n* Classes to manage maps\n*/\n\n/**\n* Map layer, could be tiled or whatever\n*/\ncdb.geo.MapLayer = cdb.core.Model.extend({\n\n  defaults: {\n    visible: true,\n    type: 'Tiled'\n  },\n\n  /***\n  * Compare the layer with the received one\n  * @method isEqual\n  * @param layer {Layer}\n  */\n  isEqual: function(layer) {\n    var me          = this.toJSON()\n      , other       = layer.toJSON()\n      // Select params generated when layer is added to the map\n      , map_params  = ['id', 'order'];\n\n    // Delete from the layers copy\n    _.each(map_params, function(param){\n      delete me[param];\n      delete other[param];\n      if (me.options)     delete me.options[param];\n      if (other.options)  delete other.options[param];\n    });\n\n    var myType  = me.type? me.type : me.options.type\n      , itsType = other.type? other.type : other.options.type;\n\n    if(myType && (myType === itsType)) {\n\n      if(myType === 'Tiled') {\n        var myTemplate  = me.urlTemplate? me.urlTemplate : me.options.urlTemplate;\n        var itsTemplate = other.urlTemplate? other.urlTemplate : other.options.urlTemplate;\n        var myName = me.name? me.name : me.options.name;\n        var itsName = other.name? other.name : other.options.name;\n\n        return myTemplate === itsTemplate && myName === itsName;\n      } else if(myType === 'WMS') {\n        var myTemplate  = me.urlTemplate? me.urlTemplate : me.options.urlTemplate;\n        var itsTemplate = other.urlTemplate? other.urlTemplate : other.options.urlTemplate;\n        var myLayer  = me.layers? me.layers : me.options.layers;\n        var itsLayer = other.layers? other.layers : other.options.layers;\n        return myTemplate === itsTemplate && myLayer === itsLayer;\n      }\n      else if (myType === 'torque') {\n        return cdb.geo.TorqueLayer.prototype.isEqual.call(this, layer);\n      }\n      else if (myType === 'named_map') {\n        return cdb.geo.CartoDBNamedMapLayer.prototype.isEqual.call(this, layer);\n      } else { // same type but not tiled\n        var myBaseType = me.base_type? me.base_type : me.options.base_type;\n        var itsBaseType = other.base_type? other.base_type : other.options.base_type;\n        if(myBaseType) {\n          if(_.isEqual(me,other)) {\n            return true;\n          } else {\n            return false;\n          }\n        } else { // not gmaps\n          return true;\n        }\n      }\n    }\n    return false; // different type\n  }\n});\n\n// Good old fashioned tile layer\ncdb.geo.TileLayer = cdb.geo.MapLayer.extend({\n  getTileLayer: function() {\n  }\n});\n\ncdb.geo.GMapsBaseLayer = cdb.geo.MapLayer.extend({\n  OPTIONS: ['roadmap', 'satellite', 'terrain', 'custom'],\n  defaults: {\n    type: 'GMapsBase',\n    base_type: 'gray_roadmap',\n    style: null\n  }\n});\n\n/**\n * WMS layer support\n */\ncdb.geo.WMSLayer = cdb.geo.MapLayer.extend({\n  defaults: {\n    service: 'WMS',\n    request: 'GetMap',\n    version: '1.1.1',\n    layers: '',\n    styles: '',\n    format: 'image/jpeg',\n    transparent: false\n  }\n});\n\n/**\n * this layer allows to put a plain color or image as layer (instead of tiles)\n */\ncdb.geo.PlainLayer = cdb.geo.MapLayer.extend({\n  defaults: {\n    type: 'Plain',\n    base_type: \"plain\",\n    className: \"plain\",\n    color: '#FFFFFF',\n    image: ''\n  }\n});\n\ncdb.geo.TorqueLayer = cdb.geo.MapLayer.extend({\n  defaults: {\n    type: 'torque',\n    visible: true\n  },\n\n  isEqual: function(other) {\n    var properties = ['query', 'query_wrapper', 'cartocss'];\n    var self = this;\n    return this.get('type') === other.get('type') && _.every(properties, function(p) {\n      return other.get(p) === self.get(p);\n    });\n  }\n});\n\n// CartoDB layer\ncdb.geo.CartoDBLayer = cdb.geo.MapLayer.extend({\n\n  defaults: {\n    attribution: cdb.config.get('cartodb_attributions'),\n    type: 'CartoDB',\n    active: true,\n    query: null,\n    opacity: 0.99,\n    interactivity: null,\n    interaction: true,\n    debug: false,\n    tiler_domain: \"carto.com\",\n    tiler_port: \"80\",\n    tiler_protocol: \"http\",\n    sql_api_domain: \"carto.com\",\n    sql_api_port: \"80\",\n    sql_api_protocol: \"http\",\n    extra_params: {},\n    cdn_url: null,\n    maxZoom: 28\n  },\n\n  activate: function() {\n    this.set({active: true, opacity: 0.99, visible: true})\n  },\n\n  deactivate: function() {\n    this.set({active: false, opacity: 0, visible: false})\n  },\n\n  /**\n   * refresh the layer\n   */\n  invalidate: function() {\n    var e = this.get('extra_params') || e;\n    e.cache_buster = new Date().getTime();\n    this.set('extra_params', e);\n    this.trigger('change', this);\n  },\n\n  toggle: function() {\n    if(this.get('active')) {\n      this.deactivate();\n    } else {\n      this.activate();\n    }\n  },\n\n  /*isEqual: function() {\n    return false;\n  }*/\n});\n\ncdb.geo.CartoDBGroupLayer = cdb.geo.MapLayer.extend({\n\n  defaults: {\n    visible: true,\n    type: 'layergroup'\n  },\n\n  initialize: function() {\n    this.sublayers = new cdb.geo.Layers();\n  },\n\n  isEqual: function() {\n    return false;\n  },\n\n  contains: function(layer) {\n    return layer.get('type') === 'cartodb';\n  }\n});\n\ncdb.geo.CartoDBNamedMapLayer = cdb.geo.MapLayer.extend({\n  defaults: {\n    visible: true,\n    type: 'namedmap'\n  },\n\n  isEqual: function(other) {\n    return _.isEqual(this.get('options').named_map, other.get('options').named_map);\n  }\n\n});\n\nvar TILED_LAYER_TYPE = 'Tiled';\nvar CARTODB_LAYER_TYPE = 'CartoDB';\nvar TORQUE_LAYER_TYPE = 'torque';\n\ncdb.geo.Layers = Backbone.Collection.extend({\n\n  model: cdb.geo.MapLayer,\n\n  initialize: function() {\n    this.comparator = function(m) {\n      return parseInt(m.get('order'), 10);\n    };\n    this.bind('add', this._assignIndexes);\n    this.bind('remove', this._assignIndexes);\n  },\n\n  /**\n   * each time a layer is added or removed\n   * the index should be recalculated\n   */\n  _assignIndexes: function(model, col, options) {\n    if (this.size() > 0) {\n\n      // Assign an order of 0 to the first layer\n      this.at(0).set({ order: 0 });\n\n      if (this.size() > 1) {\n        var layersByType = {};\n        for (var i = 1; i < this.size(); ++i) {\n          var layer = this.at(i);\n          var layerType = layer.get('type');\n          layersByType[layerType] = layersByType[layerType] || [];\n          layersByType[layerType].push(layer);\n        }\n\n        var lastOrder = 0;\n        var sortedTypes = [CARTODB_LAYER_TYPE, TORQUE_LAYER_TYPE, TILED_LAYER_TYPE];\n        for (var i = 0; i < sortedTypes.length; ++i) {\n          var type = sortedTypes[i];\n          var layers = layersByType[type] || [];\n          for (var j = 0; j < layers.length; ++j) {\n            var layer = layers[j];\n            layer.set({\n              order: ++lastOrder\n            });\n          }\n        }\n      }\n    }\n  }\n});\n\n/**\n* map model itself\n*/\ncdb.geo.Map = cdb.core.Model.extend({\n\n  defaults: {\n    attribution: [cdb.config.get('cartodb_attributions')],\n    center: [0, 0],\n    zoom: 3,\n    minZoom: 0,\n    maxZoom: 40,\n    scrollwheel: true,\n    drag: true,\n    keyboard: true,\n    provider: 'leaflet'\n  },\n\n  initialize: function() {\n    this.layers = new cdb.geo.Layers();\n\n    this.layers.bind('reset', function() {\n      if(this.layers.size() >= 1) {\n        this._adjustZoomtoLayer(this.layers.models[0]);\n      }\n    }, this);\n\n    this.layers.bind('reset', this._updateAttributions, this);\n    this.layers.bind('add', this._updateAttributions, this);\n    this.layers.bind('remove', this._updateAttributions, this);\n    this.layers.bind('change:attribution', this._updateAttributions, this);\n\n    this.geometries = new cdb.geo.Geometries();\n  },\n\n  _updateAttributions: function() {\n    var defaultCartoDBAttribution = cdb.core.sanitize.html(this.defaults.attribution[0]);\n    var attributions = _.chain(this.layers.models)\n      .map(function(layer) { return cdb.core.sanitize.html( layer.get('attribution') ); })\n      .reject(function(attribution) { return attribution == defaultCartoDBAttribution})\n      .compact()\n      .uniq()\n      .value();\n\n    attributions.push(defaultCartoDBAttribution);\n\n    this.set('attribution', attributions);\n  },\n\n  setView: function(latlng, zoom) {\n    this.set({\n      center: latlng,\n      zoom: zoom\n    }, {\n      silent: true\n    });\n    this.trigger(\"set_view\");\n  },\n\n  setZoom: function(z) {\n    this.set({\n      zoom: z\n    });\n  },\n\n  enableKeyboard: function() {\n    this.set({\n      keyboard: true\n    });\n  },\n\n  disableKeyboard: function() {\n    this.set({\n      keyboard: false\n    });\n  },\n\n  enableScrollWheel: function() {\n    this.set({\n      scrollwheel: true\n    });\n  },\n\n  disableScrollWheel: function() {\n    this.set({\n      scrollwheel: false\n    });\n  },\n\n  getZoom: function() {\n    return this.get('zoom');\n  },\n\n  setCenter: function(latlng) {\n    this.set({\n      center: latlng\n    });\n  },\n\n  /**\n  * Change multiple options at the same time\n  * @params {Object} New options object\n  */\n  setOptions: function(options) {\n    if (typeof options != \"object\" || options.length) {\n      if (this.options.debug) {\n        throw (options + ' options has to be an object');\n      } else {\n        return;\n      }\n    }\n\n    // Set options\n    _.defaults(this.options, options);\n  },\n\n  /**\n  * return getViewbounds if it is set\n  */\n  getViewBounds: function() {\n    if(this.has('view_bounds_sw') && this.has('view_bounds_ne')) {\n      return [\n        this.get('view_bounds_sw'),\n        this.get('view_bounds_ne')\n      ];\n    }\n    return null;\n  },\n\n  getLayerAt: function(i) {\n    return this.layers.at(i);\n  },\n\n  getLayerByCid: function(cid) {\n    return this.layers.getByCid(cid);\n  },\n\n  _adjustZoomtoLayer: function(layer) {\n\n    var maxZoom = parseInt(layer.get('maxZoom'), 10);\n    var minZoom = parseInt(layer.get('minZoom'), 10);\n\n    if (_.isNumber(maxZoom) && !_.isNaN(maxZoom)) {\n      if ( this.get(\"zoom\") > maxZoom ) this.set({ zoom: maxZoom, maxZoom: maxZoom });\n      else this.set(\"maxZoom\", maxZoom);\n    }\n\n    if (_.isNumber(minZoom) && !_.isNaN(minZoom)) {\n      if ( this.get(\"zoom\") < minZoom ) this.set({ minZoom: minZoom, zoom: minZoom });\n      else this.set(\"minZoom\", minZoom);\n    }\n\n  },\n\n  addLayer: function(layer, opts) {\n    if(this.layers.size() == 0) {\n      this._adjustZoomtoLayer(layer);\n    }\n    this.layers.add(layer, opts);\n    this.trigger('layerAdded');\n    if(this.layers.length === 1) {\n      this.trigger('firstLayerAdded');\n    }\n    return layer.cid;\n  },\n\n  removeLayer: function(layer) {\n    this.layers.remove(layer);\n  },\n\n  removeLayerByCid: function(cid) {\n    var layer = this.layers.getByCid(cid);\n\n    if (layer) this.removeLayer(layer);\n    else cdb.log.error(\"There's no layer with cid = \" + cid + \".\");\n  },\n\n  removeLayerAt: function(i) {\n    var layer = this.layers.at(i);\n\n    if (layer) this.removeLayer(layer);\n    else cdb.log.error(\"There's no layer in that position.\");\n  },\n\n  clearLayers: function() {\n    while (this.layers.length > 0) {\n      this.removeLayer(this.layers.at(0));\n    }\n  },\n\n  // by default the base layer is the layer at index 0\n  getBaseLayer: function() {\n    return this.layers.at(0);\n  },\n\n  /**\n  * Checks if the base layer is already in the map as base map\n  */\n  isBaseLayerAdded: function(layer) {\n    var baselayer = this.getBaseLayer()\n    return baselayer && layer.isEqual(baselayer);\n  },\n\n  /**\n  * gets the url of the template of the tile layer\n  * @method getLayerTemplate\n  */\n  getLayerTemplate: function() {\n    var baseLayer = this.getBaseLayer();\n    if(baseLayer && baseLayer.get('options'))  {\n      return baseLayer.get('options').urlTemplate;\n    }\n  },\n\n  addGeometry: function(geom) {\n    this.geometries.add(geom);\n  },\n\n  removeGeometry: function(geom) {\n    this.geometries.remove(geom);\n  },\n\n  setBounds: function(b) {\n    this.attributes.view_bounds_sw = [\n      b[0][0],\n      b[0][1]\n    ];\n    this.attributes.view_bounds_ne = [\n      b[1][0],\n      b[1][1]\n    ];\n\n    // change both at the same time\n    this.trigger('change:view_bounds_ne', this);\n  },\n\n  // set center and zoom according to fit bounds\n  fitBounds: function(bounds, mapSize) {\n    var z = this.getBoundsZoom(bounds, mapSize);\n    if(z === null) {\n      return;\n    }\n\n    // project -> calculate center -> unproject\n    var swPoint = cdb.geo.Map.latlngToMercator(bounds[0], z);\n    var nePoint = cdb.geo.Map.latlngToMercator(bounds[1], z);\n\n    var center = cdb.geo.Map.mercatorToLatLng({\n      x: (swPoint[0] + nePoint[0])*0.5,\n      y: (swPoint[1] + nePoint[1])*0.5\n    }, z);\n    this.set({\n      center: center,\n      zoom: z\n    })\n  },\n\n  // adapted from leaflat src\n  // @return {Number, null} Calculated zoom from given bounds or the maxZoom if no appropriate zoom level could be found\n  //   or null if given mapSize has no size.\n  getBoundsZoom: function(boundsSWNE, mapSize) {\n    // sometimes the map reports size = 0 so return null\n    if(mapSize.x === 0 || mapSize.y === 0) return null;\n    var size = [mapSize.x, mapSize.y],\n    zoom = this.get('minZoom') || 0,\n    maxZoom = this.get('maxZoom') || 24,\n    ne = boundsSWNE[1],\n    sw = boundsSWNE[0],\n    boundsSize = [],\n    nePoint,\n    swPoint,\n    zoomNotFound = true;\n\n    do {\n      zoom++;\n      nePoint = cdb.geo.Map.latlngToMercator(ne, zoom);\n      swPoint = cdb.geo.Map.latlngToMercator(sw, zoom);\n      boundsSize[0] = Math.abs(nePoint[0] - swPoint[0]);\n      boundsSize[1] = Math.abs(swPoint[1] - nePoint[1]);\n      zoomNotFound = boundsSize[0] <= size[0] || boundsSize[1] <= size[1];\n    } while (zoomNotFound && zoom <= maxZoom);\n\n    if (zoomNotFound) {\n      return maxZoom;\n    }\n\n    return zoom - 1;\n  }\n\n}, {\n  latlngToMercator: function(latlng, zoom) {\n    var ll = new L.LatLng(latlng[0], latlng[1]);\n    var pp = L.CRS.EPSG3857.latLngToPoint(ll, zoom);\n    return [pp.x, pp.y];\n  },\n\n  mercatorToLatLng: function(point, zoom) {\n    var ll = L.CRS.EPSG3857.pointToLatLng(point, zoom);\n    return [ll.lat, ll.lng]\n  }\n});\n\n\n/**\n* Base view for all impl\n*/\ncdb.geo.MapView = cdb.core.View.extend({\n\n  initialize: function() {\n\n    if (this.options.map === undefined) {\n      throw \"you should specify a map model\";\n    }\n\n    this.map = this.options.map;\n    this.add_related_model(this.map);\n    this.add_related_model(this.map.layers);\n\n    this.autoSaveBounds = false;\n\n    // this var stores views information for each model\n    this.layers = {};\n    this.geometries = {};\n\n    this.bind('clean', this._removeLayers, this);\n  },\n\n  render: function() {\n    return this;\n  },\n\n  /**\n  * add a infowindow to the map\n  */\n  addInfowindow: function(infoWindowView) {\n    this.addOverlay(infoWindowView);\n  },\n\n  addOverlay: function(overlay) {\n    if (overlay) {\n      this.$el.append(overlay.render().el);\n      this.addView(overlay);\n    }\n  },\n\n  /**\n  * search in the subviews and return the infowindows\n  */\n  getInfoWindows: function() {\n    var result = [];\n    for (var s in this._subviews) {\n      if(this._subviews[s] instanceof cdb.geo.ui.Infowindow) {\n        result.push(this._subviews[s]);\n      }\n    }\n    return result;\n  },\n\n  showBounds: function(bounds) {\n    throw \"to be implemented\";\n  },\n\n  /*_removeLayers: function() {\n    for(var layer in this.layers) {\n      this.layers[layer].remove();\n    }\n    this.layers = {}\n  },*/\n\n  /**\n  * set model property but unbind changes first in order to not create an infinite loop\n  */\n  _setModelProperty: function(prop) {\n    this._unbindModel();\n    this.map.set(prop);\n    if(prop.center !== undefined || prop.zoom !== undefined) {\n      var b = this.getBounds();\n      this.map.set({\n        view_bounds_sw: b[0],\n        view_bounds_ne: b[1]\n      });\n      if(this.autoSaveBounds) {\n        this._saveLocation();\n      }\n    }\n    this._bindModel();\n  },\n\n  /** bind model properties */\n  _bindModel: function() {\n    this._unbindModel();\n    this.map.bind('change:view_bounds_sw',  this._changeBounds, this);\n    this.map.bind('change:view_bounds_ne',  this._changeBounds, this);\n    this.map.bind('change:zoom',            this._setZoom, this);\n    this.map.bind('change:scrollwheel',     this._setScrollWheel, this);\n    this.map.bind('change:keyboard',        this._setKeyboard, this);\n    this.map.bind('change:center',          this._setCenter, this);\n    this.map.bind('change:attribution',     this.setAttribution, this);\n  },\n\n  /** unbind model properties */\n  _unbindModel: function() {\n    this.map.unbind('change:view_bounds_sw',  null, this);\n    this.map.unbind('change:view_bounds_ne',  null, this);\n    this.map.unbind('change:zoom',            null, this);\n    this.map.unbind('change:scrollwheel',     null, this);\n    this.map.unbind('change:keyboard',        null, this);\n    this.map.unbind('change:center',          null, this);\n    this.map.unbind('change:attribution',     null, this);\n  },\n\n  _changeBounds: function() {\n    var bounds = this.map.getViewBounds();\n    if(bounds) {\n      this.showBounds(bounds);\n    }\n  },\n\n  showBounds: function(bounds) {\n    this.map.fitBounds(bounds, this.getSize())\n  },\n\n  _addLayers: function() {\n    var self = this;\n    this._removeLayers();\n    this.map.layers.each(function(lyr) {\n      self._addLayer(lyr);\n    });\n  },\n\n  _removeLayers: function(layer) {\n    for(var i in this.layers) {\n      var layer_view = this.layers[i];\n      layer_view.remove();\n      delete this.layers[i];\n    }\n  },\n\n  _removeLayer: function(layer) {\n    var layer_view = this.layers[layer.cid];\n    if(layer_view) {\n      layer_view.remove();\n      delete this.layers[layer.cid];\n    }\n  },\n\n  _swicthLayerView: function(layer, attr, opts) {\n    this._removeLayer(layer);\n    this._addLayer(layer, this.map.layers, opts);\n  },\n\n\n  _removeGeometry: function(geo) {\n    var geo_view = this.geometries[geo.cid];\n    delete this.layers[layer.cid];\n  },\n\n  getLayerByCid: function(cid) {\n    var l = this.layers[cid];\n    if(!l) {\n      cdb.log.debug(\"layer with cid \" + cid + \" can't be get\");\n    }\n    return l;\n  },\n\n  _setZoom: function(model, z) {\n    throw \"to be implemented\";\n  },\n\n  _setCenter: function(model, center) {\n    throw \"to be implemented\";\n  },\n\n  _addLayer: function(layer, layers, opts) {\n    throw \"to be implemented\";\n  },\n\n  _addGeomToMap: function(geom) {\n    throw \"to be implemented\";\n  },\n\n  _removeGeomFromMap: function(geo) {\n    throw \"to be implemented\";\n  },\n\n  setAutoSaveBounds: function() {\n    var self = this;\n    this.autoSaveBounds = true;\n  },\n\n  _saveLocation: _.debounce(function() {\n    this.map.save(null, { silent: true });\n  }, 1000),\n\n  _addGeometry: function(geom) {\n    var view = this._addGeomToMap(geom);\n    this.geometries[geom.cid] = view;\n  },\n\n  _removeGeometry: function(geo) {\n    var geo_view = this.geometries[geo.cid];\n    this._removeGeomFromMap(geo_view);\n    delete this.geometries[geo.cid];\n  }\n\n\n}, {\n  _getClass: function(provider) {\n    var mapViewClass = cdb.geo.LeafletMapView;\n    if(provider === 'googlemaps') {\n      if(typeof(google) != \"undefined\" && typeof(google.maps) != \"undefined\") {\n        mapViewClass = cdb.geo.GoogleMapsMapView;\n      } else {\n        cdb.log.error(\"you must include google maps library _before_ include cdb\");\n      }\n    }\n    return mapViewClass;\n  },\n\n  create: function(el, mapModel) {\n    var _mapViewClass = cdb.geo.MapView._getClass(mapModel.get('provider'));\n    return new _mapViewClass({\n      el: el,\n      map: mapModel\n    });\n  }\n});\ncdb.geo.ui.Text = cdb.core.View.extend({\n\n  className: \"cartodb-overlay overlay-text\",\n\n  events: {\n    \"click\": \"stopPropagation\"\n  },\n\n  default_options: { },\n\n  stopPropagation: function(e) {\n\n    e.stopPropagation();\n\n  },\n\n  initialize: function() {\n\n    _.defaults(this.options, this.default_options);\n\n    this.template = this.options.template;\n\n    var self = this;\n\n    $(window).on(\"map_resized\", function() {\n      self._place();\n    });\n\n    $(window).on(\"resize\", function() {\n      self._place();\n    });\n\n  },\n\n  _applyStyle: function() {\n\n    var style      = this.model.get(\"style\");\n\n    var boxColor   = style[\"box-color\"];\n    var boxOpacity = style[\"box-opacity\"];\n    var boxWidth   = style[\"box-width\"];\n    var fontFamily = style[\"font-family-name\"];\n\n    this.$text = this.$el.find(\".text\");\n\n    this.$text.css(style);\n    this.$text.css(\"font-size\", style[\"font-size\"] + \"px\");\n\n    this.$el.css(\"z-index\", style[\"z-index\"]);\n\n    var fontFamilyClass = \"\";\n\n    if      (fontFamily  == \"Droid Sans\")       fontFamilyClass = \"droid\";\n    else if (fontFamily  == \"Vollkorn\")         fontFamilyClass = \"vollkorn\";\n    else if (fontFamily  == \"Open Sans\")        fontFamilyClass = \"open_sans\";\n    else if (fontFamily  == \"Roboto\")           fontFamilyClass = \"roboto\";\n    else if (fontFamily  == \"Lato\")             fontFamilyClass = \"lato\";\n    else if (fontFamily  == \"Graduate\")         fontFamilyClass = \"graduate\";\n    else if (fontFamily  == \"Gravitas One\")     fontFamilyClass = \"gravitas_one\";\n    else if (fontFamily  == \"Old Standard TT\")  fontFamilyClass = \"old_standard_tt\";\n\n    var rgbaCol = 'rgba(' + parseInt(boxColor.slice(-6,-4),16)\n    + ',' + parseInt(boxColor.slice(-4,-2),16)\n    + ',' + parseInt(boxColor.slice(-2),16)\n    +', ' + boxOpacity + ' )';\n\n    this.$el\n    .removeClass(\"droid\")\n    .removeClass(\"vollkorn\")\n    .removeClass(\"roboto\")\n    .removeClass(\"open_sans\")\n    .removeClass(\"lato\")\n    .removeClass(\"graduate\")\n    .removeClass(\"gravitas_one\")\n    .removeClass(\"old_standard_tt\");\n\n    this.$el.addClass(fontFamilyClass);\n    this.$el.css({\n      backgroundColor: rgbaCol,\n      maxWidth:        boxWidth\n    });\n\n  },\n\n  _place: function(position) {\n\n    var extra = position || this.model.get(\"extra\");\n\n    var top   = this.model.get(\"y\");\n    var left  = this.model.get(\"x\");\n\n    var bottom_position = extra.bottom - this.$el.height();\n    var right_position  = extra.right  - this.$el.width();\n\n    // position percentages\n    var top_percentage  = extra.top_percentage;\n    var left_percentage = extra.left_percentage;\n\n    var right  = \"auto\";\n    var bottom = \"auto\";\n\n    var marginTop  = 0;\n    var marginLeft = 0;\n\n    var width  = extra.width;\n    var height = extra.height;\n\n    var portrait_dominant_side  = extra.portrait_dominant_side;\n    var landscape_dominant_side = extra.landscape_dominant_side;\n\n    if (portrait_dominant_side === 'bottom' && bottom_position <= 250) {\n\n      top = \"auto\";\n      bottom = bottom_position;\n\n    } else if (top_percentage > 45 && top_percentage < 55) {\n\n      top = \"50%\";\n      marginTop = -height/2;\n\n    }\n\n    if (landscape_dominant_side === 'right' && right_position <= 250) {\n\n      left = \"auto\";\n      right = right_position;\n\n    } else if (left_percentage > 45 && left_percentage < 55) {\n\n      left = \"50%\";\n      marginLeft = -width/2;\n\n    }\n\n    this.$el.css({\n      marginLeft: marginLeft,\n      marginTop: marginTop,\n      top: top,\n      left: left,\n      right: right,\n      bottom: bottom\n    });\n\n  },\n\n  show: function(callback) {\n    this.$el.fadeIn(150, function() {\n      callback && callback();\n    });\n  },\n\n  hide: function(callback) {\n    this.$el.fadeOut(150, function() {\n      callback && callback();\n    });\n  },\n\n  _fixLinks: function() {\n\n    this.$el.find(\"a\").each(function(i, link) {\n      $(this).attr(\"target\", \"_top\");\n    });\n\n  },\n\n  render: function() {\n    var text = cdb.core.sanitize.html(this.model.get(\"extra\").rendered_text, this.model.get('sanitizeText'));\n    var data = _.chain(this.model.attributes).clone().extend({ text: text }).value();\n    this.$el.html(this.template(data));\n\n    this._fixLinks();\n\n    var self = this;\n    setTimeout(function() {\n      self._applyStyle();\n      self._place();\n      self.show();\n    }, 900);\n\n    return this;\n\n  }\n\n});\ncdb.geo.ui.Annotation = cdb.core.View.extend({\n\n  className: \"cartodb-overlay overlay-annotation\",\n\n  defaults: {\n    minZoom: 0,\n    maxZoom: 40,\n    style: {\n      textAlign: \"left\",\n      zIndex: 5,\n      color: \"#ffffff\",\n      fontSize: \"13\",\n      fontFamilyName: \"Helvetica\",\n      boxColor: \"#333333\",\n      boxOpacity: 0.7,\n      boxPadding: 10,\n      lineWidth: 50,\n      lineColor: \"#333333\"\n    }\n  },\n\n  template: cdb.core.Template.compile(\n    '<div class=\"content\">\\\n    <div class=\"text widget_text\">{{{ text }}}</div>\\\n    <div class=\"stick\"><div class=\"ball\"></div></div>\\\n    </div>',\n    'mustache'\n  ),\n\n  events: {\n    \"click\": \"stopPropagation\"\n  },\n\n  stopPropagation: function(e) {\n    e.stopPropagation();\n  },\n\n  initialize: function() {\n\n    this.template = this.options.template || this.template;\n    this.mapView  = this.options.mapView;\n\n    this.mobileEnabled = /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\n    this._cleanStyleProperties(this.options.style);\n\n    _.defaults(this.options.style, this.defaults.style);\n\n    this._setupModels();\n\n    this._bindMap();\n\n  },\n\n  _setupModels: function() {\n\n    this.model = new cdb.core.Model({ \n      display: true,\n      hidden: false,\n      text:    this.options.text,\n      latlng:  this.options.latlng,\n      minZoom: this.options.minZoom || this.defaults.minZoom,\n      maxZoom: this.options.maxZoom || this.defaults.maxZoom\n    });\n\n    this.model.on(\"change:display\", this._onChangeDisplay, this);\n    this.model.on(\"change:text\",    this._onChangeText, this);\n    this.model.on('change:latlng',  this._place, this);\n\n    this.model.on('change:minZoom',  this._applyZoomLevelStyle, this);\n    this.model.on('change:maxZoom',  this._applyZoomLevelStyle, this);\n\n    this.style = new cdb.core.Model(this.options.style);\n\n    this.style.on(\"change\", this._applyStyle, this);\n\n    this.add_related_model(this.style);\n\n  },\n\n  _bindMap: function() {\n\n    this.mapView.map.bind('change', this._place, this);\n    this.mapView.map.bind('change:zoom', this._applyZoomLevelStyle, this);\n    this.mapView.bind('zoomstart', this.hide, this);\n    this.mapView.bind('zoomend', this.show, this);\n\n  },\n\n  _unbindMap: function() {\n\n    this.mapView.map.unbind('change', this._place, this);\n    this.mapView.map.unbind('change:zoom', this._applyZoomLevelStyle, this);\n    this.mapView.unbind('zoomstart', this.hide, this);\n    this.mapView.unbind('zoomend', this.show, this);\n\n  },\n\n  _onChangeDisplay: function() {\n\n    if (this.model.get(\"display\")) this.show();\n    else this.hide();\n\n  },\n\n  _onChangeText: function() {\n    this.$el.find(\".text\").html(this._sanitizedText());\n  },\n\n  _sanitizedText: function() {\n    return cdb.core.sanitize.html(this.model.get(\"text\"), this.model.get('sanitizeText'));\n  },\n\n  _getStandardPropertyName: function(name) {\n    if (!name) {\n      return;\n    }\n\n    var parts = name.split(\"-\");\n\n    if (parts.length === 1) {\n      return name;\n    } else {\n      return parts[0] + _.map(parts.slice(1), function(l) { \n        return l.slice(0,1).toUpperCase() + l.slice(1);\n      }).join(\"\");\n    }\n  },\n\n  _cleanStyleProperties: function(hash) {\n\n    var standardProperties = {};\n\n    _.each(hash, function(value, key) {\n      standardProperties[this._getStandardPropertyName(key)] = value;\n    }, this);\n\n    this.options.style = standardProperties;\n\n  },\n\n  _belongsToCanvas: function() {\n  \n    var mobile = (this.options.device === \"mobile\") ? true : false;\n    return mobile === this.mobileEnabled;\n  },\n\n  show: function(callback) {\n\n    if (this.model.get(\"hidden\") || !this._belongsToCanvas()) return;\n\n    var self = this;\n\n    this.$el.css({ opacity: 0, display: \"inline-table\" }); // makes the element to behave fine in the borders of the screen\n    this.$el.stop().animate({ opacity: 1 }, { duration: 150, complete: function() {\n      callback && callback();\n    }});\n\n  },\n\n  hide: function(callback) {\n    this.$el.stop().fadeOut(150, function() {\n      callback && callback();\n    });\n  },\n\n  _place: function() {\n\n    var latlng     = this.model.get(\"latlng\");\n\n    var lineWidth  = this.style.get(\"lineWidth\");\n    var textAlign  = this.style.get(\"textAlign\");\n\n    var pos        = this.mapView.latLonToPixel(latlng);\n\n    if (pos) {\n\n      var top        = pos.y - this.$el.height()/2;\n      var left       = pos.x + lineWidth;\n\n      if (textAlign === \"right\") {\n        left = pos.x - this.$el.width() - lineWidth - this.$el.find(\".ball\").width();\n      }\n\n      this.$el.css({ top: top, left: left });\n\n    }\n\n  },\n\n  setMinZoom: function(zoom) {\n\n    this.model.set(\"minZoom\", zoom);\n\n  },\n\n  setMaxZoom: function(zoom) {\n\n    this.model.set(\"maxZoom\", zoom);\n\n  },\n\n  setPosition: function(latlng) {\n\n    this.model.set(\"latlng\", latlng);\n\n  },\n\n  setText: function(text) {\n\n    this.model.set(\"text\", text);\n\n  },\n\n  setStyle: function(property, value) {\n\n    var standardProperty = this._getStandardPropertyName(property);\n\n    if (standardProperty) {\n      this.style.set(standardProperty, value);\n    }\n\n  },\n\n  _applyStyle: function() {\n\n    var textColor  = this.style.get(\"color\");\n    var textAlign  = this.style.get(\"textAlign\");\n    var boxColor   = this.style.get(\"boxColor\");\n    var boxOpacity = this.style.get(\"boxOpacity\");\n    var boxPadding = this.style.get(\"boxPadding\");\n    var lineWidth  = this.style.get(\"lineWidth\");\n    var lineColor  = this.style.get(\"lineColor\");\n    var fontFamily = this.style.get(\"fontFamilyName\");\n\n    this.$text = this.$el.find(\".text\");\n\n    this.$text.css({ color: textColor, textAlign: textAlign });\n\n    this.$el.find(\".content\").css(\"padding\", boxPadding);\n    this.$text.css(\"font-size\", this.style.get(\"fontSize\") + \"px\");\n    this.$el.css(\"z-index\", this.style.get(\"zIndex\"));\n\n    this.$el.find(\".stick\").css({ width: lineWidth, left: -lineWidth });\n\n    var fontFamilyClass = \"\";\n\n    if      (fontFamily  == \"Droid Sans\")       fontFamilyClass = \"droid\";\n    else if (fontFamily  == \"Vollkorn\")         fontFamilyClass = \"vollkorn\";\n    else if (fontFamily  == \"Open Sans\")        fontFamilyClass = \"open_sans\";\n    else if (fontFamily  == \"Roboto\")           fontFamilyClass = \"roboto\";\n    else if (fontFamily  == \"Lato\")             fontFamilyClass = \"lato\";\n    else if (fontFamily  == \"Graduate\")         fontFamilyClass = \"graduate\";\n    else if (fontFamily  == \"Gravitas One\")     fontFamilyClass = \"gravitas_one\";\n    else if (fontFamily  == \"Old Standard TT\")  fontFamilyClass = \"old_standard_tt\";\n\n    this.$el\n    .removeClass(\"droid\")\n    .removeClass(\"vollkorn\")\n    .removeClass(\"roboto\")\n    .removeClass(\"open_sans\")\n    .removeClass(\"lato\")\n    .removeClass(\"graduate\")\n    .removeClass(\"gravitas_one\")\n    .removeClass(\"old_standard_tt\");\n\n    this.$el.addClass(fontFamilyClass);\n\n    if (textAlign === \"right\") {\n      this.$el.addClass(\"align-right\");\n      this.$el.find(\".stick\").css({ left: \"auto\", right: -lineWidth });\n    } else {\n      this.$el.removeClass(\"align-right\");\n    }\n\n    this._place();\n    this._applyZoomLevelStyle();\n\n  },\n\n  _getRGBA: function(color, opacity) {\n    return 'rgba(' + parseInt(color.slice(-6,-4),16)\n    + ',' + parseInt(color.slice(-4,-2),16)\n    + ',' + parseInt(color.slice(-2),16)\n    + ',' + opacity + ' )';\n  },\n\n  _applyZoomLevelStyle: function() {\n\n    var boxColor   = this.style.get(\"boxColor\");\n    var boxOpacity = this.style.get(\"boxOpacity\");\n    var lineColor  = this.style.get(\"lineColor\");\n\n    var minZoom    = this.model.get(\"minZoom\");\n    var maxZoom    = this.model.get(\"maxZoom\");\n\n    var currentZoom = this.mapView.map.get(\"zoom\");\n\n    if (currentZoom >= minZoom && currentZoom <= maxZoom) {\n\n      var rgbaLineCol = this._getRGBA(lineColor, 1);\n      var rgbaBoxCol  = this._getRGBA(boxColor, boxOpacity);\n\n      this.$el.find(\".text\").animate({ opacity: 1 }, 150);\n\n      this.$el.css(\"background-color\", rgbaBoxCol);\n\n      this.$el.find(\".stick\").css(\"background-color\", rgbaLineCol);\n      this.$el.find(\".ball\").css(\"background-color\", rgbaLineCol);\n\n      this.model.set(\"hidden\", false);\n      this.model.set(\"display\", true);\n\n    } else {\n      this.model.set(\"hidden\", true);\n      this.model.set(\"display\", false);\n    }\n  },\n\n  clean: function() {\n    this._unbindMap();\n    cdb.core.View.prototype.clean.call(this);\n  },\n\n  _fixLinks: function() {\n\n    this.$el.find(\"a\").each(function(i, link) {\n      $(this).attr(\"target\", \"_top\");\n    });\n\n  },\n\n  render: function() {\n    var d = _.clone(this.model.attributes);\n    d.text = this._sanitizedText();\n    this.$el.html(this.template(d));\n\n    this._fixLinks();\n\n    var self = this;\n    setTimeout(function() {\n      self._applyStyle();\n      self._applyZoomLevelStyle();\n      self.show();\n    }, 500);\n\n    return this;\n\n  }\n\n});\ncdb.geo.ui.Image = cdb.geo.ui.Text.extend({\n\n  className: \"cartodb-overlay image-overlay\",\n\n  events: {\n    \"click\": \"stopPropagation\"\n  },\n\n  default_options: { },\n\n  stopPropagation: function(e) {\n\n    e.stopPropagation();\n\n  },\n\n  initialize: function() {\n\n    _.defaults(this.options, this.default_options);\n\n    this.template = this.options.template;\n\n    var self = this;\n\n    $(window).on(\"map_resized\", function() {\n      self._place();\n    });\n\n    $(window).on(\"resize\", function() {\n      self._place();\n    });\n\n  },\n\n  _applyStyle: function() {\n\n    var style      = this.model.get(\"style\");\n\n    var boxColor   = style[\"box-color\"];\n    var boxOpacity = style[\"box-opacity\"];\n    var boxWidth   = style[\"box-width\"];\n\n    this.$el.find(\".text\").css(style);\n    this.$el.css(\"z-index\", style[\"z-index\"]);\n\n    var rgbaCol = 'rgba(' + parseInt(boxColor.slice(-6,-4),16)\n    + ',' + parseInt(boxColor.slice(-4,-2),16)\n    + ',' + parseInt(boxColor.slice(-2),16)\n    +', ' + boxOpacity + ' )';\n\n    this.$el.css({\n      backgroundColor: rgbaCol\n    });\n\n    this.$el.find(\"img\").css({ width: boxWidth });\n\n  },\n\n  render: function() {\n    var content;\n    if (this.model.get(\"extra\").has_default_image) {\n      content = _.template('<img src=\"<%- url %>\" />')({ url: this.model.get(\"extra\").public_default_image_url });\n    } else {\n      content = cdb.core.sanitize.html(this.model.get(\"extra\").rendered_text, this.model.get('sanitizeContent'));\n    }\n\n    var data = _.chain(this.model.attributes).clone().extend({ content: content }).value();\n    this.$el.html(this.template(data));\n\n    var self = this;\n\n    setTimeout(function() {\n      self._applyStyle();\n      self._place();\n      self.show();\n    }, 900);\n\n\n    return this;\n\n  }\n\n});\ncdb.geo.ui.Share = cdb.core.View.extend({\n\n  className: \"cartodb-share\",\n\n  events: {\n    \"click a\": \"_onClick\"\n  },\n  default_options: { },\n\n  initialize: function() {\n\n    _.bindAll(this, \"_onClick\");\n\n    _.defaults(this.options, this.default_options);\n\n    this.template = this.options.template;\n\n  },\n\n  _applyStyle: function() { },\n\n  _onClick: function(e) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.dialog.show();\n\n  },\n\n  createDialog: function() {\n\n    var data = this.options;\n    data.template = \"\";\n\n    // Add the complete url for facebook and twitter\n    if (location.href) {\n      data.share_url = encodeURIComponent(location.href);\n    } else {\n      data.share_url = data.url;\n    }\n\n    var template = cdb.core.Template.compile(\n      data.template || '\\\n      <div class=\"mamufas\">\\\n      <div class=\"block modal {{modal_type}}\">\\\n      <a href=\"#close\" class=\"close\">x</a>\\\n      <div class=\"head\">\\\n      <h3>Share this map</h3>\\\n      </div>\\\n      <div class=\"content\">\\\n      <div class=\"buttons\">\\\n      <h4>Social</h4>\\\n      <ul>\\\n      <li><a class=\"facebook\" target=\"_blank\" href=\"{{ facebook_url }}\">Share on Facebook</a></li>\\\n      <li><a class=\"twitter\" href=\"{{ twitter_url }}\" target=\"_blank\">Share on Twitter</a></li>\\\n      <li><a class=\"link\" href=\"{{ public_map_url }}\" target=\"_blank\">Link to this map</a></li>\\\n      </ul>\\\n      </div><div class=\"embed_code\">\\\n      <h4>Embed this map</h4>\\\n      <textarea id=\"\" name=\"\" cols=\"30\" rows=\"10\">{{ code }}</textarea>\\\n      </div>\\\n      </div>\\\n      </div>\\\n      </div>\\\n      ',\n      data.templateType || 'mustache'\n    );\n\n    var url = location.href;\n\n    url = url.replace(\"public_map\", \"embed_map\");\n\n    var public_map_url = url.replace(\"embed_map\", \"public_map\"); // TODO: get real URL\n\n    var code = \"<iframe width='100%' height='520' frameborder='0' src='\" + url + \"' allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>\";\n\n    this.dialog = new cdb.ui.common.ShareDialog({\n      title: data.map.get(\"title\"),\n      description: data.map.get(\"description\"),\n      model: this.options.vis.map,\n      code: code,\n      url: data.url,\n      public_map_url: public_map_url,\n      share_url: data.share_url,\n      template: template,\n      target: $(\".cartodb-share a\"),\n      size: $(document).width() > 400 ? \"\" : \"small\",\n      width: $(document).width() > 400 ? 430 : 216\n    });\n\n    $(\".cartodb-map-wrapper\").append(this.dialog.render().$el);\n\n    this.addView(this.dialog);\n\n  },\n\n  render: function() {\n\n    this.$el.html(this.template(_.extend(this.model.attributes)));\n\n    return this;\n\n  }\n\n});\n/**\n * View to control the zoom of the map.\n *\n * Usage:\n *\n * var zoomControl = new cdb.geo.ui.Zoom({ model: map });\n * mapWrapper.$el.append(zoomControl.render().$el);\n *\n */\n\n\ncdb.geo.ui.Zoom = cdb.core.View.extend({\n\n  className: \"cartodb-zoom\",\n\n  events: {\n    'click .zoom_in': 'zoom_in',\n    'click .zoom_out': 'zoom_out'\n  },\n\n  default_options: {\n    timeout: 0,\n    msg: ''\n  },\n\n  initialize: function() {\n    this.map = this.model;\n\n    _.defaults(this.options, this.default_options);\n\n    this.template = this.options.template ? this.options.template : cdb.templates.getTemplate('geo/zoom');\n    this.map.bind('change:zoom change:minZoom change:maxZoom', this._checkZoom, this);\n  },\n\n  render: function() {\n    this.$el.html(this.template(this.options));\n    this._checkZoom();\n    return this;\n  },\n\n  _checkZoom: function() {\n    var zoom = this.map.get('zoom');\n    this.$('.zoom_in')[ zoom < this.map.get('maxZoom') ? 'removeClass' : 'addClass' ]('disabled')\n    this.$('.zoom_out')[ zoom > this.map.get('minZoom') ? 'removeClass' : 'addClass' ]('disabled')\n  },\n\n  zoom_in: function(ev) {\n    if (this.map.get(\"maxZoom\") > this.map.getZoom()) {\n      this.map.setZoom(this.map.getZoom() + 1);\n    }\n    ev.preventDefault();\n    ev.stopPropagation();\n  },\n\n  zoom_out: function(ev) {\n    if (this.map.get(\"minZoom\") < this.map.getZoom()) {\n      this.map.setZoom(this.map.getZoom() - 1);\n    }\n    ev.preventDefault();\n    ev.stopPropagation();\n  }\n\n});\n/**\n * View to know which is the map zoom.\n *\n * Usage:\n *\n * var zoomInfo = new cdb.geo.ui.ZoomInfo({ model: map });\n * mapWrapper.$el.append(zoomInfo.render().$el);\n *\n */\n\n\ncdb.geo.ui.ZoomInfo = cdb.core.View.extend({\n\n  className: \"cartodb-zoom-info\",\n\n  initialize: function() {\n    this.model.bind(\"change:zoom\", this.render, this);\n  },\n\n  render: function() {\n    this.$el.html(this.model.get(\"zoom\"));\n    return this;\n  }\n});\n\n// MODELS & COLLECTIONS\n\n/*\n * Model for the legend item\n *\n * */\ncdb.geo.ui.LegendItemModel = cdb.core.Model.extend({\n\n  defaults: {\n    name: \"Untitled\",\n    visible:true,\n    value: \"\"\n  }\n\n});\n\n/*\n * Collection of items for a legend\n *\n * */\ncdb.geo.ui.LegendItems = Backbone.Collection.extend({\n  model: cdb.geo.ui.LegendItemModel\n});\n\n\n/*\n * Legend Model\n *\n **/\ncdb.geo.ui.LegendModel = cdb.core.Model.extend({\n\n  defaults: {\n    type: null,\n    show_title: false,\n    title: \"\",\n    template: \"\",\n    visible: true\n  },\n\n  initialize: function() {\n\n    this.items = new cdb.geo.ui.LegendItems(this.get(\"items\"));\n\n    this.items.bind(\"add remove reset change\", function() {\n      this.set({ items: this.items.toJSON() });\n    }, this);\n\n    this.bind(\"change:items\", this._onUpdateItems, this);\n    this.bind(\"change:title change:show_title\", this._onUpdateTitle, this);\n    this.bind(\"change:template\", this._onUpdateTemplate, this);\n\n  },\n\n  _onUpdateTemplate: function() {\n    this.template = this.get(\"template\");\n  },\n\n  _onUpdateTitle: function() {\n    this.title = this.get(\"title\");\n    this.show_title = this.get(\"show_title\");\n  },\n\n  _onUpdateItems: function() {\n    var items = this.get(\"items\");\n    this.items.reset(items);\n  }\n\n});\n\ncdb.geo.ui.Legends = Backbone.Collection.extend({\n  model: cdb.geo.ui.LegendModel\n});\n\n// VIEWS\n\n/*\n * Legend item\n *\n * */\ncdb.geo.ui.LegendItem = cdb.core.View.extend({\n\n  tagName: \"li\",\n\n  initialize: function() {\n\n    _.bindAll(this, \"render\");\n\n    this.template = this.options.template ? _.template(this.options.template) : cdb.templates.getTemplate('geo/legend');\n\n  },\n\n  render: function() {\n\n    var value;\n    this.model.attributes.name = \"\"+this.model.attributes.name;\n    if (this.model.get(\"type\") == 'image' && this.model.get(\"value\")) {\n      value = \"url( \" + this.model.get(\"value\") + \")\";\n    } else {\n      value = this.model.get(\"value\");\n    }\n\n    var options = _.extend( this.model.toJSON(), { value: value });\n\n    this.$el.html(this.template(options));\n\n    return this.$el;\n  }\n\n});\n\n/*\n * Legend View: wrapper for the different types of lengeds\n *\n * */\ncdb.geo.ui.Legend = cdb.core.View.extend({\n\n  className: \"cartodb-legend\",\n\n  events: {\n    \"dragstart\":            \"_stopPropagation\",\n    \"mousedown\":            \"_stopPropagation\",\n    \"touchstart\":           \"_stopPropagation\",\n    \"MSPointerDown\":        \"_stopPropagation\",\n    \"dblclick\":             \"_stopPropagation\",\n    \"mousewheel\":           \"_stopPropagation\",\n    \"DOMMouseScroll\":       \"_stopPropagation\",\n    \"dbclick\":              \"_stopPropagation\",\n    \"click\":                \"_stopPropagation\"\n  },\n\n  initialize: function() {\n    _.bindAll(this, \"render\", \"show\", \"hide\");\n\n    _.defaults(this.options, this.default_options);\n\n    this.map = this.options.map;\n\n    this._setupModel();\n    this._setupItems();\n\n    this._updateLegendType();\n  },\n\n  _stopPropagation: function(ev) {\n    ev.stopPropagation();\n  },\n\n  _setupModel: function() {\n    if (!this.model) {\n\n      this.model = new cdb.geo.ui.LegendModel({\n        type: this.options.type || cdb.geo.ui.LegendModel.prototype.defaults.type,\n        title: this.options.title || cdb.geo.ui.LegendModel.prototype.defaults.title,\n        show_title: this.options.show_title || cdb.geo.ui.LegendModel.prototype.defaults.show_title,\n        template: this.options.template || cdb.geo.ui.LegendModel.prototype.defaults.template\n      });\n    }\n\n    this.add_related_model(this.model);\n\n    //this.model.bind(\"change:template change:type change:items change:title change:show_title\",  this._updateLegendType, this);\n    this.model.bind(\"change\",  this._updateLegendType, this);\n  },\n\n  _updateLegendType: function() {\n    var type = this.model.get(\"type\");\n    this.legend_name = this._capitalize(type) + \"Legend\";\n\n    if (type == 'none' || type == null) {\n      this.legend_name = null;\n      this.model.set({ type: \"none\" }, { silent: true });\n    } else if (!cdb.geo.ui[this.legend_name]) {\n\n      // set the previous type\n      this.legend_name = null;\n      this.model.set({ type: this.model.previous(\"type\") }, { silent: true });\n      return;\n    }\n\n    this._refresh();\n  },\n\n  _capitalize: function(string) {\n    if (string && _.isString(string)) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n  },\n\n  _refresh: function() {\n    var self = this;\n\n    if (this.view) this.view.clean();\n\n    var type  = this.model.get(\"type\");\n    var title = this.model.get(\"title\");\n    var show_title = this.model.get(\"show_title\");\n    var template = this.model.get(\"template\");\n\n    if (type && this.legend_name) {\n      this.view = new cdb.geo.ui[this.legend_name]({\n        model: this.model\n      });\n\n      // Set the type as the element class for styling\n      this.$el.removeClass();\n      this.$el.addClass(this.className + \" \" + this.model.get(\"type\"));\n    } else {\n      this.hide();\n\n      this.$el.removeClass();\n      this.$el.addClass(this.className + \" none\");\n    }\n\n    this.render();\n  },\n\n  _setupItems: function() {\n    var self = this;\n\n    this.items = this.model.items;\n\n    if (this.options.data) {\n      this.items.reset(this.options.data);\n    }\n\n    this.items.bind(\"add remove change:value change:name\", this.render, this);\n  },\n\n  render: function() {\n    if (this.view) {\n\n      if (this.model.get(\"template\")) {\n        this.$el.html(this.view.render().$el.html());\n        this.$el.removeClass(this.model.get(\"type\"))\n        this.$el.addClass(\"wrapper\");\n      } else {\n        this.$el.html(this.view.render().$el.html());\n      }\n\n      if (this.model.get(\"visible\") === false) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n\n    return this;\n  },\n\n  show: function(callback) {\n    var type = this.model.get(\"type\");\n    if (type && type != \"none\") this.$el.show();\n  },\n\n  hide: function(callback) {\n    if (this.model.get(\"type\")) this.$el.hide();\n  }\n});\n\n/*\n * DebugLegend\n *\n * */\ncdb.geo.ui.DebugLegend = cdb.core.View.extend({ });\n\n/*\n * BaseLegend: common methods for all the legends\n *\n * */\ncdb.geo.ui.BaseLegend = cdb.core.View.extend({\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:template change:title change:show_title\", this.render, this);\n\n  },\n\n  addTo: function(element) {\n    $(element).html(this.render().$el);\n  },\n\n  setTitle: function(title) {\n    this.model.set(\"title\", title);\n  },\n\n  showTitle: function() {\n    this.model.set(\"show_title\", true);\n  },\n\n  hideTitle: function() {\n    this.model.set(\"show_title\", false);\n  }\n\n});\n\n/*\n * NoneLegend\n *\n * */\ncdb.geo.ui.NoneLegend  = cdb.geo.ui.BaseLegend.extend({ });\ncdb.geo.ui.Legend.None = cdb.core.View.extend({ });\n\n/*\n * ChoroplethLegend\n *\n * */\ncdb.geo.ui.ChoroplethLegend = cdb.geo.ui.BaseLegend.extend({\n\n  className: \"choropleth-legend\",\n\n  template: _.template('<% if (title && show_title) { %>\\n<div class=\"legend-title\"><%- title %></div><% } %><ul><li class=\"min\">\\t\\t<%- leftLabel %></li><li class=\"max\">\\t\\t<%- rightLabel %></li><li class=\"graph count_<%- buckets_count %>\">\\t<div class=\"colors\"><%= colors %>\\n\\t</div></li></ul>'),\n\n  initialize: function() {\n\n    this.items    = this.model.items;\n\n  },\n\n  _generateColorList: function() {\n\n    var colors = \"\";\n\n    if (this.model.get(\"colors\")) {\n      return _.map(this.model.get(\"colors\"), function(color) {\n        return '\\n\\t<div class=\"quartile\" style=\"background-color:' + color + '\"></div>';\n      }).join(\"\");\n    } else {\n\n      for (var i = 2; i < this.items.length; i++) {\n        var color = this.items.at(i).get(\"value\");\n        colors += '\\n\\t<div class=\"quartile\" style=\"background-color:'+color+'\"></div>';\n      }\n    }\n\n    return colors;\n\n  },\n\n  setLeftLabel: function(text) {\n\n    this.model.set(\"leftLabel\", text);\n\n  },\n\n  setRightLabel: function(text) {\n\n    this.model.set(\"rightLabel\", text);\n\n  },\n\n  setColors: function(colors) {\n\n    this.model.set(\"colors\", colors);\n\n  },\n\n  render: function() {\n\n    if (this.model.get(\"template\")) {\n\n      var template = _.template(cdb.core.sanitize.html(this.model.get(\"template\"), this.model.get('sanitizeTemplate')));\n      this.$el.html(template(this.model.toJSON()));\n\n    } else {\n\n\n      if (this.items.length >= 2) {\n\n        this.leftLabel  = this.items.at(0);\n        this.rightLabel = this.items.at(1);\n\n        var leftLabel   = this.model.get(\"leftLabel\")  || this.leftLabel.get(\"value\");\n        var rightLabel  = this.model.get(\"rightLabel\") || this.rightLabel.get(\"value\");\n\n        var colors = this._generateColorList();\n\n        var options = _.extend( this.model.toJSON(), { leftLabel: leftLabel, rightLabel: rightLabel, colors: colors, buckets_count: colors.length });\n\n        this.$el.html(this.template(options));\n      }\n    }\n\n    return this;\n\n  }\n\n});\n\n/*\n * DensityLegend\n *\n * */\ncdb.geo.ui.DensityLegend = cdb.geo.ui.BaseLegend.extend({\n\n  className: \"density-legend\",\n\n  template: _.template('<% if (title && show_title) { %>\\n<div class=\"legend-title\"><%- title %></div><% } %><ul><li class=\"min\">\\t<%- leftLabel %></li><li class=\"max\">\\t<%- rightLabel %></li><li class=\"graph count_<%- buckets_count %>\">\\t<div class=\"colors\"><%= colors %>\\n\\t</div></li></ul>'),\n\n  initialize: function() {\n\n    this.items    = this.model.items;\n\n  },\n\n  setLeftLabel: function(text) {\n\n    this.model.set(\"leftLabel\", text);\n\n  },\n\n  setRightLabel: function(text) {\n\n    this.model.set(\"rightLabel\", text);\n\n  },\n\n  setColors: function(colors) {\n\n    this.model.set(\"colors\", colors);\n\n  },\n\n  _generateColorList: function() {\n\n    var colors = \"\";\n\n    if (this.model.get(\"colors\")) {\n\n      return _.map(this.model.get(\"colors\"), function(color) {\n        return '\\n\\t\\t<div class=\"quartile\" style=\"background-color:' + color + '\"></div>';\n      }).join(\"\");\n\n    } else {\n\n      for (var i = 2; i < this.items.length; i++) {\n        var color = this.items.at(i).get(\"value\");\n        colors += '\\n\\t\\t<div class=\"quartile\" style=\"background-color:'+color+'\"></div>';\n      }\n    }\n\n    return colors;\n\n  },\n\n\n  render: function() {\n\n    if (this.model.get(\"template\")) {\n\n      var template = _.template(cdb.core.sanitize.html(this.model.get(\"template\"), this.model.get('sanitizeTemplate')));\n      this.$el.html(template(this.model.toJSON()));\n\n    } else {\n\n      if (this.items.length >= 2) {\n\n        this.leftLabel  = this.items.at(0);\n        this.rightLabel = this.items.at(1);\n\n        var leftLabel  = this.model.get(\"leftLabel\")  || this.leftLabel.get(\"value\");\n        var rightLabel = this.model.get(\"rightLabel\") || this.rightLabel.get(\"value\");\n\n        var colors = this._generateColorList();\n\n        var options = _.extend( this.model.toJSON(), { leftLabel: leftLabel, rightLabel: rightLabel, colors: colors, buckets_count: colors.length });\n\n        this.$el.html(this.template(options));\n      }\n    }\n\n    return this;\n\n  }\n\n});\n\n/*\n * Density Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Density = cdb.geo.ui.DensityLegend.extend({\n\n  type: \"density\",\n\n  className: \"cartodb-legend density\",\n\n  initialize: function() {\n\n    this.items    = this.options.items;\n\n    this.model = new cdb.geo.ui.LegendModel({\n      type:          this.type,\n      title:         this.options.title,\n      show_title:    this.options.title ? true : false,\n      leftLabel:     this.options.left || this.options.leftLabel,\n      rightLabel:    this.options.right || this.options.rightLabel,\n      colors:        this.options.colors,\n      buckets_count: this.options.colors ? this.options.colors.length : 0,\n      items:        this.options.items\n    });\n\n    this._bindModel();\n\n  },\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:colors change:template change:title change:show_title change:colors change:leftLabel change:rightLabel\", this.render, this);\n\n  },\n\n  _generateColorList: function() {\n\n    return _.map(this.model.get(\"colors\"), function(color) {\n      return '<div class=\"quartile\" style=\"background-color:' + color + '\"></div>';\n    }).join(\"\");\n\n  },\n\n  render: function() {\n\n    var options = _.extend(this.model.toJSON(), { colors: this._generateColorList() });\n\n    this.$el.html(this.template(options));\n\n    return this;\n\n  }\n\n});\n\n/*\n * IntensityLegend\n *\n * */\ncdb.geo.ui.IntensityLegend = cdb.geo.ui.BaseLegend.extend({\n\n  className: \"intensity-legend\",\n\n  template: _.template('<% if (title && show_title) { %>\\n<div class=\"legend-title\"><%- title %></div><% } %><ul><li class=\"min\">\\t<%- leftLabel %></li><li class=\"max\">\\t<%- rightLabel %></li><li class=\"graph\"></li></ul>'),\n\n  initialize: function() {\n\n    this.items       = this.model.items;\n\n  },\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:template\", this.render, this);\n\n  },\n\n  setColor: function(color) {\n\n    this.model.set(\"color\", color);\n\n  },\n\n  setLeftLabel: function(text) {\n\n    this.model.set(\"leftLabel\", text);\n\n  },\n\n  setRightLabel: function(text) {\n\n    this.model.set(\"rightLabel\", text);\n\n  },\n\n  _hexToRGB: function(hex) {\n\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n    return result ? {\n      r: parseInt(result[1], 16),\n      g: parseInt(result[2], 16),\n      b: parseInt(result[3], 16)\n    } : null;\n\n  },\n\n  _rgbToHex: function(r, g, b) {\n\n    function componentToHex(c) {\n      var hex = c.toString(16);\n      return hex.length == 1 ? \"0\" + hex : hex;\n    }\n\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n  },\n\n  _calculateMultiply: function(color, steps) {\n\n    var colorHex = this._hexToRGB(color);\n\n    if (colorHex) {\n\n      var r = colorHex.r;\n      var g = colorHex.g;\n      var b = colorHex.b;\n\n      for (var i = 0; i <= steps; i++) {\n        r = Math.round(r * colorHex.r/255);\n        g = Math.round(g * colorHex.g/255);\n        b = Math.round(b * colorHex.b/255);\n      }\n\n      return this._rgbToHex(r,g,b);\n\n    }\n\n    return \"#ffffff\";\n\n  },\n\n  _renderGraph: function(baseColor) {\n\n    var s = \"\";\n\n    s+= \"background: <%= color %>;\";\n    s+= \"background: -moz-linear-gradient(left, <%= color %> 0%, <%= right %> 100%);\";\n    s+= \"background: -webkit-gradient(linear, left top, right top, color-stop(0%,<%= color %>), color-stop(100%,<%= right %>));\";\n    s+= \"background: -webkit-linear-gradient(left, <%= color %> 0%,<%= right %> 100%);\";\n    s+= \"background: -o-linear-gradient(left, <%= color %> 0%,<%= right %> 100%);\";\n    s+= \"background: -ms-linear-gradient(left, <%= color %> 0%,<%= right %> 100%)\";\n    s+= \"background: linear-gradient(to right, <%= color %> 0%,<%= right %> 100%);\";\n    s+= \"filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='<%= color %>', endColorstr='<%= right %>',GradientType=1 );\";\n    s+= \"background-image: -ms-linear-gradient(left, <%= color %> 0%,<%= right %> 100%)\";\n\n    var backgroundStyle = _.template(s);\n\n    var multipliedColor = this._calculateMultiply(baseColor, 4);\n\n    this.$el.find(\".graph\").attr(\"style\", backgroundStyle({ color: baseColor, right: multipliedColor }));\n\n  },\n\n  render: function() {\n\n    if (this.model.get(\"template\")) {\n\n      var template = _.template(cdb.core.sanitize.html(this.model.get(\"template\"), this.model.get('sanitizeTemplate')));\n      this.$el.html(template(this.model.toJSON()));\n\n    } else {\n\n      if (this.items.length >= 3) {\n\n        this.leftLabel  = this.items.at(0);\n        this.rightLabel = this.items.at(1);\n        var color       = this.model.get(\"color\") || this.items.at(2).get(\"value\");\n\n        var leftLabel   = this.model.get(\"leftLabel\")  || this.leftLabel.get(\"value\");\n        var rightLabel  = this.model.get(\"rightLabel\") || this.rightLabel.get(\"value\");\n\n        var options = _.extend( this.model.toJSON(), { color: color, leftLabel: leftLabel, rightLabel: rightLabel });\n\n        this.$el.html(this.template(options));\n\n        this._renderGraph(color);\n      }\n\n    }\n\n    return this;\n\n  }\n\n});\n\n/*\n * CategoryLegend\n *\n * */\ncdb.geo.ui.CategoryLegend = cdb.geo.ui.BaseLegend.extend({\n\n  className: \"category-legend\",\n\n  template: _.template('<% if (title && show_title) { %>\\n<div class=\"legend-title\"><%- title %></div><% } %><ul></ul>'),\n\n  initialize: function() {\n\n    this.items = this.model.items;\n\n  },\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:title change:show_title change:template\", this.render, this);\n\n  },\n\n  _renderItems: function() {\n\n    this.items.each(this._renderItem, this);\n\n  },\n\n  _renderItem: function(item) {\n\n    view = new cdb.geo.ui.LegendItem({\n      model: item,\n      className: (item.get(\"value\") && item.get(\"value\").indexOf(\"http\") >= 0 || item.get(\"type\") && item.get(\"type\") == 'image') ? \"bkg\" : \"\",\n      template: '\\t\\t<div class=\"bullet\" style=\"background: <%= value %>\"></div> <%- name || ((name === false) ? \"false\": \"null\") %>'\n    });\n\n    this.$el.find(\"ul\").append(view.render());\n\n  },\n\n  render: function() {\n\n    if (this.model.get(\"template\")) {\n\n      var template = _.template(cdb.core.sanitize.html(this.model.get(\"template\"), this.model.get('sanitizeTemplate')));\n      this.$el.html(template(this.model.toJSON()));\n\n    } else {\n\n      this.$el.html(this.template(this.model.toJSON()));\n\n      if (this.items.length > 0) {\n        this._renderItems();\n      } else {\n        this.$el.html('<div class=\"warning\">The category legend is empty</div>');\n      }\n    }\n\n    return this;\n\n  }\n\n});\n\n/*\n * Category Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Category = cdb.geo.ui.CategoryLegend.extend({\n\n  className: \"cartodb-legend category\",\n\n  type: \"category\",\n\n  initialize: function() {\n\n    this.items = new cdb.geo.ui.LegendItems(this.options.data);\n\n    this.model = new cdb.geo.ui.LegendModel({\n      type: this.type,\n      title: this.options.title,\n      show_title: this.options.title ? true : false\n    });\n\n    this._bindModel();\n\n  },\n\n  render: function() {\n\n    this.$el.html(this.template(this.model.toJSON()));\n\n    this._renderItems();\n\n    return this;\n\n  }\n\n});\n\n/*\n * ColorLegend\n *\n * */\ncdb.geo.ui.ColorLegend = cdb.geo.ui.BaseLegend.extend({\n\n  className: \"color-legend\",\n\n  type: \"color\",\n\n  template: _.template('<% if (title && show_title) { %>\\n<div class=\"legend-title\"><%- title %></div><% } %><ul></ul>'),\n\n  initialize: function() {\n\n    this.items = this.model.items;\n\n  },\n\n  _renderItems: function() {\n\n    this.items.each(this._renderItem, this);\n\n  },\n\n  _renderItem: function(item) {\n\n    view = new cdb.geo.ui.LegendItem({\n      model: item,\n      className: (item.get(\"value\") && item.get(\"value\").indexOf(\"http\") >= 0) ? \"bkg\" : \"\",\n      template: '\\t\\t<div class=\"bullet\" style=\"background: <%= value %>\"></div> <%- name || ((name === false) ? \"false\": \"null\") %>'\n    });\n\n    this.$el.find(\"ul\").append(view.render());\n\n  },\n\n  render: function() {\n\n    this.$el.html(this.template(this.model.toJSON()));\n\n    if (this.items.length > 0) {\n      this._renderItems();\n    } else {\n      this.$el.html('<div class=\"warning\">The color legend is empty</div>');\n    }\n\n    return this;\n\n  }\n\n});\n\n/*\n * Color Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Color = cdb.geo.ui.Legend.Category.extend({ });\n\n/*\n * StackedLegend\n *\n * */\ncdb.geo.ui.StackedLegend = cdb.core.View.extend({\n\n  events: {\n    \"dragstart\":            \"_stopPropagation\",\n    \"mousedown\":            \"_stopPropagation\",\n    \"touchstart\":           \"_stopPropagation\",\n    \"MSPointerDown\":        \"_stopPropagation\",\n    \"dblclick\":             \"_stopPropagation\",\n    \"mousewheel\":           \"_stopPropagation\",\n    \"DOMMouseScroll\":       \"_stopPropagation\",\n    \"dbclick\":              \"_stopPropagation\",\n    \"click\":                \"_stopPropagation\"\n  },\n\n  className: \"cartodb-legend-stack\",\n\n  initialize: function() {\n    _.each(this.options.legends, this._setupBinding, this);\n  },\n\n  _stopPropagation: function(ev) {\n    ev.stopPropagation();\n  },\n\n  getLegendByIndex: function(index) {\n    if (!this._layerByIndex) {\n      this._layerByIndex = {};\n      var legends = this.options.legends;\n      for (var i = 0; i < legends.length; ++i) {\n        var legend = legends[i];\n        this._layerByIndex[legend.options.index] = legend;\n      }\n    }\n    return this._layerByIndex[index];\n  },\n\n  _setupBinding: function(legend) {\n    legend.model.bind(\"change:type\", this._checkVisibility, this);\n    this.add_related_model(legend.model);\n  },\n\n  render: function() {\n    this._renderItems();\n    this._checkVisibility();\n\n    return this;\n  },\n\n  _renderItems: function() {\n    _.each(this.options.legends, function(item) {\n      this.$el.append(item.render().$el);\n    }, this);\n  },\n\n  _checkVisibility: function() {\n    var visible = _.some(this.options.legends, function(legend) {\n      return legend.model.get(\"type\") && (legend.model.get(\"type\") != \"none\"  || legend.model.get(\"template\"))\n    }, this);\n\n    if (visible) {\n      this.show();\n    } else {\n      this.hide();\n    }\n\n    _.each(this.options.legends, function(item) {\n      var legendModel = item.model;\n      if (legendModel.get(\"type\") === \"none\" || legendModel.get(\"visible\") === false) {\n        item.hide();\n      } else {\n        item.show();\n      }\n    }, this);\n  },\n\n  show: function() {\n    this.$el.show();\n  },\n\n  hide: function() {\n    this.$el.hide();\n  },\n\n  addTo: function(element) {\n    $(element).html(this.render().$el);\n  }\n});\n\n\n/*\n * Stacked Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Stacked = cdb.geo.ui.StackedLegend.extend({\n\n  initialize: function() {\n\n    if (this.options.legends) {\n\n      var legendModels = _.map(this.options.legends, function(legend) {\n        return legend.model;\n      });\n\n      this.legendItems = new cdb.geo.ui.Legends(legendModels);\n\n      this.legendItems.bind(\"add remove change\", this.render, this);\n\n    } else if (this.options.data) {\n\n      var legendModels = _.map(this.options.data, function(legend) {\n        return new cdb.geo.ui.LegendModel(legend);\n      });\n\n      this.legendItems = new cdb.geo.ui.Legends(legendModels);\n\n      this.legendItems.bind(\"add remove change\", this.render, this);\n\n    }\n\n  },\n\n  _capitalize: function(string) {\n    if (string && _.isString(string)) {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n  },\n\n  render: function() {\n\n    this.$el.empty();\n\n    this.legends = [];\n\n    if (this.legendItems && this.legendItems.length > 0) {\n\n      this.legendItems.each(this._renderLegend, this);\n\n    }\n\n    return this;\n\n  },\n\n  _renderLegend: function(model) {\n\n    var type = model.get(\"type\");\n\n    if (!type) type = \"custom\";\n\n    type = this._capitalize(type);\n\n    var view = new cdb.geo.ui.Legend[type](model.attributes);\n\n    this.legends.push(view);\n\n    if (model.get(\"visible\") !== false) this.$el.append(view.render().$el);\n\n  },\n\n  getLegendAt: function(n) {\n\n    return this.legends[n];\n\n  },\n\n  addLegend: function(attributes) {\n\n    var legend = new cdb.geo.ui.LegendModel(attributes);\n    this.legendItems.push(legend);\n\n  },\n\n  removeLegendAt: function(n) {\n\n    var legend = this.legendItems.at(n);\n    this.legendItems.remove(legend);\n\n  }\n\n});\n\n/*\n * CustomLegend\n *\n * */\ncdb.geo.ui.CustomLegend = cdb.geo.ui.BaseLegend.extend({\n\n  className: \"custom-legend\",\n  type: \"custom\",\n\n  template: _.template('<% if (title && show_title) { %>\\n<div class=\"legend-title\"><%- title %></div><% } %><ul></ul>'),\n\n  initialize: function() {\n    this.items = this.model.items;\n  },\n\n  setData: function(data) {\n\n    this.items = new cdb.geo.ui.LegendItems(data);\n    this.model.items = this.items;\n    this.model.set(\"items\", data);\n\n  },\n\n  _renderItems: function() {\n\n    this.items.each(this._renderItem, this);\n\n  },\n\n  _renderItem: function(item) {\n\n    var template = this.options.itemTemplate || '\\t\\t<div class=\"bullet\" style=\"background:<%= value %>\"></div>\\n\\t\\t<%- name || \"null\" %>';\n\n    view = new cdb.geo.ui.LegendItem({\n      model: item,\n      className: (item.get(\"value\") && item.get(\"value\").indexOf(\"http\") >= 0) ? \"bkg\" : \"\",\n      template: template\n    });\n\n    this.$el.find(\"ul\").append(view.render());\n\n  },\n\n  render: function() {\n\n    if (this.model.get(\"template\")) {\n\n      var template = _.template(cdb.core.sanitize.html(this.model.get(\"template\"), this.model.get('sanitizeTemplate')));\n      this.$el.html(template(this.model.toJSON()));\n\n    } else {\n\n      this.$el.html(this.template(this.model.toJSON()));\n\n      if (this.items.length > 0) {\n        this._renderItems();\n      } else {\n        this.$el.html('<div class=\"warning\">The legend is empty</div>');\n      }\n    }\n\n    return this;\n\n  }\n\n});\n\n/*\n * Custom Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Custom = cdb.geo.ui.CustomLegend.extend({\n\n  className: \"cartodb-legend custom\",\n\n  type: \"custom\",\n\n  initialize: function() {\n\n    this.items = new cdb.geo.ui.LegendItems(this.options.data || this.options.items);\n\n    this.model = new cdb.geo.ui.LegendModel({\n      type: this.type,\n      title: this.options.title,\n      show_title: this.options.title ? true : false,\n      items: this.items.models,\n      template: this.options.template\n    });\n\n    this._bindModel();\n\n  },\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:items change:template change:title change:show_title\", this.render, this);\n\n  }\n\n});\n\n/*\n * BubbleLegend\n *\n * */\ncdb.geo.ui.BubbleLegend = cdb.geo.ui.BaseLegend.extend({\n\n  className: \"bubble-legend\",\n\n  template: _.template('<% if (title && show_title) { %>\\n<div class=\"legend-title\"><%- title %></div><% } %><ul><li>\\t<%- min %></li><li class=\"graph\">\\t\\t<div class=\"bubbles\"></div></li><li>\\t<%- max %></li></ul>'),\n\n  initialize: function() {\n\n    this.items = this.model.items;\n\n  },\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:template change:title change:show_title change:color change:min change:max\", this.render, this);\n\n  },\n\n  setColor: function(color) {\n    this.model.set(\"color\", color);\n  },\n\n  setMinValue: function(value) {\n    this.model.set(\"min\", value);\n  },\n\n  setMaxValue: function(value) {\n    this.model.set(\"max\", value);\n  },\n\n  _renderGraph: function(color) {\n    this.$el.find(\".graph\").css(\"background\", color);\n  },\n\n  render: function() {\n\n    if (this.model.get(\"template\")) {\n\n      var template = _.template(cdb.core.sanitize.html(this.model.get(\"template\"), this.model.get('sanitizeTemplate')));\n      this.$el.html(template(this.model.toJSON()));\n\n      this.$el.removeClass(\"bubble-legend\");\n\n    } else {\n\n      var color = this.model.get(\"color\") || (this.items.length >= 3 ? this.items.at(2).get(\"value\") : \"\");\n\n      if (this.items.length >= 3) {\n\n        var min = this.model.get(\"min\") || this.items.at(0).get(\"value\");\n        var max = this.model.get(\"max\") || this.items.at(1).get(\"value\");\n\n        var options = _.extend(this.model.toJSON(), { min: min, max: max });\n\n        this.$el.html(this.template(options));\n\n      }\n\n      this._renderGraph(color);\n    }\n\n    return this;\n\n  }\n\n});\n\n\n/*\n * Bubble Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Bubble = cdb.geo.ui.BubbleLegend.extend({\n\n  className: \"cartodb-legend bubble\",\n\n  type: \"bubble\",\n\n  initialize: function() {\n\n    this.model = new cdb.geo.ui.LegendModel({\n      type:  this.type,\n      title: this.options.title,\n      min:   this.options.min,\n      max:   this.options.max,\n      color: this.options.color,\n      show_title: this.options.title ? true : false\n    });\n\n    this.add_related_model(this.model);\n\n    this._bindModel();\n\n  },\n\n  render: function() {\n\n    this.$el.html(this.template(this.model.toJSON()));\n\n    this._renderGraph(this.model.get(\"color\"));\n\n    return this;\n\n  }\n\n});\n\n/*\n * Choropleth Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Choropleth = cdb.geo.ui.ChoroplethLegend.extend({\n\n  type: \"choropleth\",\n\n  className: \"cartodb-legend choropleth\",\n\n  initialize: function() {\n\n    this.items    = this.options.items;\n\n    this.model = new cdb.geo.ui.LegendModel({\n      type:          this.type,\n      title:         this.options.title,\n      show_title:    this.options.title ? true : false,\n      leftLabel:     this.options.left  || this.options.leftLabel,\n      rightLabel:    this.options.right || this.options.rightLabel,\n      colors:        this.options.colors,\n      buckets_count: this.options.colors ? this.options.colors.length : 0\n    });\n\n    this.add_related_model(this.model);\n    this._bindModel();\n\n  },\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:template change:title change:show_title change:colors change:leftLabel change:rightLabel\", this.render, this);\n\n  },\n\n  _generateColorList: function() {\n\n    return _.map(this.model.get(\"colors\"), function(color) {\n      return '\\t\\t<div class=\"quartile\" style=\"background-color:' + color + '\"></div>';\n    }).join(\"\");\n\n  },\n\n  render: function() {\n\n    var options = _.extend(this.model.toJSON(), { colors: this._generateColorList() });\n\n    this.$el.html(this.template(options));\n\n    return this;\n\n  }\n\n});\n\n\n/*\n * Intensity Legend public interface\n *\n * */\ncdb.geo.ui.Legend.Intensity = cdb.geo.ui.IntensityLegend.extend({\n\n  className: \"cartodb-legend intensity\",\n  type: \"intensity\",\n\n  initialize: function() {\n\n    this.items = this.options.items;\n\n    this.model = new cdb.geo.ui.LegendModel({\n      type: this.type,\n      title: this.options.title,\n      show_title: this.options.title ? true : false,\n      color: this.options.color,\n      leftLabel: this.options.left || this.options.leftLabel,\n      rightLabel: this.options.right || this.options.rightLabel\n    });\n\n    this.add_related_model(this.model);\n    this._bindModel();\n\n  },\n\n  _bindModel: function() {\n\n    this.model.bind(\"change:title change:show_title change:color change:leftLabel change:rightLabel\", this.render, this);\n\n  },\n\n  render: function() {\n\n    this.$el.html(this.template(this.model.toJSON()));\n\n    this._renderGraph(this.model.get(\"color\"));\n\n    return this;\n\n  }\n\n});\ncdb.geo.ui.SwitcherItemModel = Backbone.Model.extend({ });\n\ncdb.geo.ui.SwitcherItems = Backbone.Collection.extend({\n  model: cdb.geo.ui.SwitcherItemModel\n});\n\ncdb.geo.ui.SwitcherItem = cdb.core.View.extend({\n\n  tagName: \"li\",\n\n  events: {\n\n    \"click a\" : \"select\"\n\n  },\n\n  initialize: function() {\n\n    _.bindAll(this, \"render\");\n    this.template = cdb.templates.getTemplate('templates/map/switcher/item');\n    this.parent = this.options.parent;\n    this.model.on(\"change:selected\", this.render);\n\n  },\n\n  select: function(e) {\n    e.preventDefault();\n    this.parent.toggle(this);\n    var callback = this.model.get(\"callback\");\n\n    if (callback) {\n      callback();\n    }\n\n  },\n\n  render: function() {\n\n    if (this.model.get(\"selected\") == true) {\n      this.$el.addClass(\"selected\");\n    } else {\n      this.$el.removeClass(\"selected\");\n    }\n\n    this.$el.html(this.template(this.model.toJSON()));\n    return this.$el;\n\n  }\n\n});\n\ncdb.geo.ui.Switcher = cdb.core.View.extend({\n\n  id: \"switcher\",\n\n  default_options: {\n\n  },\n\n  initialize: function() {\n\n    this.map = this.model;\n\n    this.add_related_model(this.model);\n\n    _.bindAll(this, \"render\", \"show\", \"hide\", \"toggle\");\n\n    _.defaults(this.options, this.default_options);\n\n    if (this.collection) {\n      this.model.collection = this.collection;\n    }\n\n    this.template = this.options.template ? this.options.template : cdb.templates.getTemplate('geo/switcher');\n  },\n\n  show: function() {\n    this.$el.fadeIn(250);\n  },\n\n  hide: function() {\n    this.$el.fadeOut(250);\n  },\n\n  toggle: function(clickedItem) {\n\n    if (this.collection) {\n      this.collection.each(function(item) {\n        item.set(\"selected\", !item.get(\"selected\"));\n      });\n    }\n\n  },\n\n  render: function() {\n    var self = this;\n\n    if (this.model != undefined) {\n      this.$el.html(this.template(this.model.toJSON()));\n    }\n\n    if (this.collection) {\n\n      this.collection.each(function(item) {\n\n        var view = new cdb.geo.ui.SwitcherItem({ parent: self, className: item.get(\"className\"), model: item });\n        self.$el.find(\"ul\").append(view.render());\n\n      });\n    }\n\n    return this;\n  }\n\n});\n/** Usage:\n *\n * Add Infowindow model:\n *\n * var infowindowModel = new cdb.geo.ui.InfowindowModel({\n *   template_name: 'infowindow_light',\n *   latlng: [72, -45],\n *   offset: [100, 10]\n * });\n *\n * var infowindow = new cdb.geo.ui.Infowindow({\n *   model: infowindowModel,\n *   mapView: mapView\n * });\n *\n * Show the infowindow:\n * infowindow.showInfowindow();\n *\n */\n\ncdb.geo.ui.InfowindowModel = Backbone.Model.extend({\n\n  SYSTEM_COLUMNS: ['the_geom', 'the_geom_webmercator', 'created_at', 'updated_at', 'cartodb_id', 'cartodb_georef_status'],\n\n  defaults: {\n    template_name: 'infowindow_light',\n    latlng: [0, 0],\n    offset: [28, 0], // offset of the tip calculated from the bottom left corner\n    maxHeight: 180, // max height of the content, not the whole infowindow\n    autoPan: true,\n    template: \"\",\n    content: \"\",\n    visibility: false,\n    alternative_names: { },\n    fields: null // contains the fields displayed in the infowindow\n  },\n\n  clearFields: function() {\n    this.set({fields: []});\n  },\n\n  saveFields: function(where) {\n    where = where || 'old_fields';\n    this.set(where, _.clone(this.get('fields')));\n  },\n\n  fieldCount: function() {\n    var fields = this.get('fields')\n    if (!fields) return 0;\n    return fields.length\n  },\n\n  restoreFields: function(whiteList, from) {\n    from = from || 'old_fields';\n    var fields = this.get(from);\n    if(whiteList) {\n      fields = fields.filter(function(f) {\n        return _.contains(whiteList, f.name);\n      });\n    }\n    if(fields && fields.length) {\n      this._setFields(fields);\n    }\n    this.unset(from);\n  },\n\n  _cloneFields: function() {\n    return _(this.get('fields')).map(function(v) {\n      return _.clone(v);\n    });\n  },\n\n  _setFields: function(f) {\n    f.sort(function(a, b) { return a.position -  b.position; });\n    this.set({'fields': f});\n  },\n\n  sortFields: function() {\n    this.get('fields').sort(function(a, b) { return a.position - b.position; });\n  },\n\n  _addField: function(fieldName, at) {\n    var dfd = $.Deferred();\n    if(!this.containsField(fieldName)) {\n      var fields = this.get('fields');\n      if(fields) {\n        at = at === undefined ? fields.length: at;\n        fields.push({ name: fieldName, title: true, position: at });\n      } else {\n        at = at === undefined ? 0 : at;\n        this.set('fields', [{ name: fieldName, title: true, position: at }], { silent: true});\n      }\n    }\n    dfd.resolve();\n    return dfd.promise();\n  },\n\n  addField: function(fieldName, at) {\n    var self = this;\n    $.when(this._addField(fieldName, at)).then(function() {\n      self.sortFields();\n      self.trigger('change:fields');\n      self.trigger('add:fields');\n    });\n    return this;\n  },\n\n  getFieldProperty: function(fieldName, k) {\n    if(this.containsField(fieldName)) {\n      var fields = this.get('fields') || [];\n      var idx = _.indexOf(_(fields).pluck('name'), fieldName);\n      return fields[idx][k];\n    }\n    return null;\n  },\n\n  setFieldProperty: function(fieldName, k, v) {\n    if(this.containsField(fieldName)) {\n      var fields = this._cloneFields() || [];\n      var idx = _.indexOf(_(fields).pluck('name'), fieldName);\n      fields[idx][k] = v;\n      this._setFields(fields);\n    }\n    return this;\n  },\n\n  getAlternativeName: function(fieldName) {\n    return this.get(\"alternative_names\") && this.get(\"alternative_names\")[fieldName];\n  },\n\n  setAlternativeName: function(fieldName, alternativeName) {\n    var alternativeNames = this.get(\"alternative_names\") || [];\n\n    alternativeNames[fieldName] = alternativeName;\n    this.set({ 'alternative_names': alternativeNames });\n    this.trigger('change:alternative_names');\n  },\n\n  getFieldPos: function(fieldName) {\n    var p = this.getFieldProperty(fieldName, 'position');\n    if(p == undefined) {\n      return Number.MAX_VALUE;\n    }\n    return p;\n  },\n\n  containsAlternativeName: function(fieldName) {\n    var names = this.get('alternative_names') || [];\n    return names[fieldName];\n  },\n\n  containsField: function(fieldName) {\n    var fields = this.get('fields') || [];\n    return _.contains(_(fields).pluck('name'), fieldName);\n  },\n\n  removeField: function(fieldName) {\n    if(this.containsField(fieldName)) {\n      var fields = this._cloneFields() || [];\n      var idx = _.indexOf(_(fields).pluck('name'), fieldName);\n      if(idx >= 0) {\n        fields.splice(idx, 1);\n      }\n      this._setFields(fields);\n      this.trigger('remove:fields')\n    }\n    return this;\n  },\n\n  // updates content with attributes\n  updateContent: function(attributes) {\n    var fields = this.get('fields');\n    this.set('content', cdb.geo.ui.InfowindowModel.contentForFields(attributes, fields));\n  },\n\n  closeInfowindow: function(){\n  if (this.get('visibility')) {\n      this.set(\"visibility\", false);\n      this.trigger('close');\n    }\n  }\n\n}, {\n  contentForFields: function(attributes, fields, options) {\n    options = options || {};\n    var render_fields = [];\n    for(var j = 0; j < fields.length; ++j) {\n      var field = fields[j];\n      var value = attributes[field.name];\n      if(options.empty_fields || (value !== undefined && value !== null)) {\n        render_fields.push({\n          title: field.title ? field.name : null,\n          value: attributes[field.name],\n          index: j\n        });\n      }\n    }\n\n    // manage when there is no data to render\n    if (render_fields.length === 0) {\n      render_fields.push({\n        title: null,\n        value: 'No data available',\n        index: 0,\n        type: 'empty'\n      });\n    }\n\n    return {\n      fields: render_fields,\n      data: attributes\n    };\n  }\n});\n\ncdb.geo.ui.Infowindow = cdb.core.View.extend({\n  className: \"cartodb-infowindow\",\n\n  spin_options: {\n    lines: 10, length: 0, width: 4, radius: 6, corners: 1, rotate: 0, color: 'rgba(0,0,0,0.5)',\n    speed: 1, trail: 60, shadow: false, hwaccel: true, className: 'spinner', zIndex: 2e9,\n    top: 'auto', left: 'auto', position: 'absolute'\n  },\n\n  events: {\n    // Close bindings\n    \"click .close\":         \"_closeInfowindow\",\n    \"touchstart .close\":    \"_closeInfowindow\",\n    \"MSPointerDown .close\": \"_closeInfowindow\",\n    // Rest infowindow bindings\n    \"dragstart\":            \"_checkOrigin\",\n    \"mousedown\":            \"_checkOrigin\",\n    \"touchstart\":           \"_checkOrigin\",\n    \"MSPointerDown\":        \"_checkOrigin\",\n    \"dblclick\":             \"_stopPropagation\",\n    \"DOMMouseScroll\":       \"_stopBubbling\",\n    'MozMousePixelScroll':  \"_stopBubbling\",\n    \"mousewheel\":           \"_stopBubbling\",\n    \"dbclick\":              \"_stopPropagation\",\n    \"click\":                \"_stopPropagation\"\n  },\n\n  initialize: function(){\n    var self = this;\n\n    _.bindAll(this, \"render\", \"setLatLng\", \"_setTemplate\", \"_updatePosition\",\n      \"_update\", \"toggle\", \"show\", \"hide\");\n\n    this.mapView = this.options.mapView;\n\n    // Set template if it is defined in options\n    if (this.options.template) this.model.set('template', this.options.template);\n\n    // Set template view variable and\n    // compile it if it is necessary\n    if (this.model.get('template')) {\n      this._compileTemplate();\n    } else {\n      this._setTemplate();\n    }\n\n    this.model.bind('change:content',             this.render, this);\n    this.model.bind('change:template_name',       this._setTemplate, this);\n    this.model.bind('change:latlng',              this._update, this);\n    this.model.bind('change:visibility',          this.toggle, this);\n    this.model.bind('change:template',            this._compileTemplate, this);\n    this.model.bind('change:sanitizeTemplate',    this._compileTemplate, this);\n    this.model.bind('change:alternative_names',   this.render, this);\n    this.model.bind('change:width',               this.render, this);\n    this.model.bind('change:maxHeight',           this.render, this);\n\n    this.mapView.map.bind('change',             this._updatePosition, this);\n\n    this.mapView.bind('zoomstart', function(){\n      self.hide(true);\n    });\n\n    this.mapView.bind('zoomend', function() {\n      self.show(true);\n    });\n\n    this.add_related_model(this.mapView.map);\n\n    // Hide the element\n    this.$el.hide();\n  },\n\n\n  /**\n   *  Render infowindow content\n   */\n  render: function() {\n\n    if(this.template) {\n\n      // If there is content, destroy the jscrollpane first, then remove the content.\n      var $jscrollpane = this.$(\".cartodb-popup-content\");\n      if ($jscrollpane.length > 0 && $jscrollpane.data() != null) {\n        $jscrollpane.data().jsp && $jscrollpane.data().jsp.destroy();\n      }\n\n      // Clone fields and template name\n      var fields = _.map(this.model.attributes.content.fields, function(field){\n        return _.clone(field);\n      });\n      var data = this.model.get('content') ? this.model.get('content').data : {};\n\n      // If a custom template is not applied, let's sanitized\n      // fields for the template rendering\n      if (this.model.get('template_name')) {\n        var template_name = _.clone(this.model.attributes.template_name);\n\n        // Sanitized them\n        fields = this._fieldsToString(fields, template_name);\n      }\n\n      // Join plan fields values with content to work with\n      // custom infowindows and CartoDB infowindows.\n      var values = {};\n      _.each(this.model.get('content').fields, function(pair) {\n        values[pair.title] = pair.value;\n      })\n\n      var obj = _.extend({\n          content: {\n            fields: fields,\n            data: data\n          }\n        },values);\n\n      this.$el.html(\n        cdb.core.sanitize.html(this.template(obj), this.model.get('sanitizeTemplate'))\n      );\n\n      // Set width and max-height from the model only\n      // If there is no width set, we don't force our infowindow\n      if (this.model.get('width')) {\n        this.$('.cartodb-popup').css('width', this.model.get('width') + 'px');\n      }\n      this.$('.cartodb-popup .cartodb-popup-content').css('max-height', this.model.get('maxHeight') + 'px');\n\n      // Hello jscrollpane hacks!\n      // It needs some time to initialize, if not it doesn't render properly the fields\n      // Check the height of the content + the header if exists\n      var self = this;\n      setTimeout(function() {\n        var actual_height = self.$(\".cartodb-popup-content\").outerHeight();\n        if (self.model.get('maxHeight') <= actual_height)\n          self.$(\".cartodb-popup-content\").jScrollPane({\n            verticalDragMinHeight: 20,\n            autoReinitialise: true\n          });\n      }, 1);\n\n      // If the infowindow is loading, show spin\n      this._checkLoading();\n\n      // If the template is 'cover-enabled', load the cover\n      this._loadCover();\n\n      if(!this.isLoadingData()) {\n        this.model.trigger('domready', this, this.$el);\n        this.trigger('domready', this, this.$el);\n      }\n    }\n\n    return this;\n  },\n\n  _getModelTemplate: function() {\n    return this.model.get(\"template_name\")\n  },\n\n  /**\n   *  Change template of the infowindow\n   */\n  _setTemplate: function() {\n    if (this.model.get('template_name')) {\n      this.template = cdb.templates.getTemplate(this._getModelTemplate());\n      this.render();\n    }\n  },\n\n  /**\n   *  Compile template of the infowindow\n   */\n  _compileTemplate: function() {\n    var template = this.model.get('template') ?\n      this.model.get('template') :\n      cdb.templates.getTemplate(this._getModelTemplate());\n\n    if(typeof(template) !== 'function') {\n      this.template = new cdb.core.Template({\n        template: template,\n        type: this.model.get('template_type') || 'mustache'\n      }).asFunction()\n    } else {\n      this.template = template\n    }\n\n    this.render();\n  },\n\n  /**\n   *  Check event origin\n   */\n  _checkOrigin: function(ev) {\n    // If the mouse down come from jspVerticalBar\n    // dont stop the propagation, but if the event\n    // is a touchstart, stop the propagation\n    var come_from_scroll = (($(ev.target).closest(\".jspVerticalBar\").length > 0) && (ev.type != \"touchstart\"));\n\n    if (!come_from_scroll) {\n      ev.stopPropagation();\n    }\n  },\n\n  /**\n   *  Convert values to string unless value is NULL\n   */\n  _fieldsToString: function(fields, template_name) {\n    var fields_sanitized = [];\n    if (fields && fields.length > 0) {\n      var self = this;\n      fields_sanitized = _.map(fields, function(field,i) {\n        // Return whole attribute sanitized\n        return self._sanitizeField(field, template_name, field.index || i);\n      });\n    }\n    return fields_sanitized;\n  },\n\n  /**\n   *  Sanitize fields, what does it mean?\n   *  - If value is null, transform to string\n   *  - If value is an url, add it as an attribute\n   *  - Cut off title if it is very long (in header or image templates).\n   *  - If the value is a valid url, let's make it a link.\n   *  - More to come...\n   */\n  _sanitizeField: function(attr, template_name, pos) {\n    // Check null or undefined :| and set both to empty == ''\n    if (attr.value == null || attr.value == undefined) {\n      attr.value = '';\n    }\n\n    //Get the alternative title\n    var alternative_name = this.model.getAlternativeName(attr.title);\n\n    if (attr.title && alternative_name) {\n      // Alternative title\n      attr.title = alternative_name;\n    } else if (attr.title) {\n      // Remove '_' character from titles\n      attr.title = attr.title.replace(/_/g,' ');\n    }\n\n    // Cast all values to string due to problems with Mustache 0 number rendering\n    var new_value = attr.value.toString();\n\n    // If it is index 0, not any field type, header template type and length bigger than 30... cut off the text!\n    if (!attr.type && pos==0 && attr.value.length > 35 && template_name && template_name.search('_header_') != -1) {\n      new_value = attr.value.substr(0,32) + \"...\";\n    }\n\n    // If it is index 1, not any field type, header image template type and length bigger than 30... cut off the text!\n    if (!attr.type && pos==1 && attr.value.length > 35 && template_name && template_name.search('_header_with_image') != -1) {\n      new_value = attr.value.substr(0,32) + \"...\";\n    }\n\n    // Is it the value a link?\n    if (this._isValidURL(attr.value)) {\n      new_value = \"<a href='\" + attr.value + \"' target='_blank'>\" + new_value + \"</a>\"\n    }\n\n    // If it is index 0, not any field type, header image template type... don't cut off the text or add any link!!\n    if (pos==0 && template_name.search('_header_with_image') != -1) {\n      new_value = attr.value;\n    }\n\n    // Save new sanitized value\n    attr.value = new_value;\n\n    return attr;\n  },\n\n  isLoadingData: function() {\n    var content = this.model.get(\"content\");\n    return content.fields && content.fields.length == 1 && content.fields[0].type === \"loading\";\n  },\n\n  /**\n   *  Check if infowindow is loading the row content\n   */\n  _checkLoading: function() {\n    if (this.isLoadingData()) {\n      this._startSpinner();\n    } else {\n      this._stopSpinner();\n    }\n  },\n\n  /**\n   *  Stop loading spinner\n   */\n  _stopSpinner: function() {\n    if (this.spinner)\n      this.spinner.stop()\n  },\n\n  /**\n   *  Start loading spinner\n   */\n  _startSpinner: function($el) {\n    this._stopSpinner();\n\n    var $el = this.$el.find('.loading');\n\n    if ($el) {\n      // Check if it is dark or other to change color\n      var template_dark = this.model.get('template_name').search('dark') != -1;\n\n      if (template_dark) {\n        this.spin_options.color = '#FFF';\n      } else {\n        this.spin_options.color = 'rgba(0,0,0,0.5)';\n      }\n\n      this.spinner = new Spinner(this.spin_options).spin();\n      $el.append(this.spinner.el);\n    }\n  },\n\n  /**\n   *  Stop loading spinner\n   */\n  _containsCover: function() {\n    return this.$el.find(\".cartodb-popup.header\").attr(\"data-cover\") ? true : false;\n  },\n\n\n  /**\n   *  Get cover URL\n   */\n  _getCoverURL: function() {\n    var content = this.model.get(\"content\");\n\n    if (content && content.fields && content.fields.length > 0) {\n      return (content.fields[0].value || '').toString();\n    }\n\n    return false;\n  },\n\n  /**\n   *  Attempts to load the cover URL and show it\n   */\n  _loadCover: function() {\n\n    if (!this._containsCover()) return;\n\n    var self = this;\n    var $cover = this.$(\".cover\");\n    var $img = $cover.find(\"img\");\n    var $shadow = this.$(\".shadow\");\n    var url = this._getCoverURL();\n\n    if (!this._isValidURL(url)) {\n      $img.hide();\n      $shadow.hide();\n      cdb.log.info(\"Header image url not valid\");\n      return;\n    }\n\n    // configure spinner\n    var target  = document.getElementById('spinner');\n    var opts    = { lines: 9, length: 4, width: 2, radius: 4, corners: 1, rotate: 0, color: '#ccc', speed: 1, trail: 60, shadow: true, hwaccel: false, zIndex: 2e9 };\n    var spinner = new Spinner(opts).spin(target);\n\n    // create the image\n\n    $img.hide(function() {\n      this.remove();\n    });\n\n    $img = $(\"<img />\").attr(\"src\", url);\n    $cover.append($img);\n\n    $img.load(function(){\n      spinner.stop();\n\n      var w  = $img.width();\n      var h  = $img.height();\n      var coverWidth = $cover.width();\n      var coverHeight = $cover.height();\n\n      var ratio = h / w;\n      var coverRatio = coverHeight / coverWidth;\n\n      // Resize rules\n      if ( w > coverWidth && h > coverHeight) { // bigger image\n        if ( ratio < coverRatio ) $img.css({ height: coverHeight });\n        else {\n          var calculatedHeight = h / (w / coverWidth);\n          $img.css({ width: coverWidth, top: \"50%\", position: \"absolute\", \"margin-top\": -1*parseInt(calculatedHeight, 10)/2 });\n        }\n      } else {\n        var calculatedHeight = h / (w / coverWidth);\n        $img.css({ width: coverWidth, top: \"50%\", position: \"absolute\", \"margin-top\": -1*parseInt(calculatedHeight, 10)/2 });\n      }\n\n      $img.fadeIn(300);\n    })\n    .error(function(){\n      spinner.stop();\n    });\n  },\n\n  /**\n   *  Return true if the provided URL is valid\n   */\n  _isValidURL: function(url) {\n    if (url) {\n      var urlPattern = /^(http|ftp|https):\\/\\/[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&amp;:\\/~+#-|]*[\\w@?^=%&amp;\\/~+#-])?$/\n      return String(url).match(urlPattern) != null ? true : false;\n    }\n\n    return false;\n  },\n\n  /**\n   *  Toggle infowindow visibility\n   */\n  toggle: function() {\n    this.model.get(\"visibility\") ? this.show() : this.hide();\n  },\n\n  /**\n   *  Stop event bubbling\n   */\n  _stopBubbling: function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n  },\n\n  /**\n   *  Stop event propagation\n   */\n  _stopPropagation: function(ev) {\n    ev.stopPropagation();\n  },\n\n  /**\n   *  Set loading state adding its content\n   */\n  setLoading: function() {\n    this.model.set({\n      content:  {\n        fields: [{\n          title: null,\n          alternative_name: null,\n          value: 'Loading content...',\n          index: null,\n          type: \"loading\"\n        }],\n        data: {}\n      }\n    })\n    return this;\n  },\n\n  /**\n   *  Set loading state adding its content\n   */\n  setError: function() {\n    this.model.set({\n      content:  {\n        fields: [{\n          title: null,\n          alternative_name: null,\n          value: 'There has been an error...',\n          index: null,\n          type: 'error'\n        }],\n        data: {}\n      }\n    })\n    return this;\n  },\n\n  /**\n   * Set the correct position for the popup\n   */\n  setLatLng: function (latlng) {\n    this.model.set(\"latlng\", latlng);\n    return this;\n  },\n\n  /**\n   *  Close infowindow\n   */\n  _closeInfowindow: function(ev) {\n    if (ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    if (this.model.get(\"visibility\")) {\n       this.model.set(\"visibility\", false);\n       this.trigger('close');\n    }\n  },\n\n  /**\n   *  Set visibility infowindow\n   */\n  showInfowindow: function() {\n    this.model.set(\"visibility\", true);\n  },\n\n  /**\n   *  Show infowindow (update, pan, etc)\n   */\n  show: function (no_pan) {\n    var self = this;\n\n    if (this.model.get(\"visibility\")) {\n      self.$el.css({ left: -5000 });\n      self._update(no_pan);\n    }\n  },\n\n  /**\n   *  Get infowindow visibility\n   */\n  isHidden: function () {\n    return !this.model.get(\"visibility\");\n  },\n\n  /**\n   *  Set infowindow to hidden\n   */\n  hide: function (force) {\n    if (force || !this.model.get(\"visibility\")) this._animateOut();\n  },\n\n  /**\n   *  Update infowindow\n   */\n  _update: function (no_pan) {\n\n    if(!this.isHidden()) {\n      var delay = 0;\n\n      if (!no_pan) {\n        var delay = this.adjustPan();\n      }\n\n      this._updatePosition();\n      this._animateIn(delay);\n    }\n  },\n\n  /**\n   *  Animate infowindow to show up\n   */\n  _animateIn: function(delay) {\n    if (!cdb.core.util.ie || (cdb.core.util.browser.ie && cdb.core.util.browser.ie.version > 8)) {\n      this.$el.css({\n        'marginBottom':'-10px',\n        'display': 'block',\n        'visibility':'visible',\n        opacity:0\n      });\n\n      this.$el\n      .delay(delay)\n      .animate({\n        opacity: 1,\n        marginBottom: 0\n      },300);\n    } else {\n      this.$el.show();\n    }\n  },\n\n  /**\n   *  Animate infowindow to disappear\n   */\n  _animateOut: function() {\n    if (!$.browser.msie || ($.browser.msie && parseInt($.browser.version) > 8 )) {\n      var self = this;\n      this.$el.animate({\n        marginBottom: \"-10px\",\n        opacity:      \"0\",\n        display:      \"block\"\n      }, 180, function() {\n        self.$el.css({visibility: \"hidden\"});\n      });\n    } else {\n      this.$el.hide();\n    }\n  },\n\n  /**\n   *  Update the position (private)\n   */\n  _updatePosition: function () {\n    if(this.isHidden()) return;\n\n    var\n    offset          = this.model.get(\"offset\"),\n    pos             = this.mapView.latLonToPixel(this.model.get(\"latlng\")),\n    x               = this.$el.position().left,\n    y               = this.$el.position().top,\n    containerHeight = this.$el.outerHeight(true),\n    containerWidth  = this.$el.width(),\n    left            = pos.x - offset[0],\n    size            = this.mapView.getSize(),\n    bottom          = -1*(pos.y - offset[1] - size.y);\n\n    this.$el.css({ bottom: bottom, left: left });\n  },\n\n  /**\n   *  Adjust pan to show correctly the infowindow\n   */\n  adjustPan: function () {\n    var offset = this.model.get(\"offset\");\n\n    if (!this.model.get(\"autoPan\") || this.isHidden()) { return; }\n\n    var\n    x               = this.$el.position().left,\n    y               = this.$el.position().top,\n    containerHeight = this.$el.outerHeight(true) + 15, // Adding some more space\n    containerWidth  = this.$el.width(),\n    pos             = this.mapView.latLonToPixel(this.model.get(\"latlng\")),\n    adjustOffset    = {x: 0, y: 0};\n    size            = this.mapView.getSize()\n    wait_callback   = 0;\n\n    if (pos.x - offset[0] < 0) {\n      adjustOffset.x = pos.x - offset[0] - 10;\n    }\n\n    if (pos.x - offset[0] + containerWidth > size.x) {\n      adjustOffset.x = pos.x + containerWidth - size.x - offset[0] + 10;\n    }\n\n    if (pos.y - containerHeight < 0) {\n      adjustOffset.y = pos.y - containerHeight - 10;\n    }\n\n    if (pos.y - containerHeight > size.y) {\n      adjustOffset.y = pos.y + containerHeight - size.y;\n    }\n\n    if (adjustOffset.x || adjustOffset.y) {\n      this.mapView.panBy(adjustOffset);\n      wait_callback = 300;\n    }\n\n    return wait_callback;\n  }\n\n});\n\ncdb.geo.ui.Header = cdb.core.View.extend({\n\n  className: 'cartodb-header',\n\n  initialize: function() {\n    var extra = this.model.get(\"extra\");\n\n    this.model.set({\n      title:            extra.title,\n      description:      extra.description,\n      show_title:       extra.show_title,\n      show_description: extra.show_description\n    }, { silent: true });\n  },\n\n  show: function() {\n    //var display        = this.model.get(\"display\");\n    var hasTitle       = this.model.get(\"title\") && this.model.get(\"show_title\");\n    var hasDescription = this.model.get(\"description\") && this.model.get(\"show_description\");\n\n    if (hasTitle || hasDescription) {\n      this.$el.show();\n      if (hasTitle)       this.$el.find(\".content div.title\").show();\n      if (hasDescription) this.$el.find(\".content div.description\").show();\n    }\n  },\n\n  // Add target attribute to all links\n  _setLinksTarget: function(str) {\n    if (!str) return str;\n    var reg = new RegExp(/<(a)([^>]+)>/g);\n    return str.replace(reg, \"<$1 target=\\\"_blank\\\"$2>\");\n  },\n\n  render: function() {\n    var data = _.clone(this.model.attributes);\n    data.title = cdb.core.sanitize.html(data.title);\n    data.description = this._setLinksTarget(cdb.core.sanitize.html(data.description));\n    this.$el.html(this.options.template(data));\n\n    if (this.options.slides) {\n      this.slides_controller = new cdb.geo.ui.SlidesController({\n        transitions: this.options.transitions,\n        slides: this.options.slides\n      });\n\n      this.$el.append(this.slides_controller.render().$el);\n    }\n\n    if (this.model.get(\"show_title\") || this.model.get(\"show_description\")) {\n      this.show();\n    } else {\n      this.hide();\n    }\n\n    return this;\n\n  }\n\n});\n/**\n *  UI component to place the map in the\n *  location found by the geocoder.\n *\n */\n\ncdb.geo.ui.Search = cdb.core.View.extend({\n\n  className: 'cartodb-searchbox',\n\n  _ZOOM_BY_CATEGORY: {\n    'building': 18,\n    'postal-area': 15,\n    'venue':18,\n    'region':8,\n    'address':18,\n    'country':5,\n    'county':8,\n    'locality':12,\n    'localadmin':11,\n    'neighbourhood':15,\n    'default': 12\n  },\n\n  events: {\n    \"click input[type='text']\": '_onFocus',\n    \"submit form\": '_onSubmit',\n    \"click\": '_stopPropagation',\n    \"dblclick\": '_stopPropagation',\n    \"mousedown\": '_stopPropagation'\n  },\n\n  options: {\n    searchPin: true,\n    infowindowTemplate: '<div class=\"cartodb-infowindow\">'+\n    '<div class=\"cartodb-popup v2 centered\">'+\n      '<a href=\"#close\" class=\"cartodb-popup-close-button close\">x</a>'+\n       '<div class=\"cartodb-popup-content-wrapper\">'+\n         '<p>{{ address }}</p>'+\n       '</div>'+\n       '<div class=\"cartodb-popup-tip-container\"></div>'+\n    '</div>',\n    infowindowWidth: 186,\n    infowindowOffset: [93, 90],\n    iconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAfCAYAAADXwvzvAAACuklEQVR4Ae3PQ+AsNxzA8e8vo/Xus237vVN9qW3b7qW2bdu2caxt29bu/meSmaTpqW63Pfc7wemTZPh9K/Xv3zhzxIgVrho0aMsLGo2N9o+iuYDwV02E5NJpM7d5fMGC515dMP/7l6dNMc+OGJY9Uq99cVMc33I4LOJXCQBQuXPBglNnDRm0Xa1RAWewP3yL/vJLul99Q/pNm0/b+qsnbLHngXAVgAI4b9KkXWc1m9vV58ykst56lKdMptyokdTKRJUIV1MMTGTgbOTknWABgFo2SSbOjuN9wlgIBrSIJ0yiVG9QUgGxUigRRAlpCQYrBs+A/QClliuXV6ppPVibDPPqi5irL8G+/QY2S3FZhityrLNYBWkAI2G5WTA2nGTthKDTJfP/FH1sCb76nNBa7I8/knba6Eyj8wJjLbk4qlCdAFNClWXKiiL72kGRUkSRhwUuTUm7XTqZ3z3KnMM7QhAFUfiKMZ9OQci+ydFFH32BIsDh8hxjDF2T0y0KtHHUczCg34P3wgesfWhZozstW1R/cJpuohA8dI7cWrSfxqM4gwEOnoJnn4HXBVDHwHnriNr2W3G0I8FEkKufMbjcIw1DC+iCuRw2OBduEYAKDD8drlkGlk6BHwAtIEDioD/QBnsnnHAI7A9YAAAGenwEnPuAd8+DewHcS+CeB3szvL0b7ADE/FWzYf5BCxa9dMvqa7oLll7WbTlsxKkDYRi9dPqhRz743L0PuKtOPMXtutHmm/InKf5Y6Co15Upl8qSCqVajXiEeUTRb6GqNIojoGaLEDwEA6B0KIKL8lH8JBeS/3AgK73qAPfc/tCLiAACUCmyvsJHnphwEAYFStNs/NoHgn2ATWPmlF54b/9GHH/Khn88/+9SywJx/+q0SsKTZbB45d/6CO0aNHnutv3kbYDQg9JAAIRDwF/0EjlkjUi3fkAMAAAAASUVORK5CYII=',\n    iconAnchor: [7, 31]\n  },\n\n  initialize: function() {\n    this.mapView = this.options.mapView;\n    this.template = this.options.template;\n  },\n\n  render: function() {\n    this.$el.html(this.template(this.options));\n    return this;\n  },\n\n  _stopPropagation: function(ev) {\n    if (ev) {\n      ev.stopPropagation();\n    }\n  },\n\n  _onFocus: function(ev) {\n    if (ev) {\n      ev.preventDefault();\n      $(ev.target).focus();\n    }\n  },\n\n  _showLoader: function() {\n    this.$('span.loader').show();\n  },\n\n  _hideLoader: function() {\n    this.$('span.loader').hide();\n  },\n\n  _onSubmit: function(ev) {\n    ev.preventDefault();\n    var self = this;\n    var address = this.$('input.text').val();\n\n    if (!address) {\n      return;\n    }\n\n    // Show geocoder loader\n    this._showLoader();\n    // Remove previous pin\n    this._destroySearchPin();\n    cdb.geo.geocoder.MAPZEN.geocode(address, function(places) {\n      self._onResult(places);\n      // Hide loader\n      self._hideLoader();\n    });\n  },\n\n  _onResult: function(places) {\n    var position = '';\n    var address = this.$('input.text').val();\n\n    if (places && places.length>0) {\n      var location = places[0];\n      var validBBox = this._isBBoxValid(location);\n\n      // Get BBox if possible and set bounds\n      if (validBBox) {\n        var s = parseFloat(location.boundingbox.south);\n        var w = parseFloat(location.boundingbox.west);\n        var n = parseFloat(location.boundingbox.north);\n        var e = parseFloat(location.boundingbox.east);\n\n        var centerLon = (w + e)/2;\n        var centerLat = (s + n)/2;\n        position = [centerLat, centerLon];\n        this.model.setBounds([ [ s, w ], [ n, e ] ]);\n      }\n\n      // If location is defined,\n      // let's store it\n      if (location.lat && location.lon) {\n        position = [location.lat, location.lon];\n      }\n\n      // In the case that BBox is not valid, let's\n      // center the map using the position\n      if (!validBBox) {\n        this.model.setCenter(position);\n        this.model.setZoom(this._getZoomByCategory(location.type));\n      }\n\n      if (this.options.searchPin) {\n        this._createSearchPin(position, address);\n      }\n    }\n  },\n\n  // Getting zoom for each type of location\n  _getZoomByCategory: function(type) {\n    if (type && this._ZOOM_BY_CATEGORY[type]) {\n      return this._ZOOM_BY_CATEGORY[type];\n    }\n    return this._ZOOM_BY_CATEGORY['default'];\n  },\n\n  _isBBoxValid: function(location) {\n    if(!location.boundingbox || location.boundingbox.south == location.boundingbox.north ||\n      location.boundingbox.east == location.boundingbox.west) {\n      return false;\n    }\n    return true;\n  },\n\n  _createSearchPin: function(position, address) {\n    this._destroySearchPin();\n    this._createPin(position, address);\n    this._createInfowindow(position, address);\n    this._bindEvents();\n  },\n\n  _destroySearchPin: function() {\n    this._unbindEvents();\n    this._destroyPin();\n    this._destroyInfowindow();\n  },\n\n  _createInfowindow: function(position, address) {\n    var infowindowModel = new cdb.geo.ui.InfowindowModel({\n      template: this.options.infowindowTemplate,\n      latlng: position,\n      width: this.options.infowindowWidth,\n      offset: this.options.infowindowOffset,\n      content: {\n        fields: [{\n          title: 'address',\n          value: address\n        }]\n      }\n    });\n\n    this._searchInfowindow = new cdb.geo.ui.Infowindow({\n      model: infowindowModel,\n      mapView: this.mapView\n    });\n\n    this.mapView.$el.append(this._searchInfowindow.el);\n    infowindowModel.set('visibility', true);\n  },\n\n  _destroyInfowindow: function() {\n    if (this._searchInfowindow) {\n      // Hide it and then destroy it (when animation ends)\n      this._searchInfowindow.hide(true);\n      var infowindow = this._searchInfowindow;\n      setTimeout(function() {\n        infowindow.clean();\n      }, 1000);\n    }\n  },\n\n  _createPin: function(position, address) {\n    this._searchPin = this.mapView._addGeomToMap(\n      new cdb.geo.Geometry({\n        geojson: { type: \"Point\", \"coordinates\": [ position[1], position[0] ] },\n        iconUrl: this.options.iconUrl,\n        iconAnchor: this.options.iconAnchor\n      })\n    );\n  },\n\n  _toggleSearchInfowindow: function() {\n    var infowindowVisibility = this._searchInfowindow.model.get('visibility');\n    this._searchInfowindow.model.set('visibility', !infowindowVisibility);\n  },\n\n  _destroyPin: function() {\n    if (this._searchPin) {\n      this.mapView._removeGeomFromMap(this._searchPin);\n      delete this._searchPin;\n    }\n  },\n\n  _bindEvents: function() {\n    this._searchPin && this._searchPin.bind('click', this._toggleSearchInfowindow, this);\n    this.mapView.bind('click', this._destroySearchPin, this);\n  },\n\n  _unbindEvents: function() {\n    this._searchPin && this._searchPin.unbind('click', this._toggleSearchInfowindow, this);\n    this.mapView.unbind('click', this._destroySearchPin, this);\n  },\n\n  clean: function() {\n    this._unbindEvents();\n    this._destroySearchPin();\n    this.elder('clean');\n  }\n\n});\n\n/**\n *  Layer selector: it allows to select the layers that will be shown in the map\n *  - It needs the mapview, the element template and the dropdown template\n *\n *  var layer_selector = new cdb.geo.ui.LayerSelector({\n *    mapView: mapView,\n *    template: element_template,\n *    dropdown_template: dropdown_template\n *  });\n */\n\ncdb.geo.ui.LayerSelector = cdb.core.View.extend({\n\n  className: 'cartodb-layer-selector-box',\n\n  events: {\n    \"click\":     '_openDropdown',\n    \"dblclick\":  'killEvent',\n    \"mousedown\": 'killEvent'\n  },\n\n  initialize: function() {\n    this.map = this.options.mapView.map;\n\n    this.mapView  = this.options.mapView;\n    this.mapView.bind('click zoomstart drag', function() {\n      this.dropdown && this.dropdown.hide()\n    }, this);\n    this.add_related_model(this.mapView);\n\n    this.layers = [];\n  },\n\n  render: function() {\n\n    this.$el.html(this.options.template(this.options));\n\n    this.dropdown = new cdb.ui.common.Dropdown({\n      className:\"cartodb-dropdown border\",\n      template: this.options.dropdown_template,\n      target: this.$el.find(\"a\"),\n      speedIn: 300,\n      speedOut: 200,\n      position: \"position\",\n      tick: \"right\",\n      vertical_position: \"down\",\n      horizontal_position: \"right\",\n      vertical_offset: 7,\n      horizontal_offset: 13\n    });\n\n    if (cdb.god) cdb.god.bind(\"closeDialogs\", this.dropdown.hide, this.dropdown);\n\n    this.$el.append(this.dropdown.render().el);\n\n    this._getLayers();\n    this._setCount();\n\n    return this;\n  },\n\n  _getLayers: function() {\n    var self = this;\n    this.layers = [];\n\n    _.each(this.map.layers.models, function(layer) {\n\n      if (layer.get(\"type\") == 'layergroup' || layer.get('type') === 'namedmap') {\n        var layerGroupView = self.mapView.getLayerByCid(layer.cid);\n        for (var i = 0 ; i < layerGroupView.getLayerCount(); ++i) {\n          var l = layerGroupView.getLayer(i);\n          var m = new cdb.core.Model(l);\n          m.set('order', i);\n          m.set('type', 'layergroup');\n\n          if (m.get(\"visible\") === undefined) m.set('visible', true);\n\n          m.bind('change:visible', function(model) {\n            this.trigger(\"change:visible\", model.get('visible'), model.get('order'), model);\n          }, self);\n\n          if(self.options.layer_names) {\n            m.set('layer_name', self.options.layer_names[i]);\n          } else {\n            m.set('layer_name', l.options.layer_name);\n          }\n\n          var layerView = self._createLayer('LayerViewFromLayerGroup', {\n            model: m,\n            layerView: layerGroupView,\n            layerIndex: i\n          });\n          layerView.bind('switchChanged', self._setCount, self);\n          self.layers.push(layerView);\n        }\n      } else if (layer.get(\"type\") === \"CartoDB\" || layer.get('type') === 'torque') {\n        var layerView = self._createLayer('LayerView', { model: layer });\n        layerView.bind('switchChanged', self._setCount, self);\n        self.layers.push(layerView);\n        layerView.model.bind('change:visible', function(model) {\n          this.trigger(\"change:visible\", model.get('visible'), model.get('order'), model);\n        }, self);\n      }\n\n    });\n  },\n\n  _createLayer: function(_class, opts) {\n    var layerView = new cdb.geo.ui[_class](opts);\n    this.$(\"ul\").append(layerView.render().el);\n    this.addView(layerView);\n    return layerView;\n  },\n\n  _setCount: function() {\n    var count = 0;\n    for (var i = 0, l = this.layers.length; i < l; ++i) {\n      var lyr = this.layers[i];\n\n      if (lyr.model.get('visible')) {\n        count++;\n      }\n    }\n\n    this.$('.count').text(count);\n    this.trigger(\"switchChanged\", this);\n  },\n\n  _openDropdown: function() {\n    this.dropdown.open();\n  }\n\n});\n\n\n\n\n\n\n/**\n *  View for each CartoDB layer\n *  - It needs a model to make it work.\n *\n *  var layerView = new cdb.geo.ui.LayerView({\n *    model: layer_model,\n *    layer_definition: layer_definition\n *  });\n *\n */\n\ncdb.geo.ui.LayerView = cdb.core.View.extend({\n\n  tagName: \"li\",\n\n  defaults: {\n    template: '\\\n      <a class=\"layer\" href=\"#/change-layer\"><%- layer_name %></a>\\\n      <a href=\"#switch\" class=\"right <%- visible ? \"enabled\" : \"disabled\" %> switch\"><span class=\"handle\"></span></a>\\\n    '\n  },\n\n  events: {\n    \"click\": '_onSwitchClick'\n  },\n\n  initialize: function() {\n\n    if (!this.model.has('visible')) this.model.set('visible', false);\n\n    this.model.bind(\"change:visible\", this._onSwitchSelected, this);\n\n    this.add_related_model(this.model);\n\n    this._onSwitchSelected();\n\n    // Template\n    this.template = this.options.template ? cdb.templates.getTemplate(this.options.template) : _.template(this.defaults.template);\n  },\n\n  render: function() {\n    var attrs = _.clone(this.model.attributes);\n    attrs.layer_name = attrs.layer_name || attrs.table_name;\n    this.$el.append(this.template(attrs));\n    return this;\n  },\n\n  /*\n  * Throw an event when the user clicks in the switch button\n  */\n  _onSwitchSelected: function() {\n    var enabled = this.model.get('visible');\n\n    // Change switch\n    this.$el.find(\".switch\")\n      .removeClass(enabled ? 'disabled' : 'enabled')\n      .addClass(enabled    ? 'enabled'  : 'disabled');\n\n    // Send trigger\n    this.trigger('switchChanged');\n\n  },\n\n  _onSwitchClick: function(e){\n    this.killEvent(e);\n\n    // Set model\n    this.model.set(\"visible\", !this.model.get(\"visible\"));\n  }\n\n});\n\n/**\n *  View for each layer from a layer group\n *  - It needs a model and the layer_definition to make it work.\n *\n *  var layerView = new cdb.geo.ui.LayerViewFromLayerGroup({\n *    model: layer_model,\n *    layerView: layweView\n *  });\n *\n */\n\ncdb.geo.ui.LayerViewFromLayerGroup = cdb.geo.ui.LayerView.extend({\n\n  _onSwitchSelected: function() {\n\n    cdb.geo.ui.LayerView.prototype._onSwitchSelected.call(this);\n    var sublayer = this.options.layerView.getSubLayer(this.options.layerIndex)\n    var visible = this.model.get('visible');\n\n    if (visible) {\n      sublayer.show();\n    } else {\n      sublayer.hide();\n    }\n  }\n});\ncdb.geo.ui.SlidesControllerItem = cdb.core.View.extend({\n\n  tagName: \"li\",\n\n  events: {\n    \"click a\": \"_onClick\",\n  },\n\n  template: cdb.core.Template.compile('<a href=\"#\" class=\"<%- transition_trigger %>\"></a>'),\n\n  initialize: function() {\n\n    this.model = new cdb.core.Model(this.options);\n    this.model.bind(\"change:active\", this._onChangeActive, this);\n\n  },\n\n  _onChangeActive: function(e) {\n\n    if (this.model.get(\"active\")) {\n      this.$el.find(\"a\").addClass(\"active\");\n    } else {\n      this.$el.find(\"a\").removeClass(\"active\");\n    }\n\n  },\n\n  _onClick: function(e) {\n    if (e) this.killEvent(e);\n    this.trigger(\"onClick\", this)\n  },\n\n  render: function() {\n\n    var options = _.extend({ transition_trigger: \"click\" }, this.options.transition_options);\n\n    this.$el.html(this.template(options));\n\n    this._onChangeActive();\n\n    return this;\n  }\n\n});\n\ncdb.geo.ui.SlidesController = cdb.core.View.extend({\n\n  defaults: {\n    show_counter: false\n  },\n\n  events: {\n    'click a.next': \"_next\",\n    'click a.prev': \"_prev\"\n  },\n\n  tagName: \"div\",\n\n  className: \"cartodb-slides-controller\",\n\n  template: cdb.core.Template.compile(\"<div class='slides-controller-content'><a href='#' class='prev'></a><% if (show_counter) {%><div class='counter'></div><% } else { %><ul></ul><% } %><a href='#' class='next'></a></div>\"),\n\n  initialize: function() {\n    this.slidesCount = this.options.transitions.length;\n    this.visualization = this.options.visualization;\n    this.slides = this.visualization.slides;\n  },\n\n  _prev: function(e) {\n    if (e) this.killEvent(e);\n    this.visualization.sequence.prev();\n  },\n\n  _next: function(e) {\n    if (e) this.killEvent(e);\n    this.visualization.sequence.next();\n  },\n\n  _renderDots: function() {\n\n    var currentActiveSlide = this.slides.state();\n\n    for (var i = 0; i < this.options.transitions.length; i++) {\n      var item = new cdb.geo.ui.SlidesControllerItem({ num: i, transition_options: this.options.transitions[i], active: i == currentActiveSlide });\n      item.bind(\"onClick\", this._onSlideClick, this);\n      this.$el.find(\"ul\").append(item.render().$el);\n    }\n\n  },\n\n  _renderCounter: function() {\n\n    var currentActiveSlide = this.slides.state();\n    var currentTransition = this.options.transitions[currentActiveSlide];\n\n    var $counter = this.$el.find(\".counter\");\n\n    if (currentTransition && currentTransition.transition_trigger === \"time\") {\n      $counter.addClass(\"loading\");\n    } else {\n      $counter.removeClass(\"loading\");\n    }\n\n    $counter.html((currentActiveSlide + 1) + \"/\" + this.options.transitions.length)\n  },\n\n  _onSlideClick: function(slide) {\n    this.visualization.sequence.current(slide.options.num);\n  },\n\n  render: function() {\n\n    var options = _.extend(this.defaults, this.options);\n\n    this.$el.html(this.template(options));\n\n    if (this.slides && this.options.transitions) {\n\n      if (options.show_counter) {\n        this._renderCounter(); // we render: 1/N\n      } else {\n        this._renderDots(); // we render a list of dots\n      }\n\n    }\n\n    return this;\n  }\n\n});\ncdb.geo.ui.MobileLayer = cdb.core.View.extend({\n\n  events: {\n    'click h3':    \"_toggle\",\n    \"dblclick\":  \"_stopPropagation\"\n  },\n\n  tagName: \"li\",\n\n  className: \"cartodb-mobile-layer has-toggle\",\n\n  template: cdb.core.Template.compile(\"<% if (show_title) { %><h3><%- layer_name %><% } %><a href='#' class='toggle<%- toggle_class %>'></a></h3>\"),\n\n  /**\n   *  Stop event propagation\n   */\n  _stopPropagation: function(ev) {\n    ev.stopPropagation();\n  },\n\n  initialize: function() {\n\n    _.defaults(this.options, this.default_options);\n\n    this.model.bind(\"change:visible\", this._onChangeVisible, this);\n\n  },\n\n  _onChangeVisible: function() {\n\n    this.$el.find(\".legend\")[ this.model.get(\"visible\") ? \"fadeIn\":\"fadeOut\"](150);\n    this.$el[ this.model.get(\"visible\") ? \"removeClass\":\"addClass\"](\"hidden\");\n\n    this.trigger(\"change_visibility\", this);\n\n  },\n\n  _toggle: function(e) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (this.options.hide_toggle) return;\n\n    this.model.set(\"visible\", !this.model.get(\"visible\"))\n\n  },\n\n  _renderLegend: function() {\n\n    if (!this.options.show_legends) return;\n\n    if (this.model.get(\"legend\") && (this.model.get(\"legend\").type == \"none\" || !this.model.get(\"legend\").type)) return;\n    if (this.model.get(\"legend\") && this.model.get(\"legend\").items && this.model.get(\"legend\").items.length == 0) return;\n\n    this.$el.addClass(\"has-legend\");\n\n    var legend = new cdb.geo.ui.Legend(this.model.get(\"legend\"));\n\n    legend.undelegateEvents();\n\n    this.$el.append(legend.render().$el);\n\n  },\n\n  _truncate: function(input, length) {\n    return input.substr(0, length-1) + (input.length > length ? '&hellip;' : '');\n  },\n\n  render: function() {\n\n    var layer_name = this.model.get(\"layer_name\");\n\n    layer_name = layer_name ? this._truncate(layer_name, 23) : \"untitled\";\n\n    var attributes = _.extend(\n      this.model.attributes,\n      {\n        layer_name:   this.options.show_title ? layer_name : \"\",\n        toggle_class: this.options.hide_toggle ? \" hide\" : \"\"\n      }\n    );\n\n    this.$el.html(this.template(_.extend(attributes, { show_title: this.options.show_title } )));\n\n\n    if (this.options.hide_toggle)   this.$el.removeClass(\"has-toggle\");\n    if (!this.model.get(\"visible\")) this.$el.addClass(\"hidden\");\n    if (this.model.get(\"legend\"))   this._renderLegend();\n\n    this._onChangeVisible();\n\n    return this;\n  }\n\n});\n\ncdb.geo.ui.Mobile = cdb.core.View.extend({\n\n  className: \"cartodb-mobile\",\n\n  events: {\n    \"click .cartodb-attribution-button\": \"_onAttributionClick\",\n    \"click .toggle\":                     \"_toggle\",\n    \"click .fullscreen\":                 \"_toggleFullScreen\",\n    \"click .backdrop\":                   \"_onBackdropClick\",\n    \"dblclick .aside\":                   \"_stopPropagation\",\n    \"dragstart .aside\":                  \"_checkOrigin\",\n    \"mousedown .aside\":                  \"_checkOrigin\",\n    \"touchstart .aside\":                 \"_checkOrigin\",\n    \"MSPointerDown .aside\":              \"_checkOrigin\",\n  },\n\n  initialize: function() {\n\n    _.bindAll(this, \"_toggle\", \"_reInitScrollpane\");\n\n    _.defaults(this.options, this.default_options);\n\n    this.hasLayerSelector = false;\n    this.layersLoading    = 0;\n\n    this.slides_data   = this.options.slides_data;\n    this.visualization = this.options.visualization;\n\n    if (this.visualization) {\n      this.slides      = this.visualization.slides;\n    }\n\n    this.mobileEnabled = /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\n    this.visibility_options = this.options.visibility_options || {};\n\n    this.mapView  = this.options.mapView;\n    this.map      = this.mapView.map;\n\n    this.template = this.options.template ? this.options.template : cdb.templates.getTemplate('geo/zoom');\n\n    this._selectOverlays();\n\n    this._setupModel();\n\n    window.addEventListener('orientationchange', _.bind(this.doOnOrientationChange, this));\n\n    this._addWheelEvent();\n\n  },\n\n  loadingTiles: function() {\n    if (this.loader) {\n      this.loader.show()\n    }\n\n    if (this.layersLoading === 0) {\n      this.trigger('loading');\n    }\n    this.layersLoading++;\n  },\n\n  loadTiles: function() {\n    if (this.loader) {\n      this.loader.hide();\n    }\n    this.layersLoading--;\n    // check less than 0 because loading event sometimes is\n    // thrown before visualization creation\n    if(this.layersLoading <= 0) {\n      this.layersLoading = 0;\n      this.trigger('load');\n    }\n  },\n\n  _selectOverlays: function() {\n\n    if (this.slides && this.slides_data) { // if there are slides…\n\n      var state = this.slides.state();\n\n      if (state == 0) this.overlays = this.options.overlays; // first slide == master vis\n      else {\n        this.overlays = this.slides_data[state - 1].overlays;\n      }\n    } else { // otherwise we load the regular overlays\n      this.overlays = this.options.overlays;\n    }\n\n  },\n\n  _addWheelEvent: function() {\n\n      var self    = this;\n      var mapView = this.options.mapView;\n\n      $(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange', function() {\n\n        if ( !document.fullscreenElement && !document.webkitFullscreenElement && !document.mozFullScreenElement && !document.msFullscreenElement) {\n          mapView.options.map.set(\"scrollwheel\", false);\n        }\n\n        mapView.invalidateSize();\n\n      });\n\n  },\n\n  _setupModel: function() {\n\n    this.model = new Backbone.Model({\n      open: false,\n      layer_count: 0\n    });\n\n    this.model.on(\"change:open\", this._onChangeOpen, this);\n    this.model.on(\"change:layer_count\", this._onChangeLayerCount, this);\n\n  },\n\n  /**\n   *  Check event origin\n   */\n  _checkOrigin: function(ev) {\n    // If the mouse down come from jspVerticalBar\n    // dont stop the propagation, but if the event\n    // is a touchstart, stop the propagation\n    var come_from_scroll = (($(ev.target).closest(\".jspVerticalBar\").length > 0) && (ev.type != \"touchstart\"));\n\n    if (!come_from_scroll) {\n      ev.stopPropagation();\n    }\n  },\n\n  _stopPropagation: function(ev) {\n    ev.stopPropagation();\n  },\n\n  _onBackdropClick: function(e) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.$el.find(\".backdrop\").fadeOut(250);\n    this.$el.find(\".cartodb-attribution\").fadeOut(250);\n\n  },\n\n  _onAttributionClick: function(e) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.$el.find(\".backdrop\").fadeIn(250);\n    this.$el.find(\".cartodb-attribution\").fadeIn(250);\n\n  },\n\n  _toggle: function(e) {\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.model.set(\"open\", !this.model.get(\"open\"));\n\n  },\n\n  _toggleFullScreen: function(ev) {\n\n    ev.stopPropagation();\n    ev.preventDefault();\n\n    var doc   = window.document;\n    var docEl = $(\"#map > div\")[0];\n\n    var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen;\n    var cancelFullScreen  = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen;\n\n    var mapView = this.options.mapView;\n\n    if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement) {\n\n      requestFullScreen.call(docEl);\n\n      if (mapView) {\n\n        mapView.options.map.set(\"scrollwheel\", true);\n\n      }\n\n    } else {\n\n      cancelFullScreen.call(doc);\n\n    }\n  },\n\n  _open: function() {\n\n    var right = this.$el.find(\".aside\").width();\n\n    this.$el.find(\".cartodb-header\").animate({ right: right }, 200)\n    this.$el.find(\".aside\").animate({ right: 0 }, 200)\n    this.$el.find(\".cartodb-attribution-button\").animate({ right: right + parseInt(this.$el.find(\".cartodb-attribution-button\").css(\"right\")) }, 200)\n    this.$el.find(\".cartodb-attribution\").animate({ right: right + parseInt(this.$el.find(\".cartodb-attribution-button\").css(\"right\")) }, 200)\n    this._initScrollPane();\n\n  },\n\n  _close: function() {\n\n    this.$el.find(\".cartodb-header\").animate({ right: 0 }, 200)\n    this.$el.find(\".aside\").animate({ right: - this.$el.find(\".aside\").width() }, 200)\n    this.$el.find(\".cartodb-attribution-button\").animate({ right: 20 }, 200)\n    this.$el.find(\".cartodb-attribution\").animate({ right: 20 }, 200)\n\n  },\n\n  default_options: {\n    timeout: 0,\n    msg: ''\n  },\n\n  _stopPropagation: function(ev) {\n    ev.stopPropagation();\n  },\n\n  doOnOrientationChange: function() {\n\n    switch(window.orientation)\n    {\n      case -90:\n      case 90: this.recalc(\"landscape\");\n        break;\n      default: this.recalc(\"portrait\");\n        break;\n    }\n  },\n\n  recalc: function(orientation) {\n\n    var height = $(\".legends > div.cartodb-legend-stack\").height();\n\n    if (this.$el.hasClass(\"open\") && height < 100 && !this.$el.hasClass(\"torque\")) {\n\n      this.$el.css(\"height\", height);\n      this.$el.find(\".top-shadow\").hide();\n      this.$el.find(\".bottom-shadow\").hide();\n\n    } else if (this.$el.hasClass(\"open\") && height < 100 && this.$el.hasClass(\"legends\") && this.$el.hasClass(\"torque\")) {\n\n      this.$el.css(\"height\", height + $(\".legends > div.torque\").height() );\n      this.$el.find(\".top-shadow\").hide();\n      this.$el.find(\".bottom-shadow\").hide();\n\n    }\n\n  },\n\n  _onChangeLayerCount: function() {\n\n    var layer_count = this.model.get(\"layer_count\");\n    var msg = layer_count + \" layer\" + (layer_count != 1 ? \"s\" : \"\");\n    this.$el.find(\".aside .layer-container > h3\").html(msg);\n\n  },\n\n  _onChangeOpen: function() {\n    this.model.get(\"open\") ? this._open() : this._close();\n  },\n\n  _createLayer: function(_class, opts) {\n    return new cdb.geo.ui[_class](opts);\n  },\n\n  _getLayers: function() {\n\n    this.layers = [];\n\n    // we add the layers to the array depending on the method used\n    // to sent us the layers\n    if (this.options.layerView) {\n      this._getLayersFromLayerView();\n    } else {\n      _.each(this.map.layers.models, this._getLayer, this);\n    }\n\n  },\n\n  _getLayersFromLayerView: function() {\n\n    if (this.options.layerView && this.options.layerView.model.get(\"type\") == \"layergroup\") {\n\n      this.layers = _.map(this.options.layerView.layers, function(l, i) {\n\n        var m = new cdb.core.Model(l);\n\n        m.set('order', i);\n        m.set('type', 'layergroup');\n        m.set('visible', l.visible);\n        m.set('layer_name', l.options.layer_name);\n\n        layerView = this._createLayer('LayerViewFromLayerGroup', {\n          model: m,\n          layerView: this.options.layerView,\n          layerIndex: i\n        });\n\n        return layerView.model;\n\n      }, this);\n\n    } else if (this.options.layerView && (this.options.layerView.model.get(\"type\") == \"torque\")) {\n\n      var layerView = this._createLayer('LayerView', { model: this.options.layerView.model });\n\n      this.layers.push(layerView.model);\n\n    }\n  },\n\n  _getLayer: function(layer) {\n\n    if (layer.get(\"type\") == 'layergroup' || layer.get('type') === 'namedmap') {\n\n      var layerGroupView = this.mapView.getLayerByCid(layer.cid);\n\n      for (var i = 0 ; i < layerGroupView.getLayerCount(); ++i) {\n\n        var l = layerGroupView.getLayer(i);\n        var m = new cdb.core.Model(l);\n\n        m.set('order', i);\n        m.set('type', 'layergroup');\n        m.set('visible', l.visible);\n        m.set('layer_name', l.options.layer_name);\n\n        layerView = this._createLayer('LayerViewFromLayerGroup', {\n          model: m,\n          layerView: layerGroupView,\n          layerIndex: i\n        });\n\n        this.layers.push(layerView.model);\n\n      }\n\n    } else if (layer.get(\"type\") === \"CartoDB\" || layer.get('type') === 'torque') {\n\n      if (layer.get('type') === 'torque')  {\n        layer.on(\"change:visible\", this._toggleSlider, this);\n      }\n\n      this.layers.push(layer);\n\n    }\n\n  },\n\n  _toggleSlider: function(m) {\n\n    if (m.get(\"visible\")) {\n      this.$el.addClass(\"with-torque\");\n      this.slider.show();\n    } else {\n      this.$el.removeClass(\"with-torque\");\n      this.slider.hide();\n    }\n\n  },\n\n  _reInitScrollpane: function() {\n    this.$('.scrollpane').data('jsp') && this.$('.scrollpane').data('jsp').reinitialise();\n  },\n\n  _bindOrientationChange: function() {\n\n    var self = this;\n\n    var onOrientationChange = function() {\n      $(\".cartodb-mobile .scrollpane\").css(\"max-height\", self.$el.height() - 30);\n      $('.cartodb-mobile .scrollpane').data('jsp') && $('.cartodb-mobile .scrollpane').data('jsp').reinitialise();\n    };\n\n    if (!window.addEventListener) {\n      window.attachEvent('orientationchange', onOrientationChange, this);\n    } else {\n      window.addEventListener('orientationchange', _.bind(onOrientationChange));\n    }\n\n  },\n\n  _renderOverlays: function() {\n\n    var hasSearchOverlay  = false;\n    var hasZoomOverlay    = false;\n    var hasLoaderOverlay  = false;\n    var hasLayerSelector  = false;\n\n    _.each(this.overlays, function(overlay) {\n\n      if (!this.visibility_options.search && overlay.type == 'search') {\n        if (this.visibility_options.search !== false && this.visibility_options.search !== \"false\") {\n          this._addSearch();\n          hasSearchOverlay = true;\n        }\n      }\n\n      if (!this.visibility_options.zoomControl && overlay.type === 'zoom') {\n        if (this.visibility_options.zoomControl !== \"false\") {\n          this._addZoom();\n          hasZoomOverlay = true;\n        }\n      }\n\n      if (!this.visibility_options.loaderControl && overlay.type === 'loader') {\n        if (this.visibility_options.loaderControl !== \"false\") {\n          this._addLoader();\n          hasLoaderOverlay = true;\n        }\n      }\n\n      if (overlay.type == 'fullscreen' && !this.mobileEnabled) {\n        this._addFullscreen();\n      }\n\n      if (overlay.type == 'header') {\n        this._addHeader(overlay);\n      }\n\n      if (overlay.type == 'layer_selector') {\n        hasLayerSelector = true;\n      }\n\n    }, this);\n\n    var search_visibility = this.visibility_options.search === true        || this.visibility_options.search === \"true\";\n    var zoom_visibility   = this.visibility_options.zoomControl === true   || this.visibility_options.zoomControl === \"true\";\n    var loader_visibility = this.visibility_options.loaderControl === true || this.visibility_options.loaderControl === \"true\";\n    var layer_selector_visibility  = this.visibility_options.layer_selector;\n\n    if (!hasSearchOverlay  && search_visibility) this._addSearch();\n    if (!hasZoomOverlay    && zoom_visibility)   this._addZoom();\n    if (!hasLoaderOverlay  && loader_visibility) this._addLoader();\n    if (layer_selector_visibility || hasLayerSelector && layer_selector_visibility == undefined) this.hasLayerSelector = true;\n\n  },\n\n  _initScrollPane: function() {\n\n    if (this.$scrollpane) return;\n\n    var self = this;\n\n    var height       = this.$el.height();\n    this.$scrollpane = this.$el.find(\".scrollpane\");\n\n    setTimeout(function() {\n      self.$scrollpane.css(\"max-height\", height - 60);\n      self.$scrollpane.jScrollPane({ showArrows: true });\n    }, 500);\n\n  },\n\n  _addZoom: function() {\n\n    var template = cdb.core.Template.compile('\\\n    <a href=\"#zoom_in\" class=\"zoom_in\">+</a>\\\n    <a href=\"#zoom_out\" class=\"zoom_out\">-</a>\\\n    <div class=\"info\"></div>', 'mustache'\n    );\n\n    var zoom = new cdb.geo.ui.Zoom({\n      model: this.options.map,\n      template: template\n    });\n\n    this.$el.append(zoom.render().$el);\n    this.$el.addClass(\"with-zoom\");\n\n  },\n\n  _addLoader: function() {\n\n    var template = cdb.core.Template.compile('<div class=\"loader\"></div>', 'mustache');\n\n    this.loader = new cdb.geo.ui.TilesLoader({\n      template: template\n    });\n\n    this.$el.append(this.loader.render().$el);\n    this.$el.addClass(\"with-loader\");\n\n  },\n\n  _addFullscreen: function() {\n\n    if (this.visibility_options.fullscreen != false) {\n      this.hasFullscreen = true;\n      this.$el.addClass(\"with-fullscreen\");\n    }\n\n  },\n\n  _addSearch: function() {\n\n    this.hasSearch = true;\n\n    var template = cdb.core.Template.compile('\\\n      <form>\\\n      <span class=\"loader\"></span>\\\n      <input type=\"text\" class=\"text\" placeholder=\"Search for places...\" value=\"\" />\\\n      <input type=\"submit\" class=\"submit\" value=\"\" />\\\n      </form>\\\n      ', 'mustache'\n    );\n\n    var search = new cdb.geo.ui.Search({\n      template: template,\n      mapView: this.mapView,\n      model: this.mapView.map\n    });\n\n    this.$el.find(\".aside\").prepend(search.render().$el);\n    this.$el.find(\".cartodb-searchbox\").show();\n    this.$el.addClass(\"with-search\");\n\n  },\n\n  _addHeader: function(overlay) {\n\n    this.hasHeader = true;\n\n    this.$header = this.$el.find(\".cartodb-header\");\n\n    var title_template = _.template('<div class=\"hgroup\"><% if (show_title) { %><div class=\"title\"><%= title %></div><% } %><% if (show_description) { %><div class=\"description\"><%= description %><% } %></div></div>');\n\n    var extra = overlay.options.extra;\n    var has_header = false;\n    var show_title = false, show_description = false;\n\n    if (extra) {\n\n      if (this.visibility_options.title || this.visibility_options.title != false && extra.show_title)      {\n        has_header = true;\n        show_title = true;\n      }\n\n      if (this.visibility_options.description || this.visibility_options.description != false && extra.show_description) {\n        has_header = true;\n        show_description = true;\n      }\n\n      if (this.slides) {\n        has_header = true;\n      }\n\n      var $hgroup = title_template({\n        title: cdb.core.sanitize.html(extra.title),\n        show_title:show_title,\n        description: cdb.core.sanitize.html(extra.description),\n        show_description: show_description\n      });\n\n      if (has_header) {\n        this.$el.addClass(\"with-header\");\n        this.$header.find(\".content\").append($hgroup);\n      }\n\n    }\n\n  },\n\n  _addAttributions: function() {\n\n    var attributions = \"\";\n\n    this.options.mapView.$el.find(\".leaflet-control-attribution\").hide(); // TODO: remove this from here\n\n    if (this.options.layerView) {\n\n      attributions = this.options.layerView.model.get(\"attribution\");\n      this.$el.find(\".cartodb-attribution\").append(attributions);\n\n    } else if (this.options.map.get(\"attribution\")) {\n\n      attributions = this.options.map.get(\"attribution\");\n\n      _.each(attributions, function(attribution) {\n        var $li = $(\"<li></li>\");\n        var $el = $li.html(attribution);\n        this.$el.find(\".cartodb-attribution\").append($li);\n      }, this);\n\n    }\n\n    if (attributions) {\n      this.$el.find(\".cartodb-attribution-button\").fadeIn(250);\n    }\n\n  },\n\n  _renderLayers: function() {\n\n    var hasLegendOverlay = this.visibility_options.legends;\n\n    var legends = this.layers.filter(function(layer) {\n      return layer.get(\"legend\") && layer.get(\"legend\").type !== \"none\"\n    });\n\n    var hasLegends = legends.length ? true : false;\n\n    if (!this.hasLayerSelector && !hasLegendOverlay) return;\n    if (!this.hasLayerSelector && !hasLegends) return;\n    if (this.layers.length == 0) return;\n    if (this.layers.length == 1 && !hasLegends) return;\n\n    this.$el.addClass(\"with-layers\");\n\n    this.model.set(\"layer_count\", 0);\n\n    if (!this.hasSearch) this.$el.find(\".aside .layer-container\").prepend(\"<h3></h3>\");\n\n    _.each(this.layers, this._renderLayer, this);\n\n  },\n\n  _renderLayer: function(data) {\n\n    var hasLegend = data.get(\"legend\") && data.get(\"legend\").type !== \"\" && data.get(\"legend\").type !== \"none\";\n\n    // When the layer selector is disabled, don't show the layer if it doesn't have legends\n    if (!this.hasLayerSelector && !hasLegend) return;\n    if (!this.hasLayerSelector && !data.get(\"visible\")) return;\n\n    var hide_toggle = (this.layers.length == 1 || !this.hasLayerSelector);\n\n    var show_legends = true;\n\n    if (this.visibility_options && this.visibility_options.legends !== undefined) {\n      show_legends = this.visibility_options.legends;\n    }\n\n    var layer = new cdb.geo.ui.MobileLayer({\n      model: data,\n      show_legends: show_legends,\n      show_title: !this.hasLayerSelector ? false : true,\n      hide_toggle: hide_toggle\n    });\n\n    this.$el.find(\".aside .layers\").append(layer.render().$el);\n\n    layer.bind(\"change_visibility\", this._reInitScrollpane, this);\n\n    this.model.set(\"layer_count\", this.model.get(\"layer_count\") + 1);\n\n  },\n\n  _renderTorque: function() {\n\n    if (this.options.torqueLayer) {\n\n      this.hasTorque = true;\n\n      this.slider = new cdb.geo.ui.TimeSlider({type: \"time_slider\", layer: this.options.torqueLayer, map: this.options.map, pos_margin: 0, position: \"none\" , width: \"auto\" });\n\n      this.slider.bind(\"time_clicked\", function() {\n        this.slider.toggleTime();\n      }, this);\n\n      this.$el.find(\".torque\").append(this.slider.render().$el);\n\n      if (this.options.torqueLayer.hidden) this.slider.hide();\n      else this.$el.addClass(\"with-torque\");\n    }\n\n  },\n\n  _renderSlidesController: function() {\n\n    if (this.slides) {\n\n      this.$el.addClass(\"with-slides\");\n\n      this.slidesController = new cdb.geo.ui.SlidesController({\n        show_counter: true,\n        transitions: this.options.transitions,\n        visualization: this.options.visualization,\n        slides: this.slides\n      });\n\n      this.$el.append(this.slidesController.render().$el);\n\n    }\n\n  },\n\n  render: function() {\n\n    this._bindOrientationChange();\n\n    this.$el.html(this.template(this.options));\n\n    this.$header = this.$el.find(\".cartodb-header\");\n    this.$header.show();\n\n    this._renderOverlays();\n\n    this._renderSlidesController();\n\n    this._addAttributions();\n\n    this._getLayers();\n    this._renderLayers();\n    this._renderTorque();\n\n    return this;\n\n  }\n\n});\n/**\n * Show or hide tiles loader\n *\n * Usage:\n *\n * var tiles_loader = new cdb.geo.ui.TilesLoader();\n * mapWrapper.$el.append(tiles_loader.render().$el);\n *\n */\n\n\ncdb.geo.ui.TilesLoader = cdb.core.View.extend({\n\n  className: \"cartodb-tiles-loader\",\n\n  default_options: {\n    animationSpeed: 500\n  },\n\n  initialize: function() {\n    _.defaults(this.options, this.default_options);\n    this.isVisible = 0;\n    this.template = this.options.template ? this.options.template : cdb.templates.getTemplate('geo/tiles_loader');\n  },\n\n  render: function() {\n    this.$el.html($(this.template(this.options)));\n    return this;\n  },\n\n  show: function(ev) {\n    if(this.isVisible) return;\n    if (!cdb.core.util.ie || (cdb.core.util.browser.ie && cdb.core.util.browser.ie.version >= 10)) {\n      this.$el.fadeTo(this.options.animationSpeed, 1)\n    } else {\n      this.$el.show();\n    }\n    this.isVisible++;\n  },\n\n  hide: function(ev) {\n    this.isVisible--;\n    if(this.isVisible > 0) return;\n    this.isVisible = 0;\n    if (!cdb.core.util.ie || (cdb.core.util.browser.ie && cdb.core.util.browser.ie.version >= 10)) {\n      this.$el.stop(true).fadeTo(this.options.animationSpeed, 0)\n    } else {\n      this.$el.hide();\n    }\n  },\n\n  visible: function() {\n    return this.isVisible > 0;\n  }\n\n});\n\ncdb.geo.ui.InfoBox = cdb.core.View.extend({\n\n  className: 'cartodb-infobox',\n  defaults: {\n    pos_margin: 20,\n    position: 'bottom|right',\n    width: 200\n  },\n\n  initialize: function() {\n    var self = this;\n    _.defaults(this.options, this.defaults);\n    if(this.options.layer) {\n      this.enable();\n    }\n    this.setTemplate(this.options.template || this.defaultTemplate, 'mustache');\n  },\n\n  setTemplate: function(tmpl) {\n    this.template = cdb.core.Template.compile(tmpl, 'mustache');\n  },\n\n  enable: function() {\n    if(this.options.layer) {\n      this.options.layer\n        .on('featureOver', function(e, latlng, pos, data) {\n          this.render(data).show();\n        }, this)\n        .on('featureOut', function() {\n          this.hide();\n        }, this);\n    }\n  },\n\n  disable: function() {\n    if(this.options.layer) {\n      this.options.layer.off(null, null, this);\n    }\n  },\n\n  // set position based on a string like \"top|right\", \"top|left\", \"bottom|righ\"...\n  setPosition: function(pos) {\n    var props = {};\n    if(pos.indexOf('top') !== -1) {\n      props.top = this.options.pos_margin;\n    } else if(pos.indexOf('bottom') !== -1) {\n      props.bottom = this.options.pos_margin;\n    }\n\n    if(pos.indexOf('left') !== -1) {\n      props.left = this.options.pos_margin;\n    } else if(pos.indexOf('right') !== -1) {\n      props.right = this.options.pos_margin;\n    }\n    this.$el.css(props);\n\n  },\n\n  render: function(data) {\n    this.$el.html( this.template(data) );\n    if(this.options.width) {\n      this.$el.css('width', this.options.width);\n    }\n    if(this.options.position) {\n      this.setPosition(this.options.position);\n    }\n    return this;\n  }\n\n});\n\n\ncdb.geo.ui.Tooltip = cdb.geo.ui.InfoBox.extend({\n\n  defaultTemplate: '<p>{{text}}</p>',\n  className: 'cartodb-tooltip',\n\n  defaults: {\n    vertical_offset: 0,\n    horizontal_offset: 0,\n    position: 'top|center'\n  },\n\n  initialize: function() {\n    if(!this.options.mapView) {\n      throw new Error(\"mapView should be present\");\n    }\n    this.options.template = this.options.template || this.defaultTemplate;\n    cdb.geo.ui.InfoBox.prototype.initialize.call(this);\n    this._filter = null;\n    this.showing = false;\n    this.showhideTimeout = null;\n  },\n\n  setLayer: function(layer) {\n    this.options.layer = layer;\n    return this;\n  },\n\n  /**\n   * sets a filter to open the tooltip. If the feature being hovered\n   * pass the filter the tooltip is shown\n   * setFilter(null) removes the filter\n   */\n  setFilter: function(f) {\n    this._filter = f;\n    return this;\n  },\n\n  setFields: function(fields) {\n    this.options.fields = fields;\n    return this;\n  },\n\n  setAlternativeNames: function(n) {\n    this.options.alternative_names = n;\n  },\n\n  enable: function() {\n    if(this.options.layer) {\n      // unbind previous events\n      this.options.layer.unbind(null, null, this);\n      this.options.layer\n        .on('mouseover', function(e, latlng, pos, data) {\n\n          if (this.options.fields && this.options.fields.length > 0) {\n\n            var non_valid_keys = ['fields', 'content'];\n\n            if (this.options.omit_columns) {\n              non_valid_keys = non_valid_keys.concat(this.options.omit_columns);\n            }\n\n            var c = cdb.geo.ui.InfowindowModel.contentForFields(data, this.options.fields, {\n              empty_fields: this.options.empty_fields\n            });\n\n            // Remove fields and content from data\n            // and make them visible for custom templates\n            data.content = _.omit(data, non_valid_keys);\n\n            // loop through content values\n            data.fields = c.fields;\n\n            // alternamte names\n            var names = this.options.alternative_names;\n            if (names) {\n              for(var i = 0; i < data.fields.length; ++i) {\n                var f = data.fields[i];\n                f.title = names[f.title] || f.title;\n              }\n            }\n            this.show(pos, data);\n            this.showing = true;\n          } else if (this.showing) {\n            this.hide();\n            this.showing = false;\n          }\n        }, this)\n        .on('mouseout', function() {\n          if (this.showing) {\n            this.hide();\n            this.showing = false;\n          }\n        }, this);\n      this.add_related_model(this.options.layer);\n    }\n  },\n\n  disable: function() {\n    if(this.options.layer) {\n      this.options.layer.unbind(null, null, this);\n    }\n    this.hide();\n    this.showing = false;\n  },\n\n  _visibility: function() {\n    var self = this;\n    clearTimeout(this.showhideTimeout);\n    this.showhideTimeout = setTimeout(self._showing ?\n      function() { self.$el.fadeIn(100); }\n      :\n      function() { self.$el.fadeOut(200); }\n    , 50);\n  },\n\n  hide: function() {\n    if (this._showing) {\n      this._showing = false;\n      this._visibility();\n    }\n  },\n\n  show: function(pos, data) {\n    if (this._filter && !this._filter(data)) {\n      return this;\n    }\n    this.render(data);\n    //this.elder('show', pos, data);\n    this.setPosition(pos);\n    if (!this._showing) {\n      this._showing = true;\n      this._visibility();\n    }\n    return this;\n  },\n\n  setPosition: function(point) {\n    var pos = this.options.position;\n    var height = this.$el.innerHeight();\n    var width = this.$el.innerWidth();\n    var mapViewSize = this.options.mapView.getSize();\n    var top = 0;\n    var left = 0;\n\n    // Vertically\n    if (pos.indexOf('top') !== -1) {\n      top = point.y - height;\n    } else if (pos.indexOf('middle') !== -1) {\n      top = point.y - (height/2);\n    } else { // bottom\n      top = point.y;\n    }\n\n    // Fix vertical overflow\n    if (top < 0) {\n      top = point.y;\n    } else if (top + height > mapViewSize.y) {\n      top = point.y - height;\n    }\n\n    // Horizontally\n    if(pos.indexOf('left') !== -1) {\n      left = point.x - width;\n    } else if(pos.indexOf('center') !== -1) {\n      left = point.x - (width/2);\n    } else { // right\n      left = point.x;\n    }\n\n    // Fix horizontal overflow\n    if (left < 0) {\n      left = point.x;\n    } else if (left + width > mapViewSize.x) {\n      left = point.x - width;\n    }\n\n    // Add offsets\n    top += this.options.vertical_offset;\n    left += this.options.horizontal_offset;\n\n    this.$el.css({\n      top:  top,\n      left: left\n    });\n  },\n\n  render: function(data) {\n    var sanitizedOutput = cdb.core.sanitize.html(this.template(data));\n    this.$el.html( sanitizedOutput );\n    return this;\n  }\n\n});\n/**\n *  FullScreen widget:\n *\n *  var widget = new cdb.ui.common.FullScreen({\n *    doc: \".container\", // optional; if not specified, we do the fullscreen of the whole window\n *    template: this.getTemplate(\"table/views/fullscreen\")\n *  });\n *\n */\n\ncdb.ui.common.FullScreen = cdb.core.View.extend({\n\n  tagName: 'div',\n  className: 'cartodb-fullscreen',\n\n  events: {\n    \"click a\": \"_toggleFullScreen\"\n  },\n\n  initialize: function() {\n    _.bindAll(this, 'render');\n    _.defaults(this.options, this.default_options);\n    this._addWheelEvent();\n  },\n\n  _addWheelEvent: function() {\n    var self    = this;\n    var mapView = this.options.mapView;\n\n    $(document).on('webkitfullscreenchange mozfullscreenchange fullscreenchange', function() {\n      if (!document.fullscreenElement && !document.webkitFullscreenElement && !document.mozFullScreenElement && !document.msFullscreenElement) {\n        if (self.model.get(\"allowWheelOnFullscreen\")) {\n          mapView.options.map.set(\"scrollwheel\", false);\n        }\n      }\n      mapView.invalidateSize();\n    });\n  },\n\n  _toggleFullScreen: function(ev) {\n    if (ev) {\n      this.killEvent(ev);\n    }\n\n    var doc   = window.document;\n    var docEl = doc.documentElement;\n\n    if (this.options.doc) { // we use a custom element\n      docEl = $(this.options.doc)[0];\n    }\n\n    var requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;\n    var cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;\n    var mapView = this.options.mapView;\n\n    if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {\n      if (docEl.webkitRequestFullScreen) {\n        // Cartodb.js #361 :: Full screen button not working on Safari 8.0.3 #361\n        // Safari has a bug that fullScreen doestn't work with Element.ALLOW_KEYBOARD_INPUT);\n        // Reference: Ehttp://stackoverflow.com/questions/8427413/webkitrequestfullscreen-fails-when-passing-element-allow-keyboard-input-in-safar\n        requestFullScreen.call(docEl, undefined);\n      } else {\n        // CartoDB.js #412 :: Fullscreen button is throwing errors\n        // Nowadays (2015/03/25), fullscreen is not supported in iOS Safari. Reference: http://caniuse.com/#feat=fullscreen\n        if (requestFullScreen) {\n          requestFullScreen.call(docEl);\n        }\n      }\n\n      if (mapView && this.model.get(\"allowWheelOnFullscreen\")) {\n        mapView.map.set(\"scrollwheel\", true);\n      }\n    } else {\n      cancelFullScreen.call(doc);\n    }\n  },\n\n  render: function() {\n    var options = _.extend(\n      this.options,\n      {\n        mapUrl: location.href || ''\n      }\n    );\n    this.$el.html(this.options.template(options));\n\n    if (!this._canFullScreenBeEnabled()) {\n      this.undelegateEvents();\n      cdb.log.info('FullScreen API is deprecated on insecure origins. See https://goo.gl/rStTGz for more details.');\n    }\n\n    return this;\n  },\n\n  _canFullScreenBeEnabled: function() {\n    if (this._isInIframe()) {\n      var parentUrl = document.referrer;\n      if (parentUrl.search('https:') !== 0) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  _isInIframe: function() {\n    try {\n      return window.self !== window.top;\n    } catch (e) {\n      return true;\n    }\n  }\n\n});\nfunction SubLayerFactory() {};\n\nSubLayerFactory.createSublayer = function(type, layer, position) {\n  type = type && type.toLowerCase();\n  if (!type || type === 'mapnik' || type === 'cartodb') {\n    return new CartoDBSubLayer(layer, position);\n  } else if (type === 'http') {\n    return new HttpSubLayer(layer, position);\n  } else {\n    throw 'Sublayer type not supported';\n  }\n};\n\nfunction SubLayerBase(_parent, position) {\n  this._parent = _parent;\n  this._position = position;\n  this._added = true;\n}\n\nSubLayerBase.prototype = {\n\n  toJSON: function() {\n    throw 'toJSON must be implemented';\n  },\n\n  isValid: function() {\n    throw 'isValid must be implemented';\n  },\n\n  remove: function() {\n    this._check();\n    this._parent.removeLayer(this._position);\n    this._added = false;\n    this.trigger('remove', this);\n    this._onRemove();\n  },\n\n  _onRemove: function() {},\n\n  toggle: function() {\n    this.get('hidden') ? this.show() : this.hide();\n    return !this.get('hidden');\n  },\n\n  show: function() {\n    if(this.get('hidden')) {\n      this.set({\n        hidden: false\n      });\n    }\n  },\n\n  hide: function() {\n    if(!this.get('hidden')) {\n      this.set({\n        hidden: true\n      });\n    }\n  },\n\n  set: function(new_attrs) {\n    this._check();\n    var def = this._parent.getLayer(this._position);\n    var attrs = def.options;\n    for(var i in new_attrs) {\n      attrs[i] = new_attrs[i];\n    }\n    this._parent.setLayer(this._position, def);\n    if (new_attrs.hidden !== undefined) {\n      this.trigger('change:visibility', this, new_attrs.hidden);\n    }\n    return this;\n  },\n\n  unset: function(attr) {\n    var def = this._parent.getLayer(this._position);\n    delete def.options[attr];\n    this._parent.setLayer(this._position, def);\n  },\n\n  get: function(attr) {\n    this._check();\n    var attrs = this._parent.getLayer(this._position);\n    return attrs.options[attr];\n  },\n\n  isVisible: function(){\n    return ! this.get('hidden');\n  },\n\n  _check: function() {\n    if(!this._added) throw \"sublayer was removed\";\n  },\n\n  _unbindInteraction: function() {\n    if(!this._parent.off) return;\n    this._parent.off(null, null, this);\n  },\n\n  _bindInteraction: function() {\n    if(!this._parent.on) return;\n    var self = this;\n    // binds a signal to a layer event and trigger on this sublayer\n    // in case the position matches\n    var _bindSignal = function(signal, signalAlias) {\n      signalAlias = signalAlias || signal;\n      self._parent.on(signal, function() {\n        var args = Array.prototype.slice.call(arguments);\n        if (parseInt(args[args.length - 1], 10) ==  self._position) {\n          self.trigger.apply(self, [signalAlias].concat(args));\n        }\n      }, self);\n    };\n    _bindSignal('featureOver');\n    _bindSignal('featureOut');\n    _bindSignal('featureClick');\n    _bindSignal('layermouseover', 'mouseover');\n    _bindSignal('layermouseout', 'mouseout');\n  },\n\n  _setPosition: function(p) {\n    this._position = p;\n  }\n};\n\n// give events capabilitues\n_.extend(SubLayerBase.prototype, Backbone.Events);\n\n\n// CartoDB / Mapnik sublayers\nfunction CartoDBSubLayer(layer, position) {\n  SubLayerBase.call(this, layer, position);\n  this._bindInteraction();\n\n  var layer = this._parent.getLayer(this._position);\n  // TODO: Test this\n  if (Backbone.Model && layer) {\n    this.infowindow = new Backbone.Model(layer.infowindow);\n    this.infowindow.bind('change', function() {\n      layer.infowindow = this.infowindow.toJSON();\n      this._parent.setLayer(this._position, layer);\n    }, this);\n  }\n};\n\nCartoDBSubLayer.prototype = _.extend({}, SubLayerBase.prototype, {\n\n  toJSON: function() {\n    var json = {\n      type: 'cartodb',\n      options: {\n        sql: this.getSQL(),\n        cartocss: this.getCartoCSS(),\n        cartocss_version: this.get('cartocss_version') || '2.1.0'\n      }\n    };\n\n    var interactivity = this.getInteractivity();\n    if (interactivity && interactivity.length > 0) {\n      json.options.interactivity = interactivity;\n      var attributes = this.getAttributes();\n      if (attributes.length > 0) {\n        json.options.attributes = {\n          id: 'cartodb_id',\n          columns: attributes\n        }\n      }\n    }\n\n    if (this.get('raster')) {\n      json.options.raster = true;\n      json.options.geom_column = \"the_raster_webmercator\";\n      json.options.geom_type = \"raster\";\n      json.options.raster_band = this.get('raster_band') || 0;\n      // raster needs 2.3.0 to work\n      json.options.cartocss_version = this.get('cartocss_version') || '2.3.0';\n    }\n    return json;\n  },\n\n  isValid: function() {\n    return this.get('sql') && this.get('cartocss');\n  },\n\n  _onRemove: function() {\n    this._unbindInteraction();\n  },\n\n  setSQL: function(sql) {\n    return this.set({\n      sql: sql\n    });\n  },\n\n  setCartoCSS: function(cartocss) {\n    return this.set({\n      cartocss: cartocss\n    });\n  },\n\n  setInteractivity: function(fields) {\n    return this.set({\n      interactivity: fields\n    });\n  },\n\n  setInteraction: function(active) {\n    this._parent.setInteraction(this._position, active);\n  },\n\n  getSQL: function() {\n    return this.get('sql');\n  },\n\n  getCartoCSS: function() {\n    return this.get('cartocss');\n  },\n\n  getInteractivity: function() {\n    var interactivity = this.get('interactivity');\n    if (interactivity) {\n      if (typeof(interactivity) === 'string') {\n        interactivity = interactivity.split(',');\n      }\n      return this._trimArrayItems(interactivity);\n    }\n  },\n\n  getAttributes: function() {\n    var columns = [];\n    if (this.get('attributes')) {\n      columns = this.get('attributes');\n    } else {\n      columns = _.map(this.infowindow.get('fields'), function(field){\n        return field.name;\n      });\n    }\n    return this._trimArrayItems(columns);\n  },\n\n  _trimArrayItems: function(array) {\n    return _.map(array, function(item) {\n      return item.trim();\n    })\n  }\n});\n\n// Http sublayer\n\nfunction HttpSubLayer(layer, position) {\n  SubLayerBase.call(this, layer, position);\n};\n\nHttpSubLayer.prototype = _.extend({}, SubLayerBase.prototype, {\n\n  toJSON: function() {\n    var json = {\n      type: 'http',\n      options: {\n        urlTemplate: this.getURLTemplate()\n      }\n    };\n\n    var subdomains = this.get('subdomains');\n    if (subdomains) {\n      json.options.subdomains = subdomains;\n    }\n\n    var tms = this.get('tms');\n    if (tms !== undefined) {\n      json.options.tms = tms;\n    }\n    return json;\n  },\n\n  isValid: function() {\n    return this.get('urlTemplate');\n  },\n\n  setURLTemplate: function(urlTemplate) {\n    return this.set({\n      urlTemplate: urlTemplate\n    });\n  },\n\n  setSubdomains: function(subdomains) {\n    return this.set({\n      subdomains: subdomains\n    });\n  },\n\n  setTms: function(tms) {\n    return this.set({\n      tms: tms\n    });\n  },\n\n  getURLTemplate: function(urlTemplate) {\n    return this.get('urlTemplate');\n  },\n\n  getSubdomains: function(subdomains) {\n    return this.get('subdomains');\n  },\n\n  getTms: function(tms) {\n    return this.get('tms');\n  }\n});\n\n/**\n * Wrapper for map properties returned by the tiler\n */\nfunction MapProperties(mapProperties) {\n  this.mapProperties = mapProperties;\n}\n\nMapProperties.prototype.getMapId = function() {\n  return this.mapProperties.layergroupid;\n}\n\n/**\n * Returns the index of a layer of a given type, as the tiler kwows it.\n *\n * @param {integer} index - number of layer of the specified type\n * @param {string} layerType - type of the layers\n */\nMapProperties.prototype.getLayerIndexByType = function(index, layerType) {\n  var layers = this.mapProperties.metadata && this.mapProperties.metadata.layers;\n\n  if (!layers) {\n    return index;\n  }\n\n  var tilerLayerIndex = {}\n  var j = 0;\n  for (var i = 0; i < layers.length; i++) {\n    if (layers[i].type == layerType) {\n      tilerLayerIndex[j] = i;\n      j++;\n    }\n  }\n  if (tilerLayerIndex[index] == undefined) {\n    return -1;\n  }\n  return tilerLayerIndex[index];\n}\n\n/**\n * Returns the index of a layer of a given type, as the tiler kwows it.\n *\n * @param {string|array} types - Type or types of layers\n */\nMapProperties.prototype.getLayerIndexesByType = function(types) {\n  var layers = this.mapProperties.metadata && this.mapProperties.metadata.layers;\n\n  if (!layers) {\n    return;\n  }\n  var layerIndexes = [];\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    var isValidType = layer.type !== 'torque';\n    if (types && types.length > 0) {\n      isValidType = isValidType && types.indexOf(layer.type) != -1\n    }\n    if (isValidType) {\n      layerIndexes.push(i);\n    }\n  }\n  return layerIndexes;\n}\n\nfunction MapBase(options) {\n  var self = this;\n\n  this.options = _.defaults(options, {\n    ajax: window.$ ? window.$.ajax : reqwest.compat,\n    pngParams: ['map_key', 'api_key', 'cache_policy', 'updated_at'],\n    gridParams: ['map_key', 'api_key', 'cache_policy', 'updated_at'],\n    cors: cdb.core.util.isCORSSupported(),\n    MAX_GET_SIZE: 2033,\n    force_cors: false,\n    instanciateCallback: function() {\n      return '_cdbc_' + self._callbackName();\n    }\n  });\n\n  this.mapProperties = null;\n  this.urls = null;\n  this.silent = false;\n  this.interactionEnabled = []; //TODO: refactor, include inside layer\n  this._timeout = -1;\n  this._createMapCallsStack = [];\n  this._createMapCallbacks = [];\n  this._waiting = false;\n  this.lastTimeUpdated = null;\n  this._refreshTimer = -1;\n\n  // build template url\n  if (!this.options.maps_api_template) {\n    this._buildMapsApiTemplate(this.options);\n  }\n}\n\nMapBase.BASE_URL = '/api/v1/map';\nMapBase.EMPTY_GIF = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n\nMapBase.prototype = {\n\n  _buildMapsApiTemplate: function(opts) {\n    var tilerProtocol = opts.tiler_protocol;\n    var tilerDomain = opts.tiler_domain;\n    var tilerPort = (opts.tiler_port != \"\") ? (\":\" + opts.tiler_port) : \"\";\n    var username = opts.user_name ? \"{user}.\" : \"\";\n    opts.maps_api_template = [tilerProtocol, \"://\", username, tilerDomain, tilerPort].join('');\n  },\n\n  createMap: function(callback) {\n    var self = this;\n    function invokeStackedCallbacks(data, err) {\n      var fn;\n      while(fn = self._createMapCallbacks.pop()) {\n        fn(data, err);\n      }\n    }\n    clearTimeout(this._timeout);\n    this._createMapCallsStack.push(invokeStackedCallbacks);\n    this._createMapCallbacks.push(callback);\n    this._timeout = setTimeout(function() {\n      self._createMap(invokeStackedCallbacks);\n    }, 4);\n  },\n\n  _createMap: function(callback) {\n    var self = this;\n    callback = callback || function() {};\n\n    // if the previous request didn't finish, queue it\n    if(this._waiting) {\n      return this;\n    }\n\n    this._createMapCallsStack = [];\n\n    // when it's a named map the number of layers is not known\n    // so fetch the map\n    if (!this.named_map && this.visibleLayers().length === 0) {\n      callback(null);\n      return;\n    }\n\n    // mark as the request is being done\n    this._waiting = true;\n    var req = null;\n    if (this._usePOST()) {\n      req = this._requestPOST;\n    } else {\n      req = this._requestGET;\n    }\n    var params = this._getParamsFromOptions(this.options);\n    req.call(this, params, callback);\n    return this;\n  },\n\n  _getParamsFromOptions: function(options) {\n    var params = [];\n    var extra_params = options.extra_params || {};\n    var api_key = options.map_key || options.api_key || extra_params.map_key || extra_params.api_key;\n\n    if(api_key) {\n      params.push(\"map_key=\" + api_key);\n    }\n\n    if(extra_params.auth_token) {\n      if (_.isArray(extra_params.auth_token)) {\n        for (var i = 0, len = extra_params.auth_token.length; i < len; i++) {\n          params.push(\"auth_token[]=\" + extra_params.auth_token[i]);\n        }\n      } else {\n        params.push(\"auth_token=\" + extra_params.auth_token);\n      }\n    }\n\n    if (this.stat_tag) {\n      params.push(\"stat_tag=\" + this.stat_tag);\n    }\n    return params;\n  },\n\n  _usePOST: function() {\n    if (this.options.cors) {\n      if (this.options.force_cors) {\n        return true;\n      }\n      // check payload size\n      var payload = JSON.stringify(this.toJSON());\n      if (payload.length > this.options.MAX_GET_SIZE) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  _requestPOST: function(params, callback) {\n    var self = this;\n    var ajax = this.options.ajax;\n\n    var loadingTime = cartodb.core.Profiler.metric('cartodb-js.layergroup.post.time').start();\n\n    ajax({\n      crossOrigin: true,\n      type: 'POST',\n      method: 'POST',\n      dataType: 'json',\n      contentType: 'application/json',\n      url: this._tilerHost() + this.endPoint + (params.length ? \"?\" + params.join('&'): ''),\n      data: JSON.stringify(this.toJSON()),\n      success: function(data) {\n        loadingTime.end();\n        // discard previous calls when there is another call waiting\n        if(0 === self._createMapCallsStack.length) {\n          if (data.errors) {\n            cartodb.core.Profiler.metric('cartodb-js.layergroup.post.error').inc();\n            callback(null, data);\n          } else {\n            callback(data);\n          }\n        }\n\n        self._requestFinished();\n      },\n      error: function(xhr) {\n        loadingTime.end();\n        cartodb.core.Profiler.metric('cartodb-js.layergroup.post.error').inc();\n        var err = { errors: ['unknow error'] };\n        if (xhr.status === 0) {\n          err = { errors: ['connection error'] };\n        }\n        try {\n          err = JSON.parse(xhr.responseText);\n        } catch(e) {}\n        if(0 === self._createMapCallsStack.length) {\n          callback(null, err);\n        }\n        self._requestFinished();\n      }\n    });\n  },\n\n  _requestGET: function(params, callback) {\n    var self = this;\n    var ajax = this.options.ajax;\n    var json = JSON.stringify(this.toJSON());\n    var compressor = this._getCompressor(json);\n    var endPoint = self.JSONPendPoint || self.endPoint;\n    compressor(json, 3, function(encoded) {\n      params.push(encoded);\n      var loadingTime = cartodb.core.Profiler.metric('cartodb-js.layergroup.get.time').start();\n      var host = self.options.dynamic_cdn ? self._host(): self._tilerHost();\n      ajax({\n        dataType: 'jsonp',\n        url: host + endPoint + '?' + params.join('&'),\n        jsonpCallback: self.options.instanciateCallback,\n        cache: !!self.options.instanciateCallback,\n        success: function(data) {\n          loadingTime.end();\n          if(0 === self._createMapCallsStack.length) {\n            // check for errors\n            if (data.errors) {\n              cartodb.core.Profiler.metric('cartodb-js.layergroup.get.error').inc();\n              callback(null, data);\n            } else {\n              callback(data);\n            }\n          }\n          self._requestFinished();\n        },\n        error: function(data) {\n          loadingTime.end();\n          cartodb.core.Profiler.metric('cartodb-js.layergroup.get.error').inc();\n          var err = { errors: ['unknow error'] };\n          try {\n            err = JSON.parse(xhr.responseText);\n          } catch(e) {}\n          if(0 === self._createMapCallsStack.length) {\n            callback(null, err);\n          }\n          self._requestFinished();\n        }\n      });\n    });\n  },\n\n  // returns the compressor depending on the size\n  // of the layer\n  _getCompressor: function(payload) {\n    var self = this;\n    if (this.options.compressor) {\n      return this.options.compressor;\n    }\n\n    payload = payload || JSON.stringify(this.toJSON());\n    if (!this.options.force_compress && payload.length < this.options.MAX_GET_SIZE) {\n      return function(data, level, callback) {\n        callback(\"config=\" + encodeURIComponent(data));\n      };\n    }\n\n    return function(data, level, callback) {\n      data = JSON.stringify({ config: data });\n      LZMA.compress(data, level, function(encoded) {\n        callback(\"lzma=\" + encodeURIComponent(cdb.core.util.array2hex(encoded)));\n      });\n    };\n\n  },\n\n  _requestFinished: function() {\n    var self = this;\n    this._waiting = false;\n    this.lastTimeUpdated = new Date().getTime();\n\n    // refresh layer when invalidation time has passed\n    clearTimeout(this._refreshTimer);\n    this._refreshTimer = setTimeout(function() {\n      self.invalidate();\n    }, this.options.refreshTime || (60*120*1000)); // default layergroup ttl\n\n    // check request queue\n    if(this._createMapCallsStack.length) {\n      var request = this._createMapCallsStack.pop();\n      this._createMap(request);\n    }\n  },\n\n  fetchAttributes: function(layer_index, feature_id, columnNames, callback) {\n    this._attrCallbackName = this._attrCallbackName || this._callbackName();\n    var ajax = this.options.ajax;\n    var loadingTime = cartodb.core.Profiler.metric('cartodb-js.named_map.attributes.time').start();\n    ajax({\n      dataType: 'jsonp',\n      url: this._attributesUrl(layer_index, feature_id),\n      jsonpCallback: '_cdbi_layer_attributes_' + this._attrCallbackName,\n      cache: true,\n      success: function(data) {\n        loadingTime.end();\n        callback(data);\n      },\n      error: function(data) {\n        loadingTime.end();\n        cartodb.core.Profiler.metric('cartodb-js.named_map.attributes.error').inc();\n        callback(null);\n      }\n    });\n  },\n\n  _callbackName: function() {\n    return cdb.core.util.uniqueCallbackName(JSON.stringify(this.toJSON()));\n  },\n\n  _attributesUrl: function(layer, feature_id) {\n    var host = this._host();\n    var url = [\n      host,\n      MapBase.BASE_URL.slice(1),\n      this.mapProperties.getMapId(),\n      this.mapProperties.getLayerIndexByType(this.getLayerIndexByNumber(layer), \"mapnik\"),\n      'attributes',\n      feature_id].join('/');\n\n    var extra_params = this.options.extra_params || {};\n    var token = extra_params.auth_token;\n    if (token) {\n      if (_.isArray(token)) {\n        var tokenParams = [];\n        for (var i = 0, len = token.length; i < len; i++) {\n          tokenParams.push(\"auth_token[]=\" + token[i]);\n        }\n        url += \"?\" + tokenParams.join('&')\n      } else {\n        url += \"?auth_token=\" + token\n      }\n    }\n    return url;\n  },\n\n  invalidate: function() {\n    this.mapProperties = null;\n    this.urls = null;\n    this.onLayerDefinitionUpdated();\n  },\n\n  getTiles: function(callback) {\n    var self = this;\n    if(self.mapProperties) {\n      callback && callback(self._layerGroupTiles(self.mapProperties, self.options.extra_params));\n      return this;\n    }\n    this.createMap(function(data, err) {\n      if(data) {\n        self.mapProperties = new MapProperties(data);\n        // if cdn_url is present, use it\n        if (data.cdn_url) {\n          self.options.cdn_url = self.options.cdn_url || {}\n          self.options.cdn_url = {\n            http: data.cdn_url.http || self.options.cdn_url.http,\n            https: data.cdn_url.https || self.options.cdn_url.https\n          }\n        }\n        self.urls = self._layerGroupTiles(self.mapProperties, self.options.extra_params);\n        callback && callback(self.urls);\n      } else {\n        if ((self.named_map !== null) && (err) ){\n          callback && callback(null, err);\n        } else if (self.visibleLayers().length === 0) {\n          callback && callback({\n            tiles: [MapBase.EMPTY_GIF],\n            grids: []\n          });\n          return;\n        } \n      }\n    });\n    return this;\n  },\n\n  isHttps: function() {\n    return this.options.maps_api_template.indexOf('https') === 0;\n  },\n\n  _layerGroupTiles: function(mapProperties, params) {\n    var grids = [];\n    var tiles = [];\n    var pngParams = this._encodeParams(params, this.options.pngParams);\n    var gridParams = this._encodeParams(params, this.options.gridParams);\n    var subdomains = this.options.subdomains || ['0', '1', '2', '3'];\n    if(this.isHttps()) {\n      subdomains = [null]; // no subdomain\n    }\n\n    var layerIndexes = mapProperties.getLayerIndexesByType(this.options.filter);\n    if (layerIndexes.length) {\n      var tileTemplate = '/' +  layerIndexes.join(',') +'/{z}/{x}/{y}';\n      var gridTemplate = '/{z}/{x}/{y}';\n\n      for(var i = 0; i < subdomains.length; ++i) {\n        var s = subdomains[i];\n        var cartodb_url = this._host(s) + MapBase.BASE_URL + '/' + mapProperties.getMapId();\n        tiles.push(cartodb_url + tileTemplate + \".png\" + (pngParams ? \"?\" + pngParams: '') );\n\n        for(var layer = 0; layer < this.layers.length; ++layer) {\n          var index = mapProperties.getLayerIndexByType(layer, \"mapnik\");\n          grids[layer] = grids[layer] || [];\n          grids[layer].push(cartodb_url + \"/\" + index +  gridTemplate + \".grid.json\" + (gridParams ? \"?\" + gridParams: ''));\n        }\n      }\n    } else {\n      tiles = [MapBase.EMPTY_GIF];\n    }\n\n    return {\n      tiles: tiles,\n      grids: grids\n    }\n  },\n\n  /**\n   * Change query of the tiles\n   * @params {str} New sql for the tiles\n   */\n  _encodeParams: function(params, included) {\n    if(!params) return '';\n    var url_params = [];\n    included = included || _.keys(params);\n    for(var i in included) {\n      var k = included[i]\n      var p = params[k];\n      if(p) {\n        if (_.isArray(p)) {\n          for (var j = 0, len = p.length; j < len; j++) {\n            url_params.push(k + \"[]=\" + encodeURIComponent(p[j]));\n          }\n        } else {\n          var q = encodeURIComponent(p);\n          q = q.replace(/%7Bx%7D/g,\"{x}\").replace(/%7By%7D/g,\"{y}\").replace(/%7Bz%7D/g,\"{z}\");\n          url_params.push(k + \"=\" + q);\n        }\n      }\n    }\n    return url_params.join('&')\n  },\n\n  onLayerDefinitionUpdated: function() {},\n\n  setSilent: function(b) {\n    this.silent = b;\n  },\n\n  _definitionUpdated: function() {\n    if(this.silent) return;\n    this.invalidate();\n  },\n\n  /**\n   * get tile json for layer\n   */\n  getTileJSON: function(layer, callback) {\n    layer = layer == undefined ? 0: layer;\n    var self = this;\n    this.getTiles(function(urls) {\n      if(!urls) {\n        callback(null);\n        return;\n      }\n      if(callback) {\n        callback(self._tileJSONfromTiles(layer, urls));\n      }\n    });\n  },\n\n  _tileJSONfromTiles: function(layer, urls, options) {\n    options = options || {};\n    var subdomains = options.subdomains || ['0', '1', '2', '3'];\n\n    function replaceSubdomain(t) {\n      var tiles = [];\n      for (var i = 0; i < t.length; ++i) {\n        tiles.push(t[i].replace('{s}', subdomains[i % subdomains.length]));\n      }\n      return tiles;\n    }\n\n    return {\n      tilejson: '2.0.0',\n      scheme: 'xyz',\n      grids: replaceSubdomain(urls.grids[layer]),\n      tiles: replaceSubdomain(urls.tiles),\n      formatter: function(options, data) { return data; }\n     };\n  },\n\n  _tilerHost: function() {\n    var opts = this.options;\n    return opts.maps_api_template.replace('{user}', opts.user_name);\n  },\n\n  _host: function(subhost) {\n    var opts = this.options;\n    var cdn_host = opts.cdn_url;\n    var has_empty_cdn = !cdn_host || (cdn_host && (!cdn_host.http && !cdn_host.https));\n\n    if (opts.no_cdn || has_empty_cdn) {\n      return this._tilerHost();\n    } else {\n      var protocol = this.isHttps() ? 'https': 'http';\n      var h = protocol + \"://\";\n      if (subhost) {\n        h += subhost + \".\";\n      }\n\n      var cdn_url = cdn_host[protocol];\n      // build default template url if the cdn url is not templatized\n      // this is for backwards compatiblity, ideally we should use the url\n      // that tiler sends to us right away\n      if (!this._isUserTemplateUrl(cdn_url)) {\n        cdn_url = cdn_url  + \"/{user}\";\n      }\n      h += cdn_url.replace('{user}', opts.user_name)\n\n      return h;\n    }\n  },\n\n  _isUserTemplateUrl: function(t) {\n    return t && t.indexOf('{user}') !== -1;\n  },\n\n  // Methods to operate with layers\n  getLayer: function(index) {\n    return _.clone(this.layers[index]);\n  },\n\n  getLayerCount: function() {\n    return this.layers ? this.layers.length: 0;\n  },\n\n  // given number inside layergroup \n  // returns the real index in tiler layergroup`\n  getLayerIndexByNumber: function(number) {\n    var layers = {}\n    var c = 0;\n    for(var i = 0; i < this.layers.length; ++i) {\n      var layer = this.layers[i];\n      layers[i] = c;\n      if(layer.options && !layer.options.hidden) {\n        ++c;\n      }\n    }\n    return layers[number];\n  },\n\n  /**\n   * return the layer number by index taking into\n   * account the hidden layers.\n   */\n  getLayerNumberByIndex: function(index) {\n    var layers = [];\n    for(var i = 0; i < this.layers.length; ++i) {\n      var layer = this.layers[i];\n      if(this._isLayerVisible(layer)) {\n        layers.push(i);\n      }\n    }\n    if (index >= layers.length) {\n      return -1;\n    }\n    return +layers[index];\n  },\n\n  visibleLayers: function() {\n    var layers = [];\n    for(var i = 0; i < this.layers.length; ++i) {\n      var layer = this.layers[i];\n      if (this._isLayerVisible(layer)) {\n        layers.push(layer);\n      }\n    }\n    return layers;\n  },\n\n  _isLayerVisible: function(layer) {\n    if (layer.options && 'hidden' in layer.options) {\n      return !layer.options.hidden;\n    }\n\n    return layer.visible !== false;\n  },\n\n  setLayer: function(layer, def) {\n    if(layer < this.getLayerCount() && layer >= 0) {\n      if (def.options.hidden) {\n        var i = this.interactionEnabled[layer];\n        if (i) {\n          def.interaction = true\n          this.setInteraction(layer, false);\n        }\n      } else {\n        if (this.layers[layer].interaction) {\n          this.setInteraction(layer, true);\n          delete this.layers[layer].interaction;\n        }\n      }\n      this.layers[layer] = _.clone(def);\n    }\n    this.invalidate();\n    return this;\n  },\n\n  getTooltipData: function(layer) {\n    var tooltip = this.layers[layer].tooltip;\n    if (tooltip && tooltip.fields && tooltip.fields.length) {\n      return tooltip;\n    }\n    return null;\n  },\n\n  getInfowindowData: function(layer) {\n    var lyr;\n    var infowindow = this.layers[layer].infowindow;\n    if (!infowindow && this.options.layer_definition && (lyr = this.options.layer_definition.layers[layer])) {\n      infowindow = lyr.infowindow;\n    }\n    if (infowindow && infowindow.fields && infowindow.fields.length > 0) {\n      return infowindow;\n    }\n    return null;\n  },\n\n  containInfowindow: function() {\n    var layers =  this.options.layer_definition.layers;\n    for(var i = 0; i < layers.length; ++i) {\n      var infowindow = layers[i].infowindow;\n      if (infowindow && infowindow.fields && infowindow.fields.length > 0) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  containTooltip: function() {\n    var layers =  this.options.layer_definition.layers;\n    for(var i = 0; i < layers.length; ++i) {\n      var tooltip = layers[i].tooltip;\n      if (tooltip && tooltip.fields && tooltip.fields.length) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  getSubLayer: function(index) {\n    var layer = this.layers[index];\n    layer.sub = layer.sub || SubLayerFactory.createSublayer(layer.type, this, index);\n    return layer.sub;\n  },\n\n  getSubLayerCount: function() {\n    return this.getLayerCount();\n  },\n\n  getSubLayers: function() {\n    var layers = []\n    for (var i = 0; i < this.getSubLayerCount(); ++i) {\n      layers.push(this.getSubLayer(i))\n    }\n    return layers;\n  }\n};\n\n// TODO: This is actually an AnonymousMap -> Rename?\nfunction LayerDefinition(layerDefinition, options) {\n  MapBase.call(this, options);\n  this.endPoint = MapBase.BASE_URL;\n  this.setLayerDefinition(layerDefinition, { silent: true });\n}\n\n/**\n * Generates the MapConfig definition for a list of sublayers.\n *\n * ``sublayers`` should be an array, an exception is thrown otherwise.\n *\n */\nLayerDefinition.layerDefFromSubLayers = function(sublayers) {\n\n  if(!sublayers || sublayers.length === undefined) throw new Error(\"sublayers should be an array\");\n\n  sublayers = _.map(sublayers, function(sublayer) {\n    var type = sublayer.type;\n    delete sublayer.type;\n    return {\n      type: type,\n      options: sublayer\n    }\n  });\n\n  var layerDefinition = {\n    version: '1.3.0',\n    stat_tag: 'API',\n    layers: sublayers\n  }\n\n  return new LayerDefinition(layerDefinition, {}).toJSON();\n};\n\nLayerDefinition.prototype = _.extend({}, MapBase.prototype, {\n\n  setLayerDefinition: function(layerDefinition, options) {\n    options = options || {};\n    this.version = layerDefinition.version || '1.0.0';\n    this.stat_tag = layerDefinition.stat_tag;\n    this.layers = _.clone(layerDefinition.layers);\n    if(!options.silent) {\n      this._definitionUpdated();\n    }\n  },\n\n  toJSON: function() {\n    var obj = {};\n    obj.version = this.version;\n    if(this.stat_tag) {\n      obj.stat_tag = this.stat_tag;\n    }\n    obj.layers = [];\n    var layers = this.visibleLayers();\n    for(var i = 0; i < layers.length; ++i) {\n      var sublayer = this.getSubLayer(this.getLayerNumberByIndex(i));\n      obj.layers.push(sublayer.toJSON());\n    }\n    return obj;\n  },\n\n  removeLayer: function(layer) {\n    if(layer < this.getLayerCount() && layer >= 0) {\n      this.layers.splice(layer, 1);\n      this.interactionEnabled.splice(layer, 1);\n      this._reorderSubLayers();\n      this.invalidate();\n    }\n    return this;\n  },\n\n  _reorderSubLayers: function() {\n    for(var i = 0; i < this.layers.length; ++i) {\n      var layer = this.layers[i];\n      if(layer.sub) {\n        layer.sub._setPosition(i);\n      }\n    }\n  },\n\n  addLayer: function(def, index) {\n    index = index === undefined ? this.getLayerCount(): index;\n    if(index <= this.getLayerCount() && index >= 0) {\n\n      var type = def.type || 'cartodb';\n      delete def.type;\n\n      this.layers.splice(index, 0, {\n        type: type,\n        options: def\n      });\n\n      var sublayer = this.getSubLayer(index);\n      if (sublayer.isValid()) {\n        this._definitionUpdated();\n      } else { // Remove it from the definition\n        sublayer.remove();\n        throw 'Layer definition should contain all the required attributes';\n      }\n    }\n    return this;\n  },\n\n  /**\n   * set interactivity attributes for a layer.\n   * if attributes are passed as first param layer 0 is\n   * set\n   */\n  setInteractivity: function(layer, attributes) {\n    if(attributes === undefined) {\n      attributes = layer;\n      layer = 0;\n    }\n\n    if(layer >= this.getLayerCount() && layer < 0) {\n      throw new Error(\"layer does not exist\");\n    }\n\n    if(typeof(attributes) == 'string') {\n      attributes = attributes.split(',');\n    }\n\n    for(var i = 0; i < attributes.length; ++i) {\n      attributes[i] = attributes[i].replace(/ /g, '');\n    }\n\n    this.layers[layer].options.interactivity = attributes;\n    this._definitionUpdated();\n    return this;\n  },\n\n  setQuery: function(layer, sql) {\n    if(sql === undefined) {\n      sql = layer;\n      layer = 0;\n    }\n    this.layers[layer].options.sql = sql\n    this._definitionUpdated();\n  },\n\n  getQuery: function(layer) {\n    layer = layer || 0;\n    return this.layers[layer].options.sql\n  },\n\n  /**\n   * Change style of the tiles\n   * @params {style} New carto for the tiles\n   */\n  setCartoCSS: function(layer, style, version) {\n    if(version === undefined) {\n      version = style;\n      style = layer;\n      layer = 0;\n    }\n\n    version = version || cartodb.CARTOCSS_DEFAULT_VERSION;\n\n    this.layers[layer].options.cartocss = style;\n    this.layers[layer].options.cartocss_version = version;\n    this._definitionUpdated();\n  },\n\n  /**\n   * adds a new sublayer to the layer with the sql and cartocss params\n   */\n  createSubLayer: function(attrs, options) {\n    this.addLayer(attrs);\n    return this.getSubLayer(this.getLayerCount() - 1);\n  }\n});\n\nfunction NamedMap(named_map, options) {\n  MapBase.call(this, options);\n  this.options.pngParams.push('auth_token')\n  this.options.gridParams.push('auth_token')\n  this.setLayerDefinition(named_map, options)\n  this.stat_tag = named_map.stat_tag;\n}\n\nNamedMap.prototype = _.extend({}, MapBase.prototype, {\n\n  getSubLayer: function(index) {\n    var layer = this.layers[index];\n    // for named maps we don't know how many layers are defined so\n    // we create the layer on the fly\n    if (!layer) {\n      layer = this.layers[index] = {\n        options: {}\n      };\n    }\n    layer.sub = layer.sub || SubLayerFactory.createSublayer(layer.type, this, index);\n    return layer.sub;\n  },\n\n  setLayerDefinition: function(named_map, options) {\n    options = options || {}\n    this.endPoint = MapBase.BASE_URL + '/named/' + named_map.name;\n    this.JSONPendPoint = MapBase.BASE_URL + '/named/' + named_map.name + '/jsonp';\n    this.layers = _.clone(named_map.layers) || [];\n    for(var i = 0; i < this.layers.length; ++i) {\n      var layer = this.layers[i];\n      layer.options = layer.options || { 'hidden': layer.visible === false };\n      layer.options.layer_name = layer.layer_name;\n    }\n    this.named_map = named_map;\n    var token = named_map.auth_token || options.auth_token;\n    if (token) {\n      this.setAuthToken(token);\n    }\n    if(!options.silent) {\n      this.invalidate();\n    }\n  },\n\n  setAuthToken: function(token) {\n    if(!this.isHttps()) {\n      throw new Error(\"https must be used when map has token authentication\");\n    }\n    this.options.extra_params = this.options.extra_params || {};\n    this.options.extra_params.auth_token = token;\n    this.invalidate();\n    return this;\n  },\n\n  setParams: function(attr, v) {\n    var params;\n    if (arguments.length === 2) {\n      params = {}\n      params[attr] = v;\n    } else {\n      params = attr;\n    }\n    if (!this.named_map.params) {\n      this.named_map.params = {};\n    }\n    for (var k in params) {\n      if (params[k] === undefined || params[k] === null) {\n        delete this.named_map.params[k];\n      } else {\n        this.named_map.params[k] = params[k];\n      }\n    }\n    this.invalidate();\n    return this;\n  },\n\n  toJSON: function() {\n    var payload = this.named_map.params || {};\n    for(var i = 0; i < this.layers.length; ++i) {\n      var layer = this.layers[i];\n      payload['layer' + i] = this._isLayerVisible(layer) ? 1 : 0;\n    }\n    return payload;\n  },\n\n  containInfowindow: function() {\n    var layers = this.layers || [];\n    for(var i = 0; i < layers.length; ++i) {\n      var infowindow = layers[i].infowindow;\n      if (infowindow && infowindow.fields && infowindow.fields.length > 0) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  containTooltip: function() {\n    var layers = this.layers || [];\n    for(var i = 0; i < layers.length; ++i) {\n      var tooltip = layers[i].tooltip;\n      if (tooltip) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  setSQL: function(sql) {\n    throw new Error(\"SQL is read-only in NamedMaps\");\n  },\n\n  setCartoCSS: function(sql) {\n    throw new Error(\"cartocss is read-only in NamedMaps\");\n  },\n\n  getCartoCSS: function() {\n    throw new Error(\"cartocss can't be accessed in NamedMaps\");\n  },\n\n  getSQL: function() {\n    throw new Error(\"SQL can't be accessed in NamedMaps\");\n  },\n\n  setLayer: function(layer, def) {\n    var not_allowed_attrs = {'sql': 1, 'cartocss': 1, 'interactivity': 1 };\n\n    for(var k in def.options) {\n      if (k in not_allowed_attrs) {\n        delete def.options[k];\n        throw new Error( k + \" is read-only in NamedMaps\");\n      }\n    }\n    return MapBase.prototype.setLayer.call(this, layer, def);\n  },\n\n  removeLayer: function(layer) {\n    throw new Error(\"sublayers are read-only in Named Maps\");\n  },\n\n  createSubLayer: function(attrs, options) {\n    throw new Error(\"sublayers are read-only in Named Maps\");\n  },\n\n  addLayer: function(def, layer) {\n    throw new Error(\"sublayers are read-only in Named Maps\");\n  },\n\n  // for named maps the layers are always the same (i.e they are\n  // not removed to hide) so the number does not change\n  getLayerIndexByNumber: function(number) {\n    return +number;\n  }\n});\n\n\n\n/*\n *  common functions for cartodb connector\n */\n\nfunction CartoDBLayerCommon() {\n  this.visible = true;\n}\n\nCartoDBLayerCommon.prototype = {\n\n  // the way to show/hidelayer is to set opacity\n  // removing the interactivty at the same time\n  show: function() {\n    this.setOpacity(this.options.previous_opacity === undefined ? 0.99: this.options.previous_opacity);\n    delete this.options.previous_opacity;\n    this._interactionDisabled = false;\n    this.visible = true;\n  },\n\n  hide: function() {\n    if(this.options.previous_opacity == undefined) {\n      this.options.previous_opacity = this.options.opacity;\n    }\n    this.setOpacity(0);\n    // disable here interaction for all the layers\n    this._interactionDisabled = true;\n    this.visible = false;\n  },\n\n  toggle: function() {\n    this.isVisible() ? this.hide() : this.show();\n    return this.isVisible();\n  },\n\n  /**\n   * Returns if the layer is visible or not\n   */\n  isVisible: function() {\n    return this.visible;\n  },\n\n  /**\n   * Active or desactive interaction\n   * @params enable {Number} layer number\n   * @params layer {Boolean} Choose if wants interaction or not\n   */\n  setInteraction: function(layer, b) {\n    // shift arguments to maintain caompatibility\n    if(b == undefined) {\n      b = layer;\n      layer = 0;\n    }\n    var layerInteraction;\n    this.interactionEnabled[layer] = b;\n    if(!b) {\n      layerInteraction = this.interaction[layer];\n      if(layerInteraction) {\n        layerInteraction.remove();\n        this.interaction[layer] = null;\n      }\n    } else {\n      // if urls is null it means that setInteraction will be called\n      // when the layergroup token was recieved, then the real interaction\n      // layer will be created\n      if(this.urls) {\n        // generate the tilejson from the urls. wax needs it\n        var layer_index = this.getLayerIndexByNumber(+layer);\n        var tilejson = this._tileJSONfromTiles(layer_index, this.urls);\n\n        // remove previous\n        layerInteraction = this.interaction[layer];\n        if(layerInteraction) {\n          layerInteraction.remove();\n        }\n        var self = this;\n\n        // add the new one\n        this.interaction[layer] = this.interactionClass()\n          .map(this.options.map)\n          .tilejson(tilejson)\n          .on('on', function(o) {\n            if (self._interactionDisabled) return;\n            o.layer = +layer;\n            self._manageOnEvents(self.options.map, o);\n          })\n          .on('off', function(o) {\n            if (self._interactionDisabled) return;\n            o = o || {}\n            o.layer = +layer;\n            self._manageOffEvents(self.options.map, o);\n          });\n      }\n    }\n    return this;\n  },\n\n  setOptions: function (opts) {\n\n    if (typeof opts != \"object\" || opts.length) {\n      throw new Error(opts + ' options must be an object');\n    }\n\n    _.extend(this.options, opts);\n\n    var opts = this.options;\n\n    this.options.query = this.options.query || \"select * from \" + this.options.table_name;\n    if(this.options.query_wrapper) {\n      this.options.query = _.template(this.options.query_wrapper)({ sql: this.options.query });\n    }\n\n    this.setSilent(true);\n    opts.interaction && this.setInteraction(opts.interaction);\n    opts.opacity && this.setOpacity(opts.opacity);\n    opts.query && this.setQuery(opts.query.replace(/\\{\\{table_name\\}\\}/g, this.options.table_name));\n    opts.tile_style && this.setCartoCSS(opts.tile_style.replace(new RegExp( opts.table_name, \"g\"), \"layer0\"));\n    opts.cartocss && this.setCartoCSS(opts.cartocss);\n    opts.interactivity && this.setInteractivity(opts.interactivity);\n    opts.visible ? this.show() : this.hide();\n    this.setSilent(false);\n    this._definitionUpdated();\n  },\n\n  _getLayerDefinition: function() {\n    // set params\n    var params = {};\n    var opts = this.options;\n    var sql, cartocss, cartocss_version;\n    sql = opts.query || \"select * from \" + opts.table_name;\n\n    if(opts.query_wrapper) {\n      sql = _.template(opts.query_wrapper)({ sql: sql });\n    }\n\n    cartocss = opts.tile_style;\n    cartocss_version = opts.cartocss_version || '2.1.0';\n\n    // extra_params?\n    for (var _param in opts.extra_params) {\n      var v = opts.extra_params[_param]\n      params[_param] = v.replace ? v.replace(/\\{\\{table_name\\}\\}/g, opts.table_name): v;\n    }\n    sql = sql.replace(/\\{\\{table_name\\}\\}/g, opts.table_name);\n    cartocss = cartocss.replace(/\\{\\{table_name\\}\\}/g, opts.table_name);\n    cartocss = cartocss.replace(new RegExp( opts.table_name, \"g\"), \"layer0\");\n\n    return {\n      sql: sql,\n      cartocss: cartocss,\n      cartocss_version: cartocss_version,\n      params: params,\n      interactivity: opts.interactivity\n    }\n  },\n\n  error: function(e) {\n    //console.log(e.error);\n  },\n\n  tilesOk: function() {\n  },\n\n  _clearInteraction: function() {\n    for(var i in this.interactionEnabled) {\n      if (this.interactionEnabled.hasOwnProperty(i) &&\n        this.interactionEnabled[i]) {\n        this.setInteraction(i, false);\n      }\n    }\n  },\n\n  _reloadInteraction: function() {\n    for(var i in this.interactionEnabled) {\n      if (this.interactionEnabled.hasOwnProperty(i) &&\n        this.interactionEnabled[i]) {\n          this.setInteraction(i, false);\n          this.setInteraction(i, true);\n      }\n    }\n  },\n\n  /**\n   *  Check the tiles\n   */\n  _checkTiles: function() {\n    var xyz = {z: 4, x: 6, y: 6}\n      , self = this\n      , img = new Image()\n      , urls = this._tileJSON()\n\n    getTiles(function(urls) {\n\n      var grid_url = urls.tiles[0]\n          .replace(/\\{z\\}/g,xyz.z)\n          .replace(/\\{x\\}/g,xyz.x)\n          .replace(/\\{y\\}/g,xyz.y);\n\n      this.options.ajax({\n        method: \"get\",\n        url: grid_url,\n        crossDomain: true,\n        success: function() {\n          self.tilesOk();\n          clearTimeout(timeout)\n        },\n        error: function(xhr, msg, data) {\n          clearTimeout(timeout);\n          self.error(xhr.responseText && JSON.parse(xhr.responseText));\n        }\n      });\n    });\n\n    var timeout = setTimeout(function(){\n      clearTimeout(timeout);\n      self.error(\"tile timeout\");\n    }, 30000);\n\n  }\n};\n\ncdb.geo.common = {};\n\ncdb.geo.common.CartoDBLogo = {\n\n  /**\n   * Check if any class already exists\n   * in the provided container\n   */\n  isWadusAdded: function(container, className) {\n    // Check if any cartodb-logo exists within container\n    var a = [];\n    var re = new RegExp('\\\\b' + className + '\\\\b');\n    var els = container.getElementsByTagName(\"*\");\n    for(var i=0,j=els.length; i<j; i++)\n      if(re.test(els[i].className))a.push(els[i]);\n\n    return a.length > 0;\n  },\n\n  /**\n   *  Check if browser supports retina images\n   */\n  isRetinaBrowser: function() {\n    return  ('devicePixelRatio' in window && window.devicePixelRatio > 1) ||\n            ('matchMedia' in window && window.matchMedia('(min-resolution:144dpi)') &&\n            window.matchMedia('(min-resolution:144dpi)').matches);\n  },\n\n  /**\n   * Add Cartodb logo\n   * It needs a position, timeout if it is needed and the container where to add it\n   */\n  addWadus: function(position, timeout, container) {\n    var self = this;\n    setTimeout(function() {\n      if (!self.isWadusAdded(container, 'cartodb-logo')) {\n        var cartodb_link = document.createElement(\"div\");\n        var is_retina = self.isRetinaBrowser();\n        cartodb_link.setAttribute('class','cartodb-logo');\n        cartodb_link.setAttribute('style',\"position:absolute; bottom:0; left:0; display:block; border:none; z-index:1000000;\");\n        var protocol = location.protocol.indexOf('https') === -1 ? 'http': 'https';\n        var link = cdb.config.get('cartodb_logo_link');\n        cartodb_link.innerHTML = \"<a href='\" + link + \"' target='_blank'><img width='71' height='29' src='\" + protocol + \"://cartodb.s3.amazonaws.com/static/new_logo\" + (is_retina ? '@2x' : '') + \".png' style='position:absolute; bottom:\" + \n          ( position.bottom || 0 ) + \"px; left:\" + ( position.left || 0 ) + \"px; display:block; width:71px!important; height:29px!important; border:none; outline:none;' alt='CARTO' title='CARTO' />\";\n        container.appendChild(cartodb_link);\n      }\n    },( timeout || 0 ));\n  }\n};\n\n\n(function() {\n  /**\n  * base layer for all leaflet layers\n  */\n  var LeafLetLayerView = function(layerModel, leafletLayer, leafletMap) {\n    this.leafletLayer = leafletLayer;\n    this.leafletMap = leafletMap;\n    this.model = layerModel;\n\n    this.setModel(layerModel);\n\n    this.type = layerModel.get('type') || layerModel.get('kind');\n    this.type = this.type.toLowerCase();\n  };\n\n  _.extend(LeafLetLayerView.prototype, Backbone.Events);\n  _.extend(LeafLetLayerView.prototype, {\n\n    setModel: function(model) {\n      if (this.model) {\n        this.model.unbind('change', this._modelUpdated, this);\n      }\n      this.model = model;\n      this.model.bind('change', this._modelUpdated, this);\n    },\n\n    /**\n    * remove layer from the map and unbind events\n    */\n    remove: function() {\n      this.leafletMap.removeLayer(this.leafletLayer);\n      this.trigger('remove', this);\n      this.model.unbind(null, null, this);\n      this.unbind();\n    },\n    /*\n\n    show: function() {\n      this.leafletLayer.setOpacity(1.0);\n    },\n\n    hide: function() {\n      this.leafletLayer.setOpacity(0.0);\n    },\n    */\n\n    /**\n     * reload the tiles\n     */\n    reload: function() {\n      this.leafletLayer.redraw();\n    }\n\n  });\n\n\n  cdb.geo.LeafLetLayerView = LeafLetLayerView;\n\n\n})();\n\n(function() {\n\nif(typeof(L) == \"undefined\")\n  return;\n\n/**\n * this is a dummy layer class that modifies the leaflet DOM element background\n * instead of creating a layer with div\n */\nvar LeafLetPlainLayerView = L.Class.extend({\n  includes: L.Mixin.Events,\n\n  initialize: function(layerModel, leafletMap) {\n    cdb.geo.LeafLetLayerView.call(this, layerModel, this, leafletMap);\n  },\n\n  onAdd: function() {\n    this.redraw();\n  },\n\n  onRemove: function() {\n    var div = this.leafletMap.getContainer()\n    div.style.background = 'none';\n  },\n\n  _modelUpdated: function() {\n    this.redraw();\n  },\n\n  redraw: function() {\n    var div = this.leafletMap.getContainer()\n    div.style.backgroundColor = this.model.get('color') || '#FFF';\n\n    if (this.model.get('image')) {\n      var st = 'transparent url(' + this.model.get('image') + ') repeat center center';\n      div.style.background = st\n    }\n  },\n\n  // this method\n  setZIndex: function() {\n  }\n\n});\n\n_.extend(LeafLetPlainLayerView.prototype, cdb.geo.LeafLetLayerView.prototype);\n\ncdb.geo.LeafLetPlainLayerView = LeafLetPlainLayerView;\n\n})();\n\n(function() {\n\nif(typeof(L) == \"undefined\")\n  return;\n\nvar LeafLetTiledLayerView = L.TileLayer.extend({\n  initialize: function(layerModel, leafletMap) {\n\n    var tmpLayer = {\n      tms:          layerModel.get('tms'),\n      attribution:  layerModel.get('attribution'),\n      minZoom:      layerModel.get('minZoom'),\n      maxZoom:      layerModel.get('maxZoom'),\n      subdomains:   layerModel.get('subdomains') || 'abc',\n      errorTileUrl: layerModel.get('errorTileUrl'),\n      opacity:      layerModel.get('opacity')\n    };\n\n    if ( layerModel.get('tileSize') ) {\n      tmpLayer.tileSize = layerModel.get('tileSize');\n    }\n\n    if ( layerModel.get('zoomOffset') ) {\n      tmpLayer.zoomOffset = layerModel.get('zoomOffset');\n    }\n\n    L.TileLayer.prototype.initialize.call(this, layerModel.get('urlTemplate'), tmpLayer);\n    cdb.geo.LeafLetLayerView.call(this, layerModel, this, leafletMap);\n  }\n\n});\n\n_.extend(LeafLetTiledLayerView.prototype, cdb.geo.LeafLetLayerView.prototype, {\n\n  _modelUpdated: function() {\n    _.defaults(this.leafletLayer.options, _.clone(this.model.attributes));\n    this.leafletLayer.options.subdomains = this.model.get('subdomains') || 'abc';\n    this.leafletLayer.options.attribution = this.model.get('attribution');\n    this.leafletLayer.options.maxZoom = this.model.get('maxZoom');\n    this.leafletLayer.options.minZoom = this.model.get('minZoom');\n    // set url and reload\n    this.leafletLayer.setUrl(this.model.get('urlTemplate'));\n  }\n\n});\n\ncdb.geo.LeafLetTiledLayerView = LeafLetTiledLayerView;\n\n})();\n\n(function() {\n\n  if(typeof(L) == \"undefined\")\n    return;\n\n  var stamenSubstitute = function stamenSubstitute(type) {\n    return {\n      url: 'http://{s}.basemaps.cartocdn.com/'+ type +'_all/{z}/{x}/{y}.png',\n      subdomains: 'abcd',\n      minZoom: 0,\n      maxZoom: 18,\n      attribution: 'Map designs by <a href=\"http://stamen.com/\">Stamen</a>. Data by <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, Provided by <a href=\"https://carto.com\">CARTO</a>'\n    };\n  };\n  \n  var nokiaSubstitute = function nokiaSubstitute(type) {\n    return {\n      url: 'https://{s}.maps.nlp.nokia.com/maptile/2.1/maptile/newest/'+ type +'.day/{z}/{x}/{y}/256/png8?lg=eng&token=A7tBPacePg9Mj_zghvKt9Q&app_id=KuYppsdXZznpffJsKT24',\n      subdomains: '1234',\n      minZoom: 0,\n      maxZoom: 21,\n      attribution: '©2012 Nokia <a href=\"http://here.net/services/terms\" target=\"_blank\">Terms of use</a>'\n    };\n  };\n\n  var substitutes = {\n    roadmap: nokiaSubstitute('normal'),\n    gray_roadmap: stamenSubstitute('light'),\n    dark_roadmap: stamenSubstitute('dark'),\n    hybrid: nokiaSubstitute('hybrid'),\n    terrain: nokiaSubstitute('terrain'),\n    satellite: nokiaSubstitute('satellite')\n  };\n\n  var LeafLetGmapsTiledLayerView = L.TileLayer.extend({\n    initialize: function(layerModel, leafletMap) {\n      var substitute = substitutes[layerModel.get('base_type')];\n      L.TileLayer.prototype.initialize.call(this, substitute.url, {\n        tms:          false,\n        attribution:  substitute.attribution,\n        minZoom:      substitute.minZoom,\n        maxZoom:      substitute.maxZoom,\n        subdomains:   substitute.subdomains,\n        errorTileUrl: '',\n        opacity:      1\n      });\n      cdb.geo.LeafLetLayerView.call(this, layerModel, this, leafletMap);\n    }\n\n  });\n\n  _.extend(LeafLetGmapsTiledLayerView.prototype, cdb.geo.LeafLetLayerView.prototype, {\n\n    _modelUpdated: function() {\n      // do nothing, this map type does not support updating\n    }\n\n  });\n\n  cdb.geo.LeafLetGmapsTiledLayerView = LeafLetGmapsTiledLayerView;\n\n})();\n\n(function() {\n\nif(typeof(L) == \"undefined\")\n  return;\n\nvar LeafLetWMSLayerView = L.TileLayer.WMS.extend({\n  initialize: function(layerModel, leafletMap) {\n\n    var tmpLayer = {\n      attribution:  layerModel.get('attribution'),\n      layers:       layerModel.get('layers'),\n      format:       layerModel.get('format'),\n      transparent:  layerModel.get('transparent'),\n      minZoom:      layerModel.get('minZomm'),\n      maxZoom:      layerModel.get('maxZoom'),\n      subdomains:   layerModel.get('subdomains') || 'abc',\n      errorTileUrl: layerModel.get('errorTileUrl'),\n      opacity:      layerModel.get('opacity')\n    };\n\n    if ( layerModel.get('tileSize') ) {\n      tmpLayer.tileSize = layerModel.get('tileSize');\n    }\n\n    if ( layerModel.get('zoomOffset') ) {\n      tmpLayer.zoomOffset = layerModel.get('zoomOffset');\n    }\n\n    L.TileLayer.WMS.prototype.initialize.call(this, layerModel.get('urlTemplate'), tmpLayer);\n\n    cdb.geo.LeafLetLayerView.call(this, layerModel, this, leafletMap);\n  }\n\n});\n\n_.extend(LeafLetWMSLayerView.prototype, cdb.geo.LeafLetLayerView.prototype, {\n\n  _modelUpdated: function() {\n    _.defaults(this.leafletLayer.options, _.clone(this.model.attributes));\n    this.leafletLayer.setUrl(this.model.get('urlTemplate'));\n  }\n\n});\n\ncdb.geo.LeafLetWMSLayerView = LeafLetWMSLayerView;\n\n})();\n\n(function() {\n\nif(typeof(L) == \"undefined\")\n  return;\n\n\nL.CartoDBGroupLayerBase = L.TileLayer.extend({\n\n  interactionClass: wax.leaf.interaction,\n\n  includes: [\n    cdb.geo.LeafLetLayerView.prototype,\n    //LayerDefinition.prototype,\n    CartoDBLayerCommon.prototype\n  ],\n\n  options: {\n    opacity:        0.99,\n    attribution:    cdb.config.get('cartodb_attributions'),\n    debug:          false,\n    visible:        true,\n    added:          false,\n    tiler_domain:   \"carto.com\",\n    tiler_port:     \"80\",\n    tiler_protocol: \"http\",\n    sql_api_domain:     \"carto.com\",\n    sql_api_port:       \"80\",\n    sql_api_protocol:   \"http\",\n    maxZoom: 30, // default leaflet zoom level for a layers is 18, raise it\n    extra_params:   {\n    },\n    cdn_url:        null,\n    subdomains:     null\n  },\n\n\n  initialize: function (options) {\n    options = options || {};\n    // Set options\n    L.Util.setOptions(this, options);\n\n    // Some checks\n    if (!options.layer_definition && !options.sublayers) {\n        throw new Error('cartodb-leaflet needs at least the layer_definition or sublayer list');\n    }\n\n    if(!options.layer_definition) {\n      this.options.layer_definition = LayerDefinition.layerDefFromSubLayers(options.sublayers);\n    }\n\n    LayerDefinition.call(this, this.options.layer_definition, this.options);\n\n    this.fire = this.trigger;\n\n    CartoDBLayerCommon.call(this);\n    L.TileLayer.prototype.initialize.call(this);\n    this.interaction = [];\n    this.addProfiling();\n  },\n\n  addProfiling: function() {\n    this.bind('tileloadstart', function(e) {\n      var s = this.tileStats || (this.tileStats = {});\n      s[e.tile.src] = cartodb.core.Profiler.metric('cartodb-js.tile.png.load.time').start();\n    });\n    var finish = function(e) {\n      var s = this.tileStats && this.tileStats[e.tile.src];\n      s && s.end();\n    };\n    this.bind('tileload', finish);\n    this.bind('tileerror', function(e) {\n      cartodb.core.Profiler.metric('cartodb-js.tile.png.error').inc();\n      finish(e);\n    });\n  },\n\n\n  // overwrite getTileUrl in order to\n  // support different tiles subdomains in tilejson way\n  getTileUrl: function (tilePoint) {\n    var EMPTY_GIF = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n    this._adjustTilePoint(tilePoint);\n\n    var tiles = [EMPTY_GIF];\n    if(this.tilejson) {\n      tiles = this.tilejson.tiles;\n    }\n\n    var index = (tilePoint.x + tilePoint.y) % tiles.length;\n\n    return L.Util.template(tiles[index], L.Util.extend({\n      z: this._getZoomForUrl(),\n      x: tilePoint.x,\n      y: tilePoint.y\n    }, this.options));\n  },\n\n  /**\n   * Change opacity of the layer\n   * @params {Integer} New opacity\n   */\n  setOpacity: function(opacity) {\n\n    if (isNaN(opacity) || opacity>1 || opacity<0) {\n      throw new Error(opacity + ' is not a valid value');\n    }\n\n    // Leaflet only accepts 0-0.99... Weird!\n    this.options.opacity = Math.min(opacity, 0.99);\n\n    if (this.options.visible) {\n      L.TileLayer.prototype.setOpacity.call(this, this.options.opacity);\n      this.fire('updated');\n    }\n  },\n\n\n  /**\n   * When Leaflet adds the layer... go!\n   * @params {map}\n   */\n  onAdd: function(map) {\n    var self = this;\n    this.options.map = map;\n\n    // Add cartodb logo\n    if (this.options.cartodb_logo != false)\n      cdb.geo.common.CartoDBLogo.addWadus({ left:8, bottom:8 }, 0, map._container);\n\n    this.__update(function() {\n      // if while the layer was processed in the server is removed\n      // it should not be added to the map\n      var id = L.stamp(self);\n      if (!map._layers[id]) {\n        return;\n      }\n\n      L.TileLayer.prototype.onAdd.call(self, map);\n      self.fire('added');\n      self.options.added = true;\n    });\n  },\n\n  getAttribution: function() {\n    return cdb.core.sanitize.html(this.options.attribution);\n  },\n\n  /**\n   * When removes the layer, destroy interactivity if exist\n   */\n  onRemove: function(map) {\n    if(this.options.added) {\n      this.options.added = false;\n      L.TileLayer.prototype.onRemove.call(this, map);\n    }\n  },\n\n  /**\n   * Update CartoDB layer\n   * generates a new url for tiles and refresh leaflet layer\n   * do not collide with leaflet _update\n   */\n  __update: function(done) {\n    var self = this;\n    this.fire('updated');\n    this.fire('loading');\n    var map = this.options.map;\n\n    this.getTiles(function(urls, err) {\n      if(urls) {\n        self.tilejson = urls;\n        self.setUrl(self.tilejson.tiles[0]);\n        // manage interaction\n        self._reloadInteraction();\n        self.ok && self.ok();\n        done && done();\n      } else {\n        self.error && self.error(err);\n        done && done();\n      }\n    });\n  },\n\n\n  _checkLayer: function() {\n    if (!this.options.added) {\n      throw new Error('the layer is not still added to the map');\n    }\n  },\n\n  /**\n   * Set a new layer attribution\n   * @params {String} New attribution string\n   */\n  setAttribution: function(attribution) {\n    this._checkLayer();\n    // Remove old one\n    this.map.attributionControl.removeAttribution(\n      cdb.core.sanitize.html(this.options.attribution)\n    );\n    // Change text\n    this.map.attributionControl.addAttribution(\n      cdb.core.sanitize.html(attribution)\n    );\n    // Set new attribution in the options\n    this.options.attribution = attribution;\n    // Change in the layer\n    this.tilejson.attribution = this.options.attribution;\n\n    this.fire('updated');\n  },\n\n  /**\n   * Bind events for wax interaction\n   * @param {Object} Layer map object\n   * @param {Event} Wax event\n   */\n  _manageOnEvents: function(map, o) {\n    var layer_point = this._findPos(map,o);\n\n    if (!layer_point || isNaN(layer_point.x) || isNaN(layer_point.y)) {\n      // If layer_point doesn't contain x and y,\n      // we can't calculate event map position\n      return false;\n    }\n\n    var latlng = map.layerPointToLatLng(layer_point);\n    var event_type = o.e.type.toLowerCase();\n    var screenPos = map.layerPointToContainerPoint(layer_point);\n\n    switch (event_type) {\n      case 'mousemove':\n        if (this.options.featureOver) {\n          return this.options.featureOver(o.e,latlng, screenPos, o.data, o.layer);\n        }\n        break;\n\n      case 'click':\n      case 'touchend':\n      case 'touchmove': // for some reason android browser does not send touchend\n      case 'mspointerup':\n      case 'pointerup':\n      case 'pointermove':\n        if (this.options.featureClick) {\n          this.options.featureClick(o.e,latlng, screenPos, o.data, o.layer);\n        }\n        break;\n      default:\n        break;\n    }\n  },\n\n\n  /**\n   * Bind off event for wax interaction\n   */\n  _manageOffEvents: function(map, o) {\n    if (this.options.featureOut) {\n      return this.options.featureOut && this.options.featureOut(o.e, o.layer);\n    }\n  },\n\n  /**\n   * Get the Leaflet Point of the event\n   * @params {Object} Map object\n   * @params {Object} Wax event object\n   */\n  _findPos: function (map, o) {\n    var curleft = 0;\n    var curtop = 0;\n    var obj = map.getContainer();\n\n    var x, y;\n    if (o.e.changedTouches && o.e.changedTouches.length > 0) {\n      x = o.e.changedTouches[0].clientX + window.scrollX;\n      y = o.e.changedTouches[0].clientY + window.scrollY;\n    } else {\n      x = o.e.clientX;\n      y = o.e.clientY;\n    }\n\n    // If the map is fixed at the top of the window, we can't use offsetParent\n    // cause there might be some scrolling that we need to take into account.\n    if (obj.offsetParent && obj.offsetTop > 0) {\n      do {\n        curleft += obj.offsetLeft;\n        curtop += obj.offsetTop;\n      } while (obj = obj.offsetParent);\n      var point = this._newPoint(\n        x - curleft, y - curtop);\n    } else {\n      var rect = obj.getBoundingClientRect();\n      var scrollX = (window.scrollX || window.pageXOffset);\n      var scrollY = (window.scrollY || window.pageYOffset);\n      var point = this._newPoint(\n        (o.e.clientX? o.e.clientX: x) - rect.left - obj.clientLeft - scrollX,\n        (o.e.clientY? o.e.clientY: y) - rect.top - obj.clientTop - scrollY);\n    }\n    return map.containerPointToLayerPoint(point);\n  },\n\n  /**\n   * Creates an instance of a Leaflet Point\n   */\n  _newPoint: function(x, y) {\n    return new L.Point(x, y);\n  }\n});\n\nL.CartoDBGroupLayer = L.CartoDBGroupLayerBase.extend({\n  includes: [\n    LayerDefinition.prototype,\n  ],\n\n  _modelUpdated: function() {\n    this.setLayerDefinition(this.model.get('layer_definition'));\n  }\n});\n\nfunction layerView(base) {\n  var layerViewClass = base.extend({\n\n    includes: [\n      cdb.geo.LeafLetLayerView.prototype,\n      Backbone.Events\n    ],\n\n    initialize: function(layerModel, leafletMap) {\n      var self = this;\n      var hovers = [];\n\n      var opts = _.clone(layerModel.attributes);\n\n      opts.map =  leafletMap;\n\n      var // preserve the user's callbacks\n      _featureOver  = opts.featureOver,\n      _featureOut   = opts.featureOut,\n      _featureClick = opts.featureClick;\n\n      var previousEvent;\n      var eventTimeout = -1;\n\n      opts.featureOver  = function(e, latlon, pxPos, data, layer) {\n        if (!hovers[layer]) {\n          self.trigger('layerenter', e, latlon, pxPos, data, layer);\n        }\n        hovers[layer] = 1;\n        _featureOver  && _featureOver.apply(this, arguments);\n        self.featureOver  && self.featureOver.apply(self, arguments);\n        // if the event is the same than before just cancel the event\n        // firing because there is a layer on top of it\n        if (e.timeStamp === previousEvent) {\n          clearTimeout(eventTimeout);\n        }\n        eventTimeout = setTimeout(function() {\n          self.trigger('mouseover', e, latlon, pxPos, data, layer);\n          self.trigger('layermouseover', e, latlon, pxPos, data, layer);\n        }, 0);\n        previousEvent = e.timeStamp;\n\n      };\n\n      opts.featureOut  = function(m, layer) {\n        if (hovers[layer]) {\n          self.trigger('layermouseout', layer);\n        }\n        hovers[layer] = 0;\n        if(!_.any(hovers)) {\n          self.trigger('mouseout');\n        }\n        _featureOut  && _featureOut.apply(this, arguments);\n        self.featureOut  && self.featureOut.apply(self, arguments);\n      };\n\n      opts.featureClick  = _.debounce(function() {\n        _featureClick  && _featureClick.apply(self, arguments);\n        self.featureClick  && self.featureClick.apply(self, arguments);\n      }, 10);\n\n\n      base.prototype.initialize.call(this, opts);\n      cdb.geo.LeafLetLayerView.call(this, layerModel, this, leafletMap);\n\n    },\n\n    featureOver: function(e, latlon, pixelPos, data, layer) {\n      // dont pass leaflet lat/lon\n      this.trigger('featureOver', e, [latlon.lat, latlon.lng], pixelPos, data, layer);\n    },\n\n    featureOut: function(e, layer) {\n      this.trigger('featureOut', e, layer);\n    },\n\n    featureClick: function(e, latlon, pixelPos, data, layer) {\n      // dont pass leaflet lat/lon\n      this.trigger('featureClick', e, [latlon.lat, latlon.lng], pixelPos, data, layer);\n    },\n\n    error: function(e) {\n      this.trigger('error', e ? (e.errors || e) : 'unknown error');\n      this.model.trigger('error', e?e.errors:'unknown error');\n    },\n\n    ok: function(e) {\n      this.model.trigger('tileOk');\n    },\n\n    onLayerDefinitionUpdated: function() {\n      this.__update();\n    }\n\n  });\n\n  return layerViewClass;\n}\n\nL.NamedMap = L.CartoDBGroupLayerBase.extend({\n  includes: [\n    cdb.geo.LeafLetLayerView.prototype,\n    NamedMap.prototype,\n    CartoDBLayerCommon.prototype\n  ],\n\n  initialize: function (options) {\n    options = options || {};\n    // Set options\n    L.Util.setOptions(this, options);\n\n    // Some checks\n    if (!options.named_map && !options.sublayers) {\n        throw new Error('cartodb-leaflet needs at least the named_map');\n    }\n\n    NamedMap.call(this, this.options.named_map, this.options);\n\n    this.fire = this.trigger;\n\n    CartoDBLayerCommon.call(this);\n    L.TileLayer.prototype.initialize.call(this);\n    this.interaction = [];\n    this.addProfiling();\n  },\n\n  _modelUpdated: function() {\n    this.setLayerDefinition(this.model.get('named_map'));\n  }\n});\n\ncdb.geo.LeafLetCartoDBLayerGroupView = layerView(L.CartoDBGroupLayer);\ncdb.geo.LeafLetCartoDBNamedMapView = layerView(L.NamedMap);\n\n})();\n\n(function() {\n\nif(typeof(L) == \"undefined\")\n  return;\n\nL.CartoDBLayer = L.CartoDBGroupLayer.extend({\n\n  options: {\n    query:          \"SELECT * FROM {{table_name}}\",\n    opacity:        0.99,\n    attribution:    cdb.config.get('cartodb_attributions'),\n    debug:          false,\n    visible:        true,\n    added:          false,\n    extra_params:   {},\n    layer_definition_version: '1.0.0'\n  },\n\n\n  initialize: function (options) {\n    L.Util.setOptions(this, options);\n\n    if (!options.table_name || !options.user_name || !options.tile_style) {\n        throw ('cartodb-leaflet needs at least a CartoDB table name, user_name and tile_style');\n    }\n\n    L.CartoDBGroupLayer.prototype.initialize.call(this, {\n      layer_definition: {\n        version: this.options.layer_definition_version,\n        layers: [{\n          type: 'cartodb',\n          options: this._getLayerDefinition(),\n          infowindow: this.options.infowindow\n        }]\n      }\n    });\n\n    this.setOptions(this.options);\n  },\n\n  setQuery: function(layer, sql) {\n    if(sql === undefined) {\n      sql = layer;\n      layer = 0;\n    }\n    sql = sql || 'select * from ' + this.options.table_name;\n    LayerDefinition.prototype.setQuery.call(this, layer, sql);\n  },\n\n  /**\n   * Returns if the layer is visible or not\n   */\n  isVisible: function() {\n    return this.visible;\n  },\n\n\n  /**\n   * Returns if the layer belongs to the map\n   */\n  isAdded: function() {\n    return this.options.added;\n  }\n\n});\n\n/**\n * leatlet cartodb layer\n */\n\nvar LeafLetLayerCartoDBView = L.CartoDBLayer.extend({\n  //var LeafLetLayerCartoDBView = function(layerModel, leafletMap) {\n  initialize: function(layerModel, leafletMap) {\n    var self = this;\n\n    _.bindAll(this, 'featureOut', 'featureOver', 'featureClick');\n\n    var opts = _.clone(layerModel.attributes);\n\n    opts.map =  leafletMap;\n\n    var // preserve the user's callbacks\n    _featureOver  = opts.featureOver,\n    _featureOut   = opts.featureOut,\n    _featureClick = opts.featureClick;\n\n    opts.featureOver  = function() {\n      _featureOver  && _featureOver.apply(this, arguments);\n      self.featureOver  && self.featureOver.apply(this, arguments);\n    };\n\n    opts.featureOut  = function() {\n      _featureOut  && _featureOut.apply(this, arguments);\n      self.featureOut  && self.featureOut.apply(this, arguments);\n    };\n\n    opts.featureClick  = function() {\n      _featureClick  && _featureClick.apply(this, arguments);\n      self.featureClick  && self.featureClick.apply(opts, arguments);\n    };\n\n    layerModel.bind('change:visible', function() {\n      self.model.get('visible') ? self.show(): self.hide();\n    }, this);\n\n    L.CartoDBLayer.prototype.initialize.call(this, opts);\n    cdb.geo.LeafLetLayerView.call(this, layerModel, this, leafletMap);\n\n  },\n\n  _modelUpdated: function() {\n    var attrs = _.clone(this.model.attributes);\n    this.leafletLayer.setOptions(attrs);\n  },\n\n  featureOver: function(e, latlon, pixelPos, data) {\n    // dont pass leaflet lat/lon\n    this.trigger('featureOver', e, [latlon.lat, latlon.lng], pixelPos, data, 0);\n  },\n\n  featureOut: function(e) {\n    this.trigger('featureOut', e, 0);\n  },\n\n  featureClick: function(e, latlon, pixelPos, data) {\n    // dont pass leaflet lat/lon\n    this.trigger('featureClick', e, [latlon.lat, latlon.lng], pixelPos, data, 0);\n  },\n\n  reload: function() {\n    this.model.invalidate();\n    //this.redraw();\n  },\n\n  error: function(e) {\n    this.trigger('error', e?e.error:'unknown error');\n    this.model.trigger('tileError', e?e.error:'unknown error');\n  },\n\n  tilesOk: function(e) {\n    this.model.trigger('tileOk');\n  },\n\n  includes: [\n    cdb.geo.LeafLetLayerView.prototype,\n    Backbone.Events\n  ]\n\n});\n\n/*_.extend(L.CartoDBLayer.prototype, CartoDBLayerCommon.prototype);\n\n_.extend(\n  LeafLetLayerCartoDBView.prototype,\n  cdb.geo.LeafLetLayerView.prototype,\n  L.CartoDBLayer.prototype,\n  Backbone.Events, // be sure this is here to not use the on/off from leaflet\n\n  */\ncdb.geo.LeafLetLayerCartoDBView = LeafLetLayerCartoDBView;\n\n})();\n(function() {\n\n/**\n * this module implements all the features related to overlay geometries\n * in leaflet: markers, polygons, lines and so on\n */\n\n\n/**\n * view for markers\n */\nfunction PointView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'dragstart',\n    'drag',\n    'dragend'\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n  var icon = {\n    iconUrl: this.model.get('iconUrl') || cdb.config.get('assets_url') + '/images/layout/default_marker.png',\n    iconAnchor: this.model.get('iconAnchor') || [11, 11]\n  };\n\n  this.geom = L.GeoJSON.geometryToLayer(geometryModel.get('geojson'), function(geojson, latLng) {\n      //TODO: create marker depending on the visualizacion options\n      var p = L.marker(latLng, {\n        icon: L.icon(icon)\n      });\n\n      var i;\n      for(i = 0; i < events.length; ++i) {\n        var e = events[i];\n        p.on(e, self._eventHandler(e));\n      }\n      return p;\n  });\n\n  this.bind('dragend', function(e, pos) {\n    geometryModel.set({\n      geojson: {\n        type: 'Point',\n        //geojson is lng,lat\n        coordinates: [pos[1], pos[0]]\n      }\n    });\n  });\n}\n\nPointView.prototype = new GeometryView();\n\nPointView.prototype.edit = function() {\n  this.geom.dragging.enable();\n};\n\n/**\n * returns a function to handle events fot evtType\n */\nPointView.prototype._eventHandler = function(evtType) {\n  var self = this;\n  var h = this._eventHandlers[evtType];\n  if(!h) {\n    h = function(e) {\n      var latlng = e.target.getLatLng();\n      var s = [latlng.lat, latlng.lng];\n      self.trigger(evtType, e.originalEvent, s);\n    };\n    this._eventHandlers[evtType] = h;\n  }\n  return h;\n};\n\n/**\n * view for other geometries (polygons/lines)\n */\nfunction PathView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n\n  this.geom = L.GeoJSON.geometryToLayer(geometryModel.get('geojson'));\n  this.geom.setStyle(geometryModel.get('style'));\n\n\n  /*for(var i = 0; i < events.length; ++i) {\n    var e = events[i];\n    this.geom.on(e, self._eventHandler(e));\n  }*/\n\n}\n\nPathView.prototype = new GeometryView();\n\nPathView.prototype._leafletLayers = function() {\n  // check if this is a multi-feature or single-feature\n  if (this.geom.getLayers) {\n    return this.geom.getLayers();\n  }\n  return [this.geom];\n};\n\n\nPathView.prototype.enableEdit = function() {\n  var self = this;\n  var layers = this._leafletLayers();\n  _.each(layers, function(g) {\n    g.setStyle(self.model.get('style'));\n    g.on('edit', function() {\n      self.model.set('geojson', self.geom.toGeoJSON().geometry);\n    }, self);\n  });\n};\n\nPathView.prototype.disableEdit = function() {\n  var self = this;\n  var layers = this._leafletLayers();\n  _.each(layers, function(g) {\n    g.off('edit', null, self);\n  });\n};\n\nPathView.prototype.edit = function(enable) {\n  var self = this;\n  var fn = enable ? 'enable': 'disable';\n  var layers = this._leafletLayers();\n  _.each(layers, function(g) {\n    g.editing[fn]();\n    enable ? self.enableEdit(): self.disableEdit();\n  });\n};\n\ncdb.geo.leaflet = cdb.geo.leaflet || {};\n\ncdb.geo.leaflet.PointView = PointView;\ncdb.geo.leaflet.PathView = PathView;\n\n\n})();\n/**\n* leaflet implementation of a map\n*/\n(function() {\n\n  if(typeof(L) == \"undefined\")\n    return;\n\n  /**\n   * leatlef impl\n   */\n  cdb.geo.LeafletMapView = cdb.geo.MapView.extend({\n\n\n    initialize: function() {\n\n      _.bindAll(this, '_addLayer', '_removeLayer', '_setZoom', '_setCenter', '_setView');\n\n      cdb.geo.MapView.prototype.initialize.call(this);\n\n      var self = this;\n\n      var center = this.map.get('center');\n\n      var mapConfig = {\n        zoomControl: false,\n        center: new L.LatLng(center[0], center[1]),\n        zoom: this.map.get('zoom'),\n        minZoom: this.map.get('minZoom'),\n        maxZoom: this.map.get('maxZoom')\n      };\n\n\n      if (this.map.get('bounding_box_ne')) {\n        //mapConfig.maxBounds = [this.map.get('bounding_box_ne'), this.map.get('bounding_box_sw')];\n      }\n\n      if (!this.options.map_object) {\n\n        this.map_leaflet = new L.Map(this.el, mapConfig);\n\n        // remove the \"powered by leaflet\"\n        this.map_leaflet.attributionControl.setPrefix('');\n\n        // Disable scrollwheel\n        if (this.map.get(\"scrollwheel\") == false) this.map_leaflet.scrollWheelZoom.disable();\n        // Disable keyboard\n        if (this.map.get(\"keyboard\") == false) this.map_leaflet.keyboard.disable();\n        // Disable dragging (also doubleClickZoom)\n        if (this.map.get(\"drag\") == false) {\n          this.map_leaflet.dragging.disable();\n          this.map_leaflet.doubleClickZoom.disable();\n        }\n\n      } else {\n\n        this.map_leaflet = this.options.map_object;\n        this.setElement(this.map_leaflet.getContainer());\n\n        var c = self.map_leaflet.getCenter();\n\n        self._setModelProperty({ center: [c.lat, c.lng] });\n        self._setModelProperty({ zoom: self.map_leaflet.getZoom() });\n\n        // unset bounds to not change mapbounds\n        self.map.unset('view_bounds_sw', { silent: true });\n        self.map.unset('view_bounds_ne', { silent: true });\n      }\n\n      this.map.bind('set_view', this._setView, this);\n      this.map.layers.bind('add', this._addLayer, this);\n      this.map.layers.bind('remove', this._removeLayer, this);\n      this.map.layers.bind('reset', this._addLayers, this);\n      this.map.layers.bind('change:type', this._swicthLayerView, this);\n\n      this.map.geometries.bind('add', this._addGeometry, this);\n      this.map.geometries.bind('remove', this._removeGeometry, this);\n\n      this._bindModel();\n      this._addLayers();\n      this.setAttribution();\n\n      this.map_leaflet.on('layeradd', function(lyr) {\n        this.trigger('layeradd', lyr, self);\n      }, this);\n\n      this.map_leaflet.on('zoomstart', function() {\n        self.trigger('zoomstart');\n      });\n\n      this.map_leaflet.on('click', function(e) {\n        self.trigger('click', e.originalEvent, [e.latlng.lat, e.latlng.lng]);\n      });\n\n      this.map_leaflet.on('dblclick', function(e) {\n        self.trigger('dblclick', e.originalEvent);\n      });\n\n      this.map_leaflet.on('zoomend', function() {\n        self._setModelProperty({\n          zoom: self.map_leaflet.getZoom()\n        });\n        self.trigger('zoomend');\n      }, this);\n\n      this.map_leaflet.on('move', function() {\n        var c = self.map_leaflet.getCenter();\n        self._setModelProperty({ center: [c.lat, c.lng] });\n      });\n\n      this.map_leaflet.on('dragend', function() {\n        var c = self.map_leaflet.getCenter();\n        this.trigger('dragend', [c.lat, c.lng]);\n      }, this);\n\n      this.map_leaflet.on('drag', function() {\n        var c = self.map_leaflet.getCenter();\n        self._setModelProperty({\n          center: [c.lat, c.lng]\n        });\n        self.trigger('drag');\n      }, this);\n\n      this.map.bind('change:maxZoom', function() {\n        L.Util.setOptions(self.map_leaflet, { maxZoom: self.map.get('maxZoom') });\n      }, this);\n\n      this.map.bind('change:minZoom', function() {\n        L.Util.setOptions(self.map_leaflet, { minZoom: self.map.get('minZoom') });\n      }, this);\n\n      this.trigger('ready');\n\n      // looks like leaflet dont like to change the bounds just after the inicialization\n      var bounds = this.map.getViewBounds();\n\n      if (bounds) {\n        this.showBounds(bounds);\n      }\n    },\n\n    // this replaces the default functionality to search for\n    // already added views so they are not replaced\n    _addLayers: function() {\n      var self = this;\n\n      var oldLayers = this.layers;\n      this.layers = {};\n\n      function findLayerView(layer) {\n        var lv = _.find(oldLayers, function(layer_view) {\n          var m = layer_view.model;\n          return m.isEqual(layer);\n        });\n        return lv;\n      }\n\n      function canReused(layer) {\n        return self.map.layers.find(function(m) {\n          return m.isEqual(layer);\n        });\n      }\n\n      // remove all\n      for(var layer in oldLayers) {\n        var layer_view = oldLayers[layer];\n        if (!canReused(layer_view.model)) {\n          layer_view.remove();\n        }\n      }\n\n      this.map.layers.each(function(lyr) {\n        var lv = findLayerView(lyr);\n        if (!lv) {\n          self._addLayer(lyr);\n        } else {\n          lv.setModel(lyr);\n          self.layers[lyr.cid] = lv;\n          self.trigger('newLayerView', lv, lv.model, self);\n        }\n      });\n\n    },\n\n    clean: function() {\n      //see https://github.com/CloudMade/Leaflet/issues/1101\n      L.DomEvent.off(window, 'resize', this.map_leaflet._onResize, this.map_leaflet);\n\n      // remove layer views\n      for(var layer in this.layers) {\n        var layer_view = this.layers[layer];\n        layer_view.remove();\n        delete this.layers[layer];\n      }\n\n      // do not change by elder\n      cdb.core.View.prototype.clean.call(this);\n    },\n\n    _setKeyboard: function(model, z) {\n      if (z) {\n        this.map_leaflet.keyboard.enable();\n      } else {\n        this.map_leaflet.keyboard.disable();\n      }\n    },\n\n    _setScrollWheel: function(model, z) {\n      if (z) {\n        this.map_leaflet.scrollWheelZoom.enable();\n      } else {\n        this.map_leaflet.scrollWheelZoom.disable();\n      }\n    },\n\n    _setZoom: function(model, z) {\n      this._setView();\n    },\n\n    _setCenter: function(model, center) {\n      this._setView();\n    },\n\n    _setView: function() {\n      this.map_leaflet.setView(this.map.get(\"center\"), this.map.get(\"zoom\") || 0 );\n    },\n\n    _addGeomToMap: function(geom) {\n      var geo = cdb.geo.LeafletMapView.createGeometry(geom);\n      geo.geom.addTo(this.map_leaflet);\n      return geo;\n    },\n\n    _removeGeomFromMap: function(geo) {\n      this.map_leaflet.removeLayer(geo.geom);\n    },\n\n    createLayer: function(layer) {\n      return cdb.geo.LeafletMapView.createLayer(layer, this.map_leaflet);\n    },\n\n    _addLayer: function(layer, layers, opts) {\n      var self = this;\n      var lyr, layer_view;\n      layer_view = cdb.geo.LeafletMapView.createLayer(layer, this.map_leaflet);\n      if (!layer_view) {\n        return;\n      }\n      return this._addLayerToMap(layer_view, opts);\n    },\n\n    _addLayerToMap: function(layer_view, opts) {\n      var layer = layer_view.model;\n\n      this.layers[layer.cid] = layer_view;\n      cdb.geo.LeafletMapView.addLayerToMap(layer_view, this.map_leaflet);\n\n      // reorder layers\n      for(var i in this.layers) {\n        var lv = this.layers[i];\n        lv.setZIndex(lv.model.get('order'));\n      }\n\n      if(opts === undefined || !opts.silent) {\n        this.trigger('newLayerView', layer_view, layer_view.model, this);\n      }\n      return layer_view;\n    },\n\n    pixelToLatLon: function(pos) {\n      var point = this.map_leaflet.containerPointToLatLng([pos[0], pos[1]]);\n      return point;\n    },\n\n    latLonToPixel: function(latlon) {\n      var point = this.map_leaflet.latLngToLayerPoint(new L.LatLng(latlon[0], latlon[1]));\n      return this.map_leaflet.layerPointToContainerPoint(point);\n    },\n\n    // return the current bounds of the map view\n    getBounds: function() {\n      var b = this.map_leaflet.getBounds();\n      var sw = b.getSouthWest();\n      var ne = b.getNorthEast();\n      return [\n        [sw.lat, sw.lng],\n        [ne.lat, ne.lng]\n      ];\n    },\n\n    setAttribution: function() {\n      var attributionControl = this._getAttributionControl();\n\n      // Save the attributions that were in the map the first time a new layer\n      // is added and the attributions of the map have changed\n      if (!this._originalAttributions) {\n        this._originalAttributions = Object.keys(attributionControl._attributions);\n      }\n\n      // Clear the attributions and re-add the original and custom attributions in\n      // the order we want\n      attributionControl._attributions = {};\n      var newAttributions = this._originalAttributions.concat(this.map.get('attribution'));\n      _.each(newAttributions, function(attribution) {\n        attributionControl.addAttribution(cdb.core.sanitize.html(attribution));\n      });\n    },\n\n    _getAttributionControl: function() {\n      if (this._attributionControl) {\n        return this._attributionControl;\n      }\n\n      this._attributionControl = this.map_leaflet.attributionControl;\n      if (!this._attributionControl) {\n        this._attributionControl = L.control.attribution({ prefix: '' });\n        this.map_leaflet.addControl(this._attributionControl);\n      }\n\n      return this._attributionControl;\n    },\n\n    getSize: function() {\n      return this.map_leaflet.getSize();\n    },\n\n    panBy: function(p) {\n      this.map_leaflet.panBy(new L.Point(p.x, p.y));\n    },\n\n    setCursor: function(cursor) {\n      $(this.map_leaflet.getContainer()).css('cursor', cursor);\n    },\n\n    getNativeMap: function() {\n      return this.map_leaflet;\n    },\n\n    invalidateSize: function() {\n      // there is a race condition in leaflet. If size is invalidated\n      // and at the same time the center is set the final center is displaced\n      // so set pan to false so the map is not moved and then force the map\n      // to be at the place it should be\n      this.map_leaflet.invalidateSize({ pan: false })//, animate: false });\n      this.map_leaflet.setView(this.map.get(\"center\"), this.map.get(\"zoom\") || 0, {\n        animate: false\n      });\n    }\n\n  }, {\n\n    layerTypeMap: {\n      \"tiled\": cdb.geo.LeafLetTiledLayerView,\n      \"wms\": cdb.geo.LeafLetWMSLayerView,\n      \"cartodb\": cdb.geo.LeafLetLayerCartoDBView,\n      \"carto\": cdb.geo.LeafLetLayerCartoDBView,\n      \"plain\": cdb.geo.LeafLetPlainLayerView,\n\n      // Substitutes the GMaps baselayer w/ an equivalent Leaflet tiled layer, since not supporting Gmaps anymore\n      \"gmapsbase\": cdb.geo.LeafLetGmapsTiledLayerView,\n\n      \"layergroup\": cdb.geo.LeafLetCartoDBLayerGroupView,\n      \"namedmap\": cdb.geo.LeafLetCartoDBNamedMapView,\n      \"torque\": function(layer, map) {\n        return new cdb.geo.LeafLetTorqueLayer(layer, map);\n      }\n    },\n\n    createLayer: function(layer, map) {\n      var layer_view = null;\n      var layerClass = this.layerTypeMap[layer.get('type').toLowerCase()];\n\n      if (layerClass) {\n        try {\n          layer_view = new layerClass(layer, map);\n        } catch(e) {\n          cdb.log.error(\"MAP: error creating '\" +  layer.get('type') + \"' layer -> \" + e.message);\n        }\n      } else {\n        cdb.log.error(\"MAP: \" + layer.get('type') + \" can't be created\");\n      }\n      return layer_view;\n    },\n\n    addLayerToMap: function(layer_view, map, pos) {\n      map.addLayer(layer_view.leafletLayer);\n      if(pos !== undefined) {\n        if (layer_view.setZIndex) {\n          layer_view.setZIndex(pos);\n        }\n      }\n    },\n\n    /**\n     * create the view for the geometry model\n     */\n    createGeometry: function(geometryModel) {\n      if(geometryModel.isPoint()) {\n        return new cdb.geo.leaflet.PointView(geometryModel);\n      }\n      return new cdb.geo.leaflet.PathView(geometryModel);\n    }\n\n  });\n\n  // set the image path in order to be able to get leaflet icons\n  // code adapted from leaflet\n  L.Icon.Default.imagePath = (function () {\n    var scripts = document.getElementsByTagName('script'),\n        leafletRe = /\\/?cartodb[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;\n\n    var i, len, src, matches;\n\n    for (i = 0, len = scripts.length; i < len; i++) {\n      src = scripts[i].src;\n      matches = src.match(leafletRe);\n\n      if (matches) {\n        var bits = src.split('/')\n        delete bits[bits.length - 1];\n        return bits.join('/') + 'themes/css/images';\n      }\n    }\n  }());\n\n})();\n\n(function() {\n\nif(typeof(google) == \"undefined\" || typeof(google.maps) == \"undefined\") \n  return;\n\n/**\n* base layer for all google maps\n*/\n\nvar GMapsLayerView = function(layerModel, gmapsLayer, gmapsMap) {\n  this.gmapsLayer = gmapsLayer;\n  this.map = this.gmapsMap = gmapsMap;\n  this.model = layerModel;\n  this.model.bind('change', this._update, this);\n\n  this.type = layerModel.get('type') || layerModel.get('kind');\n  this.type = this.type.toLowerCase();\n};\n\n_.extend(GMapsLayerView.prototype, Backbone.Events);\n_.extend(GMapsLayerView.prototype, {\n\n  // hack function to search layer inside google maps layers\n  _searchLayerIndex: function() {\n    var self = this;\n    var index = -1;\n    this.gmapsMap.overlayMapTypes.forEach(\n      function(layer, i) {\n        if (layer == self) {\n          index = i;\n        }\n      }\n    );\n    return index;\n  },\n\n  /**\n   * remove layer from the map and unbind events\n   */\n  remove: function() {\n    if(!this.isBase) {\n      var self = this;\n      var idx = this._searchLayerIndex();\n      if(idx >= 0) {\n        this.gmapsMap.overlayMapTypes.removeAt(idx);\n      } else if (this.gmapsLayer.setMap){\n        this.gmapsLayer.setMap(null);\n      }\n      this.model.unbind(null, null, this);\n      this.unbind();\n    }\n  },\n\n  refreshView: function() {\n    var self = this;\n    //reset to update\n    if(this.isBase) {\n      var a = '_baseLayer';\n      this.gmapsMap.setMapTypeId(null);\n      this.gmapsMap.mapTypes.set(a, this.gmapsLayer);\n      this.gmapsMap.setMapTypeId(a);\n    } else {\n      var idx = this._searchLayerIndex();\n      if(idx >= 0) {\n        this.gmapsMap.overlayMapTypes.setAt(idx, this);\n      }\n    }\n  },\n\n  reload: function() { this.refreshView() ; },\n  _update: function() { this.refreshView(); }\n\n\n});\n\ncdb.geo.GMapsLayerView = GMapsLayerView;\n\n})();\n\n(function() {\n\nif(typeof(google) == \"undefined\" || typeof(google.maps) == \"undefined\")\n  return;\n\nvar GMapsBaseLayerView = function(layerModel, gmapsMap) {\n  cdb.geo.GMapsLayerView.call(this, layerModel, null, gmapsMap);\n};\n\n_.extend(\n  GMapsBaseLayerView.prototype,\n  cdb.geo.GMapsLayerView.prototype,\n  {\n  _update: function() {\n    var m = this.model;\n    var types = {\n      \"roadmap\":      google.maps.MapTypeId.ROADMAP,\n      \"gray_roadmap\": google.maps.MapTypeId.ROADMAP,\n      \"dark_roadmap\": google.maps.MapTypeId.ROADMAP,\n      \"hybrid\":       google.maps.MapTypeId.HYBRID,\n      \"satellite\":    google.maps.MapTypeId.SATELLITE,\n      \"terrain\":      google.maps.MapTypeId.TERRAIN\n    };\n\n    this.gmapsMap.setOptions({\n      mapTypeId: types[m.get('base_type')]\n    });\n\n    this.gmapsMap.setOptions({\n      styles: m.get('style') || DEFAULT_MAP_STYLE\n    });\n  },\n  remove: function() { }\n});\n\n\ncdb.geo.GMapsBaseLayerView = GMapsBaseLayerView;\n\n\n})();\n\n(function() {\n\nif(typeof(google) == \"undefined\" || typeof(google.maps) == \"undefined\") \n  return;\n\nvar GMapsPlainLayerView = function(layerModel, gmapsMap) {\n  this.color = layerModel.get('color')\n  cdb.geo.GMapsLayerView.call(this, layerModel, this, gmapsMap);\n};\n\n_.extend(\n  GMapsPlainLayerView.prototype,\n  cdb.geo.GMapsLayerView.prototype, {\n\n  _update: function() {\n    this.color = this.model.get('color')\n    this.refreshView();\n  },\n\n  getTile: function(coord, zoom, ownerDocument) {\n      var div = document.createElement('div');\n      div.style.width = this.tileSize.x;\n      div.style.height = this.tileSize.y;\n      div['background-color'] = this.color;\n      return div;\n  },\n\n  tileSize: new google.maps.Size(256,256),\n  maxZoom: 100,\n  minZoom: 0,\n  name:\"plain layer\",\n  alt: \"plain layer\"\n});\n\ncdb.geo.GMapsPlainLayerView = GMapsPlainLayerView;\n\n})();\n\n(function() {\n\nif(typeof(google) == \"undefined\" || typeof(google.maps) == \"undefined\") \n  return;\n\n// TILED LAYER\nvar GMapsTiledLayerView = function(layerModel, gmapsMap) {\n  cdb.geo.GMapsLayerView.call(this, layerModel, this, gmapsMap);\n  this.tileSize = new google.maps.Size(256, 256);\n  this.opacity = 1.0;\n  this.isPng = true;\n  this.maxZoom = 22;\n  this.minZoom = 0;\n  this.name= 'cartodb tiled layer';\n  google.maps.ImageMapType.call(this, this);\n};\n\n_.extend(\n  GMapsTiledLayerView.prototype,\n  cdb.geo.GMapsLayerView.prototype,\n  google.maps.ImageMapType.prototype, {\n\n    getTileUrl: function(tile, zoom) {\n      var y = tile.y;\n      var tileRange = 1 << zoom;\n      if (y < 0 || y  >= tileRange) {\n        return null;\n      }\n      var x = tile.x;\n      if (x < 0 || x >= tileRange) {\n        x = (x % tileRange + tileRange) % tileRange;\n      }\n      if(this.model.get('tms')) {\n        y = tileRange - y - 1;\n      }\n      var urlPattern = this.model.get('urlTemplate');\n      return urlPattern\n                  .replace(\"{x}\",x)\n                  .replace(\"{y}\",y)\n                  .replace(\"{z}\",zoom);\n    }\n});\n\ncdb.geo.GMapsTiledLayerView = GMapsTiledLayerView;\n\n\n})();\n(function() {\n// if google maps is not defined do not load the class\nif(typeof(google) == \"undefined\" || typeof(google.maps) == \"undefined\") {\n  return;\n}\n\n// helper to get pixel position from latlon\nvar Projector = function(map) { this.setMap(map); };\nProjector.prototype = new google.maps.OverlayView();\nProjector.prototype.draw = function() {};\nProjector.prototype.latLngToPixel = function(point) {\n  var p = this.getProjection();\n  if(p) {\n    return p.fromLatLngToContainerPixel(point);\n  }\n  return [0, 0];\n};\nProjector.prototype.pixelToLatLng = function(point) {\n  var p = this.getProjection();\n  if(p) {\n    return p.fromContainerPixelToLatLng(point);\n  }\n  return [0, 0];\n  //return this.map.getProjection().fromPointToLatLng(point);\n};\n\nvar default_options = {\n  opacity:        0.99,\n  attribution:    cdb.config.get('cartodb_attributions'),\n  debug:          false,\n  visible:        true,\n  added:          false,\n  tiler_domain:   \"carto.com\",\n  tiler_port:     \"80\",\n  tiler_protocol: \"http\",\n  sql_api_domain:     \"carto.com\",\n  sql_api_port:       \"80\",\n  sql_api_protocol:   \"http\",\n  extra_params:   {\n  },\n  cdn_url:        null,\n  subdomains:     null\n};\n\nvar OPACITY_FILTER = \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)\";\n\nvar CartoDBNamedMap = function(opts) {\n\n  this.options = _.defaults(opts, default_options);\n  this.tiles = 0;\n  this.tilejson = null;\n  this.interaction = [];\n\n  if (!opts.named_map && !opts.sublayers) {\n      throw new Error('cartodb-gmaps needs at least the named_map');\n  }\n\n  // Add CartoDB logo\n  if (this.options.cartodb_logo != false)\n    cdb.geo.common.CartoDBLogo.addWadus({ left: 74, bottom:8 }, 2000, this.options.map.getDiv());\n\n  wax.g.connector.call(this, opts);\n\n  // lovely wax connector overwrites options so set them again\n  // TODO: remove wax.connector here\n   _.extend(this.options, opts);\n  this.projector = new Projector(opts.map);\n  NamedMap.call(this, this.options.named_map, this.options);\n  CartoDBLayerCommon.call(this);\n  // precache\n  this.update();\n};\n\n\nvar CartoDBLayerGroup = function(opts) {\n\n  this.options = _.defaults(opts, default_options);\n  this.tiles = 0;\n  this.tilejson = null;\n  this.interaction = [];\n\n  if (!opts.layer_definition && !opts.sublayers) {\n      throw new Error('cartodb-leaflet needs at least the layer_definition or sublayer list');\n  }\n\n  // if only sublayers is available, generate layer_definition from it\n  if(!opts.layer_definition) {\n    opts.layer_definition = LayerDefinition.layerDefFromSubLayers(opts.sublayers);\n  }\n\n  // Add CartoDB logo\n  if (this.options.cartodb_logo != false)\n    cdb.geo.common.CartoDBLogo.addWadus({ left: 74, bottom:8 }, 2000, this.options.map.getDiv());\n\n  wax.g.connector.call(this, opts);\n\n  // lovely wax connector overwrites options so set them again\n  // TODO: remove wax.connector here\n   _.extend(this.options, opts);\n  this.projector = new Projector(opts.map);\n  LayerDefinition.call(this, opts.layer_definition, this.options);\n  CartoDBLayerCommon.call(this);\n  // precache\n  this.update();\n};\n\nfunction setImageOpacityIE8(img, opacity) {\n    var v = Math.round(opacity*100);\n    if (v >= 99) {\n      img.style.filter = OPACITY_FILTER;\n    } else {\n      img.style.filter = \"alpha(opacity=\" + (opacity) + \");\";\n    }\n}\n\nfunction CartoDBLayerGroupBase() {}\n\nCartoDBLayerGroupBase.prototype.setOpacity = function(opacity) {\n  if (isNaN(opacity) || opacity > 1 || opacity < 0) {\n    throw new Error(opacity + ' is not a valid value, should be in [0, 1] range');\n  }\n  this.opacity = this.options.opacity = opacity;\n  for(var key in this.cache) {\n    var img = this.cache[key];\n    img.style.opacity = opacity;\n    setImageOpacityIE8(img, opacity);\n  }\n\n};\n\nCartoDBLayerGroupBase.prototype.setAttribution = function() {};\n\nCartoDBLayerGroupBase.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var EMPTY_GIF = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n\n  var self = this;\n  var ie = 'ActiveXObject' in window,\n      ielt9 = ie && !document.addEventListener;\n\n  this.options.added = true;\n\n  if(this.tilejson === null) {\n    var key = zoom + '/' + coord.x + '/' + coord.y;\n    var i = this.cache[key] = new Image(256, 256);\n    i.src = EMPTY_GIF;\n    i.setAttribute('gTileKey', key);\n    i.style.opacity = this.options.opacity;\n    return i;\n  }\n\n  var im = wax.g.connector.prototype.getTile.call(this, coord, zoom, ownerDocument);\n\n  // in IE8 semi transparency does not work and needs filter\n  if( ielt9 ) {\n    setImageOpacityIE8(im, this.options.opacity);\n  }\n  im.style.opacity = this.options.opacity;\n  if (this.tiles === 0) {\n    this.loading && this.loading();\n  }\n\n  this.tiles++;\n\n  var loadTime = cartodb.core.Profiler.metric('cartodb-js.tile.png.load.time').start();\n\n  var finished = function() {\n    loadTime.end();\n    self.tiles--;\n    if (self.tiles === 0) {\n      self.finishLoading && self.finishLoading();\n    }\n  };\n  im.onload = finished;\n  im.onerror = function() {\n    cartodb.core.Profiler.metric('cartodb-js.tile.png.error').inc();\n    finished();\n  }\n\n  return im;\n};\n\nCartoDBLayerGroupBase.prototype.onAdd = function () {\n  //this.update();\n};\n\nCartoDBLayerGroupBase.prototype.clear = function () {\n  this._clearInteraction();\n  self.finishLoading && self.finishLoading();\n};\n\nCartoDBLayerGroupBase.prototype.update = function (done) {\n  var self = this;\n  this.loading && this.loading();\n  this.getTiles(function(urls, err) {\n    if(urls) {\n      self.tilejson = urls;\n      self.options.tiles = urls.tiles;\n      self.tiles = 0;\n      self.cache = {};\n      self._reloadInteraction();\n      self.refreshView();\n      self.ok && self.ok();\n      done && done();\n    } else {\n      self.error && self.error(err)\n    }\n  });\n};\n\nCartoDBLayerGroupBase.prototype.refreshView = function() {\n  var self = this;\n  var map = this.options.map;\n  map.overlayMapTypes.forEach(\n    function(layer, i) {\n      if (layer == self) {\n        map.overlayMapTypes.setAt(i, self);\n        return;\n      }\n    }\n  );\n}\nCartoDBLayerGroupBase.prototype.onLayerDefinitionUpdated = function() {\n    this.update();\n}\n\nCartoDBLayerGroupBase.prototype._checkLayer = function() {\n  if (!this.options.added) {\n    throw new Error('the layer is not still added to the map');\n  }\n}\n\nCartoDBLayerGroupBase.prototype._findPos = function (map,o) {\n  var curleft = 0;\n  var curtop = 0;\n  var obj = map.getDiv();\n\n  var x, y;\n  if (o.e.changedTouches && o.e.changedTouches.length > 0) {\n    x = o.e.changedTouches[0].clientX + window.scrollX;\n    y = o.e.changedTouches[0].clientY + window.scrollY;\n  } else {\n    x = o.e.clientX;\n    y = o.e.clientY;\n  }\n\n  // If the map is fixed at the top of the window, we can't use offsetParent\n  // cause there might be some scrolling that we need to take into account.\n  if (obj.offsetParent && obj.offsetTop > 0) {\n    do {\n      curleft += obj.offsetLeft;\n      curtop += obj.offsetTop;\n    } while (obj = obj.offsetParent);\n    var point = this._newPoint(\n      x - curleft, y - curtop);\n  } else {\n    var rect = obj.getBoundingClientRect();\n    var scrollX = (window.scrollX || window.pageXOffset);\n    var scrollY = (window.scrollY || window.pageYOffset);\n    var point = this._newPoint(\n      (o.e.clientX? o.e.clientX: x) - rect.left - obj.clientLeft - scrollX,\n      (o.e.clientY? o.e.clientY: y) - rect.top - obj.clientTop - scrollY);\n  }\n  return point;\n};\n\n/**\n * Creates an instance of a google.maps Point\n */\nCartoDBLayerGroupBase.prototype._newPoint = function(x, y) {\n  return new google.maps.Point(x, y);\n};\n\nCartoDBLayerGroupBase.prototype._manageOffEvents = function(map, o){\n  if (this.options.featureOut) {\n    return this.options.featureOut && this.options.featureOut(o.e, o.layer);\n  }\n};\n\n\nCartoDBLayerGroupBase.prototype._manageOnEvents = function(map,o) {\n  var point  = this._findPos(map, o);\n  var latlng = this.projector.pixelToLatLng(point);\n  var event_type = o.e.type.toLowerCase();\n\n\n  switch (event_type) {\n    case 'mousemove':\n      if (this.options.featureOver) {\n        return this.options.featureOver(o.e,latlng, point, o.data, o.layer);\n      }\n      break;\n\n    case 'click':\n    case 'touchend':\n    case 'touchmove': // for some reason android browser does not send touchend\n    case 'mspointerup':\n    case 'pointerup':\n    case 'pointermove':\n      if (this.options.featureClick) {\n        this.options.featureClick(o.e,latlng, point, o.data, o.layer);\n      }\n      break;\n    default:\n      break;\n  }\n}\n\n// CartoDBLayerGroup type\nCartoDBLayerGroup.Projector = Projector;\nCartoDBLayerGroup.prototype = new wax.g.connector();\n_.extend(CartoDBLayerGroup.prototype, LayerDefinition.prototype, CartoDBLayerGroupBase.prototype, CartoDBLayerCommon.prototype);\nCartoDBLayerGroup.prototype.interactionClass = wax.g.interaction;\n\n\n// CartoDBNamedMap\nCartoDBNamedMap.prototype = new wax.g.connector();\n_.extend(CartoDBNamedMap.prototype, NamedMap.prototype, CartoDBLayerGroupBase.prototype, CartoDBLayerCommon.prototype);\nCartoDBNamedMap.prototype.interactionClass = wax.g.interaction;\n\n\n// export\ncdb.geo.CartoDBLayerGroupGMaps = CartoDBLayerGroup;\ncdb.geo.CartoDBNamedMapGMaps = CartoDBNamedMap;\n\n/*\n *\n *  cartodb layer group view\n *\n */\n\nfunction LayerGroupView(base) {\n  var GMapsCartoDBLayerGroupView = function(layerModel, gmapsMap) {\n    var self = this;\n    var hovers = [];\n\n    _.bindAll(this, 'featureOut', 'featureOver', 'featureClick');\n\n    var opts = _.clone(layerModel.attributes);\n\n    opts.map =  gmapsMap;\n\n    var // preserve the user's callbacks\n    _featureOver  = opts.featureOver,\n    _featureOut   = opts.featureOut,\n    _featureClick = opts.featureClick;\n\n    var previousEvent;\n    var eventTimeout = -1;\n\n    opts.featureOver  = function(e, latlon, pxPos, data, layer) {\n      if (!hovers[layer]) {\n        self.trigger('layerenter', e, latlon, pxPos, data, layer);\n      }\n      hovers[layer] = 1;\n      _featureOver  && _featureOver.apply(this, arguments);\n      self.featureOver  && self.featureOver.apply(this, arguments);\n\n      // if the event is the same than before just cancel the event\n      // firing because there is a layer on top of it\n      if (e.timeStamp === previousEvent) {\n        clearTimeout(eventTimeout);\n      }\n      eventTimeout = setTimeout(function() {\n        self.trigger('mouseover', e, latlon, pxPos, data, layer);\n        self.trigger('layermouseover', e, latlon, pxPos, data, layer);\n      }, 0);\n      previousEvent = e.timeStamp;\n    };\n\n    opts.featureOut  = function(m, layer) {\n      if (hovers[layer]) {\n        self.trigger('layermouseout', layer);\n      }\n      hovers[layer] = 0;\n      if(!_.any(hovers)) {\n        self.trigger('mouseout');\n      }\n      _featureOut  && _featureOut.apply(this, arguments);\n      self.featureOut  && self.featureOut.apply(this, arguments);\n    };\n\n    opts.featureClick  = _.debounce(function() {\n      _featureClick  && _featureClick.apply(this, arguments);\n      self.featureClick  && self.featureClick.apply(opts, arguments);\n    }, 10);\n\n    \n    //CartoDBLayerGroup.call(this, opts);\n    base.call(this, opts);\n    cdb.geo.GMapsLayerView.call(this, layerModel, this, gmapsMap);\n  };\n\n  _.extend(\n    GMapsCartoDBLayerGroupView.prototype,\n    cdb.geo.GMapsLayerView.prototype,\n    base.prototype,\n    {\n\n    _update: function() {\n      this.setOptions(this.model.attributes);\n    },\n\n    reload: function() {\n      this.model.invalidate();\n    },\n\n    remove: function() {\n      cdb.geo.GMapsLayerView.prototype.remove.call(this);\n      this.clear();\n    },\n\n    featureOver: function(e, latlon, pixelPos, data, layer) {\n      // dont pass gmaps LatLng\n      this.trigger('featureOver', e, [latlon.lat(), latlon.lng()], pixelPos, data, layer);\n    },\n\n    featureOut: function(e, layer) {\n      this.trigger('featureOut', e, layer);\n    },\n\n    featureClick: function(e, latlon, pixelPos, data, layer) {\n      // dont pass leaflet lat/lon\n      this.trigger('featureClick', e, [latlon.lat(), latlon.lng()], pixelPos, data, layer);\n    },\n\n    error: function(e) {\n      if(this.model) {\n        //trigger the error form _checkTiles in the model\n        this.model.trigger('error', e?e.errors:'unknown error');\n        this.model.trigger('tileError', e?e.errors:'unknown error');\n      }\n    },\n\n    ok: function(e) {\n      this.model.trigger('tileOk');\n    },\n\n    tilesOk: function(e) {\n      this.model.trigger('tileOk');\n    },\n\n    loading: function() {\n      this.trigger(\"loading\");\n    },\n\n    finishLoading: function() {\n      this.trigger(\"load\");\n    }\n\n\n  });\n  return GMapsCartoDBLayerGroupView;\n}\n\ncdb.geo.GMapsCartoDBLayerGroupView = LayerGroupView(CartoDBLayerGroup);\ncdb.geo.GMapsCartoDBNamedMapView = LayerGroupView(CartoDBNamedMap);\n\ncdb.geo.CartoDBNamedMapGMaps = CartoDBNamedMap;\n/**\n* gmaps cartodb layer\n*/\n\n})();\n(function() {\n// if google maps is not defined do not load the class\nif(typeof(google) == \"undefined\" || typeof(google.maps) == \"undefined\")\n  return;\n\n// helper to get pixel position from latlon\nvar Projector = function(map) { this.setMap(map); };\nProjector.prototype = new google.maps.OverlayView();\nProjector.prototype.draw = function() {};\nProjector.prototype.latLngToPixel = function(point) {\n  var p = this.getProjection();\n  if(p) {\n    return p.fromLatLngToContainerPixel(point);\n  }\n  return [0, 0];\n};\nProjector.prototype.pixelToLatLng = function(point) {\n  var p = this.getProjection();\n  if(p) {\n    return p.fromContainerPixelToLatLng(point);\n  }\n  return [0, 0];\n  //return this.map.getProjection().fromPointToLatLng(point);\n};\n\nvar CartoDBLayer = function(options) {\n\n  var default_options = {\n    query:          \"SELECT * FROM {{table_name}}\",\n    opacity:        0.99,\n    attribution:    cdb.config.get('cartodb_attributions'),\n    opacity:        1,\n    debug:          false,\n    visible:        true,\n    added:          false,\n    extra_params:   {},\n    layer_definition_version: '1.0.0'\n  };\n\n  this.options = _.defaults(options, default_options);\n\n  if (!options.table_name || !options.user_name || !options.tile_style) {\n      throw ('cartodb-gmaps needs at least a CartoDB table name, user_name and tile_style');\n  }\n\n\n  this.options.layer_definition = {\n    version: this.options.layer_definition_version,\n    layers: [{\n      type: 'cartodb',\n      options: this._getLayerDefinition(),\n      infowindow: this.options.infowindow\n    }]\n  };\n  cdb.geo.CartoDBLayerGroupGMaps.call(this, this.options);\n\n  this.setOptions(this.options);\n\n};\n\n_.extend(CartoDBLayer.prototype, cdb.geo.CartoDBLayerGroupGMaps.prototype);\n\nCartoDBLayer.prototype.setQuery = function (layer, sql) {\n  if(sql === undefined) {\n    sql = layer;\n    layer = 0;\n  }\n  sql = sql || 'select * from ' + this.options.table_name;\n  LayerDefinition.prototype.setQuery.call(this, layer, sql);\n};\n\ncdb.geo.CartoDBLayerGMaps = CartoDBLayer;\n\n/**\n* gmaps cartodb layer\n*/\n\nvar GMapsCartoDBLayerView = function(layerModel, gmapsMap) {\n  var self = this;\n\n  _.bindAll(this, 'featureOut', 'featureOver', 'featureClick');\n\n  var opts = _.clone(layerModel.attributes);\n\n  opts.map =  gmapsMap;\n\n  var // preserve the user's callbacks\n  _featureOver  = opts.featureOver,\n  _featureOut   = opts.featureOut,\n  _featureClick = opts.featureClick;\n\n  opts.featureOver  = function() {\n    _featureOver  && _featureOver.apply(this, arguments);\n    self.featureOver  && self.featureOver.apply(this, arguments);\n  };\n\n  opts.featureOut  = function() {\n    _featureOut  && _featureOut.apply(this, arguments);\n    self.featureOut  && self.featureOut.apply(this, arguments);\n  };\n\n  opts.featureClick  = function() {\n    _featureClick  && _featureClick.apply(this, arguments);\n    self.featureClick  && self.featureClick.apply(opts, arguments);\n  };\n\n  cdb.geo.CartoDBLayerGMaps.call(this, opts);\n  cdb.geo.GMapsLayerView.call(this, layerModel, this, gmapsMap);\n};\n\ncdb.geo.GMapsCartoDBLayerView = GMapsCartoDBLayerView;\n\n\n_.extend(\n  GMapsCartoDBLayerView.prototype,\n  cdb.geo.CartoDBLayerGMaps.prototype,\n  cdb.geo.GMapsLayerView.prototype,\n  {\n\n  _update: function() {\n    this.setOptions(this.model.attributes);\n  },\n\n  reload: function() {\n    this.model.invalidate();\n  },\n\n  remove: function() {\n    cdb.geo.GMapsLayerView.prototype.remove.call(this);\n    this.clear();\n  },\n\n  featureOver: function(e, latlon, pixelPos, data) {\n    // dont pass gmaps LatLng\n    this.trigger('featureOver', e, [latlon.lat(), latlon.lng()], pixelPos, data, 0);\n  },\n\n  featureOut: function(e) {\n    this.trigger('featureOut', e);\n  },\n\n  featureClick: function(e, latlon, pixelPos, data, layer) {\n    // dont pass leaflet lat/lon\n    this.trigger('featureClick', e, [latlon.lat(), latlon.lng()], pixelPos, data, 0);\n  },\n\n  error: function(e) {\n    if(this.model) {\n      //trigger the error form _checkTiles in the model\n      this.model.trigger('error', e?e.error:'unknown error');\n      this.model.trigger('tileError', e?e.error:'unknown error');\n    }\n  },\n\n  tilesOk: function(e) {\n    this.model.trigger('tileOk');\n  },\n\n  loading: function() {\n    this.trigger(\"loading\");\n  },\n\n  finishLoading: function() {\n    this.trigger(\"load\");\n  }\n\n\n});\n\n})();\n(function() {\n/**\n * view for markers\n */\nfunction PointView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'dragstart',\n    'drag',\n    'dragend'\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n  var style = _.clone(geometryModel.get('style')) || {};\n  var iconAnchor = this.model.get('iconAnchor');\n\n  var icon = {\n    url: this.model.get('iconUrl') || cdb.config.get('assets_url') + '/images/layout/default_marker.png',\n    anchor: {\n      x: iconAnchor && iconAnchor[0] || 10,\n      y: iconAnchor && iconAnchor[1] || 10,\n    }\n  };\n\n  this.geom = new GeoJSON (\n    geometryModel.get('geojson'),\n    {\n      icon: icon,\n      raiseOnDrag: false,\n      crossOnDrag: false\n    }\n  );\n\n  // bind events\n  var i;\n  for(i = 0; i < events.length; ++i) {\n    var e = events[i];\n    google.maps.event.addListener(this.geom, e, self._eventHandler(e));\n  }\n\n  // link dragging\n  this.bind('dragend', function(e, pos) {\n    geometryModel.set({\n      geojson: {\n        type: 'Point',\n        // geojson is lng,lat\n        coordinates: [pos[1], pos[0]]\n      }\n    });\n  });\n}\n\nPointView.prototype = new GeometryView();\n\nPointView.prototype._eventHandler = function(evtType) {\n  var self = this;\n  var h = this._eventHandlers[evtType];\n  if(!h) {\n    h = function(e) {\n      var latlng = e.latLng;\n      var s = [latlng.lat(), latlng.lng()];\n      self.trigger(evtType, e, s);\n    };\n    this._eventHandlers[evtType] = h;\n  }\n  return h;\n};\n\nPointView.prototype.edit = function(enable) {\n  this.geom.setDraggable(enable);\n};\n\n/**\n * view for other geometries (polygons/lines)\n */\nfunction PathView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n\n\n  var style = _.clone(geometryModel.get('style')) || {};\n\n  this.geom = new GeoJSON (\n    geometryModel.get('geojson'),\n    style\n  );\n\n  /*_.each(this.geom._layers, function(g) {\n    g.setStyle(geometryModel.get('style'));\n    g.on('edit', function() {\n      geometryModel.set('geojson', L.GeoJSON.toGeoJSON(self.geom));\n    }, self);\n  });\n  */\n\n  _.bindAll(this, '_updateModel');\n  var self = this;\n\n  function bindPath(p) {\n    google.maps.event.addListener(p, 'insert_at', self._updateModel);\n    /*\n    google.maps.event.addListener(p, 'remove_at', this._updateModel);\n    google.maps.event.addListener(p, 'set_at', this._updateModel);\n    */\n  }\n\n  // TODO: check this conditions\n\n  if(this.geom.getPaths) {\n    var paths = this.geom.getPaths();\n\n    if (paths && paths[0]) {\n      // More than one path\n      for(var i = 0; i < paths.length; ++i) {\n        bindPath(paths[i]);\n      }\n    } else {\n      // One path\n      bindPath(paths);\n      google.maps.event.addListener(this.geom, 'mouseup', this._updateModel);\n    }\n  } else {\n    // More than one path\n    if (this.geom.length) {\n      for(var i = 0; i < this.geom.length; ++i) {\n        bindPath(this.geom[i].getPath());\n        google.maps.event.addListener(this.geom[i], 'mouseup', this._updateModel);\n      }\n    } else {\n      // One path\n      bindPath(this.geom.getPath());\n      google.maps.event.addListener(this.geom, 'mouseup', this._updateModel);\n    }\n  }\n\n  /*for(var i = 0; i < events.length; ++i) {\n    var e = events[i];\n    this.geom.on(e, self._eventHandler(e));\n  }*/\n\n}\n\nPathView.prototype = new GeometryView();\n\nPathView.getGeoJSON = function(geom, gType) {\n\n  var coordFn = {\n    'Polygon': 'getPath',\n    'MultiPolygon': 'getPath',\n    'LineString': 'getPath',\n    'MultiLineString': 'getPath',\n    'Point': 'getPosition',\n    'MultiPoint': 'getPosition'\n  };\n\n  function _coord(latlng) {\n    return [latlng.lng(), latlng.lat()];\n  }\n\n  function _coords(latlngs) {\n    var c = [];\n    for(var i = 0; i < latlngs.length; ++i) {\n      c.push(_coord(latlngs.getAt(i)));\n    }\n    return c;\n  }\n\n  // single\n  if(!geom.length || geom.length == 1) {\n    var g = geom.length ? geom[0]: geom;\n    var coords;\n    if(gType == 'Point') {\n      coords = _coord(g.getPosition());\n    } else if(gType == 'MultiPoint') {\n      coords = [_coord(g.getPosition())]\n    } else if(gType == 'Polygon') {\n      coords = [_coords(g.getPath())];\n      coords[0].push(_coord(g.getPath().getAt(0)));\n    } else if(gType == 'MultiPolygon') {\n      coords = [];\n      for(var p = 0; p < g.getPaths().length; ++p) {\n        var c = _coords(g.getPaths().getAt(p));\n        c.push(_coord(g.getPaths().getAt(p).getAt(0)));\n        coords.push(c);\n      }\n      coords = [coords]\n    } else if(gType == 'LineString') {\n      coords = _coords(g.getPath());\n    } else if(gType == 'MultiLineString') {\n      //TODO: redo\n      coords = [_coords(g.getPath())];\n    }\n    return {\n      type: gType,\n      coordinates: coords\n    }\n  } else {\n    // poly\n    var c = [];\n    for(var i = 0; i < geom.length; ++i) {\n      c.push(PathView.getGeoJSON(geom[i], gType).coordinates[0]);\n    }\n    return  {\n      type: gType,\n      coordinates: c\n    }\n  }\n}\n\nPathView.prototype._updateModel = function(e) {\n  var self = this;\n  setTimeout(function() {\n  self.model.set('geojson', PathView.getGeoJSON(self.geom, self.model.get('geojson').type ));\n  }, 100)\n}\n\nPathView.prototype.edit = function(enable) {\n\n  var fn = enable ? 'enable': 'disable';\n  var g = this.geom.length ? this.geom: [this.geom];\n  for(var i = 0; i < g.length; ++i) {\n    g[i].setEditable(enable);\n  }\n  if(!enable) {\n    this.model.set('geojson', PathView.getGeoJSON(this.geom, this.model.get('geojson').type));\n  }\n};\n\ncdb.geo.gmaps = cdb.geo.gmaps || {};\n\ncdb.geo.gmaps.PointView = PointView;\ncdb.geo.gmaps.PathView = PathView;\n\n\n\n})();\n\n// if google maps is not defined do not load the class\nif(typeof(google) != \"undefined\" && typeof(google.maps) != \"undefined\") {\n\n  var DEFAULT_MAP_STYLE = [ { stylers: [ { saturation: -65 }, { gamma: 1.52 } ] },{ featureType: \"administrative\", stylers: [ { saturation: -95 }, { gamma: 2.26 } ] },{ featureType: \"water\", elementType: \"labels\", stylers: [ { visibility: \"off\" } ] },{ featureType: \"administrative.locality\", stylers: [ { visibility: \"off\" } ] },{ featureType: \"road\", stylers: [ { visibility: \"simplified\" }, { saturation: -99 }, { gamma: 2.22 } ] },{ featureType: \"poi\", elementType: \"labels\", stylers: [ { visibility: \"off\" } ] },{ featureType: \"road.arterial\", stylers: [ { visibility: \"off\" } ] },{ featureType: \"road.local\", elementType: \"labels\", stylers: [ { visibility: \"off\" } ] },{ featureType: \"transit\", stylers: [ { visibility: \"off\" } ] },{ featureType: \"road\", elementType: \"labels\", stylers: [ { visibility: \"off\" } ] },{ featureType: \"poi\", stylers: [ { saturation: -55 } ] } ];\n\n\n\n  cdb.geo.GoogleMapsMapView = cdb.geo.MapView.extend({\n\n    layerTypeMap: {\n      \"tiled\": cdb.geo.GMapsTiledLayerView,\n      \"cartodb\": cdb.geo.GMapsCartoDBLayerView,\n      \"carto\": cdb.geo.GMapsCartoDBLayerView,\n      \"plain\": cdb.geo.GMapsPlainLayerView,\n      \"gmapsbase\": cdb.geo.GMapsBaseLayerView,\n      \"layergroup\": cdb.geo.GMapsCartoDBLayerGroupView,\n      \"namedmap\": cdb.geo.GMapsCartoDBNamedMapView,\n      \"torque\": function(layer, map) {\n        return new cdb.geo.GMapsTorqueLayerView(layer, map);\n      },\n      \"wms\": cdb.geo.LeafLetWMSLayerView\n    },\n\n    initialize: function() {\n      _.bindAll(this, '_ready');\n      this._isReady = false;\n      var self = this;\n\n      cdb.geo.MapView.prototype.initialize.call(this);\n\n      var bounds = this.map.getViewBounds();\n\n      if (bounds) {\n        this.showBounds(bounds);\n      }\n\n      var center = this.map.get('center');\n\n      if (!this.options.map_object) {\n\n        this.map_googlemaps = new google.maps.Map(this.el, {\n          center: new google.maps.LatLng(center[0], center[1]),\n          zoom: this.map.get('zoom'),\n          minZoom: this.map.get('minZoom'),\n          maxZoom: this.map.get('maxZoom'),\n          disableDefaultUI: true,\n          // Set scrollwheel options\n          scrollwheel: this.map.get(\"scrollwheel\"),\n          // Allow dragging (and double click zoom)\n          draggable: this.map.get(\"drag\"),\n          disableDoubleClickZoom: !this.map.get(\"drag\"),\n          mapTypeControl:false,\n          mapTypeId: google.maps.MapTypeId.ROADMAP,\n          backgroundColor: 'white',\n          tilt: 0\n        });\n\n        this.map.bind('change:maxZoom', function() {\n          self.map_googlemaps.setOptions({ maxZoom: self.map.get('maxZoom') });\n        }, this);\n\n        this.map.bind('change:minZoom', function() {\n          self.map_googlemaps.setOptions({ minZoom: self.map.get('minZoom') });\n        }, this);\n\n      } else {\n\n        this.map_googlemaps = this.options.map_object;\n        this.setElement(this.map_googlemaps.getDiv());\n\n        // fill variables\n        var c = self.map_googlemaps.getCenter();\n\n        self._setModelProperty({ center: [c.lat(), c.lng()] });\n        self._setModelProperty({ zoom: self.map_googlemaps.getZoom() });\n\n        // unset bounds to not change mapbounds\n        self.map.unset('view_bounds_sw', { silent: true });\n        self.map.unset('view_bounds_ne', { silent: true });\n\n      }\n\n      this.map.geometries.bind('add', this._addGeometry, this);\n      this.map.geometries.bind('remove', this._removeGeometry, this);\n\n\n      this._bindModel();\n      this._addLayers();\n      this.setAttribution();\n\n      google.maps.event.addListener(this.map_googlemaps, 'center_changed', function() {\n        var c = self.map_googlemaps.getCenter();\n        self._setModelProperty({ center: [c.lat(), c.lng()] });\n      });\n\n      google.maps.event.addListener(this.map_googlemaps, 'zoom_changed', function() {\n        self._setModelProperty({\n          zoom: self.map_googlemaps.getZoom()\n        });\n      });\n\n      google.maps.event.addListener(this.map_googlemaps, 'click', function(e) {\n        self.trigger('click', e, [e.latLng.lat(), e.latLng.lng()]);\n      });\n\n      google.maps.event.addListener(this.map_googlemaps, 'dragend', function(e) {\n        var c = self.map_googlemaps.getCenter();\n        self.trigger('dragend', e, [c.lat(), c.lng()]);\n      });\n\n      google.maps.event.addListener(this.map_googlemaps, 'dblclick', function(e) {\n        self.trigger('dblclick', e);\n      });\n\n      this.map.layers.bind('add', this._addLayer, this);\n      this.map.layers.bind('remove', this._removeLayer, this);\n      this.map.layers.bind('reset', this._addLayers, this);\n      this.map.layers.bind('change:type', this._swicthLayerView, this);\n\n      this.projector = new cdb.geo.CartoDBLayerGroupGMaps.Projector(this.map_googlemaps);\n\n      this.projector.draw = this._ready;\n    },\n\n    _ready: function() {\n      this.projector.draw = function() {};\n      this.trigger('ready');\n      this._isReady = true;\n    },\n\n    _setKeyboard: function(model, z) {\n      this.map_googlemaps.setOptions({ keyboardShortcuts: z });\n    },\n\n    _setScrollWheel: function(model, z) {\n      this.map_googlemaps.setOptions({ scrollwheel: z });\n    },\n\n    _setZoom: function(model, z) {\n      z = z || 0;\n      this.map_googlemaps.setZoom(z);\n    },\n\n    _setCenter: function(model, center) {\n      var c = new google.maps.LatLng(center[0], center[1]);\n      this.map_googlemaps.setCenter(c);\n    },\n\n    createLayer: function(layer) {\n      var layer_view,\n      layerClass = this.layerTypeMap[layer.get('type').toLowerCase()];\n\n      if (layerClass) {\n        try {\n          layer_view = new layerClass(layer, this.map_googlemaps);\n        } catch(e) {\n          cdb.log.error(\"MAP: error creating '\" +  layer.get('type') + \"' layer -> \" + e.message);\n        }\n      } else {\n        cdb.log.error(\"MAP: \" + layer.get('type') + \" can't be created\");\n      }\n      return layer_view;\n    },\n\n    _addLayer: function(layer, layers, opts) {\n      opts = opts || {};\n      var self = this;\n      var lyr, layer_view;\n\n      layer_view = this.createLayer(layer);\n\n      if (!layer_view) {\n        return;\n      }\n      return this._addLayerToMap(layer_view, opts);\n    },\n\n    _addLayerToMap: function(layer_view, opts) {\n      var layer = layer_view.model;\n\n      this.layers[layer.cid] = layer_view;\n\n      if (layer_view) {\n        var idx = _(this.layers).filter(function(lyr) { return !!lyr.getTile; }).length - 1;\n        var isBaseLayer = _.keys(this.layers).length === 1 || (opts && opts.index === 0) || layer.get('order') === 0;\n        // set base layer\n        if(isBaseLayer && !opts.no_base_layer) {\n          var m = layer_view.model;\n          if(m.get('type') === 'GMapsBase') {\n            layer_view._update();\n          } else {\n            layer_view.isBase = true;\n            layer_view._update();\n          }\n        } else {\n          idx -= 1;\n          idx = Math.max(0, idx); // avoid -1\n          if (layer_view.getTile) {\n            if (!layer_view.gmapsLayer) {\n              cdb.log.error(\"gmaps layer can't be null\");\n            }\n            this.map_googlemaps.overlayMapTypes.setAt(idx, layer_view.gmapsLayer);\n          } else {\n            layer_view.gmapsLayer.setMap(this.map_googlemaps);\n          }\n        }\n        if(opts === undefined || !opts.silent) {\n          this.trigger('newLayerView', layer_view, layer, this);\n        }\n      } else {\n        cdb.log.error(\"layer type not supported\");\n      }\n\n      return layer_view;\n    },\n\n    pixelToLatLon: function(pos) {\n      var latLng = this.projector.pixelToLatLng(new google.maps.Point(pos[0], pos[1]));\n      return {\n        lat: latLng.lat(),\n        lng: latLng.lng()\n      }\n    },\n\n    latLonToPixel: function(latlon) {\n      return this.projector.latLngToPixel(new google.maps.LatLng(latlon[0], latlon[1]));\n    },\n\n    getSize: function() {\n      return {\n        x: this.$el.width(),\n        y: this.$el.height()\n      };\n    },\n\n    panBy: function(p) {\n      var c = this.map.get('center');\n      var pc = this.latLonToPixel(c);\n      p.x += pc.x;\n      p.y += pc.y;\n      var ll = this.projector.pixelToLatLng(p);\n      this.map.setCenter([ll.lat(), ll.lng()]);\n    },\n\n    getBounds: function() {\n      if(this._isReady) {\n        var b = this.map_googlemaps.getBounds();\n        var sw = b.getSouthWest();\n        var ne = b.getNorthEast();\n        return [\n          [sw.lat(), sw.lng()],\n          [ne.lat(), ne.lng()]\n        ];\n      }\n      return [ [0,0], [0,0] ];\n    },\n\n  setAttribution: function() {\n    // Remove old one\n    var old = document.getElementById(\"cartodb-gmaps-attribution\")\n      , attribution = cdb.core.sanitize.html(this.map.get(\"attribution\").join(\", \"));\n\n      // If div already exists, remove it\n      if (old) {\n        old.parentNode.removeChild(old);\n      }\n\n      // Add new one\n      var container           = this.map_googlemaps.getDiv()\n        , cartodb_attribution = document.createElement(\"div\");\n\n      cartodb_attribution.setAttribute('id','cartodb-gmaps-attribution');\n      cartodb_attribution.setAttribute('class', 'gmaps');\n      container.appendChild(cartodb_attribution);\n      cartodb_attribution.innerHTML = attribution;\n    },\n\n    setCursor: function(cursor) {\n      this.map_googlemaps.setOptions({ draggableCursor: cursor });\n    },\n\n    _addGeomToMap: function(geom) {\n      var geo = cdb.geo.GoogleMapsMapView.createGeometry(geom);\n      if(geo.geom.length) {\n        for(var i = 0 ; i < geo.geom.length; ++i) {\n          geo.geom[i].setMap(this.map_googlemaps);\n        }\n      } else {\n          geo.geom.setMap(this.map_googlemaps);\n      }\n      return geo;\n    },\n\n    _removeGeomFromMap: function(geo) {\n      if(geo.geom.length) {\n        for(var i = 0 ; i < geo.geom.length; ++i) {\n          geo.geom[i].setMap(null);\n        }\n      } else {\n        geo.geom.setMap(null);\n      }\n    },\n\n    getNativeMap: function() {\n      return this.map_googlemaps;\n    },\n\n    invalidateSize: function() {\n      google.maps.event.trigger(this.map_googlemaps, 'resize');\n    }\n\n  }, {\n\n    addLayerToMap: function(layer, map, pos) {\n      pos = pos || 0;\n      if (!layer) {\n        cdb.log.error(\"gmaps layer can't be null\");\n      }\n      if (layer.getTile) {\n        map.overlayMapTypes.setAt(pos, layer);\n      } else {\n        layer.setMap(map);\n      }\n    },\n\n    /**\n    * create the view for the geometry model\n    */\n    createGeometry: function(geometryModel) {\n      if(geometryModel.isPoint()) {\n        return new cdb.geo.gmaps.PointView(geometryModel);\n      }\n      return new cdb.geo.gmaps.PathView(geometryModel);\n    }\n  });\n\n}\n/**\n * generic dialog\n *\n * this opens a dialog in the middle of the screen rendering\n * a dialog using cdb.templates 'common/dialog' or template_base option.\n *\n * inherit class should implement render_content (it could return another widget)\n *\n * usage example:\n *\n *    var MyDialog = cdb.ui.common.Dialog.extend({\n *      render_content: function() {\n *        return \"my content\";\n *      },\n *    })\n *    var dialog = new MyDialog({\n *        title: 'test',\n *        description: 'long description here',\n *        template_base: $('#base_template').html(),\n *        width: 500\n *    });\n *\n *    $('body').append(dialog.render().el);\n *    dialog.open();\n *\n * TODO: implement draggable\n * TODO: modal\n * TODO: document modal_type\n */\n\ncdb.ui.common.Dialog = cdb.core.View.extend({\n\n  tagName: 'div',\n  className: 'dialog',\n\n  events: {\n    'click .ok': '_ok',\n    'click .cancel': '_cancel',\n    'click .close': '_cancel'\n  },\n\n  default_options: {\n    title: 'title',\n    description: '',\n    ok_title: 'Ok',\n    cancel_title: 'Cancel',\n    width: 300,\n    height: 200,\n    clean_on_hide: false,\n    enter_to_confirm: false,\n    template_name: 'old_common/views/dialog_base',\n    ok_button_classes: 'button green',\n    cancel_button_classes: '',\n    modal_type: '',\n    modal_class: '',\n    include_footer: true,\n    additionalButtons: []\n  },\n\n  initialize: function() {\n    _.defaults(this.options, this.default_options);\n\n    _.bindAll(this, 'render', '_keydown');\n\n    // Keydown bindings for the dialog\n    $(document).bind('keydown', this._keydown);\n\n    // After removing the dialog, cleaning other bindings\n    this.bind(\"clean\", this._reClean);\n\n    this.template_base = this.options.template_base ? _.template(this.options.template_base) : cdb.templates.getTemplate(this.options.template_name);\n  },\n\n  render: function() {\n    var $el = this.$el;\n\n    $el.html(this.template_base(this.options));\n\n    $el.find(\".modal\").css({\n      width: this.options.width\n      //height: this.options.height\n      //'margin-left': -this.options.width>>1,\n      //'margin-top': -this.options.height>>1\n    });\n\n    if(this.render_content) {\n\n      this.$('.content').append(this.render_content());\n    }\n\n    if(this.options.modal_class) {\n      this.$el.addClass(this.options.modal_class);\n    }\n\n    return this;\n  },\n\n\n  _keydown: function(e) {\n    // If clicks esc, goodbye!\n    if (e.keyCode === 27) {\n      this._cancel();\n    // If clicks enter, same as you click on ok button.\n    } else if (e.keyCode === 13 && this.options.enter_to_confirm) {\n      this._ok();\n    }\n  },\n\n  /**\n   * helper method that renders the dialog and appends it to body\n   */\n  appendToBody: function() {\n    $('body').append(this.render().el);\n    return this;\n  },\n\n  _ok: function(ev) {\n\n   if(ev) ev.preventDefault();\n\n    if (this.ok) {\n      this.ok(this.result);\n    }\n\n    this.hide();\n\n  },\n\n  _cancel: function(ev) {\n\n    if (ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n\n    if (this.cancel) {\n      this.cancel();\n    }\n\n    this.hide();\n\n  },\n\n  hide: function() {\n\n    this.$el.hide();\n\n    if (this.options.clean_on_hide) {\n      this.clean();\n    }\n\n  },\n\n  open: function() {\n\n    this.$el.show();\n\n  },\n\n  _reClean: function() {\n\n    $(document).unbind('keydown', this._keydown);\n\n  }\n\n});\n\ncdb.ui.common.ShareDialog = cdb.ui.common.Dialog.extend({\n\n  tagName: 'div',\n  className: 'cartodb-share-dialog',\n\n  events: {\n    'click .ok':       '_ok',\n    'click .cancel':   '_cancel',\n    'click .close':    '_cancel',\n    \"click\":           '_stopPropagation',\n    \"dblclick\":        '_stopPropagation',\n    \"mousedown\":       '_stopPropagation'\n  },\n\n  default_options: {\n    title: '',\n    description: '',\n    ok_title: 'Ok',\n    cancel_title: 'Cancel',\n    width: 300,\n    height: 200,\n    clean_on_hide: false,\n    enter_to_confirm: false,\n    template_name: 'old_common/views/dialog_base',\n    ok_button_classes: 'button green',\n    cancel_button_classes: '',\n    modal_type: '',\n    modal_class: '',\n    include_footer: true,\n    additionalButtons: []\n  },\n\n  initialize: function() {\n\n    _.defaults(this.options, this.default_options);\n\n    _.bindAll(this, 'render', '_keydown');\n\n    this.isOpen = false;\n\n    var self = this;\n\n    if (this.options.target) {\n      this.options.target.on(\"click\", function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        self.open();\n\n      })\n    }\n\n    // Keydown bindings for the dialog\n    $(document).bind('keydown', this._keydown);\n\n    // After removing the dialog, cleaning other bindings\n    this.bind(\"clean\", this._reClean);\n\n  },\n\n  _stopPropagation: function(ev) {\n\n    ev.stopPropagation();\n\n  },\n\n  _stripHTML: function(input, allowed) {\n\n    allowed = (((allowed || \"\") + \"\").toLowerCase().match(/<[a-z][a-z0-9]*>/g) || []).join('');\n\n    var tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi;\n\n    if (!input || (typeof input != \"string\")) return '';\n\n    return input.replace(tags, function ($0, $1) {\n      return allowed.indexOf('<' + $1.toLowerCase() + '>') > -1 ? $0 : '';\n    });\n\n  },\n\n  open: function() {\n\n    var self = this;\n\n    this.$el.show(0, function(){\n      self.isOpen = true;\n    });\n\n  },\n\n  hide: function() {\n\n    var self = this;\n\n    this.$el.hide(0, function(){\n      self.isOpen = false;\n    });\n\n    if (this.options.clean_on_hide) {\n      this.clean();\n    }\n\n  },\n\n  toggle: function() {\n\n    if (this.isOpen) {\n      this.hide();\n    } else {\n      this.open();\n    }\n\n  },\n\n  _truncateTitle: function(s, length) {\n\n    return s.substr(0, length-1) + (s.length > length ? '…' : '');\n\n  },\n\n  render: function() {\n\n    var $el = this.$el;\n\n    var title             = cdb.core.sanitize.html(this.options.title);\n    var description       = cdb.core.sanitize.html(this.options.description);\n    var clean_description = this._stripHTML(this.options.description);\n    var share_url         = this.options.share_url;\n\n    var facebook_url, twitter_url;\n\n    this.$el.addClass(this.options.size);\n\n    var full_title    = title + \": \" + clean_description;\n    var twitter_title;\n\n    if (title && clean_description) {\n      twitter_title = this._truncateTitle(title + \": \" + clean_description, 112) + \" %23map \"\n    } else if (title) {\n      twitter_title = this._truncateTitle(title, 112) + \" %23map\"\n    } else if (clean_description){\n      twitter_title = this._truncateTitle(clean_description, 112) + \" %23map\"\n    } else {\n      twitter_title = \"%23map\"\n    }\n\n    if (this.options.facebook_url) {\n      facebook_url = this.options.facebook_url;\n    } else {\n      facebook_url = \"http://www.facebook.com/sharer.php?u=\" + share_url + \"&text=\" + full_title;\n    }\n\n    if (this.options.twitter_url) {\n      twitter_url = this.options.twitter_url;\n    } else {\n      twitter_url = \"https://twitter.com/share?url=\" + share_url + \"&text=\" + twitter_title;\n    }\n\n    var options = _.extend(this.options, { facebook_url: facebook_url, twitter_url: twitter_url });\n\n    $el.html(this.options.template(options));\n\n    $el.find(\".modal\").css({\n      width: this.options.width\n    });\n\n    if (this.render_content) {\n      this.$('.content').append(this.render_content());\n    }\n\n    if(this.options.modal_class) {\n      this.$el.addClass(this.options.modal_class);\n    }\n\n    if (this.options.disableLinks) {\n      this.$el.find(\"a\").attr(\"target\", \"\");\n    }\n\n    return this;\n  }\n\n});\n/**\n * generic embbed notification, like twitter \"new notifications\"\n *\n * it shows slowly the notification with a message and a close button.\n * Optionally you can set a timeout to close\n *\n * usage example:\n *\n      var notification = new cdb.ui.common.Notificaiton({\n          el: \"#notification_element\",\n          msg: \"error!\",\n          timeout: 1000\n      });\n      notification.show();\n      // close it\n      notification.close();\n*/\n\ncdb.ui.common.Notification = cdb.core.View.extend({\n\n  tagName: 'div',\n  className: 'dialog',\n\n  events: {\n    'click .close': 'hide'\n  },\n\n  default_options: {\n      timeout: 0,\n      msg: '',\n      hideMethod: '',\n      duration: 'normal'\n  },\n\n  initialize: function() {\n    this.closeTimeout = -1;\n    _.defaults(this.options, this.default_options);\n    this.template = this.options.template ? _.template(this.options.template) : cdb.templates.getTemplate('common/notification');\n\n    this.$el.hide();\n  },\n\n  render: function() {\n    var $el = this.$el;\n    $el.html(this.template(this.options));\n    if(this.render_content) {\n      this.$('.content').append(this.render_content());\n    }\n    return this;\n  },\n\n  hide: function(ev) {\n    var self = this;\n    if (ev)\n      ev.preventDefault();\n    clearTimeout(this.closeTimeout);\n    if(this.options.hideMethod != '' && this.$el.is(\":visible\") ) {\n      this.$el[this.options.hideMethod](this.options.duration, 'swing', function() {\n        self.$el.html('');\n        self.trigger('notificationDeleted');\n        self.remove();\n      });\n    } else {\n      this.$el.hide();\n      self.$el.html('');\n      self.trigger('notificationDeleted');\n      self.remove();\n    }\n\n  },\n\n  open: function(method, options) {\n    this.render();\n    this.$el.show(method, options);\n    if(this.options.timeout) {\n        this.closeTimeout = setTimeout(_.bind(this.hide, this), this.options.timeout);\n    }\n  }\n\n});\n\n/**\n * generic table\n *\n * this class creates a HTML table based on Table model (see below) and modify it based on model changes\n *\n * usage example:\n *\n      var table = new Table({\n          model: table\n      });\n\n      $('body').append(table.render().el);\n\n  * model should be a collection of Rows\n\n */\n\n/**\n * represents a table row\n */\ncdb.ui.common.Row = cdb.core.Model.extend({\n});\n\ncdb.ui.common.TableData = Backbone.Collection.extend({\n    model: cdb.ui.common.Row,\n    fetched: false,\n\n    initialize: function() {\n      var self = this;\n      this.bind('reset', function() {\n        self.fetched = true;\n      })\n    },\n\n    /**\n     * get value for row index and columnName\n     */\n    getCell: function(index, columnName) {\n      var r = this.at(index);\n      if(!r) {\n        return null;\n      }\n      return r.get(columnName);\n    },\n\n    isEmpty: function() {\n      return this.length === 0;\n    }\n\n});\n\n/**\n * contains information about the table, mainly the schema\n */\ncdb.ui.common.TableProperties = cdb.core.Model.extend({\n\n  columnNames: function() {\n    return _.map(this.get('schema'), function(c) {\n      return c[0];\n    });\n  },\n\n  columnName: function(idx) {\n    return this.columnNames()[idx];\n  }\n});\n\n/**\n * renders a table row\n */\ncdb.ui.common.RowView = cdb.core.View.extend({\n  tagName: 'tr',\n\n  initialize: function() {\n\n    this.model.bind('change', this.render, this);\n    this.model.bind('destroy', this.clean, this);\n    this.model.bind('remove', this.clean, this);\n    this.model.bind('change', this.triggerChange, this);\n    this.model.bind('sync', this.triggerSync, this);\n    this.model.bind('error', this.triggerError, this);\n\n    this.add_related_model(this.model);\n    this.order = this.options.order;\n  },\n\n  triggerChange: function() {\n    this.trigger('changeRow');\n  },\n\n  triggerSync: function() {\n    this.trigger('syncRow');\n  },\n\n  triggerError: function() {\n    this.trigger('errorRow')\n  },\n\n  valueView: function(colName, value) {\n    return value;\n  },\n\n  render: function() {\n    var self = this;\n    var row = this.model;\n\n    var tr = '';\n\n    var tdIndex = 0;\n    var td;\n    if(this.options.row_header) {\n        td = '<td class=\"rowHeader\" data-x=\"' + tdIndex + '\">';\n    } else {\n        td = '<td class=\"EmptyRowHeader\" data-x=\"' + tdIndex + '\">';\n    }\n    var v = self.valueView('', '');\n    if(v.html) {\n      v = v[0].outerHTML;\n    }\n    td += v;\n    td += '</td>';\n    tdIndex++;\n    tr += td\n\n    var attrs = this.order || _.keys(row.attributes);\n    var tds = '';\n    var row_attrs = row.attributes;\n    for(var i = 0, len = attrs.length; i < len; ++i) {\n      var key = attrs[i];\n      var value = row_attrs[key];\n      if(value !== undefined) {\n        var td = '<td id=\"cell_' + row.id + '_' + key + '\" data-x=\"' + tdIndex + '\">';\n        var v = self.valueView(key, value);\n        if(v.html) {\n          v = v[0].outerHTML;\n        }\n        td += v;\n        td += '</td>';\n        tdIndex++;\n        tds += td;\n      }\n    }\n    tr += tds;\n    this.$el.html(tr).attr('id', 'row_' + row.id);\n    return this;\n  },\n\n  getCell: function(x) {\n    var childNo = x;\n    if(this.options.row_header) {\n      ++x;\n    }\n    return this.$('td:eq(' + x + ')');\n  },\n\n  getTableView: function() {\n    return this.tableView;\n  }\n\n});\n\n/**\n * render a table\n * this widget needs two data sources\n * - the table model which contains information about the table (columns and so on). See TableProperties\n * - the model with the data itself (TableData)\n */\ncdb.ui.common.Table = cdb.core.View.extend({\n\n  tagName: 'table',\n  rowView: cdb.ui.common.RowView,\n\n  events: {\n      'click td': '_cellClick',\n      'dblclick td': '_cellDblClick'\n  },\n\n  default_options: {\n  },\n\n  initialize: function() {\n    var self = this;\n    _.defaults(this.options, this.default_options);\n    this.dataModel = this.options.dataModel;\n    this.rowViews = [];\n\n    // binding\n    this.setDataSource(this.dataModel);\n    this.model.bind('change', this.render, this);\n    this.model.bind('change:dataSource', this.setDataSource, this);\n\n    // assert the rows are removed when table is removed\n    this.bind('clean', this.clear_rows, this);\n\n    // prepare for cleaning\n    this.add_related_model(this.dataModel);\n    this.add_related_model(this.model);\n\n    // we need to use custom signals to make the tableview aware of a row being deleted,\n    // because when you delete a point from the map view, sometimes it isn't on the dataModel\n    // collection, so its destroy doesn't bubble throught there.\n    // Also, the only non-custom way to acknowledge that a row has been correctly deleted from a server is with\n    // a sync, that doesn't bubble through the table\n    this.model.bind('removing:row', function() {\n      self.rowsBeingDeleted = self.rowsBeingDeleted ? self.rowsBeingDeleted +1 : 1;\n      self.rowDestroying();\n    });\n    this.model.bind('remove:row', function() {\n      if(self.rowsBeingDeleted > 0) {\n        self.rowsBeingDeleted--;\n        self.rowDestroyed();\n        if(self.dataModel.length == 0) {\n          self.emptyTable();\n        }\n      }\n    });\n\n  },\n\n  headerView: function(column) {\n      return column[0];\n  },\n\n  setDataSource: function(dm) {\n    if(this.dataModel) {\n      this.dataModel.unbind(null, null, this);\n    }\n    this.dataModel = dm;\n    this.dataModel.bind('reset', this._renderRows, this);\n    this.dataModel.bind('error', this._renderRows, this);\n    this.dataModel.bind('add', this.addRow, this);\n  },\n\n  _renderHeader: function() {\n    var self = this;\n    var thead = $(\"<thead>\");\n    var tr = $(\"<tr>\");\n    if(this.options.row_header) {\n      tr.append($(\"<th>\").append(self.headerView(['', 'header'])));\n    } else {\n      tr.append($(\"<th>\").append(self.headerView(['', 'header'])));\n    }\n    _(this.model.get('schema')).each(function(col) {\n      tr.append($(\"<th>\").append(self.headerView(col)));\n    });\n    thead.append(tr);\n    return thead;\n  },\n\n  /**\n   * remove all rows\n   */\n  clear_rows: function() {\n    this.$('tfoot').remove();\n    this.$('tr.noRows').remove();\n\n    // unbind rows before cleaning them when all are gonna be removed\n    var rowView = null;\n    while(rowView = this.rowViews.pop()) {\n      // this is a hack to avoid all the elements are removed one by one\n      rowView.unbind(null, null, this);\n      // each element removes itself from rowViews\n      rowView.clean();\n    }\n    // clean all the html at the same time\n    this.rowViews = [];\n  },\n\n  /**\n   * add rows\n   */\n  addRow: function(row, collection, options) {\n    var self = this;\n    var tr = new self.rowView({\n      model: row,\n      order: this.model.columnNames(),\n      row_header: this.options.row_header\n    });\n    tr.tableView = this;\n\n    tr.bind('clean', function() {\n      var idx = _.indexOf(self.rowViews, tr);\n      self.rowViews.splice(idx, 1);\n      // update index\n      for(var i = idx; i < self.rowViews.length; ++i) {\n        self.rowViews[i].$el.attr('data-y', i);\n      }\n    }, this);\n    tr.bind('changeRow', this.rowChanged, this);\n    tr.bind('saved', this.rowSynched, this);\n    tr.bind('errorSaving', this.rowFailed, this);\n    tr.bind('saving', this.rowSaving, this);\n    this.retrigger('saving', tr);\n\n    tr.render();\n    if(options && options.index !== undefined && options.index != self.rowViews.length) {\n\n      tr.$el.insertBefore(self.rowViews[options.index].$el);\n      self.rowViews.splice(options.index, 0, tr);\n      //tr.$el.attr('data-y', options.index);\n      // change others view data-y attribute\n      for(var i = options.index; i < self.rowViews.length; ++i) {\n        self.rowViews[i].$el.attr('data-y', i);\n      }\n    } else {\n      // at the end\n      tr.$el.attr('data-y', self.rowViews.length);\n      self.$el.append(tr.el);\n      self.rowViews.push(tr);\n    }\n\n    this.trigger('createRow');\n  },\n\n  /**\n  * Callback executed when a row change\n  * @method rowChanged\n  * @abstract\n  */\n  rowChanged: function() {},\n\n  /**\n  * Callback executed when a row is sync\n  * @method rowSynched\n  * @abstract\n  */\n  rowSynched: function() {},\n\n  /**\n  * Callback executed when a row fails to reach the server\n  * @method rowFailed\n  * @abstract\n  */\n  rowFailed: function() {},\n\n  /**\n  * Callback executed when a row send a POST to the server\n  * @abstract\n  */\n  rowSaving: function() {},\n\n  /**\n  * Callback executed when a row is being destroyed\n  * @method rowDestroyed\n  * @abstract\n  */\n  rowDestroying: function() {},\n\n  /**\n  * Callback executed when a row gets destroyed\n  * @method rowDestroyed\n  * @abstract\n  */\n  rowDestroyed: function() {},\n\n  /**\n  * Callback executed when a row gets destroyed and the table data is empty\n  * @method emptyTable\n  * @abstract\n  */\n  emptyTable: function() {},\n\n  /**\n  * Checks if the table is empty\n  * @method isEmptyTable\n  * @returns boolean\n  */\n  isEmptyTable: function() {\n    return (this.dataModel.length === 0 && this.dataModel.fetched)\n  },\n\n  /**\n   * render only data rows\n   */\n  _renderRows: function() {\n    this.clear_rows();\n    if(! this.isEmptyTable()) {\n      if(this.dataModel.fetched) {\n        var self = this;\n\n        this.dataModel.each(function(row) {\n          self.addRow(row);\n        });\n      } else {\n        this._renderLoading();\n      }\n    } else {\n      this._renderEmpty();\n    }\n\n  },\n\n  _renderLoading: function() {\n  },\n\n  _renderEmpty: function() {\n  },\n\n  /**\n  * Method for the children to redefine with the table behaviour when it has no rows.\n  * @method addEmptyTableInfo\n  * @abstract\n  */\n  addEmptyTableInfo: function() {\n    // #to be overwrite by descendant classes\n  },\n\n  /**\n   * render table\n   */\n  render: function() {\n    var self = this;\n\n    // render header\n    self.$el.html(self._renderHeader());\n\n    // render data\n    self._renderRows();\n\n    return this;\n\n  },\n\n  /**\n   * return jquery cell element of cell x,y\n   */\n  getCell: function(x, y) {\n    if(this.options.row_header) {\n      ++y;\n    }\n    return this.rowViews[y].getCell(x);\n  },\n\n  _cellClick: function(e, evtName) {\n    evtName = evtName || 'cellClick';\n    e.preventDefault();\n    var cell = $(e.currentTarget || e.target);\n    var x = parseInt(cell.attr('data-x'), 10);\n    var y = parseInt(cell.parent().attr('data-y'), 10);\n    this.trigger(evtName, e, cell, x, y);\n  },\n\n  _cellDblClick: function(e) {\n    this._cellClick(e, 'cellDblClick');\n  }\n\n\n});\n/**\n * Show a dropdown from the target\n *\n * It shows the several options of the user settings\n *\n * usage example:\n *\n *    var settings = new cdb.ui.common.Dropdown({\n *        el: \"#settings_element\",\n *        speedIn: 300,\n *        speedOut: 200\n *    });\n *    // show it\n *    settings.show();\n *    // close it\n *    settings.close();\n*/\n\ncdb.ui.common.Dropdown = cdb.core.View.extend({\n\n  tagName: 'div',\n  className: 'dropdown',\n\n  events: {\n    \"click ul li a\" : \"_fireClick\"\n  },\n\n  default_options: {\n    width: 160,\n    speedIn: 150,\n    speedOut: 300,\n    vertical_position: \"down\",\n    horizontal_position: \"right\",\n    tick: \"right\",\n    vertical_offset: 0,\n    horizontal_offset: 0\n  },\n\n  initialize: function() {\n    _.bindAll(this, \"open\", \"hide\", \"_handleClick\", \"_keydown\");\n\n    // Extend options\n    _.defaults(this.options, this.default_options);\n\n    // Dropdown template\n    if (this.options.template_base) {\n      this.template_base = cdb.templates.getTemplate(this.options.template_base);\n    } else if (this.options.template) {\n      this.template_base = this.options.template;\n    }\n\n    // Bind to target\n    $(this.options.target).bind({\"click\": this._handleClick});\n\n    // Bind ESC key\n    $(document).bind('keydown', this._keydown);\n\n    // Is open flag\n    this.isOpen = false;\n\n  },\n\n  render: function() {\n    // Render\n    var $el = this.$el;\n    $el\n      .html(this.template_base(this.options))\n      .css({\n        width: this.options.width\n      })\n    return this;\n  },\n\n  _handleClick: function(ev) {\n    //Check if the dropdown is visible to hiding with the click on the target\n    if (ev){\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n    // If visible\n    if (this.isOpen){\n      this.hide();\n    }else{\n      this.open();\n    }\n  },\n\n  _keydown: function(e) {\n    if (e.keyCode === 27) {\n      this.hide();\n    }\n  },\n\n  hide: function() {\n    this.isOpen = false;\n    this.$el.hide();\n  },\n\n  show: function() {\n    this.$el.css({\n      display: \"block\",\n      opacity: 1\n    });\n    this.isOpen = true;\n  },\n\n  open: function(ev,target) {\n    // Target\n    var $target = target && $(target) || this.options.target;\n    this.options.target = $target;\n\n    // Positionate\n    var targetPos     = $target[this.options.position || 'offset']()\n      , targetWidth   = $target.outerWidth()\n      , targetHeight  = $target.outerHeight()\n      , elementWidth  = this.$el.outerWidth()\n      , elementHeight = this.$el.outerHeight()\n      , self = this;\n\n    this.$el.css({\n      top: targetPos.top + parseInt((self.options.vertical_position == \"up\") ? (- elementHeight - 10 - self.options.vertical_offset) : (targetHeight + 10 - self.options.vertical_offset)),\n      left: targetPos.left + parseInt((self.options.horizontal_position == \"left\") ? (self.options.horizontal_offset - 15) : (targetWidth - elementWidth + 15 - self.options.horizontal_offset))\n    })\n    .addClass(\n      // Add vertical and horizontal position class\n      (this.options.vertical_position == \"up\" ? \"vertical_top\" : \"vertical_bottom\" )\n      + \" \" +\n      (this.options.horizontal_position == \"right\" ? \"horizontal_right\" : \"horizontal_left\" )\n      + \" \" +\n      // Add tick class\n      \"tick_\" + this.options.tick\n    )\n\n    // Show it\n    this.show();\n\n    // Dropdown openned\n    this.isOpen = true;\n  },\n\n  clean: function() {\n    $(this.options.target).unbind({\"click\": this._handleClick});\n    $(document).unbind('keydown', this._keydown);\n    cdb.core.View.prototype.clean.apply(this, arguments);\n  },\n\n  _fireClick: function(ev) {\n    this.trigger(\"optionClicked\", ev, this.el);\n  }\n});\n(function() {\n\nvar _requestCache = {};\n\n/**\n * defines the container for an overlay.\n * It places the overlay\n */\nvar Overlay = {\n\n  _types: {},\n\n  // register a type to be created\n  register: function(type, creatorFn) {\n    Overlay._types[type] = creatorFn;\n  },\n\n  // create a type given the data\n  // raise an exception if the type does not exist\n  create: function(type, vis, data) {\n    var t = Overlay._types[type];\n\n    if (!t) {\n      cdb.log.error(\"Overlay: \" + type + \" does not exist\");\n      return;\n    }\n\n    data.options = typeof data.options === 'string' ? JSON.parse(data.options): data.options;\n    data.options = data.options || {}\n    var widget = t(data, vis);\n\n    if (widget) {\n      widget.type = type;\n      return widget;\n    }\n\n    return false;\n  }\n};\n\ncdb.vis.Overlay = Overlay;\n\ncdb.vis.Overlays = Backbone.Collection.extend({\n  comparator: function() {\n  }\n});\n\n// layer factory\nvar Layers = {\n\n  _types: {},\n\n  register: function(type, creatorFn) {\n    this._types[type] = creatorFn;\n  },\n\n  create: function(type, vis, data) {\n    if (!type) {\n      cdb.log.error(\"creating a layer without type\");\n      return null;\n    }\n    var t = this._types[type.toLowerCase()];\n\n    var c = {};\n    c.type = type;\n    _.extend(c, data, data.options);\n    return new t(vis, c);\n  },\n\n  moduleForLayer: function(type) {\n    if (type.toLowerCase() === 'torque') {\n      return 'torque';\n    }\n    return null;\n  },\n\n  modulesForLayers: function(layers) {\n    var modules = _(layers).map(function(layer) {\n      return Layers.moduleForLayer(layer.type || layer.kind);\n    });\n    return _.compact(_.uniq(modules));\n  }\n\n};\n\ncdb.vis.Layers = Layers;\n\ncartodb.moduleLoad = function(name, mod) {\n  cartodb[name] = mod;\n  cartodb.config.modules.add({\n    name: name,\n    mod: mod\n  });\n};\n\n/**\n * visulization creation\n */\nvar Vis = cdb.core.View.extend({\n\n  initialize: function() {\n    _.bindAll(this, 'loadingTiles', 'loadTiles', '_onResize');\n\n    this.https = false;\n    this.overlays = [];\n    this.moduleChecked = false;\n    this.layersLoading = 0;\n\n    if (this.options.mapView) {\n      this.mapView = this.options.mapView;\n      this.map = this.mapView.map;\n    }\n\n    // recalculate map position on orientation change\n    if (!window.addEventListener) {\n      window.attachEvent('orientationchange', this.doOnOrientationChange, this);\n    } else {\n      window.addEventListener('orientationchange', _.bind(this.doOnOrientationChange, this));\n    }\n\n  },\n\n  doOnOrientationChange: function() {\n    //this.setMapPosition();\n  },\n\n  /**\n   * check if all the modules needed to create layers are loaded\n   */\n  checkModules: function(layers) {\n    var mods = Layers.modulesForLayers(layers);\n    return _.every(_.map(mods, function(m) { return cartodb[m] !== undefined; }));\n  },\n\n  loadModules: function(layers, done) {\n    var self = this;\n    var mods = Layers.modulesForLayers(layers);\n    for(var i = 0; i < mods.length; ++i) {\n      Loader.loadModule(mods[i]);\n    }\n    function loaded () {\n      if (self.checkModules(layers)) {\n        cdb.config.unbind('moduleLoaded', loaded);\n        done();\n      }\n    }\n\n    cdb.config.bind('moduleLoaded', loaded);\n    _.defer(loaded);\n  },\n\n  _addLegends: function(legends) {\n    if (this.legends) {\n      this.legends.remove();\n    }\n\n    this.legends = new cdb.geo.ui.StackedLegend({\n      legends: legends\n    });\n\n    if (!this.isMobileEnabled) {\n      this.mapView.addOverlay(this.legends);\n    }\n  },\n\n  addLegends: function(layers) {\n    this._addLegends(this.createLegendView(layers));\n  },\n\n  _setLayerOptions: function(options) {\n\n    var layers = [];\n\n    // flatten layers (except baselayer)\n    var layers = _.map(this.getLayers().slice(1), function(layer) {\n      if (layer.getSubLayers) {\n        return layer.getSubLayers();\n      }\n      return layer;\n    });\n\n    layers = _.flatten(layers);\n\n    for (i = 0; i < Math.min(options.sublayer_options.length, layers.length); ++i) {\n\n      var o = options.sublayer_options[i];\n      var subLayer = layers[i];\n      var legend = this.legends && this.legends.getLegendByIndex(i);\n\n      if (legend) {\n        legend[o.visible ? 'show': 'hide']();\n      }\n\n      // HACK\n      if(subLayer.model && subLayer.model.get('type') === 'torque') {\n        if (o.visible === false) {\n          subLayer.model.set('visible', false);\n          if (this.timeSlider) {\n            this.timeSlider.hide();\n          }\n        }\n      }\n    }\n  },\n\n  _addOverlays: function(overlays, data, options) {\n\n    overlays = overlays.toJSON();\n    // Sort the overlays by its internal order\n    overlays = _.sortBy(overlays, function(overlay) {\n      return overlay.order === null ? Number.MAX_VALUE: overlay.order;\n    });\n\n    // clean current overlays\n    while (this.overlays.length !== 0) {\n      this.overlays.pop().clean();\n    }\n\n    this._createOverlays(overlays, data, options);\n  },\n\n  addTimeSlider: function(torqueLayer) {\n    // if a timeslides already exists don't create it again\n    if (torqueLayer && (torqueLayer.options.steps > 1) && !this.timeSlider) {\n      var self = this;\n      // dont use add overlay since this overlay is managed by torque layer\n      var timeSlider = Overlay.create('time_slider', this, { layer: torqueLayer });\n      this.mapView.addOverlay(timeSlider);\n      this.timeSlider = timeSlider;\n      // remove when layer is done\n      torqueLayer.bind('remove', function _remove() {\n        self.timeSlider = null;\n        timeSlider.remove();\n        torqueLayer.unbind('remove', _remove);\n      });\n    }\n  },\n\n  _setupSublayers: function(layers, options) {\n\n    options.sublayer_options = [];\n\n    _.each(layers.slice(1), function(lyr) {\n\n      if (lyr.type === 'layergroup') {\n        _.each(lyr.options.layer_definition.layers, function(l) {\n          options.sublayer_options.push({ visible: ( l.visible !== undefined ? l.visible : true ) })\n        });\n      } else if (lyr.type === 'namedmap') {\n        _.each(lyr.options.named_map.layers, function(l) {\n          options.sublayer_options.push({ visible: ( l.visible !== undefined ? l.visible : true ) })\n        });\n      } else if (lyr.type === 'torque') {\n        options.sublayer_options.push({ visible: ( lyr.options.visible !== undefined ? lyr.options.visible : true ) })\n      }\n\n    });\n\n  },\n\n  load: function(data, options) {\n    var self = this;\n\n    if (typeof(data) === 'string') {\n\n      var url = data;\n\n      cdb.core.Loader.get(url, function(data) {\n        if (data) {\n          self.load(data, options);\n        } else {\n          self.throwError('error fetching viz.json file');\n        }\n      });\n\n      return this;\n\n    }\n\n    // if the viz.json contains slides, discard the main viz.json and use the slides\n    var slides = data.slides;\n    if (slides && slides.length > 0) {\n      data = slides[0]\n      data.slides = slides.slice(1);\n    }\n\n    // load modules needed for layers\n    var layers = data.layers;\n\n    // check if there are slides and check all the layers\n    if (data.slides && data.slides.length > 0) {\n      layers = layers.concat(_.flatten(data.slides.map(function(s) { return s.layers })));\n    }\n\n    if (!this.checkModules(layers)) {\n\n      if (this.moduleChecked) {\n\n        self.throwError(\"modules couldn't be loaded\");\n        return this;\n\n      }\n\n      this.moduleChecked = true;\n\n\n      this.loadModules(layers, function() {\n        self.load(data, options);\n      });\n\n      return this;\n\n    }\n\n    // configure the vis in http or https\n    if (window && window.location.protocol && window.location.protocol === 'https:') {\n      this.https = true;\n    }\n\n    if (data.https) {\n      this.https = data.https;\n    }\n\n    options = options || {};\n\n    this._applyOptions(data, options);\n\n    // to know if the logo is enabled search in the overlays and see if logo overlay is included and is shown\n    var has_logo_overlay = !!_.find(data.overlays, function(o) {\n      // display option is not implemented for builder, if type logo is present just it\n      if (o.options == null) {\n        return (o.type === 'logo');\n      }\n\n      return o.type === 'logo' && o.options.display;\n    });\n\n    this.cartodb_logo = (options.cartodb_logo !== undefined) ? options.cartodb_logo: has_logo_overlay;\n\n    if (this.mobile) this.cartodb_logo = false;\n    else if (!has_logo_overlay && options.cartodb_logo === undefined) this.cartodb_logo = true; // We set the logo by default\n\n    var scrollwheel       = (options.scrollwheel === undefined)  ? data.scrollwheel : options.scrollwheel;\n    var slides_controller = (options.slides_controller === undefined)  ? data.slides_controller : options.slides_controller;\n\n    // Do not allow pan map if zoom overlay and scrollwheel are disabled unless\n    // mobile view is enabled\n    var isMobileDevice = this.isMobileDevice();\n    // Check if zoom overlay is present.\n    var hasZoomOverlay = _.isObject(_.find(data.overlays, function(overlay) {\n      return overlay.type == \"zoom\"\n    }));\n\n    var allowDragging = isMobileDevice || hasZoomOverlay || scrollwheel;\n\n    // map\n    data.maxZoom || (data.maxZoom = 20);\n    data.minZoom || (data.minZoom = 0);\n\n    //Force using GMaps ?\n    if ( (this.gmaps_base_type) && (data.map_provider === \"leaflet\") ) {\n\n      //Check if base_type is correct\n      var typesAllowed = ['roadmap', 'gray_roadmap', 'dark_roadmap', 'hybrid', 'satellite', 'terrain'];\n      if (_.contains(typesAllowed, this.gmaps_base_type)) {\n        if (data.layers) {\n          data.layers[0].options.type = 'GMapsBase';\n          data.layers[0].options.base_type = this.gmaps_base_type;\n          data.layers[0].options.name = this.gmaps_base_type;\n\n          if (this.gmaps_style) {\n            data.layers[0].options.style = typeof this.gmaps_style === 'string' ? JSON.parse(this.gmaps_style): this.gmaps_style;\n          }\n\n          data.map_provider = 'googlemaps';\n          data.layers[0].options.attribution = ''; //GMaps has its own attribution\n        } else {\n          cdb.log.error('No base map loaded. Using Leaflet.');\n        }\n      } else {\n        cdb.log.error('GMaps base_type \"' + this.gmaps_base_type + ' is not supported. Using leaflet.');\n      }\n    }\n\n    var mapConfig = {\n      title: data.title,\n      description: data.description,\n      maxZoom: data.maxZoom,\n      minZoom: data.minZoom,\n      legends: data.legends,\n      scrollwheel: scrollwheel,\n      drag: allowDragging,\n      provider: data.map_provider\n    };\n\n    // if the boundaries are defined, we add them to the map\n    if (data.bounding_box_sw && data.bounding_box_ne) {\n\n      mapConfig.bounding_box_sw = data.bounding_box_sw;\n      mapConfig.bounding_box_ne = data.bounding_box_ne;\n\n    }\n\n    if (data.bounds) {\n\n      mapConfig.view_bounds_sw = data.bounds[0];\n      mapConfig.view_bounds_ne = data.bounds[1];\n\n    } else {\n      var center = data.center;\n\n      if (typeof(center) === \"string\") {\n        center = $.parseJSON(center);\n      }\n\n      mapConfig.center = center || [0, 0];\n      mapConfig.zoom = data.zoom === undefined ? 4: data.zoom;\n    }\n\n    var map = new cdb.geo.Map(mapConfig);\n    this.map = map;\n    this.overlayModels = new Backbone.Collection();\n\n    this.updated_at = data.updated_at || new Date().getTime();\n\n    // If a CartoDB embed map is hidden by default, its\n    // height is 0 and it will need to recalculate its size\n    // and re-center again.\n    // We will wait until it is resized and then apply\n    // the center provided in the parameters and the\n    // correct size.\n    var map_h = this.$el.outerHeight();\n\n    if (map_h === 0) {\n      this.mapConfig = mapConfig;\n      $(window).bind('resize', this._onResize);\n    }\n\n    var div = $('<div>').css({\n      position: 'relative',\n      width: '100%',\n      height: '100%'\n    });\n\n    this.container = div;\n\n    // Another div to prevent leaflet grabbing the div\n    var div_hack = $('<div>')\n      .addClass(\"cartodb-map-wrapper\")\n      .css({\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        width: '100%'\n      });\n\n    div.append(div_hack);\n\n    this.$el.append(div);\n\n    // Create the map\n    var mapView  = new cdb.geo.MapView.create(div_hack, map);\n\n    this.mapView = mapView;\n\n    if (options.legends || (options.legends === undefined && this.map.get(\"legends\") !== false)) {\n      map.layers.bind('reset', this.addLegends, this);\n    }\n\n    this.overlayModels.bind('reset', function(overlays) {\n      this._addOverlays(overlays, data, options);\n      this._addMobile(data, options);\n    }, this);\n\n    this.mapView.bind('newLayerView', this._addLoading, this);\n\n    if (options.time_slider) {\n      this.mapView.bind('newLayerView', this._addTimeSlider, this);\n    }\n\n    if (this.infowindow) {\n      this.mapView.bind('newLayerView', this.addInfowindow, this);\n    }\n\n    if (this.tooltip) {\n      this.mapView.bind('newLayerView', this.addTooltip, this);\n    }\n\n    this.map.layers.reset(_.map(data.layers, function(layerData) {\n      return Layers.create(layerData.type || layerData.kind, self, layerData);\n    }));\n\n    this.overlayModels.reset(data.overlays);\n\n    // if there are no sublayer_options fill it\n    if (!options.sublayer_options) {\n      this._setupSublayers(data.layers, options);\n    }\n\n    this._setLayerOptions(options);\n\n    if (data.slides) {\n\n      this.map.disableKeyboard();\n\n      function odysseyLoaded() {\n        self._createSlides([data].concat(data.slides));\n      };\n\n      if (cartodb.odyssey === undefined) {\n        cdb.config.bind('moduleLoaded:odyssey', odysseyLoaded);\n        Loader.loadModule('odyssey');\n      } else {\n        odysseyLoaded();\n      }\n\n    }\n\n    _.defer(function() {\n      self.trigger('done', self, self.getLayers());\n    })\n\n    return this;\n\n  },\n\n  _addTimeSlider: function() {\n    var self = this;\n    var torque = _(this.getLayers()).find(function(layer) {\n      return layer.model.get('type') === 'torque' && layer.model.get('visible');\n    });\n    if (torque) {\n      this.torqueLayer = torque;\n      // send step events from torque layer\n      this.torqueLayer.bind('change:time', function(s) {\n        this.trigger('change:step', this.torqueLayer, this.torqueLayer.getStep());\n      }, this);\n      if (!this.isMobileEnabled && this.torqueLayer) {\n        this.addTimeSlider(this.torqueLayer);\n      }\n    }\n  },\n\n  // sets the animation step if there is an animation\n  // returns true if succed\n  setAnimationStep: function(s, opt) {\n    if (this.torqueLayer) {\n      this.torqueLayer.setStep(s, opt);\n      return true;\n    }\n    return false;\n  },\n\n  _createSlides: function(slides) {\n\n      function BackboneActions(model) {\n        var actions = {\n          set: function() {\n            var args = arguments;\n            return O.Action({\n              enter: function() {\n                model.set.apply(model, args);\n              }\n            });\n          },\n\n          reset: function() {\n            var args = arguments;\n            return O.Action({\n              enter: function() {\n                model.reset.apply(model, args);\n              }\n            });\n          }\n        };\n        return actions;\n      }\n\n      function SetStepAction(vis, step) {\n        return O.Action(function() {\n          vis.setAnimationStep(step);\n        });\n      }\n\n      function AnimationTrigger(vis, step) {\n        var t = O.Trigger();\n        vis.on('change:step', function (layer, currentStep) {\n          if (currentStep === step) {\n            t.trigger();\n          }\n        });\n        return t;\n      }\n\n      function PrevTrigger(seq, step) {\n        var t = O.Trigger();\n        var c = PrevTrigger._callbacks;\n        if (!c) {\n          c = PrevTrigger._callbacks = []\n          O.Keys().left().then(function() {\n            for (var i = 0; i < c.length; ++i) {\n              if (c[i] === seq.current()) {\n                t.trigger();\n                return;\n              }\n            }\n          });\n        }\n        c.push(step);\n        return t;\n      }\n\n      function NextTrigger(seq, step) {\n        var t = O.Trigger();\n        var c = NextTrigger._callbacks;\n        if (!c) {\n          c = NextTrigger._callbacks = []\n          O.Keys().right().then(function() {\n            for (var i = 0; i < c.length; ++i) {\n              if (c[i] === seq.current()) {\n                t.trigger();\n                return;\n              }\n            }\n          });\n        }\n        c.push(step);\n        return t;\n      }\n\n      function WaitAction(seq, ms) {\n        return O.Step(O.Sleep(ms), O.Action(function() {\n          seq.next();\n        }));\n      }\n\n      var self = this;\n\n      var seq = this.sequence = O.Sequential();\n      this.slides = O.Story();\n\n      // transition - debug, remove\n      //O.Keys().left().then(seq.prev, seq);\n      //O.Keys().right().then(seq.next, seq);\n\n      this.map.actions = BackboneActions(this.map);\n      this.map.layers.actions = BackboneActions(this.map.layers);\n      this.overlayModels.actions = BackboneActions(this.overlayModels)\n\n      function goTo(seq, i) {\n        return function() {\n          seq.current(i);\n        }\n      }\n\n      for (var i = 0; i < slides.length; ++i) {\n        var slide = slides[i];\n        var states = [];\n\n        var mapChanges = O.Step(\n          // map movement\n          this.map.actions.set({\n            'center': typeof slide.center === 'string' ? JSON.parse(slide.center): slide.center,\n            'zoom': slide.zoom\n          }),\n          // wait a little bit\n          O.Sleep(350),\n          // layer change\n          this.map.layers.actions.reset(_.map(slide.layers, function(layerData) {\n            return Layers.create(layerData.type || layerData.kind, self, layerData);\n          }))\n        );\n\n        states.push(mapChanges);\n\n        // overlays\n        states.push(this.overlayModels.actions.reset(slide.overlays));\n\n        if (slide.transition_options) {\n          var to = slide.transition_options;\n          if (to.transition_trigger === 'time') {\n            states.push(WaitAction(seq, to.time * 1000));\n          } else { //default is click\n            NextTrigger(seq, i).then(seq.next, seq);\n            PrevTrigger(seq, i).then(seq.prev, seq);\n          }\n        }\n\n        this.slides.addState(\n          seq.step(i),\n          O.Parallel.apply(window, states)\n        );\n\n      }\n      this.slides.go(0);\n  },\n\n  _createOverlays: function(overlays, vis_data, options) {\n\n    // if there's no header overlay, we need to explicitly create the slide controller\n    if ((options[\"slides_controller\"] || options[\"slides_controller\"] === undefined) && !this.isMobileEnabled && !_.find(overlays, function(o) { return o.type === 'header' && o.options.display; })) {\n      this._addSlideController(vis_data);\n    }\n\n    _(overlays).each(function(data) {\n      var type = data.type;\n\n      // We don't render certain overlays if we are in mobile\n      if (this.isMobileEnabled && (type === \"zoom\" || type === \"header\" || type === \"loader\")) return;\n\n      // IE<10 doesn't support the Fullscreen API\n      if (type === 'fullscreen' && cdb.core.util.browser.ie && cdb.core.util.browser.ie.version <= 10) return;\n\n      // Decide to create or not the custom overlays\n      if (type === 'image' || type === 'text' || type === 'annotation') {\n        var isDevice = data.options.device == \"mobile\" ? true : false;\n        if (this.mobile !== isDevice) return;\n        if (!options[type] && options[type] !== undefined) {\n          return;\n        }\n      }\n\n      // We add the header overlay\n      if (type === 'header') {\n        var overlay = this._addHeader(data, vis_data);\n      } else {\n        var overlay = this.addOverlay(data);\n      }\n\n      // We show/hide the overlays\n      if (overlay && (type in options) && options[type] === false) overlay.hide();\n\n      var opt = data.options;\n\n      if (!this.isMobileEnabled) {\n\n        if (type == 'share' && options[\"shareable\"]  || type == 'share' && overlay.model.get(\"display\") && options[\"shareable\"] == undefined) overlay.show();\n        if (type == 'layer_selector' && options[type] || type == 'layer_selector' && overlay.model.get(\"display\") && options[type] == undefined) overlay.show();\n        if (type == 'fullscreen' && options[type] || type == 'fullscreen' && overlay.model.get(\"display\") && options[type] == undefined) overlay.show();\n        if (type == 'search' && options[type] || type == 'search' && opt.display && options[type] == undefined) overlay.show();\n\n        if (type === 'header') {\n\n          var m = overlay.model;\n\n          if (options.title !== undefined) {\n            m.set(\"show_title\", options.title);\n          }\n\n          if (options.description !== undefined) {\n            m.set(\"show_description\", options.description);\n          }\n\n          if (m.get('show_title') || m.get('show_description')) {\n            $(\".cartodb-map-wrapper\").addClass(\"with_header\");\n          }\n\n          overlay.render();\n        }\n      }\n\n\n    }, this);\n\n  },\n\n  _addSlideController: function(data) {\n\n    if (data.slides && data.slides.length > 0) {\n\n      var transitions = [data.transition_options].concat(_.pluck(data.slides, \"transition_options\"));\n\n      return this.addOverlay({\n        type: 'slides_controller',\n        transitions: transitions\n      });\n    }\n\n  },\n\n  _addHeader: function(data, vis_data) {\n\n    var transitions = [vis_data.transition_options].concat(_.pluck(vis_data.slides, \"transition_options\"))\n\n    return this.addOverlay({\n      type: 'header',\n      options: data.options,\n      transitions: transitions\n    });\n\n  },\n\n  _addMobile: function(data, options) {\n\n    var layers;\n    var layer = data.layers[1];\n\n    if (this.isMobileEnabled) {\n\n      if (options && options.legends === undefined) {\n        options.legends = this.legends ? true : false;\n      }\n\n      if (layer.options && layer.options.layer_definition) {\n        layers = layer.options.layer_definition.layers;\n      } else if (layer.options && layer.options.named_map && layer.options.named_map.layers) {\n        layers = layer.options.named_map.layers;\n      }\n\n      var transitions = [data.transition_options].concat(_.pluck(data.slides, \"transition_options\"));\n\n      this.mobileOverlay = this.addOverlay({\n        type: 'mobile',\n        layers: layers,\n        slides: data.slides,\n        transitions:transitions,\n        overlays: data.overlays,\n        options: options,\n        torqueLayer: this.torqueLayer\n      });\n    }\n  },\n\n  _createLegendView: function(layer, layerView) {\n    if (layer.legend) {\n      layer.legend.data = layer.legend.items;\n      var legend = layer.legend;\n\n      if ((legend.items && legend.items.length) || legend.template) {\n        var legendAttrs = _.extend(layer.legend, {\n          visible: layer.visible\n        });\n        var legendModel = new cdb.geo.ui.LegendModel(legendAttrs);\n        var legendView = new cdb.geo.ui.Legend({ model: legendModel });\n        layerView.bind('change:visibility', function(layer, hidden) {\n          legendView[hidden ? 'hide': 'show']();\n        });\n        layerView.legend = legendModel;\n        return legendView;\n      }\n    }\n    return null;\n  },\n\n  createLegendView: function(layers) {\n    var legends = [];\n    var self = this;\n    for (var i = layers.length - 1; i >= 0; --i) {\n      var cid = layers.at(i).cid;\n      var layer = layers.at(i).attributes;\n      if (layer.visible) {\n        var layerView = this.mapView.getLayerByCid(cid);\n        if (layerView) {\n          var layerView = this.mapView.getLayerByCid(cid);\n          legends.push(this._createLayerLegendView(layer, layerView));\n        }\n      }\n    }\n    return _.flatten(legends);\n  },\n\n  _createLayerLegendView: function(layer, layerView) {\n    var self = this;\n    var legends = [];\n    if (layer.options && layer.options.layer_definition) {\n      var sublayers = layer.options.layer_definition.layers;\n      _(sublayers).each(function(sub, i) {\n        legends.push(self._createLegendView(sub, layerView.getSubLayer(i)));\n      });\n    } else if(layer.options && layer.options.named_map && layer.options.named_map.layers) {\n      var sublayers = layer.options.named_map.layers;\n      _(sublayers).each(function(sub, i) {\n        legends.push(self._createLegendView(sub, layerView.getSubLayer(i)));\n      });\n    } else {\n      legends.push(this._createLegendView(layer, layerView))\n    }\n    return _.compact(legends).reverse();\n  },\n\n  addOverlay: function(overlay) {\n\n    overlay.map = this.map;\n\n    var v = Overlay.create(overlay.type, this, overlay);\n\n    if (v) {\n      // Save tiles loader view for later\n      if (overlay.type == \"loader\") {\n        this.loader = v;\n      }\n\n      this.mapView.addOverlay(v);\n\n      this.overlays.push(v);\n\n      v.bind('clean', function() {\n        for(var i in this.overlays) {\n          var o = this.overlays[i];\n          if (v.cid === o.cid) {\n            this.overlays.splice(i, 1)\n            return;\n          }\n        }\n      }, this);\n    }\n    return v;\n  },\n\n  // change vizjson based on options\n  _applyOptions: function(vizjson, opt) {\n    opt = opt || {};\n    opt = _.defaults(opt, {\n      tiles_loader: true,\n      loaderControl: true,\n      infowindow: true,\n      tooltip: true,\n      time_slider: true\n    });\n    vizjson.overlays = vizjson.overlays || [];\n    vizjson.layers = vizjson.layers || [];\n\n    function search_overlay(name) {\n      if (!vizjson.overlays) return null;\n      for(var i = 0; i < vizjson.overlays.length; ++i) {\n        if (vizjson.overlays[i].type === name) {\n          return vizjson.overlays[i];\n        }\n      }\n    }\n\n    function remove_overlay(name) {\n      if (!vizjson.overlays) return;\n      for(var i = 0; i < vizjson.overlays.length; ++i) {\n        if (vizjson.overlays[i].type === name) {\n          vizjson.overlays.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n    this.infowindow = opt.infowindow;\n    this.tooltip    = opt.tooltip;\n\n    if (opt.https) {\n      this.https = true;\n    }\n\n    if (opt.gmaps_base_type) {\n      this.gmaps_base_type = opt.gmaps_base_type;\n    }\n\n    if (opt.gmaps_style) {\n      this.gmaps_style = opt.gmaps_style;\n    }\n\n    this.mobile = this.isMobileDevice();\n    this.isMobileEnabled = (opt.mobile_layout && this.mobile) || opt.force_mobile;\n\n    if (opt.force_mobile === false || opt.force_mobile === \"false\") {\n      this.isMobileEnabled = false;\n    }\n\n    if (!opt.title) {\n      vizjson.title = null;\n    }\n\n    if (!opt.description) {\n      vizjson.description = null;\n    }\n\n    if (!opt.tiles_loader) {\n      remove_overlay('loader');\n    }\n\n    if (!opt.loaderControl) {\n      remove_overlay('loader');\n    }\n\n    if (opt.searchControl !== undefined) {\n      opt.search = opt.searchControl;\n    }\n\n    if (!this.isMobileEnabled && opt.search) {\n      if (!search_overlay('search')) {\n        vizjson.overlays.push({\n           type: \"search\",\n           order: 3\n        });\n      }\n    }\n\n    if ( (opt.title && vizjson.title) || (opt.description && vizjson.description) ) {\n\n      if (!search_overlay('header')) {\n        vizjson.overlays.unshift({\n          type: \"header\",\n          order: 1,\n          shareable: opt.shareable ? true: false,\n          url: vizjson.url,\n          options: {\n            extra: {\n              title: vizjson.title,\n              description: vizjson.description,\n              show_title: opt.title,\n              show_description: opt.description\n            }\n          }\n        });\n      }\n    }\n\n\n    if (opt.layer_selector) {\n      if (!search_overlay('layer_selector')) {\n        vizjson.overlays.push({\n          type: \"layer_selector\"\n        });\n      }\n    }\n\n    if (opt.shareable && !this.isMobileEnabled) {\n      if (!search_overlay('share')) {\n        vizjson.overlays.push({\n          type: \"share\",\n          order: 2,\n          url: vizjson.url\n        });\n      }\n    }\n\n    // We remove certain overlays in mobile devices\n    if (this.isMobileEnabled) {\n      remove_overlay('logo');\n      remove_overlay('share');\n    }\n\n    if (this.mobile || ((opt.zoomControl !== undefined) && (!opt.zoomControl)) ){\n      remove_overlay('zoom');\n    }\n\n    if (this.mobile || ((opt.search !== undefined) && (!opt.search)) ){\n      remove_overlay('search');\n    }\n\n    // if bounds are present zoom and center will not taken into account\n    var zoom = parseInt(opt.zoom);\n    if (!isNaN(zoom)) {\n      vizjson.zoom = zoom;\n      vizjson.bounds = null;\n    }\n\n    // Center coordinates?\n    var center_lat = parseFloat(opt.center_lat);\n    var center_lon = parseFloat(opt.center_lon);\n    if ( !isNaN(center_lat) && !isNaN(center_lon) ) {\n      vizjson.center = [center_lat, center_lon];\n      vizjson.bounds = null;\n    }\n\n    // Center object\n    if (opt.center !== undefined) {\n      vizjson.center = opt.center;\n      vizjson.bounds = null;\n    }\n\n    // Bounds?\n    var sw_lat = parseFloat(opt.sw_lat);\n    var sw_lon = parseFloat(opt.sw_lon);\n    var ne_lat = parseFloat(opt.ne_lat);\n    var ne_lon = parseFloat(opt.ne_lon);\n\n    if ( !isNaN(sw_lat) && !isNaN(sw_lon) && !isNaN(ne_lat) && !isNaN(ne_lon) ) {\n      vizjson.bounds = [\n        [ sw_lat, sw_lon ],\n        [ ne_lat, ne_lon ]\n      ];\n    }\n\n    if (vizjson.layers.length > 1) {\n      var token = opt.auth_token;\n      function _applyLayerOptions(layers) {\n        for(var i = 1; i < layers.length; ++i) {\n          var o = layers[i].options;\n          o.no_cdn = opt.no_cdn;\n          o.force_cors = opt.force_cors;\n          if(token) {\n            o.auth_token = token;\n          }\n        }\n      }\n      _applyLayerOptions(vizjson.layers);\n      if (vizjson.slides) {\n        for(var i = 0; i < vizjson.slides.length; ++i) {\n          _applyLayerOptions(vizjson.slides[i].layers);\n        }\n      }\n    }\n\n  },\n\n  // Set map top position taking into account header height\n  setMapPosition: function() { },\n\n  createLayer: function(layerData, opts) {\n    var layerModel = Layers.create(layerData.type || layerData.kind, this, layerData);\n    return this.mapView.createLayer(layerModel);\n  },\n\n  _getSqlApi: function(attrs) {\n    attrs = attrs || {};\n    var port = attrs.sql_api_port\n    var domain = attrs.sql_api_domain + (port ? ':' + port: '')\n    var protocol = attrs.sql_api_protocol;\n    var version = 'v1';\n    if (domain.indexOf('carto.com') !== -1) {\n      protocol = 'http';\n      domain = \"carto.com\";\n      version = 'v2';\n    }\n\n    var sql = new cartodb.SQL({\n      user: attrs.user_name,\n      protocol: protocol,\n      host: domain,\n      version: version\n    });\n\n    return sql;\n  },\n\n  addTooltip: function(layerView) {\n    if(!layerView || !layerView.containTooltip || !layerView.containTooltip()) {\n      return;\n    }\n    for(var i = 0; i < layerView.getLayerCount(); ++i) {\n      var t = layerView.getTooltipData(i);\n      if (t) {\n        if (!layerView.tooltip) {\n          var tooltip = new cdb.geo.ui.Tooltip({\n            mapView: this.mapView,\n            layer: layerView,\n            template: t.template,\n            position: 'bottom|right',\n            vertical_offset: 10,\n            horizontal_offset: 4,\n            fields: t.fields,\n            omit_columns: ['cartodb_id']\n          });\n          layerView.tooltip = tooltip;\n          this.mapView.addOverlay(tooltip);\n          layerView.bind('remove', function() {\n            this.tooltip.clean();\n          });\n        }\n        layerView.setInteraction(i, true);\n      }\n    }\n\n    if (layerView.tooltip) {\n      layerView.bind(\"featureOver\", function(e, latlng, pos, data, layer) {\n        var t = layerView.getTooltipData(layer);\n        if (t) {\n          layerView.tooltip.setTemplate(t.template);\n          layerView.tooltip.setFields(t.fields);\n          layerView.tooltip.setAlternativeNames(t.alternative_names);\n          layerView.tooltip.enable();\n        } else {\n          layerView.tooltip.disable();\n        }\n      });\n    }\n  },\n\n  addInfowindow: function(layerView) {\n\n    if(!layerView.containInfowindow || !layerView.containInfowindow()) {\n      return;\n    }\n\n    var mapView = this.mapView;\n    var eventType = 'featureClick';\n    var infowindow = null;\n\n    // activate interactivity for layers with infowindows\n    for(var i = 0; i < layerView.getLayerCount(); ++i) {\n\n      if (layerView.getInfowindowData(i)) {\n        if(!infowindow) {\n          infowindow = Overlay.create('infowindow', this, layerView.getInfowindowData(i), true);\n          mapView.addInfowindow(infowindow);\n        }\n        layerView.setInteraction(i, true);\n      }\n    }\n\n    if(!infowindow) {\n      return;\n    }\n\n    infowindow.bind('close', function() {\n      // when infowindow is closed remove all the filters\n      // for tooltips\n      for(var i = 0; i < layerView.getLayerCount(); ++i) {\n        var t = layerView.tooltip;\n        if (t) {\n          t.setFilter(null);\n        }\n      }\n    })\n\n    // if the layer has no infowindow just pass the interaction\n    // data to the infowindow\n    layerView.bind(eventType, function(e, latlng, pos, data, layer) {\n\n        var infowindowFields = layerView.getInfowindowData(layer);\n        if (!infowindowFields) return;\n        var fields = _.pluck(infowindowFields.fields, 'name');\n        var cartodb_id = data.cartodb_id;\n\n        layerView.fetchAttributes(layer, cartodb_id, fields, function(attributes) {\n\n          // Old viz.json doesn't contain width and maxHeight properties\n          // and we have to get the default values if there are not defined.\n          var extra = _.defaults(\n            {\n              offset: infowindowFields.offset,\n              width: infowindowFields.width,\n              maxHeight: infowindowFields.maxHeight\n            },\n            cdb.geo.ui.InfowindowModel.prototype.defaults\n          );\n\n          infowindow.model.set({\n            'fields': infowindowFields.fields,\n            'template': infowindowFields.template,\n            'template_type': infowindowFields.template_type,\n            'alternative_names': infowindowFields.alternative_names,\n            'sanitizeTemplate': infowindowFields.sanitizeTemplate,\n            'offset': extra.offset,\n            'width': extra.width,\n            'maxHeight': extra.maxHeight\n          });\n\n          if (attributes) {\n            infowindow.model.updateContent(attributes);\n            infowindow.adjustPan();\n          } else {\n            infowindow.setError();\n          }\n        });\n\n        // Show infowindow with loading state\n        infowindow\n          .setLatLng(latlng)\n          .setLoading()\n          .showInfowindow();\n\n        if (layerView.tooltip) {\n          layerView.tooltip.setFilter(function(feature) {\n            return feature.cartodb_id !== cartodb_id;\n          }).hide();\n        }\n    });\n\n    var hovers = [];\n\n    layerView.bind('mouseover', function() {\n      mapView.setCursor('pointer');\n    });\n\n    layerView.bind('mouseout', function(m, layer) {\n      mapView.setCursor('auto');\n    });\n\n    layerView.infowindow = infowindow.model;\n  },\n\n  _addLoading: function (layerView) {\n    if (layerView) {\n      var self = this;\n\n      var loadingTiles = function() {\n        self.loadingTiles();\n      };\n\n      var loadTiles = function() {\n        self.loadTiles();\n      };\n\n      layerView.bind('loading', loadingTiles);\n      layerView.bind('load',    loadTiles);\n    }\n  },\n\n\n  loadingTiles: function() {\n\n    if (this.mobileOverlay) {\n      this.mobileOverlay.loadingTiles();\n    }\n\n    if (this.loader) {\n      this.loader.show()\n    }\n    if(this.layersLoading === 0) {\n        this.trigger('loading');\n    }\n    this.layersLoading++;\n  },\n\n  loadTiles: function() {\n\n    if (this.mobileOverlay) {\n      this.mobileOverlay.loadTiles();\n    }\n\n    if (this.loader) {\n      this.loader.hide();\n    }\n    this.layersLoading--;\n    // check less than 0 because loading event sometimes is\n    // thrown before visualization creation\n    if(this.layersLoading <= 0) {\n      this.layersLoading = 0;\n      this.trigger('load');\n    }\n  },\n\n  throwError: function(msg, lyr) {\n    cdb.log.error(msg);\n    var self = this;\n    _.defer(function() {\n      self.trigger('error', msg, lyr);\n    });\n  },\n\n  error: function(fn) {\n    return this.bind('error', fn);\n  },\n\n  done: function(fn) {\n    return this.bind('done', fn);\n  },\n\n  // public methods\n  //\n\n  // get the native map used behind the scenes\n  getNativeMap: function() {\n    return this.mapView.getNativeMap();\n  },\n\n  // returns an array of layers\n  getLayers: function() {\n    var self = this;\n    return _.compact(this.map.layers.map(function(layer) {\n      return self.mapView.getLayerByCid(layer.cid);\n    }));\n  },\n\n  getOverlays: function() {\n    return this.overlays;\n  },\n\n  getOverlay: function(type) {\n    return _(this.overlays).find(function(v) {\n      return v.type == type;\n    });\n  },\n\n  getOverlaysByType: function(type) {\n    return _(this.overlays).filter(function(v) {\n      return v.type == type;\n    });\n  },\n\n  _onResize: function() {\n\n    $(window).unbind('resize', this._onResize);\n\n    var self = this;\n\n    self.mapView.invalidateSize();\n\n    // This timeout is necessary due to GMaps needs time\n    // to load tiles and recalculate its bounds :S\n    setTimeout(function() {\n\n      var c = self.mapConfig;\n\n      if (c.view_bounds_sw) {\n\n        self.mapView.map.setBounds([\n          c.view_bounds_sw,\n          c.view_bounds_ne\n        ]);\n\n      } else {\n\n        self.mapView.map.set({\n          center: c.center,\n          zoom: c.zoom\n        });\n\n      }\n    }, 150);\n  },\n\n  isMobileDevice: function() {\n    return /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  }\n\n}, {\n\n  /**\n   * adds an infowindow to the map controlled by layer events.\n   * it enables interaction and overrides the layer interacivity\n   * ``fields`` array of column names\n   * ``map`` native map object, leaflet of gmaps\n   * ``layer`` cartodb layer (or sublayer)\n   */\n  addInfowindow: function(map, layer, fields, opts) {\n    var options = _.defaults(opts || {}, {\n      infowindowTemplate: cdb.vis.INFOWINDOW_TEMPLATE.light,\n      templateType: 'mustache',\n      triggerEvent: 'featureClick',\n      templateName: 'light',\n      extraFields: [],\n      cursorInteraction: true\n    });\n\n    if(!map) throw new Error('map is not valid');\n    if(!layer) throw new Error('layer is not valid');\n    if(!fields && fields.length === undefined ) throw new Error('fields should be a list of strings');\n\n    var f = [];\n    fields = fields.concat(options.extraFields);\n    for(var i = 0; i < fields.length; ++i) {\n      f.push({ name: fields, order: i});\n    }\n\n    var infowindowModel = new cdb.geo.ui.InfowindowModel({\n      fields: f,\n      template_name: options.templateName\n    });\n\n    var infowindow = new cdb.geo.ui.Infowindow({\n       model: infowindowModel,\n       mapView: map.viz.mapView,\n       template: new cdb.core.Template({\n         template: options.infowindowTemplate,\n         type: options.templateType\n       }).asFunction()\n    });\n\n    map.viz.mapView.addInfowindow(infowindow);\n    // try to change interactivity, it the layer is a named map\n    // it's inmutable so it'a assumed the interactivity already has\n    // the fields it needs\n    try {\n      layer.setInteractivity(fields);\n    } catch(e) {\n    }\n    layer.setInteraction(true);\n\n    layer.bind(options.triggerEvent, function(e, latlng, pos, data, layer) {\n      var render_fields = [];\n      var d;\n      for (var f = 0; f < fields.length; ++f) {\n        var field = fields[f];\n        if (d = data[field]) {\n          render_fields.push({\n            title: field,\n            value: d,\n            index: 0\n          });\n        }\n      }\n\n      infowindow.model.set({\n        content:  {\n          fields: render_fields,\n          data: data\n        }\n      });\n\n      infowindow\n        .setLatLng(latlng)\n        .showInfowindow();\n      infowindow.adjustPan();\n    }, infowindow);\n\n    // remove the callback on clean\n    infowindow.bind('clean', function() {\n      layer.unbind(options.triggerEvent, null, infowindow);\n    });\n\n    if(options.cursorInteraction) {\n      cdb.vis.Vis.addCursorInteraction(map, layer);\n    }\n\n    return infowindow;\n\n  },\n\n  addCursorInteraction: function(map, layer) {\n    var mapView = map.viz.mapView;\n    layer.bind('mouseover', function() {\n      mapView.setCursor('pointer');\n    });\n\n    layer.bind('mouseout', function(m, layer) {\n      mapView.setCursor('auto');\n    });\n  },\n\n  removeCursorInteraction: function(map, layer) {\n    var mapView = map.viz.mapView;\n    layer.unbind(null, null, mapView);\n  }\n\n});\n\ncdb.vis.INFOWINDOW_TEMPLATE = {\n  light: [\n    '<div class=\"cartodb-popup v2\">',\n    '<a href=\"#close\" class=\"cartodb-popup-close-button close\">x</a>',\n    '<div class=\"cartodb-popup-content-wrapper\">',\n      '<div class=\"cartodb-popup-content\">',\n        '{{#content.fields}}',\n          '{{#title}}<h4>{{title}}</h4>{{/title}}',\n          '{{#value}}',\n            '<p {{#type}}class=\"{{ type }}\"{{/type}}>{{{ value }}}</p>',\n          '{{/value}}',\n          '{{^value}}',\n            '<p class=\"empty\">null</p>',\n          '{{/value}}',\n        '{{/content.fields}}',\n      '</div>',\n    '</div>',\n    '<div class=\"cartodb-popup-tip-container\"></div>',\n  '</div>'\n  ].join('')\n};\n\ncdb.vis.Vis = Vis;\n\n})();\n(function() {\n\n  Queue = function() {\n\n    // callback storage\n    this._methods = [];\n\n    // reference to the response\n    this._response = null;\n\n    // all queues start off unflushed\n    this._flushed = false;\n\n  };\n\n  Queue.prototype = {\n\n    // adds callbacks to the queue\n    add: function(fn) {\n\n      // if the queue had been flushed, return immediately\n      if (this._flushed) {\n\n        // otherwise push it on the queue\n        fn(this._response);\n\n      } else {\n        this._methods.push(fn);\n      }\n\n    },\n\n    flush: function(resp) {\n\n      // flush only ever happens once\n      if (this._flushed) {\n        return;\n      }\n\n      // store the response for subsequent calls after flush()\n      this._response = resp;\n\n      // mark that it's been flushed\n      this._flushed = true;\n\n      // shift 'em out and call 'em back\n      while (this._methods[0]) {\n        this._methods.shift()(resp);\n      }\n\n    }\n\n  };\n\n  StaticImage = function() {\n\n    MapBase.call(this, this);\n\n    this.imageOptions = {};\n\n    this.error = null;\n\n    this.supported_formats = [\"png\", \"jpg\"];\n\n    this.defaults = {\n      basemap_url_template: \"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\",\n      basemap_subdomains: [\"a\", \"b\", \"c\"],\n      format: \"png\",\n      zoom: 10,\n      center: [0, 0],\n      size:  [320, 240],\n      tiler_port: 80,\n      tiler_domain: \"carto.com\"\n    };\n\n  };\n\n  StaticImage.prototype = _.extend({}, MapBase.prototype, {\n\n    load: function(vizjson, options) {\n\n      _.bindAll(this, \"_onVisLoaded\");\n\n      this.queue = new Queue;\n\n      this.no_cdn = options.no_cdn;\n\n      this.userOptions = options;\n\n      options = _.defaults({ vizjson: vizjson, temp_id: \"s\" + this._getUUID() }, this.defaults);\n\n      this.imageOptions = options;\n\n      cdb.core.Loader.get(vizjson, this._onVisLoaded);\n\n      return this;\n\n    },\n\n    loadLayerDefinition: function(layerDefinition, options) {\n\n      var self = this;\n\n      this.queue = new Queue;\n\n      if (!layerDefinition.user_name) {\n        cartodb.log.error(\"Please, specify the username\");\n        return;\n      }\n\n      this.userOptions = options;\n\n      this.options.api_key        = layerDefinition.api_key;\n      this.options.user_name      = layerDefinition.user_name;\n      this.options.tiler_protocol = layerDefinition.tiler_protocol;\n      this.options.tiler_domain   = layerDefinition.tiler_domain;\n      this.options.tiler_port     = layerDefinition.tiler_port;\n      this.options.maps_api_template = layerDefinition.maps_api_template;\n      this.endPoint = \"/api/v1/map\";\n\n      if (!this.options.maps_api_template) {\n        this._buildMapsApiTemplate(this.options);\n      }\n\n      this.options.layers = layerDefinition;\n\n      this._requestLayerGroupID();\n\n    },\n\n    _onVisLoaded: function(data) {\n\n      if (data) {\n\n        var layerDefinition;\n        var baseLayer = data.layers[0];\n        var dataLayer = this._getDataLayer(data.layers);\n\n        if (dataLayer.options) {\n          this.options.user_name = dataLayer.options.user_name;\n        }\n\n        // keep this for backward compatibility with tiler_* variables\n        if (!dataLayer.options.maps_api_template) {\n          this._setupTilerConfiguration(dataLayer.options.tiler_protocol, dataLayer.options.tiler_domain, dataLayer.options.tiler_port);\n        } else {\n          this.options.maps_api_template = dataLayer.options.maps_api_template;\n        }\n\n        this.auth_tokens = data.auth_tokens;\n        this.endPoint = \"/api/v1/map\";\n\n        var bbox = [];\n        var bounds = data.bounds;\n\n        if (bounds) {\n          bbox.push([bounds[0][1], bounds[0][0]]);\n          bbox.push([bounds[1][1], bounds[1][0]]);\n        }\n\n        this.imageOptions.zoom   = data.zoom;\n        this.imageOptions.center = JSON.parse(data.center);\n        this.imageOptions.bbox   = bbox;\n        this.imageOptions.bounds = data.bounds;\n\n        if (baseLayer && baseLayer.options) {\n          this.imageOptions.basemap = baseLayer;\n        }\n\n        /* If the vizjson contains a named map and a torque layer with a named map,\n           ignore the torque layer */\n        var ignoreTorqueLayer = false;\n        var namedMap = this._getLayerByType(data.layers, \"namedmap\");\n\n        if (namedMap) {\n          var torque = this._getLayerByType(data.layers, \"torque\");\n\n          if (torque && torque.options && torque.options.named_map) {\n\n            if (torque.options.named_map.name === namedMap.options.named_map.name) {\n              ignoreTorqueLayer = true;\n            }\n          }\n        }\n\n        var layers = [];\n        var basemap = this._getBasemapLayer();\n\n        if (basemap) {\n          layers.push(basemap);\n        }\n\n        var labelsLayer;\n        for (var i = 1; i < data.layers.length; i++) {\n          var layer = data.layers[i];\n\n          if (layer.type === \"torque\" && !ignoreTorqueLayer) {\n            layers.push(this._getTorqueLayerDefinition(layer));\n          } else if (layer.type === \"namedmap\") {\n            layers.push(this._getNamedmapLayerDefinition(layer));\n          } else if (layer.type === \"tiled\") {\n            labelsLayer = this._getHTTPLayer(layer);\n          } else if (layer.type !== \"torque\" && layer.type !== \"namedmap\") {\n            var ll = this._getLayergroupLayerDefinition(layer);\n\n            for (var j = 0; j < ll.length; j++) {\n              layers.push(ll[j]);\n            }\n          }\n        }\n\n        // If there's a second `tiled` layer, it's a layer with labels and\n        // it needs to be on top of all other layers\n        if (labelsLayer) {\n          layers.push(labelsLayer);\n        }\n\n        this.options.layers = { layers: layers };\n        this._requestLayerGroupID();\n      }\n    },\n\n    _getDataLayer: function(layers) {\n      return this._getLayerByType(layers, \"namedmap\") ||\n        this._getLayerByType(layers, \"layergroup\") ||\n          this._getLayerByType(layers, \"torque\");\n    },\n\n    visibleLayers: function() {\n      // Overwrites the layer_definition method.\n      // We return all the layers, since we have filtered them before\n      return this.options.layers.layers;\n    },\n\n    _getLayerByType: function(layers, type) {\n      return _.find(layers, function(layer) { return layer.type === type; });\n    },\n\n    _setupTilerConfiguration: function(protocol, domain, port) {\n\n      this.options.tiler_domain   = domain;\n      this.options.tiler_protocol = protocol;\n      this.options.tiler_port     = port;\n\n      this._buildMapsApiTemplate(this.options);\n\n    },\n\n    toJSON: function(){\n      return this.options.layers;\n    },\n\n    _requestLayerGroupID: function() {\n\n      var self = this;\n\n      this.createMap(function(data, error) {\n\n        if (error) {\n          self.error = error;\n        }\n\n        if (data) {\n          self.imageOptions.layergroupid = data.layergroupid;\n          self.cdn_url = data.cdn_url;\n        }\n\n        self.queue.flush(this);\n\n      });\n\n    },\n\n    _getDefaultBasemapLayer: function() {\n\n      return {\n        type: \"http\",\n        options: {\n          urlTemplate: this.defaults.basemap_url_template,\n          subdomains:  this.defaults.basemap_subdomains\n        }\n      };\n\n    },\n\n    _getHTTPLayer: function(basemap) {\n\n      var urlTemplate = basemap.options.urlTemplate;\n\n      if (!urlTemplate) {\n        return null;\n      }\n\n      return {\n        type: \"http\",\n        options: {\n          urlTemplate: urlTemplate,\n          subdomains: basemap.options.subdomains || this.defaults.basemap_subdomains\n        }\n      };\n\n    },\n\n    _getPlainBasemapLayer: function(color) {\n\n      return {\n        type: \"plain\",\n        options: {\n          color: color\n        }\n      };\n\n    },\n\n    _getBasemapLayer: function() {\n\n      var basemap = this.userOptions.basemap || this.imageOptions.basemap;\n\n      if (basemap) {\n\n        // TODO: refactor this\n        var type = basemap.type.toLowerCase();\n\n        if (basemap.options && basemap.options.type) {\n          type = basemap.options.type.toLowerCase();\n        }\n\n        if (type === \"plain\") {\n          return this._getPlainBasemapLayer(basemap.options.color);\n        } else {\n          return this._getHTTPLayer(basemap);\n        }\n\n      }\n\n      return this._getDefaultBasemapLayer();\n\n    },\n\n    _getTorqueLayerDefinition: function(layer_definition) {\n\n      if (layer_definition.options.named_map) { // If the layer contains a named map inside, use it instead\n        return this._getNamedmapLayerDefinition(layer_definition);\n      }\n\n      var layerDefinition = new LayerDefinition(layer_definition, layer_definition.options);\n\n      var query    = layerDefinition.options.query || \"SELECT * FROM \" + layerDefinition.options.table_name;\n      var cartocss = layer_definition.options.tile_style;\n\n      return {\n        type: \"torque\",\n        options: {\n          step: this.userOptions.step || 0,\n          sql: query,\n          cartocss: cartocss\n        }\n      };\n\n    },\n\n    _getLayergroupLayerDefinition: function(layer) {\n\n      var options = layer.options;\n\n      options.layer_definition.layers = this._getVisibleLayers(options.layer_definition.layers);\n\n      var layerDefinition = new LayerDefinition(options.layer_definition, options);\n\n      return layerDefinition.toJSON().layers;\n\n    },\n\n    _getNamedmapLayerDefinition: function(layer) {\n\n      var options = layer.options;\n\n      var layerDefinition = new NamedMap(options.named_map, options);\n\n      var options = {\n        name: layerDefinition.named_map.name\n      };\n\n      if (this.auth_tokens && this.auth_tokens.length > 0) {\n        options.auth_tokens = this.auth_tokens;\n      }\n\n      return {\n        type: \"named\",\n        options: options\n      }\n\n    },\n\n    _getVisibleLayers: function(layers) {\n      return _.filter(layers, function(layer) { return layer.visible; });\n    },\n\n    _getUrl: function() {\n\n      var username     = this.options.user_name;\n      var bbox         = this.imageOptions.bbox;\n      var layergroupid = this.imageOptions.layergroupid;\n      var zoom         = this.imageOptions.zoom   || this.defaults.zoom;\n      var center       = this.imageOptions.center || this.defaults.center;\n      var size         = this.imageOptions.size   || this.defaults.size;\n      var format       = this.imageOptions.format || this.defaults.format;\n\n      var lat    = center[0];\n      var lon    = center[1];\n\n      var width  = size[0];\n      var height = size[1];\n\n      var subhost = this.isHttps() ? null : \"a\";\n\n      var url = this._host(subhost) + this.endPoint;\n\n      if (bbox && bbox.length && !this.userOptions.override_bbox) {\n        return [url, \"static/bbox\" , layergroupid, bbox.join(\",\"), width, height + \".\" + format].join(\"/\");\n      } else {\n        return [url, \"static/center\" , layergroupid, zoom, lat, lon, width, height + \".\" + format].join(\"/\");\n      }\n\n    },\n\n    // Generates a random string\n    _getUUID: function() {\n      var S4 = function() {\n        return (((1+Math.random())*0x10000)|0).toString(16).substring(1);\n      };\n      return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n    },\n\n    /* Setters */\n    _set: function(name, value) {\n\n      var self = this;\n\n      this.queue.add(function() {\n        self.imageOptions[name] = value;\n      });\n\n      return this;\n\n    },\n\n    zoom: function(zoom) {\n      return this._set(\"zoom\", zoom);\n    },\n\n    bbox: function(bbox) {\n      return this._set(\"bbox\", bbox);\n    },\n\n    center: function(center) {\n      this._set(\"bbox\", null);\n      return this._set(\"center\", center);\n    },\n\n    format: function(format) {\n      return this._set(\"format\", _.include(this.supported_formats, format) ? format : this.defaults.format);\n    },\n\n    size: function(width, height) {\n      return this._set(\"size\", [width, height === undefined ? width : height]);\n    },\n\n    /* Methods */\n\n    /* Image.into(HTMLImageElement)\n       inserts the image in the HTMLImageElement specified */\n    into: function(img) {\n\n      var self = this;\n\n      if (!(img instanceof HTMLImageElement)) {\n        cartodb.log.error(\"img should be an image\");\n        return;\n      }\n\n      this.imageOptions.size = [img.width, img.height];\n\n      this.queue.add(function(response) {\n        img.src = self._getUrl();\n      });\n\n    },\n\n    /* Image.getUrl(callback(err, url))\n       gets the url for the image, err is null is there was no error */\n\n    getUrl: function(callback) {\n\n      var self = this;\n\n      this.queue.add(function() {\n        if (callback) {\n          callback(self.error, self._getUrl()); \n        }\n      });\n\n    },\n\n    /* Image.write(attributes)\n       adds a img tag in the same place script is executed */\n\n    write: function(attributes) {\n\n      var self = this;\n\n      this.imageOptions.attributes = attributes;\n\n      if (attributes && attributes.src) {\n        document.write('<img id=\"' + this.imageOptions.temp_id + '\" src=\"'  + attributes.src + '\" />');\n      } else {\n        document.write('<img id=\"' + this.imageOptions.temp_id + '\" />');\n      }\n\n      this.queue.add(function() {\n\n        var element = document.getElementById(self.imageOptions.temp_id);\n\n        element.src = self._getUrl();\n        element.removeAttribute(\"temp_id\");\n\n        var attributes = self.imageOptions.attributes;\n\n        if (attributes && attributes.class) { element.setAttribute(\"class\", attributes.class); }\n        if (attributes && attributes.id)    { element.setAttribute(\"id\", attributes.id); }\n\n      });\n\n      return this;\n    }\n\n  })\n\n  cdb.Image = function(data, options) {\n\n    if (!options) options = {};\n\n    var image = new StaticImage();\n\n    if (typeof data === 'string') {\n      image.load(data, options);\n    } else {\n      image.loadLayerDefinition(data, options);\n    }\n\n    return image;\n\n  };\n\n})();\n(function() {\n\ncdb.vis.Overlay.register('logo', function(data, vis) {\n\n});\n\ncdb.vis.Overlay.register('slides_controller', function(data, vis) {\n\n  var slides_controller = new cdb.geo.ui.SlidesController({\n    transitions: data.transitions,\n    visualization: vis\n  });\n\n  return slides_controller.render();\n\n});\n\ncdb.vis.Overlay.register('mobile', function(data, vis) {\n\n  var template = cdb.core.Template.compile(\n    data.template || '\\\n    <div class=\"backdrop\"></div>\\\n    <div class=\"cartodb-header\">\\\n      <div class=\"content\">\\\n        <a href=\"#\" class=\"fullscreen\"></a>\\\n        <a href=\"#\" class=\"toggle\"></a>\\\n        </div>\\\n      </div>\\\n    </div>\\\n    <div class=\"aside\">\\\n    <div class=\"layer-container\">\\\n    <div class=\"scrollpane\"><ul class=\"layers\"></ul></div>\\\n    </div>\\\n    </div>\\\n    <div class=\"cartodb-attribution\"></div>\\\n    <a href=\"#\" class=\"cartodb-attribution-button\"></a>\\\n    <div class=\"torque\"></div>\\\n    ',\n    data.templateType || 'mustache'\n  );\n\n  var mobile = new cdb.geo.ui.Mobile({\n    template: template,\n    mapView: vis.mapView,\n    overlays: data.overlays,\n    transitions: data.transitions,\n    slides_data: data.slides,\n    visualization: vis,\n    layerView: data.layerView,\n    visibility_options: data.options,\n    torqueLayer: data.torqueLayer,\n    map: data.map\n  });\n\n  return mobile.render();\n});\n\ncdb.vis.Overlay.register('image', function(data, vis) {\n\n  var options = data.options;\n\n  var template = cdb.core.Template.compile(\n    data.template || '\\\n    <div class=\"content\">\\\n    <div class=\"text widget_text\">{{{ content }}}</div>\\\n    </div>',\n    data.templateType || 'mustache'\n  );\n\n  var widget = new cdb.geo.ui.Image({\n    model: new cdb.core.Model(options),\n    template: template\n  });\n\n  return widget.render();\n\n});\n\ncdb.vis.Overlay.register('text', function(data, vis) {\n\n  var options = data.options;\n\n  var template = cdb.core.Template.compile(\n    data.template || '\\\n    <div class=\"content\">\\\n    <div class=\"text widget_text\">{{{ text }}}</div>\\\n    </div>',\n    data.templateType || 'mustache'\n  );\n\n  var widget = new cdb.geo.ui.Text({\n    model: new cdb.core.Model(options),\n    template: template,\n    className: \"cartodb-overlay overlay-text \" + options.device\n  });\n\n  return widget.render();\n\n});\n\ncdb.vis.Overlay.register('annotation', function(data, vis) {\n\n  var options = data.options;\n\n  var template = cdb.core.Template.compile(\n    data.template || '\\\n    <div class=\"content\">\\\n    <div class=\"text widget_text\">{{{ text }}}</div>\\\n    <div class=\"stick\"><div class=\"ball\"></div></div>\\\n    </div>',\n    data.templateType || 'mustache'\n  );\n\n  var options = data.options;\n\n  var widget = new cdb.geo.ui.Annotation({\n    className: \"cartodb-overlay overlay-annotation \" + options.device,\n    template: template,\n    mapView: vis.mapView,\n    device: options.device,\n    text: options.extra.rendered_text,\n    minZoom: options.style[\"min-zoom\"],\n    maxZoom: options.style[\"max-zoom\"],\n    latlng: options.extra.latlng,\n    style: options.style\n  });\n\n  return widget.render();\n\n});\n\n\ncdb.vis.Overlay.register('zoom_info', function(data, vis) {\n  //console.log(\"placeholder for the zoom_info overlay\");\n});\n\ncdb.vis.Overlay.register('header', function(data, vis) {\n\n  var options = data.options;\n\n  var template = cdb.core.Template.compile(\n    data.template || '\\\n    <div class=\"content\">\\\n    <div class=\"title\">{{{ title }}}</div>\\\n    <div class=\"description\">{{{ description }}}</div>\\\n    </div>',\n    data.templateType || 'mustache'\n  );\n\n  var widget = new cdb.geo.ui.Header({\n    model: new cdb.core.Model(options),\n    transitions: data.transitions,\n    slides: vis.slides,\n    template: template\n  });\n\n  return widget.render();\n\n});\n\n// map zoom control\ncdb.vis.Overlay.register('zoom', function(data, vis) {\n\n  if(!data.template) {\n    vis.trigger('error', 'zoom template is empty')\n    return;\n  }\n\n  var zoom = new cdb.geo.ui.Zoom({\n    model: data.map,\n    template: cdb.core.Template.compile(data.template)\n  });\n\n  return zoom.render();\n\n});\n\n// Tiles loader\ncdb.vis.Overlay.register('loader', function(data) {\n\n  var tilesLoader = new cdb.geo.ui.TilesLoader({\n    template: cdb.core.Template.compile(data.template)\n  });\n\n  return tilesLoader.render();\n});\n\ncdb.vis.Overlay.register('time_slider', function(data, viz) {\n  var slider = new cdb.geo.ui.TimeSlider(data);\n  return slider.render();\n});\n\n\n// Header to show informtion (title and description)\ncdb.vis.Overlay.register('_header', function(data, vis) {\n  var MAX_SHORT_DESCRIPTION_LENGTH = 100;\n\n  // Add the complete url for facebook and twitter\n  if (location.href) {\n    data.share_url = encodeURIComponent(location.href);\n  } else {\n    data.share_url = data.url;\n  }\n\n  var template = cdb.core.Template.compile(\n    data.template || \"\\\n      {{#title}}\\\n        <h1>\\\n          {{#url}}\\\n            <a href='#' onmousedown=\\\"window.open('{{url}}')\\\">{{title}}</a>\\\n          {{/url}}\\\n          {{^url}}\\\n            {{title}}\\\n          {{/url}}\\\n        </h1>\\\n      {{/title}}\\\n      {{#description}}<p>{{{description}}}</p>{{/description}}\\\n      {{#mobile_shareable}}\\\n        <div class='social'>\\\n          <a class='facebook' target='_blank'\\\n            href='http://www.facebook.com/sharer.php?u={{share_url}}&text=Map of {{title}}: {{description}}'>F</a>\\\n          <a class='twitter' href='https://twitter.com/share?url={{share_url}}&text={{twitter_title}}'\\\n           target='_blank'>T</a>\\\n        </div>\\\n      {{/mobile_shareable}}\\\n    \",\n    data.templateType || 'mustache'\n  );\n\n  function truncate(s, length) {\n    return s.substr(0, length-1) + (s.length > length ? '…' : '');\n  }\n\n  var title       = data.map.get('title');\n  var description = data.map.get('description');\n\n  var facebook_title = title + \": \" + description;\n  var twitter_title;\n\n  if (title && description) {\n    twitter_title = truncate(title + \": \" + description, 112) + \" %23map \"\n  } else if (title) {\n    twitter_title = truncate(title, 112) + \" %23map\"\n  } else if (description){\n    twitter_title = truncate(description, 112) + \" %23map\"\n  } else {\n    twitter_title = \"%23map\"\n  }\n\n  var shareable = (data.shareable == \"false\" || !data.shareable) ? null : data.shareable;\n  var mobile_shareable = shareable;\n\n  mobile_shareable = mobile_shareable && (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\n\n  var header = new cdb.geo.ui.Header({\n    title: title,\n    description: description,\n    facebook_title: facebook_title,\n    twitter_title: twitter_title,\n    url: data.url,\n    share_url: data.share_url,\n    mobile_shareable: mobile_shareable,\n    shareable: shareable && !mobile_shareable,\n    template: template\n  });\n\n  return header.render();\n});\n\n// infowindow\ncdb.vis.Overlay.register('infowindow', function(data, vis) {\n\n  if (_.size(data.fields) == 0) {\n    return null;\n  }\n\n  var infowindowModel = new cdb.geo.ui.InfowindowModel({\n    template: data.template,\n    template_type: data.templateType,\n    alternative_names: data.alternative_names,\n    fields: data.fields,\n    template_name: data.template_name\n  });\n\n  var infowindow = new cdb.geo.ui.Infowindow({\n     model: infowindowModel,\n     mapView: vis.mapView,\n     template: data.template\n  });\n\n  return infowindow;\n});\n\n\n// layer_selector\ncdb.vis.Overlay.register('layer_selector', function(data, vis) {\n\n  var options = data.options;\n  //if (!options.display) return;\n\n  var template = cdb.core.Template.compile(\n    data.template || '\\\n      <a href=\"#/change-visibility\" class=\"layers\">Visible layers<div class=\"count\"></div></a>\\\n      ',\n    data.templateType || 'underscore'\n  );\n\n  var dropdown_template = cdb.core.Template.compile(\n    data.template || '\\\n      <ul></ul><div class=\"tail\"><span class=\"border\"></span></div>\\\n      ',\n    data.templateType || 'underscore'\n  );\n\n  var layerSelector = new cdb.geo.ui.LayerSelector({\n    model: new cdb.core.Model(options),\n    mapView: vis.mapView,\n    template: template,\n    dropdown_template: dropdown_template,\n    layer_names: data.layer_names\n  });\n\n  var timeSlider = vis.timeSlider;\n  if (timeSlider) {\n    layerSelector.bind('change:visible', function(visible, order, layer) {\n      if (layer.get('type') === 'torque') {\n        timeSlider[visible ? 'show': 'hide']();\n      }\n    });\n  }\n  if (vis.legends) {\n\n    layerSelector.bind('change:visible', function(visible, order, layer) {\n\n\n      if (layer.get('type') === 'layergroup' || layer.get('type') === 'torque') {\n\n        var legend = vis.legends && vis.legends.getLegendByIndex(order);\n\n        if (legend) {\n          legend[visible ? 'show': 'hide']();\n        }\n\n      }\n\n    });\n  }\n\n  return layerSelector.render();\n\n});\n\n// fullscreen\ncdb.vis.Overlay.register('fullscreen', function(data, vis) {\n\n  var options = data.options;\n\n  options.allowWheelOnFullscreen = false;\n\n  var template = cdb.core.Template.compile(\n    data.template || '<a href=\"{{ mapUrl }}\" target=\"_blank\"></a>',\n    data.templateType || 'mustache'\n  );\n\n  var fullscreen = new cdb.ui.common.FullScreen({\n    doc: \"#map > div\",\n    model: new cdb.core.Model(options),\n    mapView: vis.mapView,\n    template: template\n  });\n\n  return fullscreen.render();\n\n});\n\n// share content\ncdb.vis.Overlay.register('share', function(data, vis) {\n\n  var options = data.options;\n\n  var template = cdb.core.Template.compile(\n    data.template || '<a href=\"#\"></a>',\n    data.templateType || 'mustache'\n  );\n\n  var widget = new cdb.geo.ui.Share({\n    model: new cdb.core.Model(options),\n    vis: vis,\n    map: vis.map,\n    template: template\n  });\n\n  widget.createDialog();\n\n  return widget.render();\n\n});\n\n// search content\ncdb.vis.Overlay.register('search', function(data, vis) {\n\n  var template = cdb.core.Template.compile(\n    data.template || '\\\n      <form>\\\n        <span class=\"loader\"></span>\\\n        <input type=\"text\" class=\"text\" value=\"\" />\\\n        <input type=\"submit\" class=\"submit\" value=\"\" />\\\n      </form>\\\n    ',\n    data.templateType || 'mustache'\n  );\n\n  var search = new cdb.geo.ui.Search(\n    _.extend(data, {\n      template: template,\n      mapView: vis.mapView,\n      model: vis.map\n    })\n  );\n\n  return search.render();\n\n});\n\n// tooltip\ncdb.vis.Overlay.register('tooltip', function(data, vis) {\n  if (!data.layer && vis.getLayers().length <= 1) {\n    throw new Error(\"layer is null\");\n  }\n  data.layer = data.layer || vis.getLayers()[1];\n  data.layer.setInteraction(true);\n  data.mapView = vis.mapView;\n  return new cdb.geo.ui.Tooltip(data);\n});\n\ncdb.vis.Overlay.register('infobox', function(data, vis) {\n  var layer;\n  var layers = vis.getLayers();\n  if (!data.layer) {\n    if(layers.length > 1) {\n      layer = layers[1];\n    }\n    data.layer = layer;\n  }\n  if(!data.layer) {\n    throw new Error(\"layer is null\");\n  }\n  data.layer.setInteraction(true);\n  var infobox = new cdb.geo.ui.InfoBox(data);\n  return infobox;\n\n});\n\n})();\n\n(function() {\n\nvar Layers = cdb.vis.Layers;\n\n/*\n *  if we are using http and the tiles of base map need to be fetched from\n *  https try to fix it\n */\n\nvar HTTPS_TO_HTTP = {\n  'https://dnv9my2eseobd.cloudfront.net/': 'http://a.tiles.mapbox.com/',\n  'https://maps.nlp.nokia.com/': 'http://maps.nlp.nokia.com/',\n  'https://tile.stamen.com/': 'http://tile.stamen.com/',\n  \"https://{s}.maps.nlp.nokia.com/\": \"http://{s}.maps.nlp.nokia.com/\",\n  \"https://cartocdn_{s}.global.ssl.fastly.net/\": \"http://{s}.api.cartocdn.com/\",\n  \"https://cartodb-basemaps-{s}.global.ssl.fastly.net/\": \"http://{s}.basemaps.cartocdn.com/\"\n};\n\nfunction transformToHTTP(tilesTemplate) {\n  for(var url in HTTPS_TO_HTTP) {\n    if(tilesTemplate.indexOf(url) !== -1) {\n      return tilesTemplate.replace(url, HTTPS_TO_HTTP[url])\n    }\n  }\n  return tilesTemplate;\n}\n\nfunction transformToHTTPS(tilesTemplate) {\n  for(var url in HTTPS_TO_HTTP) {\n    var httpsUrl = HTTPS_TO_HTTP[url];\n    if(tilesTemplate.indexOf(httpsUrl) !== -1) {\n      return tilesTemplate.replace(httpsUrl, url);\n    }\n  }\n  return tilesTemplate;\n}\n\nLayers.register('tilejson', function(vis, data) {\n  var url = data.tiles[0];\n  if(vis.https === true) {\n    url = transformToHTTPS(url);\n  }\n  else if(vis.https === false) { // Checking for an explicit false value. If it's undefined the url is left as is.\n    url = transformToHTTP(url);\n  }\n  return new cdb.geo.TileLayer({\n    urlTemplate: url\n  });\n});\n\nLayers.register('tiled', function(vis, data) {\n  var url = data.urlTemplate;\n  if(vis.https === true) {\n    url = transformToHTTPS(url);\n  }\n  else if(vis.https === false) { // Checking for an explicit false value. If it's undefined the url is left as is.\n    url = transformToHTTP(url);\n  }\n  \n  data.urlTemplate = url;\n  return new cdb.geo.TileLayer(data);\n});\n\nLayers.register('wms', function(vis, data) {\n  return new cdb.geo.WMSLayer(data);\n});\n\nLayers.register('gmapsbase', function(vis, data) {\n  return new cdb.geo.GMapsBaseLayer(data);\n});\n\nLayers.register('plain', function(vis, data) {\n  return new cdb.geo.PlainLayer(data);\n});\n\nLayers.register('background', function(vis, data) {\n  return new cdb.geo.PlainLayer(data);\n});\n\n\nfunction normalizeOptions(vis, data) {\n  if(data.infowindow && data.infowindow.fields) {\n    if(data.interactivity) {\n      if(data.interactivity.indexOf('cartodb_id') === -1) {\n        data.interactivity = data.interactivity + \",cartodb_id\";\n      }\n    } else {\n      data.interactivity = 'cartodb_id';\n    }\n  }\n  // if https is forced\n  if(vis.https) {\n    data.tiler_protocol = 'https';\n    data.tiler_port = 443;\n    data.sql_api_protocol = 'https';\n    data.sql_api_port = 443;\n  }\n  data.cartodb_logo = vis.cartodb_logo == undefined ? data.cartodb_logo : vis.cartodb_logo;\n}\n\nvar cartoLayer = function(vis, data) {\n  normalizeOptions(vis, data);\n  // if sublayers are included that means a layergroup should\n  // be created\n  if(data.sublayers) {\n    data.type = 'layergroup';\n    return new cdb.geo.CartoDBGroupLayer(data);\n  }\n  return new cdb.geo.CartoDBLayer(data);\n};\n\nLayers.register('cartodb', cartoLayer);\nLayers.register('carto', cartoLayer);\n\nLayers.register('layergroup', function(vis, data) {\n  normalizeOptions(vis, data);\n  return new cdb.geo.CartoDBGroupLayer(data);\n});\n\nLayers.register('namedmap', function(vis, data) {\n  normalizeOptions(vis, data);\n  return new cdb.geo.CartoDBNamedMapLayer(data);\n});\n\nLayers.register('torque', function(vis, data) {\n  normalizeOptions(vis, data);\n  // default is https\n  if(vis.https) {\n    if(data.sql_api_domain && data.sql_api_domain.indexOf('carto.com') !== -1) {\n      data.sql_api_protocol = 'https';\n      data.sql_api_port = 443;\n      data.tiler_protocol = 'https';\n      data.tiler_port = 443;\n    }\n  }\n  data.cartodb_logo = vis.cartodb_logo == undefined ? data.cartodb_logo : vis.cartodb_logo;\n  return new cdb.geo.TorqueLayer(data);\n});\n\n})();\n/**\n * public api for cartodb\n */\n(function() {\n  function _Promise() {\n\n  }\n  _.extend(_Promise.prototype,  Backbone.Events, {\n    done: function(fn) {\n      return this.bind('done', fn);\n    },\n    error: function(fn) {\n      return this.bind('error', fn);\n    }\n  });\n\n  cdb._Promise = _Promise;\n\n  var _requestCache = {};\n\n  /**\n   * compose cartodb url\n   */\n  function cartodbUrl(opts) {\n    var host = opts.host || 'carto.com';\n    var protocol = opts.protocol || 'https';\n    return protocol + '://' + opts.user + '.' + host + '/api/v1/viz/' + opts.table + '/viz.json';\n  }\n\n  /**\n   * given layer params fetchs the layer json\n   */\n  function _getLayerJson(layer, callback) {\n    var url = null;\n    if(layer.layers !== undefined || ((layer.kind || layer.type) !== undefined)) {\n      // layer object contains the layer data\n      _.defer(function() { callback(layer); });\n      return;\n    } else if(layer.table !== undefined && layer.user !== undefined) {\n      // layer object points to cartodbjson\n      url = cartodbUrl(layer);\n    } else if(layer.indexOf) {\n      // fetch from url\n      url = layer;\n    }\n    if(url) {\n      cdb.core.Loader.get(url, callback);\n    } else {\n      _.defer(function() { callback(null); });\n    }\n  }\n\n  /**\n   * create a layer for the specified map\n   *\n   * @param map should be a L.Map object, or equivalent depending on what provider you have.\n   * @param layer should be an url or a javascript object with the data to create the layer\n   * @param options layer options\n   *\n   */\n  cartodb.createLayer = function(map, layer, options, callback) {\n    if(map === undefined) {\n      throw new TypeError(\"map should be provided\");\n    }\n    if(layer === undefined) {\n      throw new TypeError(\"layer should be provided\");\n    }\n\n    var layerView, MapType;\n    var options = options || {};\n    var args = arguments;\n    var fn = args[args.length -1];\n    if(_.isFunction(fn)) {\n      callback = fn;\n    }\n    var promise = new _Promise();\n\n    promise.addTo = function(map, position) {\n      promise.on('done', function() {\n        MapType.addLayerToMap(layerView, map, position);\n      });\n      return promise;\n    };\n\n    _getLayerJson(layer, function(visData) {\n\n      var layerData;\n\n      if(!visData) {\n        promise.trigger('error');\n        return;\n      }\n\n      // extract layer data from visualization data\n      if(visData.layers) {\n        if(visData.layers.length < 2) {\n          promise.trigger('error', \"visualization file does not contain layer info\");\n        }\n        var index = options.layerIndex;\n        if (index !== undefined) {\n          if(visData.layers.length <= index) {\n            promise.trigger('error', 'layerIndex out of bounds');\n            return;\n          }\n          layerData = visData.layers[index];\n        } else {\n          var DATA_LAYER_TYPES = ['namedmap', 'layergroup', 'torque'];\n\n          // Select the first data layer (namedmap or layergroup)\n          layerData = _.find(visData.layers, function(layer){\n            return DATA_LAYER_TYPES.indexOf(layer.type) !== -1;\n          });\n        }\n      } else {\n        layerData = visData;\n      }\n\n      if(!layerData) {\n        promise.trigger('error');\n        return;\n      }\n\n      // update options\n      if(options && !_.isFunction(options)) {\n        layerData.options = layerData.options || {};\n        _.extend(layerData.options, options);\n      }\n\n      options = _.defaults(options, {\n        infowindow: true,\n        https: false,\n        legends: true,\n        time_slider: true,\n        tooltip: true\n      });\n\n      // check map type\n      // TODO: improve checking\n      if(typeof(map.overlayMapTypes) !== \"undefined\") {\n        MapType = cdb.geo.GoogleMapsMapView;\n        // check if leaflet is loaded globally\n      } else if(map instanceof L.Map || (window.L && map instanceof window.L.Map)) {\n        MapType = cdb.geo.LeafletMapView;\n      } else {\n        promise.trigger('error', \"cartodb.js can't guess the map type\");\n        return promise;\n      }\n\n      // create a dummy viz\n      var viz = map.viz;\n      if(!viz) {\n        var mapView = new MapType({\n          map_object: map,\n          map: new cdb.geo.Map()\n        });\n\n        map.viz = viz = new cdb.vis.Vis({\n          mapView: mapView\n        });\n\n        viz.updated_at = visData.updated_at;\n        viz.https = options.https;\n      }\n\n      function createLayer() {\n        layerView = viz.createLayer(layerData, { no_base_layer: true });\n\n        var torqueLayer;\n        var mobileEnabled = /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        var addMobileLayout = (options.mobile_layout && mobileEnabled) || options.force_mobile;\n\n        if(!layerView) {\n          promise.trigger('error', \"layer not supported\");\n          return promise;\n        }\n\n        if(options.infowindow) {\n          viz.addInfowindow(layerView);\n        }\n\n        if(options.tooltip) {\n          viz.addTooltip(layerView);\n        }\n\n        if(options.legends) {\n          var layerModel = cdb.vis.Layers.create(layerData.type || layerData.kind, viz, layerData);\n\n          viz._addLegends(viz._createLayerLegendView(layerModel.attributes,  layerView))\n        }\n\n        if(options.time_slider && layerView.model.get('type') === 'torque') {\n\n          if (!addMobileLayout) { // don't add the overlay if we are in mobile\n            viz.addTimeSlider(layerView);\n          }\n\n          torqueLayer = layerView;\n        }\n\n        if (addMobileLayout) {\n\n          options.mapView = map.viz.mapView;\n\n          viz.addOverlay({\n            type: 'mobile',\n            layerView: layerView,\n            overlays: [],\n            torqueLayer: torqueLayer,\n            options: options\n          });\n        }\n\n        callback && callback(layerView);\n        promise.trigger('done', layerView);\n      }\n\n      // load needed modules\n      if(!viz.checkModules([layerData])) {\n        viz.loadModules([layerData], function() {\n          createLayer();\n        });\n      } else {\n        createLayer();\n      }\n    });\n\n    return promise;\n  };\n})();\n\n;(function() {\n\n  var root = this;\n\n  root.cartodb = root.cartodb || {};\n\n  function SQL(options) {\n    if(cartodb === this || window === this) {\n      return new SQL(options);\n    }\n    if(!options.user) {\n      throw new Error(\"user should be provided\");\n    }\n    var loc = new String(window.location.protocol);\n    loc = loc.slice(0, loc.length - 1);\n    if(loc == 'file') {\n      loc = 'https';\n    }\n\n    this.ajax = options.ajax || (typeof(jQuery) !== 'undefined' ? jQuery.ajax: reqwest);\n    if(!this.ajax) {\n      throw new Error(\"jQuery or reqwest should be loaded\");\n    }\n\n    this.options = _.defaults(options, {\n      version: 'v2',\n      protocol: loc,\n      jsonp: typeof(jQuery) !== 'undefined' ? !jQuery.support.cors: false\n    })\n\n    if (!this.options.sql_api_template) {\n      var opts = this.options;\n      var template = null;\n      if(opts && opts.completeDomain) {\n        template = opts.completeDomain;\n      } else {\n        var host = opts.host || 'carto.com';\n        var protocol = opts.protocol || 'https';\n        template = protocol + '://{user}.' + host;\n      }\n      this.options.sql_api_template = template;\n    }\n  }\n\n  SQL.prototype._host = function() {\n    var opts = this.options;\n    return opts.sql_api_template.replace('{user}', opts.user) + '/api/' +  opts.version + '/sql';\n  },\n\n  /**\n   * var sql = new SQL('cartodb_username');\n   * sql.execute(\"select * from {{ table }} where id = {{ id }}\", {\n   *    table: 'test',\n   *    id: '1'\n   * })\n   */\n  SQL.prototype.execute = function(sql, vars, options, callback) {\n\n    //Variable that defines if a query should be using get method or post method\n    var MAX_LENGTH_GET_QUERY = 1024;\n\n    var promise = new cartodb._Promise();\n    if(!sql) {\n      throw new TypeError(\"sql should not be null\");\n    }\n    // setup arguments\n    var args = arguments,\n    fn = args[args.length -1];\n    if(_.isFunction(fn)) {\n      callback = fn;\n    }\n    options = _.defaults(options || {}, this.options);\n    var params = {\n      type: 'get',\n      dataType: 'json',\n      crossDomain: true\n    };\n\n    if(options.cache !== undefined) {\n      params.cache = options.cache; \n    }\n\n    if(options.jsonp) {\n      delete params.crossDomain;\n      if (options.jsonpCallback) {\n        params.jsonpCallback = options.jsonpCallback;\n      }\n      params.dataType = 'jsonp';\n    }\n\n    // Substitute mapnik tokens\n    // resolution at zoom level 0\n    var res = '156543.03515625';\n    // full webmercator extent\n    var ext = 'ST_MakeEnvelope(-20037508.5,-20037508.5,20037508.5,20037508.5,3857)';\n    sql = sql.replace('!bbox!', ext)\n             .replace('!pixel_width!', res)\n             .replace('!pixel_height!', res);\n\n    // create query\n    var query = Mustache.render(sql, vars);\n\n    // check method: if we are going to send by get or by post\n    var isGetRequest = query.length < MAX_LENGTH_GET_QUERY;\n\n    // generate url depending on the http method\n    var reqParams = ['format', 'dp', 'api_key'];\n    // request params\n    if (options.extra_params) {\n      reqParams = reqParams.concat(options.extra_params);\n    }\n\n    params.url = this._host() ;\n    if (isGetRequest) {\n      var q = 'q=' + encodeURIComponent(query);\n      for(var i in reqParams) {\n        var r = reqParams[i];\n        var v = options[r];\n        if(v) {\n          q += '&' + r + \"=\" + v;\n        }\n      }\n\n      params.url += '?' + q;\n    } else {\n      var objPost = {'q': query};\n      for(var i in reqParams) {\n        var r = reqParams[i];\n        var v = options[r];\n        if (v) {\n          objPost[r] = v;\n        }\n      }\n\n      params.data = objPost;\n      //Check if we are using jQuery(uncompressed) or reqwest (core)\n      if ((typeof(jQuery) !== 'undefined')) {\n        params.type = 'post';\n      } else {\n        params.method = 'post'; \n      }\n    }\n\n    // wrap success and error functions\n    var success = options.success;\n    var error = options.error;\n    if(success) delete options.success;\n    if(error) delete error.success;\n\n    params.error = function(resp) {\n      var res = resp.responseText || resp.response;\n      var errors = res && JSON.parse(res);\n      promise.trigger('error', errors && errors.error, resp)\n      if(error) error(resp);\n    }\n    params.success = function(resp, status, xhr) {\n      // manage rewest\n      if(status == undefined) {\n        status = resp.status;\n        xhr = resp;\n        resp = JSON.parse(resp.response);\n      }\n      //Timeout explanation. CartoDB.js ticket #336\n      //From St.Ov.: \"what setTimeout does is add a new event to the browser event queue \n      //and the rendering engine is already in that queue (not entirely true, but close enough) \n      //so it gets executed before the setTimeout event.\"\n      setTimeout(function() {\n        promise.trigger('done', resp, status, xhr);\n        if(success) success(resp, status, xhr);\n        if(callback) callback(resp);\n      }, 0);\n    }\n\n    // call ajax\n    delete options.jsonp;\n    this.ajax(_.extend(params, options));\n    return promise;\n  }\n\n  SQL.prototype.getBounds = function(sql, vars, options, callback) {\n      var promise = new cartodb._Promise();\n      var args = arguments,\n      fn = args[args.length -1];\n      if(_.isFunction(fn)) {\n        callback = fn;\n      }\n      var s = 'SELECT ST_XMin(ST_Extent(the_geom)) as minx,' +\n              '       ST_YMin(ST_Extent(the_geom)) as miny,'+\n              '       ST_XMax(ST_Extent(the_geom)) as maxx,' +\n              '       ST_YMax(ST_Extent(the_geom)) as maxy' +\n              ' from ({{{ sql }}}) as subq';\n      sql = Mustache.render(sql, vars);\n      this.execute(s, { sql: sql }, options)\n        .done(function(result) {\n          if (result.rows && result.rows.length > 0 && result.rows[0].maxx != null) {\n            var c = result.rows[0];\n            var minlat = -85.0511;\n            var maxlat =  85.0511;\n            var minlon = -179;\n            var maxlon =  179;\n\n            var clamp = function(x, min, max) {\n              return x < min ? min : x > max ? max : x;\n            }\n\n            var lon0 = clamp(c.maxx, minlon, maxlon);\n            var lon1 = clamp(c.minx, minlon, maxlon);\n            var lat0 = clamp(c.maxy, minlat, maxlat);\n            var lat1 = clamp(c.miny, minlat, maxlat);\n\n            var bounds = [[lat0, lon0], [lat1, lon1]];\n            promise.trigger('done', bounds);\n            callback && callback(bounds);\n          }\n        })\n        .error(function(err) {\n          promise.trigger('error', err);\n        })\n\n      return promise;\n\n  }\n\n  /**\n   * var people_under_10 = sql\n   *    .table('test')\n   *    .columns(['age', 'column2'])\n   *    .filter('age < 10')\n   *    .limit(15)\n   *    .order_by('age')\n   *\n   *  people_under_10(function(results) {\n   *  })\n   */\n\n  SQL.prototype.table = function(name) {\n\n    var _name = name;\n    var _filters;\n    var _columns = [];\n    var _limit;\n    var _order;\n    var _orderDir;\n    var _sql = this;\n\n    function _table() {\n      _table.fetch.apply(_table, arguments);\n    }\n\n    _table.fetch = function(vars) {\n      vars = vars || {}\n      var args = arguments,\n      fn = args[args.length -1];\n      if(_.isFunction(fn)) {\n        callback = fn;\n        if(args.length === 1) vars = {};\n      }\n      _sql.execute(_table.sql(), vars, callback);\n    }\n\n    _table.sql = function() {\n      var s = \"select\"\n      if(_columns.length) {\n        s += ' ' + _columns.join(',') + ' '\n      } else {\n        s += ' * '\n      }\n\n      s += \"from \" + _name;\n\n      if(_filters) {\n        s += \" where \" + _filters;\n      }\n      if(_limit) {\n        s += \" limit \" + _limit;\n      }\n      if(_order) {\n        s += \" order by \" + _order;\n      }\n      if(_orderDir) {\n        s += ' ' + _orderDir;\n      }\n\n      return s;\n    }\n\n    _table.filter = function(f) {\n      _filters = f;\n      return _table;\n    }\n\n    _table.order_by= function(o) {\n      _order = o;\n      return _table;\n    }\n    _table.asc = function() {\n      _orderDir = 'asc'\n      return _table;\n    }\n\n    _table.desc = function() {\n      _orderDir = 'desc'\n      return _table;\n    }\n\n    _table.columns = function(c) {\n      _columns = c;\n      return _table;\n    }\n\n    _table.limit = function(l) {\n      _limit = l;\n      return _table;\n    }\n\n    return _table;\n\n  }\n\n\n  /*\n   * sql.filter(sql.f().distance('< 10km')\n   */\n  /*cartodb.SQL.geoFilter = function() {\n    var _sql;\n    function f() {}\n\n    f.distance = function(qty) {\n      qty.replace('km', '*1000')\n      _sql += 'st_distance(the_geom) ' + qty\n    }\n    f.or = function() {\n    }\n\n    f.and = function() {\n    }\n    return f;\n  }\n  */\n  function array_agg(s) {\n    return JSON.parse(s.replace(/^{/, '[').replace(/}$/,']'));\n  }\n\n\n  SQL.prototype.describeString = function(sql, column, callback) {\n\n      var s = [\n        'WITH t as (',\n        '        SELECT count(*) as total,',\n        '               count(DISTINCT {{column}}) as ndist',\n        '        FROM ({{sql}}) _wrap',\n        '      ), a as (',\n        '        SELECT ',\n        '          count(*) cnt, ',\n        '          {{column}}',\n        '        FROM ',\n        '          ({{sql}}) _wrap ',\n        '        GROUP BY ',\n        '          {{column}} ',\n        '        ORDER BY ',\n        '          cnt DESC',\n        '        ), b As (',\n        '         SELECT',\n        '          row_number() OVER (ORDER BY cnt DESC) rn,',\n        '          cnt',\n        '         FROM a',\n        '        ), c As (',\n        '        SELECT ',\n        '          sum(cnt) OVER (ORDER BY rn ASC) / t.total cumperc,',\n        '          rn,',\n        '          cnt ',\n        '         FROM b, t',\n        '         LIMIT 10',\n        '         ),',\n        'stats as (', \n           'select count(distinct({{column}})) as uniq, ',\n           '       count(*) as cnt, ',\n           '       sum(case when COALESCE(NULLIF({{column}},\\'\\')) is null then 1 else 0 end)::numeric as null_count, ',\n           '       sum(case when COALESCE(NULLIF({{column}},\\'\\')) is null then 1 else 0 end)::numeric / count(*)::numeric as null_ratio, ',\n           // '       CDB_DistinctMeasure(array_agg({{column}}::text)) as cat_weight ',\n           '       (SELECT max(cumperc) weight FROM c) As skew ',\n           'from ({{sql}}) __wrap',\n        '),',\n        'hist as (', \n           'select array_agg(row(d, c)) array_agg from (select distinct({{column}}) d, count(*) as c from ({{sql}}) __wrap, stats group by 1 limit 100) _a',\n        ')',\n        'select * from stats, hist'\n      ];\n\n      var query = Mustache.render(s.join('\\n'), {\n        column: column, \n        sql: sql\n      });\n\n      var normalizeName = function(str) {\n        var normalizedStr = str.replace(/^\"(.+(?=\"$))?\"$/, '$1'); // removes surrounding quotes\n        return normalizedStr.replace(/\"\"/g, '\"'); // removes duplicated quotes\n      }\n\n      this.execute(query, function(data) {\n        var row = data.rows[0];\n        var weight = 0;\n        var histogram = [];\n\n        try {\n          var s = array_agg(row.array_agg);\n\n          var histogram = _(s).map(function(row) {\n              var r = row.match(/\\((.*),(\\d+)/);\n              var name = normalizeName(r[1]);\n              return [name, +r[2]];\n          });\n\n          weight = row.skew * (1 - row.null_ratio) * (1 - row.uniq / row.cnt) * ( row.uniq > 1 ? 1 : 0);\n        } catch(e) {\n\n        }\n\n        callback({\n          type: 'string',\n          hist: histogram,\n          distinct: row.uniq,\n          count: row.cnt,\n          null_count: row.null_count,\n          null_ratio: row.null_ratio,\n          skew: row.skew,\n          weight: weight\n        });\n      });\n  }\n\n  SQL.prototype.describeDate = function(sql, column, callback) {\n    var s = [\n      'with minimum as (',\n        'SELECT min({{column}}) as start_time FROM ({{sql}}) _wrap), ',\n      'maximum as (SELECT max({{column}}) as end_time FROM ({{sql}}) _wrap), ',\n      'null_ratio as (SELECT sum(case when {{column}} is null then 1 else 0 end)::numeric / count(*)::numeric as null_ratio FROM ({{sql}}) _wrap), ',\n      'moments as (SELECT count(DISTINCT {{column}}) as moments FROM ({{sql}}) _wrap)',\n      'SELECT * FROM minimum, maximum, moments, null_ratio'\n    ];\n    var query = Mustache.render(s.join('\\n'), {\n      column: column,\n      sql: sql\n    });\n\n    this.execute(query, function(data) {\n      var row = data.rows[0];\n      var e = new Date(row.end_time);\n      var s = new Date(row.start_time);\n\n      var moments = row.moments;\n\n      var steps = Math.min(row.moments, 1024);\n      \n      callback({\n        type: 'date',\n        start_time: s,\n        end_time: e,\n        range: e - s,\n        steps: steps,\n        null_ratio: row.null_ratio\n      });\n    });\n  }\n\n  SQL.prototype.describeBoolean = function(sql, column, callback){\n    var s = [\n      'with stats as (',\n            'select count(distinct({{column}})) as uniq,',\n                   'count(*) as cnt',\n              'from ({{sql}}) _wrap ',\n        '),',\n      'null_ratio as (',\n        'SELECT sum(case when {{column}} is null then 1 else 0 end)::numeric / count(*)::numeric as null_ratio FROM ({{sql}}) _wrap), ',\n      'true_ratio as (',\n        'SELECT sum(case when {{column}} is true then 1 else 0 end)::numeric / count(*)::numeric as true_ratio FROM ({{sql}}) _wrap) ',\n      'SELECT * FROM true_ratio, null_ratio, stats'\n    ];\n    var query = Mustache.render(s.join('\\n'), {\n      column: column,\n      sql: sql\n    });\n\n    this.execute(query, function(data) {\n      var row = data.rows[0];\n      \n      callback({\n        type: 'boolean',\n        null_ratio: row.null_ratio,\n        true_ratio: row.true_ratio,\n        distinct: row.uniq,\n        count: row.cnt\n      });\n    });\n  }\n\n  SQL.prototype.describeGeom = function(sql, column, callback) {\n      var s = [\n        'with stats as (', \n           'select st_asgeojson(st_extent({{column}})) as bbox',\n           'from ({{sql}}) _wrap',\n        '),',\n        'geotype as (', \n          'select st_geometrytype({{column}}) as geometry_type from ({{sql}}) _w where {{column}} is not null limit 1',\n        '),',\n        'clusters as (', \n          'with clus as (',\n            'SELECT distinct(ST_snaptogrid(the_geom, 10)) as cluster, count(*) as clustercount FROM ({{sql}}) _wrap group by 1 order by 2 desc limit 3),', \n          'total as (',\n            'SELECT count(*) FROM ({{sql}}) _wrap)',\n          'SELECT sum(clus.clustercount)/sum(total.count) AS clusterrate FROM clus, total',\n        '),',\n        'density as (',\n          'SELECT count(*) / st_area(st_extent(the_geom)) as density FROM ({{sql}}) _wrap',\n        ')',\n        'select * from stats, geotype, clusters, density'\n      ];\n\n      var query = Mustache.render(s.join('\\n'), {\n        column: column, \n        sql: sql\n      });\n      function simplifyType(g) {\n        return { \n        'st_multipolygon': 'polygon',\n        'st_polygon': 'polygon',\n        'st_multilinestring': 'line',\n        'st_linestring': 'line',\n        'st_multipoint': 'point',\n        'st_point': 'point'\n        }[g.toLowerCase()]\n      };\n\n      this.execute(query, function(data) {\n        var row = data.rows[0];\n        var bbox = JSON.parse(row.bbox).coordinates[0]\n        callback({\n          type: 'geom',\n          //lon,lat -> lat, lon\n          bbox: [[bbox[0][0],bbox[0][1]], [bbox[2][0], bbox[2][1]]],\n          geometry_type: row.geometry_type,\n          simplified_geometry_type: simplifyType(row.geometry_type),\n          cluster_rate: row.clusterrate,\n          density: row.density\n        });\n      });\n  }\n\n  SQL.prototype.columns = function(sql, options, callback) {\n    var args = arguments,\n        fn = args[args.length -1];\n    if(_.isFunction(fn)) {\n      callback = fn;\n    }\n    var s = \"select * from (\" + sql + \") __wrap limit 0\";\n    var exclude = ['cartodb_id','latitude','longitude','created_at','updated_at','lat','lon','the_geom_webmercator'];\n    this.execute(s, function(data) {\n      var t = {}\n      for (var i in data.fields) {\n        if (exclude.indexOf(i) === -1) {\n          t[i] = data.fields[i].type;\n        }\n      }\n      callback(t);\n    });\n  };\n\n  SQL.prototype.describeFloat = function(sql, column, callback) {\n      var s = [\n        'with stats as (',\n            'select min({{column}}) as min,',\n                   'max({{column}}) as max,',\n                   'avg({{column}}) as avg,',\n                   'count(DISTINCT {{column}}) as cnt,',\n                   'count(distinct({{column}})) as uniq,',\n                   'count(*) as cnt,',\n                   'sum(case when {{column}} is null then 1 else 0 end)::numeric / count(*)::numeric as null_ratio,',\n                   'stddev_pop({{column}}) / count({{column}}) as stddev,',\n                   'CASE WHEN abs(avg({{column}})) > 1e-7 THEN stddev({{column}}) / abs(avg({{column}})) ELSE 1e12 END as stddevmean,',\n                    'CDB_DistType(array_agg(\"{{column}}\"::numeric)) as dist_type ',\n              'from ({{sql}}) _wrap ',\n        '),',\n        'params as (select min(a) as min, (max(a) - min(a)) / 7 as diff from ( select {{column}} as a from ({{sql}}) _table_sql where {{column}} is not null ) as foo ),',\n        'histogram as (',\n           'select array_agg(row(bucket, range, freq)) as hist from (',\n           'select CASE WHEN uniq > 1 then width_bucket({{column}}, min-0.01*abs(min), max+0.01*abs(max), 100) ELSE 1 END as bucket,',\n                  'numrange(min({{column}})::numeric, max({{column}})::numeric) as range,',\n                  'count(*) as freq',\n             'from ({{sql}}) _w, stats',\n             'group by 1',\n             'order by 1',\n          ') __wrap',\n         '),',\n        'hist as (', \n           'select array_agg(row(d, c)) cat_hist from (select distinct({{column}}) d, count(*) as c from ({{sql}}) __wrap, stats group by 1 limit 100) _a',\n        '),',\n         'buckets as (',\n            'select CDB_QuantileBins(array_agg(distinct({{column}}::numeric)), 7) as quantiles, ',\n            '       (select array_agg(x::numeric) FROM (SELECT (min + n * diff)::numeric as x FROM generate_series(1,7) n, params) p) as equalint,',\n            // '       CDB_EqualIntervalBins(array_agg({{column}}::numeric), 7) as equalint, ',\n            '       CDB_JenksBins(array_agg(distinct({{column}}::numeric)), 7) as jenks, ',\n            '       CDB_HeadsTailsBins(array_agg(distinct({{column}}::numeric)), 7) as headtails ',\n            'from ({{sql}}) _table_sql where {{column}} is not null',\n         ')',\n         'select * from histogram, stats, buckets, hist'\n      ];\n\n      var query = Mustache.render(s.join('\\n'), {\n        column: column, \n        sql: sql\n      });\n\n      this.execute(query, function(data) {\n        var row = data.rows[0];\n        var s = array_agg(row.hist);\n        var h = array_agg(row.cat_hist);\n        callback({\n          type: 'number',\n          cat_hist: \n            _(h).map(function(row) {\n            var r = row.match(/\\((.*),(\\d+)/);\n            return [+r[1], +r[2]];\n          }),\n          hist: _(s).map(function(row) {\n            if(row.indexOf(\"empty\") > -1) return;\n            var els = row.split('\"');\n            return { index: els[0].replace(/\\D/g,''), \n                     range: els[1].split(\",\").map(function(d){return d.replace(/\\D/g,'')}), \n                     freq: els[2].replace(/\\D/g,'') };\n          }),\n          stddev: row.stddev,\n          null_ratio: row.null_ratio,\n          count: row.cnt,\n          distinct: row.uniq,\n          //lstddev: row.lstddev,\n          avg: row.avg,\n          max: row.max,\n          min: row.min,\n          stddevmean: row.stddevmean,\n          weight: (row.uniq > 1 ? 1 : 0) * (1 - row.null_ratio) * (row.stddev < -1 ? 1 : (row.stddev < 1 ? 0.5 : (row.stddev < 3 ? 0.25 : 0.1))),\n          quantiles: row.quantiles,\n          equalint: row.equalint,\n          jenks: row.jenks,\n          headtails: row.headtails,\n          dist_type: row.dist_type\n        });\n      });\n  }\n\n  // describe a column\n  SQL.prototype.describe = function(sql, column, options) {\n      var self = this;\n      var args = arguments,\n          fn = args[args.length -1];\n      if(_.isFunction(fn)) {\n        var _callback = fn;\n      }\n      var callback = function(data) {\n        data.column = column;\n        _callback(data);\n      }\n      var s = \"select * from (\" + sql + \") __wrap limit 0\";\n      this.execute(s, function(data) {\n\n        var type = (options && options.type) ? options.type : data.fields[column].type;\n\n        if (!type) {\n          callback(new Error(\"column does not exist\"));\n          return;\n        }\n\n        else if (type === 'string') {\n          self.describeString(sql, column, callback);\n        } else if (type === 'number') {\n          self.describeFloat(sql, column, callback);\n        } else if (type === 'geometry') {\n          self.describeGeom(sql, column, callback);\n        } else if (type === 'date') {\n          self.describeDate(sql, column, callback);\n        } else if (type === 'boolean') {\n          self.describeBoolean(sql, column, callback);\n        } else {\n          callback(new Error(\"column type is not supported\"));\n        }\n      });\n  }\n\n  root.cartodb.SQL = SQL;\n\n})();\n(function() {\n\n  cartodb.createVis = function(el, vizjson, options, callback) {\n\n    if (!el) {\n      throw new TypeError(\"a DOM element should be provided\");\n    }\n\n    var\n    args = arguments,\n    fn   = args[args.length -1];\n\n    if (_.isFunction(fn)) {\n      callback = fn;\n    }\n\n    el = (typeof el === 'string' ? document.getElementById(el) : el);\n\n    var vis = new cartodb.vis.Vis({ el: el });\n\n    if (vizjson) {\n\n      vis.load(vizjson, options);\n\n      if (callback) {\n        vis.done(callback);\n      }\n\n    }\n\n    return vis;\n\n  };\n\n})();\n/**\n * tabbed pane.\n * if contains n views inside it and shows only one at once\n *\n * usage:\n *\n * var pane = new cdb.ui.common.TabPane({\n *   el: $(\"#container\")\n * });\n *\n * pane.addTab('tab1', new OtherView());\n * pane.addTab('tab2', new OtherView2());\n * pane.addTab('tab3', new OtherView3());\n *\n * pane.active('tab1');\n *\n * pane.bind('tabEnabled', function(tabName, tabView) {\n * pane.bind('tabDisabled', function(tabName, tabView) {\n * });\n */\ncdb.ui.common.TabPane = cdb.core.View.extend({\n\n  initialize: function() {\n      this.tabs = {};\n      this.activeTab  = null;\n      this.activePane = null;\n  },\n\n  addTab: function(name, view, options) {\n    options = options || { active: true };\n    if(this.tabs[name] !== undefined) {\n      cdb.log.debug(name + \"already added\");\n    } else {\n      this.tabs[name] = view.cid;\n      this.addView(view);\n      if(options.after !== undefined) {\n        var e = this.$el.children()[options.after];\n        view.$el.insertAfter(e);\n      } else if(options.prepend) {\n        this.$el.prepend(view.el);\n      } else {\n        this.$el.append(view.el);\n      }\n      this.trigger('tabAdded', name, view);\n      if(options.active) {\n        this.active(name);\n      } else {\n        view.hide();\n      }\n    }\n  },\n\n  getPreviousPane: function() {\n    var tabs  = _.toArray(this.tabs);\n    var panes = _.toArray(this._subviews);\n\n    var i = _.indexOf(tabs, this.activePane.cid) - 1;\n    if (i < 0) i = panes.length - 1;\n\n    return panes[i];\n  },\n\n  getNextPane: function() {\n    var tabs  = _.toArray(this.tabs);\n    var panes = _.toArray(this._subviews);\n\n    var i = 1 + _.indexOf(tabs, this.activePane.cid);\n    if (i > panes.length - 1) i = 0;\n\n    return panes[i];\n  },\n\n  getPane: function(name) {\n    var vid = this.tabs[name];\n    return this._subviews[vid];\n  },\n\n  getActivePane: function() {\n    return this.activePane;\n  },\n\n  size: function() {\n    return _.size(this.tabs);\n  },\n\n  clean: function() {\n    this.removeTabs();\n    cdb.core.View.prototype.clean.call(this)\n  },\n\n  removeTab: function(name) {\n    if (this.tabs[name] !== undefined) {\n      var vid = this.tabs[name];\n      this._subviews[vid].clean();\n      delete this.tabs[name];\n\n      if (this.activeTab == name) {\n        this.activeTab = null;\n      }\n\n      if (_.size(this.tabs)) {\n        this.active(_.keys(this.tabs)[0]);\n      }\n    }\n  },\n\n  removeTabs: function() {\n    for(var name in this.tabs) {\n      var vid = this.tabs[name];\n      this._subviews[vid].clean();\n      delete this.tabs[name];\n    }\n    this.activeTab = null;\n  },\n\n  active: function(name) {\n    var\n    self = this,\n    vid  = this.tabs[name];\n\n    if (vid !== undefined) {\n\n      if (this.activeTab !== name) {\n\n        var v = this._subviews[vid];\n\n        if (this.activeTab) {\n          var vid_old  = this._subviews[this.tabs[this.activeTab]];\n\n          vid_old.hide();\n          self.trigger('tabDisabled', this.activeTab , vid_old);\n          self.trigger('tabDisabled:' + this.activeTab,  vid_old);\n          if(vid_old.deactivated) {\n            vid_old.deactivated();\n          }\n        }\n\n        v.show();\n        if(v.activated) {\n          v.activated();\n        }\n\n        this.activeTab = name;\n        this.activePane = v;\n\n        self.trigger('tabEnabled', name, v);\n        self.trigger('tabEnabled:' + name,  v);\n      }\n\n      return this.activePane;\n    }\n  },\n\n  render: function() {\n      return this;\n  },\n\n  each: function(fn) {\n    var self = this;\n    _.each(this.tabs, function(cid, tab) {\n      fn(tab, self.getPane(tab));\n    });\n  }\n\n});\n/**\n * generic dialog\n *\n * this opens a dialog in the middle of the screen rendering\n * a dialog using cdb.templates 'common/dialog' or template_base option.\n *\n * inherit class should implement render_content (it could return another widget)\n *\n * usage example:\n *\n *    var MyDialog = cdb.ui.common.Dialog.extend({\n *      render_content: function() {\n *        return \"my content\";\n *      },\n *    })\n *    var dialog = new MyDialog({\n *        title: 'test',\n *        description: 'long description here',\n *        template_base: $('#base_template').html(),\n *        width: 500\n *    });\n *\n *    $('body').append(dialog.render().el);\n *    dialog.open();\n *\n * TODO: implement draggable\n * TODO: modal\n * TODO: document modal_type\n */\n\ncdb.ui.common.Dialog = cdb.core.View.extend({\n\n  tagName: 'div',\n  className: 'dialog',\n\n  events: {\n    'click .ok': '_ok',\n    'click .cancel': '_cancel',\n    'click .close': '_cancel'\n  },\n\n  default_options: {\n    title: 'title',\n    description: '',\n    ok_title: 'Ok',\n    cancel_title: 'Cancel',\n    width: 300,\n    height: 200,\n    clean_on_hide: false,\n    enter_to_confirm: false,\n    template_name: 'old_common/views/dialog_base',\n    ok_button_classes: 'button green',\n    cancel_button_classes: '',\n    modal_type: '',\n    modal_class: '',\n    include_footer: true,\n    additionalButtons: []\n  },\n\n  initialize: function() {\n    _.defaults(this.options, this.default_options);\n\n    _.bindAll(this, 'render', '_keydown');\n\n    // Keydown bindings for the dialog\n    $(document).bind('keydown', this._keydown);\n\n    // After removing the dialog, cleaning other bindings\n    this.bind(\"clean\", this._reClean);\n\n    this.template_base = this.options.template_base ? _.template(this.options.template_base) : cdb.templates.getTemplate(this.options.template_name);\n  },\n\n  render: function() {\n    var $el = this.$el;\n\n    $el.html(this.template_base(this.options));\n\n    $el.find(\".modal\").css({\n      width: this.options.width\n      //height: this.options.height\n      //'margin-left': -this.options.width>>1,\n      //'margin-top': -this.options.height>>1\n    });\n\n    if(this.render_content) {\n\n      this.$('.content').append(this.render_content());\n    }\n\n    if(this.options.modal_class) {\n      this.$el.addClass(this.options.modal_class);\n    }\n\n    return this;\n  },\n\n\n  _keydown: function(e) {\n    // If clicks esc, goodbye!\n    if (e.keyCode === 27) {\n      this._cancel();\n    // If clicks enter, same as you click on ok button.\n    } else if (e.keyCode === 13 && this.options.enter_to_confirm) {\n      this._ok();\n    }\n  },\n\n  /**\n   * helper method that renders the dialog and appends it to body\n   */\n  appendToBody: function() {\n    $('body').append(this.render().el);\n    return this;\n  },\n\n  _ok: function(ev) {\n\n   if(ev) ev.preventDefault();\n\n    if (this.ok) {\n      this.ok(this.result);\n    }\n\n    this.hide();\n\n  },\n\n  _cancel: function(ev) {\n\n    if (ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n\n    if (this.cancel) {\n      this.cancel();\n    }\n\n    this.hide();\n\n  },\n\n  hide: function() {\n\n    this.$el.hide();\n\n    if (this.options.clean_on_hide) {\n      this.clean();\n    }\n\n  },\n\n  open: function() {\n\n    this.$el.show();\n\n  },\n\n  _reClean: function() {\n\n    $(document).unbind('keydown', this._keydown);\n\n  }\n\n});\n/**\n * generic embbed notification, like twitter \"new notifications\"\n *\n * it shows slowly the notification with a message and a close button.\n * Optionally you can set a timeout to close\n *\n * usage example:\n *\n      var notification = new cdb.ui.common.Notificaiton({\n          el: \"#notification_element\",\n          msg: \"error!\",\n          timeout: 1000\n      });\n      notification.show();\n      // close it\n      notification.close();\n*/\n\ncdb.ui.common.Notification = cdb.core.View.extend({\n\n  tagName: 'div',\n  className: 'dialog',\n\n  events: {\n    'click .close': 'hide'\n  },\n\n  default_options: {\n      timeout: 0,\n      msg: '',\n      hideMethod: '',\n      duration: 'normal'\n  },\n\n  initialize: function() {\n    this.closeTimeout = -1;\n    _.defaults(this.options, this.default_options);\n    this.template = this.options.template ? _.template(this.options.template) : cdb.templates.getTemplate('common/notification');\n\n    this.$el.hide();\n  },\n\n  render: function() {\n    var $el = this.$el;\n    $el.html(this.template(this.options));\n    if(this.render_content) {\n      this.$('.content').append(this.render_content());\n    }\n    return this;\n  },\n\n  hide: function(ev) {\n    var self = this;\n    if (ev)\n      ev.preventDefault();\n    clearTimeout(this.closeTimeout);\n    if(this.options.hideMethod != '' && this.$el.is(\":visible\") ) {\n      this.$el[this.options.hideMethod](this.options.duration, 'swing', function() {\n        self.$el.html('');\n        self.trigger('notificationDeleted');\n        self.remove();\n      });\n    } else {\n      this.$el.hide();\n      self.$el.html('');\n      self.trigger('notificationDeleted');\n      self.remove();\n    }\n\n  },\n\n  open: function(method, options) {\n    this.render();\n    this.$el.show(method, options);\n    if(this.options.timeout) {\n        this.closeTimeout = setTimeout(_.bind(this.hide, this), this.options.timeout);\n    }\n  }\n\n});\n\n/**\n * generic table\n *\n * this class creates a HTML table based on Table model (see below) and modify it based on model changes\n *\n * usage example:\n *\n      var table = new Table({\n          model: table\n      });\n\n      $('body').append(table.render().el);\n\n  * model should be a collection of Rows\n\n */\n\n/**\n * represents a table row\n */\ncdb.ui.common.Row = cdb.core.Model.extend({\n});\n\ncdb.ui.common.TableData = Backbone.Collection.extend({\n    model: cdb.ui.common.Row,\n    fetched: false,\n\n    initialize: function() {\n      var self = this;\n      this.bind('reset', function() {\n        self.fetched = true;\n      })\n    },\n\n    /**\n     * get value for row index and columnName\n     */\n    getCell: function(index, columnName) {\n      var r = this.at(index);\n      if(!r) {\n        return null;\n      }\n      return r.get(columnName);\n    },\n\n    isEmpty: function() {\n      return this.length === 0;\n    }\n\n});\n\n/**\n * contains information about the table, mainly the schema\n */\ncdb.ui.common.TableProperties = cdb.core.Model.extend({\n\n  columnNames: function() {\n    return _.map(this.get('schema'), function(c) {\n      return c[0];\n    });\n  },\n\n  columnName: function(idx) {\n    return this.columnNames()[idx];\n  }\n});\n\n/**\n * renders a table row\n */\ncdb.ui.common.RowView = cdb.core.View.extend({\n  tagName: 'tr',\n\n  initialize: function() {\n\n    this.model.bind('change', this.render, this);\n    this.model.bind('destroy', this.clean, this);\n    this.model.bind('remove', this.clean, this);\n    this.model.bind('change', this.triggerChange, this);\n    this.model.bind('sync', this.triggerSync, this);\n    this.model.bind('error', this.triggerError, this);\n\n    this.add_related_model(this.model);\n    this.order = this.options.order;\n  },\n\n  triggerChange: function() {\n    this.trigger('changeRow');\n  },\n\n  triggerSync: function() {\n    this.trigger('syncRow');\n  },\n\n  triggerError: function() {\n    this.trigger('errorRow')\n  },\n\n  valueView: function(colName, value) {\n    return value;\n  },\n\n  render: function() {\n    var self = this;\n    var row = this.model;\n\n    var tr = '';\n\n    var tdIndex = 0;\n    var td;\n    if(this.options.row_header) {\n        td = '<td class=\"rowHeader\" data-x=\"' + tdIndex + '\">';\n    } else {\n        td = '<td class=\"EmptyRowHeader\" data-x=\"' + tdIndex + '\">';\n    }\n    var v = self.valueView('', '');\n    if(v.html) {\n      v = v[0].outerHTML;\n    }\n    td += v;\n    td += '</td>';\n    tdIndex++;\n    tr += td\n\n    var attrs = this.order || _.keys(row.attributes);\n    var tds = '';\n    var row_attrs = row.attributes;\n    for(var i = 0, len = attrs.length; i < len; ++i) {\n      var key = attrs[i];\n      var value = row_attrs[key];\n      if(value !== undefined) {\n        var td = '<td id=\"cell_' + row.id + '_' + key + '\" data-x=\"' + tdIndex + '\">';\n        var v = self.valueView(key, value);\n        if(v.html) {\n          v = v[0].outerHTML;\n        }\n        td += v;\n        td += '</td>';\n        tdIndex++;\n        tds += td;\n      }\n    }\n    tr += tds;\n    this.$el.html(tr).attr('id', 'row_' + row.id);\n    return this;\n  },\n\n  getCell: function(x) {\n    var childNo = x;\n    if(this.options.row_header) {\n      ++x;\n    }\n    return this.$('td:eq(' + x + ')');\n  },\n\n  getTableView: function() {\n    return this.tableView;\n  }\n\n});\n\n/**\n * render a table\n * this widget needs two data sources\n * - the table model which contains information about the table (columns and so on). See TableProperties\n * - the model with the data itself (TableData)\n */\ncdb.ui.common.Table = cdb.core.View.extend({\n\n  tagName: 'table',\n  rowView: cdb.ui.common.RowView,\n\n  events: {\n      'click td': '_cellClick',\n      'dblclick td': '_cellDblClick'\n  },\n\n  default_options: {\n  },\n\n  initialize: function() {\n    var self = this;\n    _.defaults(this.options, this.default_options);\n    this.dataModel = this.options.dataModel;\n    this.rowViews = [];\n\n    // binding\n    this.setDataSource(this.dataModel);\n    this.model.bind('change', this.render, this);\n    this.model.bind('change:dataSource', this.setDataSource, this);\n\n    // assert the rows are removed when table is removed\n    this.bind('clean', this.clear_rows, this);\n\n    // prepare for cleaning\n    this.add_related_model(this.dataModel);\n    this.add_related_model(this.model);\n\n    // we need to use custom signals to make the tableview aware of a row being deleted,\n    // because when you delete a point from the map view, sometimes it isn't on the dataModel\n    // collection, so its destroy doesn't bubble throught there.\n    // Also, the only non-custom way to acknowledge that a row has been correctly deleted from a server is with\n    // a sync, that doesn't bubble through the table\n    this.model.bind('removing:row', function() {\n      self.rowsBeingDeleted = self.rowsBeingDeleted ? self.rowsBeingDeleted +1 : 1;\n      self.rowDestroying();\n    });\n    this.model.bind('remove:row', function() {\n      if(self.rowsBeingDeleted > 0) {\n        self.rowsBeingDeleted--;\n        self.rowDestroyed();\n        if(self.dataModel.length == 0) {\n          self.emptyTable();\n        }\n      }\n    });\n\n  },\n\n  headerView: function(column) {\n      return column[0];\n  },\n\n  setDataSource: function(dm) {\n    if(this.dataModel) {\n      this.dataModel.unbind(null, null, this);\n    }\n    this.dataModel = dm;\n    this.dataModel.bind('reset', this._renderRows, this);\n    this.dataModel.bind('error', this._renderRows, this);\n    this.dataModel.bind('add', this.addRow, this);\n  },\n\n  _renderHeader: function() {\n    var self = this;\n    var thead = $(\"<thead>\");\n    var tr = $(\"<tr>\");\n    if(this.options.row_header) {\n      tr.append($(\"<th>\").append(self.headerView(['', 'header'])));\n    } else {\n      tr.append($(\"<th>\").append(self.headerView(['', 'header'])));\n    }\n    _(this.model.get('schema')).each(function(col) {\n      tr.append($(\"<th>\").append(self.headerView(col)));\n    });\n    thead.append(tr);\n    return thead;\n  },\n\n  /**\n   * remove all rows\n   */\n  clear_rows: function() {\n    this.$('tfoot').remove();\n    this.$('tr.noRows').remove();\n\n    // unbind rows before cleaning them when all are gonna be removed\n    var rowView = null;\n    while(rowView = this.rowViews.pop()) {\n      // this is a hack to avoid all the elements are removed one by one\n      rowView.unbind(null, null, this);\n      // each element removes itself from rowViews\n      rowView.clean();\n    }\n    // clean all the html at the same time\n    this.rowViews = [];\n  },\n\n  /**\n   * add rows\n   */\n  addRow: function(row, collection, options) {\n    var self = this;\n    var tr = new self.rowView({\n      model: row,\n      order: this.model.columnNames(),\n      row_header: this.options.row_header\n    });\n    tr.tableView = this;\n\n    tr.bind('clean', function() {\n      var idx = _.indexOf(self.rowViews, tr);\n      self.rowViews.splice(idx, 1);\n      // update index\n      for(var i = idx; i < self.rowViews.length; ++i) {\n        self.rowViews[i].$el.attr('data-y', i);\n      }\n    }, this);\n    tr.bind('changeRow', this.rowChanged, this);\n    tr.bind('saved', this.rowSynched, this);\n    tr.bind('errorSaving', this.rowFailed, this);\n    tr.bind('saving', this.rowSaving, this);\n    this.retrigger('saving', tr);\n\n    tr.render();\n    if(options && options.index !== undefined && options.index != self.rowViews.length) {\n\n      tr.$el.insertBefore(self.rowViews[options.index].$el);\n      self.rowViews.splice(options.index, 0, tr);\n      //tr.$el.attr('data-y', options.index);\n      // change others view data-y attribute\n      for(var i = options.index; i < self.rowViews.length; ++i) {\n        self.rowViews[i].$el.attr('data-y', i);\n      }\n    } else {\n      // at the end\n      tr.$el.attr('data-y', self.rowViews.length);\n      self.$el.append(tr.el);\n      self.rowViews.push(tr);\n    }\n\n    this.trigger('createRow');\n  },\n\n  /**\n  * Callback executed when a row change\n  * @method rowChanged\n  * @abstract\n  */\n  rowChanged: function() {},\n\n  /**\n  * Callback executed when a row is sync\n  * @method rowSynched\n  * @abstract\n  */\n  rowSynched: function() {},\n\n  /**\n  * Callback executed when a row fails to reach the server\n  * @method rowFailed\n  * @abstract\n  */\n  rowFailed: function() {},\n\n  /**\n  * Callback executed when a row send a POST to the server\n  * @abstract\n  */\n  rowSaving: function() {},\n\n  /**\n  * Callback executed when a row is being destroyed\n  * @method rowDestroyed\n  * @abstract\n  */\n  rowDestroying: function() {},\n\n  /**\n  * Callback executed when a row gets destroyed\n  * @method rowDestroyed\n  * @abstract\n  */\n  rowDestroyed: function() {},\n\n  /**\n  * Callback executed when a row gets destroyed and the table data is empty\n  * @method emptyTable\n  * @abstract\n  */\n  emptyTable: function() {},\n\n  /**\n  * Checks if the table is empty\n  * @method isEmptyTable\n  * @returns boolean\n  */\n  isEmptyTable: function() {\n    return (this.dataModel.length === 0 && this.dataModel.fetched)\n  },\n\n  /**\n   * render only data rows\n   */\n  _renderRows: function() {\n    this.clear_rows();\n    if(! this.isEmptyTable()) {\n      if(this.dataModel.fetched) {\n        var self = this;\n\n        this.dataModel.each(function(row) {\n          self.addRow(row);\n        });\n      } else {\n        this._renderLoading();\n      }\n    } else {\n      this._renderEmpty();\n    }\n\n  },\n\n  _renderLoading: function() {\n  },\n\n  _renderEmpty: function() {\n  },\n\n  /**\n  * Method for the children to redefine with the table behaviour when it has no rows.\n  * @method addEmptyTableInfo\n  * @abstract\n  */\n  addEmptyTableInfo: function() {\n    // #to be overwrite by descendant classes\n  },\n\n  /**\n   * render table\n   */\n  render: function() {\n    var self = this;\n\n    // render header\n    self.$el.html(self._renderHeader());\n\n    // render data\n    self._renderRows();\n\n    return this;\n\n  },\n\n  /**\n   * return jquery cell element of cell x,y\n   */\n  getCell: function(x, y) {\n    if(this.options.row_header) {\n      ++y;\n    }\n    return this.rowViews[y].getCell(x);\n  },\n\n  _cellClick: function(e, evtName) {\n    evtName = evtName || 'cellClick';\n    e.preventDefault();\n    var cell = $(e.currentTarget || e.target);\n    var x = parseInt(cell.attr('data-x'), 10);\n    var y = parseInt(cell.parent().attr('data-y'), 10);\n    this.trigger(evtName, e, cell, x, y);\n  },\n\n  _cellDblClick: function(e) {\n    this._cellClick(e, 'cellDblClick');\n  }\n\n\n});\n(function() {\n\n/**\n * this module implements all the features related to overlay geometries\n * in leaflet: markers, polygons, lines and so on\n */\n\n\n/**\n * view for markers\n */\nfunction PointView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'dragstart',\n    'drag',\n    'dragend'\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n  var icon = {\n    iconUrl: this.model.get('iconUrl') || cdb.config.get('assets_url') + '/images/layout/default_marker.png',\n    iconAnchor: this.model.get('iconAnchor') || [11, 11]\n  };\n\n  this.geom = L.GeoJSON.geometryToLayer(geometryModel.get('geojson'), function(geojson, latLng) {\n      //TODO: create marker depending on the visualizacion options\n      var p = L.marker(latLng, {\n        icon: L.icon(icon)\n      });\n\n      var i;\n      for(i = 0; i < events.length; ++i) {\n        var e = events[i];\n        p.on(e, self._eventHandler(e));\n      }\n      return p;\n  });\n\n  this.bind('dragend', function(e, pos) {\n    geometryModel.set({\n      geojson: {\n        type: 'Point',\n        //geojson is lng,lat\n        coordinates: [pos[1], pos[0]]\n      }\n    });\n  });\n}\n\nPointView.prototype = new GeometryView();\n\nPointView.prototype.edit = function() {\n  this.geom.dragging.enable();\n};\n\n/**\n * returns a function to handle events fot evtType\n */\nPointView.prototype._eventHandler = function(evtType) {\n  var self = this;\n  var h = this._eventHandlers[evtType];\n  if(!h) {\n    h = function(e) {\n      var latlng = e.target.getLatLng();\n      var s = [latlng.lat, latlng.lng];\n      self.trigger(evtType, e.originalEvent, s);\n    };\n    this._eventHandlers[evtType] = h;\n  }\n  return h;\n};\n\n/**\n * view for other geometries (polygons/lines)\n */\nfunction PathView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n\n  this.geom = L.GeoJSON.geometryToLayer(geometryModel.get('geojson'));\n  this.geom.setStyle(geometryModel.get('style'));\n\n\n  /*for(var i = 0; i < events.length; ++i) {\n    var e = events[i];\n    this.geom.on(e, self._eventHandler(e));\n  }*/\n\n}\n\nPathView.prototype = new GeometryView();\n\nPathView.prototype._leafletLayers = function() {\n  // check if this is a multi-feature or single-feature\n  if (this.geom.getLayers) {\n    return this.geom.getLayers();\n  }\n  return [this.geom];\n};\n\n\nPathView.prototype.enableEdit = function() {\n  var self = this;\n  var layers = this._leafletLayers();\n  _.each(layers, function(g) {\n    g.setStyle(self.model.get('style'));\n    g.on('edit', function() {\n      self.model.set('geojson', self.geom.toGeoJSON().geometry);\n    }, self);\n  });\n};\n\nPathView.prototype.disableEdit = function() {\n  var self = this;\n  var layers = this._leafletLayers();\n  _.each(layers, function(g) {\n    g.off('edit', null, self);\n  });\n};\n\nPathView.prototype.edit = function(enable) {\n  var self = this;\n  var fn = enable ? 'enable': 'disable';\n  var layers = this._leafletLayers();\n  _.each(layers, function(g) {\n    g.editing[fn]();\n    enable ? self.enableEdit(): self.disableEdit();\n  });\n};\n\ncdb.geo.leaflet = cdb.geo.leaflet || {};\n\ncdb.geo.leaflet.PointView = PointView;\ncdb.geo.leaflet.PathView = PathView;\n\n\n})();\n(function() {\n/**\n * view for markers\n */\nfunction PointView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'dragstart',\n    'drag',\n    'dragend'\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n  var style = _.clone(geometryModel.get('style')) || {};\n  var iconAnchor = this.model.get('iconAnchor');\n\n  var icon = {\n    url: this.model.get('iconUrl') || cdb.config.get('assets_url') + '/images/layout/default_marker.png',\n    anchor: {\n      x: iconAnchor && iconAnchor[0] || 10,\n      y: iconAnchor && iconAnchor[1] || 10,\n    }\n  };\n\n  this.geom = new GeoJSON (\n    geometryModel.get('geojson'),\n    {\n      icon: icon,\n      raiseOnDrag: false,\n      crossOnDrag: false\n    }\n  );\n\n  // bind events\n  var i;\n  for(i = 0; i < events.length; ++i) {\n    var e = events[i];\n    google.maps.event.addListener(this.geom, e, self._eventHandler(e));\n  }\n\n  // link dragging\n  this.bind('dragend', function(e, pos) {\n    geometryModel.set({\n      geojson: {\n        type: 'Point',\n        // geojson is lng,lat\n        coordinates: [pos[1], pos[0]]\n      }\n    });\n  });\n}\n\nPointView.prototype = new GeometryView();\n\nPointView.prototype._eventHandler = function(evtType) {\n  var self = this;\n  var h = this._eventHandlers[evtType];\n  if(!h) {\n    h = function(e) {\n      var latlng = e.latLng;\n      var s = [latlng.lat(), latlng.lng()];\n      self.trigger(evtType, e, s);\n    };\n    this._eventHandlers[evtType] = h;\n  }\n  return h;\n};\n\nPointView.prototype.edit = function(enable) {\n  this.geom.setDraggable(enable);\n};\n\n/**\n * view for other geometries (polygons/lines)\n */\nfunction PathView(geometryModel) {\n  var self = this;\n  // events to link\n  var events = [\n    'click',\n    'dblclick',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n  ];\n\n  this._eventHandlers = {};\n  this.model = geometryModel;\n  this.points = [];\n\n\n\n  var style = _.clone(geometryModel.get('style')) || {};\n\n  this.geom = new GeoJSON (\n    geometryModel.get('geojson'),\n    style\n  );\n\n  /*_.each(this.geom._layers, function(g) {\n    g.setStyle(geometryModel.get('style'));\n    g.on('edit', function() {\n      geometryModel.set('geojson', L.GeoJSON.toGeoJSON(self.geom));\n    }, self);\n  });\n  */\n\n  _.bindAll(this, '_updateModel');\n  var self = this;\n\n  function bindPath(p) {\n    google.maps.event.addListener(p, 'insert_at', self._updateModel);\n    /*\n    google.maps.event.addListener(p, 'remove_at', this._updateModel);\n    google.maps.event.addListener(p, 'set_at', this._updateModel);\n    */\n  }\n\n  // TODO: check this conditions\n\n  if(this.geom.getPaths) {\n    var paths = this.geom.getPaths();\n\n    if (paths && paths[0]) {\n      // More than one path\n      for(var i = 0; i < paths.length; ++i) {\n        bindPath(paths[i]);\n      }\n    } else {\n      // One path\n      bindPath(paths);\n      google.maps.event.addListener(this.geom, 'mouseup', this._updateModel);\n    }\n  } else {\n    // More than one path\n    if (this.geom.length) {\n      for(var i = 0; i < this.geom.length; ++i) {\n        bindPath(this.geom[i].getPath());\n        google.maps.event.addListener(this.geom[i], 'mouseup', this._updateModel);\n      }\n    } else {\n      // One path\n      bindPath(this.geom.getPath());\n      google.maps.event.addListener(this.geom, 'mouseup', this._updateModel);\n    }\n  }\n\n  /*for(var i = 0; i < events.length; ++i) {\n    var e = events[i];\n    this.geom.on(e, self._eventHandler(e));\n  }*/\n\n}\n\nPathView.prototype = new GeometryView();\n\nPathView.getGeoJSON = function(geom, gType) {\n\n  var coordFn = {\n    'Polygon': 'getPath',\n    'MultiPolygon': 'getPath',\n    'LineString': 'getPath',\n    'MultiLineString': 'getPath',\n    'Point': 'getPosition',\n    'MultiPoint': 'getPosition'\n  };\n\n  function _coord(latlng) {\n    return [latlng.lng(), latlng.lat()];\n  }\n\n  function _coords(latlngs) {\n    var c = [];\n    for(var i = 0; i < latlngs.length; ++i) {\n      c.push(_coord(latlngs.getAt(i)));\n    }\n    return c;\n  }\n\n  // single\n  if(!geom.length || geom.length == 1) {\n    var g = geom.length ? geom[0]: geom;\n    var coords;\n    if(gType == 'Point') {\n      coords = _coord(g.getPosition());\n    } else if(gType == 'MultiPoint') {\n      coords = [_coord(g.getPosition())]\n    } else if(gType == 'Polygon') {\n      coords = [_coords(g.getPath())];\n      coords[0].push(_coord(g.getPath().getAt(0)));\n    } else if(gType == 'MultiPolygon') {\n      coords = [];\n      for(var p = 0; p < g.getPaths().length; ++p) {\n        var c = _coords(g.getPaths().getAt(p));\n        c.push(_coord(g.getPaths().getAt(p).getAt(0)));\n        coords.push(c);\n      }\n      coords = [coords]\n    } else if(gType == 'LineString') {\n      coords = _coords(g.getPath());\n    } else if(gType == 'MultiLineString') {\n      //TODO: redo\n      coords = [_coords(g.getPath())];\n    }\n    return {\n      type: gType,\n      coordinates: coords\n    }\n  } else {\n    // poly\n    var c = [];\n    for(var i = 0; i < geom.length; ++i) {\n      c.push(PathView.getGeoJSON(geom[i], gType).coordinates[0]);\n    }\n    return  {\n      type: gType,\n      coordinates: c\n    }\n  }\n}\n\nPathView.prototype._updateModel = function(e) {\n  var self = this;\n  setTimeout(function() {\n  self.model.set('geojson', PathView.getGeoJSON(self.geom, self.model.get('geojson').type ));\n  }, 100)\n}\n\nPathView.prototype.edit = function(enable) {\n\n  var fn = enable ? 'enable': 'disable';\n  var g = this.geom.length ? this.geom: [this.geom];\n  for(var i = 0; i < g.length; ++i) {\n    g[i].setEditable(enable);\n  }\n  if(!enable) {\n    this.model.set('geojson', PathView.getGeoJSON(this.geom, this.model.get('geojson').type));\n  }\n};\n\ncdb.geo.gmaps = cdb.geo.gmaps || {};\n\ncdb.geo.gmaps.PointView = PointView;\ncdb.geo.gmaps.PathView = PathView;\n\n\n\n})();\n\n\n    cdb.$ = $;\n    cdb.L = L;\n    cdb.Mustache = Mustache;\n    cdb.Backbone = Backbone;\n    cdb._ = _;\n\n  })();\n\n\n\n\n  ;\n  for(var i in __prev) {\n    // keep it at global context if it didn't exist\n    if(__prev[i]) {\n      window[i] = __prev[i];\n    }\n  }\n\n\n})();\n","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;\"undefined\"!=typeof window?t=window:\"undefined\"!=typeof global?t=global:\"undefined\"!=typeof self&&(t=self),t.carto=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var s=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){(function(e){function i(t){return e.functions.hsla(t.h,t.s,t.l,t.a)}function s(t){return t instanceof e.Dimension?parseFloat(t.unit==\"%\"?t.value/100:t.value):typeof t==\"number\"?t:NaN}function o(e){return Math.min(1,Math.max(0,e))}e.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(t,n,r,i){var o=[t,n,r].map(function(e){return s(e)});return i=s(i),o.some(isNaN)||isNaN(i)?null:new e.Color(o,i)},stop:function(e){var t,n;return arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]),{is:\"tag\",val:e,color:t,mode:n,toString:function(r){return'\\n\t<stop value=\"'+e.ev(r)+'\"'+(t?' color=\"'+t.ev(r)+'\" ':\"\")+(n?' mode=\"'+n.ev(r)+'\" ':\"\")+\"/>\"}}},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,r){function u(e){return e=e<0?e+1:e>1?e-1:e,e*6<1?o+(i-o)*e*6:e*2<1?i:e*3<2?o+(i-o)*(2/3-e)*6:o}e=s(e)%360/360,t=s(t),n=s(n),r=s(r);if([e,t,n,r].some(isNaN))return null;var i=n<=.5?n*(t+1):n+t-n*t,o=n*2-i;return this.rgba(u(e+1/3)*255,u(e)*255,u(e-1/3)*255,r)},hue:function(t){return\"toHSL\"in t?new e.Dimension(Math.round(t.toHSL().h)):null},saturation:function(t){return\"toHSL\"in t?new e.Dimension(Math.round(t.toHSL().s*100),\"%\"):null},lightness:function(t){return\"toHSL\"in t?new e.Dimension(Math.round(t.toHSL().l*100),\"%\"):null},alpha:function(t){return\"toHSL\"in t?new e.Dimension(t.toHSL().a):null},saturate:function(e,t){if(\"toHSL\"in e){var n=e.toHSL();return n.s+=t.value/100,n.s=o(n.s),i(n)}return null},desaturate:function(e,t){if(\"toHSL\"in e){var n=e.toHSL();return n.s-=t.value/100,n.s=o(n.s),i(n)}return null},lighten:function(e,t){if(\"toHSL\"in e){var n=e.toHSL();return n.l+=t.value/100,n.l=o(n.l),i(n)}return null},darken:function(e,t){if(\"toHSL\"in e){var n=e.toHSL();return n.l-=t.value/100,n.l=o(n.l),i(n)}return null},fadein:function(e,t){if(\"toHSL\"in e){var n=e.toHSL();return n.a+=t.value/100,n.a=o(n.a),i(n)}return null},fadeout:function(e,t){if(\"toHSL\"in e){var n=e.toHSL();return n.a-=t.value/100,n.a=o(n.a),i(n)}return null},spin:function(e,t){if(\"toHSL\"in e){var n=e.toHSL(),r=(n.h+t.value)%360;return n.h=r<0?360+r:r,i(n)}return null},replace:function(e,t,n){return e.is===\"field\"?e.toString+\".replace(\"+t.toString()+\", \"+n.toString()+\")\":e.replace(t,n)},mix:function(t,n,r){var i=r.value/100,s=i*2-1,o=t.toHSL().a-n.toHSL().a,u=((s*o==-1?s:(s+o)/(1+s*o))+1)/2,a=1-u,f=[t.rgb[0]*u+n.rgb[0]*a,t.rgb[1]*u+n.rgb[1]*a,t.rgb[2]*u+n.rgb[2]*a],l=t.alpha*i+n.alpha*(1-i);return new e.Color(f,l)},greyscale:function(t){return this.desaturate(t,new e.Dimension(100))},\"%\":function(t){var n=Array.prototype.slice.call(arguments,1),r=t.value;for(var i=0;i<n.length;i++)r=r.replace(/%s/,n[i].value).replace(/%[da]/,n[i].toString());return r=r.replace(/%%/g,\"%\"),new e.Quoted(r)}};var t=[\"emboss\",\"blur\",\"gray\",\"sobel\",\"edge-detect\",\"x-gradient\",\"y-gradient\",\"sharpen\"];for(var n=0;n<t.length;n++){var r=t[n];e.functions[r]=function(t){return function(){return new e.ImageFilter(t)}}(r)}e.functions[\"agg-stack-blur\"]=function(t,n){return new e.ImageFilter(\"agg-stack-blur\",[t,n])},e.functions[\"scale-hsla\"]=function(t,n,r,i,s,o,u,a){return new e.ImageFilter(\"scale-hsla\",[t,n,r,i,s,o,u,a])}})(e(\"./tree\"))},{\"./tree\":7}],2:[function(e,t,n){(function(t,r){function u(){if(t.browser)return e(\"../../package.json\").version.split(\".\");if(parseInt(t.version.split(\".\")[1],10)>4)return e(\"../../package.json\").version.split(\".\");var n=JSON.parse(s.readFileSync(o.join(r,\"../../package.json\")));return n.version.split(\".\")}function l(e,t){var n={bold:[1,22],inverse:[7,27],underline:[4,24],yellow:[33,39],green:[32,39],red:[31,39],grey:[90,39]};return\"\u001b[\"+n[t][0]+\"m\"+e+\"\u001b[\"+n[t][1]+\"m\"}var i=e(\"util\"),s=e(\"fs\"),o=e(\"path\"),a={version:u(),Parser:e(\"./parser\").Parser,Renderer:e(\"./renderer\").Renderer,tree:e(\"./tree\"),RendererJS:e(\"./renderer_js\"),default_reference:e(\"./torque-reference\"),writeError:function(e,t){var n=\"\",r=e.extract,s=[];t=t||{};if(t.silent)return;t.indent=t.indent||\"\";if(!(\"index\"in e)||!r)return i.error(t.indent+(e.stack||e.message));typeof r[0]==\"string\"&&s.push(l(e.line-1+\" \"+r[0],\"grey\")),r[1]===\"\"&&typeof r[2]==\"undefined\"&&(r[1]=\"¶\"),s.push(e.line+\" \"+r[1].slice(0,e.column)+l(l(r[1][e.column],\"bold\")+r[1].slice(e.column+1),\"yellow\")),typeof r[2]==\"string\"&&s.push(l(e.line+1+\" \"+r[2],\"grey\")),s=t.indent+s.join(\"\\n\"+t.indent)+\"\u001b[0m\\n\",n=t.indent+n+l(e.message,\"red\"),e.filename&&(n+=l(\" in \",\"red\")+e.filename),i.error(n,s),e.callLine&&(i.error(l(\"from \",\"red\")+(e.filename||\"\")),i.error(l(e.callLine,\"grey\")+\" \"+e.callExtract)),e.stack&&i.error(l(e.stack,\"red\"))}};e(\"./tree/call\"),e(\"./tree/color\"),e(\"./tree/comment\"),e(\"./tree/definition\"),e(\"./tree/dimension\"),e(\"./tree/element\"),e(\"./tree/expression\"),e(\"./tree/filterset\"),e(\"./tree/filter\"),e(\"./tree/field\"),e(\"./tree/keyword\"),e(\"./tree/layer\"),e(\"./tree/literal\"),e(\"./tree/operation\"),e(\"./tree/quoted\"),e(\"./tree/imagefilter\"),e(\"./tree/reference\"),e(\"./tree/rule\"),e(\"./tree/ruleset\"),e(\"./tree/selector\"),e(\"./tree/style\"),e(\"./tree/url\"),e(\"./tree/value\"),e(\"./tree/variable\"),e(\"./tree/zoom\"),e(\"./tree/invalid\"),e(\"./tree/fontset\"),e(\"./tree/frame_offset\"),e(\"./functions\");for(var f in a)n[f]=a[f]}).call(this,e(\"_process\"),\"/lib/carto\")},{\"../../package.json\":44,\"./functions\":1,\"./parser\":3,\"./renderer\":4,\"./renderer_js\":5,\"./torque-reference\":6,\"./tree\":7,\"./tree/call\":8,\"./tree/color\":9,\"./tree/comment\":10,\"./tree/definition\":11,\"./tree/dimension\":12,\"./tree/element\":13,\"./tree/expression\":14,\"./tree/field\":15,\"./tree/filter\":16,\"./tree/filterset\":17,\"./tree/fontset\":18,\"./tree/frame_offset\":19,\"./tree/imagefilter\":20,\"./tree/invalid\":21,\"./tree/keyword\":22,\"./tree/layer\":23,\"./tree/literal\":24,\"./tree/operation\":25,\"./tree/quoted\":26,\"./tree/reference\":27,\"./tree/rule\":28,\"./tree/ruleset\":29,\"./tree/selector\":30,\"./tree/style\":31,\"./tree/url\":32,\"./tree/value\":33,\"./tree/variable\":34,\"./tree/zoom\":35,_process:40,fs:36,path:39,util:42}],3:[function(e,t,n){(function(t){var r=n,i=e(\"./tree\"),s=t._||e(\"underscore\");r.Parser=function(t){function v(){u=l[o],a=r,c=r}function m(){l[o]=u,r=a,c=r}function g(){r>c&&(l[o]=l[o].slice(r-c),c=r)}function y(e){var t,i,s,u,a,f,p;if(e instanceof Function)return e.call(h.parsers);if(typeof e==\"string\")t=n.charAt(r)===e?e:null,s=1,g();else{g(),t=e.exec(l[o]);if(!t)return null;s=t[0].length}if(t){var d=r+=s;f=r+l[o].length-s;while(r<f){u=n.charCodeAt(r);if(u!==32&&u!==10&&u!==9)break;r++}return l[o]=l[o].slice(s+(r-d)),c=r,l[o].length===0&&o<l.length-1&&o++,typeof t==\"string\"?t:t.length===1?t[0]:t}}function b(e){return typeof e==\"string\"?n.charAt(r)===e:!!e.test(l[o])}function w(e,t){return(e.slice(0,t).match(/\\n/g)||\"\").length+1}function E(e){var r;s(e).defaults({index:f,filename:t.filename,message:\"Parse error.\",line:0,column:-1}),e.filename&&p.env.inputs&&p.env.inputs[e.filename]?r=p.env.inputs[e.filename]:r=n,e.line=w(r,e.index);for(var i=e.index;i>=0&&r.charAt(i)!==\"\\n\";i--)e.column++;return new Error(s(\"<%=filename%>:<%=line%>:<%=column%> <%=message%>\").template(e))}var n,r,o,u,a,f,l,c,h,p=this,d=function(){};return this.env=t=t||{},this.env.filename=this.env.filename||null,this.env.inputs=this.env.inputs||{},h={extractErrorLine:w,parse:function(e){var s,u,a,h,d,v,m=[],g,b=null;r=o=c=f=0,l=[],n=e.replace(/\\r\\n/g,\"\\n\"),t.filename&&(p.env.inputs[t.filename]=n);var w=!1;l=function(e){var t=0,r=/(?:@\\{[\\w-]+\\}|[^\"'`\\{\\}\\/\\(\\)\\\\])+/g,i=/\\/\\*(?:[^*]|\\*+[^\\/*])*\\*+\\/|\\/\\/.*/g,s=/\"((?:[^\"\\\\\\r\\n]|\\\\.)*)\"|'((?:[^'\\\\\\r\\n]|\\\\.)*)'|`((?:[^`]|\\\\.)*)`/g,o=0,u,a=e[0],f;for(var l=0,c,h;l<n.length;){r.lastIndex=l,(u=r.exec(n))&&u.index===l&&(l+=u[0].length,a.push(u[0])),c=n.charAt(l),i.lastIndex=s.lastIndex=l;if(u=s.exec(n))if(u.index===l){l+=u[0].length,a.push(u[0]);continue}if(!f&&c===\"/\"){h=n.charAt(l+1);if(h===\"/\"||h===\"*\")if(u=i.exec(n))if(u.index===l){l+=u[0].length,a.push(u[0]);continue}}switch(c){case\"{\":if(!f){o++,a.push(c);break};case\"}\":if(!f){o--,a.push(c),e[++t]=a=[];break};case\"(\":if(!f){f=!0,a.push(c);break};case\")\":if(f){f=!1,a.push(c);break};default:a.push(c)}l++}return o!==0&&(b={index:l-1,type:\"Parse\",message:o>0?\"missing closing `}`\":\"missing opening `{`\"}),e.map(function(e){return e.join(\"\")})}([[]]);if(b)throw E(b);s=new i.Ruleset([],y(this.parsers.primary)),s.root=!0,s.toList=function(){var e,t,n;return function(e){e.error=function(t){e.errors||(e.errors=new Error(\"\")),e.errors.message?e.errors.message+=\"\\n\"+E(t).message:e.errors.message=E(t).message},e.frames=e.frames||[];var t=this.flatten([],[],e);return t.sort(S),t}}();var S=function(e,t){var n=e.specificity,r=t.specificity;return n[0]!=r[0]?r[0]-n[0]:n[1]!=r[1]?r[1]-n[1]:n[2]!=r[2]?r[2]-n[2]:r[3]-n[3]};return s},parsers:{primary:function(){var e,t=[];while((e=y(this.rule)||y(this.ruleset)||y(this.comment))||y(/^[\\s\\n]+/)||(e=y(this.invalid)))e&&t.push(e);return t},invalid:function(){var e=y(/^[^;\\n]*[;\\n]/);if(e)return new i.Invalid(e,a)},comment:function(){var e;if(n.charAt(r)!==\"/\")return;if(n.charAt(r+1)===\"/\")return new i.Comment(y(/^\\/\\/.*/),!0);if(e=y(/^\\/\\*(?:[^*]|\\*+[^\\/*])*\\*+\\/\\n?/))return new i.Comment(e)},entities:{quoted:function(){if(n.charAt(r)!=='\"'&&n.charAt(r)!==\"'\")return;var e=y(/^\"((?:[^\"\\\\\\r\\n]|\\\\.)*)\"|'((?:[^'\\\\\\r\\n]|\\\\.)*)'/);if(e)return new i.Quoted(e[1]||e[2])},field:function(){if(!y(\"[\"))return;var e=y(/(^[^\\]]+)/);if(!y(\"]\"))return;if(e)return new i.Field(e[1])},comparison:function(){var e=y(/^=~|=|!=|<=|>=|<|>/);if(e)return e},keyword:function(){var e=y(/^[A-Za-z-]+[A-Za-z-0-9_]*/);if(e)return new i.Keyword(e)},call:function(){var e,t;if(!(e=/^([\\w\\-]+|%)\\(/.exec(l[o])))return;e=e[1];if(e===\"url\")return null;r+=e.length,y(\"(\"),t=y(this.entities.arguments);if(!y(\")\"))return;if(e)return new i.Call(e,t,r)},arguments:function(){var e=[],t;while(t=y(this.expression)){e.push(t);if(!y(\",\"))break}return e},literal:function(){return y(this.entities.dimension)||y(this.entities.keywordcolor)||y(this.entities.hexcolor)||y(this.entities.quoted)},url:function(){var e;if(n.charAt(r)!==\"u\"||!y(/^url\\(/))return;return e=y(this.entities.quoted)||y(this.entities.variable)||y(/^[\\-\\w%@$\\/.&=:;#+?~]+/)||\"\",y(\")\")?new i.URL(typeof e.value!=\"undefined\"||e instanceof i.Variable?e:new i.Quoted(e)):new i.Invalid(e,a,\"Missing closing ) in URL.\")},variable:function(){var e,s=r;if(n.charAt(r)===\"@\"&&(e=y(/^@[\\w-]+/)))return new i.Variable(e,s,t.filename)},hexcolor:function(){var e;if(n.charAt(r)===\"#\"&&(e=y(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/)))return new i.Color(e[1])},keywordcolor:function(){var e=l[o].match(/^[a-z]+/);if(e&&e[0]in i.Reference.data.colors)return new i.Color(i.Reference.data.colors[y(/^[a-z]+/)])},dimension:function(){var e=n.charCodeAt(r);if(e>57||e<45||e===47)return;var t=y(/^(-?\\d*\\.?\\d+(?:[eE][-+]?\\d+)?)(\\%|\\w+)?/);if(t)return new i.Dimension(t[1],t[2],a)}},variable:function(){var e;if(n.charAt(r)===\"@\"&&(e=y(/^(@[\\w-]+)\\s*:/)))return e[1]},entity:function(){return y(this.entities.call)||y(this.entities.literal)||y(this.entities.field)||y(this.entities.variable)||y(this.entities.url)||y(this.entities.keyword)},end:function(){return y(\";\")||b(\"}\")},element:function(){var e=y(/^(?:[.#][\\w\\-]+|\\*|Map)/);if(e)return new i.Element(e)},attachment:function(){var e=y(/^::([\\w\\-]+(?:\\/[\\w\\-]+)*)/);if(e)return e[1]},selector:function(){var e,t,s,o=[],u,f=new i.Filterset,l,c=[],h=i.FrameOffset.none;segments=0,conditions=0;while((s=y(this.element))||(l=y(this.zoom))||(fo=y(this.frame_offset))||(u=y(this.filter))||(e=y(this.attachment))){segments++;if(s)o.push(s);else if(l)c.push(l),conditions++;else if(fo)h=fo,conditions++;else if(u){var p=f.add(u);if(p)throw E({message:p,index:r-1});conditions++}else{if(t)throw E({message:\"Encountered second attachment name.\",index:r-1});t=e}var d=n.charAt(r);if(d===\"{\"||d===\"}\"||d===\";\"||d===\",\")break}if(segments)return new i.Selector(f,c,h,o,t,conditions,a)},filter:function(){v();var e,n,r;if(!y(\"[\"))return;if(e=y(/^[a-zA-Z0-9\\-_]+/)||y(this.entities.quoted)||y(this.entities.variable)||y(this.entities.keyword)||y(this.entities.field)){e instanceof i.Quoted&&(e=new i.Field(e.toString()));if((n=y(this.entities.comparison))&&(r=y(this.entities.quoted)||y(this.entities.variable)||y(this.entities.dimension)||y(this.entities.keyword)||y(this.entities.field))){if(!y(\"]\"))throw E({message:\"Missing closing ] of filter.\",index:a-1});return e.is||(e=new i.Field(e)),new i.Filter(e,n,r,a,t.filename)}}},frame_offset:function(){v();var e,t;if(y(/^\\[\\s*frame-offset/g)&&(e=y(this.entities.comparison))&&(t=y(/^\\d+/))&&y(\"]\"))return i.FrameOffset(e,t,a)},zoom:function(){v();var e,t;if(y(/^\\[\\s*zoom/g)&&(e=y(this.entities.comparison))&&(t=y(this.entities.variable)||y(this.entities.dimension))&&y(\"]\"))return new i.Zoom(e,t,a);m()},block:function(){var e;if(y(\"{\")&&(e=y(this.primary))&&y(\"}\"))return e},ruleset:function(){var e=[],t,n,r,s,o=[];v();while(t=y(this.selector)){e.push(t);while(y(this.comment));if(!y(\",\"))break;while(y(this.comment));}if(t)while(y(this.comment));if(e.length>0&&(s=y(this.block))){if(e.length===1&&e[0].elements.length&&e[0].elements[0].value===\"Map\"){var u=new i.Ruleset(e,s);return u.isMap=!0,u}return new i.Ruleset(e,s)}m()},rule:function(){var e,s,o=n.charAt(r);v();if(o===\".\"||o===\"#\")return;if(e=y(this.variable)||y(this.property)){s=y(this.value);if(s&&y(this.end))return new i.Rule(e,s,a,t.filename);f=r,m()}},font:function(){var e=[],t=[],n,r,s;while(s=y(this.entity))t.push(s);e.push(new i.Expression(t));if(y(\",\"))while(s=y(this.expression)){e.push(s);if(!y(\",\"))break}return new i.Value(e)},value:function(){var e,t=[];while(e=y(this.expression)){t.push(e);if(!y(\",\"))break}if(t.length>1)return new i.Value(t.map(function(e){return e.value[0]}));if(t.length===1)return new i.Value(t)},sub:function(){var e;if(y(\"(\")&&(e=y(this.expression))&&y(\")\"))return e},multiplication:function(){var e,t,n,r;if(e=y(this.operand)){while((n=y(\"/\")||y(\"*\")||y(\"%\"))&&(t=y(this.operand)))r=new i.Operation(n,[r||e,t],a);return r||e}},addition:function(){var e,t,s,o;if(e=y(this.multiplication)){while((s=y(/^[-+]\\s+/)||n.charAt(r-1)!=\" \"&&(y(\"+\")||y(\"-\")))&&(t=y(this.multiplication)))o=new i.Operation(s,[o||e,t],a);return o||e}},operand:function(){return y(this.sub)||y(this.entity)},expression:function(){var e,t,n=[],r;while(e=y(this.addition)||y(this.entity))n.push(e);if(n.length>0)return new i.Expression(n)},property:function(){var e=y(/^(([a-z][-a-z_0-9]*\\/)?\\*?-?[-a-z_0-9]+)\\s*:/);if(e)return e[1]}}},h}}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"./tree\":7,underscore:undefined}],4:[function(e,t,n){(function(n){function s(e,t,n,r){var i=t.filters,s=t.rules,o,u,a;for(var f=0;f<e.length;f++)o=e[f].filters.cloneWith(i),o?(a=n[o],a?a.addRules(s):(u=e[f].clone(o),u.addRules(s)&&(n[o]=u,e.splice(f,0,u),f++))):o===null&&(e[f]=e[f].clone(),e[f].addRules(s));return e}function o(e,t){var n=+(new Date),r={},i={},o=[],u,a,f;e.forEach(function(e){e.filters.ev(t)});for(var l=0;l<e.length;l++){f=e[l].attachment,u=[e[l]],r[f]||(r[f]=[],r[f].attachment=f,i[f]={},o.push(r[f]));for(var c=l+1;c<e.length;c++)e[c].attachment===f&&(u=s(u,e[c],i[f],t));for(var h=0;h<u.length;h++)i[f][u[h].filters]=u[h],r[f].push(u[h])}return t.benchmark&&console.warn(\"Inheritance time: \"+(new Date-n)+\"ms\"),o}function u(e,t){return t.index-e.index}function a(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.index=Infinity;for(var i=0;i<r.length;i++){var s=r[i].rules;for(var o=0;o<s.length;o++){var a=s[o];a.index<r.index&&(r.index=a.index)}}}var f=e.slice();return f.sort(u),f}function f(e,t,n){var s={},o=i.tree.Reference.data.symbolizers.map;return r(e).each(function(e,t){t in o&&(s[t]=t+'=\"'+e+'\"')}),t.filter(function(e){return e.elements.join(\"\")===\"Map\"}).forEach(function(e){for(var t=0;t<e.rules.length;t++){var r=e.rules[t].name;r in o||n.error({message:\"Rule \"+r+\" not allowed for Map.\",index:e.rules[t].index}),s[r]=e.rules[t].ev(n).toXML(n)}}),s}var r=n._||e(\"underscore\"),i=e(\"./index\");i.Renderer=function(t,n){this.env=t||{},this.options=n||{},this.options.mapnik_version=this.options.mapnik_version||\"3.0.0\"},i.Renderer.prototype.renderMSS=function(t){var n=r(this.env).defaults({benchmark:!1,validation_data:!1,effects:[]});if(!i.tree.Reference.setVersion(this.options.mapnik_version))throw new Error(\"Could not set mapnik version to \"+this.options.mapnik_version);var s=[],u=[];n.benchmark&&console.time(\"Parsing MSS\");var f=i.Parser(n).parse(t);n.benchmark&&console.timeEnd(\"Parsing MSS\"),n.benchmark&&console.time(\"Rule generation\");var l=f.toList(n);n.benchmark&&console.timeEnd(\"Rule generation\"),n.benchmark&&console.time(\"Rule inheritance\");var c=o(l,n);n.benchmark&&console.timeEnd(\"Rule inheritance\"),n.benchmark&&console.time(\"Style sort\");var h=a(c,n);n.benchmark&&console.timeEnd(\"Style sort\"),n.benchmark&&console.time(\"Total Style generation\");for(var p=0,d,v;p<h.length;p++){d=h[p],v=\"style\"+(d.attachment!==\"__default__\"?\"-\"+d.attachment:\"\"),u.push(v);var m='\tStyle \"'+v+'\" (#'+p+\") toXML\";n.benchmark&&console.time(m),s.push(i.tree.StyleXML(v,d.attachment,d,n)),n.benchmark&&console.timeEnd(m)}n.benchmark&&console.timeEnd(\"Total Style generation\");if(n.errors)throw n.errors;return s.join(\"\\n\")},i.Renderer.prototype.render=function(t){function l(e,t){return function(e){return e.appliesTo(h.name,t)}}var n=r(this.env).defaults({benchmark:!1,validation_data:!1,effects:[],ppi:90.714});if(!i.tree.Reference.setVersion(this.options.mapnik_version))throw new Error(\"Could not set mapnik version to \"+this.options.mapnik_version);var s=[],u=r(t.Stylesheet).chain().map(function(e){if(typeof e==\"string\")throw new Error(\"Stylesheet object is expected not a string: '\"+e+\"'\");n=r(n).extend({filename:e.id});var t=+(new Date),s=i.Parser(n).parse(e.data);return n.benchmark&&console.warn(\"Parsing time: \"+(new Date-t)+\"ms\"),s.toList(n)}).flatten().value(),c,h,p,d,v,m;for(var g=0;g<t.Layer.length;g++){h=t.Layer[g],c=[],p={},n.benchmark&&console.warn(\"processing layer: \"+h.id);var y=(h[\"class\"]||\"\").split(/\\s+/g);for(var b=0;b<y.length;b++)p[y[b]]=!0;m=u.filter(l(h.name,p)),d=o(m,n),v=a(d,n);for(var w=0,E,S;w<v.length;w++){E=v[w],S=h.name+(E.attachment!==\"__default__\"?\"-\"+E.attachment:\"\");var x=i.tree.StyleXML(S,E.attachment,E,n);x&&(s.push(x),c.push(S))}s.push(i.tree.LayerXML(h,c))}s.unshift(n.effects.map(function(e){return e.toXML(n)}).join(\"\\n\"));var T=f(t,u,n);if(n.errors)throw n.errors;var N=r(t).reduce(function(e,t,n){if(!t&&t!==0)return e;switch(n){case\"srs\":case\"Layer\":case\"Stylesheet\":break;case\"bounds\":case\"center\":case\"minzoom\":case\"maxzoom\":case\"version\":e.push('  <Parameter name=\"'+n+'\">'+t+\"</Parameter>\");break;case\"name\":case\"description\":case\"legend\":case\"attribution\":case\"template\":e.push('  <Parameter name=\"'+n+'\"><![CDATA['+t+\"]]></Parameter>\");break;case\"format\":e.push('  <Parameter name=\"'+n+'\">'+t+\"</Parameter>\");break;case\"interactivity\":e.push('  <Parameter name=\"interactivity_layer\">'+t.layer+\"</Parameter>\"),e.push('  <Parameter name=\"interactivity_fields\">'+t.fields+\"</Parameter>\");break;default:\"string\"==typeof t?e.push('  <Parameter name=\"'+n+'\"><![CDATA['+t+\"]]></Parameter>\"):\"number\"==typeof t?e.push('  <Parameter name=\"'+n+'\">'+t+\"</Parameter>\"):\"boolean\"==typeof t&&e.push('  <Parameter name=\"'+n+'\">'+t+\"</Parameter>\")}return e},[]);N.length&&s.unshift(\"<Parameters>\\n\"+N.join(\"\\n\")+\"\\n</Parameters>\\n\");var C=r(T).map(function(e){return\" \"+e}).join(\"\");return s.unshift('<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n<!DOCTYPE Map[]>\\n<Map'+C+\">\\n\"),s.push(\"</Map>\"),s.join(\"\\n\")},t.exports=i,t.exports.addRules=s,t.exports.inheritDefinitions=o,t.exports.sortStyles=a}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"./index\":2,underscore:undefined}],5:[function(require,module,exports){(function(global){(function(carto){function CartoCSS(e,t){this.options=t||{},this.imageURLs=[],e&&this.setStyle(e)}var tree=require(\"./tree\"),_=global._||require(\"underscore\");CartoCSS.Layer=function(e,t){this.options=t,this.shader=e},CartoCSS.Layer.prototype={fullName:function(){return this.shader.attachment},name:function(){return this.fullName().split(\"::\")[0]},frames:function(){return this.shader.frames},attachment:function(){return this.fullName().split(\"::\")[1]},eval:function(e){var t=this.shader[e];if(!t||!t.style)return;return t.style({},{zoom:0,\"frame-offset\":0})},getStyle:function(e,t){var n={};for(var r in this.shader)r!==\"attachment\"&&r!==\"zoom\"&&r!==\"frames\"&&r!==\"symbolizers\"&&(n[r]=this.shader[r].style(e,t));return n},getSymbolizers:function(){return this.shader.symbolizers},isVariable:function(){for(var e in this.shader)if(e!==\"attachment\"&&e!==\"zoom\"&&e!==\"frames\"&&e!==\"symbolizers\"&&!this.shader[e].constant)return!0;return!1},getShader:function(){return this.shader},filter:function(e,t,n){for(var r in this.shader){var i=this.shader[r](t,n);if(i)return!0}return!1},transformGeometry:function(e){return e},transformGeometries:function(e){return e}},CartoCSS.prototype={setStyle:function(e){var t=this.parse(e);if(!t)throw new Error(this.parse_env.errors);this.layers=t.map(function(e){return new CartoCSS.Layer(e)})},getLayers:function(){return this.layers},getDefault:function(){return this.findLayer({attachment:\"__default__\"})},findLayer:function(e){return _.find(this.layers,function(t){for(var n in e){var r=t[n];typeof r==\"function\"&&(r=r.call(t));if(e[n]!==r)return!1}return!0})},_createFn:function(e){var t=e.join(\"\\n\");return this.options.debug&&console.log(t),Function(\"data\",\"ctx\",\"var _value = null; \"+t+\"; return _value; \")},_compile:function(shader){typeof shader==\"string\"&&(shader=eval(\"(function() { return \"+shader+\"; })()\")),this.shader_src=shader;for(var attr in shader){var c=mapper[attr];c&&(this.compiled[c]=eval(\"(function() { return shader[attr]; })();\"))}},getImageURLs:function(){return this.imageURLs},parse:function(e){var t={frames:[],errors:[],error:function(e){this.errors.push(e)}};this.parse_env=t;var n=null;try{n=(new carto.Parser(t)).parse(e)}catch(r){t.errors.push(r.message);return}if(n){function i(e){return e.elements[0]+\"::\"+e.attachment}var s=n.toList(t);s.reverse();var o={};for(var u=0;u<s.length;++u){var a=s[u],f=i(a),l=o[f]=o[f]||{symbolizers:[]};for(var c=0;c<a.rules.length;c++)if(a.rules[c].name===\"marker-file\"||a.rules[c].name===\"point-file\"){var h=a.rules[c].value.value[0].value[0].value.value;this.imageURLs.push(h)}l.frames=[],l.zoom=tree.Zoom.all;var p=a.toJS(t);this.options.debug&&console.log(\"props\",p);for(var d in p){var v=l[d]=l[d]||{constant:!1,symbolizer:null,js:[],index:0};v.js.push(p[d].map(function(e){return e.js}).join(\"\\n\")),v.symbolizer=_.first(p[d].map(function(e){return e.symbolizer})),v.index=_.max(p[d].map(function(e){return e.index}).concat(v.index)),v.constant=!_.any(p[d].map(function(e){return!e.constant}))}}var m=[];this.options.debug&&console.log(o);var g={};for(var u=0;u<s.length;++u){var a=s[u],y=i(a),l=o[y];if(!g[y]){this.options.debug&&console.log(\"**\",y);for(var b in l)b!==\"zoom\"&&b!==\"frames\"&&b!==\"symbolizers\"&&(this.options.debug&&console.log(\"*\",b),l[b].style=this._createFn(l[b].js),l.symbolizers.push(l[b].symbolizer),l.symbolizers=_.uniq(l.symbolizers));l.attachment=y,m.push(l),g[y]=!0}l.zoom|=a.zoom,l.frames.push(a.frame_offset)}for(u=0;u<m.length;++u)m[u].frames=_.uniq(m[u].frames);return m}return null}},carto.RendererJS=function(e){this.options=e||{},this.options.mapnik_version=this.options.mapnik_version||\"latest\"},carto.RendererJS.prototype.render=function(t,n){var r=require(\"./torque-reference\");return tree.Reference.setData(r.version.latest),new CartoCSS(t,this.options)},typeof module!=\"undefined\"&&(module.exports=carto.RendererJS)})(require(\"../carto\"))}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"../carto\":2,\"./torque-reference\":6,\"./tree\":7,underscore:undefined}],6:[function(e,t,n){var r={version:\"2.1.1\",style:{\"filter-mode\":{type:[\"all\",\"first\"],doc:\"Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)\",\"default-value\":\"all\",\"default-meaning\":\"All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true.\"},\"image-filters\":{css:\"image-filters\",\"default-value\":\"none\",\"default-meaning\":\"no filters\",type:\"functions\",functions:[[\"agg-stack-blur\",2],[\"emboss\",0],[\"blur\",0],[\"gray\",0],[\"sobel\",0],[\"edge-detect\",0],[\"x-gradient\",0],[\"y-gradient\",0],[\"invert\",0],[\"sharpen\",0],[\"colorize-alpha\",-1],[\"color-to-alpha\",1],[\"scale-hsla\",8]],doc:\"A list of image filters.\"},\"comp-op\":{css:\"comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current layer on top of other layers\",doc:\"Composite operation. This defines how this layer should behave relative to layers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"source-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"lighter\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]},opacity:{css:\"opacity\",type:\"float\",doc:\"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)\",\"default-value\":1,\"default-meaning\":\"no separate buffer will be used and no alpha will be applied to the style after rendering\"}},layer:{name:{\"default-value\":\"\",type:\"string\",required:!0,\"default-meaning\":\"No layer name has been provided\",doc:\"The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map\"},srs:{\"default-value\":\"\",type:\"string\",\"default-meaning\":\"No srs value is provided and the value will be inherited from the Map's srs\",doc:\"The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'\"},status:{\"default-value\":!0,type:\"boolean\",\"default-meaning\":\"This layer will be marked as active and available for processing\",doc:\"A property that can be set to false to disable this layer from being processed\"},minzoom:{\"default-value\":\"0\",type:\"float\",\"default-meaning\":\"The layer will be visible at the minimum possible scale\",doc:\"The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6\"},maxzoom:{\"default-value\":\"1.79769e+308\",type:\"float\",\"default-meaning\":\"The layer will be visible at the maximum possible scale\",doc:\"The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6\"},queryable:{\"default-value\":!1,type:\"boolean\",\"default-meaning\":\"The layer will not be available for the direct querying of data values\",doc:\"This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true\"},\"clear-label-cache\":{\"default-value\":!1,type:\"boolean\",\"default-meaning\":\"The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer\",doc:\"This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers\"},\"group-by\":{\"default-value\":\"\",type:\"string\",\"default-meaning\":\"No special layer grouping will be used during rendering\",doc:\"https://github.com/mapnik/mapnik/wiki/Grouped-rendering\"},\"buffer-size\":{\"default-value\":\"0\",type:\"float\",\"default-meaning\":\"No buffer will be used\",doc:\"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering\"},\"maximum-extent\":{\"default-value\":\"none\",type:\"bbox\",\"default-meaning\":\"No clipping extent will be used\",doc:\"An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer.\"}},symbolizers:{\"*\":{\"image-filters\":{css:\"image-filters\",\"default-value\":\"none\",\"default-meaning\":\"no filters\",type:\"functions\",functions:[[\"agg-stack-blur\",2],[\"emboss\",0],[\"blur\",0],[\"gray\",0],[\"sobel\",0],[\"edge-detect\",0],[\"x-gradient\",0],[\"y-gradient\",0],[\"invert\",0],[\"sharpen\",0],[\"colorize-alpha\",-1],[\"color-to-alpha\",1],[\"scale-hsla\",8]],doc:\"A list of image filters.\"},\"comp-op\":{css:\"comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current layer on top of other layers\",doc:\"Composite operation. This defines how this layer should behave relative to layers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"source-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"lighter\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]},opacity:{css:\"opacity\",type:\"float\",doc:\"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)\",\"default-value\":1,\"default-meaning\":\"no separate buffer will be used and no alpha will be applied to the style after rendering\"}},map:{\"background-color\":{css:\"background-color\",\"default-value\":\"none\",\"default-meaning\":\"transparent\",type:\"color\",doc:\"Map Background color\"},\"background-image\":{css:\"background-image\",type:\"uri\",\"default-value\":\"\",\"default-meaning\":\"transparent\",doc:\"An image that is repeated below all features on a map as a background.\",description:\"Map Background image\"},srs:{css:\"srs\",type:\"string\",\"default-value\":\"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs\",\"default-meaning\":\"The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space\",doc:\"Map spatial reference (proj4 string)\"},\"buffer-size\":{css:\"buffer-size\",\"default-value\":\"0\",type:\"float\",\"default-meaning\":\"No buffer will be used\",doc:'Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with \"avoid-edges\".'},\"maximum-extent\":{css:\"\",\"default-value\":\"none\",type:\"bbox\",\"default-meaning\":\"No clipping extent will be used\",doc:\"An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map.\"},base:{css:\"base\",\"default-value\":\"\",\"default-meaning\":\"This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.\"\n,type:\"string\",doc:\"Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet.\"},\"paths-from-xml\":{css:\"\",\"default-value\":!0,\"default-meaning\":\"Paths read from XML will be interpreted from the location of the XML\",type:\"boolean\",doc:\"value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()\"},\"minimum-version\":{css:\"\",\"default-value\":\"none\",\"default-meaning\":\"Mapnik version will not be detected and no error will be thrown about compatibility\",type:\"string\",doc:\"The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet\"},\"font-directory\":{css:\"font-directory\",type:\"uri\",\"default-value\":\"none\",\"default-meaning\":\"No map-specific fonts will be registered\",doc:\"Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered).\"}},polygon:{fill:{css:\"polygon-fill\",type:\"color\",\"default-value\":\"rgba(128,128,128,1)\",\"default-meaning\":\"gray and fully opaque (alpha = 1), same as rgb(128,128,128)\",doc:\"Fill color to assign to a polygon\"},\"fill-opacity\":{css:\"polygon-opacity\",type:\"float\",doc:\"The opacity of the polygon\",\"default-value\":1,\"default-meaning\":\"opaque\"},gamma:{css:\"polygon-gamma\",type:\"float\",\"default-value\":1,\"default-meaning\":\"fully antialiased\",range:\"0-1\",doc:\"Level of antialiasing of polygon edges\"},\"gamma-method\":{css:\"polygon-gamma-method\",type:[\"power\",\"linear\",\"none\",\"threshold\",\"multiply\"],\"default-value\":\"power\",\"default-meaning\":\"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA\",doc:\"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h\"},clip:{css:\"polygon-clip\",type:\"boolean\",\"default-value\":!0,\"default-meaning\":\"geometry will be clipped to map bounds before rendering\",doc:\"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts.\"},smooth:{css:\"polygon-smooth\",type:\"float\",\"default-value\":0,\"default-meaning\":\"no smoothing\",range:\"0-1\",doc:\"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries.\"},\"geometry-transform\":{css:\"polygon-geometry-transform\",type:\"functions\",\"default-value\":\"none\",\"default-meaning\":\"geometry will not be transformed\",doc:\"Allows transformation functions to be applied to the geometry.\",functions:[[\"matrix\",6],[\"translate\",2],[\"scale\",2],[\"rotate\",3],[\"skewX\",1],[\"skewY\",1]]},\"comp-op\":{css:\"polygon-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},line:{stroke:{css:\"line-color\",\"default-value\":\"rgba(0,0,0,1)\",type:\"color\",\"default-meaning\":\"black and fully opaque (alpha = 1), same as rgb(0,0,0)\",doc:\"The color of a drawn line\"},\"stroke-width\":{css:\"line-width\",\"default-value\":1,type:\"float\",doc:\"The width of a line in pixels\"},\"stroke-opacity\":{css:\"line-opacity\",\"default-value\":1,type:\"float\",\"default-meaning\":\"opaque\",doc:\"The opacity of a line\"},\"stroke-linejoin\":{css:\"line-join\",\"default-value\":\"miter\",type:[\"miter\",\"round\",\"bevel\"],doc:\"The behavior of lines when joining\"},\"stroke-linecap\":{css:\"line-cap\",\"default-value\":\"butt\",type:[\"butt\",\"round\",\"square\"],doc:\"The display of line endings\"},\"stroke-gamma\":{css:\"line-gamma\",type:\"float\",\"default-value\":1,\"default-meaning\":\"fully antialiased\",range:\"0-1\",doc:\"Level of antialiasing of stroke line\"},\"stroke-gamma-method\":{css:\"line-gamma-method\",type:[\"power\",\"linear\",\"none\",\"threshold\",\"multiply\"],\"default-value\":\"power\",\"default-meaning\":\"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA\",doc:\"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h\"},\"stroke-dasharray\":{css:\"line-dasharray\",type:\"numbers\",doc:\"A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.\",\"default-value\":\"none\",\"default-meaning\":\"solid line\"},\"stroke-dashoffset\":{css:\"line-dash-offset\",type:\"numbers\",doc:\"valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)\",\"default-value\":\"none\",\"default-meaning\":\"solid line\"},\"stroke-miterlimit\":{css:\"line-miterlimit\",type:\"float\",doc:\"The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.\",\"default-value\":4,\"default-meaning\":\"Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'\"},clip:{css:\"line-clip\",type:\"boolean\",\"default-value\":!0,\"default-meaning\":\"geometry will be clipped to map bounds before rendering\",doc:\"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts.\"},smooth:{css:\"line-smooth\",type:\"float\",\"default-value\":0,\"default-meaning\":\"no smoothing\",range:\"0-1\",doc:\"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries.\"},offset:{css:\"line-offset\",type:\"float\",\"default-value\":0,\"default-meaning\":\"no offset\",doc:\"Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line).\"},rasterizer:{css:\"line-rasterizer\",type:[\"full\",\"fast\"],\"default-value\":\"full\",doc:\"Exposes an alternate AGG rendering method that sacrifices some accuracy for speed.\"},\"geometry-transform\":{css:\"line-geometry-transform\",type:\"functions\",\"default-value\":\"none\",\"default-meaning\":\"geometry will not be transformed\",doc:\"Allows transformation functions to be applied to the geometry.\",functions:[[\"matrix\",6],[\"translate\",2],[\"scale\",2],[\"rotate\",3],[\"skewX\",1],[\"skewY\",1]]},\"comp-op\":{css:\"line-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},markers:{file:{css:\"marker-file\",doc:\"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.\",\"default-value\":\"\",\"default-meaning\":\"An ellipse or circle, if width equals height\",type:\"uri\"},opacity:{css:\"marker-opacity\",doc:\"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke\",\"default-value\":1,\"default-meaning\":\"The stroke-opacity and fill-opacity will be used\",type:\"float\"},\"fill-opacity\":{css:\"marker-fill-opacity\",doc:\"The fill opacity of the marker\",\"default-value\":1,\"default-meaning\":\"opaque\",type:\"float\"},stroke:{css:\"marker-line-color\",doc:\"The color of the stroke around a marker shape.\",\"default-value\":\"black\",type:\"color\"},\"stroke-width\":{css:\"marker-line-width\",doc:\"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.\",type:\"float\"},\"stroke-opacity\":{css:\"marker-line-opacity\",\"default-value\":1,\"default-meaning\":\"opaque\",doc:\"The opacity of a line\",type:\"float\"},placement:{css:\"marker-placement\",type:[\"point\",\"line\",\"interior\"],\"default-value\":\"point\",\"default-meaning\":\"Place markers at the center point (centroid) of the geometry\",doc:\"Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior\"},\"multi-policy\":{css:\"marker-multi-policy\",type:[\"each\",\"whole\",\"largest\"],\"default-value\":\"each\",\"default-meaning\":\"If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each\",doc:\"A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default).\"},\"marker-type\":{css:\"marker-type\",type:[\"arrow\",\"ellipse\",\"rectangle\"],\"default-value\":\"ellipse\",doc:\"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)\"},width:{css:\"marker-width\",\"default-value\":10,doc:\"The width of the marker, if using one of the default types.\",type:\"float\",expression:!0},height:{css:\"marker-height\",\"default-value\":10,doc:\"The height of the marker, if using one of the default types.\",type:\"float\",expression:!0},fill:{css:\"marker-fill\",\"default-value\":\"blue\",doc:\"The color of the area of the marker.\",type:\"color\"},\"allow-overlap\":{css:\"marker-allow-overlap\",type:\"boolean\",\"default-value\":!1,doc:\"Control whether overlapping markers are shown or hidden.\",\"default-meaning\":\"Do not allow makers to overlap with each other - overlapping markers will not be shown.\"},\"ignore-placement\":{css:\"marker-ignore-placement\",type:\"boolean\",\"default-value\":!1,\"default-meaning\":\"do not store the bbox of this geometry in the collision detector cache\",doc:\"value to control whether the placement of the feature will prevent the placement of other features\"},spacing:{css:\"marker-spacing\",doc:\"Space between repeated labels\",\"default-value\":100,type:\"float\"},\"max-error\":{css:\"marker-max-error\",type:\"float\",\"default-value\":.2,doc:\"The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers.\"},transform:{css:\"marker-transform\",type:\"functions\",functions:[[\"matrix\",6],[\"translate\",2],[\"scale\",2],[\"rotate\",3],[\"skewX\",1],[\"skewY\",1]],\"default-value\":\"\",\"default-meaning\":\"No transformation\",doc:\"SVG transformation definition\"},clip:{css:\"marker-clip\",type:\"boolean\",\"default-value\":!0,\"default-meaning\":\"geometry will be clipped to map bounds before rendering\",doc:\"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts.\"},smooth:{css:\"marker-smooth\",type:\"float\",\"default-value\":0,\"default-meaning\":\"no smoothing\",range:\"0-1\",doc:\"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries.\"},\"geometry-transform\":{css:\"marker-geometry-transform\",type:\"functions\",\"default-value\":\"none\",\"default-meaning\":\"geometry will not be transformed\",doc:\"Allows transformation functions to be applied to the geometry.\",functions:[[\"matrix\",6],[\"translate\",2],[\"scale\",2],[\"rotate\",3],[\"skewX\",1],[\"skewY\",1]]},\"comp-op\":{css:\"marker-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},shield:{name:{css:\"shield-name\",type:\"string\",expression:!0,serialization:\"content\",doc:'Value to use for a shield\"s text label. Data columns are specified using brackets like [column_name]'},file:{css:\"shield-file\",required:!0,type:\"uri\",\"default-value\":\"none\",doc:\"Image file to render behind the shield text\"},\"face-name\":{css:\"shield-face-name\",type:\"string\",validate:\"font\",doc:\"Font name and style to use for the shield text\",\"default-value\":\"\",required:!0},\"unlock-image\":{css:\"shield-unlock-image\",type:\"boolean\",doc:\"This parameter should be set to true if you are trying to position text beside rather than on top of the shield image\",\"default-value\":!1,\"default-meaning\":\"text alignment relative to the shield image uses the center of the image as the anchor for text positioning.\"},size:{css:\"shield-size\",type:\"float\",doc:\"The size of the shield text in pixels\"},fill:{css:\"shield-fill\",type:\"color\",doc:\"The color of the shield text\"},placement:{css:\"shield-placement\",type:[\"point\",\"line\",\"vertex\",\"interior\"],\"default-value\":\"point\",doc:\"How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons.\"},\"avoid-edges\":{css:\"shield-avoid-edges\",doc:\"Tell positioning algorithm to avoid labeling near intersection edges.\",type:\"boolean\",\"default-value\":!1},\"allow-overlap\":{css:\"shield-allow-overlap\",type:\"boolean\",\"default-value\":!1,doc:\"Control whether overlapping shields are shown or hidden.\",\"default-meaning\":\"Do not allow shields to overlap with other map elements already placed.\"},\"minimum-distance\":{css:\"shield-min-distance\",type:\"float\",\"default-value\":0,doc:\"Minimum distance to the next shield symbol, not necessarily the same shield.\"},spacing:{css:\"shield-spacing\",type:\"float\",\"default-value\":0,doc:\"The spacing between repeated occurrences of the same shield on a line\"},\"minimum-padding\":{css:\"shield-min-padding\",\"default-value\":0,doc:\"Determines the minimum amount of padding that a shield gets relative to other shields\",type:\"float\"},\"wrap-width\":{css:\"shield-wrap-width\",type:\"unsigned\",\"default-value\":0,doc:\"Length of a chunk of text in characters before wrapping text\"},\"wrap-before\":{css:\"shield-wrap-before\",type:\"boolean\",\"default-value\":!1,doc:\"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width.\"},\"wrap-character\":{css:\"shield-wrap-character\",type:\"string\",\"default-value\":\" \",doc:\"Use this character instead of a space to wrap long names.\"},\"halo-fill\":{css:\"shield-halo-fill\",type:\"color\",\"default-value\":\"#FFFFFF\",\"default-meaning\":\"white\",doc:\"Specifies the color of the halo around the text.\"},\"halo-radius\":{css:\"shield-halo-radius\",doc:\"Specify the radius of the halo in pixels\",\"default-value\":0,\"default-meaning\":\"no halo\",type:\"float\"},\"character-spacing\":{css:\"shield-character-spacing\",type:\"unsigned\",\"default-value\":0,doc:\"Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement.\"},\"line-spacing\":{css:\"shield-line-spacing\",doc:\"Vertical spacing between lines of multiline labels (in pixels)\",type:\"unsigned\"},dx:{css:\"shield-text-dx\",type:\"float\",doc:\"Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right\",\"default-value\":0},dy:{css:\"shield-text-dy\",type:\"float\",doc:\"Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down\",\"default-value\":0},\"shield-dx\":{css:\"shield-dx\",type:\"float\",doc:\"Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right\",\"default-value\":0},\"shield-dy\":{css:\"shield-dy\",type:\"float\",doc:\"Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down\",\"default-value\":0},opacity:{css:\"shield-opacity\",type:\"float\",doc:\"(Default 1.0) - opacity of the image used for the shield\",\"default-value\":1},\"text-opacity\":{css:\"shield-text-opacity\",type:\"float\",doc:\"(Default 1.0) - opacity of the text placed on top of the shield\",\"default-value\":1},\"horizontal-alignment\":{css:\"shield-horizontal-alignment\",type:[\"left\",\"middle\",\"right\",\"auto\"],doc:\"The shield's horizontal alignment from its centerpoint\",\"default-value\":\"auto\"},\"vertical-alignment\":{css:\"shield-vertical-alignment\",type:[\"top\",\"middle\",\"bottom\",\"auto\"],doc:\"The shield's vertical alignment from its centerpoint\",\"default-value\":\"middle\"},\"text-transform\":{css:\"shield-text-transform\",type:[\"none\",\"uppercase\",\"lowercase\",\"capitalize\"],doc:\"Transform the case of the characters\",\"default-value\":\"none\"},\"justify-alignment\":{css:\"shield-justify-alignment\",type:[\"left\",\"center\",\"right\",\"auto\"],doc:\"Define how text in a shield's label is justified\",\"default-value\":\"auto\"},clip:{css:\"shield-clip\",type:\"boolean\",\"default-value\":!0,\"default-meaning\":\"geometry will be clipped to map bounds before rendering\",doc:\"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts.\"},\"comp-op\":{css:\"shield-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},\"line-pattern\":{file:{css:\"line-pattern-file\",type:\"uri\",\"default-value\":\"none\",required:!0,doc:\"An image file to be repeated and warped along a line\"},clip:{css:\"line-pattern-clip\",type:\"boolean\",\"default-value\":!0,\"default-meaning\":\"geometry will be clipped to map bounds before rendering\",doc:\"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts.\"},smooth:{css:\"line-pattern-smooth\",type:\"float\",\"default-value\":0,\"default-meaning\":\"no smoothing\",range:\"0-1\",doc:\"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries.\"},\"geometry-transform\":{css:\"line-pattern-geometry-transform\",type:\"functions\",\"default-value\":\"none\",\"default-meaning\":\"geometry will not be transformed\",doc:\"Allows transformation functions to be applied to the geometry.\",functions:[[\"matrix\",6],[\"translate\",2],[\"scale\",2],[\"rotate\",3],[\"skewX\",1],[\"skewY\",1]]},\"comp-op\":{css:\"line-pattern-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},\"polygon-pattern\":{file:{css:\"polygon-pattern-file\",type:\"uri\",\"default-value\":\"none\",required:!0,doc:\"Image to use as a repeated pattern fill within a polygon\"},alignment:{css:\"polygon-pattern-alignment\",type:[\"local\",\"global\"],\"default-value\":\"local\",doc:\"Specify whether to align pattern fills to the layer or to the map.\"},gamma:{css:\"polygon-pattern-gamma\",type:\"float\",\"default-value\":1,\"default-meaning\":\"fully antialiased\",range:\"0-1\",doc:\"Level of antialiasing of polygon pattern edges\"},opacity:{css:\"polygon-pattern-opacity\",type:\"float\",doc:\"(Default 1.0) - Apply an opacity level to the image used for the pattern\",\"default-value\":1,\"default-meaning\":\"The image is rendered without modifications\"},clip:{css:\"polygon-pattern-clip\",type:\"boolean\",\"default-value\":!0,\"default-meaning\":\"geometry will be clipped to map bounds before rendering\",doc:\"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts.\"},smooth:{css:\"polygon-pattern-smooth\",type:\"float\",\"default-value\":0,\"default-meaning\":\"no smoothing\",range:\"0-1\",doc:\"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries.\"},\"geometry-transform\":{css:\"polygon-pattern-geometry-transform\",type:\"functions\",\"default-value\":\"none\",\"default-meaning\":\"geometry will not be transformed\",doc:\"Allows transformation functions to be applied to the geometry.\",functions:[[\"matrix\",6],[\"translate\",2],[\"scale\",2],[\"rotate\",3],[\"skewX\",1],[\"skewY\",1]]},\"comp-op\":{css:\"polygon-pattern-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},raster:{opacity:{css:\"raster-opacity\",\"default-value\":1,\"default-meaning\":\"opaque\",type:\"float\",doc:\"The opacity of the raster symbolizer on top of other symbolizers.\"},\"filter-factor\":{css:\"raster-filter-factor\",\"default-value\":-1,\"default-meaning\":\"Allow the datasource to choose appropriate downscaling.\",type:\"float\",doc:\"This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed.\"},scaling:{css:\"raster-scaling\",type:[\"near\",\"fast\",\"bilinear\",\"bilinear8\",\"bicubic\",\"spline16\",\"spline36\",\"hanning\",\"hamming\",\"hermite\",\"kaiser\",\"quadric\",\"catrom\",\"gaussian\",\"bessel\",\"mitchell\",\"sinc\",\"lanczos\",\"blackman\"],\"default-value\":\"near\",doc:\"The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality.\"},\"mesh-size\":{css:\"raster-mesh-size\",\"default-value\":16,\"default-meaning\":\"Reprojection mesh will be 1/16 of the resolution of the source image\",type:\"unsigned\",doc:\"A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion.\"},\"comp-op\":{css:\"raster-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},point:{file:{css:\"point-file\",type:\"uri\",required:!1,\"default-value\":\"none\",doc:\"Image file to represent a point\"},\"allow-overlap\":{css:\"point-allow-overlap\",type:\"boolean\",\"default-value\":!1,doc:\"Control whether overlapping points are shown or hidden.\",\"default-meaning\":\"Do not allow points to overlap with each other - overlapping markers will not be shown.\"},\"ignore-placement\":{css:\"point-ignore-placement\",type:\"boolean\",\"default-value\":!1,\"default-meaning\":\"do not store the bbox of this geometry in the collision detector cache\",doc:\"value to control whether the placement of the feature will prevent the placement of other features\"},opacity:{css:\"point-opacity\",type:\"float\",\"default-value\":1,\"default-meaning\":\"Fully opaque\",doc:\"A value from 0 to 1 to control the opacity of the point\"},placement:{css:\"point-placement\",type:[\"centroid\",\"interior\"],doc:\"How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.\",\"default-value\":\"centroid\"},transform:{css:\"point-transform\",type:\"functions\",functions:[[\"matrix\",6],[\"translate\",2],[\"scale\",2],[\"rotate\",3],[\"skewX\",1],[\"skewY\",1]],\"default-value\":\"\",\"default-meaning\":\"No transformation\",doc:\"SVG transformation definition\"},\"comp-op\":{css:\"point-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},text:{name:{css:\"text-name\",type:\"string\",expression:!0,required:!0,\"default-value\":\"\",serialization:\"content\",doc:\"Value to use for a text label. Data columns are specified using brackets like [column_name]\"},\"face-name\":{css:\"text-face-name\",type:\"string\",validate:\"font\",doc:\"Font name and style to render a label in\",required:!0},size:{css:\"text-size\",type:\"float\",\"default-value\":10,doc:\"Text size in pixels\"},\"text-ratio\":{css:\"text-ratio\",doc:\"Define the amount of text (of the total) present on successive lines when wrapping occurs\",\"default-value\":0,type:\"unsigned\"},\"wrap-width\":{css:\"text-wrap-width\",doc:\"Length of a chunk of text in characters before wrapping text\",\"default-value\":0,type:\"unsigned\"},\"wrap-before\":{css:\"text-wrap-before\",type:\"boolean\",\"default-value\":!1,doc:\"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width.\"},\"wrap-character\":{css:\"text-wrap-character\",type:\"string\",\"default-value\":\" \",doc:\"Use this character instead of a space to wrap long text.\"},spacing:{css:\"text-spacing\",type:\"unsigned\",doc:\"Distance between repeated text labels on a line (aka. label-spacing)\"},\"character-spacing\":{css:\"text-character-spacing\",type:\"float\",\"default-value\":0,doc:\"Horizontal spacing adjustment between characters in pixels\"},\"line-spacing\":{css:\"text-line-spacing\",\"default-value\":0,type:\"unsigned\",doc:\"Vertical spacing adjustment between lines in pixels\"},\"label-position-tolerance\":{css:\"text-label-position-tolerance\",\"default-value\":0,type:\"unsigned\",doc:\"Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)\"},\"max-char-angle-delta\":{css:\"text-max-char-angle-delta\",type:\"float\",\"default-value\":\"22.5\",doc:\"The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners.\"},fill:{css:\"text-fill\",doc:\"Specifies the color for the text\",\"default-value\":\"#000000\",type:\"color\"},opacity:{css:\"text-opacity\",doc:\"A number from 0 to 1 specifying the opacity for the text\",\"default-value\":1,\"default-meaning\":\"Fully opaque\",type:\"float\"},\"halo-fill\":{css:\"text-halo-fill\",type:\"color\",\"default-value\":\"#FFFFFF\",\"default-meaning\":\"white\",doc:\"Specifies the color of the halo around the text.\"},\"halo-radius\":{css:\"text-halo-radius\",doc:\"Specify the radius of the halo in pixels\",\"default-value\":0,\"default-meaning\":\"no halo\",type:\"float\"},dx:{css:\"text-dx\",type:\"float\",doc:\"Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right\",\"default-value\":0},dy:{css:\"text-dy\",type:\"float\",doc:\"Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down\",\"default-value\":0},\"vertical-alignment\":{css:\"text-vertical-alignment\",type:[\"top\",\"middle\",\"bottom\",\"auto\"],doc:\"Position of label relative to point position.\",\"default-value\":\"auto\",\"default-meaning\":'Default affected by value of dy; \"bottom\" for dy>0, \"top\" for dy<0.'},\"avoid-edges\":{css:\"text-avoid-edges\",doc:\"Tell positioning algorithm to avoid labeling near intersection edges.\",\"default-value\":!1,type:\"boolean\"},\"minimum-distance\":{css:\"text-min-distance\",doc:\"Minimum permitted distance to the next text symbolizer.\",type:\"float\"},\"minimum-padding\":{css:\"text-min-padding\",doc:\"Determines the minimum amount of padding that a text symbolizer gets relative to other text\",type:\"float\"},\"minimum-path-length\":{css:\"text-min-path-length\",type:\"float\",\"default-value\":0,\"default-meaning\":\"place labels on all paths\",doc:\"Place labels only on paths longer than this value.\"},\"allow-overlap\":{css:\"text-allow-overlap\",type:\"boolean\",\"default-value\":!1,doc:\"Control whether overlapping text is shown or hidden.\",\"default-meaning\":\"Do not allow text to overlap with other text - overlapping markers will not be shown.\"},orientation:{css:\"text-orientation\",type:\"float\",expression:!0,doc:\"Rotate the text.\"},placement:{css:\"text-placement\",type:[\"point\",\"line\",\"vertex\",\"interior\"],\"default-value\":\"point\",doc:\"Control the style of placement of a point versus the geometry it is attached to.\"},\"placement-type\":{css:\"text-placement-type\",doc:'Re-position and/or re-size text to avoid overlaps. \"simple\" for basic algorithm (using text-placements string,) \"dummy\" to turn this feature off.',type:[\"dummy\",\"simple\"],\"default-value\":\"dummy\"},placements:{css:\"text-placements\",type:\"string\",\"default-value\":\"\",doc:'If \"placement-type\" is set to \"simple\", use this \"POSITIONS,[SIZES]\" string. An example is `text-placements: \"E,NE,SE,W,NW,SW\";` '},\"text-transform\":{css:\"text-transform\",type:[\"none\",\"uppercase\",\"lowercase\",\"capitalize\"],doc:\"Transform the case of the characters\",\"default-value\":\"none\"},\"horizontal-alignment\":{css:\"text-horizontal-alignment\",type:[\"left\",\"middle\",\"right\",\"auto\"],doc:\"The text's horizontal alignment from its centerpoint\",\"default-value\":\"auto\"},\"justify-alignment\":{css:\"text-align\",type:[\"left\",\"right\",\"center\",\"auto\"],doc:\"Define how text is justified\",\"default-value\":\"auto\",\"default-meaning\":\"Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives\"},clip:{css:\"text-clip\"\n,type:\"boolean\",\"default-value\":!0,\"default-meaning\":\"geometry will be clipped to map bounds before rendering\",doc:\"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts.\"},\"comp-op\":{css:\"text-comp-op\",\"default-value\":\"src-over\",\"default-meaning\":\"add the current symbolizer on top of other symbolizer\",doc:\"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.\",type:[\"clear\",\"src\",\"dst\",\"src-over\",\"dst-over\",\"src-in\",\"dst-in\",\"src-out\",\"dst-out\",\"src-atop\",\"dst-atop\",\"xor\",\"plus\",\"minus\",\"multiply\",\"screen\",\"overlay\",\"darken\",\"lighten\",\"color-dodge\",\"color-burn\",\"hard-light\",\"soft-light\",\"difference\",\"exclusion\",\"contrast\",\"invert\",\"invert-rgb\",\"grain-merge\",\"grain-extract\",\"hue\",\"saturation\",\"color\",\"value\"]}},building:{fill:{css:\"building-fill\",\"default-value\":\"#FFFFFF\",doc:\"The color of the buildings walls.\",type:\"color\"},\"fill-opacity\":{css:\"building-fill-opacity\",type:\"float\",doc:\"The opacity of the building as a whole, including all walls.\",\"default-value\":1},height:{css:\"building-height\",doc:\"The height of the building in pixels.\",type:\"float\",expression:!0,\"default-value\":\"0\"}},torque:{\"-torque-clear-color\":{css:\"-torque-clear-color\",type:\"color\",\"default-value\":\"rgba(255, 255, 255, 0)\",\"default-meaning\":\"full clear\",doc:\"color used to clear canvas on each frame\"},\"-torque-frame-count\":{css:\"-torque-frame-count\",\"default-value\":\"128\",type:\"float\",\"default-meaning\":\"the data is broken into 128 time frames\",doc:\"Number of animation steps/frames used in the animation. If the data contains a fewere number of total frames, the lesser value will be used.\"},\"-torque-resolution\":{css:\"-torque-resolution\",\"default-value\":\"2\",type:\"float\",\"default-meaning\":\"\",doc:\"Spatial resolution in pixels. A resolution of 1 means no spatial aggregation of the data. Any other resolution of N results in spatial aggregation into cells of NxN pixels. The value N must be power of 2\"},\"-torque-animation-duration\":{css:\"-torque-animation-duration\",\"default-value\":\"30\",type:\"float\",\"default-meaning\":\"the animation lasts 30 seconds\",doc:\"Animation duration in seconds\"},\"-torque-aggregation-function\":{css:\"-torque-aggregation-function\",\"default-value\":\"count(cartodb_id)\",type:\"string\",\"default-meaning\":\"the value for each cell is the count of points in that cell\",doc:\"A function used to calculate a value from the aggregate data for each cell. See -torque-resolution\"},\"-torque-time-attribute\":{css:\"-torque-time-attribute\",\"default-value\":\"time\",type:\"string\",\"default-meaning\":\"the data column in your table that is of a time based type\",doc:\"The table column that contains the time information used create the animation\"},\"-torque-data-aggregation\":{css:\"-torque-data-aggregation\",\"default-value\":\"linear\",type:[\"linear\",\"cumulative\"],\"default-meaning\":\"previous values are discarded\",doc:\"A linear animation will discard previous values while a cumulative animation will accumulate them until it restarts\"}}},colors:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},filter:{value:[\"true\",\"false\",\"null\",\"point\",\"linestring\",\"polygon\",\"collection\"]}};t.exports={version:{latest:r,\"2.1.1\":r}}},{}],7:[function(e,t,n){typeof t!=\"undefined\"&&(t.exports.find=function(e,t){for(var n=0,r;n<e.length;n++)if(r=t.call(e,e[n]))return r;return null})},{}],8:[function(e,t,n){(function(t){(function(n){var r=t._||e(\"underscore\");n.Call=function(t,n,r){this.name=t,this.args=n,this.index=r},n.Call.prototype={is:\"call\",ev:function(e){var t=this.args.map(function(t){return t.ev(e)});for(var i=0;i<t.length;i++)if(t[i].is===\"undefined\")return{is:\"undefined\",value:\"undefined\"};if(this.name in n.functions){if(n.functions[this.name].length<=t.length){var s=n.functions[this.name].apply(n.functions,t);return s===null?(e.error({message:\"incorrect arguments given to \"+this.name+\"()\",index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"}):s}return e.error({message:\"incorrect number of arguments for \"+this.name+\"(). \"+n.functions[this.name].length+\" expected.\",index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"}}var o=n.Reference.mapnikFunctions[this.name];if(o===undefined){var u=r.pairs(n.Reference.mapnikFunctions),a=this.name,f=u.map(function(e){return[e[0],n.Reference.editDistance(a,e[0]),e[1]]}).sort(function(e,t){return e[1]-t[1]});return e.error({message:\"unknown function \"+this.name+\"(), did you mean \"+f[0][0]+\"(\"+f[0][2]+\")\",index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"}}return o!==t.length&&(!Array.isArray(o)||!r.include(o,t.length))&&o!==-1?(e.error({message:\"function \"+this.name+\"() takes \"+o+\" arguments and was given \"+t.length,index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"}):(this.args=t,this)},toString:function(e,t){return this.args.length?this.name+\"(\"+this.args.join(\",\")+\")\":this.name}}})(e(\"../tree\"))}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"../tree\":7,underscore:undefined}],9:[function(e,t,n){(function(e){e.Color=function(t,n){Array.isArray(t)?this.rgb=t.slice(0,3):t.length==6?this.rgb=t.match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=t.split(\"\").map(function(e){return parseInt(e+e,16)}),typeof n==\"number\"?this.alpha=n:t.length===4?this.alpha=t[3]:this.alpha=1},e.Color.prototype={is:\"color\",ev:function(){return this},toString:function(){return this.alpha<1?\"rgba(\"+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(\", \")+\")\":\"#\"+this.rgb.map(function(e){return e=Math.round(e),e=(e>255?255:e<0?0:e).toString(16),e.length===1?\"0\"+e:e}).join(\"\")},operate:function(t,n,r){var i=[];r instanceof e.Color||(r=r.toColor());for(var s=0;s<3;s++)i[s]=e.operate(n,this.rgb[s],r.rgb[s]);return new e.Color(i)},toHSL:function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255,r=this.alpha,i=Math.max(e,t,n),s=Math.min(e,t,n),o,u,a=(i+s)/2,f=i-s;if(i===s)o=u=0;else{u=a>.5?f/(2-i-s):f/(i+s);switch(i){case e:o=(t-n)/f+(t<n?6:0);break;case t:o=(n-e)/f+2;break;case n:o=(e-t)/f+4}o/=6}return{h:o*360,s:u,l:a,a:r}}}})(e(\"../tree\"))},{\"../tree\":7}],10:[function(e,t,n){(function(e){e.Comment=function(t,n){this.value=t,this.silent=!!n},e.Comment.prototype={toString:function(e){return\"<!--\"+this.value+\"-->\"},ev:function(){return this}}})(e(\"../tree\"))},{\"../tree\":7}],11:[function(e,t,n){(function(t){(function(n){function s(e){function t(e){return e[1].toUpperCase()}return e.charAt(0).toUpperCase()+e.slice(1).replace(/\\-./,t)+\"Symbolizer\"}function o(e){return e.sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}var r=e(\"assert\"),i=t._||e(\"underscore\");n.Definition=function(t,i){this.elements=t.elements,r.ok(t.filters instanceof n.Filterset),this.rules=i,this.ruleIndex={};for(var s=0;s<this.rules.length;s++)\"zoom\"in this.rules[s]&&(this.rules[s]=this.rules[s].clone()),this.rules[s].zoom=t.zoom,this.ruleIndex[this.rules[s].updateID()]=!0;this.filters=t.filters,this.zoom=t.zoom,this.frame_offset=t.frame_offset,this.attachment=t.attachment||\"__default__\",this.specificity=t.specificity()},n.Definition.prototype.toString=function(){var e=this.filters.toString();for(var t=0;t<this.rules.length;t++)e+=\"\\n    \"+this.rules[t];return e},n.Definition.prototype.clone=function(e){e&&r.ok(e instanceof n.Filterset);var t=Object.create(n.Definition.prototype);return t.rules=this.rules.slice(),t.ruleIndex=i.clone(this.ruleIndex),t.filters=e?e:this.filters.clone(),t.attachment=this.attachment,t},n.Definition.prototype.addRules=function(e){var t=0;for(var n=0;n<e.length;n++)this.ruleIndex[e[n].id]||(this.rules.push(e[n]),this.ruleIndex[e[n].id]=!0,t++);return t},n.Definition.prototype.appliesTo=function(e,t){for(var n=0,r=this.elements.length;n<r;n++){var i=this.elements[n];if(!(i.wildcard||i.type===\"class\"&&t[i.clean]||i.type===\"id\"&&e===i.clean))return!1}return!0},n.Definition.prototype.symbolizersToXML=function(e,t,r){var i=r.toXML(e).join(\"\")+this.filters.toXML(e),u=[],a=[];for(var f in t){a=[];for(var l in t[f])a.push(t[f][l].index);var c=Math.min.apply(Math,a);u.push([f,c])}u=o(u);var h=0;for(var p=0;p<u.length;p++){var d=t[u[p]],v=u[p].split(\"/\").pop();if(v===\"*\")continue;h++;var m=n.Reference.requiredProperties(v,d);if(m){var g=d[Object.keys(d).shift()];e.error({message:m,index:g.index,filename:g.filename})}var y=s(v),b=!0,w;i+=\"    <\"+y+\" \";for(var E in d){v===\"map\"&&e.error({message:\"Map properties are not permitted in other rules\",index:d[E].index,filename:d[E].filename});var S=n.Reference.selector(d[E].name);S&&S.serialization&&S.serialization===\"content\"?(b=!1,w=d[E].ev(e).toXML(e,!0)):S&&S.serialization&&S.serialization===\"tag\"?(b=!1,w=d[E].ev(e).toXML(e,!0)):i+=d[E].ev(e).toXML(e)+\" \"}b?i+=\"/>\\n\":typeof w!=\"undefined\"&&(w.indexOf(\"<\")!=-1?i+=\">\"+w+\"</\"+y+\">\\n\":i+=\"><![CDATA[\"+w+\"]]></\"+y+\">\\n\")}return!h||!i?\"\":\"  <Rule>\\n\"+i+\"  </Rule>\\n\"},n.Definition.prototype.collectSymbolizers=function(e,t){var n={},r;for(var i=t;i<this.rules.length;i++){r=this.rules[i];var s=r.instance+\"/\"+r.symbolizer;e.current&r.zoom&&(!(s in n)||!(r.name in n[s]))&&(e.current&=r.zoom,s in n||(n[s]={}),n[s][r.name]=r)}if(Object.keys(n).length)return e.rule&=e.available&=~e.current,n},n.Definition.prototype.toXML=function(e,t){var r=this.filters.toString();r in t||(t[r]=n.Zoom.all);var i=n.Zoom.all,s=\"\",o,u,a={available:n.Zoom.all};for(var f=0;f<this.rules.length&&i;f++){a.rule=this.rules[f].zoom;if(!(t[r]&a.rule))continue;while(a.current=a.rule&i)if(u=this.collectSymbolizers(a,f)){if(!(t[r]&a.current))continue;s+=this.symbolizersToXML(e,u,(new n.Zoom).setZoom(t[r]&a.current)),t[r]&=~a.current}}return s},n.Definition.prototype.toJS=function(e){var t={},r=\"(\"+this.zoom+\" & (1 << ctx.zoom))\",s=this.frame_offset,o=this.filters.toJS(e),u=[r];return o&&u.push(o),s&&u.push('ctx[\"frame-offset\"] === '+s),o=u.join(\" && \"),i.each(this.rules,function(r){if(!(r instanceof n.Rule))throw new Error(\"Ruleset not supported\");t[r.name]=t[r.name]||[];var i={index:r.index,symbolizer:r.symbolizer};o?i.js=\"if(\"+o+\"){\"+r.value.toJS(e)+\"}\":i.js=r.value.toJS(e),i.constant=r.value.ev(e).is!==\"field\",i.filtered=!!o,t[r.name].push(i)}),t}})(e(\"../tree\"))}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"../tree\":7,assert:37,underscore:undefined}],12:[function(e,t,n){(function(t){(function(n){var r=t._||e(\"underscore\");n.Dimension=function(t,n,r){this.value=parseFloat(t),this.unit=n||null,this.index=r},n.Dimension.prototype={is:\"float\",physical_units:[\"m\",\"cm\",\"in\",\"mm\",\"pt\",\"pc\"],screen_units:[\"px\",\"%\"],all_units:[\"m\",\"cm\",\"in\",\"mm\",\"pt\",\"pc\",\"px\",\"%\"],densities:{m:.0254,mm:25.4,cm:2.54,pt:72,pc:6},ev:function(e){if(this.unit&&!r.contains(this.all_units,this.unit))return e.error({message:\"Invalid unit: '\"+this.unit+\"'\",index:this.index}),{is:\"undefined\",value:\"undefined\"};if(this.unit&&r.contains(this.physical_units,this.unit)){if(!e.ppi)return e.error({message:\"ppi is not set, so metric units can't be used\",index:this.index}),{is:\"undefined\",value:\"undefined\"};this.value=this.value/this.densities[this.unit]*e.ppi,this.unit=\"px\"}return this},round:function(){return this.value=Math.round(this.value),this},toColor:function(){return new n.Color([this.value,this.value,this.value])},round:function(){return this.value=Math.round(this.value),this},toString:function(){return this.value.toString()},operate:function(e,t,r){return this.unit===\"%\"&&r.unit!==\"%\"?(e.error({message:\"If two operands differ, the first must not be %\",index:this.index}),{is:\"undefined\",value:\"undefined\"}):this.unit!==\"%\"&&r.unit===\"%\"?t===\"*\"||t===\"/\"||t===\"%\"?(e.error({message:\"Percent values can only be added or subtracted from other values\",index:this.index}),{is:\"undefined\",value:\"undefined\"}):new n.Dimension(n.operate(t,this.value,this.value*r.value*.01),this.unit):new n.Dimension(n.operate(t,this.value,r.value),this.unit||r.unit)}}})(e(\"../tree\"))}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"../tree\":7,underscore:undefined}],13:[function(e,t,n){(function(e){e.Element=function(t){this.value=t.trim(),this.value[0]===\"#\"&&(this.type=\"id\",this.clean=this.value.replace(/^#/,\"\")),this.value[0]===\".\"&&(this.type=\"class\",this.clean=this.value.replace(/^\\./,\"\")),this.value.indexOf(\"*\")!==-1&&(this.type=\"wildcard\")},e.Element.prototype.specificity=function(){return[this.type===\"id\"?1:0,this.type===\"class\"?1:0]},e.Element.prototype.toString=function(){return this.value}})(e(\"../tree\"))},{\"../tree\":7}],14:[function(e,t,n){(function(e){e.Expression=function(t){this.value=t},e.Expression.prototype={is:\"expression\",ev:function(t){return this.value.length>1?new e.Expression(this.value.map(function(e){return e.ev(t)})):this.value[0].ev(t)},toString:function(e){return this.value.map(function(t){return t.toString(e)}).join(\" \")}}})(e(\"../tree\"))},{\"../tree\":7}],15:[function(e,t,n){(function(e){e.Field=function(t){this.value=t||\"\"},e.Field.prototype={is:\"field\",toString:function(){return\"[\"+this.value+\"]\"},ev:function(){return this}}})(e(\"../tree\"))},{\"../tree\":7}],16:[function(e,t,n){(function(e){e.Filter=function(t,n,r,i,s){this.key=t,this.op=n,this.val=r,this.index=i,this.filename=s,this.id=this.key+this.op+this.val};var t={\"<\":[\" &lt; \",\"numeric\"],\">\":[\" &gt; \",\"numeric\"],\"=\":[\" = \",\"both\"],\"!=\":[\" != \",\"both\"],\"<=\":[\" &lt;= \",\"numeric\"],\">=\":[\" &gt;= \",\"numeric\"],\"=~\":[\".match(\",\"string\",\")\"]};e.Filter.prototype.ev=function(e){return this.key=this.key.ev(e),this.val=this.val.ev(e),this},e.Filter.prototype.toXML=function(n){e.Reference.data.filter&&(this.key.is===\"keyword\"&&-1===e.Reference.data.filter.value.indexOf(this.key.toString())&&n.error({message:this.key.toString()+\" is not a valid keyword in a filter expression\",index:this.index,filename:this.filename}),this.val.is===\"keyword\"&&-1===e.Reference.data.filter.value.indexOf(this.val.toString())&&n.error({message:this.val.toString()+\" is not a valid keyword in a filter expression\",index:this.index,filename:this.filename}));var r=this.key.toString(!1),i=this.val.toString(this.val.is==\"string\");return(t[this.op][1]==\"numeric\"&&isNaN(i)&&this.val.is!==\"field\"||t[this.op][1]==\"string\"&&i[0]!=\"'\")&&n.error({message:'Cannot use operator \"'+this.op+'\" with value '+this.val,index:this.index,filename:this.filename}),r+t[this.op][0]+i+(t[this.op][2]||\"\")},e.Filter.prototype.toString=function(){return\"[\"+this.id+\"]\"}})(e(\"../tree\"))},{\"../tree\":7}],17:[function(e,t,n){(function(t){var n=e(\"../tree\"),r=t._||e(\"underscore\");n.Filterset=function(){this.filters={}},n.Filterset.prototype.toXML=function(e){var t=[];for(var n in this.filters)t.push(\"(\"+this.filters[n].toXML(e).trim()+\")\");return t.length?\"    <Filter>\"+t.join(\" and \")+\"</Filter>\\n\":\"\"},n.Filterset.prototype.toString=function(){var e=[];for(var t in this.filters)e.push(this.filters[t].id);return e.sort().join(\"\t\")},n.Filterset.prototype.ev=function(e){for(var t in this.filters)this.filters[t].ev(e);return this},n.Filterset.prototype.clone=function(){var e=new n.Filterset;for(var t in this.filters)e.filters[t]=this.filters[t];return e},n.Filterset.prototype.cloneWith=function(e){var t=[];for(var r in e.filters){var i=this.addable(e.filters[r]);if(i===!1)return!1;i===!0&&t.push(e.filters[r])}if(!t.length)return null;var s=new n.Filterset;for(r in this.filters)s.filters[r]=this.filters[r];while(r=t.shift())s.add(r);return s},n.Filterset.prototype.toJS=function(e){var t={\"=\":\"===\"};return r.map(this.filters,function(e){var n=e.op;n in t&&(n=t[n]);var r=e.val;e._val!==undefined&&(r=e._val.toString(!0));var i=\"data\";return i+\".\"+e.key.value+\" \"+n+\" \"+(r.is===\"string\"?\"'\"+r+\"'\":r)}).join(\" && \")},n.Filterset.prototype.addable=function(e){var t=e.key.toString(),n=e.val.toString();n.match(/^[0-9]+(\\.[0-9]*)?$/)&&(n=parseFloat(n));switch(e.op){case\"=\":if(this.filters[t+\"=\"]!==undefined)return this.filters[t+\"=\"].val.toString()!=n?!1:null;if(this.filters[t+\"!=\"+n]!==undefined)return!1;if(this.filters[t+\">\"]!==undefined&&this.filters[t+\">\"].val>=n)return!1;if(this.filters[t+\"<\"]!==undefined&&this.filters[t+\"<\"].val<=n)return!1;if(this.filters[t+\">=\"]!==undefined&&this.filters[t+\">=\"].val>n)return!1;if(this.filters[t+\"<=\"]!==undefined&&this.filters[t+\"<=\"].val<n)return!1;return!0;case\"=~\":return!0;case\"!=\":if(this.filters[t+\"=\"]!==undefined)return this.filters[t+\"=\"].val==n?!1:null;if(this.filters[t+\"!=\"+n]!==undefined)return null;if(this.filters[t+\">\"]!==undefined&&this.filters[t+\">\"].val>=n)return null;if(this.filters[t+\"<\"]!==undefined&&this.filters[t+\"<\"].val<=n)return null;if(this.filters[t+\">=\"]!==undefined&&this.filters[t+\">=\"].val>n)return null;if(this.filters[t+\"<=\"]!==undefined&&this.filters[t+\"<=\"].val<n)return null;return!0;case\">\":if(t+\"=\"in this.filters)return this.filters[t+\"=\"].val<=n?!1:null;if(this.filters[t+\"<\"]!==undefined&&this.filters[t+\"<\"].val<=n)return!1;if(this.filters[t+\"<=\"]!==undefined&&this.filters[t+\"<=\"].val<=n)return!1;if(this.filters[t+\">\"]!==undefined&&this.filters[t+\">\"].val>=n)return null;if(this.filters[t+\">=\"]!==undefined&&this.filters[t+\">=\"].val>n)return null;return!0;case\">=\":if(this.filters[t+\"=\"]!==undefined)return this.filters[t+\"=\"].val<n?!1:null;if(this.filters[t+\"<\"]!==undefined&&this.filters[t+\"<\"].val<=n)return!1;if(this.filters[t+\"<=\"]!==undefined&&this.filters[t+\"<=\"].val<n)return!1;if(this.filters[t+\">\"]!==undefined&&this.filters[t+\">\"].val>=n)return null;if(this.filters[t+\">=\"]!==undefined&&this.filters[t+\">=\"].val>=n)return null;return!0;case\"<\":if(this.filters[t+\"=\"]!==undefined)return this.filters[t+\"=\"].val>=n?!1:null;if(this.filters[t+\">\"]!==undefined&&this.filters[t+\">\"].val>=n)return!1;if(this.filters[t+\">=\"]!==undefined&&this.filters[t+\">=\"].val>=n)return!1;if(this.filters[t+\"<\"]!==undefined&&this.filters[t+\"<\"].val<=n)return null;if(this.filters[t+\"<=\"]!==undefined&&this.filters[t+\"<=\"].val<n)return null;return!0;case\"<=\":if(this.filters[t+\"=\"]!==undefined)return this.filters[t+\"=\"].val>n?!1:null;if(this.filters[t+\">\"]!==undefined&&this.filters[t+\">\"].val>=n)return!1;if(this.filters[t+\">=\"]!==undefined&&this.filters[t+\">=\"].val>n)return!1;if(this.filters[t+\"<\"]!==undefined&&this.filters[t+\"<\"].val<=n)return null;if(this.filters[t+\"<=\"]!==undefined&&this.filters[t+\"<=\"].val<=n)return null;return!0}},n.Filterset.prototype.conflict=function(e){var t=e.key.toString(),n=e.val.toString();return isNaN(parseFloat(n))||(n=parseFloat(n)),e.op===\"=\"&&this.filters[t+\"=\"]!==undefined&&n!=this.filters[t+\"=\"].val.toString()||e.op===\"!=\"&&this.filters[t+\"=\"]!==undefined&&n==this.filters[t+\"=\"].val.toString()||e.op===\"=\"&&this.filters[t+\"!=\"]!==undefined&&n==this.filters[t+\"!=\"].val.toString()?e.toString()+\" added to \"+this.toString()+\" produces an invalid filter\":!1},n.Filterset.prototype.add=function(e,t){var n=e.key.toString(),r,i=e.op,s=this.conflict(e),o;if(s)return s;if(i===\"=\"){for(var u in this.filters)this.filters[u].key==n&&delete this.filters[u];this.filters[n+\"=\"]=e}else if(i===\"!=\")this.filters[n+\"!=\"+e.val]=e;else if(i===\"=~\")this.filters[n+\"=~\"+e.val]=e;else if(i===\">\"){for(var a in this.filters)this.filters[a].key==n&&this.filters[a].val<=e.val&&delete this.filters[a];this.filters[n+\">\"]=e}else if(i===\">=\"){for(var f in this.filters)o=+this.filters[f].val.toString(),this.filters[f].key==n&&o<e.val&&delete this.filters[f];this.filters[n+\"!=\"+e.val]!==undefined?(delete this.filters[n+\"!=\"+e.val],e.op=\">\",this.filters[n+\">\"]=e):this.filters[n+\">=\"]=e}else if(i===\"<\"){for(var l in this.filters)o=+this.filters[l].val.toString(),this.filters[l].key==n&&o>=e.val&&delete this.filters[l];this.filters[n+\"<\"]=e}else if(i===\"<=\"){for(var c in this.filters)o=+this.filters[c].val.toString(),this.filters[c].key==n&&o>e.val&&delete this.filters[c];this.filters[n+\"!=\"+e.val]!==undefined?(delete this.filters[n+\"!=\"+e.val],e.op=\"<\",this.filters[n+\"<\"]=e):this.filters[n+\"<=\"]=e}}}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"../tree\":7,underscore:undefined}],18:[function(e,t,n){(function(e){e._getFontSet=function(t,n){var r=n.join(\"\");if(t._fontMap&&t._fontMap[r])return t._fontMap[r];var i=new e.FontSet(t,n);return t.effects.push(i),t._fontMap||(t._fontMap={}),t._fontMap[r]=i,i},e.FontSet=function(t,n){this.fonts=n,this.name=\"fontset-\"+t.effects.length},e.FontSet.prototype.toXML=function(e){return'<FontSet name=\"'+this.name+'\">\\n'+this.fonts.map(function(e){return'  <Font face-name=\"'+e+'\"/>'}).join(\"\\n\")+\"\\n</FontSet>\"}})(e(\"../tree\"))},{\"../tree\":7}],19:[function(e,t,n){var r=e(\"../tree\");r.FrameOffset=function(e,t,n){t=parseInt(t,10);if(t>r.FrameOffset.max||t<=0)throw{message:\"Only frame-offset levels between 1 and \"+r.FrameOffset.max+\" supported.\",index:n};if(e!==\"=\")throw{message:\"only = operator is supported for frame-offset\",index:n};return t},r.FrameOffset.max=32,r.FrameOffset.none=0},{\"../tree\":7}],20:[function(e,t,n){(function(e){e.ImageFilter=function(t,n){this.filter=t,this.args=n||null},e.ImageFilter.prototype={is:\"imagefilter\",ev:function(){return this},toString:function(){return this.args?this.filter+\"(\"+this.args.join(\",\")+\")\":this.filter}}})(e(\"../tree\"))},{\"../tree\":7}],21:[function(e,t,n){(function(e){e.Invalid=function(t,n,r){this.chunk=t,this.index=n,this.type=\"syntax\",this.message=r||\"Invalid code: \"+this.chunk},e.Invalid.prototype.is=\"invalid\",e.Invalid.prototype.ev=function(e){return e.error({chunk:this.chunk,index:this.index,type:\"syntax\",message:this.message||\"Invalid code: \"+this.chunk}),{is:\"undefined\"}}})(e(\"../tree\"))},{\"../tree\":7}],22:[function(e,t,n){(function(e){e.Keyword=function(t){this.value=t;var n={transparent:\"color\",\"true\":\"boolean\",\"false\":\"boolean\"};this.is=n[t]?n[t]:\"keyword\"},e.Keyword.prototype={ev:function(){return this},toString:function(){return this.value}}})(e(\"../tree\"))},{\"../tree\":7}],23:[function(e,t,n){(function(e){e.LayerXML=function(t,n){var r=[];for(var i in t.Datasource)r.push('<Parameter name=\"'+i+'\"><![CDATA['+t.Datasource[i]+\"]]></Parameter>\");var s=\"\";for(var o in t.properties)o===\"minzoom\"?s+='  maxzoom=\"'+e.Zoom.ranges[t.properties[o]]+'\"\\n':o===\"maxzoom\"?s+='  minzoom=\"'+e.Zoom.ranges[t.properties[o]+1]+'\"\\n':s+=\"  \"+o+'=\"'+t.properties[o]+'\"\\n';return'<Layer name=\"'+t.name+'\"\\n'+s+(typeof t.status==\"undefined\"?\"\":'  status=\"'+t.status+'\"\\n')+(typeof t.srs==\"undefined\"?\"\":'  srs=\"'+t.srs+'\"')+\">\\n    \"+n.reverse().map(function(e){return\"<StyleName>\"+e+\"</StyleName>\"}).join(\"\\n    \")+(r.length?\"\\n    <Datasource>\\n       \"+r.join(\"\\n       \")+\"\\n    </Datasource>\\n\":\"\")+\"  </Layer>\\n\"}})(e(\"../tree\"))},{\"../tree\":7}],24:[function(e,t,n){(function(e){e.Literal=function(t){this.value=t||\"\",this.is=\"field\"},e.Literal.prototype={toString:function(){return this.value},ev:function(){return this}}})(e(\"../tree\"))},{\"../tree\":7}],25:[function(e,t,n){(function(e){e.Operation=function(t,n,r){this.op=t.trim(),this.operands=n,this.index=r},e.Operation.prototype.is=\"operation\",e.Operation.prototype.ev=function(t){var n=this.operands[0].ev(t),r=this.operands[1].ev(t),i;return n.is===\"undefined\"||r.is===\"undefined\"?{is:\"undefined\",value:\"undefined\"}:(n instanceof e.Dimension&&r instanceof e.Color&&(this.op===\"*\"||this.op===\"+\"?(i=r,r=n,n=i):t.error({name:\"OperationError\",message:\"Can't substract or divide a color from a number\",index:this.index})),n instanceof e.Quoted&&r instanceof e.Quoted&&this.op!==\"+\"?(t.error({message:\"Can't subtract, divide, or multiply strings.\",index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"}):n instanceof e.Field||r instanceof e.Field||n instanceof e.Literal||r instanceof e.Literal?n.is===\"color\"||r.is===\"color\"?(t.error({message:\"Can't subtract, divide, or multiply colors in expressions.\",index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"}):new e.Literal(n.ev(t).toString(!0)+this.op+r.ev(t).toString(!0)):n.operate===undefined?(t.error({message:\"Cannot do math with type \"+n.is+\".\",index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"}):n.operate(t,this.op,r))},e.operate=function(e,t,n){switch(e){case\"+\":return t+n;case\"-\":return t-n;case\"*\":return t*n;case\"%\":return t%n;case\"/\":return t/n}}})(e(\"../tree\"))},{\"../tree\":7}],26:[function(e,t,n){(function(e){e.Quoted=function(t){this.value=t||\"\"},e.Quoted.prototype={is:\"string\",toString:function(e){var t=this.value.replace(/&/g,\"&amp;\"),n=t.replace(/\\'/g,\"\\\\'\").replace(/\\\"/g,\"&quot;\").replace(/</g,\"&lt;\").replace(/\\>/g,\"&gt;\");return e===!0?\"'\"+n+\"'\":t},ev:function(){return this},operate:function(t,n,r){return new e.Quoted(e.operate(n,this.toString(),r.toString(this.contains_field)))}}})(e(\"../tree\"))},{\"../tree\":7}],27:[function(e,t,n){(function(t){(function(n){function s(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])e.symbolizers[n][r].hasOwnProperty(\"css\")&&(t[e.symbolizers[n][r].css]=[e.symbolizers[n][r],n,r]);return t}function o(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])if(e.symbolizers[n][r].type===\"functions\")for(var i=0;i<e.symbolizers[n][r].functions.length;i++){var s=e.symbolizers[n][r].functions[i];t[s[0]]=s[1]}return t}function u(e){var t={};for(var n in e.symbolizers){t[n]=[];for(var r in e.symbolizers[n])e.symbolizers[n][r].required&&t[n].push(e.symbolizers[n][r].css)}return t}function a(e,t){if(e.value[0].is===\"string\")return!0;for(var n in e.value)for(var s in e.value[n].value){if(e.value[n].value[s].is!==\"call\")return!1;var o=r.find(i.selector(t).functions,function(t){return t[0]==e.value[n].value[s].name});if(!o||o[1]!=-1)if(!o||o[1]!==e.value[n].value[s].args.length)return!1}return!0}function f(e,t){return typeof i.selector(t).type==\"object\"?i.selector(t).type.indexOf(e.value[0].value)!==-1:i.selector(t).type===\"string\"}var r=t._||e(\"underscore\"),i={};i.setData=function(e){i.data=e,i.selector_cache=s(e),i.mapnikFunctions=o(e),i.mapnikFunctions.matrix=[6],i.mapnikFunctions.translate=[1,2],i.mapnikFunctions.scale=[1,2],i.mapnikFunctions.rotate=[1,3],i.mapnikFunctions.skewX=[1],i.mapnikFunctions.skewY=[1],i.required_cache=u(e)},i.setVersion=function(t){var n=e(\"mapnik-reference\");return n.version.hasOwnProperty(t)?(i.setData(n.version[t]),!0):!1},i.selectorData=function(e,t){if(i.selector_cache[e])return i.selector_cache[e][t]},i.validSelector=function(e){return!!i.selector_cache[e]},i.selectorName=function(e){return i.selectorData(e,2)},i.selector=function(e){return i.selectorData(e,0)},i.symbolizer=function(e){return i.selectorData(e,1)},i.requiredProperties=function(e,t){var n=i.required_cache[e];for(var r in n)if(!(n[r]in t))return\"Property \"+n[r]+\" required for defining \"+e+\" styles.\"},i._validateValue={font:function(e,t){return e.validation_data&&e.validation_data.fonts?e.validation_data.fonts.indexOf(t)!=-1:!0}},i.isFont=function(e){return i.selector(e).validate==\"font\"},i.editDistance=function(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;var n=[];for(var r=0;r<=t.length;r++)n[r]=[r];for(var i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)==e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]},i.validValue=function(e,t,n){var r,s;if(!i.selector(t))return!1;if(n.value[0].is==\"keyword\")return f(n,t);if(n.value[0].is==\"undefined\")return!0;if(i.selector(t).type==\"numbers\"){for(r in n.value)if(n.value[r].is!==\"float\")return!1;return!0}if(i.selector(t).type==\"tags\"){if(!n.value)return!1;if(!n.value[0].value)return n.value[0].is===\"tag\";for(r=0;r<n.value[0].value.length;r++)if(n.value[0].value[r].is!==\"tag\")return!1;return!0}if(i.selector(t).type==\"functions\")return a(n,t);if(i.selector(t).type===\"unsigned\")return n.value[0].is===\"float\"?(n.value[0].round(),!0):!1;if(i.selector(t).expression)return!0;if(i.selector(t).validate){var o=!1;for(r=0;r<n.value.length;r++)if(i.selector(t).type==n.value[r].is&&i._validateValue[i.selector(t).validate](e,n.value[r].value))return!0;return o}return i.selector(t).type==n.value[0].is},n.Reference=i})(e(\"../tree\"))}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"../tree\":7,\"mapnik-reference\":43,underscore:undefined}],28:[function(e,t,n){(function(e){function t(t){return Object.keys(e.Reference.selector_cache).map(function(n){return[n,e.Reference.editDistance(t,n)]}).sort(function(e,t){return e[1]-t[1]})}e.Rule=function(n,r,i,s){var o=n.split(\"/\");this.name=o.pop(),this.instance=o.length?o[0]:\"__default__\",this.value=r instanceof e.Value?r:new e.Value([r]),this.index=i,this.symbolizer=e.Reference.symbolizer(this.name),this.filename=s,this.variable=n.charAt(0)===\"@\"},e.Rule.prototype.is=\"rule\",e.Rule.prototype.clone=function(){var t=Object.create(e.Rule.prototype);return t.name=this.name,t.value=this.value,t.index=this.index,t.instance=this.instance,t.symbolizer=this.symbolizer,t.filename=this.filename,t.variable=this.variable,t},e.Rule.prototype.updateID=function(){return this.id=this.zoom+\"#\"+this.instance+\"#\"+this.name},e.Rule.prototype.toString=function(){return\"[\"+e.Zoom.toString(this.zoom)+\"] \"+this.name+\": \"+this.value},e.Rule.prototype\n.toXML=function(n,r,i,s){if(!e.Reference.validSelector(this.name)){var o=t(this.name),u=\"\";return o[0][1]<3&&(u=\". Did you mean \"+o[0][0]+\"?\"),n.error({message:\"Unrecognized rule: \"+this.name+u,index:this.index,type:\"syntax\",filename:this.filename})}if(this.value instanceof e.Value&&!e.Reference.validValue(n,this.name,this.value)){if(!e.Reference.selector(this.name))return n.error({message:\"Unrecognized property: \"+this.name,index:this.index,type:\"syntax\",filename:this.filename});var a;return e.Reference.selector(this.name).validate?a=e.Reference.selector(this.name).validate:typeof e.Reference.selector(this.name).type==\"object\"?a=\"keyword (options: \"+e.Reference.selector(this.name).type.join(\", \")+\")\":a=e.Reference.selector(this.name).type,n.error({message:\"Invalid value for \"+this.name+\", the type \"+a+\" is expected. \"+this.value+\" (of type \"+this.value.value[0].is+\") \"+\" was given.\",index:this.index,type:\"syntax\",filename:this.filename})}if(this.variable)return\"\";if(e.Reference.isFont(this.name)&&this.value.value.length>1){var f=e._getFontSet(n,this.value.value);return'fontset-name=\"'+f.name+'\"'}return r?this.value.toString(n,this.name,i):e.Reference.selectorName(this.name)+'=\"'+this.value.toString(n,this.name)+'\"'},e.Rule.prototype.ev=function(t){return new e.Rule(this.name,this.value.ev(t),this.index,this.filename)}})(e(\"../tree\"))},{\"../tree\":7}],29:[function(e,t,n){(function(e){e.Ruleset=function(t,n){this.selectors=t,this.rules=n,this._lookups={}},e.Ruleset.prototype={is:\"ruleset\",ev:function(t){var n,r=new e.Ruleset(this.selectors,this.rules.slice(0));r.root=this.root,t.frames.unshift(r);for(n=0,rule;n<r.rules.length;n++)rule=r.rules[n],r.rules[n]=rule.ev?rule.ev(t):rule;return t.frames.shift(),r},match:function(e){return!e||e.length===0},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(t,n){return n instanceof e.Rule&&n.variable===!0&&(t[n.name]=n),t},{})},variable:function(e){return this.variables()[e]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(t){return t instanceof e.Ruleset})},find:function(t,n){n=n||this;var r=[],i,s,o=t.toString();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach(function(i){if(i!==n)for(var o=0;o<i.selectors.length;o++){s=t.match(i.selectors[o]);if(s){t.elements.length>1?Array.prototype.push.apply(r,i.find(new e.Selector(null,null,null,t.elements.slice(1)),n)):r.push(i);break}}}),this._lookups[o]=r)},evZooms:function(t){for(var n=0;n<this.selectors.length;n++){var r=e.Zoom.all;for(var i=0;i<this.selectors[n].zoom.length;i++)r&=this.selectors[n].zoom[i].ev(t).zoom;this.selectors[n].zoom=r}},flatten:function(t,n,r){var i=[],s,o;this.selectors.length===0&&(r.frames=r.frames.concat(this.rules)),this.evZooms(r);for(s=0;s<this.selectors.length;s++){var u=this.selectors[s];if(!u.filters)continue;if(n.length)for(o=0;o<n.length;o++){var a=n[o],f=a.filters.cloneWith(u.filters);if(f===null){if(a.zoom===(a.zoom&u.zoom)&&a.frame_offset===u.frame_offset&&a.attachment===u.attachment&&a.elements.join()===u.elements.join()){i.push(a);continue}f=a.filters}else if(!f)continue;var l=Object.create(e.Selector.prototype);l.filters=f,l.zoom=a.zoom&u.zoom,l.frame_offset=u.frame_offset,l.elements=a.elements.concat(u.elements),a.attachment&&u.attachment?l.attachment=a.attachment+\"/\"+u.attachment:l.attachment=u.attachment||a.attachment,l.conditions=a.conditions+u.conditions,l.index=u.index,i.push(l)}else i.push(u)}var c=[];for(s=0;s<this.rules.length;s++){var h=this.rules[s];h instanceof e.Ruleset?h.flatten(t,i,r):h instanceof e.Rule?c.push(h):h instanceof e.Invalid&&r.error(h)}var p=c.length?c[0].index:!1;for(s=0;s<i.length;s++)p!==!1&&(i[s].index=p),t.push(new e.Definition(i[s],c.slice()));return t}}})(e(\"../tree\"))},{\"../tree\":7}],30:[function(e,t,n){(function(e){e.Selector=function(n,r,i,s,o,u,a){this.elements=s||[],this.attachment=o,this.filters=n||{},this.frame_offset=i,this.zoom=typeof r!=\"undefined\"?r:e.Zoom.all,this.conditions=u,this.index=a},e.Selector.prototype.specificity=function(){return this.elements.reduce(function(e,t){var n=t.specificity();return e[0]+=n[0],e[1]+=n[1],e},[0,0,this.conditions,this.index])}})(e(\"../tree\"))},{\"../tree\":7}],31:[function(e,t,n){(function(t){(function(n){var r=t._||e(\"underscore\");n.StyleXML=function(e,t,n,i){var s={},o=[],u=[],a=[],f=[],l=[];for(var c=0;c<n.length;c++)for(var h=0;h<n[c].rules.length;h++)n[c].rules[h].name===\"image-filters\"&&o.push(n[c].rules[h]),n[c].rules[h].name===\"image-filters-inflate\"&&u.push(n[c].rules[h]),n[c].rules[h].name===\"direct-image-filters\"&&a.push(n[c].rules[h]),n[c].rules[h].name===\"comp-op\"&&f.push(n[c].rules[h]),n[c].rules[h].name===\"opacity\"&&l.push(n[c].rules[h]);var p=n.map(function(e){return e.toXML(i,s)}),d=\"\";o.length&&(d+=' image-filters=\"'+r.chain(o).uniq(function(e){return e.id}).map(function(e){return e.ev(i).toXML(i,!0,\",\",\"image-filter\")}).value().join(\",\")+'\"'),u.length&&(d+=' image-filters-inflate=\"'+u[0].value.ev(i).toString()+'\"'),a.length&&(d+=' direct-image-filters=\"'+r.chain(a).uniq(function(e){return e.id}).map(function(e){return e.ev(i).toXML(i,!0,\",\",\"direct-image-filter\")}).value().join(\",\")+'\"'),f.length&&f[0].value.ev(i).value!=\"src-over\"&&(d+=' comp-op=\"'+f[0].value.ev(i).toString()+'\"'),l.length&&l[0].value.ev(i).value!=1&&(d+=' opacity=\"'+l[0].value.ev(i).toString()+'\"');var v=p.join(\"\");return!d&&!v?\"\":'<Style name=\"'+e+'\" filter-mode=\"first\"'+d+\">\\n\"+v+\"</Style>\"}})(e(\"../tree\"))}).call(this,typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"../tree\":7,underscore:undefined}],32:[function(e,t,n){(function(e){e.URL=function(t,n){this.value=t,this.paths=n},e.URL.prototype={is:\"uri\",toString:function(){return this.value.toString()},ev:function(t){return new e.URL(this.value.ev(t),this.paths)}}})(e(\"../tree\"))},{\"../tree\":7}],33:[function(e,t,n){(function(e){e.Value=function(t){this.value=t},e.Value.prototype={is:\"value\",ev:function(t){return this.value.length===1?this.value[0].ev(t):new e.Value(this.value.map(function(e){return e.ev(t)}))},toString:function(e,t,n,r){return this.value.map(function(t){return t.toString(e,r)}).join(n||\", \")},clone:function(){var t=Object.create(e.Value.prototype);return Array.isArray(t)?t.value=this.value.slice():t.value=this.value,t.is=this.is,t},toJS:function(e){var t=this.ev(e),n=t.toString();return t.is===\"color\"||t.is===\"uri\"||t.is===\"string\"||t.is===\"keyword\"?n=\"'\"+n+\"'\":t.is===\"field\"?n=n.replace(/\\[(.*)\\]/g,\"data['$1']\"):t.is===\"call\"&&(n=JSON.stringify({name:t.name,args:t.args})),\"_value = \"+n+\";\"}}})(e(\"../tree\"))},{\"../tree\":7}],34:[function(e,t,n){(function(e){e.Variable=function(t,n,r){this.name=t,this.index=n,this.filename=r},e.Variable.prototype={is:\"variable\",toString:function(){return this.name},ev:function(e){var t,n,r=this.name;if(this._css)return this._css;var i=e.frames.filter(function(e){return e.name==this.name}.bind(this));return i.length?i[0].value.ev(e):(e.error({message:\"variable \"+this.name+\" is undefined\",index:this.index,type:\"runtime\",filename:this.filename}),{is:\"undefined\",value:\"undefined\"})}}})(e(\"../tree\"))},{\"../tree\":7}],35:[function(e,t,n){var r=e(\"../tree\");r.Zoom=function(e,t,n){this.op=e,this.value=t,this.index=n},r.Zoom.prototype.setZoom=function(e){return this.zoom=e,this},r.Zoom.prototype.ev=function(e){var t=0,n=Infinity,i=parseInt(this.value.ev(e).toString(),10),s=0;(i>r.Zoom.maxZoom||i<0)&&e.error({message:\"Only zoom levels between 0 and \"+r.Zoom.maxZoom+\" supported.\",index:this.index});switch(this.op){case\"=\":return this.zoom=1<<i,this;case\">\":t=i+1;break;case\">=\":t=i;break;case\"<\":n=i-1;break;case\"<=\":n=i}for(var o=0;o<=r.Zoom.maxZoom;o++)o>=t&&o<=n&&(s|=1<<o);return this.zoom=s,this},r.Zoom.prototype.toString=function(){return this.zoom},r.Zoom.all=8388607,r.Zoom.maxZoom=22,r.Zoom.ranges={0:1e9,1:5e8,2:2e8,3:1e8,4:5e7,5:25e6,6:125e5,7:65e5,8:3e6,9:15e5,10:75e4,11:4e5,12:2e5,13:1e5,14:5e4,15:25e3,16:12500,17:5e3,18:2500,19:1500,20:750,21:500,22:250,23:100},r.Zoom.prototype.toXML=function(){var e=[];if(this.zoom!=r.Zoom.all){var t=null,n=null;for(var i=0;i<=r.Zoom.maxZoom;i++)this.zoom&1<<i&&(t===null&&(t=i),n=i);t>0&&e.push(\"    <MaxScaleDenominator>\"+r.Zoom.ranges[t]+\"</MaxScaleDenominator>\\n\"),n<22&&e.push(\"    <MinScaleDenominator>\"+r.Zoom.ranges[n+1]+\"</MinScaleDenominator>\\n\")}return e},r.Zoom.prototype.toString=function(){var e=\"\";for(var t=0;t<=r.Zoom.maxZoom;t++)e+=this.zoom&1<<t?\"X\":\".\";return e}},{\"../tree\":7}],36:[function(e,t,n){},{}],37:[function(e,t,n){function u(e,t){return r.isUndefined(t)?\"\"+t:r.isNumber(t)&&(isNaN(t)||!isFinite(t))?t.toString():r.isFunction(t)||r.isRegExp(t)?t.toString():t}function a(e,t){return r.isString(e)?e.length<t?e:e.slice(0,t):e}function f(e){return a(JSON.stringify(e.actual,u),128)+\" \"+e.operator+\" \"+a(JSON.stringify(e.expected,u),128)}function l(e,t,n,r,i){throw new o.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function c(e,t){e||l(e,!0,t,\"==\",o.ok)}function h(e,t){if(e===t)return!0;if(r.isBuffer(e)&&r.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return r.isDate(e)&&r.isDate(t)?e.getTime()===t.getTime():r.isRegExp(e)&&r.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:!r.isObject(e)&&!r.isObject(t)?e==t:d(e,t)}function p(e){return Object.prototype.toString.call(e)==\"[object Arguments]\"}function d(e,t){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(p(e))return p(t)?(e=i.call(e),t=i.call(t),h(e,t)):!1;try{var n=g(e),s=g(t),o,u}catch(a){return!1}if(n.length!=s.length)return!1;n.sort(),s.sort();for(u=n.length-1;u>=0;u--)if(n[u]!=s[u])return!1;for(u=n.length-1;u>=0;u--){o=n[u];if(!h(e[o],t[o]))return!1}return!0}function v(e,t){return!e||!t?!1:Object.prototype.toString.call(t)==\"[object RegExp]\"?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1}function m(e,t,n,i){var s;r.isString(n)&&(i=n,n=null);try{t()}catch(o){s=o}i=(n&&n.name?\" (\"+n.name+\").\":\".\")+(i?\" \"+i:\".\"),e&&!s&&l(s,n,\"Missing expected exception\"+i),!e&&v(s,n)&&l(s,n,\"Got unwanted exception\"+i);if(e&&s&&n&&!v(s,n)||!e&&s)throw s}var r=e(\"util/\"),i=Array.prototype.slice,s=Object.prototype.hasOwnProperty,o=t.exports=c;o.AssertionError=function(t){this.name=\"AssertionError\",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var n=t.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,s=n.name,o=i.indexOf(\"\\n\"+s);if(o>=0){var u=i.indexOf(\"\\n\",o+1);i=i.substring(u+1)}this.stack=i}}},r.inherits(o.AssertionError,Error),o.fail=l,o.ok=c,o.equal=function(t,n,r){t!=n&&l(t,n,r,\"==\",o.equal)},o.notEqual=function(t,n,r){t==n&&l(t,n,r,\"!=\",o.notEqual)},o.deepEqual=function(t,n,r){h(t,n)||l(t,n,r,\"deepEqual\",o.deepEqual)},o.notDeepEqual=function(t,n,r){h(t,n)&&l(t,n,r,\"notDeepEqual\",o.notDeepEqual)},o.strictEqual=function(t,n,r){t!==n&&l(t,n,r,\"===\",o.strictEqual)},o.notStrictEqual=function(t,n,r){t===n&&l(t,n,r,\"!==\",o.notStrictEqual)},o.throws=function(e,t,n){m.apply(this,[!0].concat(i.call(arguments)))},o.doesNotThrow=function(e,t){m.apply(this,[!1].concat(i.call(arguments)))},o.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}},{\"util/\":42}],38:[function(e,t,n){typeof Object.create==\"function\"?t.exports=function(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],39:[function(e,t,n){(function(e){function t(e,t){var n=0;for(var r=e.length-1;r>=0;r--){var i=e[r];i===\".\"?e.splice(r,1):i===\"..\"?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift(\"..\");return e}function s(e,t){if(e.filter)return e.filter(t);var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var r=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/,i=function(e){return r.exec(e).slice(1)};n.resolve=function(){var n=\"\",r=!1;for(var i=arguments.length-1;i>=-1&&!r;i--){var o=i>=0?arguments[i]:e.cwd();if(typeof o!=\"string\")throw new TypeError(\"Arguments to path.resolve must be strings\");if(!o)continue;n=o+\"/\"+n,r=o.charAt(0)===\"/\"}return n=t(s(n.split(\"/\"),function(e){return!!e}),!r).join(\"/\"),(r?\"/\":\"\")+n||\".\"},n.normalize=function(e){var r=n.isAbsolute(e),i=o(e,-1)===\"/\";return e=t(s(e.split(\"/\"),function(e){return!!e}),!r).join(\"/\"),!e&&!r&&(e=\".\"),e&&i&&(e+=\"/\"),(r?\"/\":\"\")+e},n.isAbsolute=function(e){return e.charAt(0)===\"/\"},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(s(e,function(e,t){if(typeof e!=\"string\")throw new TypeError(\"Arguments to path.join must be strings\");return e}).join(\"/\"))},n.relative=function(e,t){function r(e){var t=0;for(;t<e.length;t++)if(e[t]!==\"\")break;var n=e.length-1;for(;n>=0;n--)if(e[n]!==\"\")break;return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);var i=r(e.split(\"/\")),s=r(t.split(\"/\")),o=Math.min(i.length,s.length),u=o;for(var a=0;a<o;a++)if(i[a]!==s[a]){u=a;break}var f=[];for(var a=u;a<i.length;a++)f.push(\"..\");return f=f.concat(s.slice(u)),f.join(\"/\")},n.sep=\"/\",n.delimiter=\":\",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return!n&&!r?\".\":(r&&(r=r.substr(0,r.length-1)),n+r)},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var o=\"ab\".substr(-1)===\"b\"?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e(\"_process\"))},{_process:40}],40:[function(e,t,n){function i(){}var r=t.exports={};r.nextTick=function(){var e=typeof window!=\"undefined\"&&window.setImmediate,t=typeof window!=\"undefined\"&&window.MutationObserver,n=typeof window!=\"undefined\"&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var r=[];if(t){var i=document.createElement(\"div\"),s=new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})});return s.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute(\"yes\",\"no\"),r.push(t)}}return n?(window.addEventListener(\"message\",function(e){var t=e.source;if((t===window||t===null)&&e.data===\"process-tick\"){e.stopPropagation();if(r.length>0){var n=r.shift();n()}}},!0),function(t){r.push(t),window.postMessage(\"process-tick\",\"*\")}):function(t){setTimeout(t,0)}}(),r.title=\"browser\",r.browser=!0,r.env={},r.argv=[],r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(e){throw new Error(\"process.binding is not supported\")},r.cwd=function(){return\"/\"},r.chdir=function(e){throw new Error(\"process.chdir is not supported\")}},{}],41:[function(e,t,n){t.exports=function(t){return t&&typeof t==\"object\"&&typeof t.copy==\"function\"&&typeof t.fill==\"function\"&&typeof t.readUInt8==\"function\"}},{}],42:[function(e,t,n){(function(t,r){function u(e,t){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&n._extend(r,t),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,e,r.depth)}function a(e,t){var n=u.styles[t];return n?\"\u001b[\"+u.colors[n][0]+\"m\"+e+\"\u001b[\"+u.colors[n][1]+\"m\":e}function f(e,t){return e}function l(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,t,r){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return S(i)||(i=c(e,i,r)),i}var s=h(e,t);if(s)return s;var o=Object.keys(t),u=l(o);e.showHidden&&(o=Object.getOwnPropertyNames(t));if(L(t)&&(o.indexOf(\"message\")>=0||o.indexOf(\"description\")>=0))return p(t);if(o.length===0){if(A(t)){var a=t.name?\": \"+t.name:\"\";return e.stylize(\"[Function\"+a+\"]\",\"special\")}if(N(t))return e.stylize(RegExp.prototype.toString.call(t),\"regexp\");if(k(t))return e.stylize(Date.prototype.toString.call(t),\"date\");if(L(t))return p(t)}var f=\"\",y=!1,b=[\"{\",\"}\"];g(t)&&(y=!0,b=[\"[\",\"]\"]);if(A(t)){var w=t.name?\": \"+t.name:\"\";f=\" [Function\"+w+\"]\"}N(t)&&(f=\" \"+RegExp.prototype.toString.call(t)),k(t)&&(f=\" \"+Date.prototype.toUTCString.call(t)),L(t)&&(f=\" \"+p(t));if(o.length!==0||!!y&&t.length!=0){if(r<0)return N(t)?e.stylize(RegExp.prototype.toString.call(t),\"regexp\"):e.stylize(\"[Object]\",\"special\");e.seen.push(t);var E;return y?E=d(e,t,r,u,o):E=o.map(function(n){return v(e,t,r,u,n,y)}),e.seen.pop(),m(E,f,b)}return b[0]+f+b[1]}function h(e,t){if(T(t))return e.stylize(\"undefined\",\"undefined\");if(S(t)){var n=\"'\"+JSON.stringify(t).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return e.stylize(n,\"string\")}if(E(t))return e.stylize(\"\"+t,\"number\");if(y(t))return e.stylize(\"\"+t,\"boolean\");if(b(t))return e.stylize(\"null\",\"null\")}function p(e){return\"[\"+Error.prototype.toString.call(e)+\"]\"}function d(e,t,n,r,i){var s=[];for(var o=0,u=t.length;o<u;++o)H(t,String(o))?s.push(v(e,t,n,r,String(o),!0)):s.push(\"\");return i.forEach(function(i){i.match(/^\\d+$/)||s.push(v(e,t,n,r,i,!0))}),s}function v(e,t,n,r,i,s){var o,u,a;a=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},a.get?a.set?u=e.stylize(\"[Getter/Setter]\",\"special\"):u=e.stylize(\"[Getter]\",\"special\"):a.set&&(u=e.stylize(\"[Setter]\",\"special\")),H(r,i)||(o=\"[\"+i+\"]\"),u||(e.seen.indexOf(a.value)<0?(b(n)?u=c(e,a.value,null):u=c(e,a.value,n-1),u.indexOf(\"\\n\")>-1&&(s?u=u.split(\"\\n\").map(function(e){return\"  \"+e}).join(\"\\n\").substr(2):u=\"\\n\"+u.split(\"\\n\").map(function(e){return\"   \"+e}).join(\"\\n\"))):u=e.stylize(\"[Circular]\",\"special\"));if(T(o)){if(s&&i.match(/^\\d+$/))return u;o=JSON.stringify(\"\"+i),o.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,\"name\")):(o=o.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),o=e.stylize(o,\"string\"))}return o+\": \"+u}function m(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf(\"\\n\")>=0&&r++,e+t.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1},0);return i>60?n[0]+(t===\"\"?\"\":t+\"\\n \")+\" \"+e.join(\",\\n  \")+\" \"+n[1]:n[0]+t+\" \"+e.join(\", \")+\" \"+n[1]}function g(e){return Array.isArray(e)}function y(e){return typeof e==\"boolean\"}function b(e){return e===null}function w(e){return e==null}function E(e){return typeof e==\"number\"}function S(e){return typeof e==\"string\"}function x(e){return typeof e==\"symbol\"}function T(e){return e===void 0}function N(e){return C(e)&&M(e)===\"[object RegExp]\"}function C(e){return typeof e==\"object\"&&e!==null}function k(e){return C(e)&&M(e)===\"[object Date]\"}function L(e){return C(e)&&(M(e)===\"[object Error]\"||e instanceof Error)}function A(e){return typeof e==\"function\"}function O(e){return e===null||typeof e==\"boolean\"||typeof e==\"number\"||typeof e==\"string\"||typeof e==\"symbol\"||typeof e==\"undefined\"}function M(e){return Object.prototype.toString.call(e)}function _(e){return e<10?\"0\"+e.toString(10):e.toString(10)}function P(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(\":\");return[e.getDate(),D[e.getMonth()],t].join(\" \")}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i=/%[sdj%]/g;n.format=function(e){if(!S(e)){var t=[];for(var n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(\" \")}var n=1,r=arguments,s=r.length,o=String(e).replace(i,function(e){if(e===\"%%\")return\"%\";if(n>=s)return e;switch(e){case\"%s\":return String(r[n++]);case\"%d\":return Number(r[n++]);case\"%j\":try{return JSON.stringify(r[n++])}catch(t){return\"[Circular]\"};default:return e}});for(var a=r[n];n<s;a=r[++n])b(a)||!C(a)?o+=\" \"+a:o+=\" \"+u(a);return o},n.deprecate=function(e,i){function o(){if(!s){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),s=!0}return e.apply(this,arguments)}if(T(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var s={},o;n.debuglog=function(e){T(o)&&(o=t.env.NODE_DEBUG||\"\"),e=e.toUpperCase();if(!s[e])if((new RegExp(\"\\\\b\"+e+\"\\\\b\",\"i\")).test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error(\"%s %d: %s\",e,r,t)}}else s[e]=function(){};return s[e]},n.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:\"cyan\",number:\"yellow\",\"boolean\":\"yellow\",\"undefined\":\"grey\",\"null\":\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"},n.isArray=g,n.isBoolean=y,n.isNull=b,n.isNullOrUndefined=w,n.isNumber=E,n.isString=S,n.isSymbol=x,n.isUndefined=T,n.isRegExp=N,n.isObject=C,n.isDate=k,n.isError=L,n.isFunction=A,n.isPrimitive=O,n.isBuffer=e(\"./support/isBuffer\");var D=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];n.log=function(){console.log(\"%s - %s\",P(),n.format.apply(n,arguments))},n.inherits=e(\"inherits\"),n._extend=function(e,t){if(!t||!C(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e}}).call(this,e(\"_process\"),typeof global!=\"undefined\"?global:typeof self!=\"undefined\"?self:typeof window!=\"undefined\"?window:{})},{\"./support/isBuffer\":41,_process:40,inherits:38}],43:[function(e,t,n){(function(n){var r=e(\"fs\"),i=e(\"path\"),s=e(\"fs\").existsSync||e(\"path\").existsSync;t.exports.version={};var o=[\"2.0.0\",\"2.0.1\",\"2.0.2\",\"2.1.0\",\"2.1.1\",\"2.2.0\",\"2.3.0\",\"3.0.0\"];o.map(function(r){t.exports.version[r]=e(i.join(n,r,\"reference.json\"));var o=i.join(n,r,\"datasources.json\");s(o)&&(t.exports.version[r].datasources=e(o).datasources)})}).call(this,\"/node_modules/mapnik-reference\")},{fs:36,path:39}],44:[function(e,t,n){t.exports={name:\"carto\",version:\"0.15.1\",description:\"CartoCSS Stylesheet Compiler\",url:\"https://github.com/cartodb/carto\",repository:{type:\"git\",url:\"http://github.com/cartodb/carto.git\"},author:{name:\"CartoDB\",url:\"https://carto.com/\"},keywords:[\"maps\",\"css\",\"stylesheets\"],contributors:[\"Tom MacWright <macwright@gmail.com>\",\"Konstantin Käfer\",\"Alexis Sellier <self@cloudhead.net>\",\"Raul Ochoa <rochoa@carto.com>\",\"Javi Santana <jsantana@carto.com>\"],licenses:[{type:\"Apache\"}],bin:{carto:\"./bin/carto\"},man:\"./man/carto.1\",main:\"./lib/carto/index\",engines:{node:\">=0.4.x\"},dependencies:{underscore:\"~1.6.0\",\"mapnik-reference\":\"~6.0.2\",optimist:\"~0.6.0\"},devDependencies:{mocha:\"1.12.x\",jshint:\"0.2.x\",sax:\"0.1.x\",istanbul:\"~0.2.14\",coveralls:\"~2.10.1\",browserify:\"~7.0.0\",\"uglify-js\":\"1.3.3\"},scripts:{pretest:\"npm install\",test:\"mocha -R spec\",coverage:\"istanbul cover ./node_modules/.bin/_mocha && coveralls < ./coverage/lcov.info\"}}},{}]},{},[2])(2)});/**\nTorque 2.11.4\nTemporal mapping for CartoDB\nhttps://github.com/cartodb/torque\n**/\n\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.torque=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\nvar torque = require('./');\n\nvar requestAnimationFrame = global.requestAnimationFrame\n    || global.mozRequestAnimationFrame\n    || global.webkitRequestAnimationFrame\n    || global.msRequestAnimationFrame\n    || function(callback) { return global.setTimeout(callback, 1000 / 60); };\n\nvar cancelAnimationFrame = global.cancelAnimationFrame\n    || global.mozCancelAnimationFrame\n    || global.webkitCancelAnimationFrame\n    || global.msCancelAnimationFrame\n    || function(id) { clearTimeout(id); };\n\n  /**\n   * options:\n   *    animationDuration in seconds\n   *    animationDelay in seconds\n   */\n  function Animator(callback, options) {\n    if(!options.steps) {\n      throw new Error(\"steps option missing\")\n    }\n    this.options = options;\n    this.running = false;\n    this._tick = this._tick.bind(this);\n    this._t0 = +new Date();\n    this.callback = callback;\n    this._time = 0.0;\n    this.itemsReady = false;\n\n    this.options = torque.extend({\n        animationDelay: 0,\n        maxDelta: 0.2,\n        loop: options.loop === undefined ? true : options.loop\n    }, this.options);\n\n    this.rescale();\n\n  }\n\n\n  Animator.prototype = {\n\n    start: function() {\n        this.running = true;\n        requestAnimationFrame(this._tick);\n        this.options.onStart && this.options.onStart();\n        if(this.options.steps === 1){\n          this.running = false;\n        }\n    },\n\n    isRunning: function() {\n      return this.running;\n    },\n\n    stop: function() {\n      this.pause();\n      this.time(0);\n      this.options.onStop && this.options.onStop();\n    },\n\n    // real animation time\n    time: function(_) {\n      if (!arguments.length) return this._time;\n      this._time = _;\n      var t = this.range(this.domain(this._time));\n      this.callback(t);\n    },\n\n    toggle: function() {\n      if (this.running) {\n        this.pause()\n      } else {\n        this.start()\n      }\n    },\n\n    rescale: function() {\n      this.domainInv = torque.math.linear(this.options.animationDelay, this.options.animationDelay + this.options.animationDuration);\n      this.domain = this.domainInv.invert();\n      this.range = torque.math.linear(0, this.options.steps);\n      this.rangeInv = this.range.invert();\n      this.time(this._time);\n      this.running? this.start(): this.pause();\n      return this;\n    },\n\n    duration: function(_) {\n      if (!arguments.length)  return this.options.animationDuration;\n      this.options.animationDuration = _;\n      if (this.time() > _) {\n        this.time(0);\n      }\n      this.rescale();\n      return this;\n    },\n\n    steps: function(_) {\n      this.options.steps = _;\n      return this.rescale();\n    },\n\n    step: function(s) {\n      if(arguments.length === 0) return this.range(this.domain(this._time));\n      this._time = this.domainInv(this.rangeInv(s));\n    },\n\n    pause: function() {\n      this.running = false;\n      cancelAnimationFrame(this._tick);\n      this.options.onPause && this.options.onPause();\n    },\n\n    _tick: function() {\n      var t1 = +new Date();\n      var delta = (t1 - this._t0)*0.001;\n      // if delta is really big means the tab lost the focus\n      // at some point, so limit delta change\n      delta = Math.min(this.options.maxDelta, delta);\n      this._t0 = t1;\n      this._time += delta;\n      if(this.step() >= this.options.steps) {\n        if(!this.options.loop){\n          // set time to max time\n          this.time(this.options.animationDuration);\n          this.pause();\n        } else {\n          this._time = 0;\n        }\n      }\n      if(this.running) {\n        this.time(this._time);\n        requestAnimationFrame(this._tick);\n      }\n    }\n\n  };\n\nmodule.exports = Animator;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./\":10}],2:[function(require,module,exports){\nvar _torque_reference_latest = {\n    \"version\": \"1.0.0\",\n    \"style\": {\n        \"comp-op\": {\n            \"css\": \"comp-op\",\n            \"default-value\": \"src-over\",\n            \"default-meaning\": \"add the current layer on top of other layers\",\n            \"doc\": \"Composite operation. This defines how this layer should behave relative to layers atop or below it.\",\n            \"type\": [\n                \"src\", //\n                \"src-over\", //\n                \"dst-over\", //\n                \"src-in\", //\n                \"dst-in\", //\n                \"src-out\", //\n                \"dst-out\", //\n                \"src-atop\", //\n                \"dst-atop\", //\n                \"xor\", //\n                \"darken\", //\n                \"lighten\" //\n            ]\n        }\n    },\n    \"layer\" : {\n        \"buffer-size\": {\n            \"default-value\": \"0\",\n            \"type\":\"float\",\n            \"default-meaning\": \"No buffer will be used\",\n            \"doc\": \"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering\"\n        },\n        \"-torque-clear-color\": {\n            \"css\": \"-torque-clear-color\",\n            \"type\": \"color\",\n            \"default-value\": \"rgba(255, 255, 255, 0)\",\n            \"default-meaning\": \"full clear\",\n            \"doc\": \"color used to clear canvas on each frame\"\n        },\n        \"-torque-frame-count\": {\n            \"css\": \"-torque-frame-count\",\n            \"default-value\": \"128\",\n            \"type\":\"number\",\n            \"default-meaning\": \"the data is broken into 128 time frames\",\n            \"doc\": \"Number of animation steps/frames used in the animation. If the data contains a fewere number of total frames, the lesser value will be used.\"\n        },\n        \"-torque-resolution\": {\n            \"css\": \"-torque-resolution\",\n            \"default-value\": \"2\",\n            \"type\":\"number\",\n            \"default-meaning\": \"\",\n            \"doc\": \"Spatial resolution in pixels. A resolution of 1 means no spatial aggregation of the data. Any other resolution of N results in spatial aggregation into cells of NxN pixels. The value N must be power of 2\"\n        },\n        \"-torque-animation-duration\": {\n            \"css\": \"-torque-animation-duration\",\n            \"default-value\": \"30\",\n            \"type\":\"number\",\n            \"default-meaning\": \"the animation lasts 30 seconds\",\n            \"doc\": \"Animation duration in seconds\"\n        },\n        \"-torque-aggregation-function\": {\n            \"css\": \"-torque-aggregation-function\",\n            \"default-value\": \"count(cartodb_id)\",\n            \"type\": \"string\",\n            \"default-meaning\": \"the value for each cell is the count of points in that cell\",\n            \"doc\": \"A function used to calculate a value from the aggregate data for each cell. See -torque-resolution\"\n        },\n        \"-torque-time-attribute\": {\n            \"css\": \"-torque-time-attribute\",\n            \"default-value\": \"time\",\n            \"type\": \"string\",\n            \"default-meaning\": \"the data column in your table that is of a time based type\",\n            \"doc\": \"The table column that contains the time information used create the animation\"\n        },\n        \"-torque-data-aggregation\": {\n            \"css\": \"-torque-data-aggregation\",\n            \"default-value\": \"linear\",\n            \"type\": [\n              \"cumulative\"\n            ],\n            \"default-meaning\": \"previous values are discarded\",\n            \"doc\": \"A linear animation will discard previous values while a cumulative animation will accumulate them until it restarts\"\n        }\n    },\n    \"symbolizers\" : {\n        \"*\": {\n            \"comp-op\": {\n                \"css\": \"comp-op\",\n                \"default-value\": \"src-over\",\n                \"default-meaning\": \"add the current layer on top of other layers\",\n                \"doc\": \"Composite operation. This defines how this layer should behave relative to layers atop or below it.\",\n                \"type\": [\n                  \"src\", //\n                  \"src-over\", //\n                  \"dst-over\", //\n                  \"src-in\", //\n                  \"dst-in\", //\n                  \"src-out\", //\n                  \"dst-out\", //\n                  \"src-atop\", //\n                  \"dst-atop\", //\n                  \"xor\", //\n                  \"darken\", //\n                  \"lighten\" //\n                ]\n            },\n            \"opacity\": {\n                \"css\": \"opacity\",\n                \"type\": \"float\",\n                \"doc\": \"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)\",\n                \"default-value\": 1,\n                \"default-meaning\": \"no separate buffer will be used and no alpha will be applied to the style after rendering\"\n            }\n        },\n        \"trail\": {\n          \"steps\": {\n            \"css\": \"trail-steps\",\n            \"type\": \"float\",\n            \"default-value\": 1,\n            \"default-meaning\": \"no trail steps\",\n            \"doc\": \"How many steps of trails are going to be rendered\"\n          }\n        },\n        \"polygon\": {\n            \"fill\": {\n                \"css\": \"polygon-fill\",\n                \"type\": \"color\",\n                \"default-value\": \"rgba(128,128,128,1)\",\n                \"default-meaning\": \"gray and fully opaque (alpha = 1), same as rgb(128,128,128)\",\n                \"doc\": \"Fill color to assign to a polygon\"\n            },\n            \"fill-opacity\": {\n                \"css\": \"polygon-opacity\",\n                \"type\": \"float\",\n                \"doc\": \"The opacity of the polygon\",\n                \"default-value\": 1,\n                \"default-meaning\": \"opaque\"\n            }\n        },\n        \"line\": {\n            \"stroke\": {\n                \"css\": \"line-color\",\n                \"default-value\": \"rgba(0,0,0,1)\",\n                \"type\": \"color\",\n                \"default-meaning\": \"black and fully opaque (alpha = 1), same as rgb(0,0,0)\",\n                \"doc\": \"The color of a drawn line\"\n            },\n            \"stroke-width\": {\n                \"css\": \"line-width\",\n                \"default-value\": 1,\n                \"type\": \"float\",\n                \"doc\": \"The width of a line in pixels\"\n            },\n            \"stroke-opacity\": {\n                \"css\": \"line-opacity\",\n                \"default-value\": 1,\n                \"type\": \"float\",\n                \"default-meaning\": \"opaque\",\n                \"doc\": \"The opacity of a line\"\n            },\n            \"stroke-linejoin\": {\n                \"css\": \"line-join\",\n                \"default-value\": \"miter\",\n                \"type\": [\n                    \"miter\",\n                    \"round\",\n                    \"bevel\"\n                ],\n                \"doc\": \"The behavior of lines when joining\"\n            },\n            \"stroke-linecap\": {\n                \"css\": \"line-cap\",\n                \"default-value\": \"butt\",\n                \"type\": [\n                    \"butt\",\n                    \"round\",\n                    \"square\"\n                ],\n                \"doc\": \"The display of line endings\"\n            }\n        },\n        \"markers\": {\n            \"file\": {\n                \"css\": \"marker-file\",\n                \"doc\": \"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.\",\n                \"default-value\": \"\",\n                \"default-meaning\": \"An ellipse or circle, if width equals height\",\n                \"type\": \"uri\"\n            },\n            \"opacity\": {\n                \"css\": \"marker-opacity\",\n                \"doc\": \"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke\",\n                \"default-value\": 1,\n                \"default-meaning\": \"The stroke-opacity and fill-opacity will be used\",\n                \"type\": \"float\"\n            },\n            \"fill-opacity\": {\n                \"css\": \"marker-fill-opacity\",\n                \"doc\": \"The fill opacity of the marker\",\n                \"default-value\": 1,\n                \"default-meaning\": \"opaque\",\n                \"type\": \"float\"\n            },\n            \"stroke\": {\n                \"css\": \"marker-line-color\",\n                \"doc\": \"The color of the stroke around a marker shape.\",\n                \"default-value\": \"black\",\n                \"type\": \"color\"\n            },\n            \"stroke-width\": {\n                \"css\": \"marker-line-width\",\n                \"doc\": \"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.\",\n                \"type\": \"float\"\n            },\n            \"stroke-opacity\": {\n                \"css\": \"marker-line-opacity\",\n                \"default-value\": 1,\n                \"default-meaning\": \"opaque\",\n                \"doc\": \"The opacity of a line\",\n                \"type\": \"float\"\n            },\n            \"fill\": {\n                \"css\": \"marker-fill\",\n                \"default-value\": \"blue\",\n                \"doc\": \"The color of the area of the marker.\",\n                \"type\": \"color\"\n            },\n            \"marker-type\": {\n                \"css\": \"marker-type\",\n                \"type\": [\n                    \"rectangle\",\n                    \"ellipse\"\n                ],\n                \"default-value\": \"ellipse\",\n                \"doc\": \"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an rectangle or an ellipse (a circle if height is equal to width)\"\n            },\n             \"width\": {\n                \"css\": \"marker-width\",\n                \"default-value\": 10,\n                \"doc\": \"The width of the marker, if using one of the default types.\",\n                \"type\": \"float\"\n            }\n        },\n        \"point\": {\n            \"file\": {\n                \"css\": \"point-file\",\n                \"type\": \"uri\",\n                \"required\": false,\n                \"default-value\": \"none\",\n                \"doc\": \"Image file to represent a point\"\n            },\n            \"opacity\": {\n                \"css\": \"point-opacity\",\n                \"type\": \"float\",\n                \"default-value\": 1.0,\n                \"default-meaning\": \"Fully opaque\",\n                \"doc\": \"A value from 0 to 1 to control the opacity of the point\"\n            }\n        }\n    },\n    \"colors\": {\n        \"aliceblue\":  [240, 248, 255],\n        \"antiquewhite\":  [250, 235, 215],\n        \"aqua\":  [0, 255, 255],\n        \"aquamarine\":  [127, 255, 212],\n        \"azure\":  [240, 255, 255],\n        \"beige\":  [245, 245, 220],\n        \"bisque\":  [255, 228, 196],\n        \"black\":  [0, 0, 0],\n        \"blanchedalmond\":  [255,235,205],\n        \"blue\":  [0, 0, 255],\n        \"blueviolet\":  [138, 43, 226],\n        \"brown\":  [165, 42, 42],\n        \"burlywood\":  [222, 184, 135],\n        \"cadetblue\":  [95, 158, 160],\n        \"chartreuse\":  [127, 255, 0],\n        \"chocolate\":  [210, 105, 30],\n        \"coral\":  [255, 127, 80],\n        \"cornflowerblue\":  [100, 149, 237],\n        \"cornsilk\":  [255, 248, 220],\n        \"crimson\":  [220, 20, 60],\n        \"cyan\":  [0, 255, 255],\n        \"darkblue\":  [0, 0, 139],\n        \"darkcyan\":  [0, 139, 139],\n        \"darkgoldenrod\":  [184, 134, 11],\n        \"darkgray\":  [169, 169, 169],\n        \"darkgreen\":  [0, 100, 0],\n        \"darkgrey\":  [169, 169, 169],\n        \"darkkhaki\":  [189, 183, 107],\n        \"darkmagenta\":  [139, 0, 139],\n        \"darkolivegreen\":  [85, 107, 47],\n        \"darkorange\":  [255, 140, 0],\n        \"darkorchid\":  [153, 50, 204],\n        \"darkred\":  [139, 0, 0],\n        \"darksalmon\":  [233, 150, 122],\n        \"darkseagreen\":  [143, 188, 143],\n        \"darkslateblue\":  [72, 61, 139],\n        \"darkslategrey\":  [47, 79, 79],\n        \"darkturquoise\":  [0, 206, 209],\n        \"darkviolet\":  [148, 0, 211],\n        \"deeppink\":  [255, 20, 147],\n        \"deepskyblue\":  [0, 191, 255],\n        \"dimgray\":  [105, 105, 105],\n        \"dimgrey\":  [105, 105, 105],\n        \"dodgerblue\":  [30, 144, 255],\n        \"firebrick\":  [178, 34, 34],\n        \"floralwhite\":  [255, 250, 240],\n        \"forestgreen\":  [34, 139, 34],\n        \"fuchsia\":  [255, 0, 255],\n        \"gainsboro\":  [220, 220, 220],\n        \"ghostwhite\":  [248, 248, 255],\n        \"gold\":  [255, 215, 0],\n        \"goldenrod\":  [218, 165, 32],\n        \"gray\":  [128, 128, 128],\n        \"grey\":  [128, 128, 128],\n        \"green\":  [0, 128, 0],\n        \"greenyellow\":  [173, 255, 47],\n        \"honeydew\":  [240, 255, 240],\n        \"hotpink\":  [255, 105, 180],\n        \"indianred\":  [205, 92, 92],\n        \"indigo\":  [75, 0, 130],\n        \"ivory\":  [255, 255, 240],\n        \"khaki\":  [240, 230, 140],\n        \"lavender\":  [230, 230, 250],\n        \"lavenderblush\":  [255, 240, 245],\n        \"lawngreen\":  [124, 252, 0],\n        \"lemonchiffon\":  [255, 250, 205],\n        \"lightblue\":  [173, 216, 230],\n        \"lightcoral\":  [240, 128, 128],\n        \"lightcyan\":  [224, 255, 255],\n        \"lightgoldenrodyellow\":  [250, 250, 210],\n        \"lightgray\":  [211, 211, 211],\n        \"lightgreen\":  [144, 238, 144],\n        \"lightgrey\":  [211, 211, 211],\n        \"lightpink\":  [255, 182, 193],\n        \"lightsalmon\":  [255, 160, 122],\n        \"lightseagreen\":  [32, 178, 170],\n        \"lightskyblue\":  [135, 206, 250],\n        \"lightslategray\":  [119, 136, 153],\n        \"lightslategrey\":  [119, 136, 153],\n        \"lightsteelblue\":  [176, 196, 222],\n        \"lightyellow\":  [255, 255, 224],\n        \"lime\":  [0, 255, 0],\n        \"limegreen\":  [50, 205, 50],\n        \"linen\":  [250, 240, 230],\n        \"magenta\":  [255, 0, 255],\n        \"maroon\":  [128, 0, 0],\n        \"mediumaquamarine\":  [102, 205, 170],\n        \"mediumblue\":  [0, 0, 205],\n        \"mediumorchid\":  [186, 85, 211],\n        \"mediumpurple\":  [147, 112, 219],\n        \"mediumseagreen\":  [60, 179, 113],\n        \"mediumslateblue\":  [123, 104, 238],\n        \"mediumspringgreen\":  [0, 250, 154],\n        \"mediumturquoise\":  [72, 209, 204],\n        \"mediumvioletred\":  [199, 21, 133],\n        \"midnightblue\":  [25, 25, 112],\n        \"mintcream\":  [245, 255, 250],\n        \"mistyrose\":  [255, 228, 225],\n        \"moccasin\":  [255, 228, 181],\n        \"navajowhite\":  [255, 222, 173],\n        \"navy\":  [0, 0, 128],\n        \"oldlace\":  [253, 245, 230],\n        \"olive\":  [128, 128, 0],\n        \"olivedrab\":  [107, 142, 35],\n        \"orange\":  [255, 165, 0],\n        \"orangered\":  [255, 69, 0],\n        \"orchid\":  [218, 112, 214],\n        \"palegoldenrod\":  [238, 232, 170],\n        \"palegreen\":  [152, 251, 152],\n        \"paleturquoise\":  [175, 238, 238],\n        \"palevioletred\":  [219, 112, 147],\n        \"papayawhip\":  [255, 239, 213],\n        \"peachpuff\":  [255, 218, 185],\n        \"peru\":  [205, 133, 63],\n        \"pink\":  [255, 192, 203],\n        \"plum\":  [221, 160, 221],\n        \"powderblue\":  [176, 224, 230],\n        \"purple\":  [128, 0, 128],\n        \"red\":  [255, 0, 0],\n        \"rosybrown\":  [188, 143, 143],\n        \"royalblue\":  [65, 105, 225],\n        \"saddlebrown\":  [139, 69, 19],\n        \"salmon\":  [250, 128, 114],\n        \"sandybrown\":  [244, 164, 96],\n        \"seagreen\":  [46, 139, 87],\n        \"seashell\":  [255, 245, 238],\n        \"sienna\":  [160, 82, 45],\n        \"silver\":  [192, 192, 192],\n        \"skyblue\":  [135, 206, 235],\n        \"slateblue\":  [106, 90, 205],\n        \"slategray\":  [112, 128, 144],\n        \"slategrey\":  [112, 128, 144],\n        \"snow\":  [255, 250, 250],\n        \"springgreen\":  [0, 255, 127],\n        \"steelblue\":  [70, 130, 180],\n        \"tan\":  [210, 180, 140],\n        \"teal\":  [0, 128, 128],\n        \"thistle\":  [216, 191, 216],\n        \"tomato\":  [255, 99, 71],\n        \"turquoise\":  [64, 224, 208],\n        \"violet\":  [238, 130, 238],\n        \"wheat\":  [245, 222, 179],\n        \"white\":  [255, 255, 255],\n        \"whitesmoke\":  [245, 245, 245],\n        \"yellow\":  [255, 255, 0],\n        \"yellowgreen\":  [154, 205, 50],\n        \"transparent\":  [0, 0, 0, 0]\n    }\n};\n\nmodule.exports = {\n  version: {\n    latest: _torque_reference_latest,\n    '1.0.0': _torque_reference_latest\n  }\n};\n\n},{}],3:[function(require,module,exports){\n(function (global){\n//\n// common functionallity for torque layers\n//\nvar carto = global.carto || require('carto');\n\nfunction TorqueLayer() {}\n\nTorqueLayer.prototype = {\n};\n\nTorqueLayer.optionsFromLayer = function(mapConfig) {\n  var opts = {};\n  if (!mapConfig) return opts;\n  var attrs = {\n    'buffer-size': 'buffer-size',\n    '-torque-frame-count': 'steps',\n    '-torque-resolution': 'resolution',\n    '-torque-animation-duration': 'animationDuration',\n    '-torque-aggregation-function': 'countby',\n    '-torque-time-attribute': 'column',\n    '-torque-data-aggregation': 'data_aggregation'\n  };\n  for (var i in attrs) {\n    var v = mapConfig.eval(i);\n    if (v !== undefined) {\n      var a = attrs[i];\n      opts[a] = v;\n    }\n  }\n  return opts;\n};\n\nTorqueLayer.optionsFromCartoCSS = function(cartocss) {\n  var shader = new carto.RendererJS().render(cartocss);\n  var mapConfig = shader.findLayer({ name: 'Map' });\n  return TorqueLayer.optionsFromLayer(mapConfig);\n};\n\nmodule.exports.TorqueLayer = TorqueLayer;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"carto\":undefined}],4:[function(require,module,exports){\n(function (global){\n  var Event = {};\n  Event.on = function(evt, callback) {\n      var cb = this._evt_callbacks = this._evt_callbacks || {};\n      var l = cb[evt] || (cb[evt] = []);\n      l.push(callback);\n      return this;\n  };\n\n  Event.trigger = function(evt) {\n      var c = this._evt_callbacks && this._evt_callbacks[evt];\n      for(var i = 0; c && i < c.length; ++i) {\n          c[i].apply(this, Array.prototype.slice.call(arguments, 1));\n      }\n      return this;\n  };\n\n  Event.fire = Event.trigger;\n\n  Event.off = function (evt, callback) {\n      var c = this._evt_callbacks && this._evt_callbacks[evt];\n      if (c && !callback) {\n        delete this._evt_callbacks[evt];\n        return this;\n     }\n     var remove = [];\n     for(var i = 0; c && i < c.length; ++i) {\n       if(c[i] === callback) remove.push(i);\n     }\n     while((i = remove.pop()) !== undefined) c.splice(i, 1);\n    return this;\n  };\n\n  Event.callbacks = function(evt) {\n    return (this._evt_callbacks && this._evt_callbacks[evt]) || [];\n  };\n\n  function extend() {\n      var objs = arguments;\n      var a = objs[0];\n      for (var i = 1; i < objs.length; ++i) {\n          var b = objs[i];\n          for (var k in b) {\n              a[k] = b[k];\n          }\n      }\n      return a;\n  }\n\n  function clone(a) {\n    return extend({}, a);\n  }\n\n  function isFunction(f) {\n    return typeof f == 'function' || false;\n  }\n\n  function isArray(value) {\n      return value && typeof value == 'object' && Object.prototype.toString.call(value) == '[object Array]';\n  }\n\n  // types\n  var types = {\n    Uint8Array: typeof(global['Uint8Array']) !== 'undefined' ? global.Uint8Array : Array,\n    Uint8ClampedArray: typeof(global['Uint8ClampedArray']) !== 'undefined' ? global.Uint8ClampedArray: Array,\n    Uint32Array: typeof(global['Uint32Array']) !== 'undefined' ? global.Uint32Array : Array,\n    Int16Array: typeof(global['Int16Array']) !== 'undefined' ? global.Int16Array : Array,\n    Int32Array: typeof(global['Int32Array']) !== 'undefined' ? global.Int32Array: Array\n  };\n\n  function isBrowserSupported() {\n    return !!document.createElement('canvas');\n  }\n\n  function userAgent() {\n      return typeof navigator !== 'undefined' ? navigator.userAgent : '';\n  }\n\n  var flags = {\n    sprites_to_images: userAgent().indexOf('Safari') === -1 && userAgent().indexOf('Firefox') === -1\n  };\n\nmodule.exports = {\n    Event: Event,\n    extend: extend,\n    clone: clone,\n    isFunction: isFunction,\n    isArray: isArray,\n    types: types,\n    isBrowserSupported: isBrowserSupported,\n    flags: flags\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],5:[function(require,module,exports){\n/**\n * @license\n * Copyright 2013 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Extends OverlayView to provide a canvas \"Layer\".\n * @author Brendan Kenny\n */\n\n/**\n * A map layer that provides a canvas over the slippy map and a callback\n * system for efficient animation. Requires canvas and CSS 2D transform\n * support.\n * @constructor\n * @extends google.maps.OverlayView\n * @param {CanvasLayerOptions=} opt_options Options to set in this CanvasLayer.\n */\n\nfunction CanvasLayer(opt_options) {\n  /**\n   * If true, canvas is in a map pane and the OverlayView is fully functional.\n   * See google.maps.OverlayView.onAdd for more information.\n   * @type {boolean}\n   * @private\n   */\n  this.isAdded_ = false;\n\n  /**\n   * If true, each update will immediately schedule the next.\n   * @type {boolean}\n   * @private\n   */\n  this.isAnimated_ = false;\n\n  /**\n   * The name of the MapPane in which this layer will be displayed.\n   * @type {string}\n   * @private\n   */\n  this.paneName_ = CanvasLayer.DEFAULT_PANE_NAME_;\n\n  /**\n   * A user-supplied function called whenever an update is required. Null or\n   * undefined if a callback is not provided.\n   * @type {?function=}\n   * @private\n   */\n  this.updateHandler_ = null;\n\n  /**\n   * A user-supplied function called whenever an update is required and the\n   * map has been resized since the last update. Null or undefined if a\n   * callback is not provided.\n   * @type {?function}\n   * @private\n   */\n  this.resizeHandler_ = null;\n\n  /**\n   * The LatLng coordinate of the top left of the current view of the map. Will\n   * be null when this.isAdded_ is false.\n   * @type {google.maps.LatLng}\n   * @private\n   */\n  this.topLeft_ = null;\n\n  /**\n   * The map-pan event listener. Will be null when this.isAdded_ is false. Will\n   * be null when this.isAdded_ is false.\n   * @type {?function}\n   * @private\n   */\n  this.centerListener_ = null;\n\n  /**\n   * The map-resize event listener. Will be null when this.isAdded_ is false.\n   * @type {?function}\n   * @private\n   */\n  this.resizeListener_ = null;\n\n  /**\n   * If true, the map size has changed and this.resizeHandler_ must be called\n   * on the next update.\n   * @type {boolean}\n   * @private\n   */\n  this.needsResize_ = true;\n\n  /**\n   * A browser-defined id for the currently requested callback. Null when no\n   * callback is queued.\n   * @type {?number}\n   * @private\n   */\n  this.requestAnimationFrameId_ = null;\n\n  var canvas = document.createElement('canvas');\n  canvas.style.position = 'absolute';\n  canvas.style.top = 0;\n  canvas.style.left = 0;\n  canvas.style.pointerEvents = 'none';\n\n  /**\n   * The canvas element.\n   * @type {!HTMLCanvasElement}\n   */\n  this.canvas = canvas;\n\n  /**\n   * Simple bind for functions with no args for bind-less browsers (Safari).\n   * @param {Object} thisArg The this value used for the target function.\n   * @param {function} func The function to be bound.\n   */\n  function simpleBindShim(thisArg, func) {\n    return function() { func.apply(thisArg); };\n  }\n\n  /**\n   * A reference to this.repositionCanvas_ with this bound as its this value.\n   * @type {function}\n   * @private\n   */\n  this.repositionFunction_ = simpleBindShim(this, this.repositionCanvas_);\n\n  /**\n   * A reference to this.resize_ with this bound as its this value.\n   * @type {function}\n   * @private\n   */\n  this.resizeFunction_ = simpleBindShim(this, this.resize_);\n\n  /**\n   * A reference to this.update_ with this bound as its this value.\n   * @type {function}\n   * @private\n   */\n  this.requestUpdateFunction_ = simpleBindShim(this, this.update_);\n\n  // set provided options, if any\n  if (opt_options) {\n    this.setOptions(opt_options);\n  }\n}\n\nCanvasLayer.prototype = new google.maps.OverlayView();\n\n/**\n * The default MapPane to contain the canvas.\n * @type {string}\n * @const\n * @private\n */\nCanvasLayer.DEFAULT_PANE_NAME_ = 'overlayLayer';\n\n/**\n * Transform CSS property name, with vendor prefix if required. If browser\n * does not support transforms, property will be ignored.\n * @type {string}\n * @const\n * @private\n */\nCanvasLayer.CSS_TRANSFORM_ = (function() {\n  var div = document.createElement('div');\n  var transformProps = [\n    'transform',\n    'WebkitTransform',\n    'MozTransform',\n    'OTransform',\n    'msTransform'\n  ];\n  for (var i = 0; i < transformProps.length; i++) {\n    var prop = transformProps[i];\n    if (div.style[prop] !== undefined) {\n      return prop;\n    }\n  }\n\n  // return unprefixed version by default\n  return transformProps[0];\n})();\n\n/**\n * The requestAnimationFrame function, with vendor-prefixed or setTimeout-based\n * fallbacks. MUST be called with window as thisArg.\n * @type {function}\n * @param {function} callback The function to add to the frame request queue.\n * @return {number} The browser-defined id for the requested callback.\n * @private\n */\nCanvasLayer.prototype.requestAnimFrame_ =\n    window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function(callback) {\n      return window.setTimeout(callback, 1000 / 60);\n    };\n\n/**\n * The cancelAnimationFrame function, with vendor-prefixed fallback. Does not\n * fall back to clearTimeout as some platforms implement requestAnimationFrame\n * but not cancelAnimationFrame, and the cost is an extra frame on onRemove.\n * MUST be called with window as thisArg.\n * @type {function}\n * @param {number=} requestId The id of the frame request to cancel.\n * @private\n */\nCanvasLayer.prototype.cancelAnimFrame_ =\n    window.cancelAnimationFrame ||\n    window.webkitCancelAnimationFrame ||\n    window.mozCancelAnimationFrame ||\n    window.oCancelAnimationFrame ||\n    window.msCancelAnimationFrame ||\n    function(requestId) {};\n\n/**\n * Sets any options provided. See CanvasLayerOptions for more information.\n * @param {CanvasLayerOptions} options The options to set.\n */\nCanvasLayer.prototype.setOptions = function(options) {\n  if (options.animate !== undefined) {\n    this.setAnimate(options.animate);\n  }\n\n  if (options.paneName !== undefined) {\n    this.setPane(options.paneName);\n  }\n\n  if (options.updateHandler !== undefined) {\n    this.setUpdateHandler(options.updateHandler);\n  }\n\n  if (options.resizeHandler !== undefined) {\n    this.setResizeHandler(options.resizeHandler);\n  }\n\n  if(options.readyHandler) {\n    this.readyHandler = options.readyHandler;\n  }\n\n};\n\n/**\n * Set the animated state of the layer. If true, updateHandler will be called\n * repeatedly, once per frame. If false, updateHandler will only be called when\n * a map property changes that could require the canvas content to be redrawn.\n * @param {boolean} animate Whether the canvas is animated.\n */\nCanvasLayer.prototype.setAnimate = function(animate) {\n  this.isAnimated_ = !!animate;\n\n  if (this.isAnimated_) {\n    this.scheduleUpdate();\n  }\n};\n\n/**\n * @return {boolean} Whether the canvas is animated.\n */\nCanvasLayer.prototype.isAnimated = function() {\n  return this.isAnimated_;\n};\n\n/**\n * Set the MapPane in which this layer will be displayed, by name. See\n * {@code google.maps.MapPanes} for the panes available.\n * @param {string} paneName The name of the desired MapPane.\n */\nCanvasLayer.prototype.setPaneName = function(paneName) {\n  this.paneName_ = paneName;\n\n  this.setPane_();\n};\n\n/**\n * Set the opacity for the canvas.\n * \n * @param {number} opacity The opacity of the canvas\n */\nCanvasLayer.prototype.setOpacity = function (opacity) {\n  this.canvas.style.opacity = opacity;\n};\n\n/**\n * Get the canvases opacity.\n * \n * @return {number} The opacity of the canvas\n */\nCanvasLayer.prototype.getOpacity = function () {\n  return this.canvas.style.opacity;\n};\n\n/**\n * @return {string} The name of the current container pane.\n */\nCanvasLayer.prototype.getPaneName = function() {\n  return this.paneName_;\n};\n\n/**\n * Adds the canvas to the specified container pane. Since this is guaranteed to\n * execute only after onAdd is called, this is when paneName's existence is\n * checked (and an error is thrown if it doesn't exist).\n * @private\n */\nCanvasLayer.prototype.setPane_ = function() {\n  if (!this.isAdded_) {\n    return;\n  }\n\n  // onAdd has been called, so panes can be used\n  var panes = this.getPanes();\n  if (!panes[this.paneName_]) {\n    throw new Error('\"' + this.paneName_ + '\" is not a valid MapPane name.');\n  }\n\n  panes[this.paneName_].appendChild(this.canvas);\n};\n\n/**\n * Set a function that will be called whenever the parent map and the overlay's\n * canvas have been resized. If opt_resizeHandler is null or unspecified, any\n * existing callback is removed.\n * @param {?function=} opt_resizeHandler The resize callback function.\n */\nCanvasLayer.prototype.setResizeHandler = function(opt_resizeHandler) {\n  this.resizeHandler_ = opt_resizeHandler;\n};\n\n/**\n * Set a function that will be called when a repaint of the canvas is required.\n * If opt_updateHandler is null or unspecified, any existing callback is\n * removed.\n * @param {?function=} opt_updateHandler The update callback function.\n */\nCanvasLayer.prototype.setUpdateHandler = function(opt_updateHandler) {\n  this.updateHandler_ = opt_updateHandler;\n};\n\n/**\n * @inheritDoc\n */\nCanvasLayer.prototype.onAdd = function() {\n  if (this.isAdded_) {\n    return;\n  }\n\n  this.isAdded_ = true;\n  this.setPane_();\n\n  this.resizeListener_ = google.maps.event.addListener(this.getMap(),\n      'resize', this.resizeFunction_);\n  this.centerListener_ = google.maps.event.addListener(this.getMap(),\n      'center_changed', this.repositionFunction_);\n\n  this.resize_();\n  this.repositionCanvas_();\n  this.readyHandler && this.readyHandler();\n};\n\n/**\n * @inheritDoc\n */\nCanvasLayer.prototype.onRemove = function() {\n  if (!this.isAdded_) {\n    return;\n  }\n\n  this.isAdded_ = false;\n  this.topLeft_ = null;\n\n  // remove canvas and listeners for pan and resize from map\n  this.canvas.parentElement.removeChild(this.canvas);\n  if (this.centerListener_) {\n    google.maps.event.removeListener(this.centerListener_);\n    this.centerListener_ = null;\n  }\n  if (this.resizeListener_) {\n    google.maps.event.removeListener(this.resizeListener_);\n    this.resizeListener_ = null;\n  }\n\n  // cease canvas update callbacks\n  if (this.requestAnimationFrameId_) {\n    this.cancelAnimFrame_.call(window, this.requestAnimationFrameId_);\n    this.requestAnimationFrameId_ = null;\n  }\n};\n\n/**\n * The internal callback for resize events that resizes the canvas to keep the\n * map properly covered.\n * @private\n */\nCanvasLayer.prototype.resize_ = function() {\n  // TODO(bckenny): it's common to use a smaller canvas but use CSS to scale\n  // what is drawn by the browser to save on fill rate. Add an option to do\n  // this.\n\n  if (!this.isAdded_) {\n    return;\n  }\n\n  var map = this.getMap();\n  var width = map.getDiv().offsetWidth;\n  var height = map.getDiv().offsetHeight;\n  var oldWidth = this.canvas.width;\n  var oldHeight = this.canvas.height;\n\n  // resizing may allocate a new back buffer, so do so conservatively\n  if (oldWidth !== width || oldHeight !== height) {\n    this.canvas.width = width;\n    this.canvas.height = height;\n    this.canvas.style.width = width + 'px';\n    this.canvas.style.height = height + 'px';\n\n    this.needsResize_ = true;\n    this.scheduleUpdate();\n  }\n};\n\n/**\n * @inheritDoc\n */\nCanvasLayer.prototype.draw = function() {\n  this.repositionCanvas_();\n};\n\n/**\n * Internal callback for map view changes. Since the Maps API moves the overlay\n * along with the map, this function calculates the opposite translation to\n * keep the canvas in place.\n * @private\n */\nCanvasLayer.prototype.repositionCanvas_ = function() {\n  // TODO(bckenny): *should* only be executed on RAF, but in current browsers\n  //     this causes noticeable hitches in map and overlay relative\n  //     positioning.\n\n  var bounds = this.getMap().getBounds();\n  this.topLeft_ = new google.maps.LatLng(bounds.getNorthEast().lat(),\n      bounds.getSouthWest().lng());\n\n  // canvas position relative to draggable map's conatainer depends on\n  // overlayView's projection, not the map's\n  var projection = this.getProjection();\n  var divTopLeft = projection.fromLatLngToDivPixel(this.topLeft_);\n\n  // when the zoom level is low, more than one map can be shown in the screen\n  // so the canvas should be attach to the map with more are in the screen\n  var mapSize = (1 << this.getMap().getZoom())*256;\n  if (Math.abs(divTopLeft.x) > mapSize) {\n    divTopLeft.x -= mapSize;\n  }\n  this.canvas.style[CanvasLayer.CSS_TRANSFORM_] = 'translate(' +\n      Math.round(divTopLeft.x) + 'px,' + Math.round(divTopLeft.y) + 'px)';\n\n  this.scheduleUpdate();\n};\n\n/**\n * Internal callback that serves as main animation scheduler via\n * requestAnimationFrame. Calls resize and update callbacks if set, and\n * schedules the next frame if overlay is animated.\n * @private\n */\nCanvasLayer.prototype.update_ = function() {\n  this.requestAnimationFrameId_ = null;\n\n  if (!this.isAdded_) {\n    return;\n  }\n\n  if (this.isAnimated_) {\n    this.scheduleUpdate();\n  }\n\n  if (this.needsResize_ && this.resizeHandler_) {\n    this.needsResize_ = false;\n    this.resizeHandler_();\n  }\n\n  if (this.updateHandler_) {\n    this.updateHandler_();\n  }\n};\n\n/**\n * A convenience method to get the current LatLng coordinate of the top left of\n * the current view of the map.\n * @return {google.maps.LatLng} The top left coordinate.\n */\nCanvasLayer.prototype.getTopLeft = function() {\n  return this.topLeft_;\n};\n\n/**\n * Schedule a requestAnimationFrame callback to updateHandler. If one is\n * already scheduled, there is no effect.\n */\nCanvasLayer.prototype.scheduleUpdate = function() {\n  if (this.isAdded_ && !this.requestAnimationFrameId_) {\n    this.requestAnimationFrameId_ =\n        this.requestAnimFrame_.call(window, this.requestUpdateFunction_);\n  }\n};\n\nmodule.exports = CanvasLayer;\n\n},{}],6:[function(require,module,exports){\n/*\n ====================\n canvas setup for drawing tiles\n ====================\n */\n\nfunction CanvasTileLayer(canvas_setup, render) {\n  this.tileSize = new google.maps.Size(256, 256);\n  this.maxZoom = 19;\n  this.name = \"Tile #s\";\n  this.alt = \"Canvas tile layer\";\n  this.tiles = {};\n  this.canvas_setup = canvas_setup;\n  this.render = render;\n  if (!render) {\n      this.render = canvas_setup;\n  }\n}\n\n\n// create a tile with a canvas element\nCanvasTileLayer.prototype.create_tile_canvas = function (coord, zoom, ownerDocument) {\n\n  // create canvas and reset style\n  var canvas = ownerDocument.createElement('canvas');\n  var hit_canvas = ownerDocument.createElement('canvas');\n  canvas.style.border = hit_canvas.style.border = \"none\";\n  canvas.style.margin = hit_canvas.style.margin = \"0\";\n  canvas.style.padding = hit_canvas.style.padding = \"0\";\n\n  // prepare canvas and context sizes\n  var ctx = canvas.getContext('2d');\n  ctx.width = canvas.width = this.tileSize.width;\n  ctx.height = canvas.height = this.tileSize.height;\n\n  var hit_ctx = hit_canvas.getContext('2d');\n  hit_canvas.width = hit_ctx.width = this.tileSize.width;\n  hit_canvas.height = hit_ctx.height = this.tileSize.height;\n\n  //set unique id\n  var tile_id = coord.x + '_' + coord.y + '_' + zoom;\n\n  canvas.setAttribute('id', tile_id);\n  hit_canvas.setAttribute('id', tile_id);\n\n  if (tile_id in this.tiles)\n      delete this.tiles[tile_id];\n\n  this.tiles[tile_id] = {canvas:canvas, ctx:ctx, hit_canvas:hit_canvas, hit_ctx:hit_ctx, coord:coord, zoom:zoom, primitives:null};\n\n  // custom setup\n  //if (tile_id == '19295_24654_16'){\n  if (this.canvas_setup)\n      this.canvas_setup(this.tiles[tile_id], coord, zoom);\n  //}\n  return canvas;\n\n}\n\n\nCanvasTileLayer.prototype.each = function (callback) {\n  for (var t in this.tiles) {\n      var tile = this.tiles[t];\n      callback(tile);\n  }\n}\n\nCanvasTileLayer.prototype.recreate = function () {\n  for (var t in this.tiles) {\n      var tile = this.tiles[t];\n      this.canvas_setup(tile, tile.coord, tile.zoom);\n  }\n};\n\nCanvasTileLayer.prototype.redraw_tile = function (tile) {\n  this.render(tile, tile.coord, tile.zoom);\n};\n\nCanvasTileLayer.prototype.redraw = function () {\n  for (var t in this.tiles) {\n      var tile = this.tiles[t];\n      this.render(tile, tile.coord, tile.zoom);\n  }\n};\n\n// could be called directly...\nCanvasTileLayer.prototype.getTile = function (coord, zoom, ownerDocument) {\n  return this.create_tile_canvas(coord, zoom, ownerDocument);\n};\n\nCanvasTileLayer.prototype.releaseTile = function (tile) {\n  var id = tile.getAttribute('id');\n  delete this.tiles[id];\n};\n\nmodule.exports = CanvasTileLayer;\n\n},{}],7:[function(require,module,exports){\nfunction GMapsTileLoader() {\n}\n\n\nGMapsTileLoader.prototype = {\n\n  _initTileLoader: function(map, projection) {\n    this._map = map;\n    this._projection = projection;\n    this._tiles = {};\n    this._tilesLoading = {};\n    this._tilesToLoad = 0;\n    this._updateTiles = this._updateTiles.bind(this);\n    this._listeners = [];\n    this._listeners.push(\n      google.maps.event.addListener(this._map, 'dragend', this._updateTiles),\n      google.maps.event.addListener(this._map, 'zoom_changed', this._updateTiles)\n    );\n    this.tileSize = 256;\n    this._updateTiles();\n  },\n\n  _removeTileLoader: function() {\n    this._listeners.forEach(function (listener) {\n      google.maps.event.removeListener(listener);\n    });\n    \n    this._removeTiles();\n  },\n\n  _removeTiles: function () {\n    for (var key in this._tiles) {\n      this._removeTile(key);\n    }\n  },\n\n  _reloadTiles: function() {\n    this._removeTiles();\n    this._updateTiles();\n  },\n\n  _updateTiles: function () {\n\n      if (!this._map) { return; }\n\n      var bounds = this._map.getBounds();\n      var zoom = this._map.getZoom();\n      var tileSize = this.tileSize;\n      var mzoom = (1 << zoom);\n\n      var topLeft = new google.maps.LatLng(\n        bounds.getNorthEast().lat(),\n        bounds.getSouthWest().lng()\n      );\n\n      var bottomRigth = new google.maps.LatLng(\n        bounds.getSouthWest().lat(),\n        bounds.getNorthEast().lng()\n      );\n\n\n      this._projection = this._map.getProjection();\n      var divTopLeft = this._projection.fromLatLngToPoint(topLeft);\n      var divBottomRight = this._projection.fromLatLngToPoint(bottomRigth);\n\n\n      var nwTilePoint = new google.maps.Point(\n              Math.floor(divTopLeft.x*mzoom / tileSize),\n              Math.floor(divTopLeft.y*mzoom / tileSize)),\n          seTilePoint = new google.maps.Point(\n              Math.floor(divBottomRight.x*mzoom / tileSize),\n              Math.floor(divBottomRight.y*mzoom / tileSize));\n\n\n      this._addTilesFromCenterOut(nwTilePoint, seTilePoint);\n      this._removeOtherTiles(nwTilePoint, seTilePoint);\n  },\n\n  _removeOtherTiles: function (nwTilePoint, seTilePoint) {\n      var kArr, x, y, key;\n\n      var zoom = this._map.getZoom();\n      for (key in this._tiles) {\n          if (this._tiles.hasOwnProperty(key)) {\n              kArr = key.split(':');\n              x = parseInt(kArr[0], 10);\n              y = parseInt(kArr[1], 10);\n              z = parseInt(kArr[2], 10);\n\n              // remove tile if it's out of bounds\n              if (z !== zoom || x < nwTilePoint.x || x > seTilePoint.x || y < nwTilePoint.y || y > seTilePoint.y) {\n                  this._removeTile(key);\n              }\n          }\n      }\n  },\n\n  _removeTile: function (key) {\n      this.onTileRemoved && this.onTileRemoved(this._tiles[key]); \n      delete this._tiles[key];\n      delete this._tilesLoading[key];\n  },\n\n  _tileKey: function(tilePoint) {\n    return tilePoint.x + ':' + tilePoint.y + ':' + tilePoint.zoom;\n  },\n\n  _tileShouldBeLoaded: function (tilePoint) {\n      var k = this._tileKey(tilePoint);\n      return !(k in this._tiles) && !(k in this._tilesLoading);\n  },\n\n  _tileLoaded: function(tilePoint, tileData) {\n    this._tilesToLoad--;\n    var k = tilePoint.x + ':' + tilePoint.y + ':' + tilePoint.zoom\n    this._tiles[k] = tileData;\n    delete this._tilesLoading[k];\n    if(this._tilesToLoad === 0) {\n      this.onTilesLoaded && this.onTilesLoaded();\n    }\n  },\n\n  getTilePos: function (tilePoint) {\n    var limit = (1 << this._map.getZoom());\n    // wrap tile\n    tilePoint = {\n      x: ((tilePoint.x % limit) + limit) % limit,\n      y: tilePoint.y\n    };\n\n    tilePoint = new google.maps.Point(\n      tilePoint.x * this.tileSize, \n      tilePoint.y * this.tileSize\n    );\n\n    var bounds = this._map.getBounds();\n    var topLeft = new google.maps.LatLng(\n      bounds.getNorthEast().lat(),\n      bounds.getSouthWest().lng()\n    );\n\n    var divTopLeft = this._map.getProjection().fromLatLngToPoint(topLeft);\n    zoom = (1 << this._map.getZoom());\n    divTopLeft.x = divTopLeft.x * zoom;\n    divTopLeft.y = divTopLeft.y * zoom;\n\n    return new google.maps.Point(\n      tilePoint.x - divTopLeft.x,\n      tilePoint.y - divTopLeft.y\n    );\n  },\n\n  _addTilesFromCenterOut: function (nwTilePoint, seTilePoint) {\n      var queue = [],\n          center = new google.maps.Point(\n            (nwTilePoint.x + seTilePoint.x) * 0.5,\n            (nwTilePoint.y + seTilePoint.y) * 0.5\n          ),\n          zoom = this._map.getZoom();\n\n      var j, i, point;\n\n      for (j = nwTilePoint.y; j <= seTilePoint.y; j++) {\n          for (i = nwTilePoint.x; i <= seTilePoint.x; i++) {\n              point = new google.maps.Point (i, j);\n              point.zoom = zoom;\n\n              if (this._tileShouldBeLoaded(point)) {\n                  queue.push(point);\n              }\n          }\n      }\n\n      var tilesToLoad = queue.length;\n\n      if (tilesToLoad === 0) { return; }\n\n      function distanceToCenterSq(point) {\n        var dx = point.x - center.x;\n        var dy = point.y - center.y;\n        return dx * dx + dy * dy;\n      }\n\n      // load tiles in order of their distance to center\n      queue.sort(function (a, b) {\n          return distanceToCenterSq(a) - distanceToCenterSq(b);\n      });\n\n      this._tilesToLoad += tilesToLoad;\n\n        for (i = 0; i < tilesToLoad; i++) {\n          var t = queue[i];\n          var k = this._tileKey(t);\n          this._tilesLoading[k] = t;\n          // events\n          if (this.onTileAdded) {\n            this.onTileAdded(t);\n          }\n        }\n\n      this.onTilesLoading && this.onTilesLoading();\n  }\n\n}\n\nmodule.exports = GMapsTileLoader;\n\n},{}],8:[function(require,module,exports){\nvar gmaps = {};\nif (typeof google !== 'undefined' && typeof google.maps !== 'undefined') {\n    gmaps = require('./torque');\n    gmaps.GMapsTileLoader = require('./gmaps_tileloader_mixin');\n}\nmodule.exports = gmaps;\n\n},{\"./gmaps_tileloader_mixin\":7,\"./torque\":9}],9:[function(require,module,exports){\n(function (global){\nvar carto = global.carto || require('carto');\nvar torque = require('../');\nvar CanvasLayer = require('./CanvasLayer');\nvar CanvasTileLayer = require('./canvas_tile_layer');\nvar GMapsTileLoader = require('./gmaps_tileloader_mixin');\n\nfunction GMapsTorqueLayer(options) {\n  var self = this;\n  if (!torque.isBrowserSupported()) {\n    throw new Error(\"browser is not supported by torque\");\n  }\n  this.key = 0;\n  this.shader = null;\n  this.ready = false;\n  this.options = torque.extend({}, options);\n  this.options = torque.extend({\n    provider: 'windshaft',\n    renderer: 'point',\n    resolution: 2,\n    steps: 100,\n    visible: true\n  }, this.options);\n  if (options.cartocss) {\n    torque.extend(this.options,\n        torque.common.TorqueLayer.optionsFromCartoCSS(options.cartocss));\n  }\n\n  this.hidden = !this.options.visible;\n\n  this.animator = new torque.Animator(function(time) {\n    var k = time | 0;\n    if(self.key !== k) {\n      self.setKey(k);\n    }\n  }, torque.clone(this.options));\n\n  this.play = this.animator.start.bind(this.animator);\n  this.stop = this.animator.stop.bind(this.animator);\n  this.pause = this.animator.pause.bind(this.animator);\n  this.toggle = this.animator.toggle.bind(this.animator);\n  this.setDuration = this.animator.duration.bind(this.animator);\n  this.isRunning = this.animator.isRunning.bind(this.animator);\n\n\n  CanvasLayer.call(this, {\n    map: this.options.map,\n    //resizeHandler: this.redraw,\n    animate: false,\n    updateHandler: this.render,\n    readyHandler: this.initialize\n  });\n\n}\n\n/**\n * torque layer\n */\nGMapsTorqueLayer.prototype = torque.extend({},\n  CanvasLayer.prototype,\n  GMapsTileLoader.prototype,\n  torque.Event,\n  {\n\n  providers: {\n    'sql_api': torque.providers.json,\n    'url_template': torque.providers.JsonArray,\n    'windshaft': torque.providers.windshaft\n  },\n\n  renderers: {\n    'point': torque.renderer.Point,\n    'pixel': torque.renderer.Rectangle\n  },\n\n  initialize: function() {\n    var self = this;\n\n    this.onTileAdded = this.onTileAdded.bind(this);\n\n    this.options.ready = function() {\n      self.fire(\"change:bounds\", {\n        bounds: self.provider.getBounds()\n      });\n      self.animator.steps(self.provider.getSteps());\n      self.animator.rescale();\n      self.fire('change:steps', {\n        steps: self.provider.getSteps()\n      });\n      self.setKey(self.key);\n    };\n\n    this.provider = new this.providers[this.options.provider](this.options);\n    this.renderer = new this.renderers[this.options.renderer](this.getCanvas(), this.options);\n    this.renderer.options.errorCallback = this.options.errorCallback;\n\n    // this listener should be before tile loader\n    this._cacheListener = google.maps.event.addListener(this.options.map, 'zoom_changed', function() {\n      self.renderer && self.renderer.clearSpriteCache();\n    });\n\n    this._initTileLoader(this.options.map, this.getProjection());\n\n    if (this.shader) {\n      this.renderer.setShader(this.shader);\n    }\n\n  },\n\n  hide: function() {\n    if(this.hidden) return this;\n    this.pause();\n    this.clear();\n    this.hidden = true;\n    return this;\n  },\n\n  show: function() {\n    if(!this.hidden) return this;\n    this.hidden = false;\n    this.play();\n    if (this.options.steps === 1){\n      this.redraw();\n    }\n    return this;\n  },\n\n  setSQL: function(sql) {\n    if (this.provider.options.named_map) throw new Error(\"SQL queries on named maps are read-only\");\n    if (!this.provider || !this.provider.setSQL) {\n      throw new Error(\"this provider does not support SQL\");\n    }\n    this.provider.setSQL(sql);\n    this._reloadTiles();\n    return this;\n  },\n\n  setBlendMode: function(_) {\n    this.renderer && this.renderer.setBlendMode(_);\n    this.redraw();\n  },\n\n  setSteps: function(steps) {\n    this.provider && this.provider.setSteps(steps);\n    this.animator && this.animator.steps(steps);\n    this._reloadTiles();\n  },\n\n  setColumn: function(column, isTime) {\n    this.provider && this.provider.setColumn(column, isTime);\n    this._reloadTiles();\n  },\n\n  getTimeBounds: function() {\n    return this.provider && this.provider.getKeySpan();\n  },\n\n  getCanvas: function() {\n    return this.canvas;\n  },\n\n    // for each tile shown on the map request the data\n  onTileAdded: function(t) {\n    var self = this;\n    this.provider.getTileData(t, t.zoom, function(tileData) {\n      // don't load tiles that are not being shown\n      if (t.zoom !== self.options.map.getZoom()) return;\n      self._tileLoaded(t, tileData);\n      if (tileData) {\n        self.redraw();\n      }\n    });\n  },\n\n  clear: function() {\n    var canvas = this.canvas;\n    canvas.width = canvas.width;\n  },\n\n  /**\n   * render the selectef key\n   * don't call this function directly, it's called by\n   * requestAnimationFrame. Use redraw to refresh it\n   */\n  render: function() {\n    if(this.hidden) return;\n    var t, tile, pos;\n    var canvas = this.canvas;\n    this.renderer.clearCanvas();\n    var ctx = canvas.getContext('2d');\n\n    // renders only a \"frame\"\n    for(t in this._tiles) {\n      tile = this._tiles[t];\n      if (tile) {\n        pos = this.getTilePos(tile.coord);\n        ctx.setTransform(1, 0, 0, 1, pos.x, pos.y);\n        this.renderer.renderTile(tile, this.key);\n      }\n    }\n    this.renderer.applyFilters();\n  },\n\n  getActivePointsBBox: function(step) {\n    var positions = [];\n    var tileMax = this.options.resolution * (256/this.options.resolution - 1);\n    for(var t in this._tiles) {\n      var tile = this._tiles[t];\n      positions = positions.concat(this.renderer.getActivePointsBBox(tile, step));\n    }\n    return positions;\n  },\n\n  /**\n   * set key to be shown. If it's a single value\n   * it renders directly, if it's an array it renders\n   * accumulated\n   */\n  setKey: function(key) {\n    this.key = key;\n    this.animator.step(key);\n    this.redraw();\n    this.fire('change:time', { time: this.getTime(), step: this.key });\n  },\n\n  /**\n   * helper function, does the same than ``setKey`` but only \n   * accepts scalars.\n   */\n  setStep: function(time) {\n    if(time === undefined || time.length !== undefined) {\n      throw new Error(\"setTime only accept scalars\");\n    }\n    this.setKey(time);\n  },\n\n  /**\n   * transform from animation step to Date object \n   * that contains the animation time\n   *\n   * ``step`` should be between 0 and ``steps - 1`` \n   */\n  stepToTime: function(step) {\n    if (!this.provider) return 0;\n    var times = this.provider.getKeySpan();\n    var time = times.start + (times.end - times.start)*(step/this.provider.getSteps());\n    return new Date(time);\n  },\n\n  timeToStep: function(timestamp) {\n    if (typeof timestamp === \"Date\") timestamp = timestamp.getTime();\n    if (!this.provider) return 0;\n    var times = this.provider.getKeySpan();\n    var step = (this.provider.getSteps() * (timestamp - times.start)) / (times.end - times.start);\n    return step;\n  },\n\n  getStep: function() {\n    return this.key;\n  },\n\n  /**\n   * returns the animation time defined by the data\n   * in the defined column. Date object\n   */\n  getTime: function() {\n    return this.stepToTime(this.key);\n  },\n\n  /**\n   * set the cartocss for the current renderer\n   */\n  setCartoCSS: function(cartocss) {\n    if (this.provider && this.provider.options.named_map) throw new Error(\"CartoCSS style on named maps is read-only\");\n    var shader = new carto.RendererJS().render(cartocss);\n    this.shader = shader;\n    if (this.renderer) {\n      this.renderer.setShader(shader);\n    }\n\n    // provider options\n    var options = torque.common.TorqueLayer.optionsFromLayer(shader.findLayer({ name: 'Map' }));\n    this.provider && this.provider.setCartoCSS && this.provider.setCartoCSS(cartocss);\n    if(this.provider && this.provider.setOptions(options)) {\n      this._reloadTiles();\n    }\n    torque.extend(this.options, options);\n\n    // animator options\n    if (options.animationDuration) {\n      this.animator.duration(options.animationDuration);\n    }\n\n    this.redraw();\n    return this;\n  },\n\n  redraw: function() {\n    this.scheduleUpdate();\n  },\n\n  onRemove: function() {\n    this.fire('remove');\n    CanvasLayer.prototype.onRemove.call(this);\n    this.animator.stop();\n    this._removeTileLoader();\n    google.maps.event.removeListener(this._cacheListener);\n  },\n\n  getValueForPos: function(x, y, step) {\n    step = step === undefined ? this.key: step;\n    var t, tile, pos, value = null, xx, yy;\n    for(t in this._tiles) {\n      tile = this._tiles[t];\n      pos = this.getTilePos(tile.coord);\n      xx = x - pos.x;\n      yy = y - pos.y;\n      if (xx >= 0 && yy >= 0 && xx < this.renderer.TILE_SIZE && yy <= this.renderer.TILE_SIZE) {\n        value = this.renderer.getValueFor(tile, step, xx, yy);\n      }\n      if (value !== null) {\n        return value;\n      }\n    }\n    return null;\n  },\n  getValueForBBox: function(x, y, w, h) {\n    var xf = x + w, yf = y + h;\n    var sum = 0;\n    for(_y = y; y<yf; y+=this.options.resolution){\n      for(_x = x; x<xf; x+=this.options.resolution){\n        var thisValue = this.getValueForPos(_x,_y);\n        if (thisValue){\n          var bb = thisValue.bbox;\n          var proj = this.getProjection()\n          var xy = proj.fromLatLngToContainerPixel(new google.maps.LatLng(bb[1].lat, bb[1].lon));\n          if(xy.x < xf && xy.y < yf){\n            sum += thisValue.value;\n          }\n        }\n      }\n    }\n    return sum;\n  },\n  \n  error: function (callback) {\n    this.options.errorCallback = callback;\n    return this;\n  }\n\n});\n\n\n\nfunction GMapsTiledTorqueLayer(options) {\n  this.options = torque.extend({}, options);\n  CanvasTileLayer.call(this, this._loadTile.bind(this), this.drawTile.bind(this));\n  this.initialize(options);\n}\n\nGMapsTiledTorqueLayer.prototype = torque.extend({}, CanvasTileLayer.prototype, {\n\n  providers: {\n    'sql_api': torque.providers.json,\n    'url_template': torque.providers.JsonArray\n  },\n\n  renderers: {\n    'point': torque.renderer.Point,\n    'pixel': torque.renderer.Rectangle\n  },\n\n  initialize: function(options) {\n    var self = this;\n    this.key = 0;\n\n    this.options.renderer = this.options.renderer || 'pixel';\n    this.options.provider = this.options.provider || 'sql_api';\n\n    this.provider = new this.providers[this.options.provider](options);\n    this.renderer = new this.renderers[this.options.renderer](null, options);\n\n  },\n\n  _tileLoaded: function(tile, tileData) {\n    tile.data = tileData;\n    this.drawTile(tile);\n  },\n\n  _loadTile: function(tile, coord, zoom) {\n    var self = this;\n    var limit = 1 << zoom;\n    // wrap tile\n    var wrappedCoord = {\n      x: ((coord.x % limit) + limit) % limit,\n      y: coord.y\n    };\n\n    this.provider.getTileData(wrappedCoord, zoom, function(tileData) {\n      self._tileLoaded(tile, tileData);\n    });\n  },\n\n  drawTile: function (tile) {\n    var canvas = tile.canvas;\n    if(!tile.data) return;\n    canvas.width = canvas.width;\n\n    this.renderer.setCanvas(canvas);\n\n    var accum = this.renderer.accumulate(tile.data, this.key);\n    this.renderer.renderTileAccum(accum, 0, 0);\n  },\n\n  setKey: function(key) {\n    this.key = key;\n    this.redraw();\n  },\n\n  /**\n   * set the cartocss for the current renderer\n   */\n  setCartoCSS: function(cartocss) {\n    if (!this.renderer) throw new Error('renderer is not valid');\n    return this.renderer.setCartoCSS(cartocss);\n  }\n\n});\n\nmodule.exports = {\n    GMapsTiledTorqueLayer: GMapsTiledTorqueLayer,\n    GMapsTorqueLayer: GMapsTorqueLayer\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../\":10,\"./CanvasLayer\":5,\"./canvas_tile_layer\":6,\"./gmaps_tileloader_mixin\":7,\"carto\":undefined}],10:[function(require,module,exports){\nmodule.exports = require('./core');\n\nmodule.exports.Animator = require('./animator');\nmodule.exports.cartocss_reference = require('./cartocss_reference');\nmodule.exports.common = require('./common');\nmodule.exports.math = require('./math');\nmodule.exports.Mercator = require('./mercator');\nmodule.exports.net = require('./request');\nmodule.exports.renderer = require('./renderer');\nmodule.exports.providers = require('./provider');\n\nrequire('./leaflet');\n\nvar gmaps = require('./gmaps');\nmodule.exports.GMapsTileLoader = gmaps.GMapsTileLoader;\nmodule.exports.GMapsTorqueLayer = gmaps.GMapsTorqueLayer;\nmodule.exports.GMapsTiledTorqueLayer = gmaps.GMapsTiledTorqueLayer;\n\n},{\"./animator\":1,\"./cartocss_reference\":2,\"./common\":3,\"./core\":4,\"./gmaps\":8,\"./leaflet\":12,\"./math\":15,\"./mercator\":16,\"./provider\":18,\"./renderer\":23,\"./request\":27}],11:[function(require,module,exports){\nrequire('./leaflet_tileloader_mixin');\n\n/**\n * full canvas layer implementation for Leaflet\n */\n\nL.CanvasLayer = L.Class.extend({\n\n  includes: [L.Mixin.Events, L.Mixin.TileLoader],\n\n  options: {\n      minZoom: 0,\n      maxZoom: 28,\n      tileSize: 256,\n      subdomains: 'abc',\n      errorTileUrl: '',\n      attribution: '',\n      zoomOffset: 0,\n      opacity: 1,\n      unloadInvisibleTiles: L.Browser.mobile,\n      updateWhenIdle: L.Browser.mobile,\n      tileLoader: false, // installs tile loading events\n      zoomAnimation: true\n  },\n\n  initialize: function (options) {\n    var self = this;\n    options = options || {};\n    //this.project = this._project.bind(this);\n    this.render = this.render.bind(this);\n    L.Util.setOptions(this, options);\n    this._canvas = this._createCanvas();\n    // backCanvas for zoom animation\n    if (this.options.zoomAnimation) {\n      this._backCanvas = this._createCanvas();\n    }\n    this._ctx = this._canvas.getContext('2d');\n    this.currentAnimationFrame = -1;\n    this.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n                                window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {\n                                    return window.setTimeout(callback, 1000 / 60);\n                                };\n    this.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame ||\n                                window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || function(id) { clearTimeout(id); };\n  },\n\n  _createCanvas: function() {\n    var canvas;\n    canvas = document.createElement('canvas');\n    canvas.style.position = 'absolute';\n    canvas.style.top = 0;\n    canvas.style.left = 0;\n    canvas.style.pointerEvents = \"none\";\n    canvas.style.zIndex = this.options.zIndex || 0;\n    var className = 'leaflet-tile-container';\n    if (this.options.zoomAnimation) {\n      className += ' leaflet-zoom-animated';\n    }\n    canvas.setAttribute('class', className);\n    return canvas;\n  },\n\n  onAdd: function (map) {\n    this._map = map;\n\n    // add container with the canvas to the tile pane\n    // the container is moved in the oposite direction of the \n    // map pane to keep the canvas always in (0, 0)\n    var tilePane = this._map._panes.tilePane;\n    var _container = L.DomUtil.create('div', 'leaflet-layer');\n    _container.appendChild(this._canvas);\n    if (this.options.zoomAnimation) {\n      _container.appendChild(this._backCanvas);\n      this._backCanvas.style.display = 'none';\n    }\n    tilePane.appendChild(_container);\n\n    this._container = _container;\n\n    // hack: listen to predrag event launched by dragging to\n    // set container in position (0, 0) in screen coordinates\n    map.dragging._draggable.on('predrag', function() {\n      var d = map.dragging._draggable;\n      L.DomUtil.setPosition(this._canvas, { x: -d._newPos.x, y: -d._newPos.y });\n    }, this);\n\n    map.on({ 'viewreset': this._reset }, this);\n    map.on('move', this.redraw, this);\n    map.on('resize', this._reset, this);\n\n    if (this.options.zoomAnimation) {\n      map.on({\n        'zoomanim': this._animateZoom,\n        'zoomend': this._endZoomAnim,\n        'moveend': this._reset\n      }, this);\n    }\n\n    if(this.options.tileLoader) {\n      this._initTileLoader();\n    }\n\n    this._reset();\n  },\n\n  _animateZoom: function (e) {\n    if (!this._animating) {\n        this._animating = true;\n    }\n    var back = this._backCanvas;\n\n    back.width = this._canvas.width;\n    back.height = this._canvas.height;\n\n    // paint current canvas in back canvas with trasnformation\n    var pos = this._canvas._leaflet_pos || { x: 0, y: 0 };\n    back.getContext('2d').drawImage(this._canvas, 0, 0);\n\n    L.DomUtil.setPosition(back, L.DomUtil.getPosition(this._canvas));\n\n    // hide original\n    this._canvas.style.display = 'none';\n    back.style.display = 'block';\n    var map = this._map;\n    var scale = map.getZoomScale(e.zoom);\n    var newCenter = map._latLngToNewLayerPoint(map.getCenter(), e.zoom, e.center);\n    var oldCenter = map._latLngToNewLayerPoint(e.center, e.zoom, e.center);\n\n    var origin = {\n      x:  newCenter.x - oldCenter.x + pos.x,\n      y:  newCenter.y - oldCenter.y + pos.y,\n    };\n\n    var bg = back;\n    var transform = L.DomUtil.TRANSFORM;\n    setTimeout(function() {\n      bg.style[transform] = L.DomUtil.getTranslateString(origin) + ' scale(' + e.scale + ') ';\n    }, 0)\n  },\n\n  _endZoomAnim: function () {\n    this._animating = false;\n    this._canvas.style.display = 'block';\n    this._backCanvas.style.display = 'none';\n    this._backCanvas.style[L.DomUtil.TRANSFORM] = '';\n  },\n\n  getCanvas: function() {\n    return this._canvas;\n  },\n\n  getAttribution: function() {\n    return this.options.attribution;\n  },\n\n  draw: function() {\n    return this._reset();\n  },\n\n  onRemove: function (map) {\n    this._container.parentNode.removeChild(this._container);\n    map.off({\n      'viewreset': this._reset,\n      'move': this._render,\n      'moveend': this._reset,\n      'resize': this._reset,\n      'zoomanim': this._animateZoom,\n      'zoomend': this._endZoomAnim\n    }, this);\n  },\n\n  addTo: function (map) {\n    map.addLayer(this);\n    return this;\n  },\n\n  error: function (callback) {\n    this.provider.options.errorCallback = callback;\n    return this;\n  },\n\n  setOpacity: function (opacity) {\n    this.options.opacity = opacity;\n    this._updateOpacity();\n    return this;\n  },\n\n  setZIndex: function(zIndex) {\n    this._canvas.style.zIndex = zIndex;\n    if (this.options.zoomAnimation) {\n      this._backCanvas.style.zIndex = zIndex;\n    }\n  },\n\n  bringToFront: function () {\n    return this;\n  },\n\n  bringToBack: function () {\n    return this;\n  },\n\n  _reset: function () {\n    var size = this._map.getSize();\n    this._canvas.width = size.x;\n    this._canvas.height = size.y;\n\n    // fix position\n    var pos = L.DomUtil.getPosition(this._map.getPanes().mapPane);\n    if (pos) {\n      L.DomUtil.setPosition(this._canvas, { x: -pos.x, y: -pos.y });\n    }\n    this.onResize();\n    this._render();\n  },\n\n  /*\n  _project: function(x) {\n    var point = this._map.latLngToLayerPoint(new L.LatLng(x[1], x[0]));\n    return [point.x, point.y];\n  },\n  */\n\n  _updateOpacity: function () { },\n\n  _render: function() {\n    if (this.currentAnimationFrame >= 0) {\n      this.cancelAnimationFrame.call(window, this.currentAnimationFrame);\n    }\n    this.currentAnimationFrame = this.requestAnimationFrame.call(window, this.render);\n  },\n\n  // use direct: true if you are inside an animation frame call\n  redraw: function(direct) {\n    var domPosition = L.DomUtil.getPosition(this._map.getPanes().mapPane);\n    if (domPosition) {\n      L.DomUtil.setPosition(this._canvas, { x: -domPosition.x, y: -domPosition.y });\n    }\n    if (direct) {\n      this.render();\n    } else {\n      this._render();\n    }\n  },\n\n  onResize: function() {\n  },\n\n  render: function() {\n    throw new Error('render function should be implemented');\n  }\n\n});\n\n},{\"./leaflet_tileloader_mixin\":13}],12:[function(require,module,exports){\nif (typeof L !== 'undefined') {\n    require('./torque');\n}\n\n},{\"./torque\":14}],13:[function(require,module,exports){\nL.Mixin.TileLoader = {\n\n  _initTileLoader: function() {\n    this._tiles = {}\n    this._tilesLoading = {};\n    this._tilesToLoad = 0;\n    this._map.on({\n        'moveend': this._updateTiles\n    }, this);\n    this._updateTiles();\n  },\n\n  _removeTileLoader: function() {\n    this._map.off({\n        'moveend': this._updateTiles\n    }, this);\n    this._removeTiles();\n  },\n\n  _updateTiles: function () {\n\n      if (!this._map) { return; }\n\n      var bounds = this._map.getPixelBounds(),\n          zoom = this._map.getZoom(),\n          tileSize = this.options.tileSize;\n\n      if (zoom > this.options.maxZoom || zoom < this.options.minZoom) {\n          return;\n      }\n\n      var nwTilePoint = new L.Point(\n              Math.floor(bounds.min.x / tileSize),\n              Math.floor(bounds.min.y / tileSize)),\n\n          seTilePoint = new L.Point(\n              Math.floor(bounds.max.x / tileSize),\n              Math.floor(bounds.max.y / tileSize)),\n\n          tileBounds = new L.Bounds(nwTilePoint, seTilePoint);\n\n      this._addTilesFromCenterOut(tileBounds);\n      this._removeOtherTiles(tileBounds);\n  },\n\n  _removeTiles: function (bounds) {\n      for (var key in this._tiles) {\n        this._removeTile(key);\n      }\n  },\n\n  _reloadTiles: function() {\n    this._removeTiles();\n    this._updateTiles();\n  },\n\n  _removeOtherTiles: function (bounds) {\n      var kArr, x, y, z, key;\n      var zoom = this._map.getZoom();\n\n      for (key in this._tiles) {\n          if (this._tiles.hasOwnProperty(key)) {\n              kArr = key.split(':');\n              x = parseInt(kArr[0], 10);\n              y = parseInt(kArr[1], 10);\n              z = parseInt(kArr[2], 10);\n\n              // remove tile if it's out of bounds\n              if (zoom !== z || x < bounds.min.x || x > bounds.max.x || y < bounds.min.y || y > bounds.max.y) {\n                  this._removeTile(key);\n              }\n          }\n      }\n  },\n\n  _removeTile: function (key) {\n      this.fire('tileRemoved', this._tiles[key]);\n      delete this._tiles[key];\n      delete this._tilesLoading[key];\n  },\n\n  _tileKey: function(tilePoint) {\n    return tilePoint.x + ':' + tilePoint.y + ':' + tilePoint.zoom;\n  },\n\n  _tileShouldBeLoaded: function (tilePoint) {\n      var k = this._tileKey(tilePoint);\n      return !(k in this._tiles) && !(k in this._tilesLoading);\n  },\n\n  _tileLoaded: function(tilePoint, tileData) {\n    this._tilesToLoad--;\n    var k = tilePoint.x + ':' + tilePoint.y + ':' + tilePoint.zoom\n    this._tiles[k] = tileData;\n    delete this._tilesLoading[k];\n    if(this._tilesToLoad === 0) {\n      this.fire(\"tilesLoaded\");\n    }\n  },\n\n  getTilePos: function (tilePoint) {\n    tilePoint = new L.Point(tilePoint.x, tilePoint.y);\n    var origin = this._map._getNewTopLeftPoint(this._map.getCenter()),\n        tileSize = this.options.tileSize;\n\n    return tilePoint.multiplyBy(tileSize).subtract(origin);\n  },\n\n  _addTilesFromCenterOut: function (bounds) {\n      var queue = [],\n          center = bounds.getCenter(),\n          zoom = this._map.getZoom();\n\n      var j, i, point;\n\n      for (j = bounds.min.y; j <= bounds.max.y; j++) {\n          for (i = bounds.min.x; i <= bounds.max.x; i++) {\n              point = new L.Point(i, j);\n              point.zoom =  zoom;\n\n              if (this._tileShouldBeLoaded(point)) {\n                  queue.push(point);\n              }\n          }\n      }\n\n      var tilesToLoad = queue.length;\n\n      if (tilesToLoad === 0) { return; }\n\n      // load tiles in order of their distance to center\n      queue.sort(function (a, b) {\n          return a.distanceTo(center) - b.distanceTo(center);\n      });\n\n      this._tilesToLoad += tilesToLoad;\n\n      for (i = 0; i < tilesToLoad; i++) {\n        var t = queue[i];\n        var k = this._tileKey(t);\n        this._tilesLoading[k] = t;\n        this.fire('tileAdded', t);\n      }\n      this.fire(\"tilesLoading\");\n\n  }\n\n}\n\n},{}],14:[function(require,module,exports){\n(function (global){\nvar carto = global.carto || require('carto');\nvar torque = require('../');\n\nrequire('./canvas_layer');\n\n/**\n * torque layer\n */\nL.TorqueLayer = L.CanvasLayer.extend({\n\n  providers: {\n    'sql_api': torque.providers.json,\n    'url_template': torque.providers.JsonArray,\n    'windshaft': torque.providers.windshaft\n  },\n\n  renderers: {\n    'point': torque.renderer.Point,\n    'pixel': torque.renderer.Rectangle\n  },\n\n  initialize: function(options) {\n    var self = this;\n    if (!torque.isBrowserSupported()) {\n      throw new Error(\"browser is not supported by torque\");\n    }\n    options.tileLoader = true;\n    this.key = 0;\n    this.prevRenderedKey = 0;\n    if (options.cartocss) {\n      torque.extend(options, torque.common.TorqueLayer.optionsFromCartoCSS(options.cartocss));\n    }\n\n    options.resolution = options.resolution || 2;\n    options.steps = options.steps || 100;\n    options.visible = options.visible === undefined ? true: options.visible;\n    this.hidden = !options.visible;\n\n    this.animator = new torque.Animator(function(time) {\n      var k = time | 0;\n      if(self.key !== k) {\n        self.setKey(k, { direct: true });\n      }\n    }, torque.extend(torque.clone(options), {\n      onPause: function() {\n        self.fire('pause');\n      },\n      onStop: function() {\n        self.fire('stop');\n      },\n      onStart: function() {\n        self.fire('play');\n      }\n    }));\n\n    this.play = this.animator.start.bind(this.animator);\n    this.stop = this.animator.stop.bind(this.animator);\n    this.pause = this.animator.pause.bind(this.animator);\n    this.toggle = this.animator.toggle.bind(this.animator);\n    this.setDuration = this.animator.duration.bind(this.animator);\n    this.isRunning = this.animator.isRunning.bind(this.animator);\n\n\n    L.CanvasLayer.prototype.initialize.call(this, options);\n\n    this.options.renderer = this.options.renderer || 'point';\n    this.options.provider = this.options.provider || 'windshaft';\n\n    this.provider = new this.providers[this.options.provider](options);\n    this.renderer = new this.renderers[this.options.renderer](this.getCanvas(), options);\n\n    options.ready = function() {\n      self.fire(\"change:bounds\", {\n        bounds: self.provider.getBounds()\n      });\n      self.animator.steps(self.provider.getSteps());\n      self.animator.rescale();\n      self.fire('change:steps', {\n        steps: self.provider.getSteps()\n      });\n      self.setKey(self.key);\n    };\n\n    this.renderer.on(\"allIconsLoaded\", this.render.bind(this));\n\n\n    // for each tile shown on the map request the data\n    this.on('tileAdded', function(t) {\n      var tileData = this.provider.getTileData(t, t.zoom, function(tileData) {\n        // don't load tiles that are not being shown\n        if (t.zoom !== self._map.getZoom()) return;\n        self._tileLoaded(t, tileData);\n        self._clearTileCaches();\n        if (tileData) {\n          self.redraw();\n        }\n      });\n    }, this);\n\n  },\n\n  _clearTileCaches: function() {\n    var t, tile;\n    for(t in this._tiles) {\n      tile = this._tiles[t];\n      if (tile && tile._tileCache) {\n        tile._tileCache = null;\n      }\n    }\n  },\n\n  _clearCaches: function() {\n    this.renderer && this.renderer.clearSpriteCache();\n    this._clearTileCaches();\n  },\n\n  onAdd: function (map) {\n    map.on({\n      'zoomend': this._clearCaches,\n      'zoomstart': this._pauseOnZoom,\n    }, this);\n\n    map.on({\n      'zoomend': this._resumeOnZoom\n    }, this);\n    L.CanvasLayer.prototype.onAdd.call(this, map);\n  },\n\n  onRemove: function(map) {\n    this.fire('remove');\n    this._removeTileLoader();\n    map.off({\n      'zoomend': this._clearCaches,\n      'zoomstart': this._pauseOnZoom,\n    }, this);\n    map.off({\n      'zoomend': this._resumeOnZoom\n    }, this);\n    L.CanvasLayer.prototype.onRemove.call(this, map);\n  },\n\n  _pauseOnZoom: function() {\n    this.wasRunning = this.isRunning();\n    if (this.wasRunning) {\n      this.pause();\n    }\n  },\n\n  _resumeOnZoom: function() {\n    if (this.wasRunning) {\n      this.play();\n    }\n  },\n\n  hide: function() {\n    if(this.hidden) return this;\n    this.pause();\n    this.clear();\n    this.hidden = true;\n    return this;\n  },\n\n  show: function() {\n    if(!this.hidden) return this;\n    this.hidden = false;\n    this.play();\n    if (this.options.steps === 1){\n      this.redraw();\n    }\n    return this;\n  },\n\n  setSQL: function(sql) {\n    if (this.provider.options.named_map) throw new Error(\"SQL queries on named maps are read-only\");\n    if (!this.provider || !this.provider.setSQL) {\n      throw new Error(\"this provider does not support SQL\");\n    }\n    this.provider.setSQL(sql);\n    this._reloadTiles();\n    return this;\n  },\n\n  setBlendMode: function(_) {\n    this.renderer.setBlendMode(_);\n    this.redraw();\n  },\n\n  setSteps: function(steps) {\n    this.provider.setSteps(steps);\n    this._reloadTiles();\n  },\n\n  setColumn: function(column, isTime) {\n    this.provider.setColumn(column, isTime);\n    this._reloadTiles();\n  },\n\n  getTimeBounds: function() {\n    return this.provider && this.provider.getKeySpan();\n  },\n\n  clear: function() {\n    var canvas = this.getCanvas();\n    canvas.width = canvas.width;\n  },\n\n  /**\n   * render the selectef key\n   * don't call this function directly, it's called by\n   * requestAnimationFrame. Use redraw to refresh it\n   */\n  render: function() {\n    if(this.hidden) return;\n    var t, tile, pos;\n    var canvas = this.getCanvas();\n    this.renderer.clearCanvas();\n    var ctx = canvas.getContext('2d');\n\n    for(t in this._tiles) {\n      tile = this._tiles[t];\n      if (tile) {\n        // clear cache\n        if (this.animator.isRunning()) {\n          tile._tileCache = null;\n        }\n\n        pos = this.getTilePos(tile.coord);\n        ctx.setTransform(1, 0, 0, 1, pos.x, pos.y);\n\n        if (tile._tileCache) {\n          // when the tile has a cached image just render it and avoid to render\n          // all the points\n          this.renderer._ctx.drawImage(tile._tileCache, 0, 0);\n        } else {\n          this.renderer.renderTile(tile, this.key);\n        }\n      }\n    }\n    this.renderer.applyFilters();\n\n    // prepare caches if the animation is not running\n    // don't cache if the key has just changed, this avoids to cache\n    // when the user is dragging, it only cache when the map is still\n    if (!this.animator.isRunning() && this.key === this.prevRenderedKey) {\n      var tile_size = this.renderer.TILE_SIZE;\n      for(t in this._tiles) {\n        tile = this._tiles[t];\n        if (tile && !tile._tileCache) {\n          var c = tile._tileCache = document.createElement('canvas');\n          c.width = c.height = tile_size;\n          pos = this.getTilePos(tile.coord);\n          // clip bounds, firefox raise an exception when try to get data from outside canvas\n          var x = Math.max(0, pos.x)\n          var y = Math.max(0, pos.y)\n          var w = Math.min(tile_size, this.getCanvas().width - x);\n          var h = Math.min(tile_size, this.getCanvas().height - y);\n          if (w > 0 && h > 0) {\n            c.getContext('2d').drawImage(this.getCanvas(), x, y, w, h, x - pos.x, y - pos.y, w, h);\n          }\n        }\n      }\n    }\n\n    this.prevRenderedKey = this.key;\n\n  },\n\n  /**\n   * set key to be shown. If it's a single value\n   * it renders directly, if it's an array it renders\n   * accumulated\n   */\n  setKey: function(key, options) {\n    this.key = key;\n    this.animator.step(key);\n    this._clearTileCaches();\n    this.redraw(options && options.direct);\n    this.fire('change:time', { time: this.getTime(), step: this.key });\n  },\n\n  /**\n   * helper function, does the same than ``setKey`` but only\n   * accepts scalars.\n   */\n  setStep: function(time) {\n    if(time === undefined || time.length !== undefined) {\n      throw new Error(\"setTime only accept scalars\");\n    }\n    this.setKey(time);\n  },\n\n  /**\n   * transform from animation step to Date object\n   * that contains the animation time\n   *\n   * ``step`` should be between 0 and ``steps - 1``\n   */\n  stepToTime: function(step) {\n    var times = this.provider.getKeySpan();\n    var time = times.start + (times.end - times.start)*(step/this.provider.getSteps());\n    return new Date(time);\n  },\n\n  timeToStep: function(timestamp) {\n    if (typeof timestamp === \"Date\") timestamp = timestamp.getTime();\n    if (!this.provider) return 0;\n    var times = this.provider.getKeySpan();\n    var step = (this.provider.getSteps() * (timestamp - times.start)) / (times.end - times.start);\n    return step;\n  },\n\n  getStep: function() {\n    return this.key;\n  },\n\n  /**\n   * returns the animation time defined by the data\n   * in the defined column. Date object\n   */\n  getTime: function() {\n    return this.stepToTime(this.key);\n  },\n\n  /**\n   * returns an object with the start and end times\n   */\n  getTimeSpan: function() {\n    return this.provider.getKeySpan();\n  },\n\n  /**\n   * set the cartocss for the current renderer\n   */\n  setCartoCSS: function(cartocss) {\n    if (this.provider.options.named_map) throw new Error(\"CartoCSS style on named maps is read-only\");\n    if (!this.renderer) throw new Error('renderer is not valid');\n    var shader = new carto.RendererJS().render(cartocss);\n    this.renderer.setShader(shader);\n\n    // provider options\n    var options = torque.common.TorqueLayer.optionsFromLayer(shader.findLayer({ name: 'Map' }));\n    this.provider.setCartoCSS && this.provider.setCartoCSS(cartocss);\n    if(this.provider.setOptions(options)) {\n      this._reloadTiles();\n    }\n\n    torque.extend(this.options, options);\n\n    // animator options\n    if (options.animationDuration) {\n      this.animator.duration(options.animationDuration);\n    }\n    this._clearCaches();\n    this.redraw();\n    return this;\n  },\n\n  /**\n   * get active points for a step in active zoom\n   * returns a list of bounding boxes [[] , [], []]\n   * empty list if there is no active pixels\n   */\n  getActivePointsBBox: function(step) {\n    var positions = [];\n    for(var t in this._tiles) {\n      var tile = this._tiles[t];\n      positions = positions.concat(this.renderer.getActivePointsBBox(tile, step));\n    }\n    return positions;\n  },\n\n  /**\n   * return the value for position relative to map coordinates. null for no value\n   */\n  getValueForPos: function(x, y, step) {\n    step = step === undefined ? this.key: step;\n    var t, tile, pos, value = null, xx, yy;\n    for(t in this._tiles) {\n      tile = this._tiles[t];\n      pos = this.getTilePos(tile.coord);\n      xx = x - pos.x;\n      yy = y - pos.y;\n      if (xx >= 0 && yy >= 0 && xx < this.renderer.TILE_SIZE && yy <= this.renderer.TILE_SIZE) {\n        value = this.renderer.getValueFor(tile, step, xx, yy);\n      }\n      if (value !== null) {\n        return value;\n      }\n    }\n    return null;\n  },\n\n  getValueForBBox: function(x, y, w, h) {\n    var xf = x + w, yf = y + h, _x=x;\n    var sum = 0;\n    for(_y = y; _y<yf; _y+=this.options.resolution){\n      for(_x = x; _x<xf; _x+=this.options.resolution){\n        var thisValue = this.getValueForPos(_x,_y);\n        if (thisValue){\n          var bb = thisValue.bbox;\n          var xy = this._map.latLngToContainerPoint([bb[1].lat, bb[1].lon]);\n          if(xy.x < xf && xy.y < yf){\n            sum += thisValue.value;\n          }\n        }\n      }\n    }\n    return sum;\n  },\n\n  invalidate: function() {\n    this.provider.reload();\n  }\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../\":10,\"./canvas_layer\":11,\"carto\":undefined}],15:[function(require,module,exports){\n  function clamp(a, b) {\n    return function(t) {\n      return Math.max(Math.min(t, b), a);\n    };\n  }\n\n  function invLinear(a, b) {\n    var c = clamp(0, 1.0);\n    return function(t) {\n      return c((t - a)/(b - a));\n    };\n  }\n\n  function linear(a, b) {\n    var c = clamp(a, b);\n    function _linear(t) {\n      return c(a*(1.0 - t) + t*b);\n    }\n\n    _linear.invert = function() {\n      return invLinear(a, b);\n    };\n\n    return _linear;\n  }\n\nmodule.exports = {\n    clamp: clamp,\n    linear: linear,\n    invLinear: invLinear\n};\n\n},{}],16:[function(require,module,exports){\nvar Point = function(x, y) {\n  this.x = x || 0;\n  this.y = y || 0;\n};\n\nfunction clamp(value, optMin, optMax) {\n  if (optMin !== null) value = Math.max(value, optMin);\n  if (optMax !== null) value = Math.min(value, optMax);\n  return value;\n}\n\nfunction degreesToRadians(deg) {\n  return deg * (Math.PI / 180);\n}\n\nfunction radiansToDegrees(rad) {\n  return rad / (Math.PI / 180);\n}\n\n\nvar MercatorProjection = function() {\n//  this._tileSize = L.Browser.retina ? 512 : 256;\n  this._tileSize = 256;\n  this._pixelOrigin = new Point(this._tileSize / 2, this._tileSize / 2);\n  this._pixelsPerLonDegree = this._tileSize / 360;\n  this._pixelsPerLonRadian = this._tileSize / (2 * Math.PI);\n};\n\nMercatorProjection.prototype._fromLatLonToPoint = function(lat, lon) {\n  var point = new Point(0, 0);\n  var origin = this._pixelOrigin;\n\n  point.x = origin.x + lon * this._pixelsPerLonDegree;\n\n  // NOTE(appleton): Truncating to 0.9999 effectively limits latitude to\n  // 89.189.  This is about a third of a tile past the edge of the world\n  // tile.\n  var siny = clamp(Math.sin(degreesToRadians(lat)), -0.9999, 0.9999);\n  point.y = origin.y + 0.5 * Math.log((1 + siny) / (1 - siny)) * -this._pixelsPerLonRadian;\n  return point;\n};\n\nMercatorProjection.prototype._fromPointToLatLon = function(point) {\n  var me = this;\n  var origin = me._pixelOrigin;\n  var lon = (point.x - origin.x) / me._pixelsPerLonDegree;\n  var latRadians = (point.y - origin.y) / -me._pixelsPerLonRadian;\n  var lat = radiansToDegrees(2 * Math.atan(Math.exp(latRadians)) - Math.PI / 2);\n  return { lat:lat, lon:lon };\n};\n\nMercatorProjection.prototype._tilePixelPos = function(tileX, tileY) {\n  return {\n    x: tileX*this._tileSize,\n    y: tileY*this._tileSize\n  };\n};\n\nMercatorProjection.prototype.tilePixelBBox = function(x, y, zoom, px, py, res) {\n  res = res || 1.0;\n  var numTiles = 1 <<zoom;\n  var inc = res/numTiles;\n  px = (x*this._tileSize + px)/numTiles;\n  py = (y*this._tileSize + py)/numTiles;\n  return [\n    this._fromPointToLatLon(new Point(px, py + inc)),\n    this._fromPointToLatLon(new Point(px + inc, py))\n  ];\n};\n\nMercatorProjection.prototype.tileBBox = function(x, y, zoom, bufferSize) {\n  var numTiles = 1 <<zoom;\n  bufferSize = bufferSize || 0;\n  var inc =  (this._tileSize + bufferSize*2)/numTiles;\n  var px = (x*this._tileSize - bufferSize  )/numTiles;\n  var py = (y*this._tileSize - bufferSize  )/numTiles;\n  return [\n    this._fromPointToLatLon(new Point(px, py + inc)),\n    this._fromPointToLatLon(new Point(px + inc, py))\n  ];\n};\n\nMercatorProjection.prototype.latLonToTilePoint = function(lat, lon, tileX, tileY, zoom) {\n  var numTiles = 1 <<zoom;\n  var worldCoordinate = this._fromLatLonToPoint(lat, lon);\n  var pixelCoordinate = new Point(worldCoordinate.x*numTiles, worldCoordinate.y*numTiles);\n  var tilePixelPos    = this._tilePixelPos(tileX, tileY);\n  return new Point(Math.round(pixelCoordinate.x-tilePixelPos.x), Math.round(pixelCoordinate.y-tilePixelPos.y));\n};\n\nmodule.exports = MercatorProjection;\n\n},{}],17:[function(require,module,exports){\n/*\n# metrics profiler\n\n## timing\n\n```\n var timer = Profiler.metric('resource:load')\n time.start();\n ...\n time.end();\n```\n\n## counters\n\n```\n var counter = Profiler.metric('requests')\n counter.inc();   // 1\n counter.inc(10); // 11\n counter.dec()    // 10\n counter.dec(10)  // 0\n```\n\n## Calls per second\n```\n  var fps = Profiler.metric('fps')\n  function render() {\n    fps.mark();\n  }\n```\n*/\nvar MAX_HISTORY = 1024;\nfunction Profiler() {}\nProfiler.metrics = {};\n\nProfiler.get = function(name) {\n  return Profiler.metrics[name] || {\n    max: 0,\n    min: Number.MAX_VALUE,\n    avg: 0,\n    total: 0,\n    count: 0,\n    history: typeof(Float32Array) !== 'undefined' ? new Float32Array(MAX_HISTORY) : []\n  };\n};\n\nProfiler.new_value = function (name, value) {\n  var t = Profiler.metrics[name] = Profiler.get(name);\n\n  t.max = Math.max(t.max, value);\n  t.min = Math.min(t.min, value);\n  t.total += value;\n  ++t.count;\n  t.avg = t.total / t.count;\n  t.history[t.count%MAX_HISTORY] = value;\n};\n\nProfiler.print_stats = function () {\n  for (k in Profiler.metrics) {\n    var t = Profiler.metrics[k];\n    console.log(\" === \" + k + \" === \");\n    console.log(\" max: \" + t.max);\n    console.log(\" min: \" + t.min);\n    console.log(\" avg: \" + t.avg);\n    console.log(\" count: \" + t.count);\n    console.log(\" total: \" + t.total);\n  }\n};\n\nfunction Metric(name) {\n  this.t0 = null;\n  this.name = name;\n  this.count = 0;\n}\n\nMetric.prototype = {\n\n  //\n  // start a time measurement\n  //\n  start: function() {\n    this.t0 = +new Date();\n    return this;\n  },\n\n  // elapsed time since start was called\n  _elapsed: function() {\n    return +new Date() - this.t0;\n  },\n\n  //\n  // finish a time measurement and register it\n  // ``start`` should be called first, if not this \n  // function does not take effect\n  //\n  end: function() {\n    if (this.t0 !== null) {\n      Profiler.new_value(this.name, this._elapsed());\n      this.t0 = null;\n    }\n  },\n\n  //\n  // increments the value \n  // qty: how many, default = 1\n  //\n  inc: function(qty) {\n    qty = qty === undefined ? 1: qty;\n    Profiler.new_value(this.name, Profiler.get(this.name).count + (qty ? qty: 0));\n  },\n\n  //\n  // decrements the value \n  // qty: how many, default = 1\n  //\n  dec: function(qty) {\n    qty = qty === undefined ? 1: qty;\n    this.inc(-qty);\n  },\n\n  //\n  // measures how many times per second this function is called\n  //\n  mark: function() {\n    ++this.count;\n    if(this.t0 === null) {\n      this.start();\n      return;\n    }\n    var elapsed = this._elapsed();\n    if(elapsed > 1) {\n      Profiler.new_value(this.name, this.count);\n      this.count = 0;\n      this.start();\n    }\n  }\n};\n\nProfiler.metric = function(name) {\n  return new Metric(name);\n};\n\nmodule.exports = Profiler;\n\n},{}],18:[function(require,module,exports){\nmodule.exports = {\n    json: require('./json'),\n    JsonArray: require('./jsonarray'),\n    windshaft: require('./windshaft')\n};\n\n},{\"./json\":19,\"./jsonarray\":20,\"./windshaft\":21}],19:[function(require,module,exports){\nvar torque = require('../');\nvar Profiler = require('../profiler');\n\n  var Uint8Array = torque.types.Uint8Array;\n  var Int32Array = torque.types.Int32Array;\n  var Uint32Array = torque.types.Uint32Array;\n\n  // format('hello, {0}', 'rambo') -> \"hello, rambo\"\n  function format(str) {\n    for(var i = 1; i < arguments.length; ++i) {\n      var attrs = arguments[i];\n      for(var attr in attrs) {\n        str = str.replace(RegExp('\\\\{' + attr + '\\\\}', 'g'), attrs[attr]);\n      }\n    }\n    return str;\n  }\n\n  var json = function (options) {\n    this._ready = false;\n    this._tileQueue = [];\n    this.options = options;\n\n    this.options.is_time = this.options.is_time === undefined ? true: this.options.is_time;\n    this.options.tiler_protocol = options.tiler_protocol || 'http';\n    this.options.tiler_domain = options.tiler_domain || 'carto.com';\n    this.options.tiler_port = options.tiler_port || 80;\n\n    if (this.options.data_aggregation) {\n      this.options.cumulative = this.options.data_aggregation === 'cumulative';\n    }\n\n    // check options\n    if (options.resolution === undefined ) throw new Error(\"resolution should be provided\");\n    if (options.steps === undefined ) throw new Error(\"steps should be provided\");\n    if(options.start === undefined) {\n      this._fetchKeySpan();\n    } else {\n      this._setReady(true);\n    }\n  };\n\n  json.prototype = {\n\n    /**\n     * return the torque tile encoded in an efficient javascript\n     * structure:\n     * {\n     *   x:Uint8Array x coordinates in tile reference system, normally from 0-255\n     *   y:Uint8Array y coordinates in tile reference system\n     *   Index: Array index to the properties\n     * }\n     */\n    proccessTile: function(rows, coord, zoom) {\n      var r;\n      var x = new Uint8Array(rows.length);\n      var y = new Uint8Array(rows.length);\n\n      var prof_mem = Profiler.metric('ProviderJSON:mem');\n      var prof_point_count = Profiler.metric('ProviderJSON:point_count');\n      var prof_process_time = Profiler.metric('ProviderJSON:process_time').start()\n\n      // count number of dates\n      var dates = 0;\n      var maxDateSlots = -1;\n      for (r = 0; r < rows.length; ++r) {\n        var row = rows[r];\n        dates += row.dates__uint16.length;\n        for(var d = 0; d < row.dates__uint16.length; ++d) {\n          maxDateSlots = Math.max(maxDateSlots, row.dates__uint16[d]);\n        }\n      }\n\n      if(this.options.cumulative) {\n        dates = (1 + maxDateSlots) * rows.length;\n      }\n\n      var type = this.options.cumulative ? Uint32Array: Uint8Array;\n\n      // reserve memory for all the dates\n      var timeIndex = new Int32Array(maxDateSlots + 1); //index-size\n      var timeCount = new Int32Array(maxDateSlots + 1);\n      var renderData = new (this.options.valueDataType || type)(dates);\n      var renderDataPos = new Uint32Array(dates);\n\n      prof_mem.inc(\n        4 * maxDateSlots + // timeIndex\n        4 * maxDateSlots + // timeCount\n        dates + //renderData\n        dates * 4\n      ); //renderDataPos\n\n      prof_point_count.inc(rows.length);\n\n      var rowsPerSlot = {};\n\n      // precache pixel positions\n      for (var r = 0; r < rows.length; ++r) {\n        var row = rows[r];\n        x[r] = row.x__uint8 * this.options.resolution;\n        // fix value when it's in the tile EDGE\n        // TODO: this should be fixed in SQL query\n        if (row.y__uint8 === -1) {\n          y[r] = 0;\n        } else {\n          y[r] = row.y__uint8 * this.options.resolution;\n        }\n\n        var dates = row.dates__uint16;\n        var vals = row.vals__uint8;\n        if (!this.options.cumulative) {\n          for (var j = 0, len = dates.length; j < len; ++j) {\n              var rr = rowsPerSlot[dates[j]] || (rowsPerSlot[dates[j]] = []);\n              if(this.options.cumulative) {\n                  vals[j] += prev_val;\n              }\n              prev_val = vals[j];\n              rr.push([r, vals[j]]);\n          }\n        } else {\n          var valByDate = {}\n          for (var j = 0, len = dates.length; j < len; ++j) {\n            valByDate[dates[j]] = vals[j];\n          }\n          var accum = 0;\n\n          // extend the latest to the end\n          for (var j = dates[0]; j <= maxDateSlots; ++j) {\n              var rr = rowsPerSlot[j] || (rowsPerSlot[j] = []);\n              var v = valByDate[j];\n              if (v) {\n                accum += v;\n              }\n              rr.push([r, accum]);\n          }\n\n          /*var lastDateSlot = dates[dates.length - 1];\n          for (var j = lastDateSlot + 1; j <= maxDateSlots; ++j) {\n            var rr = rowsPerSlot[j] || (rowsPerSlot[j] = []);\n            rr.push([r, prev_val]);\n          }\n          */\n        }\n\n      }\n\n      // for each timeslot search active buckets\n      var renderDataIndex = 0;\n      var timeSlotIndex = 0;\n      var i = 0;\n      for(var i = 0; i <= maxDateSlots; ++i) {\n        var c = 0;\n        var slotRows = rowsPerSlot[i]\n        if(slotRows) {\n          for (var r = 0; r < slotRows.length; ++r) {\n            var rr = slotRows[r];\n            ++c;\n            renderDataPos[renderDataIndex] = rr[0]\n            renderData[renderDataIndex] = rr[1];\n            ++renderDataIndex;\n          }\n        }\n        timeIndex[i] = timeSlotIndex;\n        timeCount[i] = c;\n        timeSlotIndex += c;\n      }\n\n      prof_process_time.end();\n\n      return {\n        x: x,\n        y: y,\n        z: zoom,\n        coord: {\n          x: coord.x,\n          y: coord.y,\n          z: zoom\n        },\n        timeCount: timeCount,\n        timeIndex: timeIndex,\n        renderDataPos: renderDataPos,\n        renderData: renderData,\n        maxDate: maxDateSlots\n      };\n    },\n\n    _host: function() {\n      var opts = this.options;\n      var port = opts.sql_api_port;\n      var domain = ((opts.user_name || opts.user) + '.' + (opts.sql_api_domain || 'carto.com')) + (port ? ':' + port: '');\n      var protocol = opts.sql_api_protocol || 'http';\n      return this.options.url || protocol + '://' + domain + '/api/v2/sql';\n    },\n\n    url: function(subhost) {\n      var opts = this.options;\n      var protocol = opts.sql_api_protocol || 'http';\n      if (!this.options.cdn_url) {\n        return this._host();\n      }\n      var h = protocol+ \"://\";\n      if (subhost) {\n        h += subhost + \".\";\n      }\n      var cdn_host = opts.cdn_url;\n      if(!cdn_host.http && !cdn_host.https) {\n        throw new Error(\"cdn_host should contain http and/or https entries\");\n      }\n      h += cdn_host[protocol] + \"/\" + (opts.user_name || opts.user) + '/api/v2/sql';\n      return h;\n    },\n\n    _hash: function(str) {\n      var hash = 0;\n      if (!str || str.length == 0) return hash;\n      for (var i = 0, l = str.length; i < l; ++i) {\n          hash = (( (hash << 5 ) - hash ) + str.charCodeAt(i)) | 0;\n      }\n      return hash;\n    },\n\n    _extraParams: function() {\n      if (this.options.extra_params) {\n        var p = [];\n        for(var k in this.options.extra_params) {\n          var v = this.options.extra_params[k];\n          if (v) {\n            p.push(k + \"=\" + encodeURIComponent(v));\n          }\n        }\n        return p.join('&');\n      }\n      return null;\n    },\n\n    isHttps: function() {\n      return this.options.sql_api_protocol && this.options.sql_api_protocol === 'https';\n    },\n\n    // execute actual query\n    sql: function(sql, callback, options) {\n      options = options || {};\n      var subdomains = this.options.subdomains || '0123';\n      if(this.isHttps()) {\n        subdomains = [null]; // no subdomain\n      }\n\n\n      var url;\n      if (options.no_cdn) {\n        url = this._host();\n      } else {\n        url = this.url(subdomains[Math.abs(this._hash(sql))%subdomains.length]);\n      }\n      var extra = this._extraParams();\n      torque.net.get( url + \"?q=\" + encodeURIComponent(sql) + (extra ? \"&\" + extra: ''), function (data) {\n          if(options.parseJSON) {\n            data = JSON.parse(data && data.responseText);\n          }\n          callback && callback(data);\n      });\n    },\n\n    getTileData: function(coord, zoom, callback) {\n      if(!this._ready) {\n        this._tileQueue.push([coord, zoom, callback]);\n      } else {\n        this._getTileData(coord, zoom, callback);\n      }\n    },\n\n    _setReady: function(ready) {\n      this._ready = true;\n      this._processQueue();\n      this.options.ready && this.options.ready();\n    },\n\n    _processQueue: function() {\n      var item;\n      while (item = this._tileQueue.pop()) {\n        this._getTileData.apply(this, item);\n      }\n    },\n\n    /**\n     * `coord` object like {x : tilex, y: tiley }\n     * `zoom` quadtree zoom level\n     */\n    _getTileData: function(coord, zoom, callback) {\n      var prof_fetch_time = Profiler.metric('ProviderJSON:tile_fetch_time').start()\n      this.table = this.options.table;\n      var numTiles = 1 << zoom;\n\n      var column_conv = this.options.column;\n\n      if(this.options.is_time) {\n        column_conv = format(\"date_part('epoch', {column})\", this.options);\n      }\n\n      var sql = \"\" +\n        \"WITH \" +\n        \"par AS (\" +\n        \"  SELECT CDB_XYZ_Resolution({zoom})*{resolution} as res\" +\n        \",  256/{resolution} as tile_size\" +\n        \", CDB_XYZ_Extent({x}, {y}, {zoom}) as ext \"  +\n        \"),\" +\n        \"cte AS ( \"+\n        \"  SELECT ST_SnapToGrid(i.the_geom_webmercator, p.res) g\" +\n        \", {countby} c\" +\n        \", floor(({column_conv} - {start})/{step}) d\" +\n        \"  FROM ({_sql}) i, par p \" +\n        \"  WHERE i.the_geom_webmercator && p.ext \" +\n        \"  GROUP BY g, d\" +\n        \") \" +\n        \"\" +\n        \"SELECT (st_x(g)-st_xmin(p.ext))/p.res x__uint8, \" +\n        \"       (st_y(g)-st_ymin(p.ext))/p.res y__uint8,\" +\n        \" array_agg(c) vals__uint8,\" +\n        \" array_agg(d) dates__uint16\" +\n        // the tile_size where are needed because the overlaps query in cte subquery includes the points\n        // in the left and bottom borders of the tile\n        \" FROM cte, par p where (st_y(g)-st_ymin(p.ext))/p.res < tile_size and (st_x(g)-st_xmin(p.ext))/p.res < tile_size GROUP BY x__uint8, y__uint8\";\n\n\n      var query = format(sql, this.options, {\n        zoom: zoom,\n        x: coord.x,\n        y: coord.y,\n        column_conv: column_conv,\n        _sql: this.getSQL()\n      });\n\n      var self = this;\n      this.sql(query, function (data) {\n        if (data) {\n          var rows = JSON.parse(data.responseText).rows;\n          callback(self.proccessTile(rows, coord, zoom));\n        } else {\n          callback(null);\n        }\n        prof_fetch_time.end();\n      });\n    },\n\n    getKeySpan: function() {\n      return {\n        start: this.options.start * 1000,\n        end: this.options.end * 1000,\n        step: this.options.step,\n        steps: this.options.steps,\n        columnType: this.options.is_time ? 'date': 'number'\n      };\n    },\n\n    setColumn: function(column, isTime) {\n      this.options.column = column;\n      this.options.is_time = isTime === undefined ? true: false;\n      this.reload();\n    },\n\n    setResolution: function(res) {\n      this.options.resolution = res;\n    },\n\n    // return true if tiles has been changed\n    setOptions: function(opt) {\n      var refresh = false;\n\n      if(opt.resolution !== undefined && opt.resolution !== this.options.resolution) {\n        this.options.resolution = opt.resolution;\n        refresh = true;\n      }\n\n      if(opt.steps !== undefined && opt.steps !== this.options.steps) {\n        this.setSteps(opt.steps, { silent: true });\n        refresh = true;\n      }\n\n      if(opt.column !== undefined && opt.column !== this.options.column) {\n        this.options.column = opt.column;\n        refresh = true;\n      }\n\n      if(opt.countby !== undefined && opt.countby !== this.options.countby) {\n        this.options.countby = opt.countby;\n        refresh = true;\n      }\n\n      if(opt.data_aggregation !== undefined) {\n        var c = opt.data_aggregation === 'cumulative';\n        if (this.options.cumulative !== c) {\n          this.options.cumulative = c;\n          refresh = true;\n        }\n      }\n\n      if (refresh) this.reload();\n      return refresh;\n\n    },\n\n    reload: function() {\n      this._ready = false;\n      this._fetchKeySpan();\n    },\n\n    setSQL: function(sql) {\n      if (this.options.sql != sql) {\n        this.options.sql = sql;\n        this.reload();\n      }\n    },\n\n    getSteps: function() {\n      return Math.min(this.options.steps, this.options.data_steps);\n    },\n\n    setSteps: function(steps, opt) {\n      opt = opt || {};\n      if (this.options.steps !== steps) {\n        this.options.steps = steps;\n        this.options.step = (this.options.end - this.options.start)/this.getSteps();\n        this.options.step = this.options.step || 1;\n        if (!opt.silent) this.reload();\n      }\n    },\n\n    getBounds: function() {\n      return this.options.bounds;\n    },\n\n    getSQL: function() {\n      return this.options.sql || \"select * from \" + this.options.table;\n    },\n\n    _tilerHost: function() {\n      var opts = this.options;\n      var user = (opts.user_name || opts.user);\n      return opts.tiler_protocol +\n           \"://\" + (user ? user + \".\" : \"\")  +\n           opts.tiler_domain +\n           ((opts.tiler_port != \"\") ? (\":\" + opts.tiler_port) : \"\");\n    },\n\n    _fetchUpdateAt: function(callback) {\n      var self = this;\n      var layergroup = {\n        \"version\": \"1.0.1\",\n        \"stat_tag\": this.options.stat_tag || 'torque',\n        \"layers\": [{\n          \"type\": \"cartodb\",\n          \"options\": {\n            \"cartocss_version\": \"2.1.1\", \n            \"cartocss\": \"#layer {}\",\n            \"sql\": this.getSQL()\n          }\n        }]\n      };\n      var url = this._tilerHost() + \"/tiles/layergroup\";\n      var extra = this._extraParams();\n\n      // tiler needs map_key instead of api_key\n      // so replace it\n      if (extra) {\n        extra = extra.replace('api_key=', 'map_key=');\n      }\n\n      url = url +\n        \"?config=\" + encodeURIComponent(JSON.stringify(layergroup)) +\n        \"&callback=?\" + (extra ? \"&\" + extra: '');\n\n      torque.net.jsonp(url, function (data) {\n        var query = format(\"select * from ({sql}) __torque_wrap_sql limit 0\", { sql: self.getSQL() });\n        self.sql(query, function (queryData) {\n          if (data && queryData) {\n            callback({\n              updated_at: data.last_updated,\n              fields: queryData.fields\n            });\n          }\n        }, { parseJSON: true });\n      });\n    },\n\n    //\n    // the data range could be set by the user though ``start``\n    // option. It can be fecthed from the table when the start\n    // is not specified.\n    //\n    _fetchKeySpan: function() {\n      var self = this;\n      var max_col, min_col, max_tmpl, min_tmpl;\n\n      this._fetchUpdateAt(function(data) {\n        if (!data) return;\n        self.options.extra_params = self.options.extra_params || {};\n        self.options.extra_params.last_updated = data.updated_at || 0;\n        self.options.extra_params.cache_policy = 'persist';\n        self.options.is_time = data.fields[self.options.column].type === 'date';\n\n        var column_conv = self.options.column;\n        if (self.options.is_time){\n          max_tmpl = \"date_part('epoch', max({column}))\";\n          min_tmpl = \"date_part('epoch', min({column}))\";\n          column_conv = format(\"date_part('epoch', {column})\", self.options);\n        } else {\n          max_tmpl = \"max({column})\";\n          min_tmpl = \"min({column})\";\n        }\n\n        max_col = format(max_tmpl, { column: self.options.column });\n        min_col = format(min_tmpl, { column: self.options.column });\n\n        /*var sql_stats = \"\" +\n        \"WITH summary_groups as ( \" +\n          \"WITH summary as ( \" +\n           \"select   (row_number() over (order by __time_col asc nulls last)+1)/2 as rownum, __time_col \" +\n            \"from (select *, {column} as __time_col from ({sql}) __s) __torque_wrap_sql \" +\n            \"order by __time_col asc \" +\n          \") \" +\n          \"SELECT \" +\n          \"max(__time_col) OVER(PARTITION BY rownum) -  \" +\n          \"min(__time_col) OVER(PARTITION BY rownum) diff \" +\n          \"FROM summary \" +\n        \"), subq as ( \" +\n        \" SELECT \" +\n            \"st_xmax(st_envelope(st_collect(the_geom))) xmax, \" +\n            \"st_ymax(st_envelope(st_collect(the_geom))) ymax, \" +\n            \"st_xmin(st_envelope(st_collect(the_geom))) xmin, \" +\n            \"st_ymin(st_envelope(st_collect(the_geom))) ymin, \" +\n            \"{max_col} max, \" +\n            \"{min_col} min FROM  ({sql}) __torque_wrap_sql \" +\n        \")\" +\n        \"SELECT \" +\n        \"xmax, xmin, ymax, ymin, a.max as max_date, a.min as min_date, \" +\n        \"avg(diff) as diffavg,\" +\n        \"(a.max - a.min)/avg(diff) as num_steps \" +\n        \"FROM summary_groups, subq a  \" +\n        \"WHERE diff > 0 group by xmax, xmin, ymax, ymin, max_date, min_date\";\n        */\n        var sql_stats = \" SELECT \" +\n            \"st_xmax(st_envelope(st_collect(the_geom))) xmax, \" +\n            \"st_ymax(st_envelope(st_collect(the_geom))) ymax, \" +\n            \"st_xmin(st_envelope(st_collect(the_geom))) xmin, \" +\n            \"st_ymin(st_envelope(st_collect(the_geom))) ymin, \" +\n            \"count(*) as num_steps, \" +\n            \"{max_col} max_date, \" +\n            \"{min_col} min_date FROM  ({sql}) __torque_wrap_sql \";\n\n        var sql = format(sql_stats, {\n          max_col: max_col,\n          min_col: min_col,\n          column: column_conv,\n          sql: self.getSQL()\n        });\n\n        self.sql(sql, function(data) {\n          //TODO: manage bounds\n          data = data.rows[0];\n          self.options.start = data.min_date;\n          self.options.end = data.max_date;\n          self.options.step = (data.max_date - data.min_date)/Math.min(self.options.steps, data.num_steps>>0);\n          self.options.data_steps = data.num_steps >> 0;\n          // step can't be 0\n          self.options.step = self.options.step || 1;\n          self.options.bounds = [\n            [data.ymin, data.xmin],\n            [data.ymax, data.xmax]\n          ];\n          self._setReady(true);\n        }, { parseJSON: true, no_cdn: true });\n      }, { parseJSON: true, no_cdn: true})\n    }\n\n  };\n\nmodule.exports = json;\n\n},{\"../\":10,\"../profiler\":17}],20:[function(require,module,exports){\nvar torque = require('../');\nvar Profiler = require('../profiler');\n\n  var Uint8Array = torque.types.Uint8Array;\n  var Int32Array = torque.types.Int32Array;\n  var Uint32Array = torque.types.Uint32Array;\n\n  // format('hello, {0}', 'rambo') -> \"hello, rambo\"\n  function format(str, attrs) {\n    for(var i = 1; i < arguments.length; ++i) {\n      var attrs = arguments[i];\n      for(var attr in attrs) {\n        str = str.replace(RegExp('\\\\{' + attr + '\\\\}', 'g'), attrs[attr]);\n      }\n    }\n    return str;\n  }\n\n  var json = function (options) {\n    // check options\n    this.options = options;\n  };\n\n\n  json.prototype = {\n\n    //\n    // return the data aggregated by key:\n    // {\n    //  key0: 12,\n    //  key1: 32\n    //  key2: 25\n    // }\n    //\n    aggregateByKey: function(rows) {\n      function getKeys(row) {\n        var HEADER_SIZE = 3;\n        var valuesCount = row.data[2];\n        var keys = {};\n        for (var s = 0; s < valuesCount; ++s) {\n          keys[row.data[HEADER_SIZE + s]] = row.data[HEADER_SIZE + valuesCount + s];\n        }\n        return keys;\n      }\n      var keys = {};\n      for (r = 0; r < rows.length; ++r) {\n        var rowKeys = getKeys(rows[r]);\n        for(var k in rowKeys) {\n          keys[k] = keys[k] || 0;\n          keys[k] += rowKeys[k];\n        }\n      }\n      return keys;\n    },\n    \n\n\n\n    /**\n     *\n     */\n    proccessTile: function(rows, coord, zoom) {\n      var r;\n      var x = new Uint8Array(rows.length);\n      var y = new Uint8Array(rows.length);\n      var self = this;\n\n      // decode into a javascript strcuture the array\n      function decode_row(row) {\n        var HEADER_SIZE = 3;\n        var o = {\n          x: row.data[0] * self.options.resolution,\n          y: row.data[1] * self.options.resolution,\n          valuesCount: row.data[2],\n          times: [],\n          values: []\n        };\n        for (var s = 0; s < o.valuesCount; ++s) {\n           o.times.push(row.data[HEADER_SIZE + s]);\n           o.values.push(row.data[HEADER_SIZE + o.valuesCount + s]);\n        }\n        if(self.options.cumulative) {\n          for (var s = 1; s < o.valuesCount; ++s) {\n           o.values[s] += o.values[s - 1];\n          }\n        }\n        return o\n      }\n\n      // decode all the rows\n      for (r = 0; r < rows.length; ++r) {\n        rows[r] = decode_row(rows[r]);\n      }\n\n      // count number of dates\n      var dates = 0;\n      var maxDateSlots = 0;\n      for (r = 0; r < rows.length; ++r) {\n        var row = rows[r];\n        dates += row.times.length;\n        for(var d = 0; d < row.times.length; ++d) {\n          maxDateSlots = Math.max(maxDateSlots, row.times[d]);\n        }\n      }\n\n      // reserve memory for all the dates\n      var timeIndex = new Int32Array(maxDateSlots + 1); //index-size\n      var timeCount = new Int32Array(maxDateSlots + 1);\n      var renderData = new (this.options.valueDataType || Uint8Array)(dates);\n      var renderDataPos = new Uint32Array(dates);\n\n      var rowsPerSlot = {};\n\n      // precache pixel positions\n      for (var r = 0; r < rows.length; ++r) {\n        var row = rows[r];\n        x[r] = row.x;\n        y[r] = row.y;\n\n        var dates = row.times;\n        var vals = row.values;\n        for (var j = 0, len = dates.length; j < len; ++j) {\n            var rr = rowsPerSlot[dates[j]] || (rowsPerSlot[dates[j]] = []);\n            rr.push([r, vals[j]]);\n        }\n      }\n\n      // for each timeslot search active buckets\n      var renderDataIndex = 0;\n      var timeSlotIndex = 0;\n      var i = 0;\n      for(var i = 0; i <= maxDateSlots; ++i) {\n        var c = 0;\n        var slotRows = rowsPerSlot[i]\n        if(slotRows) {\n          for (var r = 0; r < slotRows.length; ++r) {\n            var rr = slotRows[r];\n            ++c;\n            renderDataPos[renderDataIndex] = rr[0]\n            renderData[renderDataIndex] = rr[1];\n            ++renderDataIndex;\n          }\n        }\n        timeIndex[i] = timeSlotIndex;\n        timeCount[i] = c;\n        timeSlotIndex += c;\n      }\n\n      return {\n        x: x,\n        y: y,\n        coord: {\n          x: coord.x,\n          y: coord.y,\n          z: zoom\n        },\n        timeCount: timeCount,\n        timeIndex: timeIndex,\n        renderDataPos: renderDataPos,\n        renderData: renderData\n      };\n    },\n\n    url: function() {\n      return this.options.url;\n    },\n\n\n    tileUrl: function(coord, zoom) {\n      var template = this.url();\n      var s = (this.options.subdomains || 'abcd')[(coord.x + coord.y + zoom) % 4];\n      return template\n        .replace('{x}', coord.x)\n        .replace('{y}', coord.y)\n        .replace('{z}', zoom)\n        .replace('{s}', s);\n    },\n\n    getTile: function(coord, zoom, callback) {\n      var template = this.tileUrl(coord, zoom);\n\n      var self = this;\n      var fetchTime = Profiler.metric('jsonarray:fetch time');\n      fetchTime.start();\n      torque.net.get(template, function (data) {\n        fetchTime.end();\n        if(data) {\n          data = JSON.parse(data.responseText);\n        }\n        callback(data);\n      });\n    },\n\n    /**\n     * `coord` object like {x : tilex, y: tiley } \n     * `zoom` quadtree zoom level\n     */\n    getTileData: function(coord, zoom, callback) {\n      var template = this.tileUrl(coord, zoom);\n\n      var self = this;\n      var fetchTime = Profiler.metric('jsonarray:fetch time');\n      fetchTime.start();\n      torque.net.get(template, function (data) {\n        fetchTime.end();\n        var processed = null;\n        \n        var processingTime = Profiler.metric('jsonarray:processing time');\n        var parsingTime = Profiler.metric('jsonarray:parsing time');\n        try {\n          processingTime.start();\n          parsingTime.start();\n          var rows = JSON.parse(data.responseText || data.response).rows;\n          parsingTime.end();\n          processed = self.proccessTile(rows, coord, zoom);\n          processingTime.end();\n        } catch(e) {\n          console.error(\"problem parsing JSON on \", coord, zoom);\n        }\n\n        callback(processed);\n\n      });\n    }\n\n  };\n\n  module.exports = json;\n\n},{\"../\":10,\"../profiler\":17}],21:[function(require,module,exports){\n  var torque = require('../');\n  var Profiler = require('../profiler');\n\n  var Uint8Array = torque.types.Uint8Array;\n  var Int32Array = torque.types.Int32Array;\n  var Uint32Array = torque.types.Uint32Array;\n  var Uint8ClampedArray = torque.types.Uint8ClampedArray;\n\n  // format('hello, {0}', 'rambo') -> \"hello, rambo\"\n  function format(str) {\n    for(var i = 1; i < arguments.length; ++i) {\n      var attrs = arguments[i];\n      for(var attr in attrs) {\n        str = str.replace(RegExp('\\\\{' + attr + '\\\\}', 'g'), attrs[attr]);\n      }\n    }\n    return str;\n  }\n\n  var windshaft = function (options) {\n    this._ready = false;\n    this._tileQueue = [];\n    this.options = options;\n\n    this.options.is_time = this.options.is_time === undefined ? true: this.options.is_time;\n    this.options.tiler_protocol = options.tiler_protocol || 'http';\n    this.options.tiler_domain = options.tiler_domain || 'carto.com';\n    this.options.tiler_port = options.tiler_port || 80;\n\n    // backwards compatible\n    if (!options.maps_api_template) {\n      this._buildMapsApiTemplate(this.options);\n    } else {\n      this.options.maps_api_template =  options.maps_api_template;\n    }\n\n    this.options.coordinates_data_type = this.options.coordinates_data_type || Uint8Array;\n\n    if (this.options.data_aggregation) {\n      this.options.cumulative = this.options.data_aggregation === 'cumulative';\n    }\n    if (this.options.auth_token) {\n      var e = this.options.extra_params || (this.options.extra_params = {});\n      e.auth_token = this.options.auth_token;\n    }\n    if (!this.options.no_fetch_map) {\n      this._fetchMap();\n    }\n  };\n\n  windshaft.prototype = {\n\n    /**\n     * return the torque tile encoded in an efficient javascript\n     * structure:\n     * {\n     *   x:Uint8Array x coordinates in tile reference system, normally from 0-255\n     *   y:Uint8Array y coordinates in tile reference system\n     *   Index: Array index to the properties\n     * }\n     */\n    proccessTile: function(rows, coord, zoom) {\n      var r;\n      var x = new this.options.coordinates_data_type(rows.length);\n      var y = new this.options.coordinates_data_type(rows.length);\n\n      var prof_mem = Profiler.metric('torque.provider.windshaft.mem');\n      var prof_point_count = Profiler.metric('torque.provider.windshaft.points');\n      var prof_process_time = Profiler.metric('torque.provider.windshaft.process_time').start();\n\n      // count number of dates\n      var dates = 0;\n      var maxDateSlots = -1;\n      for (r = 0; r < rows.length; ++r) {\n        var row = rows[r];\n        dates += row.dates__uint16.length;\n        for(var d = 0; d < row.dates__uint16.length; ++d) {\n          maxDateSlots = Math.max(maxDateSlots, row.dates__uint16[d]);\n        }\n      }\n\n      if(this.options.cumulative) {\n        dates = (1 + maxDateSlots) * rows.length;\n      }\n\n      var type = this.options.cumulative ? Uint32Array: Uint8ClampedArray;\n\n      // reserve memory for all the dates\n      var timeIndex = new Int32Array(maxDateSlots + 1); //index-size\n      var timeCount = new Int32Array(maxDateSlots + 1);\n      var renderData = new (this.options.valueDataType || type)(dates);\n      var renderDataPos = new Uint32Array(dates);\n\n      prof_mem.inc(\n        4 * maxDateSlots + // timeIndex\n        4 * maxDateSlots + // timeCount\n        dates + //renderData\n        dates * 4\n      ); //renderDataPos\n\n      prof_point_count.inc(rows.length);\n\n      var rowsPerSlot = {};\n\n      // precache pixel positions\n      for (var r = 0; r < rows.length; ++r) {\n        var row = rows[r];\n        x[r] = row.x__uint8 * this.options.resolution;\n        y[r] = row.y__uint8 * this.options.resolution;\n\n        var dates = row.dates__uint16;\n        var vals = row.vals__uint8;\n        if (!this.options.cumulative) {\n          for (var j = 0, len = dates.length; j < len; ++j) {\n              var rr = rowsPerSlot[dates[j]] || (rowsPerSlot[dates[j]] = []);\n              if(this.options.cumulative) {\n                  vals[j] += prev_val;\n              }\n              prev_val = vals[j];\n              rr.push([r, vals[j]]);\n          }\n        } else {\n          var valByDate = {}\n          for (var j = 0, len = dates.length; j < len; ++j) {\n            valByDate[dates[j]] = vals[j];\n          }\n          var accum = 0;\n\n          // extend the latest to the end\n          for (var j = dates[0]; j <= maxDateSlots; ++j) {\n              var rr = rowsPerSlot[j] || (rowsPerSlot[j] = []);\n              var v = valByDate[j];\n              if (v) {\n                accum += v;\n              }\n              rr.push([r, accum]);\n          }\n\n          /*var lastDateSlot = dates[dates.length - 1];\n          for (var j = lastDateSlot + 1; j <= maxDateSlots; ++j) {\n            var rr = rowsPerSlot[j] || (rowsPerSlot[j] = []);\n            rr.push([r, prev_val]);\n          }\n          */\n        }\n\n      }\n\n      // for each timeslot search active buckets\n      var renderDataIndex = 0;\n      var timeSlotIndex = 0;\n      var i = 0;\n      for(var i = 0; i <= maxDateSlots; ++i) {\n        var c = 0;\n        var slotRows = rowsPerSlot[i]\n        if(slotRows) {\n          for (var r = 0; r < slotRows.length; ++r) {\n            var rr = slotRows[r];\n            ++c;\n            renderDataPos[renderDataIndex] = rr[0]\n            renderData[renderDataIndex] = rr[1];\n            ++renderDataIndex;\n          }\n        }\n        timeIndex[i] = timeSlotIndex;\n        timeCount[i] = c;\n        timeSlotIndex += c;\n      }\n\n      prof_process_time.end();\n\n      return {\n        x: x,\n        y: y,\n        z: zoom,\n        coord: {\n          x: coord.x,\n          y: coord.y,\n          z: zoom\n        },\n        timeCount: timeCount,\n        timeIndex: timeIndex,\n        renderDataPos: renderDataPos,\n        renderData: renderData,\n        maxDate: maxDateSlots\n      };\n    },\n\n    /*setCartoCSS: function(c) {\n      this.options.cartocss = c;\n    },*/\n\n    setSteps: function(steps, opt) { \n      opt = opt || {};\n      if (this.options.steps !== steps) {\n        this.options.steps = steps;\n        this.options.step = (this.options.end - this.options.start)/this.getSteps();\n        this.options.step = this.options.step || 1;\n        if (!opt.silent) this.reload();\n      }\n    },\n\n    setOptions: function(opt) {\n      var refresh = false;\n\n      if(opt.resolution !== undefined && opt.resolution !== this.options.resolution) {\n        this.options.resolution = opt.resolution;\n        refresh = true;\n      }\n\n      if(opt.steps !== undefined && opt.steps !== this.options.steps) {\n        this.setSteps(opt.steps, { silent: true });\n        refresh = true;\n      }\n\n      if(opt.column !== undefined && opt.column !== this.options.column) {\n        this.options.column = opt.column;\n        refresh = true;\n      }\n\n      if(opt.countby !== undefined && opt.countby !== this.options.countby) {\n        this.options.countby = opt.countby;\n        refresh = true;\n      }\n\n      if(opt.data_aggregation !== undefined) {\n        var c = opt.data_aggregation === 'cumulative';\n        if (this.options.cumulative !== c) {\n          this.options.cumulative = c;\n          refresh = true;\n        }\n      }\n\n      if (refresh) this.reload();\n      return refresh;\n    },\n\n    _extraParams: function(e) {\n      e = torque.extend(torque.extend({}, e), this.options.extra_params);\n      if (e) {\n        var p = [];\n        for(var k in e) {\n          var v = e[k];\n          if (v) {\n            if (torque.isArray(v)) {\n              for (var i = 0, len = v.length; i < len; i++) {\n                p.push(k + \"[]=\" + encodeURIComponent(v[i]));\n              }\n            } else {\n              p.push(k + \"=\" + encodeURIComponent(v));\n            }\n          }\n        }\n        return p.join('&');\n      }\n      return null;\n    },\n\n    getTileData: function(coord, zoom, callback) {\n      if(!this._ready) {\n        this._tileQueue.push([coord, zoom, callback]);\n      } else {\n        this._getTileData(coord, zoom, callback);\n      }\n    },\n\n    _setReady: function(ready) {\n      this._ready = true;\n      this._processQueue();\n      this.options.ready && this.options.ready();\n    },\n\n    _processQueue: function() {\n      var item;\n      while (item = this._tileQueue.pop()) {\n        this._getTileData.apply(this, item);\n      }\n    },\n\n    /**\n     * `coord` object like {x : tilex, y: tiley }\n     * `zoom` quadtree zoom level\n     */\n    _getTileData: function(coord, zoom, callback) {\n      var self = this;\n      var prof_fetch_time = Profiler.metric('torque.provider.windshaft.tile.fetch').start();\n      var subdomains = this.options.subdomains || '0123';\n      var limit_x = Math.pow(2, zoom);\n      var corrected_x = ((coord.x % limit_x) + limit_x) % limit_x;\n      var index = Math.abs(corrected_x + coord.y) % subdomains.length;\n      var url = this.templateUrl\n                .replace('{x}', corrected_x)\n                .replace('{y}', coord.y)\n                .replace('{z}', zoom)\n                .replace('{s}', subdomains[index])\n\n      var extra = this._extraParams();\n      torque.net.get( url + (extra ? \"?\" + extra: ''), function (data) {\n        prof_fetch_time.end();\n        if (data && data.responseText) {\n          var rows = JSON.parse(data.responseText);\n          callback(self.proccessTile(rows, coord, zoom));\n        } else {\n          Profiler.metric('torque.provider.windshaft.tile.error').inc();\n          callback(null);\n        }\n      });\n    },\n\n    getKeySpan: function() {\n      return {\n        start: this.options.start,\n        end: this.options.end,\n        step: this.options.step,\n        steps: this.options.steps,\n        columnType: this.options.column_type\n      };\n    },\n\n    setColumn: function(column, isTime) {\n      this.options.column = column;\n      this.options.is_time = isTime === undefined ? true: false;\n      this.reload();\n    },\n\n    reload: function() {\n      this._ready = false;\n      this._fetchMap();\n    },\n\n    getSteps: function() {\n      return Math.min(this.options.steps, this.options.data_steps);\n    },\n\n    getBounds: function() {\n      return this.options.bounds;\n    },\n\n    getSQL: function() {\n      return this.options.sql || \"select * from \" + this.options.table;\n    },\n\n    setSQL: function(sql) {\n      if (this.options.sql != sql) {\n        this.options.sql = sql;\n        this.reload();\n      }\n    },\n\n    _buildMapsApiTemplate: function(opts) {\n       var user = opts.user_name || opts.user;\n       opts.maps_api_template = opts.tiler_protocol +\n           \"://\" + ((user) ? \"{user}.\":\"\")  +\n           opts.tiler_domain +\n           ((opts.tiler_port != \"\") ? (\":\" + opts.tiler_port) : \"\");\n    },\n\n    _tilerHost: function() {\n      var opts = this.options;\n      var user = opts.user_name || opts.user;\n      return opts.maps_api_template.replace('{user}', user);\n    },\n\n    url: function () {\n      var opts = this.options;\n      var cdn_host = opts.cdn_url;\n      var has_empty_cdn = !cdn_host || (cdn_host && (!cdn_host.http && !cdn_host.https));\n\n      if (opts.no_cdn || has_empty_cdn) {\n        return this._tilerHost();\n      } else {\n        var protocol = this.isHttps() ? 'https': 'http';\n        var h = protocol + \"://\";\n        if (!this.isHttps()) {\n          h += \"{s}.\";\n        }\n        var cdn_url = cdn_host[protocol];\n        // build default template url if the cdn url is not templatized\n        // this is for backwards compatiblity, ideally we should use the url\n        // that tiler sends to us right away\n        if (!this._isUserTemplateUrl(cdn_url)) {\n          cdn_url = cdn_url  + \"/{user}\";\n        }\n        var user = opts.user_name || opts.user;\n        h += cdn_url.replace('{user}', user)\n        return h;\n      }\n\n    },\n\n    _isUserTemplateUrl: function(t) {\n      return t && t.indexOf('{user}') !== -1;\n    },\n\n    isHttps: function() {\n      return this.options.maps_api_template.indexOf('https') === 0;\n    },\n\n    _generateCartoCSS: function() {\n      var attr = {\n        '-torque-frame-count': this.options.steps,\n        '-torque-resolution': this.options.resolution,\n        '-torque-aggregation-function': \"'\" + this.options.countby + \"'\",\n        '-torque-time-attribute': \"'\" + this.options.column + \"'\",\n        '-torque-data-aggregation': this.options.cumulative ? 'cumulative': 'linear',\n      };\n      var st = 'Map{';\n      for (var k in attr) {\n        st += k + \":\" + attr[k] + \";\";\n      }\n      return st + \"}\";\n    },\n\n    _fetchMap: function(callback) {\n      var self = this;\n      var layergroup = {};\n      var host = this.options.dynamic_cdn ? this.url().replace('{s}', '0'): this._tilerHost();\n      var url = host + \"/api/v1/map\";\n      var named = this.options.named_map;\n      var allParams = {};\n\n      if(named) {\n        //tiles/template\n        url = host + \"/api/v1/map/named/\" + named.name + \"/jsonp\";\n        if(typeof named.params !== \"undefined\"){\n          layergroup = named.params;\n        }\n      } else {\n        layergroup = {\n          \"version\": \"1.0.1\",\n          \"stat_tag\": this.options.stat_tag || 'torque',\n          \"layers\": [{\n            \"type\": \"torque\",\n            \"options\": {\n              \"cartocss_version\": \"1.0.0\",\n              \"cartocss\": this._generateCartoCSS(),\n              \"sql\": this.getSQL()\n            }\n          }]\n        };\n      }\n      \n      if(this.options.stat_tag){\n        allParams[\"stat_tag\"] = this.options.stat_tag;\n      }\n\n      extra = this._extraParams(allParams);\n\n      // tiler needs map_key instead of api_key\n      // so replace it\n      if (extra) {\n        extra = extra.replace('api_key=', 'map_key=');\n      }\n\n      url = url +\n        \"?config=\" + encodeURIComponent(JSON.stringify(layergroup)) +\n        \"&callback=?\" + (extra ? \"&\" + extra: '');\n\n      var map_instance_time = Profiler.metric('torque.provider.windshaft.layergroup.time').start();\n      torque.net.jsonp(url, function (data) {\n        map_instance_time.end();\n        if (data) {\n          if (data.errors){\n            self.options.errorCallback && self.options.errorCallback(data.errors);\n            return;\n          }\n          var torque_key = Object.keys(data.metadata.torque)[0]\n          var opt = data.metadata.torque[torque_key];\n          for(var k in opt) {\n            self.options[k] = opt[k];\n          }\n          // use cdn_url if present\n          if (data.cdn_url) {\n            var c = self.options.cdn_url = self.options.cdn_url || {};\n            c.http = data.cdn_url.http || c.http;\n            c.https = data.cdn_url.https || c.https;\n          }\n          self.templateUrl = self.url() + \"/api/v1/map/\" + data.layergroupid + \"/\" + torque_key + \"/{z}/{x}/{y}.json.torque\";\n          self._setReady(true);\n        } else {\n          Profiler.metric('torque.provider.windshaft.layergroup.error').inc();\n        }\n      }, { callbackName: self.options.instanciateCallback });\n    }\n\n  };\n\n  module.exports = windshaft;\n\n},{\"../\":10,\"../profiler\":17}],22:[function(require,module,exports){\n  var TAU = Math.PI*2;\n  // min value to render a line. \n  // it does not make sense to render a line of a width is not even visible\n  var LINEWIDTH_MIN_VALUE = 0.05; \n  var MAX_SPRITE_RADIUS = 255;\n\n  function renderPoint(ctx, st) {\n    ctx.fillStyle = st['marker-fill'];\n    var pixel_size = st['marker-width'];\n\n    // render a circle\n    // TODO: fill and stroke order should depend on the order of the properties\n    // in the cartocss.\n\n    // fill\n    ctx.beginPath();\n    ctx.arc(0, 0, pixel_size, 0, TAU, true, true);\n    ctx.closePath();\n\n    if (st['marker-opacity'] !== undefined )  st['marker-fill-opacity'] = st['marker-line-opacity'] = st['marker-opacity'];\n\n    if (st['marker-fill']) {\n        ctx.globalAlpha = st['marker-fill-opacity'] >= 0? st['marker-fill-opacity']: 1;\n\n      if (ctx.globalAlpha > 0) {\n        ctx.fill();\n      }\n    }\n\n    // stroke\n    if (st['marker-line-color'] && st['marker-line-width'] && st['marker-line-width'] > LINEWIDTH_MIN_VALUE) {\n      ctx.globalAlpha = st['marker-line-opacity'] >= 0? st['marker-line-opacity']: 1;\n      if (st['marker-line-width'] !== undefined) {\n        ctx.lineWidth = st['marker-line-width'];\n      }\n      ctx.strokeStyle = st['marker-line-color'];\n\n      // do not render for alpha = 0\n      if (ctx.globalAlpha > 0) {\n        ctx.stroke();\n      }\n    }\n  }\n\n  function renderRectangle(ctx, st) {\n    ctx.fillStyle = st['marker-fill'];\n    var pixel_size = st['marker-width'];\n    var w = pixel_size * 2;\n\n    // fill\n    if (st['marker-fill']) {\n      if (st['marker-fill-opacity'] !== undefined || st['marker-opacity'] !== undefined) {\n        ctx.globalAlpha = st['marker-fill-opacity'] || st['marker-opacity'];\n      }\n      ctx.fillRect(-pixel_size, -pixel_size, w, w)\n    }\n\n    // stroke\n    ctx.globalAlpha = 1.0;\n    if (st['marker-line-color'] && st['marker-line-width']) {\n      if (st['marker-line-opacity']) {\n        ctx.globalAlpha = st['marker-line-opacity'];\n      }\n      if (st['marker-line-width']) {\n        ctx.lineWidth = st['marker-line-width'];\n      }\n      ctx.strokeStyle = st['marker-line-color'];\n\n      // do not render for alpha = 0\n      if (ctx.globalAlpha > 0) {\n        ctx.strokeRect(-pixel_size, -pixel_size, w, w)\n      }\n    }\n  }\n\n  function renderSprite(ctx, img, st) {\n\n    if(img.complete){\n      if (st['marker-fill-opacity'] !== undefined || st['marker-opacity'] !== undefined) {\n        ctx.globalAlpha = st['marker-fill-opacity'] || st['marker-opacity'];\n      }\n      ctx.drawImage(img, 0, 0, Math.min(img.width, MAX_SPRITE_RADIUS), Math.min(img.height, MAX_SPRITE_RADIUS));\n    }\n  }\n\nmodule.exports = {\n    renderPoint: renderPoint,\n    renderSprite: renderSprite,\n    renderRectangle: renderRectangle,\n    MAX_SPRITE_RADIUS: MAX_SPRITE_RADIUS\n};\n\n},{}],23:[function(require,module,exports){\nmodule.exports = {\n    cartocss: require('./cartocss_render'),\n    Point: require('./point'),\n    Rectangle: require('./rectangle')\n};\n},{\"./cartocss_render\":22,\"./point\":24,\"./rectangle\":25}],24:[function(require,module,exports){\n(function (global){\nvar torque = require('../');\nvar cartocss = require('./cartocss_render');\nvar Profiler = require('../profiler');\nvar carto = global.carto || require('carto');\nvar Filters = require('./torque_filters');\n\n  var TAU = Math.PI * 2;\n  var DEFAULT_CARTOCSS = [\n    '#layer {',\n    '  marker-fill: #662506;',\n    '  marker-width: 4;',\n    '  [value > 1] { marker-fill: #FEE391; }',\n    '  [value > 2] { marker-fill: #FEC44F; }',\n    '  [value > 3] { marker-fill: #FE9929; }',\n    '  [value > 4] { marker-fill: #EC7014; }',\n    '  [value > 5] { marker-fill: #CC4C02; }',\n    '  [value > 6] { marker-fill: #993404; }',\n    '  [value > 7] { marker-fill: #662506; }',\n    '}'\n  ].join('\\n');\n\n  var COMP_OP_TO_CANVAS = {\n    \"src\": 'source-over',\n    \"src-over\": 'source-over',\n    \"dst-over\": 'destination-over',\n    \"src-in\": 'source-in',\n    \"dst-in\": 'destination-in',\n    \"src-out\": 'source-out',\n    \"dst-out\": 'destination-out',\n    \"src-atop\": 'source-atop',\n    \"dst-atop\": 'destination-atop',\n    \"xor\": 'xor',\n    \"darken\": 'darken',\n    \"lighten\": 'lighten'\n  }\n\n  function compop2canvas(compop) {\n    return COMP_OP_TO_CANVAS[compop] || compop;\n  }\n\n  //\n  // this renderer just render points depending of the value\n  //\n  function PointRenderer(canvas, options) {\n    if (!canvas) {\n      throw new Error(\"canvas can't be undefined\");\n    }\n    this.options = options;\n    this._canvas = canvas;\n    this._ctx = canvas.getContext('2d');\n    this._sprites = []; // sprites per layer\n    this._shader = null;\n    this._icons = {};\n    this._iconsToLoad = 0;\n    this._filters = new Filters(this._canvas, {canvasClass: options.canvasClass});\n    this.setCartoCSS(this.options.cartocss || DEFAULT_CARTOCSS);\n    this.TILE_SIZE = 256;\n    this._style = null;\n    this._gradients = {};\n    \n    this._forcePoints = false;\n  }\n\n  torque.extend(PointRenderer.prototype, torque.Event, {\n\n    clearCanvas: function() {\n      var canvas = this._canvas;\n      var color = this._Map['-torque-clear-color']\n      // shortcut for the default value\n      if (color  === \"rgba(255, 255, 255, 0)\" || !color) {\n        this._canvas.width = this._canvas.width;\n      } else {\n        var ctx = this._ctx;\n        ctx.setTransform(1, 0, 0, 1, 0, 0);\n        var compop = this._Map['comp-op']\n        ctx.globalCompositeOperation = compop2canvas(compop);\n        ctx.fillStyle = color;\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n      }\n    },\n\n    setCanvas: function(canvas) {\n      this._canvas = canvas;\n      this._ctx = canvas.getContext('2d');\n    },\n\n    //\n    // sets the cartocss style to render stuff\n    //\n    setCartoCSS: function(cartocss) {\n      // clean sprites\n      this.setShader(new carto.RendererJS().render(cartocss));\n    },\n\n    setShader: function(shader) {\n      // clean sprites\n      this._sprites = [];\n      this._shader = shader;\n      this._Map = this._shader.getDefault().getStyle({}, { zoom: 0 });\n      var img_names = this._shader.getImageURLs();\n      this._preloadIcons(img_names);\n    },\n\n    clearSpriteCache: function() {\n      this._sprites = [];\n    },\n\n\n    //\n    // generate sprite based on cartocss style\n    //\n    generateSprite: function(shader, value, shaderVars) {\n      var self = this;\n      var prof = Profiler.metric('torque.renderer.point.generateSprite').start();\n      var st = shader.getStyle({\n        value: value\n      }, shaderVars);\n      if(this._style === null || this._style !== st){\n        this._style = st;\n      }\n\n      var pointSize = st['marker-width'];\n      if (!pointSize) {\n        return null;\n      }\n\n      if (st['marker-opacity'] === 0 && !st['marker-line-opacity']) {\n        return null;\n      }\n\n      var canvas = this._createCanvas();\n      var ctx = canvas.getContext('2d');\n\n      var markerFile = st[\"marker-file\"] || st[\"point-file\"];\n      var qualifiedUrl = markerFile && this._qualifyURL(markerFile);\n\n      if (qualifiedUrl && this._iconsToLoad <= 0 && this._icons[qualifiedUrl]) {\n        var img = this._icons[qualifiedUrl];\n\n        var dWidth =  Math.min(st['marker-width'] * 2 || img.width, cartocss.MAX_SPRITE_RADIUS * 2);\n        var dHeight = Math.min((st['marker-height'] || dWidth) * (img.width / img.height), cartocss.MAX_SPRITE_RADIUS * 2);\n\n        canvas.width = ctx.width = dWidth;\n        canvas.height = ctx.height = dHeight;\n\n        ctx.scale(dWidth/img.width, dHeight/img.height);\n\n        cartocss.renderSprite(ctx, img, st);\n      } else {\n        // take into account the exterior ring to calculate the size\n        var canvasSize = (st['marker-line-width'] || 0) + pointSize*2;\n        var w = ctx.width = canvas.width = ctx.height = canvas.height = Math.ceil(canvasSize);\n        ctx.translate(w/2, w/2);\n\n        var mt = st['marker-type'];\n        if (mt && mt === 'rectangle') {\n          cartocss.renderRectangle(ctx, st);\n        } else {\n          cartocss.renderPoint(ctx, st);\n        }\n      }\n      prof.end(true);\n      if (torque.flags.sprites_to_images) {\n        var i = this._createImage();\n        i.src = canvas.toDataURL();\n        return i;\n      }\n      \n      return canvas;\n    },\n\n    //\n    // renders all the layers (and frames for each layer) from cartocss\n    //\n    renderTile: function(tile, key, callback) {\n      if (this._iconsToLoad > 0) {\n          this.on('allIconsLoaded', function() {\n              this.renderTile.apply(this, [tile, key, callback]);\n          });\n          return false;\n      }\n      var prof = Profiler.metric('torque.renderer.point.renderLayers').start();\n      var layers = this._shader.getLayers();\n      for(var i = 0, n = layers.length; i < n; ++i ) {\n        var layer = layers[i];\n        if (layer.name() !== \"Map\") {\n          var sprites = this._sprites[i] || (this._sprites[i] = {});\n          // frames for each layer\n          for(var fr = 0; fr < layer.frames().length; ++fr) {\n            var frame = layer.frames()[fr];\n            var fr_sprites = sprites[frame] || (sprites[frame] = []);\n            this._renderTile(tile, key - frame, frame, fr_sprites, layer);\n          }\n        }\n      }\n      \n      prof.end(true);\n\n      return callback && callback(null);\n    },\n\n    _createCanvas: function() {\n      return this.options.canvasClass\n        ? new this.options.canvasClass()\n        : document.createElement('canvas');\n    },\n\n    _createImage: function() {\n      return this.options.imageClass\n        ? new this.options.imageClass()\n        : new Image();\n    },\n\n    _setImageSrc: function(img, url, callback) {\n      if (this.options.setImageSrc) {\n        this.options.setImageSrc(img, url, callback);\n      } else {\n        img.onload = function(){\n            callback(null);\n        };\n        img.onerror = function(){\n            callback(new Error('Could not load image'));\n        };\n        img.src = url;\n      }\n    },\n\n    _qualifyURL: function(url) {\n      if (typeof this.options.qualifyURL !== \"undefined\"){\n        return this.options.qualifyURL(url);\n      }\n      else{\n        var a = document.createElement('a');\n        a.href = url;\n        return a.href;\n      }\n    },\n\n    //\n    // renders a tile in the canvas for key defined in \n    // the torque tile\n    //\n    _renderTile: function(tile, key, frame_offset, sprites, shader, shaderVars) {\n      if (!this._canvas) return;\n\n      var prof = Profiler.metric('torque.renderer.point.renderTile').start();\n      var ctx = this._ctx;\n      var blendMode = compop2canvas(shader.eval('comp-op')) || this.options.blendmode;\n      if (blendMode) {\n        ctx.globalCompositeOperation = blendMode;\n      }\n      if (this.options.cumulative && key > tile.maxDate) {\n        //TODO: precache because this tile is not going to change\n        key = tile.maxDate;\n      }\n      var tileMax = this.options.resolution * (this.TILE_SIZE/this.options.resolution - 1)\n      var activePixels = tile.timeCount[key];\n      var anchor = this.options.resolution/2;\n      if (activePixels) {\n        var pixelIndex = tile.timeIndex[key];\n        for(var p = 0; p < activePixels; ++p) {\n          var posIdx = tile.renderDataPos[pixelIndex + p];\n          var c = tile.renderData[pixelIndex + p];\n          if (c) {\n           var sp = sprites[c];\n           if (sp === undefined) {\n             sp = sprites[c] = this.generateSprite(shader, c, torque.extend({ zoom: tile.z, 'frame-offset': frame_offset }, shaderVars));\n           }\n           if (sp) {\n             var x = tile.x[posIdx]- (sp.width >> 1) + anchor;\n             var y = tileMax - tile.y[posIdx] + anchor; // flip mercator\n             ctx.drawImage(sp, x, y - (sp.height >> 1));\n           }\n          }\n        }\n      }\n      \n\n      prof.end(true);\n    },\n\n    setBlendMode: function(b) {\n      this.options.blendmode = b;\n    },\n\n    /**\n     * get active points for a step in active zoom\n     * returns a list of bounding boxes [[sw, ne] , [], []] where ne is a {lat: .., lon: ...} obj\n     * empty list if there is no active pixels\n     */\n    getActivePointsBBox: function(tile, step) {\n      var positions = [];\n      var mercator = new torque.Mercator();\n\n      var tileMax = this.options.resolution * (this.TILE_SIZE/this.options.resolution - 1);\n      //this.renderer.renderTile(tile, this.key, pos.x, pos.y);\n      var activePixels = tile.timeCount[step];\n      var pixelIndex = tile.timeIndex[step];\n      for(var p = 0; p < activePixels; ++p) {\n        var posIdx = tile.renderDataPos[pixelIndex + p];\n        var c = tile.renderData[pixelIndex + p];\n        if (c) {\n         var x = tile.x[posIdx];\n         var y = tileMax - tile.y[posIdx]; // flip mercator\n         positions.push(mercator.tilePixelBBox(\n           tile.coord.x,\n           tile.coord.y,\n           tile.coord.z,\n           x, y\n         ));\n        }\n      }\n      return positions;\n    },\n\n    // return the value for x, y (tile coordinates)\n    // null for no value\n    getValueFor: function(tile, step, px, py) {\n      var mercator = new torque.Mercator();\n      var res = this.options.resolution;\n      var res2 = res >> 1;\n\n      var tileMax = this.options.resolution * (this.TILE_SIZE/this.options.resolution - 1);\n      //this.renderer.renderTile(tile, this.key, pos.x, pos.y);\n      var activePixels = tile.timeCount[step];\n      var pixelIndex = tile.timeIndex[step];\n      for(var p = 0; p < activePixels; ++p) {\n        var posIdx = tile.renderDataPos[pixelIndex + p];\n        var c = tile.renderData[pixelIndex + p];\n        if (c) {\n         var x = tile.x[posIdx];\n         var y = tileMax - tile.y[posIdx];\n         var dx = px + res2 - x;\n         var dy = py + res2 - y;\n         if (dx >= 0 && dx < res && dy >= 0 && dy < res) {\n           return {\n             value: c,\n             bbox: mercator.tilePixelBBox(\n               tile.coord.x,\n               tile.coord.y,\n               tile.coord.z,\n               x - res2, y - res2, res\n             )\n           }\n         }\n        }\n      }\n      return null;\n    },\n\n    _preloadIcons: function(img_names) {\n      var self = this;\n\n      if (img_names.length > 0 && !this._forcePoints) {\n\n        var qualifiedImageUrlSet = Object.keys(img_names.reduce(function(imgNamesMap, imgName) {\n            var qualifiedUrl = self._qualifyURL(imgName);\n            if (!self._icons[qualifiedUrl]) {\n                imgNamesMap[qualifiedUrl] = true;\n            }\n            return imgNamesMap;\n        }, {}));\n\n        var filtered = self._shader.getLayers().some(function(layer) {\n          return typeof layer.shader[\"image-filters\"] !== \"undefined\";\n        });\n\n        this._iconsToLoad += qualifiedImageUrlSet.length;\n\n        qualifiedImageUrlSet.forEach(function(qualifiedImageUrl) {\n          self._icons[qualifiedImageUrl] = null;\n\n          var img = self._createImage();\n\n          if (filtered) {\n            img.crossOrigin = 'Anonymous';\n          }\n\n          self._setImageSrc(img, qualifiedImageUrl, function(err) {\n            if (err) {\n              self._forcePoints = true;\n              self.clearSpriteCache();\n              self._iconsToLoad = 0;\n              self.fire(\"allIconsLoaded\");\n              if(filtered) {\n                console.info(\"Only CORS-enabled, or same domain image-files can be used in combination with image-filters\");\n              }\n              console.error(\"Couldn't get marker-file \" + qualifiedImageUrl);\n            } else {\n              self._icons[qualifiedImageUrl] = img;\n              self._iconsToLoad--;\n\n              if (self._iconsToLoad <= 0){\n                self.clearSpriteCache();\n                self.fire(\"allIconsLoaded\");\n              }\n            }\n          });\n        });\n      } else {\n          this.fire(\"allIconsLoaded\");\n      }\n  },\n\n  applyFilters: function(){\n    if(this._style){\n      if(this._style['image-filters']){\n        function gradientKey(imf){\n          var hash = \"\"\n          for(var i = 0; i < imf.args.length; i++){\n            var rgb = imf.args[i].rgb;\n            hash += rgb[0] + \":\" + rgb[1] + \":\" + rgb[2];\n          }\n          return hash;\n        }\n        var gradient = this._gradients[gradientKey(this._style['image-filters'])];\n        if(!gradient){\n          function componentToHex(c) {\n            var hex = c.toString(16);\n            return hex.length == 1 ? \"0\" + hex : hex;\n          }\n\n          function rgbToHex(r, g, b) {\n            return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n          }\n          gradient = {};\n          var colorize = this._style['image-filters'].args;\n          \n          var increment = 1/colorize.length;\n          for (var i = 0; i < colorize.length; i++){\n            var key = increment * i + increment;\n            var rgb = colorize[i].rgb;\n            var formattedColor = rgbToHex(rgb[0], rgb[1], rgb[2]);\n            gradient[key] = formattedColor;\n          }\n          this._gradients[gradientKey(this._style['image-filters'])] = gradient;\n        }\n        this._filters.gradient(gradient);\n        this._filters.draw();\n      }\n    }\n  }\n});\n\n\n  // exports public api\nmodule.exports = PointRenderer;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../\":10,\"../profiler\":17,\"./cartocss_render\":22,\"./torque_filters\":26,\"carto\":undefined}],25:[function(require,module,exports){\n(function (global){\nvar carto = global.carto || require('carto');\n\n  var DEFAULT_CARTOCSS = [\n    '#layer {',\n    '  polygon-fill: #FFFF00;',\n    '  [value > 10] { polygon-fill: #FFFF00; }',\n    '  [value > 100] { polygon-fill: #FFCC00; }',\n    '  [value > 1000] { polygon-fill: #FE9929; }',\n    '  [value > 10000] { polygon-fill: #FF6600; }',\n    '  [value > 100000] { polygon-fill: #FF3300; }',\n    '}'\n  ].join('\\n');\n\n  var TAU = Math.PI * 2;\n\n  //\n  // this renderer just render points depending of the value\n  // \n  function RectanbleRenderer(canvas, options) {\n    this.options = options;\n    carto.tree.Reference.set(torque['torque-reference']);\n    this.setCanvas(canvas);\n    this.setCartoCSS(this.options.cartocss || DEFAULT_CARTOCSS);\n  }\n\n  RectanbleRenderer.prototype = {\n\n    //\n    // sets the cartocss style to render stuff\n    //\n    setCartoCSS: function(cartocss) {\n      this._cartoCssStyle = new carto.RendererJS().render(cartocss);\n      if(this._cartoCssStyle.getLayers().length > 1) {\n        throw new Error(\"only one CartoCSS layer is supported\");\n      }\n      this._shader = this._cartoCssStyle.getLayers()[0].shader;\n    },\n\n    setCanvas: function(canvas) {\n      if(!canvas) return;\n      this._canvas = canvas;\n      this._ctx = canvas.getContext('2d');\n    },\n\n    accumulate: function(tile, keys) {\n      var prof = Profiler.metric('RectangleRender:accumulate').start();\n      var x, y, posIdx, p, k, key, activePixels, pixelIndex;\n      var res = this.options.resolution;\n      var s = 256/res;\n      var accum = new Float32Array(s*s);\n\n      if(typeof(keys) !== 'object') {\n        keys = [keys];\n      }\n\n      for(k = 0; k < keys.length; ++k) {\n        key = keys[k];\n        activePixels = tile.timeCount[key];\n        if(activePixels) {\n          pixelIndex = tile.timeIndex[key];\n          for(p = 0; p < activePixels; ++p) {\n            posIdx = tile.renderDataPos[pixelIndex + p];\n            x = tile.x[posIdx]/res;\n            y = tile.y[posIdx]/res;\n            accum[x*s + y] += tile.renderData[pixelIndex + p];\n          }\n        }\n      }\n\n      prof.end();\n      return accum;\n    },\n\n    renderTileAccum: function(accum, px, py) {\n      var prof = Profiler.metric('RectangleRender:renderTileAccum').start();\n      var color, x, y, alpha;\n      var res = this.options.resolution;\n      var ctx = this._ctx;\n      var s = (256/res) | 0;\n      var s2 = s*s;\n      var colors = this._colors;\n      if(this.options.blendmode) {\n        ctx.globalCompositeOperation = this.options.blendmode;\n      }\n      var polygon_alpha = this._shader['polygon-opacity'] || function() { return 1.0; };\n      for(var i = 0; i < s2; ++i) {\n        var xy = i;\n        var value = accum[i];\n        if(value) {\n          x = (xy/s) | 0;\n          y = xy % s;\n          // by-pass the style generation for improving performance\n          color = this._shader['polygon-fill']({ value: value }, { zoom: 0 });\n          ctx.fillStyle = color;\n          //TODO: each function should have a default value for each \n          //property defined in the cartocss\n          alpha = polygon_alpha({ value: value }, { zoom: 0 });\n          if(alpha === null) {\n            alpha = 1.0;\n          }\n          ctx.globalAlpha = alpha;\n          ctx.fillRect(x * res, 256 - res - y * res, res, res);\n        }\n      }\n      prof.end();\n    },\n\n    //\n    // renders a tile in the canvas for key defined in \n    // the torque tile\n    //\n    renderTile: function(tile, key, callback) {\n      if(!this._canvas) return;\n\n      var res = this.options.resolution;\n\n      //var prof = Profiler.get('render').start();\n      var ctx = this._ctx;\n      var colors = this._colors;\n      var activepixels = tile.timeCount[key];\n      if(activepixels) {\n        var w = this._canvas.width;\n        var h = this._canvas.height;\n        //var imageData = ctx.getImageData(0, 0, w, h);\n        //var pixels = imageData.data;\n        var pixelIndex = tile.timeIndex[key];\n        for(var p = 0; p < activePixels; ++p) {\n          var posIdx = tile.renderDataPos[pixelIndex + p];\n          var c = tile.renderData[pixelIndex + p];\n          if(c) {\n           var color = colors[Math.min(c, colors.length - 1)];\n           var x = tile.x[posIdx];// + px;\n           var y = tile.y[posIdx]; //+ py;\n\n           ctx.fillStyle = color;\n           ctx.fillRect(x, y, res, res);\n           /*\n\n           for(var xx = 0; xx < res; ++xx) {\n            for(var yy = 0; yy < res; ++yy) {\n              var idx = 4*((x+xx) + w*(y + yy));\n              pixels[idx + 0] = color[0];\n              pixels[idx + 1] = color[1];\n              pixels[idx + 2] = color[2];\n              pixels[idx + 3] = color[3];\n            }\n           }\n           */\n          }\n        }\n        //ctx.putImageData(imageData, 0, 0);\n      }\n      //prof.end();\n      return callback && callback(null);\n    }\n  };\n\n\n  // exports public api\nmodule.exports = RectanbleRenderer;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"carto\":undefined}],26:[function(require,module,exports){\n/*\n Based on simpleheat, a tiny JavaScript library for drawing heatmaps with Canvas, \n by Vladimir Agafonkin\n https://github.com/mourner/simpleheat\n*/\n\n'use strict';\n\nfunction torque_filters(canvas, options) {\n    // jshint newcap: false, validthis: true\n    if (!(this instanceof torque_filters)) { return new torque_filters(canvas, options); }\n\n    options = options || {};\n\n    this._canvas = canvas = typeof canvas === 'string' ? document.getElementById(canvas) : canvas;\n\n    this._ctx = canvas.getContext('2d');\n    this._width = canvas.width;\n    this._height = canvas.height;\n\n    this._max = 1;\n    this._data = [];\n\n    this.canvasClass = options.canvasClass;\n}\n\ntorque_filters.prototype = {\n\n    defaultGradient: {\n        0.4: 'blue',\n        0.6: 'cyan',\n        0.7: 'lime',\n        0.8: 'yellow',\n        1.0: 'red'\n    },\n\n    gradient: function (grad) {\n        // create a 256x1 gradient that we'll use to turn a grayscale heatmap into a colored one\n        var canvas = this._createCanvas(),\n            ctx = canvas.getContext('2d'),\n            gradient = ctx.createLinearGradient(0, 0, 0, 256);\n\n        canvas.width = 1;\n        canvas.height = 256;\n\n        for (var i in grad) {\n            gradient.addColorStop(+i, grad[i]);\n        }\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, 1, 256);\n\n        this._grad = ctx.getImageData(0, 0, 1, 256).data;\n\n        return this;\n    },\n\n    draw: function () {\n        if (!this._grad) {\n            this.gradient(this.defaultGradient);\n        }\n\n        var ctx = this._ctx;\n        var colored = ctx.getImageData(0, 0, this._canvas.width, this._canvas.height);\n        this._colorize(colored.data, this._grad);\n        ctx.putImageData(colored, 0, 0);\n\n        return this;\n    },\n\n    _colorize: function (pixels, gradient) {\n        for (var i = 3, len = pixels.length, j; i < len; i += 4) {\n            j = pixels[i] * 4; // get gradient color from opacity value\n\n            if (j) {\n                pixels[i - 3] = gradient[j];\n                pixels[i - 2] = gradient[j + 1];\n                pixels[i - 1] = gradient[j + 2];\n            }\n        }\n    },\n\n    _createCanvas: function() {\n        return this.canvasClass\n            ? new this.canvasClass()\n            : document.createElement('canvas');\n    }\n};\n\nmodule.exports = torque_filters;\n\n},{}],27:[function(require,module,exports){\n(function (global){\nvar torque = require('./core');\n\n  var lastCall = null;\n\n  function jsonp(url, callback, options) {\n     options = options || {};\n     options.timeout = options.timeout === undefined ? 10000: options.timeout;\n     var head = document.getElementsByTagName('head')[0];\n     var script = document.createElement('script');\n\n     // function name\n     var fnName = options.callbackName || 'torque_' + Date.now();\n\n     if (torque.isFunction(fnName)) {\n       fnName = fnName();\n     }\n\n     function clean() {\n       head.removeChild(script);\n       clearTimeout(timeoutTimer);\n       delete window[fnName];\n     }\n\n     window[fnName] = function() {\n       clean();\n       callback.apply(window, arguments);\n     };\n\n     // timeout for errors\n     var timeoutTimer = setTimeout(function() { \n       clean();\n       callback.call(window, null); \n     }, options.timeout);\n\n     // setup url\n     url = url.replace('callback=\\?', 'callback=' + fnName);\n     script.type = 'text/javascript';\n     script.src = url;\n     script.async = true;\n     // defer the loading because IE9 loads in the same frame the script\n     // so Loader._script is null\n     setTimeout(function() { head.appendChild(script); }, 0);\n  }\n\n  function get(url, callback, options) {\n    options = options || {\n      method: 'GET',\n      data: null,\n      responseType: 'text'\n    };\n    lastCall = { url: url, callback: callback };\n    var request = XMLHttpRequest;\n    // from d3.js\n    if (global.XDomainRequest\n        && !(\"withCredentials\" in request)\n        && /^(http(s)?:)?\\/\\//.test(url)) request = XDomainRequest;\n\n    var req = new request();\n    req.open(options.method, url, true);\n\n\n    function respond() {\n      var status = req.status, result;\n      var r = options.responseType === 'arraybuffer' ? req.response: req.responseText;\n      if (!status && r || status >= 200 && status < 300 || status === 304) {\n        callback(req);\n      } else {\n        callback(null);\n      }\n    }\n\n    \"onload\" in req\n      ? req.onload = req.onerror = respond\n      : req.onreadystatechange = function() { req.readyState > 3 && respond(); };\n\n    req.onprogress = function() {};\n\n    req.responseType = options.responseType; //'arraybuffer';\n    if (options.data) {\n      req.setRequestHeader(\"Content-type\", \"application/json\");\n      //req.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\")\n      req.setRequestHeader(\"Accept\", \"*\");\n    }\n    req.send(options.data);\n    return req;\n  }\n\n  function post(url, data, callback) {\n    return get(url, callback, {\n      data: data,\n      method: \"POST\"\n    });\n  }\n\nmodule.exports = {\n    get: get,\n    post: post,\n    jsonp: jsonp,\n    lastCall: function() { return lastCall; }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./core\":4}]},{},[10])(10)\n});\n(function() {\n\nif(typeof(google) == \"undefined\" || typeof(google.maps) == \"undefined\")\n  return;\n\nvar GMapsTorqueLayerView = function(layerModel, gmapsMap) {\n\n  var extra = layerModel.get('extra_params');\n  cdb.geo.GMapsLayerView.call(this, layerModel, this, gmapsMap);\n\n  var query = this._getQuery(layerModel);\n  torque.GMapsTorqueLayer.call(this, {\n      table: layerModel.get('table_name'),\n      user: layerModel.get('user_name'),\n      column: layerModel.get('property'),\n      blendmode: layerModel.get('torque-blend-mode'),\n      resolution: 1,\n      //TODO: manage time columns\n      countby: 'count(cartodb_id)',\n      sql_api_domain: layerModel.get('sql_api_domain'),\n      sql_api_protocol: layerModel.get('sql_api_protocol'),\n      sql_api_port: layerModel.get('sql_api_port'),\n      tiler_protocol: layerModel.get('tiler_protocol'),\n      tiler_domain: layerModel.get('tiler_domain'),\n      tiler_port: layerModel.get('tiler_port'),\n      maps_api_template: layerModel.get('maps_api_template'),\n      stat_tag: layerModel.get('stat_tag'),\n      animationDuration: layerModel.get('torque-duration'),\n      steps: layerModel.get('torque-steps'),\n      sql: query,\n      visible: layerModel.get('visible'),\n      extra_params: {\n        api_key: extra ? extra.map_key: ''\n      },\n      map: gmapsMap,\n      cartodb_logo: layerModel.get('cartodb_logo'),\n      attribution: layerModel.get('attribution'),\n      cartocss: layerModel.get('cartocss') || layerModel.get('tile_style'),\n      named_map: layerModel.get('named_map'),\n      auth_token: layerModel.get('auth_token'),\n      no_cdn: layerModel.get('no_cdn'),\n      loop: layerModel.get('loop') === false? false: true,\n  });\n\n  //this.setCartoCSS(this.model.get('tile_style'));\n  if (layerModel.get('visible')) {\n    this.play();\n  }\n\n};\n\n_.extend(\n  GMapsTorqueLayerView.prototype,\n  cdb.geo.GMapsLayerView.prototype,\n  torque.GMapsTorqueLayer.prototype,\n  {\n\n  _update: function() {\n    var changed = this.model.changedAttributes();\n    if(changed === false) return;\n    changed.tile_style && this.setCartoCSS(this.model.get('tile_style'));\n    if ('query' in changed || 'query_wrapper' in changed) {\n      this.setSQL(this._getQuery(this.model));\n    }\n    if ('visible' in changed) \n      this.model.get('visible') ? this.show(): this.hide();\n  },\n\n  _getQuery: function(layerModel) {\n    var query = layerModel.get('query');\n    var qw = layerModel.get('query_wrapper');\n    if(qw) {\n      query = _.template(qw)({ sql: query || ('select * from ' + layerModel.get('table_name')) });\n    }\n    return query;\n  },\n\n  refreshView: function() {\n    //TODO: update screen\n  },\n\n  onAdd: function() {\n    torque.GMapsTorqueLayer.prototype.onAdd.apply(this);\n    // Add CartoDB logo\n    if (this.options.cartodb_logo != false)\n      cdb.geo.common.CartoDBLogo.addWadus({ left: 74, bottom:8 }, 2000, this.map.getDiv())\n  },\n\n  onTilesLoaded: function() {\n    //this.trigger('load');\n    Backbone.Events.trigger.call(this, 'load');\n  },\n\n  onTilesLoading: function() {\n    Backbone.Events.trigger.call(this, 'loading');\n  }\n\n});\n\n\ncdb.geo.GMapsTorqueLayerView = GMapsTorqueLayerView;\n\n\n})();\n\n(function() {\n\nif(typeof(L) === \"undefined\") \n  return;\n\n/**\n * leaflet torque layer\n */\nvar LeafLetTorqueLayer = L.TorqueLayer.extend({\n\n  initialize: function(layerModel, leafletMap) {\n    var extra = layerModel.get('extra_params');\n\n    var query = this._getQuery(layerModel);\n\n    // initialize the base layers\n    L.TorqueLayer.prototype.initialize.call(this, {\n      table: layerModel.get('table_name'),\n      user: layerModel.get('user_name'),\n      column: layerModel.get('property'),\n      blendmode: layerModel.get('torque-blend-mode'),\n      resolution: 1,\n      //TODO: manage time columns\n      countby: 'count(cartodb_id)',\n      sql_api_domain: layerModel.get('sql_api_domain'),\n      sql_api_protocol: layerModel.get('sql_api_protocol'),\n      sql_api_port: layerModel.get('sql_api_port'),\n      tiler_protocol: layerModel.get('tiler_protocol'),\n      tiler_domain: layerModel.get('tiler_domain'),\n      tiler_port: layerModel.get('tiler_port'),\n      maps_api_template: layerModel.get('maps_api_template'),\n      stat_tag: layerModel.get('stat_tag'),\n      animationDuration: layerModel.get('torque-duration'),\n      steps: layerModel.get('torque-steps'),\n      sql: query,\n      visible: layerModel.get('visible'),\n      extra_params: {\n        api_key: extra ? extra.map_key: ''\n      },\n      cartodb_logo: layerModel.get('cartodb_logo'),\n      attribution: layerModel.get('attribution'),\n      cartocss: layerModel.get('cartocss') || layerModel.get('tile_style'),\n      named_map: layerModel.get('named_map'),\n      auth_token: layerModel.get('auth_token'),\n      no_cdn: layerModel.get('no_cdn'),\n      dynamic_cdn: layerModel.get('dynamic_cdn'),\n      loop: layerModel.get('loop') === false? false: true,\n      instanciateCallback: function() {\n        var cartocss = layerModel.get('cartocss') || layerModel.get('tile_style');\n\n        return '_cdbct_' + cdb.core.util.uniqueCallbackName(cartocss + query);\n      }\n    });\n\n    cdb.geo.LeafLetLayerView.call(this, layerModel, this, leafletMap);\n\n    // match leaflet events with backbone events\n    this.fire = this.trigger;\n\n    //this.setCartoCSS(layerModel.get('tile_style'));\n    if (layerModel.get('visible')) {\n      this.play();\n    }\n\n    this.bind('tilesLoaded', function() {\n      this.trigger('load');\n    }, this);\n\n    this.bind('tilesLoading', function() {\n      this.trigger('loading');\n    }, this);\n\n  },\n\n  onAdd: function(map) {\n    L.TorqueLayer.prototype.onAdd.apply(this, [map]);\n    // Add CartoDB logo\n    if (this.options.cartodb_logo != false)\n      cdb.geo.common.CartoDBLogo.addWadus({ left:8, bottom:8 }, 0, map._container)\n  },\n\n  _getQuery: function(layerModel) {\n    var query = layerModel.get('query');\n    var qw = layerModel.get('query_wrapper');\n    if(qw) {\n      query = _.template(qw)({ sql: query || ('select * from ' + layerModel.get('table_name')) });\n    }\n    return query;\n  },\n\n  _modelUpdated: function(model) {\n    var changed = this.model.changedAttributes();\n    if(changed === false) return;\n    changed.tile_style && this.setCartoCSS(this.model.get('tile_style'));\n    if ('query' in changed || 'query_wrapper' in changed) {\n      this.setSQL(this._getQuery(this.model));\n    }\n\n    if ('visible' in changed) \n      this.model.get('visible') ? this.show(): this.hide();\n\n  }\n});\n\n_.extend(LeafLetTorqueLayer.prototype, cdb.geo.LeafLetLayerView.prototype);\n\ncdb.geo.LeafLetTorqueLayer = LeafLetTorqueLayer;\n\n})();\ncdb.geo.ui.TimeSlider = cdb.geo.ui.InfoBox.extend({\n\n  DEFAULT_OFFSET_TOP: 30,\n  className: 'cartodb-timeslider',\n\n  defaultTemplate:\n    \" <ul> \" +\n    \"   <li class='controls'><a href='#/stop' class='button stop'>pause</a></li>\" +\n    \"   <li class='time'><p class='value'></p></li>\" +\n    \"   <li class='last'><div class='slider-wrapper'><div class='slider'></div></div></li>\" +\n    \" </ul> \"\n  ,\n\n  events: {\n    \"click .button\":  \"toggleTime\",\n    \"click .time\":    \"_onClickTime\",\n    \"dragstart\":      \"_stopPropagation\",\n    \"mousedown\":      \"_stopPropagation\",\n    \"touchstart\":     \"_stopPropagation\",\n    \"MSPointerDown\":  \"_stopPropagation\",\n    \"dblclick\":       \"_stopPropagation\",\n    \"mousewheel\":     \"_stopPropagation\",\n    \"DOMMouseScroll\": \"_stopPropagation\",\n    \"click\":          \"_stopPropagation\"\n  },\n\n  initialize: function() {\n    _.bindAll(this, '_stop', '_start', '_slide', '_bindLayer', '_unbindLayer', 'updateSliderRange', 'updateSlider', 'updateTime', 'toggleTime', 'toggleButton');\n    var self = this;\n    this.options.template = this.options.template || this.defaultTemplate;\n    this.options.position = 'bottom|left';\n    this.options.width = null;\n\n    // Control variable to know if the layer was\n    // running before touching the slider\n    this.wasRunning = false;\n\n    this._bindLayer(this.options.layer);\n\n    this.on('clean', this._unbindLayer);\n    cdb.geo.ui.InfoBox.prototype.initialize.call(this);\n\n  },\n\n  setLayer: function(layer) {\n    this._unbindLayer();\n    this._bindLayer(layer);\n    this._initSlider();\n  },\n\n  _bindLayer: function(layer) {\n    this.torqueLayer = layer;\n    this.torqueLayer.on('change:time', this.updateSlider);\n    this.torqueLayer.on('change:time', this.updateTime);\n    this.torqueLayer.on('change:steps', this.updateSliderRange);\n    this.torqueLayer.on('play', this.toggleButton);\n    this.torqueLayer.on('pause', this.toggleButton);\n    return this;\n  },\n\n  _unbindLayer: function() {\n    this.torqueLayer.off('change:time', this.updateSlider);\n    this.torqueLayer.off('change:time', this.updateTime);\n    this.torqueLayer.off('change:steps', this.updateSliderRange);\n    return this;\n  },\n\n  updateSlider: function(changes) {\n    this.$(\".slider\" ).slider({ value: changes.step });\n  },\n\n  updateSliderRange: function(changes) {\n    if (changes.steps > 1){\n      this.show();\n      this.$(\".slider\" ).slider({ max: changes.steps - 1 });\n    }\n    else{\n      this.hide();\n    }\n  },\n\n  // each time time changes, move the slider\n  updateTime: function(changes) {\n    var self = this;\n    var tb = self.torqueLayer.getTimeBounds();\n    if (!tb) return;\n    if (tb.columnType === 'date' || this.options.force_format_date) {\n      if (tb && tb.start !== undefined) {\n        var f = self.options.formatter || this.formatterForRange(tb.start, tb.end);\n        // avoid showing invalid dates\n        if (!_.isNaN(changes.time.getYear())) {\n          self.$('.value').text(f(changes.time, this.torqueLayer));\n        }\n      }\n    } else {\n        self.$('.value').text(changes.step);\n    }\n  },\n\n  formatter: function(_) {\n    this.options.formatter = _;\n  },\n\n  formatterForRange: function(start, end) {\n    start = start.getTime ? start : new Date(start);\n    end = end.getTime ? end : new Date(end);\n    var range = (end.getTime() - start.getTime()) / 1000;\n    var ONE_DAY = 3600*24;\n    var THREE_DAYS = ONE_DAY*3;\n    var ONE_YEAR = ONE_DAY * 31 * 12;\n    if(this.torqueLayer.options){\n      var stepDurationMS = (end.getTime() - start.getTime()) / this.torqueLayer.options.steps;\n    }\n\n    function pad(n) {\n      return n < 10 ? '0' + n : n;\n    }\n\n    function toUSDateStr(date) {\n      return pad(date.getMonth() + 1) + \"/\" + pad(date.getDate()) + \"/\" + pad(date.getFullYear());\n    }\n\n    function toTimeStr(date) {\n      return pad(date.getHours()) + \":\" + pad(date.getMinutes());\n    }\n\n    function toDateRange(date, torqueLayer) {\n      var stepStartTimeMS = date.getTime();\n      var tb = torqueLayer.getTimeBounds();\n      var stepDurationMS = (new Date(tb.end).getTime() - new Date(tb.start).getTime()) / torqueLayer.options.steps;\n      var stepEndTime = new Date(stepStartTimeMS + stepDurationMS);\n      var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n      return pad(months[date.getMonth()]) + \" \" + pad(date.getDate())  + \" - \" \n        + pad(months[stepEndTime.getMonth()]) + \" \" + pad(stepEndTime.getDate());\n    }\n\n    \n\n    if (range < THREE_DAYS) {\n      if (start.getDate() === end.getDate()) {\n        return toTimeStr;\n      } else {\n        // range is less than a day, but the range spans more than one day so render the date in addition to the time\n        return function(date) {\n          return toUSDateStr(date) +' '+ toTimeStr(date);\n        };\n      }\n    }\n\n    if (range < ONE_YEAR) {\n      if (stepDurationMS > ONE_DAY * 2000){ // More than 48 hours\n        return toDateRange;\n      }\n      return toUSDateStr;\n    }\n\n    // >= ONE_YEAR\n    return function(date) {\n      return pad(date.getMonth() + 1) + \"/\" + pad(date.getFullYear());\n    };\n  },\n\n  _slide: function(e, ui) {\n    this.killEvent(e);\n    var step = ui.value;\n    this.torqueLayer.setStep(step);\n  },\n\n  _start: function(e, ui) {\n    if(this.torqueLayer.isRunning()) {\n      this.wasRunning = true;\n      this.toggleTime();\n    }\n  },\n\n  _stop: function(e, ui) {\n    if (this.wasRunning) {\n      this.toggleTime()\n    }\n\n    this.wasRunning = false;\n  },\n\n  _initSlider: function() {\n    var torqueLayer = this.torqueLayer;\n    var slider = this.$(\".slider\");\n    slider.slider({\n      range: 'min',\n      min: 0,\n      max: this.torqueLayer.options.steps,\n      value: 0,\n      step: 1, //\n      value: this.torqueLayer.getStep(),\n      stop: this._stop,\n      start: this._start,\n      slide: this._slide\n    });\n    if(torqueLayer.provider){\n      this.updateSliderRange({\"steps\": torqueLayer.provider.getSteps()});\n    }\n  },\n\n  toggleTime: function(e) {\n    this.killEvent(e);\n    this.torqueLayer.toggle();\n  },\n  toggleButton: function() {\n    this.$('.button')\n      [(this.torqueLayer.isRunning() ? 'addClass': 'removeClass')]('stop')\n      .attr('href','#/' + (this.torqueLayer.isRunning() ? 'pause': 'play'))\n      .html(this.torqueLayer.isRunning() ? 'pause': 'play');\n  },\n\n  enable: function() {},\n\n  _stopPropagation: function(ev) {\n    ev.stopPropagation();\n  },\n\n   _onClickTime: function() {\n    this.trigger(\"time_clicked\", this);\n  },\n\n  render: function() {\n    cdb.geo.ui.InfoBox.prototype.render.apply(this, arguments);\n    this._initSlider();\n    return this;\n  }\n\n});\n\n/*!\n * jQuery UI 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI\n */\n(function( $, undefined ) {\n\n// prevent duplicate loading\n// this is only a problem because we proxy existing functions\n// and we don't want to double proxy them\n$.ui = $.ui || {};\nif ( $.ui.version ) {\n\treturn;\n}\n\n$.extend( $.ui, {\n\tversion: \"1.8.23\",\n\n\tkeyCode: {\n\t\tALT: 18,\n\t\tBACKSPACE: 8,\n\t\tCAPS_LOCK: 20,\n\t\tCOMMA: 188,\n\t\tCOMMAND: 91,\n\t\tCOMMAND_LEFT: 91, // COMMAND\n\t\tCOMMAND_RIGHT: 93,\n\t\tCONTROL: 17,\n\t\tDELETE: 46,\n\t\tDOWN: 40,\n\t\tEND: 35,\n\t\tENTER: 13,\n\t\tESCAPE: 27,\n\t\tHOME: 36,\n\t\tINSERT: 45,\n\t\tLEFT: 37,\n\t\tMENU: 93, // COMMAND_RIGHT\n\t\tNUMPAD_ADD: 107,\n\t\tNUMPAD_DECIMAL: 110,\n\t\tNUMPAD_DIVIDE: 111,\n\t\tNUMPAD_ENTER: 108,\n\t\tNUMPAD_MULTIPLY: 106,\n\t\tNUMPAD_SUBTRACT: 109,\n\t\tPAGE_DOWN: 34,\n\t\tPAGE_UP: 33,\n\t\tPERIOD: 190,\n\t\tRIGHT: 39,\n\t\tSHIFT: 16,\n\t\tSPACE: 32,\n\t\tTAB: 9,\n\t\tUP: 38,\n\t\tWINDOWS: 91 // COMMAND\n\t}\n});\n\n// plugins\n$.fn.extend({\n\tpropAttr: $.fn.prop || $.fn.attr,\n\n\t_focus: $.fn.focus,\n\tfocus: function( delay, fn ) {\n\t\treturn typeof delay === \"number\" ?\n\t\t\tthis.each(function() {\n\t\t\t\tvar elem = this;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$( elem ).focus();\n\t\t\t\t\tif ( fn ) {\n\t\t\t\t\t\tfn.call( elem );\n\t\t\t\t\t}\n\t\t\t\t}, delay );\n\t\t\t}) :\n\t\t\tthis._focus.apply( this, arguments );\n\t},\n\n\tscrollParent: function() {\n\t\tvar scrollParent;\n\t\tif (($.browser.msie && (/(static|relative)/).test(this.css('position'))) || (/absolute/).test(this.css('position'))) {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(relative|absolute|fixed)/).test($.curCSS(this,'position',1)) && (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));\n\t\t\t}).eq(0);\n\t\t} else {\n\t\t\tscrollParent = this.parents().filter(function() {\n\t\t\t\treturn (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));\n\t\t\t}).eq(0);\n\t\t}\n\n\t\treturn (/fixed/).test(this.css('position')) || !scrollParent.length ? $(document) : scrollParent;\n\t},\n\n\tzIndex: function( zIndex ) {\n\t\tif ( zIndex !== undefined ) {\n\t\t\treturn this.css( \"zIndex\", zIndex );\n\t\t}\n\n\t\tif ( this.length ) {\n\t\t\tvar elem = $( this[ 0 ] ), position, value;\n\t\t\twhile ( elem.length && elem[ 0 ] !== document ) {\n\t\t\t\t// Ignore z-index if position is set to a value where z-index is ignored by the browser\n\t\t\t\t// This makes behavior of this function consistent across browsers\n\t\t\t\t// WebKit always returns auto if the element is positioned\n\t\t\t\tposition = elem.css( \"position\" );\n\t\t\t\tif ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n\t\t\t\t\t// IE returns 0 when zIndex is not specified\n\t\t\t\t\t// other browsers return a string\n\t\t\t\t\t// we ignore the case of nested elements with an explicit value of 0\n\t\t\t\t\t// <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n\t\t\t\t\tvalue = parseInt( elem.css( \"zIndex\" ), 10 );\n\t\t\t\t\tif ( !isNaN( value ) && value !== 0 ) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telem = elem.parent();\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t},\n\n\tdisableSelection: function() {\n\t\treturn this.bind( ( $.support.selectstart ? \"selectstart\" : \"mousedown\" ) +\n\t\t\t\".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t},\n\n\tenableSelection: function() {\n\t\treturn this.unbind( \".ui-disableSelection\" );\n\t}\n});\n\n// support: jQuery <1.8\nif ( !$( \"<a>\" ).outerWidth( 1 ).jquery ) {\n\t$.each( [ \"Width\", \"Height\" ], function( i, name ) {\n\t\tvar side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n\t\t\ttype = name.toLowerCase(),\n\t\t\torig = {\n\t\t\t\tinnerWidth: $.fn.innerWidth,\n\t\t\t\tinnerHeight: $.fn.innerHeight,\n\t\t\t\touterWidth: $.fn.outerWidth,\n\t\t\t\touterHeight: $.fn.outerHeight\n\t\t\t};\n\n\t\tfunction reduce( elem, size, border, margin ) {\n\t\t\t$.each( side, function() {\n\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"padding\" + this, true) ) || 0;\n\t\t\t\tif ( border ) {\n\t\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"border\" + this + \"Width\", true) ) || 0;\n\t\t\t\t}\n\t\t\t\tif ( margin ) {\n\t\t\t\t\tsize -= parseFloat( $.curCSS( elem, \"margin\" + this, true) ) || 0;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn size;\n\t\t}\n\n\t\t$.fn[ \"inner\" + name ] = function( size ) {\n\t\t\tif ( size === undefined ) {\n\t\t\t\treturn orig[ \"inner\" + name ].call( this );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this ).css( type, reduce( this, size ) + \"px\" );\n\t\t\t});\n\t\t};\n\n\t\t$.fn[ \"outer\" + name] = function( size, margin ) {\n\t\t\tif ( typeof size !== \"number\" ) {\n\t\t\t\treturn orig[ \"outer\" + name ].call( this, size );\n\t\t\t}\n\n\t\t\treturn this.each(function() {\n\t\t\t\t$( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n\t\t\t});\n\t\t};\n\t});\n}\n\n// selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n\tvar nodeName = element.nodeName.toLowerCase();\n\tif ( \"area\" === nodeName ) {\n\t\tvar map = element.parentNode,\n\t\t\tmapName = map.name,\n\t\t\timg;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap=#\" + mapName + \"]\" )[0];\n\t\treturn !!img && visible( img );\n\t}\n\treturn ( /input|select|textarea|button|object/.test( nodeName )\n\t\t? !element.disabled\n\t\t: \"a\" == nodeName\n\t\t\t? element.href || isTabIndexNotNaN\n\t\t\t: isTabIndexNotNaN)\n\t\t// the element and all of its ancestors must be visible\n\t\t&& visible( element );\n}\n\nfunction visible( element ) {\n\treturn !$( element ).parents().andSelf().filter(function() {\n\t\treturn $.curCSS( this, \"visibility\" ) === \"hidden\" ||\n\t\t\t$.expr.filters.hidden( this );\n\t}).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo(function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t}) :\n\t\t// support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t},\n\n\tfocusable: function( element ) {\n\t\treturn focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n\t},\n\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\tisTabIndexNaN = isNaN( tabIndex );\n\t\treturn ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n\t}\n});\n\n// support\n$(function() {\n\tvar body = document.body,\n\t\tdiv = body.appendChild( div = document.createElement( \"div\" ) );\n\n\t// access offsetHeight before setting the style to prevent a layout bug\n\t// in IE 9 which causes the elemnt to continue to take up space even\n\t// after it is removed from the DOM (#8026)\n\tdiv.offsetHeight;\n\n\t$.extend( div.style, {\n\t\tminHeight: \"100px\",\n\t\theight: \"auto\",\n\t\tpadding: 0,\n\t\tborderWidth: 0\n\t});\n\n\t$.support.minHeight = div.offsetHeight === 100;\n\t$.support.selectstart = \"onselectstart\" in div;\n\n\t// set display to none to avoid a layout bug in IE\n\t// http://dev.jquery.com/ticket/4014\n\tbody.removeChild( div ).style.display = \"none\";\n});\n\n// jQuery <1.4.3 uses curCSS, in 1.4.3 - 1.7.2 curCSS = css, 1.8+ only has css\nif ( !$.curCSS ) {\n\t$.curCSS = $.css;\n}\n\n\n\n\n\n// deprecated\n$.extend( $.ui, {\n\t// $.ui.plugin is deprecated.  Use the proxy pattern instead.\n\tplugin: {\n\t\tadd: function( module, option, set ) {\n\t\t\tvar proto = $.ui[ module ].prototype;\n\t\t\tfor ( var i in set ) {\n\t\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t\t}\n\t\t},\n\t\tcall: function( instance, name, args ) {\n\t\t\tvar set = instance.plugins[ name ];\n\t\t\tif ( !set || !instance.element[ 0 ].parentNode ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0; i < set.length; i++ ) {\n\t\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t\n\t// will be deprecated when we switch to jQuery 1.4 - use jQuery.contains()\n\tcontains: function( a, b ) {\n\t\treturn document.compareDocumentPosition ?\n\t\t\ta.compareDocumentPosition( b ) & 16 :\n\t\t\ta !== b && a.contains( b );\n\t},\n\t\n\t// only used by resizable\n\thasScroll: function( el, a ) {\n\t\n\t\t//If overflow is hidden, the element might have extra content, but the user wants to hide it\n\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\") {\n\t\t\treturn false;\n\t\t}\n\t\n\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\n\t\t\thas = false;\n\t\n\t\tif ( el[ scroll ] > 0 ) {\n\t\t\treturn true;\n\t\t}\n\t\n\t\t// TODO: determine which cases actually cause this to happen\n\t\t// if the element doesn't have the scroll set, see if it's possible to\n\t\t// set the scroll\n\t\tel[ scroll ] = 1;\n\t\thas = ( el[ scroll ] > 0 );\n\t\tel[ scroll ] = 0;\n\t\treturn has;\n\t},\n\t\n\t// these are odd functions, fix the API or move into individual plugins\n\tisOverAxis: function( x, reference, size ) {\n\t\t//Determines when x coordinate is over \"b\" element axis\n\t\treturn ( x > reference ) && ( x < ( reference + size ) );\n\t},\n\tisOver: function( y, x, top, left, height, width ) {\n\t\t//Determines when x, y coordinates is over \"b\" element\n\t\treturn $.ui.isOverAxis( y, top, height ) && $.ui.isOverAxis( x, left, width );\n\t}\n});\n\n})( jQuery );\n/*!\n * jQuery UI Widget 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Widget\n */\n(function( $, undefined ) {\n\n// jQuery 1.4+\nif ( $.cleanData ) {\n\tvar _cleanData = $.cleanData;\n\t$.cleanData = function( elems ) {\n\t\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\t\ttry {\n\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t} catch( e ) {}\n\t\t}\n\t\t_cleanData( elems );\n\t};\n} else {\n\tvar _remove = $.fn.remove;\n\t$.fn.remove = function( selector, keepData ) {\n\t\treturn this.each(function() {\n\t\t\tif ( !keepData ) {\n\t\t\t\tif ( !selector || $.filter( selector, [ this ] ).length ) {\n\t\t\t\t\t$( \"*\", this ).add( [ this ] ).each(function() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t$( this ).triggerHandler( \"remove\" );\n\t\t\t\t\t\t// http://bugs.jquery.com/ticket/8235\n\t\t\t\t\t\t} catch( e ) {}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _remove.call( $(this), selector, keepData );\n\t\t});\n\t};\n}\n\n$.widget = function( name, base, prototype ) {\n\tvar namespace = name.split( \".\" )[ 0 ],\n\t\tfullName;\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName ] = function( elem ) {\n\t\treturn !!$.data( elem, name );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\t$[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without initializing for simple inheritance\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\tvar basePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n//\t$.each( basePrototype, function( key, val ) {\n//\t\tif ( $.isPlainObject(val) ) {\n//\t\t\tbasePrototype[ key ] = $.extend( {}, val );\n//\t\t}\n//\t});\n\tbasePrototype.options = $.extend( true, {}, basePrototype.options );\n\t$[ namespace ][ name ].prototype = $.extend( true, basePrototype, {\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetEventPrefix: $[ namespace ][ name ].prototype.widgetEventPrefix || name,\n\t\twidgetBaseClass: fullName\n\t}, prototype );\n\n\t$.widget.bridge( name, $[ namespace ][ name ] );\n};\n\n$.widget.bridge = function( name, object ) {\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = Array.prototype.slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.extend.apply( null, [ true, options ].concat(args) ) :\n\t\t\toptions;\n\n\t\t// prevent calls to internal methods\n\t\tif ( isMethodCall && options.charAt( 0 ) === \"_\" ) {\n\t\t\treturn returnValue;\n\t\t}\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name ),\n\t\t\t\t\tmethodValue = instance && $.isFunction( instance[options] ) ?\n\t\t\t\t\t\tinstance[ options ].apply( instance, args ) :\n\t\t\t\t\t\tinstance;\n\t\t\t\t// TODO: add this back in 1.9 and use $.error() (see #5972)\n//\t\t\t\tif ( !instance ) {\n//\t\t\t\t\tthrow \"cannot call methods on \" + name + \" prior to initialization; \" +\n//\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\";\n//\t\t\t\t}\n//\t\t\t\tif ( !$.isFunction( instance[options] ) ) {\n//\t\t\t\t\tthrow \"no such method '\" + options + \"' for \" + name + \" widget instance\";\n//\t\t\t\t}\n//\t\t\t\tvar methodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, name );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, name, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( options, element ) {\n\t// allow instantiation without initializing for simple inheritance\n\tif ( arguments.length ) {\n\t\tthis._createWidget( options, element );\n\t}\n};\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\toptions: {\n\t\tdisabled: false\n\t},\n\t_createWidget: function( options, element ) {\n\t\t// $.widget.bridge stores the plugin instance, but we do it anyway\n\t\t// so that it's stored even before the _create function runs\n\t\t$.data( element, this.widgetName, this );\n\t\tthis.element = $( element );\n\t\tthis.options = $.extend( true, {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tvar self = this;\n\t\tthis.element.bind( \"remove.\" + this.widgetName, function() {\n\t\t\tself.destroy();\n\t\t});\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\" );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: function() {\n\t\treturn $.metadata && $.metadata.get( this.element[0] )[ this.widgetName ];\n\t},\n\t_create: function() {},\n\t_init: function() {},\n\n\tdestroy: function() {\n\t\tthis.element\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeData( this.widgetName );\n\t\tthis.widget()\n\t\t\t.unbind( \".\" + this.widgetName )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetBaseClass + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\t},\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.extend( {}, this.options );\n\t\t}\n\n\t\tif  (typeof key === \"string\" ) {\n\t\t\tif ( value === undefined ) {\n\t\t\t\treturn this.options[ key ];\n\t\t\t}\n\t\t\toptions = {};\n\t\t\toptions[ key ] = value;\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar self = this;\n\t\t$.each( options, function( key, value ) {\n\t\t\tself._setOption( key, value );\n\t\t});\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t[ value ? \"addClass\" : \"removeClass\"](\n\t\t\t\t\tthis.widgetBaseClass + \"-disabled\" + \" \" +\n\t\t\t\t\t\"ui-state-disabled\" )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOption( \"disabled\", false );\n\t},\n\tdisable: function() {\n\t\treturn this._setOption( \"disabled\", true );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\n\t\treturn !( $.isFunction(callback) &&\n\t\t\tcallback.call( this.element[0], event, data ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n})( jQuery );\n/*!\n * jQuery UI Mouse 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Mouse\n *\n * Depends:\n *\tjquery.ui.widget.js\n */\n(function( $, undefined ) {\n\nvar mouseHandled = false;\n$( document ).mouseup( function( e ) {\n\tmouseHandled = false;\n});\n\n$.widget(\"ui.mouse\", {\n\toptions: {\n\t\tcancel: ':input,option',\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar self = this;\n\n\t\tthis.element\n\t\t\t.bind('mousedown.'+this.widgetName, function(event) {\n\t\t\t\treturn self._mouseDown(event);\n\t\t\t})\n\t\t\t.bind('click.'+this.widgetName, function(event) {\n\t\t\t\tif (true === $.data(event.target, self.widgetName + '.preventClickEvent')) {\n\t\t\t\t    $.removeData(event.target, self.widgetName + '.preventClickEvent');\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.unbind('.'+this.widgetName);\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\t$(document)\n\t\t\t\t.unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t\t.unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\t\t}\n\t},\n\n\t_mouseDown: function(event) {\n\t\t// don't let more than one widget handle mouseStart\n\t\tif( mouseHandled ) { return };\n\n\t\t// we may have missed mouseup (out of window)\n\t\t(this._mouseStarted && this._mouseUp(event));\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar self = this,\n\t\t\tbtnIsLeft = (event.which == 1),\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = (typeof this.options.cancel == \"string\" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);\n\t\tif (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif (!this.mouseDelayMet) {\n\t\t\tthis._mouseDelayTimer = setTimeout(function() {\n\t\t\t\tself.mouseDelayMet = true;\n\t\t\t}, this.options.delay);\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted = (this._mouseStart(event) !== false);\n\t\t\tif (!this._mouseStarted) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif (true === $.data(event.target, this.widgetName + '.preventClickEvent')) {\n\t\t\t$.removeData(event.target, this.widgetName + '.preventClickEvent');\n\t\t}\n\n\t\t// these delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function(event) {\n\t\t\treturn self._mouseMove(event);\n\t\t};\n\t\tthis._mouseUpDelegate = function(event) {\n\t\t\treturn self._mouseUp(event);\n\t\t};\n\t\t$(document)\n\t\t\t.bind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.bind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tevent.preventDefault();\n\t\t\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function(event) {\n\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\tif ($.browser.msie && !(document.documentMode >= 9) && !event.button) {\n\t\t\treturn this._mouseUp(event);\n\t\t}\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseDrag(event);\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t(this._mouseStart(this._mouseDownEvent, event) !== false);\n\t\t\t(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function(event) {\n\t\t$(document)\n\t\t\t.unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)\n\t\t\t.unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);\n\n\t\tif (this._mouseStarted) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif (event.target == this._mouseDownEvent.target) {\n\t\t\t    $.data(event.target, this.widgetName + '.preventClickEvent', true);\n\t\t\t}\n\n\t\t\tthis._mouseStop(event);\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseDistanceMet: function(event) {\n\t\treturn (Math.max(\n\t\t\t\tMath.abs(this._mouseDownEvent.pageX - event.pageX),\n\t\t\t\tMath.abs(this._mouseDownEvent.pageY - event.pageY)\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function(event) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function(event) {},\n\t_mouseDrag: function(event) {},\n\t_mouseStop: function(event) {},\n\t_mouseCapture: function(event) { return true; }\n});\n\n})(jQuery);\n/*\n * jQuery UI Touch Punch 0.2.2\n *\n * Copyright 2011, Dave Furfero\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * Depends:\n *  jquery.ui.widget.js\n *  jquery.ui.mouse.js\n */\n(function(b){b.support.touch=\"ontouchend\" in document;if(!b.support.touch){return;}var c=b.ui.mouse.prototype,e=c._mouseInit,a;function d(g,h){if(g.originalEvent.touches.length>1){return;}g.preventDefault();var i=g.originalEvent.changedTouches[0],f=document.createEvent(\"MouseEvents\");f.initMouseEvent(h,true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);g.target.dispatchEvent(f);}c._touchStart=function(g){var f=this;if(a||!f._mouseCapture(g.originalEvent.changedTouches[0])){return;}a=true;f._touchMoved=false;d(g,\"mouseover\");d(g,\"mousemove\");d(g,\"mousedown\");};c._touchMove=function(f){if(!a){return;}this._touchMoved=true;d(f,\"mousemove\");};c._touchEnd=function(f){if(!a){return;}d(f,\"mouseup\");d(f,\"mouseout\");if(!this._touchMoved){d(f,\"click\");}a=false;};c._mouseInit=function(){var f=this;f.element.bind(\"touchstart\",b.proxy(f,\"_touchStart\")).bind(\"touchmove\",b.proxy(f,\"_touchMove\")).bind(\"touchend\",b.proxy(f,\"_touchEnd\"));e.call(f);};})(jQuery);\n\n/*!\n * jQuery UI Slider 1.8.23\n *\n * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * http://docs.jquery.com/UI/Slider\n *\n * Depends:\n *\tjquery.ui.core.js\n *\tjquery.ui.mouse.js\n *\tjquery.ui.widget.js\n */\n(function( $, undefined ) {\n\n// number of pages in a slider\n// (how many times can you page up/down to go through the whole range)\nvar numPages = 5;\n\n$.widget( \"ui.slider\", $.ui.mouse, {\n\n\twidgetEventPrefix: \"slide\",\n\n\toptions: {\n\t\tanimate: false,\n\t\tdistance: 0,\n\t\tmax: 100,\n\t\tmin: 0,\n\t\torientation: \"horizontal\",\n\t\trange: false,\n\t\tstep: 1,\n\t\tvalue: 0,\n\t\tvalues: null\n\t},\n\n\t_create: function() {\n\t\tvar self = this,\n\t\t\to = this.options,\n\t\t\texistingHandles = this.element.find( \".ui-slider-handle\" ).addClass( \"ui-state-default ui-corner-all\" ),\n\t\t\thandle = \"<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>\",\n\t\t\thandleCount = ( o.values && o.values.length ) || 1,\n\t\t\thandles = [];\n\n\t\tthis._keySliding = false;\n\t\tthis._mouseSliding = false;\n\t\tthis._animateOff = true;\n\t\tthis._handleIndex = null;\n\t\tthis._detectOrientation();\n\t\tthis._mouseInit();\n\n\t\tthis.element\n\t\t\t.addClass( \"ui-slider\" +\n\t\t\t\t\" ui-slider-\" + this.orientation +\n\t\t\t\t\" ui-widget\" +\n\t\t\t\t\" ui-widget-content\" +\n\t\t\t\t\" ui-corner-all\" +\n\t\t\t\t( o.disabled ? \" ui-slider-disabled ui-disabled\" : \"\" ) );\n\n\t\tthis.range = $([]);\n\n\t\tif ( o.range ) {\n\t\t\tif ( o.range === true ) {\n\t\t\t\tif ( !o.values ) {\n\t\t\t\t\to.values = [ this._valueMin(), this._valueMin() ];\n\t\t\t\t}\n\t\t\t\tif ( o.values.length && o.values.length !== 2 ) {\n\t\t\t\t\to.values = [ o.values[0], o.values[0] ];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.range = $( \"<div></div>\" )\n\t\t\t\t.appendTo( this.element )\n\t\t\t\t.addClass( \"ui-slider-range\" +\n\t\t\t\t// note: this isn't the most fittingly semantic framework class for this element,\n\t\t\t\t// but worked best visually with a variety of themes\n\t\t\t\t\" ui-widget-header\" +\n\t\t\t\t( ( o.range === \"min\" || o.range === \"max\" ) ? \" ui-slider-range-\" + o.range : \"\" ) );\n\t\t}\n\n\t\tfor ( var i = existingHandles.length; i < handleCount; i += 1 ) {\n\t\t\thandles.push( handle );\n\t\t}\n\n\t\tthis.handles = existingHandles.add( $( handles.join( \"\" ) ).appendTo( self.element ) );\n\n\t\tthis.handle = this.handles.eq( 0 );\n\n\t\tthis.handles.add( this.range ).filter( \"a\" )\n\t\t\t.click(function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t})\n\t\t\t.hover(function() {\n\t\t\t\tif ( !o.disabled ) {\n\t\t\t\t\t$( this ).addClass( \"ui-state-hover\" );\n\t\t\t\t}\n\t\t\t}, function() {\n\t\t\t\t$( this ).removeClass( \"ui-state-hover\" );\n\t\t\t})\n\t\t\t.focus(function() {\n\t\t\t\tif ( !o.disabled ) {\n\t\t\t\t\t$( \".ui-slider .ui-state-focus\" ).removeClass( \"ui-state-focus\" );\n\t\t\t\t\t$( this ).addClass( \"ui-state-focus\" );\n\t\t\t\t} else {\n\t\t\t\t\t$( this ).blur();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.blur(function() {\n\t\t\t\t$( this ).removeClass( \"ui-state-focus\" );\n\t\t\t});\n\n\t\tthis.handles.each(function( i ) {\n\t\t\t$( this ).data( \"index.ui-slider-handle\", i );\n\t\t});\n\n\t\tthis.handles\n\t\t\t.keydown(function( event ) {\n\t\t\t\tvar index = $( this ).data( \"index.ui-slider-handle\" ),\n\t\t\t\t\tallowed,\n\t\t\t\t\tcurVal,\n\t\t\t\t\tnewVal,\n\t\t\t\t\tstep;\n\n\t\t\t\tif ( self.options.disabled ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\t\tcase $.ui.keyCode.END:\n\t\t\t\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\t\t\tcase $.ui.keyCode.UP:\n\t\t\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tif ( !self._keySliding ) {\n\t\t\t\t\t\t\tself._keySliding = true;\n\t\t\t\t\t\t\t$( this ).addClass( \"ui-state-active\" );\n\t\t\t\t\t\t\tallowed = self._start( event, index );\n\t\t\t\t\t\t\tif ( allowed === false ) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tstep = self.options.step;\n\t\t\t\tif ( self.options.values && self.options.values.length ) {\n\t\t\t\t\tcurVal = newVal = self.values( index );\n\t\t\t\t} else {\n\t\t\t\t\tcurVal = newVal = self.value();\n\t\t\t\t}\n\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\t\tcase $.ui.keyCode.HOME:\n\t\t\t\t\t\tnewVal = self._valueMin();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.END:\n\t\t\t\t\t\tnewVal = self._valueMax();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal + ( (self._valueMax() - self._valueMin()) / numPages ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal - ( (self._valueMax() - self._valueMin()) / numPages ) );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.UP:\n\t\t\t\t\tcase $.ui.keyCode.RIGHT:\n\t\t\t\t\t\tif ( curVal === self._valueMax() ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal + step );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase $.ui.keyCode.DOWN:\n\t\t\t\t\tcase $.ui.keyCode.LEFT:\n\t\t\t\t\t\tif ( curVal === self._valueMin() ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewVal = self._trimAlignValue( curVal - step );\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tself._slide( event, index, newVal );\n\t\t\t})\n\t\t\t.keyup(function( event ) {\n\t\t\t\tvar index = $( this ).data( \"index.ui-slider-handle\" );\n\n\t\t\t\tif ( self._keySliding ) {\n\t\t\t\t\tself._keySliding = false;\n\t\t\t\t\tself._stop( event, index );\n\t\t\t\t\tself._change( event, index );\n\t\t\t\t\t$( this ).removeClass( \"ui-state-active\" );\n\t\t\t\t}\n\n\t\t\t});\n\n\t\tthis._refreshValue();\n\n\t\tthis._animateOff = false;\n\t},\n\n\tdestroy: function() {\n\t\tthis.handles.remove();\n\t\tthis.range.remove();\n\n\t\tthis.element\n\t\t\t.removeClass( \"ui-slider\" +\n\t\t\t\t\" ui-slider-horizontal\" +\n\t\t\t\t\" ui-slider-vertical\" +\n\t\t\t\t\" ui-slider-disabled\" +\n\t\t\t\t\" ui-widget\" +\n\t\t\t\t\" ui-widget-content\" +\n\t\t\t\t\" ui-corner-all\" )\n\t\t\t.removeData( \"slider\" )\n\t\t\t.unbind( \".slider\" );\n\n\t\tthis._mouseDestroy();\n\n\t\treturn this;\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options,\n\t\t\tposition,\n\t\t\tnormValue,\n\t\t\tdistance,\n\t\t\tclosestHandle,\n\t\t\tself,\n\t\t\tindex,\n\t\t\tallowed,\n\t\t\toffset,\n\t\t\tmouseOverHandle;\n\n\t\tif ( o.disabled ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.elementSize = {\n\t\t\twidth: this.element.outerWidth(),\n\t\t\theight: this.element.outerHeight()\n\t\t};\n\t\tthis.elementOffset = this.element.offset();\n\n\t\tposition = { x: event.pageX, y: event.pageY };\n\t\tnormValue = this._normValueFromMouse( position );\n\t\tdistance = this._valueMax() - this._valueMin() + 1;\n\t\tself = this;\n\t\tthis.handles.each(function( i ) {\n\t\t\tvar thisDistance = Math.abs( normValue - self.values(i) );\n\t\t\tif ( distance > thisDistance ) {\n\t\t\t\tdistance = thisDistance;\n\t\t\t\tclosestHandle = $( this );\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t});\n\n\t\t// workaround for bug #3736 (if both handles of a range are at 0,\n\t\t// the first is always used as the one with least distance,\n\t\t// and moving it is obviously prevented by preventing negative ranges)\n\t\tif( o.range === true && this.values(1) === o.min ) {\n\t\t\tindex += 1;\n\t\t\tclosestHandle = $( this.handles[index] );\n\t\t}\n\n\t\tallowed = this._start( event, index );\n\t\tif ( allowed === false ) {\n\t\t\treturn false;\n\t\t}\n\t\tthis._mouseSliding = true;\n\n\t\tself._handleIndex = index;\n\n\t\tclosestHandle\n\t\t\t.addClass( \"ui-state-active\" )\n\t\t\t.focus();\n\n\t\toffset = closestHandle.offset();\n\t\tmouseOverHandle = !$( event.target ).parents().andSelf().is( \".ui-slider-handle\" );\n\t\tthis._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {\n\t\t\tleft: event.pageX - offset.left - ( closestHandle.width() / 2 ),\n\t\t\ttop: event.pageY - offset.top -\n\t\t\t\t( closestHandle.height() / 2 ) -\n\t\t\t\t( parseInt( closestHandle.css(\"borderTopWidth\"), 10 ) || 0 ) -\n\t\t\t\t( parseInt( closestHandle.css(\"borderBottomWidth\"), 10 ) || 0) +\n\t\t\t\t( parseInt( closestHandle.css(\"marginTop\"), 10 ) || 0)\n\t\t};\n\n\t\tif ( !this.handles.hasClass( \"ui-state-hover\" ) ) {\n\t\t\tthis._slide( event, index, normValue );\n\t\t}\n\t\tthis._animateOff = true;\n\t\treturn true;\n\t},\n\n\t_mouseStart: function( event ) {\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function( event ) {\n\t\tvar position = { x: event.pageX, y: event.pageY },\n\t\t\tnormValue = this._normValueFromMouse( position );\n\n\t\tthis._slide( event, this._handleIndex, normValue );\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\t\tthis.handles.removeClass( \"ui-state-active\" );\n\t\tthis._mouseSliding = false;\n\n\t\tthis._stop( event, this._handleIndex );\n\t\tthis._change( event, this._handleIndex );\n\n\t\tthis._handleIndex = null;\n\t\tthis._clickOffset = null;\n\t\tthis._animateOff = false;\n\n\t\treturn false;\n\t},\n\n\t_detectOrientation: function() {\n\t\tthis.orientation = ( this.options.orientation === \"vertical\" ) ? \"vertical\" : \"horizontal\";\n\t},\n\n\t_normValueFromMouse: function( position ) {\n\t\tvar pixelTotal,\n\t\t\tpixelMouse,\n\t\t\tpercentMouse,\n\t\t\tvalueTotal,\n\t\t\tvalueMouse;\n\n\t\tif ( this.orientation === \"horizontal\" ) {\n\t\t\tpixelTotal = this.elementSize.width;\n\t\t\tpixelMouse = position.x - this.elementOffset.left - ( this._clickOffset ? this._clickOffset.left : 0 );\n\t\t} else {\n\t\t\tpixelTotal = this.elementSize.height;\n\t\t\tpixelMouse = position.y - this.elementOffset.top - ( this._clickOffset ? this._clickOffset.top : 0 );\n\t\t}\n\n\t\tpercentMouse = ( pixelMouse / pixelTotal );\n\t\tif ( percentMouse > 1 ) {\n\t\t\tpercentMouse = 1;\n\t\t}\n\t\tif ( percentMouse < 0 ) {\n\t\t\tpercentMouse = 0;\n\t\t}\n\t\tif ( this.orientation === \"vertical\" ) {\n\t\t\tpercentMouse = 1 - percentMouse;\n\t\t}\n\n\t\tvalueTotal = this._valueMax() - this._valueMin();\n\t\tvalueMouse = this._valueMin() + percentMouse * valueTotal;\n\n\t\treturn this._trimAlignValue( valueMouse );\n\t},\n\n\t_start: function( event, index ) {\n\t\tvar uiHash = {\n\t\t\thandle: this.handles[ index ],\n\t\t\tvalue: this.value()\n\t\t};\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tuiHash.value = this.values( index );\n\t\t\tuiHash.values = this.values();\n\t\t}\n\t\treturn this._trigger( \"start\", event, uiHash );\n\t},\n\n\t_slide: function( event, index, newVal ) {\n\t\tvar otherVal,\n\t\t\tnewValues,\n\t\t\tallowed;\n\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\totherVal = this.values( index ? 0 : 1 );\n\n\t\t\tif ( ( this.options.values.length === 2 && this.options.range === true ) &&\n\t\t\t\t\t( ( index === 0 && newVal > otherVal) || ( index === 1 && newVal < otherVal ) )\n\t\t\t\t) {\n\t\t\t\tnewVal = otherVal;\n\t\t\t}\n\n\t\t\tif ( newVal !== this.values( index ) ) {\n\t\t\t\tnewValues = this.values();\n\t\t\t\tnewValues[ index ] = newVal;\n\t\t\t\t// A slide can be canceled by returning false from the slide callback\n\t\t\t\tallowed = this._trigger( \"slide\", event, {\n\t\t\t\t\thandle: this.handles[ index ],\n\t\t\t\t\tvalue: newVal,\n\t\t\t\t\tvalues: newValues\n\t\t\t\t} );\n\t\t\t\totherVal = this.values( index ? 0 : 1 );\n\t\t\t\tif ( allowed !== false ) {\n\t\t\t\t\tthis.values( index, newVal, true );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ( newVal !== this.value() ) {\n\t\t\t\t// A slide can be canceled by returning false from the slide callback\n\t\t\t\tallowed = this._trigger( \"slide\", event, {\n\t\t\t\t\thandle: this.handles[ index ],\n\t\t\t\t\tvalue: newVal\n\t\t\t\t} );\n\t\t\t\tif ( allowed !== false ) {\n\t\t\t\t\tthis.value( newVal );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_stop: function( event, index ) {\n\t\tvar uiHash = {\n\t\t\thandle: this.handles[ index ],\n\t\t\tvalue: this.value()\n\t\t};\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tuiHash.value = this.values( index );\n\t\t\tuiHash.values = this.values();\n\t\t}\n\n\t\tthis._trigger( \"stop\", event, uiHash );\n\t},\n\n\t_change: function( event, index ) {\n\t\tif ( !this._keySliding && !this._mouseSliding ) {\n\t\t\tvar uiHash = {\n\t\t\t\thandle: this.handles[ index ],\n\t\t\t\tvalue: this.value()\n\t\t\t};\n\t\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\t\tuiHash.value = this.values( index );\n\t\t\t\tuiHash.values = this.values();\n\t\t\t}\n\n\t\t\tthis._trigger( \"change\", event, uiHash );\n\t\t}\n\t},\n\n\tvalue: function( newValue ) {\n\t\tif ( arguments.length ) {\n\t\t\tthis.options.value = this._trimAlignValue( newValue );\n\t\t\tthis._refreshValue();\n\t\t\tthis._change( null, 0 );\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._value();\n\t},\n\n\tvalues: function( index, newValue ) {\n\t\tvar vals,\n\t\t\tnewValues,\n\t\t\ti;\n\n\t\tif ( arguments.length > 1 ) {\n\t\t\tthis.options.values[ index ] = this._trimAlignValue( newValue );\n\t\t\tthis._refreshValue();\n\t\t\tthis._change( null, index );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( arguments.length ) {\n\t\t\tif ( $.isArray( arguments[ 0 ] ) ) {\n\t\t\t\tvals = this.options.values;\n\t\t\t\tnewValues = arguments[ 0 ];\n\t\t\t\tfor ( i = 0; i < vals.length; i += 1 ) {\n\t\t\t\t\tvals[ i ] = this._trimAlignValue( newValues[ i ] );\n\t\t\t\t\tthis._change( null, i );\n\t\t\t\t}\n\t\t\t\tthis._refreshValue();\n\t\t\t} else {\n\t\t\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\t\t\treturn this._values( index );\n\t\t\t\t} else {\n\t\t\t\t\treturn this.value();\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\treturn this._values();\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar i,\n\t\t\tvalsLength = 0;\n\n\t\tif ( $.isArray( this.options.values ) ) {\n\t\t\tvalsLength = this.options.values.length;\n\t\t}\n\n\t\t$.Widget.prototype._setOption.apply( this, arguments );\n\n\t\tswitch ( key ) {\n\t\t\tcase \"disabled\":\n\t\t\t\tif ( value ) {\n\t\t\t\t\tthis.handles.filter( \".ui-state-focus\" ).blur();\n\t\t\t\t\tthis.handles.removeClass( \"ui-state-hover\" );\n\t\t\t\t\tthis.handles.propAttr( \"disabled\", true );\n\t\t\t\t\tthis.element.addClass( \"ui-disabled\" );\n\t\t\t\t} else {\n\t\t\t\t\tthis.handles.propAttr( \"disabled\", false );\n\t\t\t\t\tthis.element.removeClass( \"ui-disabled\" );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"orientation\":\n\t\t\t\tthis._detectOrientation();\n\t\t\t\tthis.element\n\t\t\t\t\t.removeClass( \"ui-slider-horizontal ui-slider-vertical\" )\n\t\t\t\t\t.addClass( \"ui-slider-\" + this.orientation );\n\t\t\t\tthis._refreshValue();\n\t\t\t\tbreak;\n\t\t\tcase \"value\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refreshValue();\n\t\t\t\tthis._change( null, 0 );\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t\tcase \"values\":\n\t\t\t\tthis._animateOff = true;\n\t\t\t\tthis._refreshValue();\n\t\t\t\tfor ( i = 0; i < valsLength; i += 1 ) {\n\t\t\t\t\tthis._change( null, i );\n\t\t\t\t}\n\t\t\t\tthis._animateOff = false;\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\t//internal value getter\n\t// _value() returns value trimmed by min and max, aligned by step\n\t_value: function() {\n\t\tvar val = this.options.value;\n\t\tval = this._trimAlignValue( val );\n\n\t\treturn val;\n\t},\n\n\t//internal values getter\n\t// _values() returns array of values trimmed by min and max, aligned by step\n\t// _values( index ) returns single value trimmed by min and max, aligned by step\n\t_values: function( index ) {\n\t\tvar val,\n\t\t\tvals,\n\t\t\ti;\n\n\t\tif ( arguments.length ) {\n\t\t\tval = this.options.values[ index ];\n\t\t\tval = this._trimAlignValue( val );\n\n\t\t\treturn val;\n\t\t} else {\n\t\t\t// .slice() creates a copy of the array\n\t\t\t// this copy gets trimmed by min and max and then returned\n\t\t\tvals = this.options.values.slice();\n\t\t\tfor ( i = 0; i < vals.length; i+= 1) {\n\t\t\t\tvals[ i ] = this._trimAlignValue( vals[ i ] );\n\t\t\t}\n\n\t\t\treturn vals;\n\t\t}\n\t},\n\n\t// returns the step-aligned value that val is closest to, between (inclusive) min and max\n\t_trimAlignValue: function( val ) {\n\t\tif ( val <= this._valueMin() ) {\n\t\t\treturn this._valueMin();\n\t\t}\n\t\tif ( val >= this._valueMax() ) {\n\t\t\treturn this._valueMax();\n\t\t}\n\t\tvar step = ( this.options.step > 0 ) ? this.options.step : 1,\n\t\t\tvalModStep = (val - this._valueMin()) % step,\n\t\t\talignValue = val - valModStep;\n\n\t\tif ( Math.abs(valModStep) * 2 >= step ) {\n\t\t\talignValue += ( valModStep > 0 ) ? step : ( -step );\n\t\t}\n\n\t\t// Since JavaScript has problems with large floats, round\n\t\t// the final value to 5 digits after the decimal point (see #4124)\n\t\treturn parseFloat( alignValue.toFixed(5) );\n\t},\n\n\t_valueMin: function() {\n\t\treturn this.options.min;\n\t},\n\n\t_valueMax: function() {\n\t\treturn this.options.max;\n\t},\n\n\t_refreshValue: function() {\n\t\tvar oRange = this.options.range,\n\t\t\to = this.options,\n\t\t\tself = this,\n\t\t\tanimate = ( !this._animateOff ) ? o.animate : false,\n\t\t\tvalPercent,\n\t\t\t_set = {},\n\t\t\tlastValPercent,\n\t\t\tvalue,\n\t\t\tvalueMin,\n\t\t\tvalueMax;\n\n\t\tif ( this.options.values && this.options.values.length ) {\n\t\t\tthis.handles.each(function( i, j ) {\n\t\t\t\tvalPercent = ( self.values(i) - self._valueMin() ) / ( self._valueMax() - self._valueMin() ) * 100;\n\t\t\t\t_set[ self.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\n\t\t\t\t$( this ).stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\n\t\t\t\tif ( self.options.range === true ) {\n\t\t\t\t\tif ( self.orientation === \"horizontal\" ) {\n\t\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t\tself.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { left: valPercent + \"%\" }, o.animate );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( i === 1 ) {\n\t\t\t\t\t\t\tself.range[ animate ? \"animate\" : \"css\" ]( { width: ( valPercent - lastValPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( i === 0 ) {\n\t\t\t\t\t\t\tself.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { bottom: ( valPercent ) + \"%\" }, o.animate );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( i === 1 ) {\n\t\t\t\t\t\t\tself.range[ animate ? \"animate\" : \"css\" ]( { height: ( valPercent - lastValPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlastValPercent = valPercent;\n\t\t\t});\n\t\t} else {\n\t\t\tvalue = this.value();\n\t\t\tvalueMin = this._valueMin();\n\t\t\tvalueMax = this._valueMax();\n\t\t\tvalPercent = ( valueMax !== valueMin ) ?\n\t\t\t\t\t( value - valueMin ) / ( valueMax - valueMin ) * 100 :\n\t\t\t\t\t0;\n\t\t\t_set[ self.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\n\t\t\tthis.handle.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\n\n\t\t\tif ( oRange === \"min\" && this.orientation === \"horizontal\" ) {\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { width: valPercent + \"%\" }, o.animate );\n\t\t\t}\n\t\t\tif ( oRange === \"max\" && this.orientation === \"horizontal\" ) {\n\t\t\t\tthis.range[ animate ? \"animate\" : \"css\" ]( { width: ( 100 - valPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t}\n\t\t\tif ( oRange === \"min\" && this.orientation === \"vertical\" ) {\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( { height: valPercent + \"%\" }, o.animate );\n\t\t\t}\n\t\t\tif ( oRange === \"max\" && this.orientation === \"vertical\" ) {\n\t\t\t\tthis.range[ animate ? \"animate\" : \"css\" ]( { height: ( 100 - valPercent ) + \"%\" }, { queue: false, duration: o.animate } );\n\t\t\t}\n\t\t}\n\t}\n\n});\n\n$.extend( $.ui.slider, {\n\tversion: \"1.8.23\"\n});\n\n}(jQuery));\n\ncartodb.moduleLoad('torque', torque);\n\nProfiler = cartodb.core.Profiler\n\n","cdb.common = {};\ncdb.admin = {};\ncdb.admin.dashboard = {};\ncdb.forms = {};\ncdb.open = {};\ncdb.dashboard = {};\n\ncdb.config.setUrlVersion = function(modelName, method, v) {\n  cdb.config.set(modelName + '_' + method + '_url_version', v || 'v1');\n}\n\ncdb.config.urlVersion = function(modelName, method, defaultVersion) {\n  method = method || ''\n  var version = cdb.config.get(modelName + \"_\" + method + '_url_version')\n  return version || defaultVersion || 'v1';\n}\n\n// return prefixUrl for all the queries to the rest api\ncdb.config.prefixUrl = function() {\n  return this.get('url_prefix') || '';\n};\n\n// if the prefixUrl is like http://host.com/u/o returns\n// /u/o part\ncdb.config.prefixUrlPathname = function() {\n  var prefix = this.prefixUrl();\n  if (prefix !== '') {\n    try {\n      if (prefix && prefix.indexOf('/') === -1) throw new TypeError('invalid URL');\n      var a = document.createElement('a');\n      a.href = prefix;\n      var url = a.pathname;\n      // remove trailing slash\n      return url.replace(/\\/$/, '');\n    } catch(e) {\n      // not an url\n    }\n  }\n  return prefix;\n};\n\n/**\n *  returns the maps API resource name, removing protocol.\n *  {user}.carto.com:3333 || carto.com:3333/{user} || ...\n */\ncdb.config.getMapsResourceName = function(username) {\n  var url;\n  var mapsApiTemplate = this.get('maps_api_template');\n  if (mapsApiTemplate) {\n    url = mapsApiTemplate.replace(/(http|https)?:\\/\\//, '').replace(/{user}/g, username);\n  }\n  return url;\n}\n","cdb.config.set('assets_url', '/assets/4.7.15');\nconsole.log('cartodbui v4.7.15');"]}